(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43794,(e,t,r)=>{!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=i(t,a));return t}(a)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}if(t.exports)n.default=n,t.exports=n;else if("function"==typeof define&&"object"==typeof define.amd&&define.amd)void 0!==n&&e.v(n);else window.classNames=n}()},55838,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},3793,44118,74547,83445,17751,12598,42059,5929,86996,e=>{"use strict";let t,r,n,i,a,o,s,l,c,u;var d,p,h,m,f,g,y,v,b,w,x,C,k,S,E,j,A,P,N=e.i(43476),R=e.i(71645);e.i(51185);var T=e.i(45453),I=e.i(26899),_=e.i(9191),D=e.i(67034),L=e.i(34421),O=e.i(72903),M=async(e,t,r,n)=>{let i=`${r}${e}`;return(await fetch(i,{method:"post",headers:{"Content-type":"application/json; charset=utf-8",token:n,format:"json"},body:JSON.stringify(t)})).json()},B=(e,t)=>async(r,n)=>M(r,n,e,t),{toHex:z,toArray:H}=L.Utils,F="1BAPSuaPnfGnSBM3GLV9yhxUdYe4vGbdMT",K=z(H(F)),U="15PciHG22SNLQJXMoSUaWVi7WSqc7hCfva",W=(z(H(U)),"https://api.sigmaidentity.com/v1"),$="m/424150'/0'/0'",V="m/424150'/2147483647'/2147483647'",G={getRandomBytes(e=32){if("undefined"!=typeof globalThis&&globalThis.crypto&&globalThis.crypto.getRandomValues){let t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}throw Error("Secure random number generation not available. crypto.getRandomValues() is required for cryptographic operations. This environment may not be suitable for secure key generation.")},getRandomString(e=32){return Array.from(this.getRandomBytes(e),e=>e.toString(16).padStart(2,"0")).join("")},getSigningPathFromHex(e,t=!0){let r="m",n=e.match(/.{1,8}/g);if(!n)throw Error("Invalid hex string");for(let e of n){let n=Number(`0x${e}`);n>0x7fffffff&&(n-=0x7fffffff),r+=`/${n}${t?"'":""}`}return r},getNextIdentityPath(e){let t=e.split("/"),r=t[t.length-2],n=!1;r.match("'")&&(n=!0);let i=(Number(r.replace(/[^0-9]/g,""))+1).toString();return t[t.length-2]=i+(n?"'":""),t[t.length-1]=`0${n?"'":""}`,t.join("/")},getNextPath(e){let t=e.split("/"),r=t[t.length-1],n=!1;r.match("'")&&(n=!0);let i=(Number(r.replace(/[^0-9]/g,""))+1).toString();return t[t.length-1]=i+(n?"'":""),t.join("/")}},{toArray:q,toUTF8:Q,toBase64:J}=L.Utils,{electrumDecrypt:Y,electrumEncrypt:Z}=T.ECIES;class X{identityAttributes={};encrypt(e,t){let{privKey:r,pubKey:n}=this.getEncryptionKey(),i=t?L.PublicKey.fromString(t):n;return J(Z(q(e),i,r))}decrypt(e,t){let{privKey:r}=this.getEncryptionKey(),n;return t&&(n=L.PublicKey.fromString(t)),Q(Y(q(e,"base64"),r,n))}signOpReturnWithAIP(e,t){let r=this.getAIPMessageBuffer(e),{address:n,signature:i}=this.signMessage(r.flat(),t);return this.formatAIPOutput(r,n,i)}getAttributes(){return this.identityAttributes}getAttribute(e){return this.identityAttributes[e]?this.identityAttributes[e]:null}setAttribute(e,t){t&&(this.identityAttributes[e]?this.updateExistingAttribute(e,t):this.createNewAttribute(e,t))}unsetAttribute(e){delete this.identityAttributes[e]}addAttribute(e,t,r=""){let n=r;r||(n=G.getRandomString()),this.identityAttributes[e]={value:t,nonce:n}}getAttributeUrns(){let e="";for(let t in this.identityAttributes){let r=this.getAttributeUrn(t);r&&(e+=`${r}
`)}return e}getAttributeUrn(e){let t=this.identityAttributes[e];return t?`urn:bap:id:${e}:${t.value}:${t.nonce}`:null}parseStringUrns(e){let t={};for(let r of e.replace(/^\s+/g,"").replace(/\r/gm,"").split(`
`)){let e=r.replace(/^\s+/g,"").replace(/\s+$/g,"").split(":");"urn"===e[0]&&"bap"===e[1]&&"id"===e[2]&&e[3]&&e[4]&&e[5]&&(t[e[3]]={value:e[4],nonce:e[5]})}return t}parseAttributes(e){if("string"==typeof e)return this.parseStringUrns(e);for(let t in e)if(!e[t].value||!e[t].nonce)throw Error("Invalid identity attribute");return e||{}}updateExistingAttribute(e,t){if("string"==typeof t){this.identityAttributes[e].value=t;return}this.identityAttributes[e].value=t.value||"",t.nonce&&(this.identityAttributes[e].nonce=t.nonce)}createNewAttribute(e,t){"string"==typeof t?this.addAttribute(e,t):this.addAttribute(e,t.value||"",t.nonce)}getAIPMessageBuffer(e,t){let r=e.findIndex(e=>e[0]===O.OP.OP_RETURN),n=[];if(-1===r&&(n.push([O.OP.OP_RETURN]),r=0),t)for(let i of t)n.push(e[r+i]);else for(let t of e)n.push(t);return n}formatAIPOutput(e,t,r){return[...e,q("|"),q(U),q("BITCOIN_ECDSA"),q(t),q(r,"base64")]}}var{magicHash:ee}=T.BSM;class et extends X{key;idName;description;address;identityKey;constructor(e,t={}){super(),this.key=e,this.address=e.toAddress(),this.idName="Member ID 1",this.description="",this.identityKey="",this.identityAttributes=this.parseAttributes(t)}signMessage(e,t){let r=this.key,n=r.toAddress(),i=T.BSM.sign(e,r,"raw"),a=new L.BigNumber(ee(e)),o=i.CalculateRecoveryFactor(r.toPublicKey(),a);return{address:n,signature:T.BSM.sign(e,r,"raw").toCompact(o,!0,"base64")}}signOpReturnWithAIP(e){let t=this.getAIPMessageBuffer(e),{address:r,signature:n}=this.signMessage(t.flat());return this.formatAIPOutput(t,r,n)}getPublicKey(){return this.key.toPublicKey().toString()}import(e){this.idName=e.name,this.description=e.description,this.key=L.PrivateKey.fromWif(e.derivedPrivateKey),this.address=this.key.toAddress(),this.identityAttributes=e.identityAttributes||{},this.identityKey=e.identityKey}static fromMemberIdentity(e){let t=new et(L.PrivateKey.fromWif(e.derivedPrivateKey));return t.import(e),t}static fromBackup(e){let t=new et(L.PrivateKey.fromWif(e.wif)),r=JSON.parse(t.decrypt(e.id));return t.import(r),t}export(){return{name:this.idName,description:this.description,derivedPrivateKey:this.key.toWif(),address:this.address,identityAttributes:this.getAttributes(),identityKey:this.identityKey}}getEncryptionKey(){return{privKey:this.key.deriveChild(this.key.toPublicKey(),V),pubKey:this.key.deriveChild(this.key.toPublicKey(),V).toPublicKey()}}getEncryptionPublicKey(){let{pubKey:e}=this.getEncryptionKey();return e.toString()}exportForBackup(e){let t=this.export(),r=this.encrypt(JSON.stringify(t));return{wif:this.key.toWif(),id:r,...e&&{label:e},createdAt:new Date().toISOString()}}}var{toArray:er,toHex:en,toBase58:ei,toUTF8:ea,toBase64:eo}=L.Utils,{electrumDecrypt:es,electrumEncrypt:el}=T.ECIES,{magicHash:ec}=T.BSM;class eu extends X{#e;#t;#r;#n=W;#i="";#a;#o;#s;#l;idName;description;rootAddress;identityKey;identityAttributes;getApiData;constructor(e,t={},r=""){if(super(),e instanceof T.HD)if(this.#r=!1,r){let t=en(L.Hash.sha256(r,"utf8")),n=G.getSigningPathFromHex(t);this.#e=e.derive(n)}else this.#e=e;else if(this.#r=!0,this.#t=e.rootPk,r){let e=en(L.Hash.sha256(r,"utf8"));this.#t=this.#t.deriveChild(this.#t.toPublicKey(),e)}if(this.#l=r,this.idName="ID 1",this.description="",this.#a=`${$}/0/0/0`,this.#o=`${$}/0/0/0`,this.#s=`${$}/0/0/1`,this.#r){if(!this.#t)throw Error("Master private key not initialized");let e=this.#t.deriveChild(this.#t.toPublicKey(),this.#a);this.rootAddress=e.toPublicKey().toAddress()}else{if(!this.#e)throw Error("HD private key not initialized");let e=this.#e.derive(this.#a);this.rootAddress=e.privKey.toPublicKey().toAddress()}this.identityKey=this.deriveIdentityKey(this.rootAddress);let n={...t};this.identityAttributes=this.parseAttributes(n),this.getApiData=B(this.#n,this.#i)}set BAP_SERVER(e){this.#n=e}get BAP_SERVER(){return this.#n}set BAP_TOKEN(e){this.#i=e}get BAP_TOKEN(){return this.#i}deriveIdentityKey(e){let t=en(L.Hash.sha256(e,"utf8"));return ei(L.Hash.ripemd160(t,"hex"))}parseAttributes(e){if("string"==typeof e)return this.parseStringUrns(e);for(let t in e)if(!e[t].value||!e[t].nonce)throw Error("Invalid identity attribute");return e||{}}parseStringUrns(e){let t={};for(let r of e.replace(/^\s+/g,"").replace(/\r/gm,"").split(`
`)){let e=r.replace(/^\s+/g,"").replace(/\s+$/g,"").split(":");"urn"===e[0]&&"bap"===e[1]&&"id"===e[2]&&e[3]&&e[4]&&e[5]&&(t[e[3]]={value:e[4],nonce:e[5]})}return t}getIdentityKey(){return this.identityKey}set rootPath(e){if(this.#r){if(this.#a=e,!this.#t)throw Error("Master private key not initialized");let t=this.#t.deriveChild(this.#t.toPublicKey(),e);this.rootAddress=t.toPublicKey().toAddress(),this.#o=e,this.#s=e}else{let t=e;if(e.split("/").length<5&&(t=`${$}${e}`),!this.validatePath(t))throw Error(`invalid signing path given ${t}`);if(this.#a=t,!this.#e)throw Error("HD private key not initialized");let r=this.#e.derive(t);this.rootAddress=r.pubKey.toAddress(),this.#o=t,this.#s=t}this.identityKey=this.deriveIdentityKey(this.rootAddress)}get rootPath(){return this.#a}getRootPath(){return this.#a}set currentPath(e){if(this.#r)this.#o=this.#s,this.#s=e;else{let t=e;if(e.split("/").length<5&&(t=`${$}${e}`),!this.validatePath(t))throw Error("invalid signing path given");this.#o=this.#s,this.#s=t}}get currentPath(){return this.#s}get previousPath(){return this.#o}get idSeed(){return this.#l}incrementPath(){this.currentPath=G.getNextPath(this.currentPath)}validatePath(e){if(e.match(/\/[0-9]{1,10}'?\/[0-9]{1,10}'?\/[0-9]{1,10}'?\/[0-9]{1,10}'?\/[0-9]{1,10}'?\/[0-9]{1,10}'?/)){let t=e.split("/");if(7===t.length&&0x7fffffff>=Number(t[1].replace("'",""))&&0x7fffffff>=Number(t[2].replace("'",""))&&0x7fffffff>=Number(t[3].replace("'",""))&&0x7fffffff>=Number(t[4].replace("'",""))&&0x7fffffff>=Number(t[5].replace("'",""))&&0x7fffffff>=Number(t[6].replace("'","")))return!0}return!1}getInitialIdTransaction(){return this.getIdTransaction(this.#a)}getIdTransaction(e=""){if(this.#s===this.#a)throw Error("Current path equals rootPath. ID was probably not initialized properly");let t=[er(F),er("ID"),er(this.identityKey),er(this.getCurrentAddress())];return this.signOpReturnWithAIP(t,e||this.#o)}getAddress(e){if(this.#r){if(!this.#t)throw Error("Master private key not initialized");return this.#t.deriveChild(this.#t.toPublicKey(),e).toPublicKey().toAddress()}if(!this.#e)throw Error("HD private key not initialized");return this.#e.derive(e).privKey.toPublicKey().toAddress()}getCurrentAddress(){return this.getAddress(this.#s)}getEncryptionKey(){if(this.#r){if(!this.#t)throw Error("Master private key not initialized");let e=this.#t.deriveChild(this.#t.toPublicKey(),this.#a),t=e.deriveChild(e.toPublicKey(),V);return{privKey:t,pubKey:t.toPublicKey()}}if(!this.#e)throw Error("HD private key not initialized");let e=this.#e.derive(this.#a).derive(V).privKey;return{privKey:e,pubKey:e.toPublicKey()}}getEncryptionKeyType42(){if(this.#r)return this.getEncryptionKey();if(!this.#e)throw Error("HD private key not initialized");let e=this.#e.derive(this.#a),t=e.privKey.deriveChild(e.toPublic().pubKey,V);return{privKey:t,pubKey:t.toPublicKey()}}getEncryptionPublicKey(){let{pubKey:e}=this.getEncryptionKey();return e.toString()}getEncryptionPublicKeyWithSeed(e){return this.getEncryptionPrivateKeyWithSeed(e).toPublicKey().toString()}encrypt(e,t){let{privKey:r,pubKey:n}=this.getEncryptionKey(),i=t?L.PublicKey.fromString(t):n;return eo(el(er(e),i,null))}decrypt(e,t){let{privKey:r}=this.getEncryptionKey(),n;return t&&(n=L.PublicKey.fromString(t)),ea(es(er(e,"base64"),r,n))}encryptWithSeed(e,t,r){let n=this.getEncryptionPrivateKeyWithSeed(t),i=n.toPublicKey(),a=r?L.PublicKey.fromString(r):i;return eo(el(er(e),a,n))}decryptWithSeed(e,t,r){let n=this.getEncryptionPrivateKeyWithSeed(t),i;return r&&(i=L.PublicKey.fromString(r)),ea(es(er(e,"base64"),n,i))}getEncryptionPrivateKeyWithSeed(e){let t=en(L.Hash.sha256(e,"utf8"));if(this.#r){if(!this.#t)throw Error("Master private key not initialized");let e=this.#t.deriveChild(this.#t.toPublicKey(),this.#a);return e.deriveChild(e.toPublicKey(),t)}if(!this.#e)throw Error("HD private key not initialized");let r=G.getSigningPathFromHex(t);return this.#e.derive(this.#a).derive(r).privKey}getAttestation(e){let t=L.Hash.sha256(e,"utf8");return`bap:attest:${en(t)}:${this.getIdentityKey()}`}getAttestationHash(e){let t=this.getAttributeUrn(e);if(!t)return null;let r=this.getAttestation(t);return en(L.Hash.sha256(r,"utf8"))}signMessage(e,t){let r=t||this.#s,n;if(this.#r){if(!this.#t)throw Error("Master private key not initialized");n=this.#t.deriveChild(this.#t.toPublicKey(),r)}else{if(!this.#e)throw Error("HD private key not initialized");n=this.#e.derive(r).privKey}let i=n.toAddress(),a=T.BSM.sign(e,n,"raw"),o=new L.BigNumber(ec(e)),s=a.CalculateRecoveryFactor(n.toPublicKey(),o);return{address:i,signature:T.BSM.sign(e,n,"raw").toCompact(s,!0,"base64")}}signMessageWithSeed(e,t){let r=en(L.Hash.sha256(t,"utf8")),n;if(this.#r){if(!this.#t)throw Error("Master private key not initialized");let e=this.#t.deriveChild(this.#t.toPublicKey(),this.#a);n=e.deriveChild(e.toPublicKey(),r)}else{if(!this.#e)throw Error("HD private key not initialized");let e=G.getSigningPathFromHex(r);n=this.#e.derive(this.#a).derive(e).privKey}let i=n.toPublicKey().toAddress(),a=er(e,"utf8"),o=T.BSM.sign(a,n,"raw"),s=new L.BigNumber(ec(a)),l=o.CalculateRecoveryFactor(n.toPublicKey(),s);return{address:i,signature:T.BSM.sign(a,n,"raw").toCompact(l,!0,"base64")}}signOpReturnWithAIP(e,t=""){let r=this.getAIPMessageBuffer(e),{address:n,signature:i}=this.signMessage(r.flat(),t);return this.formatAIPOutput(e,n,i)}async getIdSigningKeys(){let e=await this.getApiData("/signing-keys",{idKey:this.identityKey});return console.log("getIdSigningKeys",e),e}async getAttributeAttestations(e){let t=this.getAttestationHash(e),r=await this.getApiData("/attestation/get",{hash:t});return console.log("getAttestations",e,t,r),r}import(e){this.idName=e.name,this.description=e.description||"",this.identityKey=e.identityKey,this.#a=e.rootPath,this.rootAddress=e.rootAddress,this.#o=e.previousPath,this.#s=e.currentPath,this.#l=("idSeed"in e?e.idSeed:"")||"",this.identityAttributes=this.parseAttributes(e.identityAttributes)}export(){return{name:this.idName,description:this.description,identityKey:this.identityKey,rootPath:this.#a,rootAddress:this.rootAddress,previousPath:this.#o,currentPath:this.#s,idSeed:this.#l,identityAttributes:this.getAttributes(),lastIdPath:""}}exportMemberBackup(){let e;if(this.#r){if(!this.#t)throw Error("Master private key not initialized");e=this.#t.deriveChild(this.#t.toPublicKey(),this.#s)}else{if(!this.#e)throw Error("HD private key not initialized");e=this.#e.derive(this.#s).privKey}return{name:this.idName,description:this.description,derivedPrivateKey:e.toWif(),address:e.toPublicKey().toAddress(),identityAttributes:this.getAttributes(),identityKey:this.identityKey}}newId(){let e;if(this.incrementPath(),this.#r){if(!this.#t)throw Error("Master private key not initialized");e=this.#t.deriveChild(this.#t.toPublicKey(),this.#s)}else{if(!this.#e)throw Error("HD private key not initialized");e=this.#e.derive(this.#s).privKey}return new et(e)}exportMember(){let e=this.exportMemberBackup(),t;if(this.#r){if(!this.#t)throw Error("Master private key not initialized");t=this.#t.deriveChild(this.#t.toPublicKey(),this.#s)}else{if(!this.#e)throw Error("HD private key not initialized");t=this.#e.derive(this.#s).privKey}let r=eo(el(er(JSON.stringify(e)),t.toPublicKey()));return{wif:e.derivedPrivateKey,encryptedData:r}}}var{toArray:ed,toUTF8:ep,toBase64:eh,toHex:em}=L.Utils,{electrumEncrypt:ef,electrumDecrypt:eg}=T.ECIES;class ey{#e;#t;#r;#n={};#i=W;#a="";#o="";#s=0;getApiData;constructor(e,t="",r=""){if(!e)throw Error("No key source given");"string"==typeof e?(this.#e=T.HD.fromString(e),this.#r=!1):(this.#t=L.PrivateKey.fromWif(e.rootPk),this.#r=!0),t&&(this.#a=t),r&&(this.#i=r),this.getApiData=B(this.#i,this.#a)}get lastIdPath(){return this.#o}getPublicKey(e=""){if(this.#r){if(!this.#t)throw Error("Master private key not initialized");return e?this.#t.deriveChild(this.#t.toPublicKey(),e).toPublicKey().toString():this.#t.toPublicKey().toString()}if(!this.#e)throw Error("HD private key not initialized");return e?this.#e.derive(e).pubKey.toString():this.#e.pubKey.toString()}getHdPublicKey(e=""){if(this.#r)throw Error("HD public keys are not available in Type 42 mode");if(!this.#e)throw Error("HD private key not initialized");return e?this.#e.derive(e).toPublic().toString():this.#e.toPublic().toString()}set BAP_SERVER(e){for(let t in this.#i=e,this.#n)this.#n[t].BAP_SERVER=e}get BAP_SERVER(){return this.#i}set BAP_TOKEN(e){for(let t in this.#a=e,this.#n)this.#n[t].BAP_TOKEN=e}get BAP_TOKEN(){return this.#a}checkIdBelongs(e){let t;if(this.#r){if(!this.#t)throw Error("Master private key not initialized");t=this.#t.deriveChild(this.#t.toPublicKey(),e.rootPath).toPublicKey().toAddress()}else{if(!this.#e)throw Error("HD private key not initialized");t=this.#e.derive(e.rootPath).pubKey.toAddress()}if(t!==e.rootAddress)throw Error("ID does not belong to this private key");return!0}listIds(){return Object.keys(this.#n)}newId(e,t,r={},n=""){let i,a,o,s,l;if("object"==typeof e||void 0===e||"string"==typeof e&&e.startsWith("/")?(a="string"==typeof e?e:void 0,o="object"==typeof e?e:"object"==typeof t?t:{},i="Default Identity"):(i=e,a="string"==typeof t?t:void 0,o="object"==typeof t?t:r),a?s=a:this.#r?(s=`bap:${this.#s}`,this.#s++):s=this.getNextValidPath(),this.#r){if(!this.#t)throw Error("Type 42 parameters not initialized");l=new eu({rootPk:this.#t},o,n)}else{if(!this.#e)throw Error("HD private key not initialized");l=new eu(this.#e,o,n)}(l.BAP_SERVER=this.#i,l.BAP_TOKEN=this.#a,l.idName=i,l.rootPath=s,this.#r)?l.currentPath=s:l.currentPath=G.getNextPath(s);let c=l.getIdentityKey();return this.#n[c]=l,this.#o=s,this.#n[c]}removeId(e){delete this.#n[e]}getNextValidPath(){return this.#o?G.getNextIdentityPath(this.#o):`/0'/${Object.keys(this.#n).length}'/0'`}newIdWithCounter(e,t=`Identity ${e}`){if(!this.#r)throw Error("newIdWithCounter only works in Type 42 mode");let r=`bap:${e}`;return this.newId(t,r)}getId(e){return this.#n[e]||null}setId(e){this.checkIdBelongs(e),this.#n[e.getIdentityKey()]=e}importIds(e,t=!0){if(t&&"string"==typeof e)return void this.importEncryptedIds(e);if(!e.lastIdPath)throw Error("ID cannot be imported as it is not complete");if(!e.ids)throw Error(`ID data is not in the correct format: ${e}`);let r=e.lastIdPath;for(let t of e.ids){let e;if(!t.identityKey||!t.identityAttributes||!t.rootAddress)throw Error("ID cannot be imported as it is not complete");if(this.#r){if(!this.#t)throw Error("Type 42 parameters not initialized");e=new eu({rootPk:this.#t},{},t.idSeed)}else{if(!this.#e)throw Error("HD private key not initialized");e=new eu(this.#e,{},t.idSeed)}if(e.BAP_SERVER=this.#i,e.BAP_TOKEN=this.#a,e.import(t),""===r&&(r=e.currentPath),this.checkIdBelongs(e),this.#n[e.getIdentityKey()]=e,this.#r&&e.rootPath.startsWith("bap:")){let t=e.rootPath.split(":");if(t.length>=2){let e=parseInt(t[1],10);isNaN(e)||(this.#s=Math.max(this.#s,e+1))}}}this.#o=r}importEncryptedIds(e){let t=JSON.parse(this.decrypt(e));if(Array.isArray(t)){console.log(`Importing old format:
`,t),this.importOldIds(t);return}if("object"!=typeof t)throw Error("decrypted, but found unrecognized identities format");this.importIds(t,!1)}importOldIds(e){for(let t of e){let e;if(this.#r){if(!this.#t)throw Error("Type 42 parameters not initialized");e=new eu({rootPk:this.#t},{},t.idSeed??"")}else{if(!this.#e)throw Error("HD private key not initialized");e=new eu(this.#e,{},t.idSeed??"")}e.BAP_SERVER=this.#i,e.BAP_TOKEN=this.#a,e.import(t),this.checkIdBelongs(e),this.#n[e.getIdentityKey()]=e,this.#o=e.currentPath}}exportIds(e,t=!0){let r={lastIdPath:this.#o,ids:[]};for(let t of e||Object.keys(this.#n)){if(!this.#n[t])throw Error(`Identity ${t} not found`);r.ids.push(this.#n[t].export())}return t?this.encrypt(JSON.stringify(r)):r}exportId(e,t=!0){let r={lastIdPath:this.#o,ids:[]};return(r.ids.push(this.#n[e].export()),t)?this.encrypt(JSON.stringify(r)):r}encrypt(e){if(this.#r){if(!this.#t)throw Error("Master private key not initialized");let t=this.#t.deriveChild(this.#t.toPublicKey(),V);return eh(ef(ed(e),t.toPublicKey(),null))}if(!this.#e)throw Error("HD private key not initialized");let t=this.#e.derive(V);return eh(ef(ed(e),t.pubKey,null))}decrypt(e){if(this.#r){if(!this.#t)throw Error("Master private key not initialized");let t=this.#t.deriveChild(this.#t.toPublicKey(),V);return ep(eg(ed(e,"base64"),t))}if(!this.#e)throw Error("HD private key not initialized");let t=this.#e.derive(V);return ep(eg(ed(e,"base64"),t.privKey))}signAttestationWithAIP(e,t,r=0,n=""){let i=this.getId(t);if(!i)throw Error("Could not find identity to attest with");let a=this.getAttestationBuffer(e,r,n),{address:o,signature:s}=i.signMessage(a);return this.createAttestationTransaction(e,r,o,s,n)}verifyAttestationWithAIP(e){if(!e.every(e=>Array.isArray(e))||e[0][0]!==O.OP.OP_RETURN||em(e[1])!==K)throw Error("Not a valid BAP transaction");let t=5*("44415441"===em(e[7])),r={type:ep(e[2]),hash:em(e[3]),sequence:ep(e[4]),signingProtocol:ep(e[7+t]),signingAddress:ep(e[8+t]),signature:eh(e[9+t])};t&&e[3]===e[8]&&(r.data=em(e[9])),console.log({attestation:r});try{let n=[];for(let r=0;r<6+t;r++)n.push(e[r]);r.verified=this.verifySignature(n.flat(),r.signingAddress,r.signature)}catch(e){r.verified=!1}return r}createAttestationTransaction(e,t,r,n,i=""){let a=[[O.OP.OP_RETURN],ed(F),ed("ATTEST"),ed(e),ed(`${t}`),ed("|")];return i&&a.push(ed(F),ed("DATA"),ed(e),ed(i),ed("|")),a.push(ed(U),ed("BITCOIN_ECDSA"),ed(r),ed(n,"base64")),console.log({elements:a}),a}getAttestationBuffer(e,t=0,r=""){let n=[[O.OP.OP_RETURN],ed(F),ed("ATTEST"),ed(e),ed(`${t}`),ed("|")];return r&&n.push(ed(F),ed("DATA"),ed(e),ed(r),ed("|")),n.flat()}verifySignature(e,t,r){let n;n=Array.isArray(e)?e:D.Buffer.isBuffer(e)?[...e]:ed(e,"utf8");let i=L.Signature.fromCompact(r,"base64"),a;for(let e=0;e<4;e++)try{if(a=i.RecoverPublicKey(e,new L.BigNumber(T.BSM.magicHash(n))),T.BSM.verify(n,i,a)&&a.toAddress()===t)return!0}catch(e){}return!1}async verifyChallengeSignature(e,t,r,n){if(!this.verifySignature(r,t,n))return!1;try{let i=await this.getApiData("/attestation/valid",{idKey:e,address:t,challenge:r,signature:n});if(i?.status==="success"&&i?.result?.valid===!0)return!0;return!1}catch(e){return console.error("API call failed:",e),!1}}async isValidAttestationTransaction(e){return!!this.verifyAttestationWithAIP(e)&&this.getApiData("/attestation/valid",{tx:e})}async getIdentityFromAddress(e){return this.getApiData("/identity/from-address",{address:e})}async getIdentity(e){return this.getApiData("/identity/get",{idKey:e})}async getAttestationsForHash(e){return this.getApiData("/attestations",{hash:e})}exportForBackup(e,t,r){let n={ids:this.exportIds(),...e&&{label:e},createdAt:new Date().toISOString()};if(this.#r){if(!this.#t)throw Error("Type 42 parameters not initialized");return{...n,rootPk:this.#t.toWif()}}if(!this.#e)throw Error("HD private key not initialized");return{...n,xprv:t||this.#e.toString(),mnemonic:r||""}}exportMemberForBackup(e,t){let r=this.#n[e];if(!r)throw Error(`Identity ${e} not found`);let n=r.exportMember();return{wif:n.wif,id:n.encryptedData,...t&&{label:t},createdAt:new Date().toISOString()}}}function ev(e){return e&&"object"==typeof e?"string"==typeof e.ordPk&&"string"==typeof e.payPk&&"string"==typeof e.identityPk?"OneSatBackup":"string"==typeof e.xprv&&"string"==typeof e.mnemonic&&"string"==typeof e.ids?"BapMasterBackup":"string"==typeof e.wif&&"string"==typeof e.id||"string"==typeof e.derivedPrivateKey&&"string"==typeof e.identityKey?"BapMemberBackup":"string"!=typeof e.wif||e.id?null:"WifBackup":null}function eb(e,t){return null!==e&&t.includes(e)}let ew=["BapMemberBackup","OneSatBackup","WifBackup"];function ex(e){switch(e){case"BapMasterBackup":return"BAP Master Backup";case"BapMemberBackup":return"BAP Member Backup";case"OneSatBackup":return"1Sat Wallet Backup";case"WifBackup":return"WIF Private Key";default:return"Unknown Backup Type"}}function eC(e,t,r){if(r)return r;if(!e)return"Invalid backup format. Please check your backup file and try again.";let n=t.map(ex).join(", "),i=ex(e);return`${i} is not supported. Supported backup types: ${n}`}function ek(e){return"xprv"in e&&"mnemonic"in e}function eS(e){return"rootPk"in e&&!("xprv"in e)}let eE={whatsonchain:{broadcast:"https://api.whatsonchain.com/v1/bsv/{network}/tx/raw",utxos:"https://api.whatsonchain.com/v1/bsv/{network}/address/{address}/unspent",balance:"https://api.whatsonchain.com/v1/bsv/{network}/address/{address}/balance",transactions:"https://api.whatsonchain.com/v1/bsv/{network}/address/{address}/history"},taal:{broadcast:"https://api.taal.com/arc/v1/tx",utxos:"https://api.taal.com/api/v1/utxo/{address}",balance:"https://api.taal.com/api/v1/address/{address}/balance",transactions:"https://api.taal.com/api/v1/address/{address}/transactions"},gorillapool:{broadcast:"https://arc.gorillapool.io/v1/tx",utxos:"https://jungle.gorillapool.io/v1/utxo/address/{address}",balance:"https://jungle.gorillapool.io/v1/address/{address}/balance",transactions:"https://jungle.gorillapool.io/v1/address/{address}/transactions"},mattercloud:{broadcast:"https://api.mattercloud.io/api/v3/{network}/tx/send",utxos:"https://api.mattercloud.io/api/v3/{network}/address/{address}/utxo",balance:"https://api.mattercloud.io/api/v3/{network}/address/{address}/balance",transactions:"https://api.mattercloud.io/api/v3/{network}/address/{address}/tx"}};class ej{constructor(e){this.config=e}getHeaders(e){let t={"Content-Type":"application/json"};if("proxy"===this.config.mode&&this.config.proxy?.headers)return{...t,...this.config.proxy.headers};if("client"===this.config.mode&&this.config.client?.apiKeys){let r=this.config.client.apiKeys;switch(e){case"taal":r.taal&&(t.Authorization=`Bearer ${r.taal}`);break;case"mattercloud":r.mattercloud&&(t.api_key=r.mattercloud);break;case"custom":r.custom&&Object.assign(t,r.custom)}}return t}getEndpoint(e,t){if("proxy"===this.config.mode&&this.config.proxy){let t=this.config.proxy.endpoint.replace(/\/$/,"");return`${t}/${e}`}let r=this.config.client?.preferredService||"whatsonchain",n=this.config.client?.endpoints||eE[r],i=this.config.network||"main",a=n[e]||eE[r]?.[e];if(!a)throw Error(`No endpoint configured for operation: ${e}`);if(a=a.replace("{network}",i),t)for(let[e,r]of Object.entries(t))a=a.replace(`{${e}}`,r);return a}async broadcastTransaction(e){let t="string"==typeof e?e:e.toHex(),r=this.getEndpoint("broadcast"),n=this.getHeaders(this.config.client?.preferredService),i=null,a=this.config.retries||3;for(let e=1;e<=a;e++)try{let e=await fetch(r,{method:"POST",headers:n,body:JSON.stringify("proxy"===this.config.mode?{tx:t,operation:"broadcast"}:{txhex:t}),signal:AbortSignal.timeout(this.config.timeout||3e4)});if(!e.ok){let t=await e.text();throw Error(`HTTP ${e.status}: ${t}`)}let i=await e.json();if("proxy"===this.config.mode)return i;if("string"==typeof i&&64===i.length)return{success:!0,txid:i};if(i.txid)return{success:!0,txid:i.txid};throw Error("Invalid broadcast response format")}catch(t){i=t,console.warn(`Broadcast attempt ${e} failed:`,t),e<a&&await new Promise(t=>setTimeout(t,1e3*e))}return{success:!1,error:i?.message||"Broadcast failed after all retries"}}async getUTXOs(e){let t=this.getEndpoint("utxos",{address:e}),r=this.getHeaders(this.config.client?.preferredService);try{let n=await fetch(t,{method:"proxy"===this.config.mode?"POST":"GET",headers:r,body:"proxy"===this.config.mode?JSON.stringify({address:e,operation:"utxos"}):void 0,signal:AbortSignal.timeout(this.config.timeout||3e4)});if(!n.ok)throw Error(`Failed to fetch UTXOs: ${n.statusText}`);let i=await n.json();if("proxy"===this.config.mode)return i.utxos||i;return this.normalizeUTXOs(i)}catch(e){return console.error("Failed to get UTXOs:",e),[]}}async getBalance(e){let t=this.getEndpoint("balance",{address:e}),r=this.getHeaders(this.config.client?.preferredService);try{let n=await fetch(t,{method:"proxy"===this.config.mode?"POST":"GET",headers:r,body:"proxy"===this.config.mode?JSON.stringify({address:e,operation:"balance"}):void 0,signal:AbortSignal.timeout(this.config.timeout||3e4)});if(!n.ok)throw Error(`Failed to fetch balance: ${n.statusText}`);let i=await n.json();if("proxy"===this.config.mode)return i;return this.normalizeBalance(i)}catch(e){return console.error("Failed to get balance:",e),{confirmed:0,unconfirmed:0}}}async getTransactions(e,t=50){let r=this.getEndpoint("transactions",{address:e}),n=this.getHeaders(this.config.client?.preferredService);try{let i=await fetch(r,{method:"proxy"===this.config.mode?"POST":"GET",headers:n,body:"proxy"===this.config.mode?JSON.stringify({address:e,limit:t,operation:"transactions"}):void 0,signal:AbortSignal.timeout(this.config.timeout||3e4)});if(!i.ok)throw Error(`Failed to fetch transactions: ${i.statusText}`);let a=await i.json();return Array.isArray(a)?a:a.transactions||[]}catch(e){return console.error("Failed to get transactions:",e),[]}}normalizeUTXOs(e){return e&&Array.isArray(e)?e.map(e=>({txid:e.tx_hash||e.txid||"",vout:e.tx_pos??e.vout??e.outputIndex??0,satoshis:e.value??e.satoshis??0,script:e.script||"",confirmations:e.confirmations||0})):[]}normalizeBalance(e){if(!e)return{confirmed:0,unconfirmed:0};if("number"==typeof e)return{confirmed:e,unconfirmed:0};if("object"==typeof e){if(void 0!==e.confirmed)return{confirmed:e.confirmed,unconfirmed:e.unconfirmed||0};if(void 0!==e.balance)return{confirmed:e.balance.confirmed_satoshis||0,unconfirmed:e.balance.unconfirmed_satoshis||0}}return{confirmed:0,unconfirmed:0}}}class eA{constructor(e={}){this.namespace=e.namespace||""}key(e){return this.namespace?`${this.namespace}:${e}`:e}get sessionDecryptedBackup(){return this.key("session:decryptedBackup")}get sessionPaymentKey(){return this.key("session:paymentKey")}get sessionOrdinalKey(){return this.key("session:ordinalKey")}get sessionOAuthState(){return this.key("session:oauthState")}get encryptedBackup(){return this.key("encryptedBackup")}getBapRotationKey(e){return this.key(`bap-rotation-${e}`)}}new eA,new eA({namespace:"storybook"});let eP={get:async e=>"undefined"==typeof window?null:e.startsWith("session:")?sessionStorage.getItem(e.replace("session:","")):localStorage.getItem(e),set:async(e,t)=>{"undefined"!=typeof window&&(e.startsWith("session:")?sessionStorage.setItem(e.replace("session:",""),t):localStorage.setItem(e,t))},remove:async e=>{"undefined"!=typeof window&&(e.startsWith("session:")?sessionStorage.removeItem(e.replace("session:","")):localStorage.removeItem(e))}};class eN{constructor(e){this.listeners=new Set,this.config={apiUrl:e.apiUrl||"/api",oauthProviders:e.oauthProviders||["google","github"],customOAuthProviders:e.customOAuthProviders||[],backupTypes:e.backupTypes||{enabled:ew},storage:e.storage||eP,storageNamespace:e.storageNamespace,theme:e.theme||{mode:"dark"},redirects:e.redirects||{},onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{})},this.storage=this.config.storage||eP,this.storageKeys=new eA({namespace:this.config.storageNamespace}),this.blockchainService=new ej(this.config.blockchainService||{mode:"proxy",proxy:{endpoint:"/api/blockchain"},network:"main",retries:3,timeout:3e4}),this.state={user:null,isAuthenticated:!1,isLoading:!1,error:null,currentStep:"initial",mode:"signin",hasLocalBackup:!1,backupStatus:{hasLocal:!1,hasCloud:!1,cloudProviders:[],lastUpdated:void 0},isImportedBackup:!1,hasWalletCapabilities:!1,linkedProviders:[],pendingOAuthProvider:null},this.checkExistingBackup(),this.checkWalletCapabilities()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}emit(e){for(let t of this.listeners)t(e)}getState(){return{...this.state}}async checkExistingBackup(){let e=await this.storage.get(this.storageKeys.encryptedBackup);this.state.hasLocalBackup=!!e,this.state.backupStatus.hasLocal=!!e}async signIn(e){this.emit({type:"AUTH_STARTED"}),this.state.isLoading=!0,this.state.error=null;try{let t,r=await this.storage.get(this.storageKeys.encryptedBackup);if(r)t=await this.decryptBackup(r,e);else{let r=await this.storage.get(this.storageKeys.sessionDecryptedBackup);if(r){let n=JSON.parse(r),i=await (0,_.encryptBackup)(n,e);await this.storage.set(this.storageKeys.encryptedBackup,JSON.stringify(i)),await this.storage.remove(this.storageKeys.sessionDecryptedBackup),this.state.hasLocalBackup=!0,this.state.backupStatus.hasLocal=!0,t=n}else throw this.createError("BACKUP_NOT_FOUND","No backup found. Please create an account first.")}let n=await this.createSession(t);this.state.user=n,this.state.isAuthenticated=!0,this.state.currentStep="success",await this.checkWalletCapabilities(),this.emit({type:"AUTH_SUCCESS",user:n}),this.config.onSuccess?.(n)}catch(t){let e=this.normalizeError(t);throw this.state.error=e,this.emit({type:"AUTH_FAILED",error:e}),this.config.onError?.(e),e}finally{this.state.isLoading=!1}}async signUp(e){this.emit({type:"AUTH_STARTED"}),this.state.isLoading=!0,this.state.error=null;try{let t=this.generateBackup();this.emit({type:"BACKUP_GENERATED",backup:t});let r=await (0,_.encryptBackup)(t,e);await this.storage.set(this.storageKeys.encryptedBackup,JSON.stringify(r));let n=await this.createSession(t);this.state.user=n,this.state.isAuthenticated=!0,this.state.hasLocalBackup=!0,this.state.backupStatus.hasLocal=!0,this.state.currentStep="oauth-link",this.emit({type:"AUTH_SUCCESS",user:n}),this.config.onSuccess?.(n)}catch(t){let e=this.normalizeError(t);throw this.state.error=e,this.emit({type:"AUTH_FAILED",error:e}),this.config.onError?.(e),e}finally{this.state.isLoading=!1}}async signOut(){await this.storage.remove(this.storageKeys.sessionDecryptedBackup),await this.storage.remove(this.storageKeys.sessionPaymentKey),await this.storage.remove(this.storageKeys.sessionOrdinalKey),await this.storage.remove(this.storageKeys.sessionOAuthState),this.state.user=null,this.state.isAuthenticated=!1,this.state.currentStep="initial",this.state.mode="signin",this.state.error=null;try{(await fetch(`${this.config.apiUrl}/auth/signout`,{method:"POST",credentials:"include"})).ok||console.error("Failed to sign out on server")}catch(e){console.error("Error signing out:",e)}}generateBackup(){let e=T.Mnemonic.fromRandom(),t=e.toSeed(),r=T.HD.fromSeed(t).toString(),n=new ey(r);n.newId();let i=n.exportIds();return{xprv:r,mnemonic:e.toString(),ids:i,createdAt:new Date().toISOString()}}async importBackup(e){try{let t=await e.text(),r=!1,n=null;try{if((n=JSON.parse(t))&&"object"==typeof n){let e=n;(e.mnemonic||e.xprv||e.rootPk||e.wif||e.ordPk)&&(r=!0)}}catch{r=!1}if(r&&n){let e=ev(n),r=this.config.backupTypes?.enabled||ew;if(!e||!eb(e,r)){let t=eC(e,r,this.config.backupTypes?.errorMessages?.unsupported);throw this.createError("UNSUPPORTED_BACKUP",t)}await this.storage.set(this.storageKeys.sessionDecryptedBackup,t),this.state.isImportedBackup=!0,this.state.currentStep="password",this.emit({type:"BACKUP_IMPORTED"});return}let i=!1;try{if(n&&"object"==typeof n){let e=n;(e.encrypted||e.encryptedMnemonic)&&(i=!0)}}catch{t.length>100&&/^[A-Za-z0-9+/=]+$/.test(t.trim())&&(i=!0)}if(!i)throw this.createError("INVALID_BACKUP","Invalid backup file format");await this.storage.set(this.storageKeys.encryptedBackup,t.trim()),this.state.hasLocalBackup=!0,this.state.backupStatus.hasLocal=!0,this.state.isImportedBackup=!0,this.state.currentStep="password",this.emit({type:"BACKUP_IMPORTED"})}catch(e){if(e&&"object"==typeof e&&"code"in e)throw e;throw this.createError("INVALID_BACKUP","Failed to import backup file")}}isBase64String(e){return e.length>20&&/^[A-Za-z0-9+/]*={0,2}$/.test(e)&&e.length%4==0}isValidWif(e){return/^[5KL][1-9A-HJ-NP-Za-km-z]{50,51}$/.test(e)}isValidBackupFormat(e){return!!e&&"object"==typeof e&&("string"==typeof e.xprv&&"string"==typeof e.mnemonic||"string"==typeof e.rootPk&&"string"==typeof e.ids&&!e.xprv||"string"==typeof e.wif&&"string"==typeof e.id||"string"==typeof e.wif&&!e.id||"string"==typeof e.ordPk&&"string"==typeof e.payPk&&"string"==typeof e.identityPk)}async validatePassword(e){try{let t=await this.storage.get(this.storageKeys.encryptedBackup);if(!t)return!1;return await this.decryptBackup(t,e),!0}catch{return!1}}async linkOAuth(e){this.state.pendingOAuthProvider=e;let t={mode:"link",provider:e,timestamp:Date.now()};await this.storage.set(this.storageKeys.sessionOAuthState,JSON.stringify(t)),window.location.href=`${this.config.apiUrl}/auth/link-provider?provider=${e}`}async handleOAuthCallback(e,t){t&&(this.state.linkedProviders.push(e),this.state.backupStatus.cloudProviders.push(e),this.state.backupStatus.hasCloud=!0,this.emit({type:"OAUTH_LINKED",provider:e})),this.state.pendingOAuthProvider=null,await this.storage.remove(this.storageKeys.sessionOAuthState)}async decryptBackup(e,t){try{let r=await (0,_.decryptBackup)(e,t);if(!r||"object"!=typeof r)throw Error("Invalid backup format");let n=ev(r),i=this.config.backupTypes?.enabled||ew;if(!n||!eb(n,i)){let e=eC(n,i,this.config.backupTypes?.errorMessages?.unsupported);throw this.createError("UNSUPPORTED_BACKUP",e)}return r}catch(e){if(e&&"object"==typeof e&&"code"in e)throw e;throw this.createError("INVALID_PASSWORD","Incorrect password or corrupted backup")}}async createSession(e){if("xprv"in e&&"mnemonic"in e)return this.createSessionFromBapMaster(e);if("ordPk"in e&&"payPk"in e&&"identityPk"in e)return this.createSessionFromOneSat(e);throw this.createError("UNSUPPORTED_BACKUP","This backup type is not supported for full authentication")}async createSessionFromBapMaster(e){let t,r;if(ek(e))t=new ey(e.xprv);else if(eS(e))t=new ey({rootPk:e.rootPk});else throw this.createError("INVALID_BACKUP","Invalid master backup format");t.importIds(e.ids);let n=t.listIds();if(!n||0===n.length||void 0===n[0])throw this.createError("INVALID_BACKUP","No identities found in backup");let i=n[0],a=t.getId(i);if(!a)throw this.createError("INVALID_BACKUP","No identity found in backup");let o=a.exportMemberBackup();if(!o?.derivedPrivateKey)throw this.createError("INVALID_BACKUP","No private key found in backup");let s=a.getCurrentAddress();if(!s)throw this.createError("INVALID_BACKUP","No address found for identity");await this.storage.set(this.storageKeys.sessionDecryptedBackup,JSON.stringify(e));let l=(0,I.getAuthToken)({privateKeyWif:o.derivedPrivateKey,requestPath:`${this.config.apiUrl}/auth/signin`,body:""});try{r=await fetch(`${this.config.apiUrl}/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":l},body:JSON.stringify({address:s,idKey:i}),credentials:"include"})}catch(e){throw this.createError("NETWORK_ERROR","Cannot connect to backend. Make sure your server is running and /api/auth/signin endpoint exists. See examples/backend-setup-guide.md for setup help.")}if(!r.ok){if(404===r.status)throw this.createError("API_ERROR","Backend endpoint not found. You need to implement POST /api/auth/signin in your backend. See examples/backend-setup-guide.md for help.");let e=await r.text().catch(()=>"Unknown error");throw this.createError("API_ERROR",`Authentication failed: ${r.status} ${e}`)}return{id:i,address:s,idKey:i,profiles:n.map(e=>{let r=t.getId(e);return{id:e,address:r?.getCurrentAddress()||"",isPublished:!1}}),activeProfileId:i}}async createSessionFromOneSat(t){let r,n=t.identityPk;await this.storage.set(this.storageKeys.sessionDecryptedBackup,JSON.stringify(t)),await this.storage.set(this.storageKeys.sessionPaymentKey,t.payPk),await this.storage.set(this.storageKeys.sessionOrdinalKey,t.ordPk);let{PrivateKey:i}=await e.A(28627),a=i.fromWif(n),o=a.toPublicKey().toAddress(),s=a.toPublicKey().toString(),l=(0,I.getAuthToken)({privateKeyWif:n,requestPath:`${this.config.apiUrl}/auth/signin`,body:""});try{r=await fetch(`${this.config.apiUrl}/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":l},body:JSON.stringify({address:o,idKey:s}),credentials:"include"})}catch(e){throw this.createError("NETWORK_ERROR","Cannot connect to backend. Make sure your server is running and /api/auth/signin endpoint exists. See examples/backend-setup-guide.md for setup help.")}if(!r.ok){if(404===r.status)throw this.createError("API_ERROR","Backend endpoint not found. You need to implement POST /api/auth/signin in your backend. See examples/backend-setup-guide.md for help.");let e=await r.text().catch(()=>"Unknown error");throw this.createError("API_ERROR",`Authentication failed: ${r.status} ${e}`)}return{id:s,address:o,idKey:s,profiles:[{id:s,address:o,isPublished:!1}],activeProfileId:s}}async checkWalletCapabilities(){try{let e=await this.storage.get(this.storageKeys.sessionPaymentKey);this.state.hasWalletCapabilities=!!e}catch{this.state.hasWalletCapabilities=!1}}async getWalletExtension(){if(!this.state.hasWalletCapabilities)return null;try{let e=await this.storage.get(this.storageKeys.sessionPaymentKey),t=await this.storage.get(this.storageKeys.sessionOrdinalKey);if(!e)return null;return{paymentKey:e,ordinalKey:t||void 0}}catch(e){return console.warn("Failed to get wallet extension:",e),null}}createError(e,t){return{code:e,message:t}}normalizeError(e){return e&&"object"==typeof e&&"code"in e?e:e instanceof Error?"AbortError"===e.name||e.message.includes("timeout")?{code:"NETWORK_ERROR",message:"Request timeout. Check if your backend is running and the /api/auth/signin endpoint exists.",details:e}:{code:"UNKNOWN_ERROR",message:e.message,details:e}:{code:"UNKNOWN_ERROR",message:"An unexpected error occurred",details:e}}getActions(){return{signIn:this.signIn.bind(this),signUp:this.signUp.bind(this),signOut:this.signOut.bind(this),generateBackup:this.generateBackup.bind(this),importBackup:this.importBackup.bind(this),exportBackup:async e=>{let t=await this.storage.get(this.storageKeys.encryptedBackup);if(!t)throw this.createError("BACKUP_NOT_FOUND","No backup found to export");let r=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`bitcoin-identity-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},validatePassword:this.validatePassword.bind(this),getCurrentBackup:async()=>{if(!this.state.isAuthenticated)return null;try{let e=await this.storage.get(this.storageKeys.sessionDecryptedBackup);if(!e)return null;return JSON.parse(e)}catch{return null}},linkOAuth:this.linkOAuth.bind(this),unlinkOAuth:async e=>{if(!this.state.isAuthenticated||!this.state.user)throw this.createError("AUTH_REQUIRED","Must be authenticated to unlink OAuth");if(!(await fetch(`${this.config.apiUrl}/users/disconnect-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e}),credentials:"include"})).ok)throw this.createError("API_ERROR","Failed to unlink OAuth provider");this.state.linkedProviders=this.state.linkedProviders.filter(t=>t!==e),this.state.backupStatus.cloudProviders=this.state.backupStatus.cloudProviders.filter(t=>t!==e),this.emit({type:"OAUTH_UNLINKED",provider:e})},restoreFromOAuth:async e=>{let t={mode:"restore",provider:e,timestamp:Date.now()};await this.storage.set(this.storageKeys.sessionOAuthState,JSON.stringify(t)),window.location.href=`${this.config.apiUrl}/auth/signin?provider=${e}`},createProfile:async()=>{let e;if(!this.state.isAuthenticated||!this.state.user)throw this.createError("AUTH_REQUIRED","Must be authenticated to create profile");let t=await this.storage.get(this.storageKeys.sessionDecryptedBackup);if(!t)throw this.createError("BACKUP_NOT_FOUND","No backup found");let r=JSON.parse(t);if(ek(r))e=new ey(r.xprv);else if(eS(r))e=new ey({rootPk:r.rootPk});else throw this.createError("INVALID_BACKUP","Invalid master backup format");e.importIds(r.ids);let n=e.newId(),i={...r,ids:e.exportIds()};await this.storage.set(this.storageKeys.sessionDecryptedBackup,JSON.stringify(i));let a={id:n.identityKey,address:n.getCurrentAddress(),isPublished:!1};return this.state.user.profiles.push(a),this.emit({type:"PROFILE_CREATED",profile:a}),a},switchProfile:e=>{if(this.state.user){if(!this.state.user.profiles.find(t=>t.id===e))throw this.createError("PROFILE_NOT_FOUND","Profile not found");this.state.user.activeProfileId=e,this.emit({type:"PROFILE_SWITCHED",profileId:e})}},generateDeviceLink:async()=>{if(!this.state.isAuthenticated||!this.state.user)throw this.createError("AUTH_REQUIRED","Must be authenticated to generate device link");let e=await fetch(`${this.config.apiUrl}/device-link/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idKey:this.state.user.id}),credentials:"include"});if(!e.ok)throw this.createError("API_ERROR","Failed to generate device link");let{token:t}=await e.json();return t},importFromDeviceLink:async e=>{let t=await fetch(`${this.config.apiUrl}/device-link/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(!t.ok)throw this.createError("INVALID_TOKEN","Invalid or expired device link");let{encryptedBackup:r}=await t.json();await this.storage.set(this.storageKeys.encryptedBackup,JSON.stringify(r)),this.state.currentStep="password"},setStep:e=>{this.state.currentStep=e,this.emit({type:"STEP_CHANGED",step:e})},setMode:e=>{this.state.mode=e,this.emit({type:"MODE_CHANGED",mode:e})},reset:()=>{this.state={user:null,isAuthenticated:!1,isLoading:!1,error:null,currentStep:"initial",mode:"signin",hasLocalBackup:!1,backupStatus:{hasLocal:!1,hasCloud:!1,cloudProviders:[],lastUpdated:void 0},isImportedBackup:!1,hasWalletCapabilities:!1,linkedProviders:[],pendingOAuthProvider:null},this.checkExistingBackup()},getWalletExtension:this.getWalletExtension.bind(this)}}getBlockchainService(){return this.blockchainService}}let eR={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",back:"Back",continue:"Continue",signIn:"Sign In",signUp:"Sign Up",signOut:"Sign Out",loginTitle:"Welcome Back",loginSubtitle:"Sign in to your Bitcoin wallet",loginButton:"Sign In",loginPasswordPlaceholder:"Enter your password",loginNoAccount:"Don't have an account? Sign up",loginForgotPassword:"Import backup file",signupTitle:"Create Account",signupSubtitle:"Create your Bitcoin wallet",signupButton:"Create Account",signupAlreadyHaveAccount:"Already have an account? Sign in",signupGeneratingIdentity:"Generating your Bitcoin identity...",signupBackupWarning:"Save this backup file! You'll need it to recover your wallet.",signupMnemonicWarning:"Write down these words in order. This is your only way to recover your wallet if you lose your backup file.",passwordLabel:"Password",passwordPlaceholder:"Enter your password",passwordConfirmLabel:"Confirm Password",passwordConfirmPlaceholder:"Confirm your password",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 8 characters",passwordRequired:"Password is required",backupTitle:"Download Backup",backupDownloadButton:"Download Backup",backupImportButton:"Import Backup",backupImportTitle:"Import Backup",backupImportSubtitle:"Import your wallet backup file",backupFileLabel:"Choose backup file",backupFilePlaceholder:"Select your .json (unencrypted JSON) or .txt (encrypted/WIF) backup file",backupDecryptButton:"Decrypt Backup",backupInvalidFormat:"Invalid backup format",backupCorrupted:"Backup file is corrupted",labels:{backupImport:"Already have a backup? Import it instead",importBackupFile:"Import backup file",backupSupport:"Supports encrypted (.txt) and unencrypted (.json) backups"},oauthContinueWith:"Or continue with",oauthRestoreTitle:"Restore from Cloud",oauthRestoreSubtitle:"Sign in with your linked account to restore your wallet",oauthConflictTitle:"Account Conflict",oauthConflictMessage:"This {provider} account is already linked to a different wallet. What would you like to do?",oauthConflictKeepCurrent:"Keep Current Wallet",oauthConflictSwitchAccount:"Switch to Linked Wallet",deviceLinkTitle:"Link Another Device",deviceLinkSubtitle:"Generate a QR code to securely link another device to your account",deviceLinkGenerateButton:"Generate QR Code",deviceLinkTokenLabel:"Device Link Token",deviceLinkTokenPlaceholder:"Enter token from QR code",deviceLinkButton:"Link Device",deviceLinkExpires:"Expires in:",deviceLinkCopyButton:"Copy Link",deviceLinkCopied:"Copied!",deviceLinkNewCode:"Generate New Code",deviceLinkInstructions:["Scan this QR code on your other device","Enter your password to decrypt your backup","Your identity will be linked to both devices"],memberExportTitle:"Export to Mobile",memberExportSubtitle:'Export "{profileName}" profile to use on your mobile device',memberExportButton:"Export to Mobile",memberExportSecurityNotice:"This QR code contains a link to download your member backup. You'll need to enter your password on the mobile device to decrypt it.",memberExportInstructions:["Scan this QR code on your mobile device","Enter your password when prompted","The member backup will be downloaded"],errorGeneric:"Something went wrong. Please try again.",errorInvalidPassword:"Invalid password",errorBackupNotFound:"No backup found",errorNetworkFailed:"Network request failed",errorTokenExpired:"Token has expired",errorDeviceLinkFailed:"Failed to link device",errorBackendRequired:"Device linking requires backend implementation. Please implement token validation and backup retrieval."},eT=(0,R.createContext)(eR);function eI(){return(0,R.useContext)(eT)}let e_=(0,R.createContext)(null),eD=function(){let e=(0,R.useContext)(e_);if(!e)throw Error("useBigBlocksAuthContext must be used within a BigBlocksAuthProvider");return e};e.s(["BitcoinAuthProvider",0,function({config:e,children:t,messages:r}){let[n]=(0,R.useState)(()=>new eN(e)),[i,a]=(0,R.useState)(n.getState());(0,R.useEffect)(()=>n.subscribe(e=>{switch(a(n.getState()),e.type){case"AUTH_SUCCESS":console.log("Auth success:",e.user);break;case"AUTH_FAILED":console.error("Auth failed:",e.error);break;case"OAUTH_LINKED":console.log("OAuth linked:",e.provider)}}),[n]);let o=(0,R.useMemo)(()=>n.getActions(),[n]),s=(0,R.useMemo)(()=>({...i,...o,config:e}),[i,o,e]),l=(0,R.useMemo)(()=>r?{...eR,...r}:eR,[r]);return(0,N.jsx)(eT.Provider,{value:l,children:(0,N.jsx)(e_.Provider,{value:s,children:t})})},"useBitcoinAuthContext",0,eD],44118);var eL=e.i(47167),eO=e.i(43794),eM=e.i(86318),eM=eM,eB=e.i(91918),eB=eB,ez=e.i(81140),eH=e.i(20783),eF=e.i(30030),eK=e.i(48425),eU=e.i(30207),eW="dismissableLayer.update",e$=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eV=R.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=R.useContext(e$),[u,d]=R.useState(null),p=u?.ownerDocument??globalThis?.document,[,h]=R.useState({}),m=(0,eH.useComposedRefs)(t,e=>d(e)),f=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=f.indexOf(g),v=u?f.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,x=function(e,t=globalThis?.document){let r=(0,eU.useCallbackRef)(e),n=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){eq("dismissableLayer.pointerDownOutside",r,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...c.branches].some(e=>e.contains(t));w&&!r&&(i?.(e),o?.(e),e.defaultPrevented||s?.())},p),C=function(e,t=globalThis?.document){let r=(0,eU.useCallbackRef)(e),n=R.useRef(!1);return R.useEffect(()=>{let e=e=>{e.target&&!n.current&&eq("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...c.branches].some(e=>e.contains(t))&&(a?.(e),o?.(e),e.defaultPrevented||s?.())},p);return!function(e,t=globalThis?.document){let r=(0,eU.useCallbackRef)(e);R.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{v===c.layers.size-1&&(n?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},p),R.useEffect(()=>{if(u)return r&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(gS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),eG(),()=>{r&&1===c.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=gS)}},[u,p,r,c]),R.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),eG())},[u,c]),R.useEffect(()=>{let e=()=>h({});return document.addEventListener(eW,e),()=>document.removeEventListener(eW,e)},[]),(0,N.jsx)(eK.Primitive.div,{...l,ref:m,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:(0,ez.composeEventHandlers)(e.onFocusCapture,C.onFocusCapture),onBlurCapture:(0,ez.composeEventHandlers)(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:(0,ez.composeEventHandlers)(e.onPointerDownCapture,x.onPointerDownCapture)})});function eG(){let e=new CustomEvent(eW);document.dispatchEvent(e)}function eq(e,t,r,{discrete:n}){let i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,eK.dispatchDiscreteCustomEvent)(i,a):i.dispatchEvent(a)}eV.displayName="DismissableLayer",R.forwardRef((e,t)=>{let r=R.useContext(e$),n=R.useRef(null),i=(0,eH.useComposedRefs)(t,n);return R.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,N.jsx)(eK.Primitive.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var eQ=e.i(10772);let eJ=["top","right","bottom","left"],eY=Math.min,eZ=Math.max,eX=Math.round,e0=Math.floor,e1=e=>({x:e,y:e}),e2={left:"right",right:"left",bottom:"top",top:"bottom"},e3={start:"end",end:"start"};function e4(e,t){return"function"==typeof e?e(t):e}function e5(e){return e.split("-")[0]}function e6(e){return e.split("-")[1]}function e9(e){return"x"===e?"y":"x"}function e7(e){return"y"===e?"height":"width"}function e8(e){return["top","bottom"].includes(e5(e))?"y":"x"}function te(e){return e.replace(/start|end/g,e=>e3[e])}function tt(e){return e.replace(/left|right|bottom|top/g,e=>e2[e])}function tr(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function tn(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function ti(e,t,r){let n,{reference:i,floating:a}=e,o=e8(t),s=e9(e8(t)),l=e7(s),c=e5(t),u="y"===o,d=i.x+i.width/2-a.width/2,p=i.y+i.height/2-a.height/2,h=i[l]/2-a[l]/2;switch(c){case"top":n={x:d,y:i.y-a.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:p};break;case"left":n={x:i.x-a.width,y:p};break;default:n={x:i.x,y:i.y}}switch(e6(t)){case"start":n[s]-=h*(r&&u?-1:1);break;case"end":n[s]+=h*(r&&u?-1:1)}return n}let ta=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ti(c,n,l),p=n,h={},m=0;for(let r=0;r<s.length;r++){let{name:a,fn:f}=s[r],{x:g,y:y,data:v,reset:b}=await f({x:u,y:d,initialPlacement:n,placement:p,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,h={...h,[a]:{...h[a],...v}},b&&m<=50&&(m++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:u,y:d}=ti(c,p,l)),r=-1)}return{x:u,y:d,placement:p,strategy:i,middlewareData:h}};async function to(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=e4(t,e),m=tr(h),f=s[p?"floating"===d?"reference":"floating":d],g=tn(await a.getClippingRect({element:null==(r=await (null==a.isElement?void 0:a.isElement(f)))||r?f:f.contextElement||await (null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===d?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await (null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),b=await (null==a.isElement?void 0:a.isElement(v))&&await (null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},w=tn(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(g.top-w.top+m.top)/b.y,bottom:(w.bottom-g.bottom+m.bottom)/b.y,left:(g.left-w.left+m.left)/b.x,right:(w.right-g.right+m.right)/b.x}}function ts(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tl(e){return eJ.some(t=>e[t]>=0)}async function tc(e,t){let{placement:r,platform:n,elements:i}=e,a=await (null==n.isRTL?void 0:n.isRTL(i.floating)),o=e5(r),s=e6(r),l="y"===e8(r),c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,d=e4(t,e),{mainAxis:p,crossAxis:h,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof m&&(h="end"===s?-1*m:m),l?{x:h*u,y:p*c}:{x:p*c,y:h*u}}function tu(){return"undefined"!=typeof window}function td(e){return tm(e)?(e.nodeName||"").toLowerCase():"#document"}function tp(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function th(e){var t;return null==(t=(tm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function tm(e){return!!tu()&&(e instanceof Node||e instanceof tp(e).Node)}function tf(e){return!!tu()&&(e instanceof Element||e instanceof tp(e).Element)}function tg(e){return!!tu()&&(e instanceof HTMLElement||e instanceof tp(e).HTMLElement)}function ty(e){return!!tu()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof tp(e).ShadowRoot)}function tv(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=tk(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function tb(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function tw(e){let t=tx(),r=tf(e)?tk(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function tx(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function tC(e){return["html","body","#document"].includes(td(e))}function tk(e){return tp(e).getComputedStyle(e)}function tS(e){return tf(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tE(e){if("html"===td(e))return e;let t=e.assignedSlot||e.parentNode||ty(e)&&e.host||th(e);return ty(t)?t.host:t}function tj(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=tE(t);return tC(r)?t.ownerDocument?t.ownerDocument.body:t.body:tg(r)&&tv(r)?r:e(r)}(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),o=tp(i);if(a){let e=tA(o);return t.concat(o,o.visualViewport||[],tv(i)?i:[],e&&r?tj(e):[])}return t.concat(i,tj(i,[],r))}function tA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tP(e){let t=tk(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=tg(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=eX(r)!==a||eX(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function tN(e){return tf(e)?e:e.contextElement}function tR(e){let t=tN(e);if(!tg(t))return e1(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:a}=tP(t),o=(a?eX(r.width):r.width)/n,s=(a?eX(r.height):r.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}let tT=e1(0);function tI(e){let t=tp(e);return tx()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:tT}function t_(e,t,r,n){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let a=e.getBoundingClientRect(),o=tN(e),s=e1(1);t&&(n?tf(n)&&(s=tR(n)):s=tR(e));let l=(void 0===(i=r)&&(i=!1),n&&(!i||n===tp(o))&&i)?tI(o):e1(0),c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,p=a.height/s.y;if(o){let e=tp(o),t=n&&tf(n)?tp(n):n,r=e,i=tA(r);for(;i&&n&&t!==r;){let e=tR(i),t=i.getBoundingClientRect(),n=tk(i),a=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;c*=e.x,u*=e.y,d*=e.x,p*=e.y,c+=a,u+=o,i=tA(r=tp(i))}}return tn({width:d,height:p,x:c,y:u})}function tD(e,t){let r=tS(e).scrollLeft;return t?t.left+r:t_(th(e)).left+r}function tL(e,t,r){void 0===r&&(r=!1);let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:tD(e,n)),y:n.top+t.scrollTop}}function tO(e,t,r){var n;let i;if("viewport"===t)i=function(e,t){let r=tp(e),n=th(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;let e=tx();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}(e,r);else if("document"===t){let t,r,a,o,s,l,c;n=th(e),t=th(n),r=tS(n),a=n.ownerDocument.body,o=eZ(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),s=eZ(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),l=-r.scrollLeft+tD(n),c=-r.scrollTop,"rtl"===tk(a).direction&&(l+=eZ(t.clientWidth,a.clientWidth)-o),i={width:o,height:s,x:l,y:c}}else if(tf(t)){let e,n,a,o,s,l;n=(e=t_(t,!0,"fixed"===r)).top+t.clientTop,a=e.left+t.clientLeft,o=tg(t)?tR(t):e1(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,i={width:s,height:l,x:a*o.x,y:n*o.y}}else{let r=tI(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return tn(i)}function tM(e){return"static"===tk(e).position}function tB(e,t){if(!tg(e)||"fixed"===tk(e).position)return null;if(t)return t(e);let r=e.offsetParent;return th(e)===r&&(r=r.ownerDocument.body),r}function tz(e,t){let r=tp(e);if(tb(e))return r;if(!tg(e)){let t=tE(e);for(;t&&!tC(t);){if(tf(t)&&!tM(t))return t;t=tE(t)}return r}let n=tB(e,t);for(;n&&["table","td","th"].includes(td(n))&&tM(n);)n=tB(n,t);return n&&tC(n)&&tM(n)&&!tw(n)?r:n||function(e){let t=tE(e);for(;tg(t)&&!tC(t);){if(tw(t))return t;if(tb(t))break;t=tE(t)}return null}(e)||r}let tH=async function(e){let t=this.getOffsetParent||tz,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=tg(t),i=th(t),a="fixed"===r,o=t_(e,!0,a,t),s={scrollLeft:0,scrollTop:0},l=e1(0);if(n||!n&&!a)if(("body"!==td(t)||tv(i))&&(s=tS(t)),n){let e=t_(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=tD(i));a&&!n&&i&&(l.x=tD(i));let c=!i||n||a?e1(0):tL(i,s);return{x:o.left+s.scrollLeft-l.x-c.x,y:o.top+s.scrollTop-l.y-c.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},tF={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,a="fixed"===i,o=th(n),s=!!t&&tb(t.floating);if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=e1(1),u=e1(0),d=tg(n);if((d||!d&&!a)&&(("body"!==td(n)||tv(o))&&(l=tS(n)),tg(n))){let e=t_(n);c=tR(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}let p=!o||d||a?e1(0):tL(o,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:r.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:th,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,a=[..."clippingAncestors"===r?tb(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=tj(e,[],!1).filter(e=>tf(e)&&"body"!==td(e)),i=null,a="fixed"===tk(e).position,o=a?tE(e):e;for(;tf(o)&&!tC(o);){let t=tk(o),r=tw(o);r||"fixed"!==t.position||(i=null),(a?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||tv(o)&&!r&&function e(t,r){let n=tE(t);return!(n===r||!tf(n)||tC(n))&&("fixed"===tk(n).position||e(n,r))}(e,o))?n=n.filter(e=>e!==o):i=t,o=tE(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=a[0],s=a.reduce((e,r)=>{let n=tO(t,r,i);return e.top=eZ(n.top,e.top),e.right=eY(n.right,e.right),e.bottom=eY(n.bottom,e.bottom),e.left=eZ(n.left,e.left),e},tO(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:tz,getElementRects:tH,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=tP(e);return{width:t,height:r}},getScale:tR,isElement:tf,isRTL:function(e){return"rtl"===tk(e).direction}};function tK(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let tU=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=e4(e,t)||{};if(null==c)return{};let d=tr(u),p={x:r,y:n},h=e9(e8(i)),m=e7(h),f=await o.getDimensions(c),g="y"===h,y=g?"clientHeight":"clientWidth",v=a.reference[m]+a.reference[h]-p[h]-a.floating[m],b=p[h]-a.reference[h],w=await (null==o.getOffsetParent?void 0:o.getOffsetParent(c)),x=w?w[y]:0;x&&await (null==o.isElement?void 0:o.isElement(w))||(x=s.floating[y]||a.floating[m]);let C=x/2-f[m]/2-1,k=eY(d[g?"top":"left"],C),S=eY(d[g?"bottom":"right"],C),E=x-f[m]-S,j=x/2-f[m]/2+(v/2-b/2),A=eZ(k,eY(j,E)),P=!l.arrow&&null!=e6(i)&&j!==A&&a.reference[m]/2-(j<k?k:S)-f[m]/2<0,N=P?j<k?j-k:j-E:0;return{[h]:p[h]+N,data:{[h]:A,centerOffset:j-A-N,...P&&{alignmentOffset:N}},reset:P}}});var tW=e.i(74080),t$="undefined"!=typeof document?R.useLayoutEffect:R.useEffect;function tV(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!tV(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!tV(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function tG(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tq(e,t){let r=tG(e);return Math.round(t*r)/r}function tQ(e){let t=R.useRef(e);return t$(()=>{t.current=e}),t}var tJ=R.forwardRef((e,t)=>{let{children:r,width:n=10,height:i=5,...a}=e;return(0,N.jsx)(eK.Primitive.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,N.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tJ.displayName="Arrow";var tY=e.i(34620);function tZ(e){let[t,r]=R.useState(void 0);return(0,tY.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}var tX="Popper",[t0,t1]=(0,eF.createContextScope)(tX),[t2,t3]=t0(tX),t4=e=>{let{__scopePopper:t,children:r}=e,[n,i]=R.useState(null);return(0,N.jsx)(t2,{scope:t,anchor:n,onAnchorChange:i,children:r})};t4.displayName=tX;var t5="PopperAnchor",t6=R.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...i}=e,a=t3(t5,r),o=R.useRef(null),s=(0,eH.useComposedRefs)(t,o);return R.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:(0,N.jsx)(eK.Primitive.div,{...i,ref:s})});t6.displayName=t5;var t9="PopperContent",[t7,t8]=t0(t9),re=R.forwardRef((e,t)=>{var r,n,i,a,o,s,l,c,u,d,p,h,m,f,g,y,v,b,w,x,C;let{__scopePopper:k,side:S="bottom",sideOffset:E=0,align:j="center",alignOffset:A=0,arrowPadding:P=0,avoidCollisions:T=!0,collisionBoundary:I=[],collisionPadding:_=0,sticky:D="partial",hideWhenDetached:L=!1,updatePositionStrategy:O="optimized",onPlaced:M,...B}=e,z=t3(t9,k),[H,F]=R.useState(null),K=(0,eH.useComposedRefs)(t,e=>F(e)),[U,W]=R.useState(null),$=tZ(U),V=$?.width??0,G=$?.height??0,q="number"==typeof _?_:{top:0,right:0,bottom:0,left:0,..._},Q=Array.isArray(I)?I:[I],J=Q.length>0,Y={padding:q,boundary:Q.filter(ri),altBoundary:J},{refs:Z,floatingStyles:X,placement:ee,isPositioned:et,middlewareData:er}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[u,d]=R.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=R.useState(n);tV(p,n)||h(n);let[m,f]=R.useState(null),[g,y]=R.useState(null),v=R.useCallback(e=>{e!==C.current&&(C.current=e,f(e))},[]),b=R.useCallback(e=>{e!==k.current&&(k.current=e,y(e))},[]),w=a||m,x=o||g,C=R.useRef(null),k=R.useRef(null),S=R.useRef(u),E=null!=l,j=tQ(l),A=tQ(i),P=tQ(c),N=R.useCallback(()=>{var e,n;let i,a,o;if(!C.current||!k.current)return;let s={placement:t,strategy:r,middleware:p};A.current&&(s.platform=A.current),(e=C.current,n=k.current,i=new Map,o={...(a={platform:tF,...s}).platform,_c:i},ta(e,n,{...a,platform:o})).then(e=>{let t={...e,isPositioned:!1!==P.current};T.current&&!tV(S.current,t)&&(S.current=t,tW.flushSync(()=>{d(t)}))})},[p,t,r,A,P]);t$(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[c]);let T=R.useRef(!1);t$(()=>(T.current=!0,()=>{T.current=!1}),[]),t$(()=>{if(w&&(C.current=w),x&&(k.current=x),w&&x){if(j.current)return j.current(w,x,N);N()}},[w,x,N,j,E]);let I=R.useMemo(()=>({reference:C,floating:k,setReference:v,setFloating:b}),[v,b]),_=R.useMemo(()=>({reference:w,floating:x}),[w,x]),D=R.useMemo(()=>{let e={position:r,left:0,top:0};if(!_.floating)return e;let t=tq(_.floating,u.x),n=tq(_.floating,u.y);return s?{...e,transform:"translate("+t+"px, "+n+"px)",...tG(_.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,s,_.floating,u.x,u.y]);return R.useMemo(()=>({...u,update:N,refs:I,elements:_,floatingStyles:D}),[u,N,I,_,D])}({strategy:"fixed",placement:S+("center"!==j?"-"+j:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,u=tN(e),d=a||o?[...u?tj(u):[],...tj(t)]:[];d.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)});let p=u&&l?function(e,t){let r,n=null,i=th(e);function a(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function o(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),a();let c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:h}=c;if(s||t(),!p||!h)return;let m={rootMargin:-e0(d)+"px "+-e0(i.clientWidth-(u+p))+"px "+-e0(i.clientHeight-(d+h))+"px "+-e0(u)+"px",threshold:eZ(0,eY(1,l))||1},f=!0;function g(t){let n=t[0].intersectionRatio;if(n!==l){if(!f)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==n||tK(c,e.getBoundingClientRect())||o(),f=!1}try{n=new IntersectionObserver(g,{...m,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(g,m)}n.observe(e)}(!0),a}(u,r):null,h=-1,m=null;s&&(m=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let f=c?t_(e):null;return c&&function t(){let n=t_(e);f&&!tK(f,n)&&r(),f=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{a&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)}),null==p||p(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===O}),elements:{reference:z.anchor},middleware:[{...{name:"offset",options:i=r={mainAxis:E+G,alignmentAxis:A},async fn(e){var t,r;let{x:n,y:a,placement:o,middlewareData:s}=e,l=await tc(e,i);return o===(null==(t=s.offset)?void 0:t.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:o}}}},options:[r,n]},T&&{...{name:"shift",options:u=l={mainAxis:!0,crossAxis:!1,limiter:"partial"===D?{...(void 0===(s=a)&&(s={}),{options:s,fn(e){let{x:t,y:r,placement:n,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=e4(s,e),u={x:t,y:r},d=e8(n),p=e9(d),h=u[p],m=u[d],f=e4(o,e),g="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){let e="y"===p?"height":"width",t=i.reference[p]-i.floating[e]+g.mainAxis,r=i.reference[p]+i.reference[e]-g.mainAxis;h<t?h=t:h>r&&(h=r)}if(c){var y,v;let e="y"===p?"width":"height",t=["top","left"].includes(e5(n)),r=i.reference[d]-i.floating[e]+(t&&(null==(y=a.offset)?void 0:y[d])||0)+(t?0:g.crossAxis),o=i.reference[d]+i.reference[e]+(t?0:(null==(v=a.offset)?void 0:v[d])||0)-(t?g.crossAxis:0);m<r?m=r:m>o&&(m=o)}return{[p]:h,[d]:m}}}),options:[a,o]}:void 0,...Y},async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...s}=e4(u,e),l={x:t,y:r},c=await to(e,s),d=e8(e5(n)),p=e9(d),h=l[p],m=l[d];if(i){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",r=h+c[e],n=h-c[t];h=eZ(r,eY(h,n))}if(a){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=m+c[e],n=m-c[t];m=eZ(r,eY(m,n))}let f=o.fn({...e,[p]:h,[d]:m});return{...f,data:{x:f.x-t,y:f.y-r,enabled:{[p]:i,[d]:a}}}}},options:[l,c]},T&&{...{name:"flip",options:h=d={...Y},async fn(e){var t,r,n,i,a,o,s,l,c;let u,d,p,{placement:m,middlewareData:f,rects:g,initialPlacement:y,platform:v,elements:b}=e,{mainAxis:w=!0,crossAxis:x=!0,fallbackPlacements:C,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...j}=e4(h,e);if(null!=(t=f.arrow)&&t.alignmentOffset)return{};let A=e5(m),P=e8(y),N=e5(y)===y,R=await (null==v.isRTL?void 0:v.isRTL(b.floating)),T=C||(N||!E?[tt(y)]:(u=tt(y),[te(y),u,te(u)])),I="none"!==S;!C&&I&&T.push(...(d=e6(y),p=function(e,t,r){let n=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(e5(y),"start"===S,R),d&&(p=p.map(e=>e+"-"+d),E&&(p=p.concat(p.map(te)))),p));let _=[y,...T],D=await to(e,j),L=[],O=(null==(r=f.flip)?void 0:r.overflows)||[];if(w&&L.push(D[A]),x){let e,t,r,n,i=(s=m,l=g,void 0===(c=R)&&(c=!1),e=e6(s),r=e7(t=e9(e8(s))),n="x"===t?e===(c?"end":"start")?"right":"left":"start"===e?"bottom":"top",l.reference[r]>l.floating[r]&&(n=tt(n)),[n,tt(n)]);L.push(D[i[0]],D[i[1]])}if(O=[...O,{placement:m,overflows:L}],!L.every(e=>e<=0)){let e=((null==(n=f.flip)?void 0:n.index)||0)+1,t=_[e];if(t){let r="alignment"===x&&P!==e8(t),n=(null==(a=O[0])?void 0:a.overflows[0])>0;if(!r||n)return{data:{index:e,overflows:O},reset:{placement:t}}}let r=null==(i=O.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!r)switch(k){case"bestFit":{let e=null==(o=O.filter(e=>{if(I){let t=e8(e.placement);return t===P||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(r=e);break}case"initialPlacement":r=y}if(m!==r)return{reset:{placement:r}}}return{}}},options:[d,p]},{...{name:"size",options:g=m={...Y,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:i,height:a}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${n}px`),o.setProperty("--radix-popper-anchor-width",`${i}px`),o.setProperty("--radix-popper-anchor-height",`${a}px`)}},async fn(e){var t,r;let n,i,{placement:a,rects:o,platform:s,elements:l}=e,{apply:c=()=>{},...u}=e4(g,e),d=await to(e,u),p=e5(a),h=e6(a),m="y"===e8(a),{width:f,height:y}=o.floating;"top"===p||"bottom"===p?(n=p,i=h===(await (null==s.isRTL?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(i=p,n="end"===h?"top":"bottom");let v=y-d.top-d.bottom,b=f-d.left-d.right,w=eY(y-d[n],v),x=eY(f-d[i],b),C=!e.middlewareData.shift,k=w,S=x;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(S=b),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(k=v),C&&!h){let e=eZ(d.left,0),t=eZ(d.right,0),r=eZ(d.top,0),n=eZ(d.bottom,0);m?S=f-2*(0!==e||0!==t?e+t:eZ(d.left,d.right)):k=y-2*(0!==r||0!==n?r+n:eZ(d.top,d.bottom))}await c({...e,availableWidth:S,availableHeight:k});let E=await s.getDimensions(l.floating);return f!==E.width||y!==E.height?{reset:{rects:!0}}:{}}},options:[m,f]},U&&{...{name:"arrow",options:b=y={element:U,padding:P},fn(e){let{element:t,padding:r}="function"==typeof b?b(e):b;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?tU({element:t.current,padding:r}).fn(e):{}:t?tU({element:t,padding:r}).fn(e):{}}},options:[y,v]},ra({arrowWidth:V,arrowHeight:G}),L&&{...{name:"hide",options:C=w={strategy:"referenceHidden",...Y},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...n}=e4(C,e);switch(r){case"referenceHidden":{let r=ts(await to(e,{...n,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:tl(r)}}}case"escaped":{let r=ts(await to(e,{...n,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:tl(r)}}}default:return{}}}},options:[w,x]}]}),[en,ei]=ro(ee),ea=(0,eU.useCallbackRef)(M);(0,tY.useLayoutEffect)(()=>{et&&ea?.()},[et,ea]);let eo=er.arrow?.x,es=er.arrow?.y,el=er.arrow?.centerOffset!==0,[ec,eu]=R.useState();return(0,tY.useLayoutEffect)(()=>{H&&eu(window.getComputedStyle(H).zIndex)},[H]),(0,N.jsx)("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:et?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ec,"--radix-popper-transform-origin":[er.transformOrigin?.x,er.transformOrigin?.y].join(" "),...er.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,N.jsx)(t7,{scope:k,placedSide:en,onArrowChange:W,arrowX:eo,arrowY:es,shouldHideArrow:el,children:(0,N.jsx)(eK.Primitive.div,{"data-side":en,"data-align":ei,...B,ref:K,style:{...B.style,animation:et?void 0:"none"}})})})});re.displayName=t9;var rt="PopperArrow",rr={top:"bottom",right:"left",bottom:"top",left:"right"},rn=R.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,i=t8(rt,r),a=rr[i.placedSide];return(0,N.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,N.jsx)(tJ,{...n,ref:t,style:{...n.style,display:"block"}})})});function ri(e){return null!==e}rn.displayName=rt;var ra=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,s=a?0:e.arrowHeight,[l,c]=ro(r),u={start:"0%",center:"50%",end:"100%"}[c],d=(i.arrow?.x??0)+o/2,p=(i.arrow?.y??0)+s/2,h="",m="";return"bottom"===l?(h=a?u:`${d}px`,m=`${-s}px`):"top"===l?(h=a?u:`${d}px`,m=`${n.floating.height+s}px`):"right"===l?(h=`${-s}px`,m=a?u:`${p}px`):"left"===l&&(h=`${n.floating.width+s}px`,m=a?u:`${p}px`),{data:{x:h,y:m}}}});function ro(e){let[t,r="center"]=e.split("-");return[t,r]}var rs=R.forwardRef((e,t)=>{let{container:r,...n}=e,[i,a]=R.useState(!1);(0,tY.useLayoutEffect)(()=>a(!0),[]);let o=r||i&&globalThis?.document?.body;return o?tW.default.createPortal((0,N.jsx)(eK.Primitive.div,{...n,ref:t}),o):null});rs.displayName="Portal";var rl=e.i(96626),rc=eB,ru=e.i(69340),rd=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rp=R.forwardRef((e,t)=>(0,N.jsx)(eK.Primitive.span,{...e,ref:t,style:{...rd,...e.style}}));rp.displayName="VisuallyHidden",e.s(["Root",()=>rp,"VISUALLY_HIDDEN_STYLES",()=>rd,"VisuallyHidden",()=>rp],59411);var[rh,rm]=(0,eF.createContextScope)("Tooltip",[t1]),rf=t1(),rg="TooltipProvider",ry="tooltip.open",[rv,rb]=rh(rg),rw=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=R.useRef(!0),s=R.useRef(!1),l=R.useRef(0);return R.useEffect(()=>{let e=l.current;return()=>window.clearTimeout(e)},[]),(0,N.jsx)(rv,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:R.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:R.useCallback(e=>{s.current=e},[]),disableHoverableContent:i,children:a})};rw.displayName=rg;var rx="Tooltip",[rC,rk]=rh(rx),rS=e=>{let{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,l=rb(rx,e.__scopeTooltip),c=rf(t),[u,d]=R.useState(null),p=(0,eQ.useId)(),h=R.useRef(0),m=o??l.disableHoverableContent,f=s??l.delayDuration,g=R.useRef(!1),[y,v]=(0,ru.useControllableState)({prop:n,defaultProp:i??!1,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(ry))):l.onClose(),a?.(e)},caller:rx}),b=R.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),w=R.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,v(!0)},[v]),x=R.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),C=R.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,v(!0),h.current=0},f)},[f,v]);return R.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,N.jsx)(t4,{...c,children:(0,N.jsx)(rC,{scope:t,contentId:p,open:y,stateAttribute:b,trigger:u,onTriggerChange:d,onTriggerEnter:R.useCallback(()=>{l.isOpenDelayedRef.current?C():w()},[l.isOpenDelayedRef,C,w]),onTriggerLeave:R.useCallback(()=>{m?x():(window.clearTimeout(h.current),h.current=0)},[x,m]),onOpen:w,onClose:x,disableHoverableContent:m,children:r})})};rS.displayName=rx;var rE="TooltipTrigger",rj=R.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,i=rk(rE,r),a=rb(rE,r),o=rf(r),s=R.useRef(null),l=(0,eH.useComposedRefs)(t,s,i.onTriggerChange),c=R.useRef(!1),u=R.useRef(!1),d=R.useCallback(()=>c.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),(0,N.jsx)(t6,{asChild:!0,...o,children:(0,N.jsx)(eK.Primitive.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:(0,ez.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(u.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))}),onPointerLeave:(0,ez.composeEventHandlers)(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:(0,ez.composeEventHandlers)(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:(0,ez.composeEventHandlers)(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:(0,ez.composeEventHandlers)(e.onBlur,i.onClose),onClick:(0,ez.composeEventHandlers)(e.onClick,i.onClose)})})});rj.displayName=rE;var rA="TooltipPortal",[rP,rN]=rh(rA,{forceMount:void 0}),rR=e=>{let{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,a=rk(rA,t);return(0,N.jsx)(rP,{scope:t,forceMount:r,children:(0,N.jsx)(rl.Presence,{present:r||a.open,children:(0,N.jsx)(rs,{asChild:!0,container:i,children:n})})})};rR.displayName=rA;var rT="TooltipContent",rI=R.forwardRef((e,t)=>{let r=rN(rT,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=rk(rT,e.__scopeTooltip);return(0,N.jsx)(rl.Presence,{present:n||o.open,children:o.disableHoverableContent?(0,N.jsx)(rM,{side:i,...a,ref:t}):(0,N.jsx)(r_,{side:i,...a,ref:t})})}),r_=R.forwardRef((e,t)=>{let r=rk(rT,e.__scopeTooltip),n=rb(rT,e.__scopeTooltip),i=R.useRef(null),a=(0,eH.useComposedRefs)(t,i),[o,s]=R.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,p=R.useCallback(()=>{s(null),d(!1)},[d]),h=R.useCallback((e,t)=>{let r,n=e.currentTarget,i={x:e.clientX,y:e.clientY},a=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(i,n.getBoundingClientRect());s(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(i,a),...function(e){let{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),d(!0)},[d]);return R.useEffect(()=>()=>p(),[p]),R.useEffect(()=>{if(l&&u){let e=e=>h(e,u),t=e=>h(e,l);return l.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[l,u,h,p]),R.useEffect(()=>{if(o){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=l?.contains(t)||u?.contains(t),i=!function(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],l=o.x,c=o.y,u=s.x,d=s.y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(i=!i)}return i}(r,o);n?p():i&&(p(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,u,o,c,p]),(0,N.jsx)(rM,{...e,ref:a})}),[rD,rL]=rh(rx,{isInside:!1}),rO=(0,rc.createSlottable)("TooltipContent"),rM=R.forwardRef((e,t)=>{let{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,l=rk(rT,r),c=rf(r),{onClose:u}=l;return R.useEffect(()=>(document.addEventListener(ry,u),()=>document.removeEventListener(ry,u)),[u]),R.useEffect(()=>{if(l.trigger){let e=e=>{let t=e.target;t?.contains(l.trigger)&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,u]),(0,N.jsx)(eV,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,N.jsxs)(re,{"data-state":l.stateAttribute,...c,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,N.jsx)(rO,{children:n}),(0,N.jsx)(rD,{scope:r,isInside:!0,children:(0,N.jsx)(rp,{id:l.contentId,role:"tooltip",children:i||n})})]})})});rI.displayName=rT;var rB="TooltipArrow",rz=R.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,i=rf(r);return rL(rB,r).isInside?null:(0,N.jsx)(rn,{...i,...n,ref:t})});rz.displayName=rB,e.s(["Arrow",()=>rz,"Content",()=>rI,"Portal",()=>rR,"Provider",()=>rw,"Root",()=>rS,"Tooltip",()=>rS,"TooltipArrow",()=>rz,"TooltipContent",()=>rI,"TooltipPortal",()=>rR,"TooltipProvider",()=>rw,"TooltipTrigger",()=>rj,"Trigger",()=>rj,"createTooltipScope",()=>rm],86336);var rH=e.i(86336),rH=rH;let rF={asChild:{type:"boolean"}},rK=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],rU={color:{type:"enum",values:rK,default:void 0}},rW={color:{type:"enum",values:rK,default:""}},r$=["none","small","medium","large","full"],rV={radius:{type:"enum",values:r$,default:void 0}},rG={...rF,hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:["inherit","light","dark"],default:"inherit"},accentColor:{type:"enum",values:rK,default:"indigo"},grayColor:{type:"enum",values:["auto","gray","mauve","slate","sage","olive","sand"],default:"auto"},panelBackground:{type:"enum",values:["solid","translucent"],default:"translucent"},radius:{type:"enum",values:r$,default:"medium"},scaling:{type:"enum",values:["90%","95%","100%","105%","110%"],default:"100%"}},rq=()=>{},rQ=R.createContext(void 0);function rJ(){let e=R.useContext(rQ);if(void 0===e)throw Error("`useThemeContext` must be used within a `Theme`");return e}let rY=R.forwardRef((e,t)=>void 0===R.useContext(rQ)?R.createElement(rH.Provider,{delayDuration:200},R.createElement(eM.Provider,{dir:"ltr"},R.createElement(rZ,{...e,ref:t}))):R.createElement(rX,{...e,ref:t}));rY.displayName="Theme";let rZ=R.forwardRef((e,t)=>{let{appearance:r=rG.appearance.default,accentColor:n=rG.accentColor.default,grayColor:i=rG.grayColor.default,panelBackground:a=rG.panelBackground.default,radius:o=rG.radius.default,scaling:s=rG.scaling.default,hasBackground:l=rG.hasBackground.default,...c}=e,[u,d]=R.useState(r);R.useEffect(()=>d(r),[r]);let[p,h]=R.useState(n);R.useEffect(()=>h(n),[n]);let[m,f]=R.useState(i);R.useEffect(()=>f(i),[i]);let[g,y]=R.useState(a);R.useEffect(()=>y(a),[a]);let[v,b]=R.useState(o);R.useEffect(()=>b(o),[o]);let[w,x]=R.useState(s);return R.useEffect(()=>x(s),[s]),R.createElement(rX,{...c,ref:t,isRoot:!0,hasBackground:l,appearance:u,accentColor:p,grayColor:m,panelBackground:g,radius:v,scaling:w,onAppearanceChange:d,onAccentColorChange:h,onGrayColorChange:f,onPanelBackgroundChange:y,onRadiusChange:b,onScalingChange:x})});rZ.displayName="ThemeRoot";let rX=R.forwardRef((e,t)=>{let r=R.useContext(rQ),{asChild:n,isRoot:i,hasBackground:a,appearance:o=r?.appearance??rG.appearance.default,accentColor:s=r?.accentColor??rG.accentColor.default,grayColor:l=r?.resolvedGrayColor??rG.grayColor.default,panelBackground:c=r?.panelBackground??rG.panelBackground.default,radius:u=r?.radius??rG.radius.default,scaling:d=r?.scaling??rG.scaling.default,onAppearanceChange:p=rq,onAccentColorChange:h=rq,onGrayColorChange:m=rq,onPanelBackgroundChange:f=rq,onRadiusChange:g=rq,onScalingChange:y=rq,...v}=e,b=n?eB.Root:"div",w="auto"===l?function(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}(s):l,x="light"===e.appearance||"dark"===e.appearance;return R.createElement(rQ.Provider,{value:R.useMemo(()=>({appearance:o,accentColor:s,grayColor:l,resolvedGrayColor:w,panelBackground:c,radius:u,scaling:d,onAppearanceChange:p,onAccentColorChange:h,onGrayColorChange:m,onPanelBackgroundChange:f,onRadiusChange:g,onScalingChange:y}),[o,s,l,w,c,u,d,p,h,m,f,g,y])},R.createElement(b,{"data-is-root-theme":i?"true":"false","data-accent-color":s,"data-gray-color":w,"data-has-background":(void 0===a?i||x:a)?"true":"false","data-panel-background":c,"data-radius":u,"data-scaling":d,ref:t,...v,className:(0,eO.default)("radix-themes",{light:"light"===o,dark:"dark"===o},v.className)}))});rX.displayName="ThemeImpl",e.s(["Theme",()=>rY,"useThemeContext",()=>rJ],74547);let r0=(0,R.createContext)(void 0);function r1(){let e=(0,R.useContext)(r0);if(!e)throw Error("useTheme must be used within a BigBlocksThemeProvider");return e}e.s(["BitcoinThemeProvider",0,function({children:e,defaultTheme:t="purple",storageKey:r="bigblocks-theme",showThemePanel:n=!1,appearance:i="inherit",grayColor:a="auto",radius:o="medium",scaling:s="100%",panelBackground:l="solid",hasBackground:c=!1,...u}){let[d,p]=(0,R.useState)(t),[h,m]=(0,R.useState)("light"),f=(0,R.useMemo)(()=>({...Object.fromEntries(["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"].map(e=>[e,{accentColor:e}])),light:{accentColor:"blue"},dark:{accentColor:"blue"},neo:{accentColor:"cyan",grayColor:"slate",panelBackground:"translucent"},cyberpunk:{accentColor:"violet",grayColor:"slate",panelBackground:"translucent"},neon:{accentColor:"pink",grayColor:"slate",panelBackground:"translucent"},noir:{accentColor:"gray",grayColor:"slate",panelBackground:"solid"},aurora:{accentColor:"violet",grayColor:"mauve",panelBackground:"translucent"},nebula:{accentColor:"iris",grayColor:"slate",panelBackground:"translucent"},prism:{accentColor:"iris",grayColor:"gray"},vortex:{accentColor:"indigo",grayColor:"slate",panelBackground:"translucent"},forest:{accentColor:"green",grayColor:"sage"},ocean:{accentColor:"cyan",grayColor:"slate"},sunset:{accentColor:"orange",grayColor:"sand"},midnight:{accentColor:"indigo",grayColor:"slate",panelBackground:"translucent"},dawn:{accentColor:"amber",grayColor:"sand"},twilight:{accentColor:"purple",grayColor:"mauve"},storm:{accentColor:"gray",grayColor:"slate"},arctic:{accentColor:"sky",grayColor:"slate"},rose:{accentColor:"pink",grayColor:"mauve"},lavender:{accentColor:"purple",grayColor:"mauve"},emerald:{accentColor:"jade",grayColor:"sage"},sapphire:{accentColor:"blue",grayColor:"slate"},ruby:{accentColor:"red",grayColor:"mauve"},topaz:{accentColor:"amber",grayColor:"sand"},onyx:{accentColor:"gray",grayColor:"slate"},pearl:{accentColor:"gray",grayColor:"sage"},vintage:{accentColor:"brown",grayColor:"sand"},sepia:{accentColor:"brown",grayColor:"sand"},monochrome:{accentColor:"gray",grayColor:"gray"},pastel:{accentColor:"pink",grayColor:"mauve"},vibrant:{accentColor:"tomato",grayColor:"gray"},minimal:{accentColor:"gray",grayColor:"auto"},luxury:{accentColor:"gold",grayColor:"slate",panelBackground:"solid"},cosmic:{accentColor:"violet",grayColor:"slate",panelBackground:"translucent"}}),[]);(0,R.useEffect)(()=>{if("undefined"!=typeof window){if(r)try{let e=localStorage.getItem(r);e&&e in f&&p(e)}catch(e){console.debug("BigBlocksThemeProvider: Could not access localStorage",e)}if(window.matchMedia){let e=window.matchMedia("(prefers-color-scheme: dark)");m(e.matches?"dark":"light");let t=e=>{m(e.matches?"dark":"light")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}}},[r,f]);let g=f[d];g||console.warn(`BigBlocksThemeProvider: Theme "${d}" not found in theme configurations. Falling back to "blue" theme.`);let y=g||f.blue;return(0,N.jsx)(r0.Provider,{value:{theme:d,setTheme:e=>{if(p(e),"undefined"!=typeof window&&r)try{localStorage.setItem(r,e)}catch(e){console.debug("BigBlocksThemeProvider: Could not save theme to localStorage",e)}}},children:(0,N.jsx)(rY,{accentColor:y.accentColor,appearance:"inherit"!==i?i:"dark"===d?"dark":"light"===d?"light":h,grayColor:y.grayColor||a,radius:o,scaling:s,panelBackground:y.panelBackground||l,hasBackground:c,...u,children:(0,N.jsxs)("div",{className:"bigblocks",children:[e,n&&(0,N.jsx)("div",{style:{position:"fixed",bottom:20,right:20,zIndex:9999},children:!1})]})})})},"useTheme",()=>r1],83445);var r2="undefined"==typeof window||"Deno"in globalThis;function r3(){}function r4(e,t){return"function"==typeof e?e(t):e}function r5(e,t){return"function"==typeof e?e(t):e}function r6(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==r7(o,t.options))return!1}else if(!ne(t.queryKey,o))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof s||t.isStale()===s)&&(!i||i===t.state.fetchStatus)&&(!a||!!a(t))}function r9(e,t){let{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(r8(t.options.mutationKey)!==r8(a))return!1}else if(!ne(t.options.mutationKey,a))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function r7(e,t){return(t?.queryKeyHashFn||r8)(e)}function r8(e){return JSON.stringify(e,(e,t)=>nr(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function ne(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>ne(e[r],t[r]))}function nt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nr(e){if(!nn(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!nn(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function nn(e){return"[object Object]"===Object.prototype.toString.call(e)}function ni(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function na(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var no=Symbol();function ns(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==no?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}var nl=(n=[],i=0,a=e=>{e()},o=e=>{e()},s=e=>setTimeout(e,0),{batch:e=>{let t;i++;try{t=e()}finally{let e;--i||(e=n,n=[],e.length&&s(()=>{o(()=>{e.forEach(e=>{a(e)})})}))}return t},batchCalls:e=>(...t)=>{l(()=>{e(...t)})},schedule:l=e=>{i?n.push(e):s(()=>{a(e)})},setNotifyFunction:e=>{a=e},setBatchNotifyFunction:e=>{o=e},setScheduler:e=>{s=e}}),nc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nu=new class extends nc{#c;#u;#d;constructor(){super(),this.#d=e=>{if(!r2&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#u||this.setEventListener(this.#d)}onUnsubscribe(){this.hasListeners()||(this.#u?.(),this.#u=void 0)}setEventListener(e){this.#d=e,this.#u?.(),this.#u=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#c!==e&&(this.#c=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#c?this.#c:globalThis.document?.visibilityState!=="hidden"}},nd=new class extends nc{#p=!0;#u;#d;constructor(){super(),this.#d=e=>{if(!r2&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#u||this.setEventListener(this.#d)}onUnsubscribe(){this.hasListeners()||(this.#u?.(),this.#u=void 0)}setEventListener(e){this.#d=e,this.#u?.(),this.#u=e(this.setOnline.bind(this))}setOnline(e){this.#p!==e&&(this.#p=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#p}};function np(e){return Math.min(1e3*2**e,3e4)}function nh(e){return(e??"online")!=="online"||nd.isOnline()}var nm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function nf(e){return e instanceof nm}function ng(e){let t,r=!1,n=0,i=!1,a=function(){let e,t,r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}(),o=()=>nu.isFocused()&&("always"===e.networkMode||nd.isOnline())&&e.canRun(),s=()=>nh(e.networkMode)&&e.canRun(),l=r=>{i||(i=!0,e.onSuccess?.(r),t?.(),a.resolve(r))},c=r=>{i||(i=!0,e.onError?.(r),t?.(),a.reject(r))},u=()=>new Promise(r=>{t=e=>{(i||o())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,i||e.onContinue?.()}),d=()=>{let t;if(i)return;let a=0===n?e.initialPromise:void 0;try{t=a??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(l).catch(t=>{if(i)return;let a=e.retry??3*!r2,s=e.retryDelay??np,l="function"==typeof s?s(n,t):s,p=!0===a||"number"==typeof a&&n<a||"function"==typeof a&&a(n,t);r||!p?c(t):(n++,e.onFail?.(n,t),new Promise(e=>{setTimeout(e,l)}).then(()=>o()?void 0:u()).then(()=>{r?c(t):d()}))})};return{promise:a,cancel:t=>{i||(c(new nm(t)),e.abort?.())},continue:()=>(t?.(),a),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:s,start:()=>(s()?d():u().then(d),a)}}var ny=class{#h;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#h=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(r2?1/0:3e5))}clearGcTimeout(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}},nv=class extends ny{#m;#f;#g;#y;#v;#b;#w;constructor(e){super(),this.#w=!1,this.#b=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#y=e.client,this.#g=this.#y.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#m=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#m,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#v?.promise}setOptions(e){this.options={...this.#b,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#g.remove(this)}setData(e,t){var r,n,i;let a=(r=this.state.data,n=e,"function"==typeof(i=this.options).structuralSharing?i.structuralSharing(r,n):!1!==i.structuralSharing?function e(t,r){if(t===r)return t;let n=nt(t)&&nt(r);if(n||nr(t)&&nr(r)){let i=n?t:Object.keys(t),a=i.length,o=n?r:Object.keys(r),s=o.length,l=n?[]:{},c=new Set(i),u=0;for(let i=0;i<s;i++){let a=n?i:o[i];(!n&&c.has(a)||n)&&void 0===t[a]&&void 0===r[a]?(l[a]=void 0,u++):(l[a]=e(t[a],r[a]),l[a]===t[a]&&void 0!==t[a]&&u++)}return a===s&&u===a?t:l}return r}(r,n):n);return this.#x({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#x({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#v?.promise;return this.#v?.cancel(e),t?t.then(r3).catch(r3):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#m)}isActive(){return this.observers.some(e=>!1!==r5(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===no||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===r4(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){var t;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||(t=this.state.dataUpdatedAt,!Math.max(t+(e||0)-Date.now(),0)))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#v?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#v?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#v&&(this.#w?this.#v.cancel({revert:!0}):this.#v.cancelRetry()),this.scheduleGc()),this.#g.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#x({type:"invalidate"})}fetch(e,t){let r;if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#v)return this.#v.continueRetry(),this.#v.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let n=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#w=!0,n.signal)})},a=()=>{let e,r=ns(this.options,t),n=(i(e={client:this.#y,queryKey:this.queryKey,meta:this.meta}),e);return(this.#w=!1,this.options.persister)?this.options.persister(r,n,this):r(n)},o=(i(r={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#y,state:this.state,fetchFn:a}),r);this.options.behavior?.onFetch(o,this),this.#f=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#x({type:"fetch",meta:o.fetchOptions?.meta});let s=e=>{nf(e)&&e.silent||this.#x({type:"error",error:e}),nf(e)||(this.#g.config.onError?.(e,this),this.#g.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#v=ng({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0===e)return void s(Error(`${this.queryHash} data is undefined`));try{this.setData(e)}catch(e){s(e);return}this.#g.config.onSuccess?.(e,this),this.#g.config.onSettled?.(e,this.state.error,this),this.scheduleGc()},onError:s,onFail:(e,t)=>{this.#x({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#x({type:"pause"})},onContinue:()=>{this.#x({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#v.start()}#x(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...function(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nh(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if(nf(r)&&r.revert&&this.#f)return{...this.#f,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),nl.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#g.notify({query:this,type:"updated",action:e})})}},nb=class extends nc{constructor(e={}){super(),this.config=e,this.#C=new Map}#C;build(e,t,r){let n=t.queryKey,i=t.queryHash??r7(n,t),a=this.get(i);return a||(a=new nv({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#C.has(e.queryHash)||(this.#C.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#C.get(e.queryHash);t&&(e.destroy(),t===e&&this.#C.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nl.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#C.get(e)}getAll(){return[...this.#C.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>r6(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>r6(e,t)):t}notify(e){nl.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){nl.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nl.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},nw=class extends ny{#k;#S;#v;constructor(e){super(),this.mutationId=e.mutationId,this.#S=e.mutationCache,this.#k=[],this.state=e.state||nx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#k.includes(e)||(this.#k.push(e),this.clearGcTimeout(),this.#S.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#k=this.#k.filter(t=>t!==e),this.scheduleGc(),this.#S.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#k.length||("pending"===this.state.status?this.scheduleGc():this.#S.remove(this))}continue(){return this.#v?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#x({type:"continue"})};this.#v=ng({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#x({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#x({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#S.canRun(this)});let r="pending"===this.state.status,n=!this.#v.canStart();try{if(r)t();else{this.#x({type:"pending",variables:e,isPaused:n}),await this.#S.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#x({type:"pending",context:t,variables:e,isPaused:n})}let i=await this.#v.start();return await this.#S.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#S.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#x({type:"success",data:i}),i}catch(t){try{throw await this.#S.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#S.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#x({type:"error",error:t})}}finally{this.#S.runNext(this)}}#x(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),nl.batch(()=>{this.#k.forEach(t=>{t.onMutationUpdate(e)}),this.#S.notify({mutation:this,type:"updated",action:e})})}};function nx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nC=class extends nc{constructor(e={}){super(),this.config=e,this.#E=new Set,this.#j=new Map,this.#A=0}#E;#j;#A;build(e,t,r){let n=new nw({mutationCache:this,mutationId:++this.#A,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#E.add(e);let t=nk(e);if("string"==typeof t){let r=this.#j.get(t);r?r.push(e):this.#j.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#E.delete(e)){let t=nk(e);if("string"==typeof t){let r=this.#j.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#j.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=nk(e);if("string"!=typeof t)return!0;{let r=this.#j.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=nk(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#j.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){nl.batch(()=>{this.#E.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#E.clear(),this.#j.clear()})}getAll(){return Array.from(this.#E)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>r9(t,e))}findAll(e={}){return this.getAll().filter(t=>r9(e,t))}notify(e){nl.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return nl.batch(()=>Promise.all(e.map(e=>e.continue().catch(r3))))}};function nk(e){return e.options.scope?.id}function nS(e){return{onFetch:(t,r)=>{let n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[],s={pages:[],pageParams:[]},l=0,c=async()=>{let r=!1,c=ns(t.options,t.fetchOptions),u=async(e,n,i)=>{let a;if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let o=(Object.defineProperty(a={client:t.client,queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),a),s=await c(o),{maxPages:l}=t.options,u=i?na:ni;return{pages:u(e.pages,s,l),pageParams:u(e.pageParams,n,l)}};if(i&&a.length){let e="backward"===i,t={pages:a,pageParams:o},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:nE)(n,t);s=await u(t,r,e)}else{let t=e??a.length;do{let e=0===l?o[0]??n.initialPageParam:nE(n,s);if(l>0&&null==e)break;s=await u(s,e),l++}while(l<t)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function nE(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}var nj=class{#P;#S;#b;#N;#R;#T;#I;#_;constructor(e={}){this.#P=e.queryCache||new nb,this.#S=e.mutationCache||new nC,this.#b=e.defaultOptions||{},this.#N=new Map,this.#R=new Map,this.#T=0}mount(){this.#T++,1===this.#T&&(this.#I=nu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#P.onFocus())}),this.#_=nd.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#P.onOnline())}))}unmount(){this.#T--,0===this.#T&&(this.#I?.(),this.#I=void 0,this.#_?.(),this.#_=void 0)}isFetching(e){return this.#P.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#S.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#P.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#P.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(r4(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#P.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),i=this.#P.get(n.queryHash),a=i?.state.data,o="function"==typeof t?t(a):t;if(void 0!==o)return this.#P.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return nl.batch(()=>this.#P.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#P.get(t.queryHash)?.state}removeQueries(e){let t=this.#P;nl.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#P;return nl.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(nl.batch(()=>this.#P.findAll(e).map(e=>e.cancel(r)))).then(r3).catch(r3)}invalidateQueries(e,t={}){return nl.batch(()=>(this.#P.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(nl.batch(()=>this.#P.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(r3)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(r3)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#P.build(this,t);return r.isStaleByTime(r4(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(r3).catch(r3)}fetchInfiniteQuery(e){return e.behavior=nS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(r3).catch(r3)}ensureInfiniteQueryData(e){return e.behavior=nS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nd.isOnline()?this.#S.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#P}getMutationCache(){return this.#S}getDefaultOptions(){return this.#b}setDefaultOptions(e){this.#b=e}setQueryDefaults(e,t){this.#N.set(r8(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#N.values()],r={};return t.forEach(t=>{ne(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#R.set(r8(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#R.values()],r={};return t.forEach(t=>{ne(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#b.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=r7(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===no&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#b.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#P.clear(),this.#S.clear()}};e.s(["QueryClient",()=>nj],17751);var nA=R.createContext(void 0),nP=e=>{let t=R.useContext(nA);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},nN=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,N.jsx)(nA.Provider,{value:e,children:t}));e.s(["QueryClientProvider",()=>nN,"useQueryClient",()=>nP],12598);let nR=null;e.s(["BitcoinQueryProvider",0,function({children:e,queryClient:t}){let r=t;return r||(nR||(nR=new nj({defaultOptions:{queries:{staleTime:3e4,gcTime:3e5,retry:(e,t)=>{if(t&&"object"==typeof t&&"message"in t){let e=t.message;if(e.includes("insufficient funds")||e.includes("invalid"))return!1}return e<2},retryDelay:e=>Math.min(1e3*2**e,1e4)},mutations:{retry:!1}}})),r=nR),(0,N.jsx)(nN,{client:r,children:e})}],42059);var eB=eB;let nT={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},nI={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","solid","soft","surface","outline","ghost"],default:"solid"},...rW,...nT,...rV,loading:{type:"boolean",className:"rt-loading",default:!1}},n_=["initial","xs","sm","md","lg","xl"];function nD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function nL(e){return"object"==typeof e&&Object.keys(e).some(e=>n_.includes(e))}function nO({className:e,customProperties:t,...r}){return[nM({allowArbitraryValues:!0,className:e,...r}),function({customProperties:e,value:t,propValues:r,parseValue:n=e=>e}){let i={};if(!(!t||"string"==typeof t&&r.includes(t))){if("string"==typeof t&&(i=Object.fromEntries(e.map(e=>[e,t]))),nL(t))for(let n in t){if(!nD(t,n)||!n_.includes(n))continue;let a=t[n];if(!r.includes(a))for(let t of e)i={["initial"===n?t:`${t}-${n}`]:a,...i}}for(let e in i){let t=i[e];void 0!==t&&(i[e]=n(t))}return i}}({customProperties:t,...r})]}function nM({allowArbitraryValues:e,value:t,className:r,propValues:n,parseValue:i=e=>e}){let a=[];if(t){if("string"==typeof t&&n.includes(t))return nB(r,t,i);if(nL(t)){for(let o in t){if(!nD(t,o)||!n_.includes(o))continue;let s=t[o];if(void 0!==s){if(n.includes(s)){let e=nB(r,s,i),t="initial"===o?e:`${o}:${e}`;a.push(t)}else if(e){let e="initial"===o?r:`${o}:${r}`;a.push(e)}}}return a.join(" ")}if(e)return r}}function nB(e,t,r){let n=r(t),i=n?.startsWith("-"),a=i?n?.substring(1):n;return`${i?"-":""}${e}${e?"-":""}${a}`}function nz(...e){let t={};for(let r of e)r&&(t={...t,...r});return Object.keys(t).length?t:void 0}function nH(e,...t){let r,n,i={...e},a=function(...e){return Object.assign({},...e)}(...t);for(let e in a){let t=i[e],o=a[e];if(void 0!==o.default&&void 0===t&&(t=o.default),"enum"!==o.type||[o.default,...o.values].includes(t)||nL(t)||(t=o.default),i[e]=t,"className"in o&&o.className){delete i[e];let a="responsive"in o;if(!t||nL(t)&&!a)continue;if(nL(t)&&(void 0!==o.default&&void 0===t.initial&&(t.initial=o.default),"enum"===o.type&&([o.default,...o.values].includes(t.initial)||(t.initial=o.default))),"enum"===o.type){let e=nM({allowArbitraryValues:!1,value:t,className:o.className,propValues:o.values,parseValue:o.parseValue});r=(0,eO.default)(r,e);continue}if("string"===o.type||"enum | string"===o.type){let e="string"===o.type?[]:o.values,[i,a]=nO({className:o.className,customProperties:o.customProperties,propValues:e,parseValue:o.parseValue,value:t});n=nz(n,a),r=(0,eO.default)(r,i);continue}if("boolean"===o.type&&t){r=(0,eO.default)(r,o.className);continue}}}return i.className=(0,eO.default)(r,e.className),i.style=nz(n,e.style),i}let nF=["0","1","2","3","4","5","6","7","8","9"],nK={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:nF,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:nF,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:nF,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:nF,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:nF,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:nF,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:nF,responsive:!0}},nU={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},nW={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},n$=["visible","hidden","clip","scroll","auto"],nV=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],nG={...nK,...nW,...nU,position:{type:"enum",className:"rt-r-position",values:["static","relative","absolute","fixed","sticky"],responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:nV,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:nV,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:nV,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:nV,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:nV,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:n$,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:n$,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:n$,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:["0","1"],responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:["0","1"],responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},nq=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],nQ={m:{type:"enum | string",values:nq,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:nq,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:nq,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:nq,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:nq,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:nq,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:nq,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}};var eB=eB;eB.Root;let nJ=eB.Root;eB.Slottable;let nY=["0","1","2","3","4","5","6","7","8","9"],nZ={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:nY,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:nY,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:nY,responsive:!0}},nX={as:{type:"enum",values:["div","span"],default:"div"},...rF,display:{type:"enum",className:"rt-r-display",values:["none","inline-flex","flex"],responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:["row","column","row-reverse","column-reverse"],responsive:!0},align:{type:"enum",className:"rt-r-ai",values:["start","center","end","baseline","stretch"],responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:["start","center","end","between"],parseValue:function(e){return"between"===e?"space-between":e},responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:["nowrap","wrap","wrap-reverse"],responsive:!0},...nZ},n0=R.forwardRef((e,t)=>{let{className:r,asChild:n,as:i="div",...a}=nH(e,nX,nG,nQ);return R.createElement(n?nJ:i,{...a,ref:t,className:(0,eO.default)("rt-Flex",r)})});n0.displayName="Flex";let n1={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},loading:{type:"boolean",default:!0}},n2=R.forwardRef((e,t)=>{let{className:r,children:n,loading:i,...a}=nH(e,n1,nQ);if(!i)return n;let o=R.createElement("span",{...a,ref:t,className:(0,eO.default)("rt-Spinner",r)},R.createElement("span",{className:"rt-SpinnerLeaf"}),R.createElement("span",{className:"rt-SpinnerLeaf"}),R.createElement("span",{className:"rt-SpinnerLeaf"}),R.createElement("span",{className:"rt-SpinnerLeaf"}),R.createElement("span",{className:"rt-SpinnerLeaf"}),R.createElement("span",{className:"rt-SpinnerLeaf"}),R.createElement("span",{className:"rt-SpinnerLeaf"}),R.createElement("span",{className:"rt-SpinnerLeaf"}));return void 0===n?o:R.createElement(n0,{asChild:!0,position:"relative",align:"center",justify:"center"},R.createElement("span",null,R.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},n),R.createElement(n0,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},R.createElement("span",null,o))))});n2.displayName="Spinner";var n3=e.i(59411),n3=n3;let n4=n3.Root;function n5(e,t){if(void 0!==e)return"string"==typeof e?t(e):Object.fromEntries(Object.entries(e).map(([e,r])=>[e,t(r)]))}function n6(e){return"3"===e?"3":"2"}function n9(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}n3.Root;let n7=R.forwardRef((e,t)=>{let{size:r=nI.size.default}=e,{className:n,children:i,asChild:a,color:o,radius:s,disabled:l=e.loading,...c}=nH(e,nI,nQ),u=a?eB.Root:"button";return R.createElement(u,{"data-disabled":l||void 0,"data-accent-color":o,"data-radius":s,...c,ref:t,className:(0,eO.default)("rt-reset","rt-BaseButton",n),disabled:l},e.loading?R.createElement(R.Fragment,null,R.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},i),R.createElement(n4,null,i),R.createElement(n0,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},R.createElement("span",null,R.createElement(n2,{size:n5(r,n9)})))):i)});n7.displayName="BaseButton";let n8=R.forwardRef(({className:e,...t},r)=>R.createElement(n7,{...t,ref:r,className:(0,eO.default)("rt-Button",e)}));n8.displayName="Button";var ie="focusScope.autoFocusOnMount",it="focusScope.autoFocusOnUnmount",ir={bubbles:!1,cancelable:!0},ii=R.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=R.useState(null),c=(0,eU.useCallbackRef)(i),u=(0,eU.useCallbackRef)(a),d=R.useRef(null),p=(0,eH.useComposedRefs)(t,e=>l(e)),h=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(n){let e=function(e){if(h.paused||!s)return;let t=e.target;s.contains(t)?d.current=t:is(d.current,{select:!0})},t=function(e){if(h.paused||!s)return;let t=e.relatedTarget;null!==t&&(s.contains(t)||is(d.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&is(s)});return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,s,h.paused]),R.useEffect(()=>{if(s){il.add(h);let e=document.activeElement;if(!s.contains(e)){let t=new CustomEvent(ie,ir);s.addEventListener(ie,c),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(is(n,{select:t}),document.activeElement!==r)return}(ia(s).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&is(s))}return()=>{s.removeEventListener(ie,c),setTimeout(()=>{let t=new CustomEvent(it,ir);s.addEventListener(it,u),s.dispatchEvent(t),t.defaultPrevented||is(e??document.body,{select:!0}),s.removeEventListener(it,u),il.remove(h)},0)}}},[s,c,u,h]);let m=R.useCallback(e=>{if(!r&&!n||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){var a;let t,n=e.currentTarget,[o,s]=[io(t=ia(a=n),a),io(t.reverse(),a)];o&&s?e.shiftKey||i!==s?e.shiftKey&&i===o&&(e.preventDefault(),r&&is(s,{select:!0})):(e.preventDefault(),r&&is(o,{select:!0})):i===n&&e.preventDefault()}},[r,n,h.paused]);return(0,N.jsx)(eK.Primitive.div,{tabIndex:-1,...o,ref:p,onKeyDown:m})});function ia(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function io(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function is(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}ii.displayName="FocusScope";var il=(u=[],{add(e){let t=u[0];e!==t&&t?.pause(),(u=ic(u,e)).unshift(e)},remove(e){u=ic(u,e),u[0]?.resume()}});function ic(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var iu=0;function id(){R.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ip()),document.body.insertAdjacentElement("beforeend",e[1]??ip()),iu++,()=>{1===iu&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),iu--}},[])}function ip(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ih=function(){return(ih=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function im(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}var ig=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),iy="width-before-scroll-bar";function iv(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ib="undefined"!=typeof window?R.useLayoutEffect:R.useEffect,iw=new WeakMap,ix=(void 0===gu&&(gu={}),(void 0===gd&&(gd=function(e){return e}),gp=[],gh=!1,gm={read:function(){if(gh)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return gp.length?gp[gp.length-1]:null},useMedium:function(e){var t=gd(e,gh);return gp.push(t),function(){gp=gp.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(gh=!0;gp.length;){var t=gp;gp=[],t.forEach(e)}gp={push:function(t){return e(t)},filter:function(){return gp}}},assignMedium:function(e){gh=!0;var t=[];if(gp.length){var r=gp;gp=[],r.forEach(e),t=gp}var n=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(n)};i(),gp={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),gp}}}}).options=ih({async:!0,ssr:!1},gu),gm),iC=function(){},ik=R.forwardRef(function(e,t){var r,n,i,a,o=R.useRef(null),s=R.useState({onScrollCapture:iC,onWheelCapture:iC,onTouchMoveCapture:iC}),l=s[0],c=s[1],u=e.forwardProps,d=e.children,p=e.className,h=e.removeScrollBar,m=e.enabled,f=e.shards,g=e.sideCar,y=e.noRelative,v=e.noIsolation,b=e.inert,w=e.allowPinchZoom,x=e.as,C=e.gapMode,k=im(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=(r=[o,t],n=function(e){return r.forEach(function(t){return iv(t,e)})},(i=(0,R.useState)(function(){return{value:null,callback:n,facade:{get current(){return i.value},set current(value){var e=i.value;e!==value&&(i.value=value,i.callback(value,e))}}}})[0]).callback=n,a=i.facade,ib(function(){var e=iw.get(a);if(e){var t=new Set(e),n=new Set(r),i=a.current;t.forEach(function(e){n.has(e)||iv(e,null)}),n.forEach(function(e){t.has(e)||iv(e,i)})}iw.set(a,r)},[r]),a),E=ih(ih({},k),l);return R.createElement(R.Fragment,null,m&&R.createElement(g,{sideCar:ix,removeScrollBar:h,shards:f,noRelative:y,noIsolation:v,inert:b,setCallbacks:c,allowPinchZoom:!!w,lockRef:o,gapMode:C}),u?R.cloneElement(R.Children.only(d),ih(ih({},E),{ref:S})):R.createElement(void 0===x?"div":x,ih({},E,{className:p,ref:S}),d))});ik.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ik.classNames={fullWidth:iy,zeroRight:ig};var iS=function(e){var t=e.sideCar,r=im(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return R.createElement(n,ih({},r))};iS.isSideCarExport=!0;var iE=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gE||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var n,i;(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),i=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ij=function(){var e=iE();return function(t,r){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},iA=function(){var e=ij();return function(t){return e(t.styles,t.dynamic),null}},iP={left:0,top:0,right:0,gap:0},iN=function(e){return parseInt(e||"",10)||0},iR=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[iN(r),iN(n),iN(i)]},iT=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return iP;var t=iR(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},iI=iA(),i_="data-scroll-locked",iD=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body[").concat(i_,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ig," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(iy," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(ig," .").concat(ig," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(iy," .").concat(iy," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(i_,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},iL=function(){var e=parseInt(document.body.getAttribute(i_)||"0",10);return isFinite(e)?e:0},iO=function(){R.useEffect(function(){return document.body.setAttribute(i_,(iL()+1).toString()),function(){var e=iL()-1;e<=0?document.body.removeAttribute(i_):document.body.setAttribute(i_,e.toString())}},[])},iM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;iO();var a=R.useMemo(function(){return iT(i)},[i]);return R.createElement(iI,{styles:iD(a,!t,i,r?"":"!important")})},iB=!1;if("undefined"!=typeof window)try{var iz=Object.defineProperty({},"passive",{get:function(){return iB=!0,!0}});window.addEventListener("test",iz,iz),window.removeEventListener("test",iz,iz)}catch(e){iB=!1}var iH=!!iB&&{passive:!1},iF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},iK=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),iU(e,n)){var i=iW(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},iU=function(e,t){return"v"===e?iF(t,"overflowY"):iF(t,"overflowX")},iW=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},i$=function(e,t,r,n,i){var a,o=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),s=o*n,l=r.target,c=t.contains(l),u=!1,d=s>0,p=0,h=0;do{var m=iW(e,l),f=m[0],g=m[1]-m[2]-o*f;(f||g)&&iU(e,l)&&(p+=g,h+=f),l=l.parentNode.host||l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l))return d&&(i&&1>Math.abs(p)||!i&&s>p)?u=!0:!d&&(i&&1>Math.abs(h)||!i&&-s>h)&&(u=!0),u},iV=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iG=function(e){return[e.deltaX,e.deltaY]},iq=function(e){return e&&"current"in e?e.current:e},iQ=0,iJ=[];let iY=(gf=function(e){var t=R.useRef([]),r=R.useRef([0,0]),n=R.useRef(),i=R.useState(iQ++)[0],a=R.useState(iA)[0],o=R.useRef(e);R.useEffect(function(){o.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(iq),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=R.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var i,a=iV(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var p=iK(d,u);if(!p)return!0;if(p?i=d:(i="v"===d?"h":"v",p=iK(d,u)),!p)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=i),!i)return!0;var h=n.current||i;return i$(h,t,e,"h"===h?l:c,!0)},[]),l=R.useCallback(function(e){if(iJ.length&&iJ[iJ.length-1]===a){var r="deltaY"in e?iG(e):iV(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var i=(o.current.shards||[]).map(iq).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?s(e,i[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=R.useCallback(function(e,r,n,i){var a={name:e,delta:r,target:n,should:i,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=R.useCallback(function(e){r.current=iV(e),n.current=void 0},[]),d=R.useCallback(function(t){c(t.type,iG(t),t.target,s(t,e.lockRef.current))},[]),p=R.useCallback(function(t){c(t.type,iV(t),t.target,s(t,e.lockRef.current))},[]);R.useEffect(function(){return iJ.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,iH),document.addEventListener("touchmove",l,iH),document.addEventListener("touchstart",u,iH),function(){iJ=iJ.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,iH),document.removeEventListener("touchmove",l,iH),document.removeEventListener("touchstart",u,iH)}},[]);var h=e.removeScrollBar,m=e.inert;return R.createElement(R.Fragment,null,m?R.createElement(a,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,h?R.createElement(iM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ix.useMedium(gf),iS);var iZ=R.forwardRef(function(e,t){return R.createElement(ik,ih({},e,{ref:t,sideCar:iY}))});iZ.classNames=ik.classNames;var iX=new WeakMap,i0=new WeakMap,i1={},i2=0,i3=function(e){return e&&(e.host||i3(e.parentNode))},i4=function(e,t,r,n){var i=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=i3(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});i1[r]||(i1[r]=new WeakMap);var a=i1[r],o=[],s=new Set,l=new Set(i),c=function(e){!e||s.has(e)||(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(n),i=null!==t&&"false"!==t,l=(iX.get(e)||0)+1,c=(a.get(e)||0)+1;iX.set(e,l),a.set(e,c),o.push(e),1===l&&i&&i0.set(e,!0),1===c&&e.setAttribute(r,"true"),i||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return u(t),s.clear(),i2++,function(){o.forEach(function(e){var t=iX.get(e)-1,i=a.get(e)-1;iX.set(e,t),a.set(e,i),t||(i0.has(e)||e.removeAttribute(n),i0.delete(e)),i||e.removeAttribute(r)}),--i2||(iX=new WeakMap,iX=new WeakMap,i0=new WeakMap,i1={})}},i5=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),i4(n,i,r,"aria-hidden")):function(){return null}},i6=eB,i9="Dialog",[i7,i8]=(0,eF.createContextScope)(i9),[ae,at]=i7(i9),ar=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=R.useRef(null),l=R.useRef(null),[c,u]=(0,ru.useControllableState)({prop:n,defaultProp:i??!1,onChange:a,caller:i9});return(0,N.jsx)(ae,{scope:t,triggerRef:s,contentRef:l,contentId:(0,eQ.useId)(),titleId:(0,eQ.useId)(),descriptionId:(0,eQ.useId)(),open:c,onOpenChange:u,onOpenToggle:R.useCallback(()=>u(e=>!e),[u]),modal:o,children:r})};ar.displayName=i9;var an="DialogTrigger",ai=R.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=at(an,r),a=(0,eH.useComposedRefs)(t,i.triggerRef);return(0,N.jsx)(eK.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":aS(i.open),...n,ref:a,onClick:(0,ez.composeEventHandlers)(e.onClick,i.onOpenToggle)})});ai.displayName=an;var aa="DialogPortal",[ao,as]=i7(aa,{forceMount:void 0}),al=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=at(aa,t);return(0,N.jsx)(ao,{scope:t,forceMount:r,children:R.Children.map(n,e=>(0,N.jsx)(rl.Presence,{present:r||a.open,children:(0,N.jsx)(rs,{asChild:!0,container:i,children:e})}))})};al.displayName=aa;var ac="DialogOverlay",au=R.forwardRef((e,t)=>{let r=as(ac,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=at(ac,e.__scopeDialog);return a.modal?(0,N.jsx)(rl.Presence,{present:n||a.open,children:(0,N.jsx)(ap,{...i,ref:t})}):null});au.displayName=ac;var ad=(0,i6.createSlot)("DialogOverlay.RemoveScroll"),ap=R.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=at(ac,r);return(0,N.jsx)(iZ,{as:ad,allowPinchZoom:!0,shards:[i.contentRef],children:(0,N.jsx)(eK.Primitive.div,{"data-state":aS(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ah="DialogContent",am=R.forwardRef((e,t)=>{let r=as(ah,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=at(ah,e.__scopeDialog);return(0,N.jsx)(rl.Presence,{present:n||a.open,children:a.modal?(0,N.jsx)(af,{...i,ref:t}):(0,N.jsx)(ag,{...i,ref:t})})});am.displayName=ah;var af=R.forwardRef((e,t)=>{let r=at(ah,e.__scopeDialog),n=R.useRef(null),i=(0,eH.useComposedRefs)(t,r.contentRef,n);return R.useEffect(()=>{let e=n.current;if(e)return i5(e)},[]),(0,N.jsx)(ay,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,ez.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,ez.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,ez.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),ag=R.forwardRef((e,t)=>{let r=at(ah,e.__scopeDialog),n=R.useRef(!1),i=R.useRef(!1);return(0,N.jsx)(ay,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),ay=R.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=at(ah,r),l=R.useRef(null),c=(0,eH.useComposedRefs)(t,l);return id(),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ii,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:(0,N.jsx)(eV,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":aS(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(aP,{titleId:s.titleId}),(0,N.jsx)(aN,{contentRef:l,descriptionId:s.descriptionId})]})]})}),av="DialogTitle",ab=R.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=at(av,r);return(0,N.jsx)(eK.Primitive.h2,{id:i.titleId,...n,ref:t})});ab.displayName=av;var aw="DialogDescription",ax=R.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=at(aw,r);return(0,N.jsx)(eK.Primitive.p,{id:i.descriptionId,...n,ref:t})});ax.displayName=aw;var aC="DialogClose",ak=R.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=at(aC,r);return(0,N.jsx)(eK.Primitive.button,{type:"button",...n,ref:t,onClick:(0,ez.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function aS(e){return e?"open":"closed"}ak.displayName=aC;var aE="DialogTitleWarning",[aj,aA]=(0,eF.createContext)(aE,{contentName:ah,titleName:av,docsSlug:"dialog"}),aP=({titleId:e})=>{let t=aA(aE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return R.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},aN=({contentRef:e,descriptionId:t})=>{let r=aA("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return R.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null};e.s(["Close",()=>ak,"Content",()=>am,"Description",()=>ax,"Dialog",()=>ar,"DialogClose",()=>ak,"DialogContent",()=>am,"DialogDescription",()=>ax,"DialogOverlay",()=>au,"DialogPortal",()=>al,"DialogTitle",()=>ab,"DialogTrigger",()=>ai,"Overlay",()=>au,"Portal",()=>al,"Root",()=>ar,"Title",()=>ab,"Trigger",()=>ai,"WarningProvider",()=>aj,"createDialogScope",()=>i8],26999);var aR=e.i(26999),aR=aR;let aT={...rF,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:["1","2","3","4"],default:"3",responsive:!0},width:nW.width,minWidth:nW.minWidth,maxWidth:{...nW.maxWidth,default:"600px"},...nU};var eB=eB;let aI={trim:{type:"enum",className:"rt-r-lt",values:["normal","start","end","both"],responsive:!0}},a_={align:{type:"enum",className:"rt-r-ta",values:["left","center","right"],responsive:!0}},aD={wrap:{type:"enum",className:"rt-r-tw",values:["wrap","nowrap","pretty","balance"],responsive:!0}},aL={truncate:{type:"boolean",className:"rt-truncate"}},aO={weight:{type:"enum",className:"rt-r-weight",values:["light","regular","medium","bold"],responsive:!0}},aM={as:{type:"enum",values:["h1","h2","h3","h4","h5","h6"],default:"h1"},...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],default:"6",responsive:!0},...aO,...a_,...aI,...aL,...aD,...rU,...nT},aB=R.forwardRef((e,t)=>{let{children:r,className:n,asChild:i,as:a="h1",color:o,...s}=nH(e,aM,nQ);return R.createElement(eB.Root,{"data-accent-color":o,...s,ref:t,className:(0,eO.default)("rt-Heading",n)},i?r:R.createElement(a,null,r))});aB.displayName="Heading";var eB=eB;let az={as:{type:"enum",values:["span","div","label","p"],default:"span"},...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},...aO,...a_,...aI,...aL,...aD,...rU,...nT},aH=R.forwardRef((e,t)=>{let{children:r,className:n,asChild:i,as:a="span",color:o,...s}=nH(e,az,nQ);return R.createElement(eB.Root,{"data-accent-color":o,...s,ref:t,className:(0,eO.default)("rt-Text",n)},i?r:R.createElement(a,null,r))});aH.displayName="Text";let aF=e=>{if(!R.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${R.Children.toArray(e).map(e=>"object"==typeof e&&"type"in e&&"string"==typeof e.type?e.type:typeof e).join(", ")}`);return e},aK=e=>R.createElement(aR.Root,{...e,modal:!0});aK.displayName="Dialog.Root";let aU=R.forwardRef(({children:e,...t},r)=>R.createElement(aR.Trigger,{...t,ref:r,asChild:!0},aF(e)));aU.displayName="Dialog.Trigger";let aW=R.forwardRef(({align:e,...t},r)=>{let{align:n,...i}=aT,{className:a}=nH({align:e},{align:n}),{className:o,forceMount:s,container:l,...c}=nH(t,i);return R.createElement(aR.Portal,{container:l,forceMount:s},R.createElement(rY,{asChild:!0},R.createElement(aR.Overlay,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},R.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},R.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${a}`},R.createElement(aR.Content,{...c,ref:r,className:(0,eO.default)("rt-BaseDialogContent","rt-DialogContent",o)}))))))});aW.displayName="Dialog.Content";let a$=R.forwardRef((e,t)=>R.createElement(aR.Title,{asChild:!0},R.createElement(aB,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));a$.displayName="Dialog.Title";let aV=R.forwardRef((e,t)=>R.createElement(aR.Description,{asChild:!0},R.createElement(aH,{as:"p",size:"3",...e,asChild:!1,ref:t})));aV.displayName="Dialog.Description";let aG=R.forwardRef(({children:e,...t},r)=>R.createElement(aR.Close,{...t,ref:r,asChild:!0},aF(e)));aG.displayName="Dialog.Close",e.s(["Close",()=>aG,"Content",()=>aW,"Description",()=>aV,"Root",()=>aK,"Title",()=>a$,"Trigger",()=>aU],74202);var aq=e.i(74202),aq=aq,rH=rH;let aQ={content:{type:"ReactNode",required:!0},width:nW.width,minWidth:nW.minWidth,maxWidth:{...nW.maxWidth,default:"360px"}};function aJ(){let e=eD(),[t,r]=(0,R.useState)(null),{user:n,isAuthenticated:i,isLoading:a,error:o,currentStep:s,mode:l,hasLocalBackup:c,isImportedBackup:u,hasWalletCapabilities:d,linkedProviders:p,signIn:h,signUp:m,signOut:f,generateBackup:g,importBackup:y,validatePassword:v,linkOAuth:b,createProfile:w,switchProfile:x,setStep:C,setMode:k,reset:S,config:E}=e,j=p.length>0,A=n?.profiles||[],P=A.find(e=>e.id===n?.activeProfileId),N=A.length,T=(0,R.useCallback)(async e=>{try{return await h(e),{success:!0}}catch(e){return{success:!1,error:e}}},[h]),I=(0,R.useCallback)(async e=>{try{return await m(e),{success:!0}}catch(e){return{success:!1,error:e}}},[m]),_=(0,R.useCallback)(async e=>{try{return await y(e),{success:!0}}catch(e){return{success:!1,error:e}}},[y]);return(0,R.useEffect)(()=>{(async()=>{if(d&&i)try{let t=await e.getWalletExtension();r(t)}catch(e){console.warn("Failed to load wallet extension:",e),r(null)}else r(null)})()},[d,i,e]),{user:n,isAuthenticated:i,isLoading:a,isReady:!a,error:o,hasError:!!o,currentStep:s,mode:l,hasLocalBackup:c,isImportedBackup:u,hasWalletCapabilities:d,walletExtension:t,linkedProviders:p,hasLinkedProviders:j,profiles:A,activeProfile:P,profileCount:N,isSigningIn:"signin"===l,isSigningUp:"signup"===l,isLinking:"link"===l,signIn:T,signUp:I,signOut:f,generateBackup:g,importBackup:_,validatePassword:v,linkOAuth:b,createProfile:w,switchProfile:x,setStep:C,setMode:k,reset:S,actions:e,config:E}}R.forwardRef((e,t)=>{let{children:r,className:n,open:i,defaultOpen:a,onOpenChange:o,delayDuration:s,disableHoverableContent:l,content:c,container:u,forceMount:d,...p}=nH(e,aQ);return R.createElement(rH.Root,{open:i,defaultOpen:a,onOpenChange:o,delayDuration:s,disableHoverableContent:l},R.createElement(rH.Trigger,{asChild:!0},r),R.createElement(rH.Portal,{container:u,forceMount:d},R.createElement(rY,{asChild:!0},R.createElement(rH.Content,{sideOffset:4,collisionPadding:10,...p,asChild:!1,ref:t,className:(0,eO.default)("rt-TooltipContent",n)},R.createElement(aH,{as:"p",className:"rt-TooltipText",size:"1"},c),R.createElement(rH.Arrow,{className:"rt-TooltipArrow"})))))}).displayName="Tooltip",e.s(["useBitcoinAuth",()=>aJ],5929);let aY={orientation:{type:"enum",className:"rt-r-orientation",values:["horizontal","vertical"],default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:["1","2","3","4"],default:"1",responsive:!0},color:{...rU.color,default:"gray"},decorative:{type:"boolean",default:!0}},aZ=R.forwardRef((e,t)=>{let{className:r,color:n,decorative:i,...a}=nH(e,aY,nQ);return R.createElement("span",{"data-accent-color":n,role:i?void 0:"separator",...a,ref:t,className:(0,eO.default)("rt-Separator",r)})});function aX(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}aZ.displayName="Separator";var a0=["color"],a1=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,a0);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),a2=["color"],a3=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,a2);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),a4=["color"],a5=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,a4);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),a6=["color"],a9=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,a6);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M7.50005 1.04999C7.74858 1.04999 7.95005 1.25146 7.95005 1.49999V8.41359L10.1819 6.18179C10.3576 6.00605 10.6425 6.00605 10.8182 6.18179C10.994 6.35753 10.994 6.64245 10.8182 6.81819L7.81825 9.81819C7.64251 9.99392 7.35759 9.99392 7.18185 9.81819L4.18185 6.81819C4.00611 6.64245 4.00611 6.35753 4.18185 6.18179C4.35759 6.00605 4.64251 6.00605 4.81825 6.18179L7.05005 8.41359V1.49999C7.05005 1.25146 7.25152 1.04999 7.50005 1.04999ZM2.5 10C2.77614 10 3 10.2239 3 10.5V12C3 12.5539 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2239 12.2239 10 12.5 10C12.7761 10 13 10.2239 13 10.5V12C13 13.1041 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2239 2.22386 10 2.5 10Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),a7=["color"],a8=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,a7);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M8.4449 0.608765C8.0183 -0.107015 6.9817 -0.107015 6.55509 0.608766L0.161178 11.3368C-0.275824 12.07 0.252503 13 1.10608 13H13.8939C14.7475 13 15.2758 12.07 14.8388 11.3368L8.4449 0.608765ZM7.4141 1.12073C7.45288 1.05566 7.54712 1.05566 7.5859 1.12073L13.9798 11.8488C14.0196 11.9154 13.9715 12 13.8939 12H1.10608C1.02849 12 0.980454 11.9154 1.02018 11.8488L7.4141 1.12073ZM6.8269 4.48611C6.81221 4.10423 7.11783 3.78663 7.5 3.78663C7.88217 3.78663 8.18778 4.10423 8.1731 4.48612L8.01921 8.48701C8.00848 8.766 7.7792 8.98664 7.5 8.98664C7.2208 8.98664 6.99151 8.766 6.98078 8.48701L6.8269 4.48611ZM8.24989 10.476C8.24989 10.8902 7.9141 11.226 7.49989 11.226C7.08567 11.226 6.74989 10.8902 6.74989 10.476C6.74989 10.0618 7.08567 9.72599 7.49989 9.72599C7.9141 9.72599 8.24989 10.0618 8.24989 10.476Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),oe=["color"],ot=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,oe);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M14.7649 6.07596C14.9991 6.22231 15.0703 6.53079 14.9239 6.76495C14.4849 7.46743 13.9632 8.10645 13.3702 8.66305L14.5712 9.86406C14.7664 10.0593 14.7664 10.3759 14.5712 10.5712C14.3759 10.7664 14.0593 10.7664 13.8641 10.5712L12.6011 9.30817C11.805 9.90283 10.9089 10.3621 9.93375 10.651L10.383 12.3277C10.4544 12.5944 10.2961 12.8685 10.0294 12.94C9.76267 13.0115 9.4885 12.8532 9.41704 12.5865L8.95917 10.8775C8.48743 10.958 8.00036 10.9999 7.50001 10.9999C6.99965 10.9999 6.51257 10.958 6.04082 10.8775L5.58299 12.5864C5.51153 12.8532 5.23737 13.0115 4.97064 12.94C4.7039 12.8686 4.5456 12.5944 4.61706 12.3277L5.06625 10.651C4.09111 10.3621 3.19503 9.90282 2.3989 9.30815L1.1359 10.5712C0.940638 10.7664 0.624058 10.7664 0.428798 10.5712C0.233537 10.3759 0.233537 10.0593 0.428798 9.86405L1.62982 8.66303C1.03682 8.10643 0.515113 7.46742 0.0760677 6.76495C-0.0702867 6.53079 0.000898544 6.22231 0.235065 6.07596C0.469231 5.9296 0.777703 6.00079 0.924058 6.23496C1.40354 7.00213 1.989 7.68057 2.66233 8.2427C2.67315 8.25096 2.6837 8.25972 2.69397 8.26898C4.00897 9.35527 5.65537 9.99991 7.50001 9.99991C10.3078 9.99991 12.6564 8.5063 14.076 6.23495C14.2223 6.00079 14.5308 5.9296 14.7649 6.07596Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),or=["color"],on=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,or);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),oi=["color"],oa=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,oi);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),oo=["color"],os=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,oo);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),ol=["color"],oc=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,ol);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M4.85355 2.14645C5.04882 2.34171 5.04882 2.65829 4.85355 2.85355L3.70711 4H9C11.4853 4 13.5 6.01472 13.5 8.5C13.5 10.9853 11.4853 13 9 13H5C4.72386 13 4.5 12.7761 4.5 12.5C4.5 12.2239 4.72386 12 5 12H9C10.933 12 12.5 10.433 12.5 8.5C12.5 6.567 10.933 5 9 5H3.70711L4.85355 6.14645C5.04882 6.34171 5.04882 6.65829 4.85355 6.85355C4.65829 7.04882 4.34171 7.04882 4.14645 6.85355L2.14645 4.85355C1.95118 4.65829 1.95118 4.34171 2.14645 4.14645L4.14645 2.14645C4.34171 1.95118 4.65829 1.95118 4.85355 2.14645Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),ou=["color"],od=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,ou);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),op=["color"],oh=(0,R.forwardRef)(function(e,t){var r=e.color,n=aX(e,op);return(0,R.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,R.createElement)("path",{d:"M7.81825 1.18188C7.64251 1.00615 7.35759 1.00615 7.18185 1.18188L4.18185 4.18188C4.00611 4.35762 4.00611 4.64254 4.18185 4.81828C4.35759 4.99401 4.64251 4.99401 4.81825 4.81828L7.05005 2.58648V9.49996C7.05005 9.74849 7.25152 9.94996 7.50005 9.94996C7.74858 9.94996 7.95005 9.74849 7.95005 9.49996V2.58648L10.1819 4.81828C10.3576 4.99401 10.6425 4.99401 10.8182 4.81828C10.994 4.64254 10.994 4.35762 10.8182 4.18188L7.81825 1.18188ZM2.5 9.99997C2.77614 9.99997 3 10.2238 3 10.5V12C3 12.5538 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2238 12.2239 9.99997 12.5 9.99997C12.7761 9.99997 13 10.2238 13 10.5V12C13 13.104 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2238 2.22386 9.99997 2.5 9.99997Z",fill:void 0===r?"currentColor":r,fillRule:"evenodd",clipRule:"evenodd"}))}),eB=eB;let om={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5"],default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["surface","classic","ghost"],default:"surface"}},of=R.forwardRef((e,t)=>{let{asChild:r,className:n,...i}=nH(e,om,nQ),a=r?eB.Root:"div";return R.createElement(a,{ref:t,...i,className:(0,eO.default)("rt-reset","rt-BaseCard","rt-Card",n)})});function og({backup:t,password:r,onDownloaded:n,requireDownload:i=!1,className:a=""}){let[o,s]=(0,R.useState)(!1),[l,c]=(0,R.useState)(!1),u=async()=>{c(!0);try{let i,a;if(r){let{encryptBackup:n}=await e.A(25146);i=await n(t,r),a=`bitcoin-auth-backup-${Date.now()}.txt`}else i=JSON.stringify(t,null,2),a=!("wif"in t)||"xprv"in t||"mnemonic"in t?`bitcoin-auth-backup-${Date.now()}.json`:`bitcoin-auth-backup-${Date.now()}.txt`;let o=new Blob([i],{type:r||a.endsWith(".txt")?"text/plain":"application/json"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=a,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l),s(!0),n?.()}catch(e){console.error("Download error:",e)}finally{c(!1)}};return(0,N.jsx)(of,{variant:"surface",size:"3",className:a,children:(0,N.jsxs)(n0,{direction:"column",gap:"3",children:[(0,N.jsxs)(n0,{align:"center",gap:"2",children:[(0,N.jsx)(a9,{width:"20",height:"20",color:"var(--accent-9)","aria-label":"Download"}),(0,N.jsx)(aH,{weight:"medium",children:r?"Encrypted Backup":"Master Backup"})]}),(0,N.jsx)(aH,{size:"2",color:"gray",children:r?"Download your encrypted backup file. You'll need your password to restore it.":"Download your complete identity backup. Keep this file secure."}),(0,N.jsxs)(n8,{size:"3",color:o?"green":void 0,variant:o?"soft":"solid",onClick:u,disabled:l,style:{width:"100%"},children:[(0,N.jsx)(n2,{loading:l,children:o?(0,N.jsx)(a3,{width:"16",height:"16","aria-label":"Success"}):(0,N.jsx)(a9,{width:"16",height:"16","aria-label":"Download"})}),l?"Preparing...":o?"Downloaded":`Download ${r?"Encrypted":"Master"} Backup`]}),o&&(0,N.jsxs)(n0,{align:"center",gap:"1",children:[(0,N.jsx)(a3,{width:"16",height:"16",color:"var(--accent-9)"}),(0,N.jsx)(aH,{size:"1",color:"green",children:"Backup saved to your downloads folder"})]}),i&&!o&&(0,N.jsx)(aH,{size:"1",color:"amber",children:"You must download your backup before continuing"})]})})}of.displayName="Card";let oy={as:{type:"enum",values:["div","span"],default:"div"},...rF,display:{type:"enum",className:"rt-r-display",values:["none","inline","inline-block","block","contents"],responsive:!0}},ov=R.forwardRef((e,t)=>{let{className:r,asChild:n,as:i="div",...a}=nH(e,oy,nG,nQ);return R.createElement(n?nJ:i,{...a,ref:t,className:(0,eO.default)("rt-Box",r)})});ov.displayName="Box";let ob="https://ordfs.network",ow=/^[a-fA-F0-9]{64}$/,ox=/^\d+$/,oC=/^[1-9A-HJ-NP-Za-km-z]{25,34}$/,ok=/^data:([^;]+)(;base64)?,(.*)$/,oS=/^(b|ord|bitfs|ipfs):\/\/(.+)$/,oE="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEwMCIgeT0iMTAwIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEzcHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+Tm8gSW1hZ2U8L3RleHQ+PC9zdmc+";(gg=gj||(gj={})).Bitcoin="b",gg.Ordinals="ord",gg.BitFS="bitfs",gg.IPFS="ipfs",gg.DataURI="data",gg.HTTP="http",gg.Native="native",gg.Unknown="unknown";let oj=e=>{if(!e.txid)throw Error("Missing transaction ID");let t=e.vout??0;return`${ob}/${e.txid}_${t}`},oA=e=>{if(!e.txid)throw Error("Missing transaction ID");return void 0!==e.vout?`${ob}/${e.txid}_${e.vout}`:`${ob}/${e.txid}`},oP=e=>{if(!e.txid)throw Error("Missing transaction ID");return void 0!==e.vout?`${ob}/${e.txid}_${e.vout}`:`https://x.bitfs.network/${e.txid}`},oN=e=>{if(!e.hash)throw Error("Missing IPFS hash");return`https://ipfs.io/ipfs/${e.hash}`},oR=e=>e.original,oT=e=>e.original,oI=e=>{if(!e.txid)throw Error("Missing transaction ID");let t=e.vout??0;return`${ob}/${e.txid}_${t}`};function o_(e){return ow.test(e)}function oD(e){return"number"==typeof e?e>=0&&Number.isInteger(e):ox.test(e)&&Number.parseInt(e,10)>=0}function oL(e){return oC.test(e)}function oO(e){return ok.test(e)}function oM(e){return oS.test(e)}function oB(e){return e.startsWith("Qm")&&46===e.length||e.startsWith("baf")&&e.length>=59}e.s(["isProtocolUrl",()=>oM,"isValidAddress",()=>oL,"isValidDataUri",()=>oO,"isValidIPFSHash",()=>oB,"isValidTxid",()=>o_,"isValidVout",()=>oD],79711),e.i(79711),new class{constructor(e={}){this.config={handlers:e.handlers||{},defaultGateway:e.defaultGateway||oE,fallbackImage:e.fallbackImage||oE,validateTxid:!1!==e.validateTxid,cacheEnabled:!1!==e.cacheEnabled,cacheTTL:e.cacheTTL||3600};const t={[gj.Bitcoin]:oj,[gj.Ordinals]:oA,[gj.BitFS]:oP,[gj.IPFS]:oN,[gj.DataURI]:oR,[gj.HTTP]:oT,[gj.Native]:oI,[gj.Unknown]:()=>{throw Error("Unknown protocol")}};for(const[e,r]of(this.handlers={...t},Object.entries(this.config.handlers)))r&&(this.handlers[e]=r);this.cache=new Map}parse(e,t){return function(e,t={}){let{strict:r=!1,allowNativeTxid:n=!0}=t;if(!e||"string"!=typeof e)return{protocol:gj.Unknown,original:e||"",isValid:!1,error:"Invalid input"};let i=e.trim();if(i.startsWith("data:"))return function(e){let t=e.match(ok);if(!t)return{protocol:gj.DataURI,original:e,isValid:!1,error:"Invalid data URI format"};let[,r,,n]=t;return{protocol:gj.DataURI,original:e,mimeType:r,data:n,isValid:!0}}(i);if(i.startsWith("http://")||i.startsWith("https://"))return{protocol:gj.HTTP,original:i,isValid:!0};let a=i.match(oS);if(a){let[,e,t]=a;switch(e.toLowerCase()){case"b":var o,s,l=i,c=t;let r=c.split("_"),n=r[0],m=r[1];if(!o_(n))return{protocol:gj.Bitcoin,original:l,isValid:!1,error:"Invalid transaction ID"};let f={protocol:gj.Bitcoin,original:l,txid:n,isValid:!0};if(void 0!==m){if(!oD(m))return{...f,isValid:!1,error:"Invalid output index"};f.vout=Number.parseInt(m,10)}return f;case"ord":let g,y;var u=i,d=t;if(d.includes("_")?[g,y]=d.split("_"):d.includes(".")?[g,y]=d.split("."):g=d,!o_(g))return{protocol:gj.Ordinals,original:u,isValid:!1,error:"Invalid transaction ID"};let v={protocol:gj.Ordinals,original:u,txid:g,isValid:!0};if(void 0!==y){if(!oD(y))return{...v,isValid:!1,error:"Invalid output index"};v.vout=Number.parseInt(y,10)}return v;case"bitfs":var p=i,h=t;let b=h.split("."),w=b[0];if(!o_(w))return{protocol:gj.BitFS,original:p,isValid:!1,error:"Invalid transaction ID"};let x={protocol:gj.BitFS,original:p,txid:w,isValid:!0};if(b.length>=3&&"out"===b[1]){let e=b[2];if(!oD(e))return{...x,isValid:!1,error:"Invalid output index"};x.vout=Number.parseInt(e,10)}return x;case"ipfs":return o=i,oB(s=t)?{protocol:gj.IPFS,original:o,hash:s,isValid:!0}:{protocol:gj.IPFS,original:o,isValid:!1,error:"Invalid IPFS hash"};default:return{protocol:gj.Unknown,original:i,isValid:!1,error:`Unknown protocol: ${e}`}}}return n?function(e){let t=e.startsWith("/")?e.slice(1):e;if(t.startsWith("content/")&&(t=t.slice(8)),t.includes("_")){let[r,n]=t.split("_");if(o_(r)&&oD(n))return{protocol:gj.Native,original:e,txid:r,vout:Number.parseInt(n,10),isValid:!0}}if(t.includes(".")){let[r,n]=t.split(".");if(o_(r)&&oD(n))return{protocol:gj.Native,original:e,txid:r,vout:Number.parseInt(n,10),isValid:!0}}let r=t.match(/^([a-fA-F0-9]{64})([oi])(\d+)$/);if(r){let[,t,n,i]=r;if(o_(t)&&oD(i))return{protocol:gj.Native,original:e,txid:t,vout:Number.parseInt(i,10),isValid:!0}}return o_(t)?{protocol:gj.Native,original:e,txid:t,isValid:!0}:{protocol:gj.Unknown,original:e,isValid:!1,error:"Invalid format"}}(i):{protocol:gj.Unknown,original:i,isValid:!1,error:"Unrecognized format"}}(e,t)}async getDisplayUrl(e,t={}){let{fallback:r=this.config.fallbackImage,timeout:n=3e4}=t;try{let t;if(this.config.cacheEnabled){let t=this.getFromCache(e);if(t)return t}let i=this.parse(e);if(!i.isValid)return console.warn(`Invalid image URL: ${e}`,i.error),r;let a=this.handlers[i.protocol];if(!a)return console.warn(`No handler for protocol: ${i.protocol}`),r;return t=n>0?await this.withTimeout(a(i),n):await a(i),this.config.cacheEnabled&&this.addToCache(e,t),t}catch(t){return console.error(`Error getting display URL for ${e}:`,t),r}}async getDisplayUrls(e,t={}){let r=new Map,n=[];for(let t=0;t<e.length;t+=10)n.push(e.slice(t,t+10));for(let e of n){let n=e.map(async e=>{let n=await this.getDisplayUrl(e,t);r.set(e,n)});await Promise.all(n)}return r}validate(e){let t=this.parse(e);return{isValid:t.isValid,error:t.error}}registerHandler(e,t){this.handlers[e]=t}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,hits:0,misses:0}}getFallbackImage(){return this.config.fallbackImage}getFromCache(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>1e3*this.config.cacheTTL?(this.cache.delete(e),null):t.url:null}addToCache(e,t){if(this.cache.set(e,{url:t,timestamp:Date.now()}),this.cache.size>1e3){let e=this.cache.keys().next().value;e&&this.cache.delete(e)}}async withTimeout(e,t){return e instanceof Promise?Promise.race([e,new Promise((e,r)=>setTimeout(()=>r(Error("Timeout")),t))]):e}};var oz=e.i(2239);function oH(){return()=>{}}var oF="Avatar",[oK,oU]=(0,eF.createContextScope)(oF),[oW,o$]=oK(oF),oV=R.forwardRef((e,t)=>{let{__scopeAvatar:r,...n}=e,[i,a]=R.useState("idle");return(0,N.jsx)(oW,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:(0,N.jsx)(eK.Primitive.span,{...n,ref:t})})});oV.displayName=oF;var oG="AvatarImage",oq=R.forwardRef((e,t)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,o=o$(oG,r),s=function(e,{referrerPolicy:t,crossOrigin:r}){let n=(0,oz.useSyncExternalStore)(oH,()=>!0,()=>!1),i=R.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,s]=R.useState(()=>oY(a,e));return(0,tY.useLayoutEffect)(()=>{s(oY(a,e))},[a,e]),(0,tY.useLayoutEffect)(()=>{let e=e=>()=>{s(e)};if(!a)return;let n=e("loaded"),i=e("error");return a.addEventListener("load",n),a.addEventListener("error",i),t&&(a.referrerPolicy=t),"string"==typeof r&&(a.crossOrigin=r),()=>{a.removeEventListener("load",n),a.removeEventListener("error",i)}},[a,r,t]),o}(n,a),l=(0,eU.useCallbackRef)(e=>{i(e),o.onImageLoadingStatusChange(e)});return(0,tY.useLayoutEffect)(()=>{"idle"!==s&&l(s)},[s,l]),"loaded"===s?(0,N.jsx)(eK.Primitive.img,{...a,ref:t,src:n}):null});oq.displayName=oG;var oQ="AvatarFallback",oJ=R.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:n,...i}=e,a=o$(oQ,r),[o,s]=R.useState(void 0===n);return R.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(e)}},[n]),o&&"loaded"!==a.imageLoadingStatus?(0,N.jsx)(eK.Primitive.span,{...i,ref:t}):null});function oY(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}oJ.displayName=oQ,e.s(["Avatar",()=>oV,"AvatarFallback",()=>oJ,"AvatarImage",()=>oq,"Fallback",()=>oJ,"Image",()=>oq,"Root",()=>oV,"createAvatarScope",()=>oU],97456);var oZ=e.i(97456),oZ=oZ;let oX={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],default:"3",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["solid","soft"],default:"soft"},...rW,...nT,...rV,fallback:{type:"ReactNode",required:!0}};function o0(e,t){let{asChild:r,children:n}=e;if(!r)return"function"==typeof t?t(n):t;let i=R.Children.only(n);return R.cloneElement(i,{children:"function"==typeof t?t(i.props.children):t})}R.forwardRef((e,t)=>{let{asChild:r,children:n,className:i,style:a,color:o,radius:s,...l}=nH(e,oX,nQ);return R.createElement(oZ.Root,{"data-accent-color":o,"data-radius":s,className:(0,eO.default)("rt-reset","rt-AvatarRoot",i),style:a,asChild:r},o0({asChild:r,children:n},R.createElement(o1,{ref:t,...l})))}).displayName="Avatar";let o1=R.forwardRef(({fallback:e,...t},r)=>{let[n,i]=R.useState("idle");return R.createElement(R.Fragment,null,"idle"===n||"loading"===n?R.createElement("span",{className:"rt-AvatarFallback"}):null,"error"===n?R.createElement(oZ.Fallback,{className:(0,eO.default)("rt-AvatarFallback",{"rt-one-letter":"string"==typeof e&&1===e.length,"rt-two-letters":"string"==typeof e&&2===e.length}),delayMs:0},e):null,R.createElement(oZ.Image,{ref:r,className:"rt-AvatarImage",...t,onLoadingStatusChange:e=>{t.onLoadingStatusChange?.(e),i(e)}}))});o1.displayName="AvatarImpl";var aq=aq;function o2({isOpen:e,onClose:t,title:r,children:n,size:i="md",className:a=""}){return(0,N.jsx)(aq.Root,{open:e,onOpenChange:e=>!e&&t(),children:(0,N.jsxs)(aq.Content,{size:{sm:"1",md:"2",lg:"3",xl:"4"}[i],className:a,style:{maxHeight:"90vh",overflowY:"auto",minWidth:{sm:"320px",md:"400px",lg:"500px",xl:"600px"}[i],width:"fit-content"},children:[r&&(0,N.jsx)(aq.Title,{children:r}),n]})})}function o3({loading:e=!1,loadingText:t,children:r,disabled:n,...i}){return(0,N.jsxs)(n8,{disabled:n||e,...i,children:[(0,N.jsx)(n2,{loading:e}),e?t||"Loading...":r]})}var eB=eB;let o4={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["soft","surface","outline"],default:"soft"},...rW,...nT},o5=R.createContext({}),o6=R.forwardRef((e,t)=>{let{size:r=o4.size.default}=e,{asChild:n,children:i,className:a,color:o,...s}=nH(e,o4,nQ),l=n?eB.Root:"div";return R.createElement(l,{"data-accent-color":o,...s,className:(0,eO.default)("rt-CalloutRoot",a),ref:t},R.createElement(o5.Provider,{value:R.useMemo(()=>({size:r}),[r])},i))});o6.displayName="Callout.Root";let o9=R.forwardRef(({className:e,...t},r)=>R.createElement("div",{...t,className:(0,eO.default)("rt-CalloutIcon",e),ref:r}));o9.displayName="Callout.Icon";let o7=R.forwardRef(({className:e,...t},r)=>{let{size:n}=R.useContext(o5);return R.createElement(aH,{as:"p",size:n5(n,n6),...t,asChild:!1,ref:r,className:(0,eO.default)("rt-CalloutText",e)})});o7.displayName="Callout.Text",e.s(["Icon",()=>o9,"Root",()=>o6,"Text",()=>o7],59543);var o8=e.i(59543),o8=o8;function se({error:e,className:t="",size:r="2"}){if(!e)return null;let n=e.includes("backend")||e.includes("endpoint")||e.includes("running")||e.includes("examples/backend-setup-guide.md");return(0,N.jsxs)(o8.Root,{color:"red",variant:n?"surface":"soft",size:n?"3":r,className:t,children:[(0,N.jsx)(o8.Icon,{children:n?(0,N.jsx)(oa,{width:"16",height:"16"}):(0,N.jsx)(a8,{width:"16",height:"16"})}),(0,N.jsxs)(o8.Text,{children:[n&&(0,N.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:" Backend Setup Required"}),e]})]})}var o8=o8;let st=R.forwardRef(({className:e,...t},r)=>R.createElement(n7,{...t,ref:r,className:(0,eO.default)("rt-IconButton",e)}));st.displayName="IconButton";let sr={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","surface","soft"],default:"surface"},...rU,...rV},sn={side:{type:"enum",values:["left","right"]},...rU,gap:nX.gap,px:nK.px,pl:nK.pl,pr:nK.pr},si=R.forwardRef((e,t)=>{let r=R.useRef(null),{children:n,className:i,color:a,radius:o,style:s,...l}=nH(e,sr,nQ);return R.createElement("div",{"data-accent-color":a,"data-radius":o,style:s,className:(0,eO.default)("rt-TextFieldRoot",i),onPointerDown:e=>{let t=e.target;if(t.closest("input, button, a"))return;let n=r.current;if(!n)return;let i=t.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?n.value.length:0;requestAnimationFrame(()=>{try{n.setSelectionRange(i,i)}catch{}n.focus()})}},R.createElement("input",{spellCheck:"false",...l,ref:(0,eH.composeRefs)(r,t),className:"rt-reset rt-TextFieldInput"}),n)});si.displayName="TextField.Root";let sa=R.forwardRef((e,t)=>{let{className:r,color:n,side:i,...a}=nH(e,sn);return R.createElement("div",{"data-accent-color":n,"data-side":i,...a,ref:t,className:(0,eO.default)("rt-TextFieldSlot",r)})});sa.displayName="TextField.Slot",e.s(["Root",()=>si,"Slot",()=>sa],10416);var so=e.i(10416),so=so;function ss({label:e="Password",value:t,onChange:r,placeholder:n="Enter your password",disabled:i=!1,required:a=!0,minLength:o=8,showHint:s=!1,hintText:l,autoComplete:c="current-password",hasError:u=!1,autoFocus:d=!1,className:p="",size:h="3",id:m,onVisibilityChange:f,defaultVisible:g=!1}){let[y,v]=R.default.useState(g),b=m||`password-input-${Math.random().toString(36).substr(2,9)}`;return(0,N.jsxs)(n0,{direction:"column",gap:"2",className:p,style:{minWidth:"280px",width:"100%"},children:[e&&(0,N.jsx)(aH,{as:"label",htmlFor:b,size:h,weight:"medium",children:e}),(0,N.jsx)(so.Root,{id:b,type:y?"text":"password",value:t,onChange:e=>r(e.target.value),placeholder:n,required:a,disabled:i,autoComplete:c,autoFocus:d,size:h,variant:u?"surface":"classic",color:u?"red":void 0,children:(0,N.jsx)(so.Slot,{side:"right",children:(0,N.jsx)(st,{type:"button",onClick:()=>{let e=!y;v(e),f?.(e)},disabled:i,variant:"ghost",size:"1",children:y?(0,N.jsx)(on,{style:{width:"14px",height:"14px"}}):(0,N.jsx)(ot,{style:{width:"14px",height:"14px"}})})})}),s&&(0,N.jsx)(aH,{size:"1",color:"gray",children:l||`Minimum ${o} characters`})]})}function sl({data:e,size:t=256,className:r,style:n,alt:i="QR Code"}){let[a,o]=(0,R.useState)(""),[s,l]=(0,R.useState)(null);return((0,R.useEffect)(()=>{async function r(){if(e.startsWith("data:")){o(e),l(null);return}o(""),l(null);try{let r=new(await (()=>{let e=Error("Cannot find module 'qrious'");throw e.code="MODULE_NOT_FOUND",e})()).default({value:e,size:t,level:"M"});o(r.toDataURL())}catch(e){l("QR code generation requires qrious package. Install with: npm install qrious"),console.warn("QRCodeRenderer: qrious not found. Install it as a peer dependency or provide data URLs directly.",e)}}e&&r()},[e,t]),s&&!e.startsWith("data:"))?(0,N.jsx)(of,{variant:"surface",className:r,style:{width:t,height:t,...n},children:(0,N.jsxs)(n0,{direction:"column",align:"center",justify:"center",height:"100%",gap:"2",children:[(0,N.jsx)(aH,{size:"2",color:"gray",children:"QR generation unavailable"}),(0,N.jsx)(aH,{size:"1",color:"gray",children:"Install qrious package"})]})}):a?(0,N.jsx)("img",{src:a,alt:i,width:t,height:t,className:r,style:n}):(0,N.jsx)(of,{variant:"surface",className:r,style:{width:t,height:t,...n},children:(0,N.jsx)(n0,{align:"center",justify:"center",height:"100%",children:(0,N.jsx)(aH,{size:"2",color:"gray",children:"Loading QR code..."})})})}var eB=eB;let sc={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["solid","soft","surface","outline"],default:"soft"},...rW,...nT,...rV},su=R.forwardRef((e,t)=>{let{asChild:r,className:n,color:i,radius:a,...o}=nH(e,sc,nQ),s=r?eB.Root:"span";return R.createElement(s,{"data-accent-color":i,"data-radius":a,...o,ref:t,className:(0,eO.default)("rt-reset","rt-Badge",n)})});function sd({steps:e,className:t="",variant:r="horizontal"}){return"vertical"===r?(0,N.jsx)(n0,{direction:"column",gap:"4",className:t,children:e.map((e,t)=>(0,N.jsxs)(n0,{align:"start",gap:"3",children:[(0,N.jsx)(su,{size:"3",variant:"pending"===e.status?"soft":"solid",style:{minWidth:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"complete"===e.status?"var(--green-9)":"active"===e.status?"var(--accent-9)":void 0,color:"complete"===e.status||"active"===e.status?"white":void 0},children:"complete"===e.status?(0,N.jsx)(a1,{width:"16",height:"16","aria-label":"Complete"}):(0,N.jsx)(aH,{size:"2",weight:"bold",children:t+1})}),(0,N.jsxs)(n0,{direction:"column",style:{flex:1},children:[(0,N.jsx)(aH,{weight:"medium",color:"pending"===e.status?"gray":void 0,children:e.label}),e.description&&(0,N.jsx)(aH,{size:"2",color:(e.status,"gray"),children:e.description})]})]},e.id))}):(0,N.jsx)(n0,{align:"center",className:t,children:e.map((t,r)=>(0,N.jsxs)(R.default.Fragment,{children:[(0,N.jsxs)(n0,{direction:"column",align:"center",children:[(0,N.jsx)(su,{size:"3",variant:"pending"===t.status?"soft":"solid",style:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"complete"===t.status?"var(--green-9)":"active"===t.status?"var(--accent-9)":void 0,color:"complete"===t.status||"active"===t.status?"white":void 0,boxShadow:"active"===t.status?"0 0 0 4px var(--accent-a5)":"none"},children:"complete"===t.status?(0,N.jsx)(a1,{width:"20",height:"20","aria-label":"Complete"}):(0,N.jsx)(aH,{weight:"bold",children:r+1})}),(0,N.jsx)(aH,{size:"1",color:"pending"===t.status?"gray":void 0,style:{marginTop:"8px"},children:t.label})]}),r<e.length-1&&(0,N.jsx)(ov,{style:{flex:1,height:"2px",margin:"0 12px",backgroundColor:e[r+1]?.status!=="pending"?"var(--accent-9)":"var(--gray-6)",transition:"background-color 0.2s"}})]},t.id))})}su.displayName="Badge";let sp=[{id:"abap",name:"ABAP",import:()=>e.A(16690)},{id:"actionscript-3",name:"ActionScript",import:()=>e.A(74435)},{id:"ada",name:"Ada",import:()=>e.A(96339)},{id:"angular-html",name:"Angular HTML",import:()=>e.A(96546)},{id:"angular-ts",name:"Angular TypeScript",import:()=>e.A(60308)},{id:"apache",name:"Apache Conf",import:()=>e.A(8734)},{id:"apex",name:"Apex",import:()=>e.A(2952)},{id:"apl",name:"APL",import:()=>e.A(14026)},{id:"applescript",name:"AppleScript",import:()=>e.A(10042)},{id:"ara",name:"Ara",import:()=>e.A(27701)},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>e.A(64940)},{id:"asm",name:"Assembly",import:()=>e.A(81996)},{id:"astro",name:"Astro",import:()=>e.A(85223)},{id:"awk",name:"AWK",import:()=>e.A(77689)},{id:"ballerina",name:"Ballerina",import:()=>e.A(87861)},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>e.A(69047)},{id:"beancount",name:"Beancount",import:()=>e.A(66005)},{id:"berry",name:"Berry",aliases:["be"],import:()=>e.A(64129)},{id:"bibtex",name:"BibTeX",import:()=>e.A(86785)},{id:"bicep",name:"Bicep",import:()=>e.A(34475)},{id:"blade",name:"Blade",import:()=>e.A(84291)},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>e.A(54810)},{id:"c",name:"C",import:()=>e.A(15630)},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>e.A(97658)},{id:"cairo",name:"Cairo",import:()=>e.A(96018)},{id:"clarity",name:"Clarity",import:()=>e.A(68805)},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>e.A(85670)},{id:"cmake",name:"CMake",import:()=>e.A(50277)},{id:"cobol",name:"COBOL",import:()=>e.A(8435)},{id:"codeowners",name:"CODEOWNERS",import:()=>e.A(77655)},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>e.A(93919)},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>e.A(99510)},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>e.A(14583)},{id:"coq",name:"Coq",import:()=>e.A(38305)},{id:"cpp",name:"C++",aliases:["c++"],import:()=>e.A(62895)},{id:"crystal",name:"Crystal",import:()=>e.A(15822)},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>e.A(56548)},{id:"css",name:"CSS",import:()=>e.A(68853)},{id:"csv",name:"CSV",import:()=>e.A(8072)},{id:"cue",name:"CUE",import:()=>e.A(79420)},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>e.A(1081)},{id:"d",name:"D",import:()=>e.A(32086)},{id:"dart",name:"Dart",import:()=>e.A(8814)},{id:"dax",name:"DAX",import:()=>e.A(6010)},{id:"desktop",name:"Desktop",import:()=>e.A(11671)},{id:"diff",name:"Diff",import:()=>e.A(99264)},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>e.A(64927)},{id:"dotenv",name:"dotEnv",import:()=>e.A(86855)},{id:"dream-maker",name:"Dream Maker",import:()=>e.A(55357)},{id:"edge",name:"Edge",import:()=>e.A(40814)},{id:"elixir",name:"Elixir",import:()=>e.A(34593)},{id:"elm",name:"Elm",import:()=>e.A(80402)},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>e.A(59962)},{id:"erb",name:"ERB",import:()=>e.A(55306)},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>e.A(79291)},{id:"fennel",name:"Fennel",import:()=>e.A(56334)},{id:"fish",name:"Fish",import:()=>e.A(55953)},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>e.A(72286)},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>e.A(9599)},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>e.A(17187)},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>e.A(6583)},{id:"gdresource",name:"GDResource",import:()=>e.A(350)},{id:"gdscript",name:"GDScript",import:()=>e.A(18592)},{id:"gdshader",name:"GDShader",import:()=>e.A(64292)},{id:"genie",name:"Genie",import:()=>e.A(51227)},{id:"gherkin",name:"Gherkin",import:()=>e.A(81674)},{id:"git-commit",name:"Git Commit Message",import:()=>e.A(65886)},{id:"git-rebase",name:"Git Rebase Message",import:()=>e.A(43635)},{id:"gleam",name:"Gleam",import:()=>e.A(69752)},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>e.A(20210)},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>e.A(52204)},{id:"glsl",name:"GLSL",import:()=>e.A(15932)},{id:"gnuplot",name:"Gnuplot",import:()=>e.A(34810)},{id:"go",name:"Go",import:()=>e.A(18233)},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>e.A(27502)},{id:"groovy",name:"Groovy",import:()=>e.A(83131)},{id:"hack",name:"Hack",import:()=>e.A(66363)},{id:"haml",name:"Ruby Haml",import:()=>e.A(36482)},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>e.A(19104)},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>e.A(82274)},{id:"haxe",name:"Haxe",import:()=>e.A(43593)},{id:"hcl",name:"HashiCorp HCL",import:()=>e.A(92582)},{id:"hjson",name:"Hjson",import:()=>e.A(32395)},{id:"hlsl",name:"HLSL",import:()=>e.A(36975)},{id:"html",name:"HTML",import:()=>e.A(15475)},{id:"html-derivative",name:"HTML (Derivative)",import:()=>e.A(36812)},{id:"http",name:"HTTP",import:()=>e.A(22332)},{id:"hxml",name:"HXML",import:()=>e.A(12671)},{id:"hy",name:"Hy",import:()=>e.A(98975)},{id:"imba",name:"Imba",import:()=>e.A(21794)},{id:"ini",name:"INI",aliases:["properties"],import:()=>e.A(12237)},{id:"java",name:"Java",import:()=>e.A(28056)},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>e.A(92799)},{id:"jinja",name:"Jinja",import:()=>e.A(535)},{id:"jison",name:"Jison",import:()=>e.A(99868)},{id:"json",name:"JSON",import:()=>e.A(92658)},{id:"json5",name:"JSON5",import:()=>e.A(45390)},{id:"jsonc",name:"JSON with Comments",import:()=>e.A(59901)},{id:"jsonl",name:"JSON Lines",import:()=>e.A(44018)},{id:"jsonnet",name:"Jsonnet",import:()=>e.A(32597)},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>e.A(86493)},{id:"jsx",name:"JSX",import:()=>e.A(87672)},{id:"julia",name:"Julia",aliases:["jl"],import:()=>e.A(48045)},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>e.A(78014)},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>e.A(11938)},{id:"latex",name:"LaTeX",import:()=>e.A(82697)},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>e.A(6774)},{id:"less",name:"Less",import:()=>e.A(57069)},{id:"liquid",name:"Liquid",import:()=>e.A(33954)},{id:"llvm",name:"LLVM IR",import:()=>e.A(77631)},{id:"log",name:"Log file",import:()=>e.A(32210)},{id:"logo",name:"Logo",import:()=>e.A(17136)},{id:"lua",name:"Lua",import:()=>e.A(47287)},{id:"luau",name:"Luau",import:()=>e.A(98173)},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>e.A(18877)},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>e.A(59142)},{id:"marko",name:"Marko",import:()=>e.A(44609)},{id:"matlab",name:"MATLAB",import:()=>e.A(23845)},{id:"mdc",name:"MDC",import:()=>e.A(67535)},{id:"mdx",name:"MDX",import:()=>e.A(59189)},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>e.A(57619)},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>e.A(1626)},{id:"mojo",name:"Mojo",import:()=>e.A(24176)},{id:"move",name:"Move",import:()=>e.A(47969)},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>e.A(55902)},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>e.A(57638)},{id:"nginx",name:"Nginx",import:()=>e.A(47723)},{id:"nim",name:"Nim",import:()=>e.A(69519)},{id:"nix",name:"Nix",import:()=>e.A(65220)},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>e.A(8312)},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>e.A(98543)},{id:"objective-cpp",name:"Objective-C++",import:()=>e.A(53213)},{id:"ocaml",name:"OCaml",import:()=>e.A(57016)},{id:"pascal",name:"Pascal",import:()=>e.A(94584)},{id:"perl",name:"Perl",import:()=>e.A(90087)},{id:"php",name:"PHP",import:()=>e.A(53525)},{id:"plsql",name:"PL/SQL",import:()=>e.A(85641)},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>e.A(15520)},{id:"polar",name:"Polar",import:()=>e.A(79736)},{id:"postcss",name:"PostCSS",import:()=>e.A(44743)},{id:"powerquery",name:"PowerQuery",import:()=>e.A(69901)},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>e.A(49765)},{id:"prisma",name:"Prisma",import:()=>e.A(25840)},{id:"prolog",name:"Prolog",import:()=>e.A(78110)},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>e.A(10002)},{id:"pug",name:"Pug",aliases:["jade"],import:()=>e.A(53456)},{id:"puppet",name:"Puppet",import:()=>e.A(28116)},{id:"purescript",name:"PureScript",import:()=>e.A(62792)},{id:"python",name:"Python",aliases:["py"],import:()=>e.A(48436)},{id:"qml",name:"QML",import:()=>e.A(85774)},{id:"qmldir",name:"QML Directory",import:()=>e.A(22682)},{id:"qss",name:"Qt Style Sheets",import:()=>e.A(29273)},{id:"r",name:"R",import:()=>e.A(17431)},{id:"racket",name:"Racket",import:()=>e.A(27184)},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>e.A(2999)},{id:"razor",name:"ASP.NET Razor",import:()=>e.A(22510)},{id:"reg",name:"Windows Registry Script",import:()=>e.A(92914)},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>e.A(64980)},{id:"rel",name:"Rel",import:()=>e.A(62249)},{id:"riscv",name:"RISC-V",import:()=>e.A(19686)},{id:"rst",name:"reStructuredText",import:()=>e.A(80357)},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>e.A(60137)},{id:"rust",name:"Rust",aliases:["rs"],import:()=>e.A(25837)},{id:"sas",name:"SAS",import:()=>e.A(59154)},{id:"sass",name:"Sass",import:()=>e.A(28160)},{id:"scala",name:"Scala",import:()=>e.A(79226)},{id:"scheme",name:"Scheme",import:()=>e.A(18342)},{id:"scss",name:"SCSS",import:()=>e.A(56229)},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>e.A(57294)},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>e.A(87646)},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>e.A(77876)},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>e.A(2789)},{id:"smalltalk",name:"Smalltalk",import:()=>e.A(5404)},{id:"solidity",name:"Solidity",import:()=>e.A(64050)},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>e.A(23766)},{id:"sparql",name:"SPARQL",import:()=>e.A(71095)},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>e.A(13125)},{id:"sql",name:"SQL",import:()=>e.A(47760)},{id:"ssh-config",name:"SSH Config",import:()=>e.A(25380)},{id:"stata",name:"Stata",import:()=>e.A(27772)},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>e.A(31592)},{id:"svelte",name:"Svelte",import:()=>e.A(15740)},{id:"swift",name:"Swift",import:()=>e.A(74099)},{id:"system-verilog",name:"SystemVerilog",import:()=>e.A(1250)},{id:"systemd",name:"Systemd Units",import:()=>e.A(44475)},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>e.A(538)},{id:"tasl",name:"Tasl",import:()=>e.A(36651)},{id:"tcl",name:"Tcl",import:()=>e.A(9948)},{id:"templ",name:"Templ",import:()=>e.A(40336)},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>e.A(8436)},{id:"tex",name:"TeX",import:()=>e.A(55636)},{id:"toml",name:"TOML",import:()=>e.A(51979)},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>e.A(65678)},{id:"tsv",name:"TSV",import:()=>e.A(41727)},{id:"tsx",name:"TSX",import:()=>e.A(57754)},{id:"turtle",name:"Turtle",import:()=>e.A(70454)},{id:"twig",name:"Twig",import:()=>e.A(70515)},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>e.A(48460)},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>e.A(44538)},{id:"typst",name:"Typst",aliases:["typ"],import:()=>e.A(60591)},{id:"v",name:"V",import:()=>e.A(43837)},{id:"vala",name:"Vala",import:()=>e.A(30536)},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>e.A(85051)},{id:"verilog",name:"Verilog",import:()=>e.A(86017)},{id:"vhdl",name:"VHDL",import:()=>e.A(95694)},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>e.A(4547)},{id:"vue",name:"Vue",import:()=>e.A(34329)},{id:"vue-html",name:"Vue HTML",import:()=>e.A(60550)},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>e.A(34235)},{id:"wasm",name:"WebAssembly",import:()=>e.A(79931)},{id:"wenyan",name:"Wenyan",aliases:[""],import:()=>e.A(38463)},{id:"wgsl",name:"WGSL",import:()=>e.A(64547)},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>e.A(74196)},{id:"wit",name:"WebAssembly Interface Types",import:()=>e.A(26245)},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>e.A(98654)},{id:"xml",name:"XML",import:()=>e.A(60115)},{id:"xsl",name:"XSL",import:()=>e.A(56841)},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>e.A(91412)},{id:"zenscript",name:"ZenScript",import:()=>e.A(41270)},{id:"zig",name:"Zig",import:()=>e.A(32344)}],sh=Object.fromEntries(sp.map(e=>[e.id,e.import])),sm=Object.fromEntries(sp.flatMap(e=>e.aliases?.map(t=>[t,e.import])||[])),sf={...sh,...sm};class sg extends Error{constructor(e){super(e),this.name="ShikiError"}}function sy(e,...t){return t.forEach(t=>{for(let r in t)e[r]=t[r]}),e}var sv=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,sb=class{static hasCaptures(e){return null!==e&&(sv.lastIndex=0,sv.test(e))}static replaceCaptures(e,t,r){return e.replace(sv,(e,n,i,a)=>{let o=r[parseInt(n||i,10)];if(!o)return e;{let e=t.substring(o.start,o.end);for(;"."===e[0];)e=e.substring(1);switch(a){case"downcase":return e.toLowerCase();case"upcase":return e.toUpperCase();default:return e}}})}};function sw(e,t){if(null===e&&null===t)return 0;if(!e)return -1;if(!t)return 1;let r=e.length,n=t.length;if(r===n){for(let n=0;n<r;n++){var i,a;let r=(i=e[n],i<(a=t[n])?-1:+(i>a));if(0!==r)return r}return 0}return r-n}function sx(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function sC(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var sk=class{constructor(e){this.fn=e}cache=new Map;get(e){if(this.cache.has(e))return this.cache.get(e);let t=this.fn(e);return this.cache.set(e,t),t}},sS=class{constructor(e,t,r){this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(function(e){if(!e||!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],n=0;for(let e=0,i=t.length;e<i;e++){let i,a=t[e];if(!a.settings)continue;if("string"==typeof a.scope){let e=a.scope;i=(e=(e=e.replace(/^[,]+/,"")).replace(/[,]+$/,"")).split(",")}else i=Array.isArray(a.scope)?a.scope:[""];let o=-1;if("string"==typeof a.settings.fontStyle){o=0;let e=a.settings.fontStyle.split(" ");for(let t=0,r=e.length;t<r;t++)switch(e[t]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4;break;case"strikethrough":o|=8}}let s=null;"string"==typeof a.settings.foreground&&sx(a.settings.foreground)&&(s=a.settings.foreground);let l=null;"string"==typeof a.settings.background&&sx(a.settings.background)&&(l=a.settings.background);for(let t=0,a=i.length;t<a;t++){let a=i[t].trim().split(" "),c=a[a.length-1],u=null;a.length>1&&(u=a.slice(0,a.length-1)).reverse(),r[n++]=new sA(c,u,e,o,s,l)}}return r}(e),t)}static createFromParsedTheme(e,t){return function(e,t){e.sort((e,t)=>{var r,n;let i=(r=e.scope,r<(n=t.scope)?-1:+(r>n));return 0!==i||0!==(i=sw(e.parentScopes,t.parentScopes))?i:e.index-t.index});let r=0,n="#000000",i="#ffffff";for(;e.length>=1&&""===e[0].scope;){let t=e.shift();-1!==t.fontStyle&&(r=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(i=t.background)}let a=new sN(t),o=new sj(r,a.getId(n),a.getId(i)),s=new sI(new sT(0,null,-1,0,0),[]);for(let t=0,r=e.length;t<r;t++){let r=e[t];s.insert(0,r.scope,r.parentScopes,r.fontStyle,a.getId(r.foreground),a.getId(r.background))}return new sS(a,o,s)}(e,t)}_cachedMatchRoot=new sk(e=>this._root.match(e));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(null===e)return this._defaults;let t=e.scopeName,r=this._cachedMatchRoot.get(t).find(t=>(function(e,t){if(0===t.length)return!0;for(let i=0;i<t.length;i++){var r,n;let a=t[i],o=!1;if(">"===a){if(i===t.length-1)return!1;a=t[++i],o=!0}for(;e&&(r=e.scopeName,!((n=a)===r||r.startsWith(n)&&"."===r[n.length]));){if(o)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0})(e.parent,t.parentScopes));return r?new sj(r.fontStyle,r.foreground,r.background):null}},sE=class e{constructor(e,t){this.parent=e,this.scopeName=t}static push(t,r){for(let n of r)t=new e(t,n);return t}static from(...t){let r=null;for(let n=0;n<t.length;n++)r=new e(r,t[n]);return r}push(t){return new e(this,t)}getSegments(){let e=this,t=[];for(;e;)t.push(e.scopeName),e=e.parent;return t.reverse(),t}toString(){return this.getSegments().join(" ")}extends(e){return this===e||null!==this.parent&&this.parent.extends(e)}getExtensionIfDefined(e){let t=[],r=this;for(;r&&r!==e;)t.push(r.scopeName),r=r.parent;return r===e?t.reverse():void 0}},sj=class{constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}},sA=class{constructor(e,t,r,n,i,a){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=n,this.foreground=i,this.background=a}},sP=((gy=sP||{})[gy.NotSet=-1]="NotSet",gy[gy.None=0]="None",gy[gy.Italic=1]="Italic",gy[gy.Bold=2]="Bold",gy[gy.Underline=4]="Underline",gy[gy.Strikethrough=8]="Strikethrough",gy),sN=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(null===e)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},sR=Object.freeze([]),sT=class e{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,t,r,n,i){this.scopeDepth=e,this.parentScopes=t||sR,this.fontStyle=r,this.foreground=n,this.background=i}clone(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let t=[];for(let r=0,n=e.length;r<n;r++)t[r]=e[r].clone();return t}acceptOverwrite(e,t,r,n){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==r&&(this.foreground=r),0!==n&&(this.background=n)}},sI=class e{constructor(e,t=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=t}_rulesWithParentScopes;static _cmpBySpecificity(e,t){if(e.scopeDepth!==t.scopeDepth)return t.scopeDepth-e.scopeDepth;let r=0,n=0;for(;">"===e.parentScopes[r]&&r++,">"===t.parentScopes[n]&&n++,!(r>=e.parentScopes.length)&&!(n>=t.parentScopes.length);){let i=t.parentScopes[n].length-e.parentScopes[r].length;if(0!==i)return i;r++,n++}return t.parentScopes.length-e.parentScopes.length}match(t){if(""!==t){let e,r,n=t.indexOf(".");if(-1===n?(e=t,r=""):(e=t.substring(0,n),r=t.substring(n+1)),this._children.hasOwnProperty(e))return this._children[e].match(r)}let r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(e._cmpBySpecificity),r}insert(t,r,n,i,a,o){let s,l,c;if(""===r)return void this._doInsertHere(t,n,i,a,o);let u=r.indexOf(".");-1===u?(s=r,l=""):(s=r.substring(0,u),l=r.substring(u+1)),this._children.hasOwnProperty(s)?c=this._children[s]:(c=new e(this._mainRule.clone(),sT.cloneArr(this._rulesWithParentScopes)),this._children[s]=c),c.insert(t+1,l,n,i,a,o)}_doInsertHere(e,t,r,n,i){if(null===t)return void this._mainRule.acceptOverwrite(e,r,n,i);for(let a=0,o=this._rulesWithParentScopes.length;a<o;a++){let o=this._rulesWithParentScopes[a];if(0===sw(o.parentScopes,t))return void o.acceptOverwrite(e,r,n,i)}-1===r&&(r=this._mainRule.fontStyle),0===n&&(n=this._mainRule.foreground),0===i&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new sT(e,t,r,n,i))}},s_=class e{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(t){let r=e.getLanguageId(t),n=e.getTokenType(t),i=e.getFontStyle(t);console.log({languageId:r,tokenType:n,fontStyle:i,foreground:e.getForeground(t),background:e.getBackground(t)})}static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return(1024&e)!=0}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(0xff8000&e)>>>15}static getBackground(e){return(0xff000000&e)>>>24}static set(t,r,n,i,a,o,s){let l=e.getLanguageId(t),c=e.getTokenType(t),u=+!!e.containsBalancedBrackets(t),d=e.getFontStyle(t),p=e.getForeground(t),h=e.getBackground(t);return 0!==r&&(l=r),8!==n&&(c=n),null!==i&&(u=+!!i),-1!==a&&(d=a),0!==o&&(p=o),0!==s&&(h=s),(l|c<<8|u<<10|d<<11|p<<15|h<<24)>>>0}};function sD(e,t){var r;let n,i,a=[],o=(r=e,i=(n=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(r),{next:()=>{if(!i)return null;let e=i[0];return i=n.exec(r),e}}),s=o.next();for(;null!==s;){let e=0;if(2===s.length&&":"===s.charAt(1)){switch(s.charAt(0)){case"R":e=1;break;case"L":e=-1;break;default:console.log(`Unknown priority ${s} in scope selector`)}s=o.next()}let t=c();if(a.push({matcher:t,priority:e}),","!==s)break;s=o.next()}return a;function l(){if("-"===s){s=o.next();let e=l();return t=>!!e&&!e(t)}if("("===s){s=o.next();let e=function(){let e=[],t=c();for(;t&&(e.push(t),"|"===s||","===s);){do s=o.next();while("|"===s||","===s)t=c()}return t=>e.some(e=>e(t))}();return")"===s&&(s=o.next()),e}if(sL(s)){let e=[];do e.push(s),s=o.next();while(sL(s))return r=>t(e,r)}return null}function c(){let e=[],t=l();for(;t;)e.push(t),t=l();return t=>e.every(e=>e(t))}}function sL(e){return!!e&&!!e.match(/[\w\.:]+/)}var sO=((gv=sO||{})[gv.None=0]="None",gv[gv.NotBeginString=1]="NotBeginString",gv[gv.NotEndString=2]="NotEndString",gv[gv.NotBeginPosition=4]="NotBeginPosition",gv[gv.DebugCall=8]="DebugCall",gv);function sM(e){"function"==typeof e.dispose&&e.dispose()}var sB=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},sz=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},sH=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(e){let t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},sF=class{constructor(e,t){this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new sB(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){let e=this.Q;this.Q=[];let t=new sH;for(let r of e)!function(e,t,r,n){let i=r.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw Error(`No grammar provided for <${t}>`);return}let a=r.lookup(t);e instanceof sB?sU({baseGrammar:a,selfGrammar:i},n):sK(e.ruleName,{baseGrammar:a,selfGrammar:i,repository:i.repository},n);let o=r.injections(e.scopeName);if(o)for(let e of o)n.add(new sB(e))}(r,this.initialScopeName,this.repo,t);for(let e of t.references)if(e instanceof sB){if(this.seenFullScopeRequests.has(e.scopeName))continue;this.seenFullScopeRequests.add(e.scopeName),this.Q.push(e)}else{if(this.seenFullScopeRequests.has(e.scopeName)||this.seenPartialScopeRequests.has(e.toKey()))continue;this.seenPartialScopeRequests.add(e.toKey()),this.Q.push(e)}}};function sK(e,t,r){t.repository&&t.repository[e]&&sW([t.repository[e]],t,r)}function sU(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&sW(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&sW(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function sW(e,t,r){for(let n of e){if(r.visitedRule.has(n))continue;r.visitedRule.add(n);let e=n.repository?sy({},t.repository,n.repository):t.repository;Array.isArray(n.patterns)&&sW(n.patterns,{...t,repository:e},r);let i=n.include;if(!i)continue;let a=sJ(i);switch(a.kind){case 0:sU({...t,selfGrammar:t.baseGrammar},r);break;case 1:sU(t,r);break;case 2:sK(a.ruleName,{...t,repository:e},r);break;case 3:case 4:let o=a.scopeName===t.selfGrammar.scopeName?t.selfGrammar:a.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(o){let n={baseGrammar:t.baseGrammar,selfGrammar:o,repository:e};4===a.kind?sK(a.ruleName,n,r):sU(n,r)}else 4===a.kind?r.add(new sz(a.scopeName,a.ruleName)):r.add(new sB(a.scopeName))}}}var s$=class{kind=0},sV=class{kind=1},sG=class{constructor(e){this.ruleName=e}kind=2},sq=class{constructor(e){this.scopeName=e}kind=3},sQ=class{constructor(e,t){this.scopeName=e,this.ruleName=t}kind=4};function sJ(e){if("$base"===e)return new s$;if("$self"===e)return new sV;let t=e.indexOf("#");return -1===t?new sq(e):0===t?new sG(e.substring(1)):new sQ(e.substring(0,t),e.substring(t+1))}var sY=/\\(\d+)/,sZ=/\\(\d+)/g;Symbol("RuleId");var sX=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(e,t,r,n){this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=sb.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=sb.hasCaptures(this._contentName)}get debugName(){let e=this.$location?`${function e(t){let r=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===r?t:~r==t.length-1?e(t.substring(0,t.length-1)):t.substr(~r+1)}(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?sb.replaceCaptures(this._name,e,t):this._name}getContentName(e,t){return this._contentNameIsCapturing&&null!==this._contentName?sb.replaceCaptures(this._contentName,e,t):this._contentName}},s0=class extends sX{retokenizeCapturedWithRuleId;constructor(e,t,r,n,i){super(e,t,r,n),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,t){throw Error("Not supported!")}compile(e,t){throw Error("Not supported!")}compileAG(e,t,r,n){throw Error("Not supported!")}},s1=class extends sX{_match;captures;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,null),this._match=new s6(n,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,t){t.push(this._match)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new s9,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},s2=class extends sX{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i){super(e,t,r,n),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,t){for(let r of this.patterns)e.getRule(r).collectPatterns(e,t)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new s9,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},s3=class extends sX{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(e,t,r,n,i,a,o,s,l,c){super(e,t,r,n),this._begin=new s6(i,this.id),this.beginCaptures=a,this._end=new s6(o||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=s,this.applyEndPatternLast=l||!1,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,t){return this._end.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e,t).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e,t).compileAG(e,r,n)}_getCachedCompiledPatterns(e,t){if(!this._cachedCompiledPatterns){for(let t of(this._cachedCompiledPatterns=new s9,this.patterns))e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns}},s4=class extends sX{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(e,t,r,n,i,a,o,s,l){super(e,t,r,n),this._begin=new s6(i,this.id),this.beginCaptures=a,this.whileCaptures=s,this._while=new s6(o,-2),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,t){return this._while.resolveBackReferences(e,t)}collectPatterns(e,t){t.push(this._begin)}compile(e,t){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,t,r,n){return this._getCachedCompiledPatterns(e).compileAG(e,r,n)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns)for(let t of(this._cachedCompiledPatterns=new s9,this.patterns))e.getRule(t).collectPatterns(e,this._cachedCompiledPatterns);return this._cachedCompiledPatterns}compileWhile(e,t){return this._getCachedCompiledWhilePatterns(e,t).compile(e)}compileWhileAG(e,t,r,n){return this._getCachedCompiledWhilePatterns(e,t).compileAG(e,r,n)}_getCachedCompiledWhilePatterns(e,t){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new s9,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||""),this._cachedCompiledWhilePatterns}},s5=class e{static createCaptureRule(e,t,r,n,i){return e.registerRule(e=>new s0(t,e,r,n,i))}static getCompiledRuleId(t,r,n){return t.id||r.registerRule(i=>{if(t.id=i,t.match)return new s1(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,r,n));if(void 0===t.begin){t.repository&&(n=sy({},n,t.repository));let i=t.patterns;return void 0===i&&t.include&&(i=[{include:t.include}]),new s2(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(i,r,n))}return t.while?new s4(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,r,n),t.while,e._compileCaptures(t.whileCaptures||t.captures,r,n),e._compilePatterns(t.patterns,r,n)):new s3(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,r,n),t.end,e._compileCaptures(t.endCaptures||t.captures,r,n),t.applyEndPatternLast,e._compilePatterns(t.patterns,r,n))}),t.id}static _compileCaptures(t,r,n){let i=[];if(t){let a=0;for(let e in t){if("$vscodeTextmateLocation"===e)continue;let t=parseInt(e,10);t>a&&(a=t)}for(let e=0;e<=a;e++)i[e]=null;for(let a in t){if("$vscodeTextmateLocation"===a)continue;let o=parseInt(a,10),s=0;t[a].patterns&&(s=e.getCompiledRuleId(t[a],r,n)),i[o]=e.createCaptureRule(r,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,s)}}return i}static _compilePatterns(t,r,n){let i=[];if(t)for(let a=0,o=t.length;a<o;a++){let o=t[a],s=-1;if(o.include){let t=sJ(o.include);switch(t.kind){case 0:case 1:s=e.getCompiledRuleId(n[o.include],r,n);break;case 2:let i=n[t.ruleName];i&&(s=e.getCompiledRuleId(i,r,n));break;case 3:case 4:let a=t.scopeName,l=4===t.kind?t.ruleName:null,c=r.getExternalGrammar(a,n);if(c)if(l){let t=c.repository[l];t&&(s=e.getCompiledRuleId(t,r,c.repository))}else s=e.getCompiledRuleId(c.repository.$self,r,c.repository)}}else s=e.getCompiledRuleId(o,r,n);if(-1!==s){let e=r.getRule(s),t=!1;if((e instanceof s2||e instanceof s3||e instanceof s4)&&e.hasMissingPatterns&&0===e.patterns.length&&(t=!0),t)continue;i.push(s)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}}},s6=class e{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,t){if(e&&"string"==typeof e){const t=e.length;let r=0,n=[],i=!1;for(let a=0;a<t;a++)if("\\"===e.charAt(a)&&a+1<t){const t=e.charAt(a+1);"z"===t?(n.push(e.substring(r,a)),n.push("$(?!\\n)(?<!\\n)"),r=a+2):("A"===t||"G"===t)&&(i=!0),a++}this.hasAnchor=i,0===r?this.source=e:(n.push(e.substring(r,t)),this.source=n.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,"string"==typeof this.source?this.hasBackReferences=sY.test(this.source):this.hasBackReferences=!1}clone(){return new e(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,t){if("string"!=typeof this.source)throw Error("This method should only be called if the source is a string");let r=t.map(t=>e.substring(t.start,t.end));return sZ.lastIndex=0,this.source.replace(sZ,(e,t)=>sC(r[parseInt(t,10)]||""))}_buildAnchorCache(){let e,t,r,n;if("string"!=typeof this.source)throw Error("This method should only be called if the source is a string");let i=[],a=[],o=[],s=[];for(e=0,t=this.source.length;e<t;e++)r=this.source.charAt(e),i[e]=r,a[e]=r,o[e]=r,s[e]=r,"\\"===r&&e+1<t&&("A"===(n=this.source.charAt(e+1))?(i[e+1]="",a[e+1]="",o[e+1]="A",s[e+1]="A"):"G"===n?(i[e+1]="",a[e+1]="G",o[e+1]="",s[e+1]="G"):(i[e+1]=n,a[e+1]=n,o[e+1]=n,s[e+1]=n),e++);return{A0_G0:i.join(""),A0_G1:a.join(""),A1_G0:o.join(""),A1_G1:s.join("")}}resolveAnchors(e,t){if(!this.hasAnchor||!this._anchorCache||"string"!=typeof this.source)return this.source;if(e)if(t)return this._anchorCache.A1_G1;else return this._anchorCache.A1_G0;return t?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},s9=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(e=>e.source);this._cached=new s7(e,t,this._items.map(e=>e.ruleId))}return this._cached}compileAG(e,t,r){if(!this._hasAnchors)return this.compile(e);if(t)if(r)return this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1;else return this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0;return r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0)}_resolveAnchors(e,t,r){return new s7(e,this._items.map(e=>e.resolveAnchors(t,r)),this._items.map(e=>e.ruleId))}},s7=class{constructor(e,t,r){this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}scanner;dispose(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()}toString(){let e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join("\n")}findNextMatchSync(e,t,r){let n=this.scanner.findNextMatchSync(e,t,r);return n?{ruleId:this.rules[n.index],captureIndices:n.captureIndices}:null}},s8=class{constructor(e,t){this.languageId=e,this.tokenType=t}},le=class e{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,t){this._defaultAttributes=new s8(e,8),this._embeddedLanguagesMatcher=new lt(Object.entries(t||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return null===t?e._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}static _NULL_SCOPE_METADATA=new s8(0,0);_getBasicScopeAttributes=new sk(e=>new s8(this._scopeToLanguage(e),this._toStandardTokenType(e)));_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(t){let r=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},lt=class{values;scopesRegExp;constructor(e){if(0===e.length)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([e,t])=>sC(e));t.sort(),t.reverse(),this.scopesRegExp=RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;let t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}};void 0!==eL.default&&eL.default.env.VSCODE_TEXTMATE_DEBUG;var lr=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function ln(e,t,r,n,i,a,o,s){let l=t.content.length,c=!1,u=-1;if(o){let o=function(e,t,r,n,i,a){let o=i.beginRuleCapturedEOL?0:-1,s=[];for(let t=i;t;t=t.pop()){let r=t.getRule(e);r instanceof s4&&s.push({rule:r,stack:t})}for(let h=s.pop();h;h=s.pop()){var l,c,u,d,p;let{ruleScanner:s,findOptions:m}=(l=h.rule,c=e,u=h.stack.endRule,d=r,p=n===o,{ruleScanner:l.compileWhileAG(c,u,d,p),findOptions:0}),f=s.findNextMatchSync(t,n,m);if(f){if(-2!==f.ruleId){i=h.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(a.produce(h.stack,f.captureIndices[0].start),la(e,t,r,h.stack,a,h.rule.whileCaptures,f.captureIndices),a.produce(h.stack,f.captureIndices[0].end),o=f.captureIndices[0].end,f.captureIndices[0].end>n&&(n=f.captureIndices[0].end,r=!1))}else{i=h.stack.pop();break}}return{stack:i,linePos:n,anchorPosition:o,isFirstLine:r}}(e,t,r,n,i,a);i=o.stack,n=o.linePos,r=o.isFirstLine,u=o.anchorPosition}let d=Date.now();for(;!c;){if(0!==s&&Date.now()-d>s)return new lr(i,!0);!function(){let o=function(e,t,r,n,i,a){let o=function(e,t,r,n,i,a){let{ruleScanner:o,findOptions:s}=li(i.getRule(e),e,i.endRule,r,n===a),l=o.findNextMatchSync(t,n,s);return l?{captureIndices:l.captureIndices,matchedRuleId:l.ruleId}:null}(e,t,r,n,i,a),s=e.getInjections();if(0===s.length)return o;let l=function(e,t,r,n,i,a,o){let s,l=Number.MAX_VALUE,c=null,u=0,d=a.contentNameScopesList.getScopeNames();for(let a=0,p=e.length;a<p;a++){let p=e[a];if(!p.matcher(d))continue;let{ruleScanner:h,findOptions:m}=li(t.getRule(p.ruleId),t,null,n,i===o),f=h.findNextMatchSync(r,i,m);if(!f)continue;let g=f.captureIndices[0].start;if(!(g>=l)&&(l=g,c=f.captureIndices,s=f.ruleId,u=p.priority,l===i))break}return c?{priorityMatch:-1===u,captureIndices:c,matchedRuleId:s}:null}(s,e,t,r,n,i,a);if(!l)return o;if(!o)return l;let c=o.captureIndices[0].start,u=l.captureIndices[0].start;return u<c||l.priorityMatch&&u===c?l:o}(e,t,r,n,i,u);if(!o){a.produce(i,l),c=!0;return}let s=o.captureIndices,d=o.matchedRuleId,p=!!s&&s.length>0&&s[0].end>n;if(-1===d){let o=i.getRule(e);a.produce(i,s[0].start),i=i.withContentNameScopesList(i.nameScopesList),la(e,t,r,i,a,o.endCaptures,s),a.produce(i,s[0].end);let d=i;if(i=i.parent,u=d.getAnchorPos(),!p&&d.getEnterPos()===n){i=d,a.produce(i,l),c=!0;return}}else{let o=e.getRule(d);a.produce(i,s[0].start);let h=i,m=o.getName(t.content,s),f=i.contentNameScopesList.pushAttributed(m,e);if(i=i.push(d,n,u,s[0].end===l,null,f,f),o instanceof s3){la(e,t,r,i,a,o.beginCaptures,s),a.produce(i,s[0].end),u=s[0].end;let n=o.getContentName(t.content,s),d=f.pushAttributed(n,e);if(i=i.withContentNameScopesList(d),o.endHasBackReferences&&(i=i.withEndRule(o.getEndWithResolvedBackReferences(t.content,s))),!p&&h.hasSameRuleAs(i)){i=i.pop(),a.produce(i,l),c=!0;return}}else if(o instanceof s4){la(e,t,r,i,a,o.beginCaptures,s),a.produce(i,s[0].end),u=s[0].end;let n=o.getContentName(t.content,s),d=f.pushAttributed(n,e);if(i=i.withContentNameScopesList(d),o.whileHasBackReferences&&(i=i.withEndRule(o.getWhileWithResolvedBackReferences(t.content,s))),!p&&h.hasSameRuleAs(i)){i=i.pop(),a.produce(i,l),c=!0;return}}else if(la(e,t,r,i,a,o.captures,s),a.produce(i,s[0].end),i=i.pop(),!p){i=i.safePop(),a.produce(i,l),c=!0;return}}s[0].end>n&&(n=s[0].end,r=!1)}()}return new lr(i,!1)}function li(e,t,r,n,i){return{ruleScanner:e.compileAG(t,r,n,i),findOptions:0}}function la(e,t,r,n,i,a,o){if(0===a.length)return;let s=t.content,l=Math.min(a.length,o.length),c=[],u=o[0].end;for(let t=0;t<l;t++){let l=a[t];if(null===l)continue;let d=o[t];if(0===d.length)continue;if(d.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=d.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,d.start):i.produce(n,d.start),l.retokenizeCapturedWithRuleId){let t=l.getName(s,o),a=n.contentNameScopesList.pushAttributed(t,e),c=l.getContentName(s,o),u=a.pushAttributed(c,e),p=n.push(l.retokenizeCapturedWithRuleId,d.start,-1,!1,null,a,u),h=e.createOnigString(s.substring(0,d.end));ln(e,h,r&&0===d.start,d.start,p,i,!1,0),sM(h);continue}let p=l.getName(s,o);if(null!==p){let t=(c.length>0?c[c.length-1].scopes:n.contentNameScopesList).pushAttributed(p,e);c.push(new lo(t,d.end))}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var lo=class{scopes;endPos;constructor(e,t){this.scopes=e,this.endPos=t}};function ls(e,t,r,n,i){let a=sD(t,ll),o=s5.getCompiledRuleId(r,n,i.repository);for(let r of a)e.push({debugSelector:t,matcher:r.matcher,ruleId:o,grammar:i,priority:r.priority})}function ll(e,t){if(t.length<e.length)return!1;let r=0;return e.every(e=>{for(let n=r;n<t.length;n++)if(function(e,t){if(!e)return!1;if(e===t)return!0;let r=t.length;return e.length>r&&e.substr(0,r)===t&&"."===e[r]}(t[n],e))return r=n+1,!0;return!1})}var lc=class{constructor(e,t,r,n,i,a,o,s){if(this._rootScopeName=e,this.balancedBracketSelectors=a,this._onigLib=s,this._basicScopeAttributesProvider=new le(r,n),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=lu(t,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const e of Object.keys(i))for(const t of sD(e,ll))this._tokenTypeMatchers.push({matcher:t.matcher,type:i[e]})}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(let e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){let e=[],t=this._rootScopeName,r=({lookup:e=>e===this._rootScopeName?this._grammar:this.getExternalGrammar(e),injections:e=>this._grammarRepository.injections(e)}).lookup(t);if(r){let n=r.injections;if(n)for(let t in n)ls(e,t,n[t],this,r);let i=this._grammarRepository.injections(t);i&&i.forEach(t=>{let r=this.getExternalGrammar(t);if(r){let t=r.injectionSelector;t&&ls(e,t,r,this,r)}})}return e.sort((e,t)=>e.priority-t.priority),e}getInjections(){return null===this._injections&&(this._injections=this._collectInjections()),this._injections}registerRule(e){let t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){let r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=lu(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){let n=this._tokenize(e,t,!1,r);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}tokenizeLine2(e,t,r=0){let n=this._tokenize(e,t,!0,r);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack,stoppedEarly:n.stoppedEarly}}_tokenize(e,t,r,n){let i;if(-1===this._rootId&&(this._rootId=s5.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),t&&t!==lp.NULL)i=!1,t.reset();else{let e;i=!0;let r=this._basicScopeAttributesProvider.getDefaultAttributes(),n=this.themeProvider.getDefaults(),a=s_.set(0,r.languageId,r.tokenType,null,n.fontStyle,n.foregroundId,n.backgroundId),o=this.getRule(this._rootId).getName(null,null);e=o?ld.createRootAndLookUpScopeName(o,a,this):ld.createRoot("unknown",a),t=new lp(null,this._rootId,-1,-1,!1,null,e,e)}e+="\n";let a=this.createOnigString(e),o=a.content.length,s=new lm(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),l=ln(this,a,i,0,t,s,!0,n);return sM(a),{lineLength:o,lineTokens:s,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function lu(e,t){return(e=function e(t){return Array.isArray(t)?function(t){let r=[];for(let n=0,i=t.length;n<i;n++)r[n]=e(t[n]);return r}(t):t instanceof RegExp?t:"object"==typeof t?function(t){let r={};for(let n in t)r[n]=e(t[n]);return r}(t):t}(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var ld=class e{constructor(e,t,r){this.parent=e,this.scopePath=t,this.tokenAttributes=r}static fromExtension(t,r){let n=t,i=t?.scopePath??null;for(let t of r)n=new e(n,i=sE.push(i,t.scopeNames),t.encodedTokenAttributes);return n}static createRoot(t,r){return new e(null,new sE(null,t),r)}static createRootAndLookUpScopeName(t,r,n){let i=n.getMetadataForScope(t),a=new sE(null,t),o=n.themeProvider.themeMatch(a),s=e.mergeAttributes(r,i,o);return new e(null,a,s)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return e.equals(this,t)}static equals(e,t){for(;;){if(e===t||!e&&!t)return!0;if(!e||!t||e.scopeName!==t.scopeName||e.tokenAttributes!==t.tokenAttributes)return!1;e=e.parent,t=t.parent}}static mergeAttributes(e,t,r){let n=-1,i=0,a=0;return null!==r&&(n=r.fontStyle,i=r.foregroundId,a=r.backgroundId),s_.set(e,t.languageId,t.tokenType,null,n,i,a)}pushAttributed(t,r){if(null===t)return this;if(-1===t.indexOf(" "))return e._pushAttributed(this,t,r);let n=t.split(/ /g),i=this;for(let t of n)i=e._pushAttributed(i,t,r);return i}static _pushAttributed(t,r,n){let i=n.getMetadataForScope(r),a=t.scopePath.push(r),o=n.themeProvider.themeMatch(a),s=e.mergeAttributes(t.tokenAttributes,i,o);return new e(t,a,s)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){let t=[],r=this;for(;r&&r!==e;)t.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?t.reverse():void 0}},lp=class e{constructor(e,t,r,n,i,a,o,s){this.parent=e,this.ruleId=t,this.beginRuleCapturedEOL=i,this.endRule=a,this.nameScopesList=o,this.contentNameScopesList=s,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=n}_stackElementBrand=void 0;static NULL=new e(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(t){return null!==t&&e._equals(this,t)}static _equals(e,t){return e===t||!!this._structuralEquals(e,t)&&ld.equals(e.contentNameScopesList,t.contentNameScopesList)}static _structuralEquals(e,t){for(;;){if(e===t||!e&&!t)return!0;if(!e||!t||e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,n,i,a,o,s){return new e(this,t,r,n,i,a,o,s)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){let e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,t}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let t=this;for(;t&&t._enterPos===e._enterPos;){if(t.ruleId===e.ruleId)return!0;t=t.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(t,r){let n=ld.fromExtension(t?.nameScopesList??null,r.nameScopesList);return new e(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,n,ld.fromExtension(n,r.contentNameScopesList))}},lh=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(e,t){this.balancedBracketScopes=e.flatMap(e=>"*"===e?(this.allowAny=!0,[]):sD(e,ll).map(e=>e.matcher)),this.unbalancedBracketScopes=t.flatMap(e=>sD(e,ll).map(e=>e.matcher))}get matchesAlways(){return this.allowAny&&0===this.unbalancedBracketScopes.length}get matchesNever(){return 0===this.balancedBracketScopes.length&&!this.allowAny}match(e){for(let t of this.unbalancedBracketScopes)if(t(e))return!1;for(let t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},lm=class{constructor(e,t,r,n){this.balancedBracketSelectors=n,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let r=e?.tokenAttributes??0,n=!1;if(this.balancedBracketSelectors?.matchesAlways&&(n=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){let t=e?.getScopeNames()??[];for(let e of this._tokenTypeOverrides)e.matcher(t)&&(r=s_.set(r,0,e.type,null,-1,0,0));this.balancedBracketSelectors&&(n=this.balancedBracketSelectors.match(t))}if(n&&(r=s_.set(r,0,8,n,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=t;return}let r=e?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);let r=new Uint32Array(this._binaryTokens.length);for(let e=0,t=this._binaryTokens.length;e<t;e++)r[e]=this._binaryTokens[e];return r}},lf=class{constructor(e,t){this._onigLib=t,this._theme=e}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(let e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,n,i){if(!this._grammars.has(e)){let a=this._rawGrammars.get(e);if(!a)return null;this._grammars.set(e,new lc(e,a,t,r,n,i,this,this._onigLib))}return this._grammars.get(e)}},lg=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new lf(sS.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,t){this._syncRegistry.setTheme(sS.createFromRawTheme(e,t))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,t,r){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,t,r){return this._loadGrammar(e,t,r.embeddedLanguages,r.tokenTypes,new lh(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,t,r,n,i){let a=new sF(this._syncRegistry,e);for(;a.Q.length>0;)a.Q.map(e=>this._loadSingleGrammar(e.scopeName)),a.processQueue();return this._grammarForScopeName(e,t,r,n,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){let t=this._options.loadGrammar(e);if(t){let r="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(t,r)}}addGrammar(e,t=[],r=0,n=null){return this._syncRegistry.addGrammar(e,t),this._grammarForScopeName(e.scopeName,r,n)}_grammarForScopeName(e,t=0,r=null,n=null,i=null){return this._syncRegistry.grammarForScopeName(e,t,r,n,i)}},ly=lp.NULL;class lv{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}function lb(e,t){let r={},n={};for(let t of e)Object.assign(r,t.property),Object.assign(n,t.normal);return new lv(r,n,t)}function lw(e){return e.toLowerCase()}lv.prototype.normal={},lv.prototype.property={},lv.prototype.space=void 0;class lx{constructor(e,t){this.attribute=t,this.property=e}}lx.prototype.attribute="",lx.prototype.booleanish=!1,lx.prototype.boolean=!1,lx.prototype.commaOrSpaceSeparated=!1,lx.prototype.commaSeparated=!1,lx.prototype.defined=!1,lx.prototype.mustUseProperty=!1,lx.prototype.number=!1,lx.prototype.overloadedBoolean=!1,lx.prototype.property="",lx.prototype.spaceSeparated=!1,lx.prototype.space=void 0;let lC=0,lk=lR(),lS=lR(),lE=lR(),lj=lR(),lA=lR(),lP=lR(),lN=lR();function lR(){return 2**++lC}e.s(["boolean",0,lk,"booleanish",0,lS,"commaOrSpaceSeparated",0,lN,"commaSeparated",0,lP,"number",0,lj,"overloadedBoolean",0,lE,"spaceSeparated",0,lA],744);var lT=e.i(744);let lI=Object.keys(lT);class l_ extends lx{constructor(e,t,r,n){let i=-1;if(super(e,t),function(e,t,r){r&&(e[t]=r)}(this,"space",n),"number"==typeof r)for(;++i<lI.length;){const e=lI[i];!function(e,t,r){r&&(e[t]=r)}(this,lI[i],(r&lT[e])===lT[e])}}}function lD(e){let t={},r={};for(let[n,i]of Object.entries(e.properties)){let a=new l_(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[lw(n)]=n,r[lw(a.attribute)]=n}return new lv(t,r,e.space)}l_.prototype.defined=!0;let lL=lD({properties:{ariaActiveDescendant:null,ariaAtomic:lS,ariaAutoComplete:null,ariaBusy:lS,ariaChecked:lS,ariaColCount:lj,ariaColIndex:lj,ariaColSpan:lj,ariaControls:lA,ariaCurrent:null,ariaDescribedBy:lA,ariaDetails:null,ariaDisabled:lS,ariaDropEffect:lA,ariaErrorMessage:null,ariaExpanded:lS,ariaFlowTo:lA,ariaGrabbed:lS,ariaHasPopup:null,ariaHidden:lS,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:lA,ariaLevel:lj,ariaLive:null,ariaModal:lS,ariaMultiLine:lS,ariaMultiSelectable:lS,ariaOrientation:null,ariaOwns:lA,ariaPlaceholder:null,ariaPosInSet:lj,ariaPressed:lS,ariaReadOnly:lS,ariaRelevant:null,ariaRequired:lS,ariaRoleDescription:lA,ariaRowCount:lj,ariaRowIndex:lj,ariaRowSpan:lj,ariaSelected:lS,ariaSetSize:lj,ariaSort:null,ariaValueMax:lj,ariaValueMin:lj,ariaValueNow:lj,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function lO(e,t){return t in e?e[t]:t}function lM(e,t){return lO(e,t.toLowerCase())}let lB=lD({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lP,acceptCharset:lA,accessKey:lA,action:null,allow:null,allowFullScreen:lk,allowPaymentRequest:lk,allowUserMedia:lk,alt:null,as:null,async:lk,autoCapitalize:null,autoComplete:lA,autoFocus:lk,autoPlay:lk,blocking:lA,capture:null,charSet:null,checked:lk,cite:null,className:lA,cols:lj,colSpan:null,content:null,contentEditable:lS,controls:lk,controlsList:lA,coords:lj|lP,crossOrigin:null,data:null,dateTime:null,decoding:null,default:lk,defer:lk,dir:null,dirName:null,disabled:lk,download:lE,draggable:lS,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:lk,formTarget:null,headers:lA,height:lj,hidden:lE,high:lj,href:null,hrefLang:null,htmlFor:lA,httpEquiv:lA,id:null,imageSizes:null,imageSrcSet:null,inert:lk,inputMode:null,integrity:null,is:null,isMap:lk,itemId:null,itemProp:lA,itemRef:lA,itemScope:lk,itemType:lA,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:lk,low:lj,manifest:null,max:null,maxLength:lj,media:null,method:null,min:null,minLength:lj,multiple:lk,muted:lk,name:null,nonce:null,noModule:lk,noValidate:lk,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:lk,optimum:lj,pattern:null,ping:lA,placeholder:null,playsInline:lk,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:lk,referrerPolicy:null,rel:lA,required:lk,reversed:lk,rows:lj,rowSpan:lj,sandbox:lA,scope:null,scoped:lk,seamless:lk,selected:lk,shadowRootClonable:lk,shadowRootDelegatesFocus:lk,shadowRootMode:null,shape:null,size:lj,sizes:null,slot:null,span:lj,spellCheck:lS,src:null,srcDoc:null,srcLang:null,srcSet:null,start:lj,step:null,style:null,tabIndex:lj,target:null,title:null,translate:null,type:null,typeMustMatch:lk,useMap:null,value:lS,width:lj,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:lA,axis:null,background:null,bgColor:null,border:lj,borderColor:null,bottomMargin:lj,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:lk,declare:lk,event:null,face:null,frame:null,frameBorder:null,hSpace:lj,leftMargin:lj,link:null,longDesc:null,lowSrc:null,marginHeight:lj,marginWidth:lj,noResize:lk,noHref:lk,noShade:lk,noWrap:lk,object:null,profile:null,prompt:null,rev:null,rightMargin:lj,rules:null,scheme:null,scrolling:lS,standby:null,summary:null,text:null,topMargin:lj,valueType:null,version:null,vAlign:null,vLink:null,vSpace:lj,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:lk,disableRemotePlayback:lk,prefix:null,property:null,results:lj,security:null,unselectable:null},space:"html",transform:lM}),lz=lD({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:lN,accentHeight:lj,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:lj,amplitude:lj,arabicForm:null,ascent:lj,attributeName:null,attributeType:null,azimuth:lj,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:lj,by:null,calcMode:null,capHeight:lj,className:lA,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:lj,diffuseConstant:lj,direction:null,display:null,dur:null,divisor:lj,dominantBaseline:null,download:lk,dx:null,dy:null,edgeMode:null,editable:null,elevation:lj,enableBackground:null,end:null,event:null,exponent:lj,externalResourcesRequired:null,fill:null,fillOpacity:lj,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lP,g2:lP,glyphName:lP,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:lj,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:lj,horizOriginX:lj,horizOriginY:lj,id:null,ideographic:lj,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:lj,k:lj,k1:lj,k2:lj,k3:lj,k4:lj,kernelMatrix:lN,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:lj,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:lj,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:lj,overlineThickness:lj,paintOrder:null,panose1:null,path:null,pathLength:lj,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:lA,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:lj,pointsAtY:lj,pointsAtZ:lj,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lN,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lN,rev:lN,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lN,requiredFeatures:lN,requiredFonts:lN,requiredFormats:lN,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:lj,specularExponent:lj,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:lj,strikethroughThickness:lj,string:null,stroke:null,strokeDashArray:lN,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:lj,strokeOpacity:lj,strokeWidth:null,style:null,surfaceScale:lj,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lN,tabIndex:lj,tableValues:null,target:null,targetX:lj,targetY:lj,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lN,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:lj,underlineThickness:lj,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:lj,values:null,vAlphabetic:lj,vMathematical:lj,vectorEffect:null,vHanging:lj,vIdeographic:lj,version:null,vertAdvY:lj,vertOriginX:lj,vertOriginY:lj,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:lj,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lO}),lH=lD({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),lF=lD({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lM}),lK=lD({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),lU=lb([lL,lB,lH,lF,lK],"html"),lW=lb([lL,lz,lH,lF,lK],"svg"),l$={}.hasOwnProperty,lV=/["&'<>`]/g,lG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lq=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,lQ=/[|\\{}()[\]^$+*?.]/g,lJ=new WeakMap,lY=/[\dA-Fa-f]/,lZ=/\d/,lX=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],l0={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},l1=["cent","copy","divide","gt","lt","not","para","times"],l2={}.hasOwnProperty,l3={};for(t in l0)l2.call(l0,t)&&(l3[l0[t]]=t);let l4=/[^\dA-Za-z]/;function l5(e,t,r){var n,i;let a,o,s=(n=r.omitOptionalSemicolons,a="&#x"+e.toString(16).toUpperCase(),n&&t&&!lY.test(String.fromCharCode(t))?a:a+";");if((r.useNamedReferences||r.useShortestReferences)&&(o=function(e,t,r,n){let i=String.fromCharCode(e);if(l2.call(l3,i)){let e=l3[i],a="&"+e;return r&&lX.includes(e)&&!l1.includes(e)&&(!n||t&&61!==t&&l4.test(String.fromCharCode(t)))?a:a+";"}return""}(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!o)&&r.useShortestReferences){let n,a=(i=r.omitOptionalSemicolons,n="&#"+String(e),i&&t&&!lZ.test(String.fromCharCode(t))?n:n+";");a.length<s.length&&(s=a)}return o&&(!r.useShortestReferences||o.length<s.length)?o:s}function l6(e,t){let r;var n,i=e,a=Object.assign({format:l5},t);if(i=i.replace(a.subset?(n=a.subset,(r=lJ.get(n))||(r=function(e){let t=[],r=-1;for(;++r<e.length;)t.push(e[r].replace(lQ,"\\$&"));return RegExp("(?:"+t.join("|")+")","g")}(n),lJ.set(n,r)),r):lV,o),a.subset||a.escapeOnly)return i;return i.replace(lG,function(e,t,r){return a.format((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)-56320+65536,r.charCodeAt(t+2),a)}).replace(lq,o);function o(e,t,r){return a.format(e.charCodeAt(0),r.charCodeAt(t+1),a)}}let l9=/^>|^->|<!--|-->|--!>|<!-$/g,l7=[">"],l8=["<",">"];function ce(e,t){let r=String(e);if("string"!=typeof t)throw TypeError("Expected character");let n=0,i=r.indexOf(t);for(;-1!==i;)n++,i=r.indexOf(t,i+t.length);return n}let ct=/[A-Z]/g,cr=/-[a-z]/g,cn=/^data[-\w.:]+$/i;function ci(e){return"-"+e.toLowerCase()}function ca(e){return e.charAt(1).toUpperCase()}let co=/[ \t\n\f\r]/g;function cs(e){return"object"==typeof e?"text"===e.type&&cl(e.value):cl(e)}function cl(e){return""===e.replace(co,"")}let cc=cp(1),cu=cp(-1),cd=[];function cp(e){return function(t,r,n){let i=t?t.children:cd,a=(r||0)+e,o=i[a];if(!n)for(;o&&cs(o);)a+=e,o=i[a];return o}}let ch={}.hasOwnProperty;function cm(e){return function(t,r,n){return ch.call(e,t.tagName)&&e[t.tagName](t,r,n)}}let cf=cm({body:function(e,t,r){let n=cc(r,t);return!n||"comment"!==n.type},caption:cg,colgroup:cg,dd:function(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&("dt"===n.tagName||"dd"===n.tagName)},dt:function(e,t,r){let n=cc(r,t);return!!(n&&"element"===n.type&&("dt"===n.tagName||"dd"===n.tagName))},head:cg,html:function(e,t,r){let n=cc(r,t);return!n||"comment"!==n.type},li:function(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&"li"===n.tagName},optgroup:function(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&"optgroup"===n.tagName},option:function(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&("option"===n.tagName||"optgroup"===n.tagName)},p:function(e,t,r){let n=cc(r,t);return n?"element"===n.type&&("address"===n.tagName||"article"===n.tagName||"aside"===n.tagName||"blockquote"===n.tagName||"details"===n.tagName||"div"===n.tagName||"dl"===n.tagName||"fieldset"===n.tagName||"figcaption"===n.tagName||"figure"===n.tagName||"footer"===n.tagName||"form"===n.tagName||"h1"===n.tagName||"h2"===n.tagName||"h3"===n.tagName||"h4"===n.tagName||"h5"===n.tagName||"h6"===n.tagName||"header"===n.tagName||"hgroup"===n.tagName||"hr"===n.tagName||"main"===n.tagName||"menu"===n.tagName||"nav"===n.tagName||"ol"===n.tagName||"p"===n.tagName||"pre"===n.tagName||"section"===n.tagName||"table"===n.tagName||"ul"===n.tagName):!r||"element"!==r.type||"a"!==r.tagName&&"audio"!==r.tagName&&"del"!==r.tagName&&"ins"!==r.tagName&&"map"!==r.tagName&&"noscript"!==r.tagName&&"video"!==r.tagName},rp:cy,rt:cy,tbody:function(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&("tbody"===n.tagName||"tfoot"===n.tagName)},td:cv,tfoot:function(e,t,r){return!cc(r,t)},th:cv,thead:function(e,t,r){let n=cc(r,t);return!!(n&&"element"===n.type&&("tbody"===n.tagName||"tfoot"===n.tagName))},tr:function(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&"tr"===n.tagName}});function cg(e,t,r){let n=cc(r,t,!0);return!n||"comment"!==n.type&&!("text"===n.type&&cs(n.value.charAt(0)))}function cy(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&("rp"===n.tagName||"rt"===n.tagName)}function cv(e,t,r){let n=cc(r,t);return!n||"element"===n.type&&("td"===n.tagName||"th"===n.tagName)}let cb=cm({body:function(e){let t=cc(e,-1,!0);return!t||"comment"!==t.type&&!("text"===t.type&&cs(t.value.charAt(0)))&&("element"!==t.type||"meta"!==t.tagName&&"link"!==t.tagName&&"script"!==t.tagName&&"style"!==t.tagName&&"template"!==t.tagName)},colgroup:function(e,t,r){let n=cu(r,t),i=cc(e,-1,!0);return!(r&&n&&"element"===n.type&&"colgroup"===n.tagName&&cf(n,r.children.indexOf(n),r))&&!!(i&&"element"===i.type&&"col"===i.tagName)},head:function(e){let t=new Set;for(let r of e.children)if("element"===r.type&&("base"===r.tagName||"title"===r.tagName)){if(t.has(r.tagName))return!1;t.add(r.tagName)}let r=e.children[0];return!r||"element"===r.type},html:function(e){let t=cc(e,-1);return!t||"comment"!==t.type},tbody:function(e,t,r){let n=cu(r,t),i=cc(e,-1);return!(r&&n&&"element"===n.type&&("thead"===n.tagName||"tbody"===n.tagName)&&cf(n,r.children.indexOf(n),r))&&!!(i&&"element"===i.type&&"tr"===i.tagName)}}),cw={name:[["	\n\f\r &/=>".split(""),"	\n\f\r \"&'/=>`".split("")],["\0	\n\f\r \"&'/<=>".split(""),"\0	\n\f\r \"&'/<=>`".split("")]],unquoted:[["	\n\f\r &>".split(""),"\0	\n\f\r \"&'<=>`".split("")],["\0	\n\f\r \"&'<=>`".split(""),"\0	\n\f\r \"&'<=>`".split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]},cx=["<","&"];function cC(e,t,r,n){return r&&"element"===r.type&&("script"===r.tagName||"style"===r.tagName)?e.value:l6(e.value,Object.assign({},n.settings.characterReferences,{subset:cx}))}let ck=function(e,t){let r=t||{};function n(t,...r){let i=n.invalid,a=n.handlers;if(t&&l$.call(t,e)){let r=String(t[e]);i=l$.call(a,r)?a[r]:n.unknown}if(i)return i.call(this,t,...r)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}("type",{invalid:function(e){throw Error("Expected node, not `"+e+"`")},unknown:function(e){throw Error("Cannot compile unknown node `"+e.type+"`")},handlers:{comment:function(e,t,r,n){return n.settings.bogusComments?"<?"+l6(e.value,Object.assign({},n.settings.characterReferences,{subset:l7}))+">":"<!--"+e.value.replace(l9,function(e){return l6(e,Object.assign({},n.settings.characterReferences,{subset:l8}))})+"-->"},doctype:function(e,t,r,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"},element:function(e,t,r,n){let i,a=n.schema,o="svg"!==a.space&&n.settings.omitOptionalTags,s="svg"===a.space?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase()),l=[];"html"===a.space&&"svg"===e.tagName&&(n.schema=lW);let c=function(e,t){let r,n=[],i=-1;if(t){for(r in t)if(null!==t[r]&&void 0!==t[r]){let i=function(e,t,r){let n,i=function(e,t){let r=lw(t),n=t,i=lx;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&"data"===r.slice(0,4)&&cn.test(t)){if("-"===t.charAt(4)){let e=t.slice(5).replace(cr,ca);n="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{let e=t.slice(4);if(!cr.test(e)){let r=e.replace(ct,ci);"-"!==r.charAt(0)&&(r="-"+r),t="data"+r}}i=l_}return new i(n,t)}(e.schema,t),a=e.settings.allowParseErrors&&"html"===e.schema.space?0:1,o=+!e.settings.allowDangerousCharacters,s=e.quote;if(i.overloadedBoolean&&(r===i.attribute||""===r)?r=!0:(i.boolean||i.overloadedBoolean)&&("string"!=typeof r||r===i.attribute||""===r)&&(r=!!r),null==r||!1===r||"number"==typeof r&&Number.isNaN(r))return"";let l=l6(i.attribute,Object.assign({},e.settings.characterReferences,{subset:cw.name[a][o]}));return!0===r||(r=Array.isArray(r)?(i.commaSeparated?function(e,t){let r=t||{};return(""===e[e.length-1]?[...e,""]:e).join((r.padRight?" ":"")+","+(!1===r.padLeft?"":" ")).trim()}:function(e){return e.join(" ").trim()})(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?l:(e.settings.preferUnquoted&&(n=l6(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:cw.unquoted[a][o]}))),n!==r&&(e.settings.quoteSmart&&ce(r,s)>ce(r,e.alternative)&&(s=e.alternative),n=s+l6(r,Object.assign({},e.settings.characterReferences,{subset:("'"===s?cw.single:cw.double)[a][o],attribute:!0}))+s),l+(n?"="+n:n))}(e,r,t[r]);i&&n.push(i)}}for(;++i<n.length;){let t=e.settings.tightAttributes?n[i].charAt(n[i].length-1):void 0;i!==n.length-1&&'"'!==t&&"'"!==t&&(n[i]+=" ")}return n.join("")}(n,e.properties),u=n.all("html"===a.space&&"template"===e.tagName?e.content:e);return n.schema=a,u&&(s=!1),!c&&o&&cb(e,t,r)||(l.push("<",e.tagName,c?" "+c:""),s&&("svg"===a.space||n.settings.closeSelfClosing)&&(i=c.charAt(c.length-1),(!n.settings.tightSelfClosing||"/"===i||i&&'"'!==i&&"'"!==i)&&l.push(" "),l.push("/")),l.push(">")),l.push(u),s||o&&cf(e,t,r)||l.push("</"+e.tagName+">"),l.join("")},raw:function(e,t,r,n){return n.settings.allowDangerousHtml?e.value:cC(e,t,r,n)},root:function(e,t,r,n){return n.all(e)},text:cC}}),cS=[];function cE(e,t,r){return ck(e,t,r,this)}function cj(e){let t=[],r=e&&e.children||cS,n=-1;for(;++n<r.length;)t[n]=this.one(r[n],n,e);return t.join("")}function cA(e,t){if(!t)return e;for(let r of(e.properties||={},e.properties.class||=[],"string"==typeof e.properties.class&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]),Array.isArray(t)?t:t.split(/\s+/g)))r&&!e.properties.class.includes(r)&&e.properties.class.push(r);return e}function cP(e,t=!1){let r=e.split(/(\r?\n)/g),n=0,i=[];for(let e=0;e<r.length;e+=2){let a=t?r[e]+(r[e+1]||""):r[e];i.push([a,n]),n+=r[e].length,n+=r[e+1]?.length||0}return i}let cN="__shiki_resolved";function cR(e){if(e?.[cN])return e;let t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||="dark",t.colorReplacements={...t.colorReplacements},t.settings||=[];let{bg:r,fg:n}=t;if(!r||!n){let e=t.settings?t.settings.find(e=>!e.name&&!e.scope):void 0;e?.settings?.foreground&&(n=e.settings.foreground),e?.settings?.background&&(r=e.settings.background),!n&&t?.colors?.["editor.foreground"]&&(n=t.colors["editor.foreground"]),!r&&t?.colors?.["editor.background"]&&(r=t.colors["editor.background"]),n||(n="light"===t.type?"#333333":"#bbbbbb"),r||(r="light"===t.type?"#fffffe":"#1e1e1e"),t.fg=n,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let i=0,a=new Map;function o(e){if(a.has(e))return a.get(e);i+=1;let r=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return t.colorReplacements?.[`#${r}`]?o(e):(a.set(e,r),r)}for(let e of(t.settings=t.settings.map(e=>{let r=e.settings?.foreground&&!e.settings.foreground.startsWith("#"),n=e.settings?.background&&!e.settings.background.startsWith("#");if(!r&&!n)return e;let i={...e,settings:{...e.settings}};if(r){let r=o(e.settings.foreground);t.colorReplacements[r]=e.settings.foreground,i.settings.foreground=r}if(n){let r=o(e.settings.background);t.colorReplacements[r]=e.settings.background,i.settings.background=r}return i}),Object.keys(t.colors||{})))if(("editor.foreground"===e||"editor.background"===e||e.startsWith("terminal.ansi"))&&!t.colors[e]?.startsWith("#")){let r=o(t.colors[e]);t.colorReplacements[r]=t.colors[e],t.colors[e]=r}return Object.defineProperty(t,cN,{enumerable:!1,writable:!1,value:!0}),t}class cT extends Error{constructor(e){super(e),this.name="ShikiError"}}class cI extends lg{constructor(e,t,r,n={}){super(e),this._resolver=e,this._themes=t,this._langs=r,this._alias=n,this._themes.map(e=>this.loadTheme(e)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return"string"==typeof e?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){let t=cR(e);return t.name&&(this._resolvedThemes.set(t.name,t),this._loadedThemesCache=null),t}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let t=this._textmateThemeCache.get(e);t||(t=sS.createFromRawTheme(e),this._textmateThemeCache.set(e,t)),this._syncRegistry.setTheme(t)}getGrammar(e){if(this._alias[e]){let t=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],t.has(e))throw new cT(`Circular alias \`${Array.from(t).join(" -> ")} -> ${e}\``);t.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;let t=new Set([...this._langMap.values()].filter(t=>t.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);let r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);let n=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(n.name=e.name,this._resolvedGrammars.set(e.name,n),e.aliases&&e.aliases.forEach(t=>{this._alias[t]=e.name}),this._loadedLanguagesCache=null,t.size)for(let e of t)this._resolvedGrammars.delete(e.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(e.scopeName),this._syncRegistry?._grammars?.delete(e.scopeName),this.loadLanguage(this._langMap.get(e.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(let t of e)this.resolveEmbeddedLanguages(t);let t=Array.from(this._langGraph.entries()),r=t.filter(([e,t])=>!t);if(r.length){let e=t.filter(([e,t])=>t&&t.embeddedLangs?.some(e=>r.map(([e])=>e).includes(e))).filter(e=>!r.includes(e));throw new cT(`Missing languages ${r.map(([e])=>`\`${e}\``).join(", ")}, required by ${e.map(([e])=>`\`${e}\``).join(", ")}`)}for(let[e,r]of t)this._resolver.addLanguage(r);for(let[e,r]of t)this.loadLanguage(r)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(let t of e.embeddedLangs)this._langGraph.set(t,this._langMap.get(t))}}class c_{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,t){this._onigLib={createOnigScanner:t=>e.createScanner(t),createOnigString:t=>e.createString(t)},t.forEach(e=>this.addLanguage(e))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(t=>{this._langs.set(t,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(t=>{this._injections.get(t)||this._injections.set(t,[]),this._injections.get(t).push(e.scopeName)})}getInjections(e){let t=e.split("."),r=[];for(let e=1;e<=t.length;e++){let n=t.slice(0,e).join(".");r=[...r,...this._injections.get(n)||[]]}return r}}let cD=0,cL=Object.fromEntries([{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>e.A(52913)},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>e.A(95208)},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>e.A(52844)},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:()=>e.A(72934)},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>e.A(31036)},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>e.A(23803)},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>e.A(86330)},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>e.A(81001)},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>e.A(95735)},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>e.A(2100)},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>e.A(58172)},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>e.A(75274)},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>e.A(57811)},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>e.A(14214)},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>e.A(48353)},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>e.A(40920)},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>e.A(79755)},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>e.A(5550)},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>e.A(60233)},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>e.A(80721)},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>e.A(27266)},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>e.A(31214)},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>e.A(81110)},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>e.A(37683)},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>e.A(28130)},{id:"houston",displayName:"Houston",type:"dark",import:()=>e.A(77856)},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>e.A(94363)},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>e.A(48953)},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>e.A(11812)},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>e.A(9732)},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>e.A(30788)},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>e.A(11374)},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>e.A(69460)},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>e.A(74478)},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>e.A(49008)},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>e.A(77952)},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>e.A(20463)},{id:"min-light",displayName:"Min Light",type:"light",import:()=>e.A(30169)},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>e.A(77035)},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>e.A(61439)},{id:"nord",displayName:"Nord",type:"dark",import:()=>e.A(67304)},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>e.A(94497)},{id:"one-light",displayName:"One Light",type:"light",import:()=>e.A(53619)},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>e.A(41717)},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>e.A(3232)},{id:"red",displayName:"Red",type:"dark",import:()=>e.A(69411)},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:()=>e.A(53065)},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:()=>e.A(81356)},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:()=>e.A(91336)},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>e.A(58732)},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>e.A(5358)},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>e.A(53493)},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>e.A(67374)},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>e.A(61630)},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>e.A(35353)},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>e.A(29817)},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>e.A(66144)},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>e.A(96740)},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>e.A(96290)},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>e.A(61379)}].map(e=>[e.id,e.import]));class cO extends Error{constructor(e){super(e),this.name="ShikiError"}}function cM(){return"undefined"!=typeof performance?performance.now():Date.now()}let cB=(e,t)=>e+(t-e%t)%t;async function cz(e){let t,r,n={};function i(e){r=e,n.HEAPU8=new Uint8Array(e),n.HEAPU32=new Uint32Array(e)}let a="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function o(e,t){return e?function(e,t,r=1024){let n=t+r,i=t;for(;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&a)return a.decode(e.subarray(t,i));let o="";for(;t<i;){let r=e[t++];if(!(128&r)){o+=String.fromCharCode(r);continue}let n=63&e[t++];if((224&r)==192){o+=String.fromCharCode((31&r)<<6|n);continue}let i=63&e[t++];if((r=(240&r)==224?(15&r)<<12|n<<6|i:(7&r)<<18|n<<12|i<<6|63&e[t++])<65536)o+=String.fromCharCode(r);else{let e=r-65536;o+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return o}(n.HEAPU8,e,t):""}let s={emscripten_get_now:cM,emscripten_memcpy_big:function(e,t,r){n.HEAPU8.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){let a=n.HEAPU8.length;if((e>>>=0)>0x80000000)return!1;for(let n=1;n<=4;n*=2){let o=a*(1+.2/n);if(o=Math.min(o,e+0x6000000),function(e){try{return t.grow(e-r.byteLength+65535>>>16),i(t.buffer),1}catch{}}(Math.min(0x80000000,cB(Math.max(e,o),65536))))return!0}return!1},fd_write:()=>0};async function l(){let r=await e({env:s,wasi_snapshot_preview1:s});i((t=r.memory).buffer),Object.assign(n,r),n.UTF8ToString=o}return await l(),n}var cH=Object.defineProperty,cF=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?cH(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};let cK=null;class cU{constructor(e){cF(this,"utf16Length"),cF(this,"utf8Length"),cF(this,"utf16Value"),cF(this,"utf8Value"),cF(this,"utf16OffsetToUtf8"),cF(this,"utf8OffsetToUtf16");const t=e.length,r=cU._utf8ByteLength(e),n=r!==t,i=n?new Uint32Array(t+1):null;n&&(i[t]=r);const a=n?new Uint32Array(r+1):null;n&&(a[r]=t);const o=new Uint8Array(r);let s=0;for(let r=0;r<t;r++){const l=e.charCodeAt(r);let c=l,u=!1;if(l>=55296&&l<=56319&&r+1<t){const t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(c=(l-55296<<10)+65536|t-56320,u=!0)}n&&(i[r]=s,u&&(i[r+1]=s),c<=127?a[s+0]=r:c<=2047?(a[s+0]=r,a[s+1]=r):c<=65535?(a[s+0]=r,a[s+1]=r,a[s+2]=r):(a[s+0]=r,a[s+1]=r,a[s+2]=r,a[s+3]=r)),c<=127?o[s++]=c:(c<=2047?o[s++]=192|(1984&c)>>>6:(c<=65535?o[s++]=224|(61440&c)>>>12:(o[s++]=240|(1835008&c)>>>18,o[s++]=128|(258048&c)>>>12),o[s++]=128|(4032&c)>>>6),o[s++]=128|(63&c)>>>0),u&&r++}this.utf16Length=t,this.utf8Length=r,this.utf16Value=e,this.utf8Value=o,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=a}static _utf8ByteLength(e){let t=0;for(let r=0,n=e.length;r<n;r++){let i=e.charCodeAt(r),a=i,o=!1;if(i>=55296&&i<=56319&&r+1<n){let t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(a=(i-55296<<10)+65536|t-56320,o=!0)}a<=127?t+=1:a<=2047?t+=2:a<=65535?t+=3:t+=4,o&&r++}return t}createString(e){let t=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}let cW=class e{constructor(t){if(cF(this,"id",++e.LAST_ID),cF(this,"_onigBinding"),cF(this,"content"),cF(this,"utf16Length"),cF(this,"utf8Length"),cF(this,"utf16OffsetToUtf8"),cF(this,"utf8OffsetToUtf16"),cF(this,"ptr"),!cK)throw new cO("Must invoke loadWasm first.");this._onigBinding=cK,this.content=t;const r=new cU(t);this.utf16Length=r.utf16Length,this.utf8Length=r.utf8Length,this.utf16OffsetToUtf8=r.utf16OffsetToUtf8,this.utf8OffsetToUtf16=r.utf8OffsetToUtf16,this.utf8Length<1e4&&!e._sharedPtrInUse?(e._sharedPtr||(e._sharedPtr=cK.omalloc(1e4)),e._sharedPtrInUse=!0,cK.HEAPU8.set(r.utf8Value,e._sharedPtr),this.ptr=e._sharedPtr):this.ptr=r.createString(cK)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===e._sharedPtr?e._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};cF(cW,"LAST_ID",0),cF(cW,"_sharedPtr",0),cF(cW,"_sharedPtrInUse",!1);class c${constructor(e){if(cF(this,"_onigBinding"),cF(this,"_ptr"),!cK)throw new cO("Must invoke loadWasm first.");const t=[],r=[];for(let n=0,i=e.length;n<i;n++){const i=new cU(e[n]);t[n]=i.createString(cK),r[n]=i.utf8Length}const n=cK.omalloc(4*e.length);cK.HEAPU32.set(t,n/4);const i=cK.omalloc(4*e.length);cK.HEAPU32.set(r,i/4);const a=cK.createOnigScanner(n,i,e.length);for(let r=0,n=e.length;r<n;r++)cK.ofree(t[r]);cK.ofree(i),cK.ofree(n),0===a&&function(e){throw new cO(e.UTF8ToString(e.getLastOnigError()))}(cK),this._onigBinding=cK,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,t,r){let n=0;if("number"==typeof r&&(n=r),"string"==typeof e){e=new cW(e);let r=this._findNextMatchSync(e,t,!1,n);return e.dispose(),r}return this._findNextMatchSync(e,t,!1,n)}_findNextMatchSync(e,t,r,n){let i=this._onigBinding,a=i.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t),n);if(0===a)return null;let o=i.HEAPU32,s=a/4,l=o[s++],c=o[s++],u=[];for(let t=0;t<c;t++){let r=e.convertUtf8OffsetToUtf16(o[s++]),n=e.convertUtf8OffsetToUtf16(o[s++]);u[t]={start:r,end:n,length:n-r}}return{index:l,captureIndices:u}}}function cV(e){return t=>WebAssembly.instantiate(e,t)}async function cG(e){return e&&await (r||(r=async function(){cK=await cz(async t=>{let r=e;if("function"==typeof(r=await r)&&(r=await r(t)),"function"==typeof r&&(r=await r(t)),"function"==typeof r.instantiator)r=await r.instantiator(t);else if("function"==typeof r.default)r=await r.default(t);else{var n,i,a,o;if(void 0!==r.data&&(r=r.data),n=r,"undefined"!=typeof Response&&n instanceof Response){r="function"==typeof WebAssembly.instantiateStreaming?await (a=r,e=>WebAssembly.instantiateStreaming(a,e))(t):await (o=r,async e=>{let t=await o.arrayBuffer();return WebAssembly.instantiate(t,e)})(t)}else(i=r,"undefined"!=typeof ArrayBuffer&&(i instanceof ArrayBuffer||ArrayBuffer.isView(i))||void 0!==D.Buffer&&D.Buffer.isBuffer?.(i)||"undefined"!=typeof SharedArrayBuffer&&i instanceof SharedArrayBuffer||"undefined"!=typeof Uint32Array&&i instanceof Uint32Array||r instanceof WebAssembly.Module)?r=await cV(r)(t):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await cV(r.default)(t))}return"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}())),{createScanner:e=>new c$(e.map(e=>"string"==typeof e?e:e.source)),createString:e=>new cW(e)}}(gb={langs:sf,themes:cL,engine:()=>cG(e.A(14467))}).langs,gb.themes,gb.engine;let cq="240px";function cQ({onDrop:e,onFileSelect:t,accept:r,multiple:n=!1,disabled:i=!1,loading:a=!1,className:o="",height:s="120px",icon:l,title:c="Upload Files",description:u="Drag & drop or click to select",loadingText:d="Processing...",dragActiveText:p="Drop files here",dragActiveDescription:h="Release to upload",maxSize:m,onError:f,size:g="3"}){let[y,v]=(0,R.useState)(!1),b=(0,R.useCallback)(e=>m&&e.size>m?`File too large. Maximum size is ${Math.round(m/1024/1024)}MB`:r&&!r.split(",").map(e=>e.trim()).some(t=>t.startsWith(".")?e.name.toLowerCase().endsWith(t.toLowerCase()):e.type===t)?`Invalid file type. Accepted types: ${r}`:null,[r,m]),w=(0,R.useCallback)(r=>{if(i||a)return;let n=Array.from(r);for(let e of n){let t=b(e);if(t)return void f?.(t)}if(e)e(r);else if(t&&n.length>0){let e=n[0];e&&t(e)}},[i,a,b,e,t,f]),x=(0,R.useCallback)(e=>{let t=e.target.files;t&&w(t),e.target.value=""},[w]),C=(0,R.useCallback)(e=>{if(e.preventDefault(),v(!1),i||a)return;let t=e.dataTransfer.files;t&&w(t)},[i,a,w]),k=(0,R.useCallback)(e=>{e.preventDefault()},[]),S=(0,R.useCallback)(e=>{e.preventDefault(),i||a||v(!0)},[i,a]),E=(0,R.useCallback)(e=>{e.preventDefault(),e.currentTarget.contains(e.relatedTarget)||v(!1)},[]),j=(0,R.useCallback)(e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();let t=e.currentTarget.querySelector('input[type="file"]');!t||i||a||t.click()}},[i,a]),A=i||a,P=a?(0,N.jsx)(od,{className:"animate-spin"}):l||(0,N.jsx)(oh,{}),T=a?d:y?p:c,I=a?"":y?h:u;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("style",{children:`
        @keyframes dropzone-pulse {
          0%, 100% { 
            border-color: var(--accent-a6);
            box-shadow: 0 0 0 0 var(--accent-a5);
          }
          50% { 
            border-color: var(--accent-a9);
            box-shadow: 0 0 0 4px var(--accent-a3);
          }
        }
        .dropzone-active {
          border: 2px dashed var(--accent-a6) !important;
          background-color: var(--accent-a3) !important;
          animation: dropzone-pulse 1.5s ease-in-out infinite;
        }
      `}),(0,N.jsxs)(of,{className:`${o} ${y?"dropzone-active":""}`,variant:"surface",style:{position:"relative",height:"number"==typeof s?`${s}px`:s,display:"grid",placeItems:"center",border:y?void 0:"1px dashed var(--accent-a6)",backgroundColor:y?void 0:"var(--accent-a2)",borderRadius:"var(--radius-3)",cursor:A?"not-allowed":"pointer",opacity:A?.5:1,transition:y?"none":"all 0.2s ease",outline:"none",overflow:"hidden"},tabIndex:A?-1:0,role:"button","aria-label":`${c}. ${u}`,onDrop:C,onDragOver:k,onDragEnter:S,onDragLeave:E,onKeyDown:j,children:[(0,N.jsx)("input",{type:"file",accept:r,multiple:n,onChange:x,disabled:A,style:{position:"absolute",inset:0,width:"100%",height:"100%",opacity:0,cursor:A?"not-allowed":"pointer"}}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"3",style:{pointerEvents:"none"},children:[(0,N.jsx)(n0,{align:"center",justify:"center",style:{color:y||a?"var(--accent-11)":"var(--gray-11)",fontSize:"1"===g?"32px":"2"===g?"40px":"3"===g?"48px":"4"===g?"56px":"64px",lineHeight:1,transition:"color 0.2s ease"},children:P}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"1",children:[(0,N.jsx)(aH,{size:"1"===g?"2":"2"===g||"3"===g?"3":"4",weight:"medium",children:T}),I&&(0,N.jsx)(aH,{size:"1"===g?"1":"2"===g||"3"===g||"4"===g?"2":"3",color:"gray",children:I})]}),r&&!a&&(0,N.jsx)(aH,{size:"1",color:"gray",children:r})]})]})]})}var o8=o8;let cJ={orientation:{type:"enum",className:"rt-r-orientation",values:["horizontal","vertical"],default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},trim:{...aI.trim,className:"rt-r-trim"}},cY={align:{type:"enum",className:"rt-r-ai",values:["start","center","end","baseline","stretch"],responsive:!0}},cZ={...nW,...rU,...nT},cX=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,cJ,nQ);return R.createElement(aH,{asChild:!0},R.createElement("dl",{...n,ref:t,className:(0,eO.default)("rt-DataListRoot",r)}))});cX.displayName="DataList.Root";let c0=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,cY);return R.createElement("div",{...n,ref:t,className:(0,eO.default)("rt-DataListItem",r)})});c0.displayName="DataList.Item";let c1=R.forwardRef((e,t)=>{let{className:r,color:n,...i}=nH(e,cZ);return R.createElement("dt",{...i,"data-accent-color":n,ref:t,className:(0,eO.default)("rt-DataListLabel",r)})});c1.displayName="DataList.Label";let c2=R.forwardRef(({children:e,className:t,...r},n)=>R.createElement("dd",{...r,ref:n,className:(0,eO.default)(t,"rt-DataListValue")},e));c2.displayName="DataList.Value",e.s(["Item",()=>c0,"Label",()=>c1,"Root",()=>cX,"Value",()=>c2],56462),e.i(56462);let c3={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},...aO,...aI,...aL,...aD,underline:{type:"enum",className:"rt-underline",values:["auto","always","hover","none"],default:"auto"},...rW,...nT};R.forwardRef((e,t)=>{let{children:r,className:n,color:i,asChild:a,...o}=nH(e,c3);return R.createElement(aH,{...o,"data-accent-color":i,ref:t,asChild:!0,className:(0,eO.default)("rt-reset","rt-Link",n)},a?r:R.createElement("a",null,r))}).displayName="Link";var c4="Progress",[c5,c6]=(0,eF.createContextScope)(c4),[c9,c7]=c5(c4),c8=R.forwardRef((e,t)=>{var r,n;let{__scopeProgress:i,value:a=null,max:o,getValueLabel:s=ur,...l}=e;(o||0===o)&&!ua(o)&&console.error((r=`${o}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let c=ua(o)?o:100;null===a||uo(a,c)||console.error((n=`${a}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let u=uo(a,c)?a:null,d=ui(u)?s(u,c):void 0;return(0,N.jsx)(c9,{scope:i,value:u,max:c,children:(0,N.jsx)(eK.Primitive.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ui(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":un(u,c),"data-value":u??void 0,"data-max":c,...l,ref:t})})});c8.displayName=c4;var ue="ProgressIndicator",ut=R.forwardRef((e,t)=>{let{__scopeProgress:r,...n}=e,i=c7(ue,r);return(0,N.jsx)(eK.Primitive.div,{"data-state":un(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});function ur(e,t){return`${Math.round(e/t*100)}%`}function un(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function ui(e){return"number"==typeof e}function ua(e){return ui(e)&&!isNaN(e)&&e>0}function uo(e,t){return ui(e)&&!isNaN(e)&&e<=t&&e>=0}ut.displayName=ue,e.s(["Indicator",()=>ut,"Progress",()=>c8,"ProgressIndicator",()=>ut,"Root",()=>c8,"createProgressScope",()=>c6],76027);var us=e.i(76027),us=us;let ul={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","surface","soft"],default:"surface"},...rU,...nT,...rV,duration:{type:"string"}},uc=R.forwardRef((e,t)=>{let{className:r,style:n,color:i,radius:a,duration:o,...s}=nH(e,ul,nQ);return R.createElement(us.Root,{"data-accent-color":i,"data-radius":a,ref:t,className:(0,eO.default)("rt-ProgressRoot",r),style:nz({"--progress-duration":"value"in s?void 0:o,"--progress-value":"value"in s?s.value:void 0,"--progress-max":"max"in s?s.max:void 0},n),...s,asChild:!1},R.createElement(us.Indicator,{className:"rt-ProgressIndicator"}))});uc.displayName="Progress",(gw=gA||(gA={})).Preparing="preparing",gw.Broadcasting="broadcasting",gw.Pending="pending",gw.Confirmed="confirmed",gw.Failed="failed";var o8=o8,eB=eB;let uu={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4","5","6","7","8","9"],responsive:!0},variant:{type:"enum",className:"rt-variant",values:["solid","soft","outline","ghost"],default:"soft"},...aO,...rW,...nT,...aL,...aD},ud=R.forwardRef((e,t)=>{let{asChild:r,className:n,color:i,...a}=nH(e,uu,nQ),o="ghost"===e.variant?i||void 0:i,s=r?eB.Root:"code";return R.createElement(s,{"data-accent-color":o,...a,ref:t,className:(0,eO.default)("rt-reset","rt-Code",n)})});function up({onFileSelect:e,onFileValidated:t,onError:r,accept:n=".json,.txt",disabled:i=!1,loading:a=!1,maxSize:o=0xa00000,validateFile:s,className:l="",allowedBackupTypes:c=ew,unsupportedBackupMessage:u}){let[d,p]=(0,R.useState)(!1),[h,m]=(0,R.useState)(""),f=(0,R.useCallback)((e,t)=>{try{let t,r=!1;try{t=JSON.parse(e),r=!0}catch{t=e.trim()}if(r&&"object"==typeof t&&null!==t){if("iv"in t&&"data"in t||"encrypted"in t&&"encryptedMnemonic"in t)return{isValid:!0,fileType:"encrypted",format:"json",data:t};let e=ev(t);if(e){if(eb(e,c))return{isValid:!0,fileType:"unencrypted",format:"json",data:t};return{isValid:!1,fileType:"unencrypted",format:"json",error:eC(e,c,u),data:t}}return{isValid:!1,fileType:"unknown",format:"json",error:"JSON file does not contain a recognized backup structure"}}if("string"==typeof t&&t.length>100){let e=t.trim();if(/^[A-Za-z0-9+/=]+$/.test(e)&&e.length%4==0||e.includes("-----BEGIN")&&e.includes("-----END"))return{isValid:!0,fileType:"encrypted",format:"text",data:e}}return{isValid:!1,fileType:"unknown",format:r?"json":"text",error:"File does not contain a recognized backup format"}}catch(e){return{isValid:!1,fileType:"unknown",format:"unknown",error:e instanceof Error?e.message:"Failed to parse file content"}}},[c,u]),g=(0,R.useCallback)(async i=>{p(!0),m("");try{if(i.size>o)throw Error(`File too large. Maximum size is ${Math.round(o/1024/1024)}MB`);if(n&&!n.split(",").some(e=>{let t=e.trim();return t.startsWith(".")?i.name.toLowerCase().endsWith(t.toLowerCase()):i.type===t}))throw Error(`Invalid file type. Please select a file with extension: ${n}`);let a=await i.text();if(!a.trim())throw Error("File is empty");let l=s||f,c=await l(a,i);if(c.isValid)t?.(i,c),e?.(i);else{let e=c.error||"Invalid file format";m(e),r?.(e)}}catch(t){let e=t instanceof Error?t.message:"Failed to process file";m(e),r?.(e)}finally{p(!1)}},[o,n,s,f,t,r,e]),y=i||a||d;return(0,N.jsxs)(n0,{direction:"column",gap:"4",className:l,children:[(0,N.jsx)(cQ,{accept:n,disabled:y,loading:d,height:150,title:"Import Backup File",description:`Supports encrypted and unencrypted backups (${n})`,dragActiveText:"Drop your backup file here",dragActiveDescription:"Release to import",loadingText:"Processing file...",maxSize:o,onFileSelect:e=>g(e),onError:e=>{m(e),r?.(e)}}),(0,N.jsx)(se,{error:h}),(0,N.jsx)(of,{variant:"surface",size:"3",children:(0,N.jsxs)(n0,{direction:"column",gap:"2",children:[(0,N.jsx)(aH,{size:"3",weight:"medium",children:"Supported Formats"}),(0,N.jsxs)(n0,{direction:"column",gap:"1",children:[(0,N.jsxs)(aH,{size:"1",color:"gray",children:[" ",(0,N.jsx)("strong",{children:"Encrypted JSON:"})," Bitcoin Auth backup with encryption"]}),(0,N.jsxs)(aH,{size:"1",color:"gray",children:[" ",(0,N.jsx)("strong",{children:"Unencrypted JSON:"})," Raw BAP master backup"]}),(0,N.jsxs)(aH,{size:"1",color:"gray",children:[" ",(0,N.jsx)("strong",{children:"Encrypted Text:"})," Base64 encoded backup data"]}),(0,N.jsxs)(aH,{size:"1",color:"gray",children:[" ",(0,N.jsx)("strong",{children:"Legacy formats:"})," Older backup file structures"]})]})]})})]})}ud.displayName="Code";var o8=o8;function uh(e){let t=R.useRef({value:e,previous:e});return R.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var um="Checkbox",[uf,ug]=(0,eF.createContextScope)(um),[uy,uv]=uf(um);function ub(e){let{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=e,[p,h]=(0,ru.useControllableState)({prop:r,defaultProp:i??!1,onChange:l,caller:um}),[m,f]=R.useState(null),[g,y]=R.useState(null),v=R.useRef(!1),b=!m||!!o||!!m.closest("form"),w={checked:p,disabled:a,setChecked:h,control:m,setControl:f,name:s,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:!uA(i)&&i,isFormControl:b,bubbleInput:g,setBubbleInput:y};return(0,N.jsx)(uy,{scope:t,...w,children:"function"==typeof d?d(w):n})}var uw="CheckboxTrigger",ux=R.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{let{control:a,value:o,disabled:s,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:m}=uv(uw,e),f=(0,eH.useComposedRefs)(i,u),g=R.useRef(l);return R.useEffect(()=>{let e=a?.form;if(e){let t=()=>d(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[a,d]),(0,N.jsx)(eK.Primitive.button,{type:"button",role:"checkbox","aria-checked":uA(l)?"mixed":l,"aria-required":c,"data-state":uP(l),"data-disabled":s?"":void 0,disabled:s,value:o,...n,ref:f,onKeyDown:(0,ez.composeEventHandlers)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,ez.composeEventHandlers)(r,e=>{d(e=>!!uA(e)||!e),m&&h&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})})});ux.displayName=uw;var uC=R.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l,onCheckedChange:c,form:u,...d}=e;return(0,N.jsx)(ub,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:c,name:n,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ux,{...d,ref:t,__scopeCheckbox:r}),e&&(0,N.jsx)(uj,{__scopeCheckbox:r})]})})});uC.displayName=um;var uk="CheckboxIndicator",uS=R.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...i}=e,a=uv(uk,r);return(0,N.jsx)(rl.Presence,{present:n||uA(a.checked)||!0===a.checked,children:(0,N.jsx)(eK.Primitive.span,{"data-state":uP(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});uS.displayName=uk;var uE="CheckboxBubbleInput",uj=R.forwardRef(({__scopeCheckbox:e,...t},r)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:l,name:c,value:u,form:d,bubbleInput:p,setBubbleInput:h}=uv(uE,e),m=(0,eH.useComposedRefs)(r,h),f=uh(a),g=tZ(n);R.useEffect(()=>{if(!p)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(f!==a&&e){let r=new Event("click",{bubbles:t});p.indeterminate=uA(a),e.call(p,!uA(a)&&a),p.dispatchEvent(r)}},[p,f,a,i]);let y=R.useRef(!uA(a)&&a);return(0,N.jsx)(eK.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:s,disabled:l,name:c,value:u,form:d,...t,tabIndex:-1,ref:m,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function uA(e){return"indeterminate"===e}function uP(e){return uA(e)?"indeterminate":e?"checked":"unchecked"}uj.displayName=uE,e.s(["Checkbox",()=>uC,"CheckboxIndicator",()=>uS,"Indicator",()=>uS,"Root",()=>uC,"createCheckboxScope",()=>ug,"unstable_BubbleInput",()=>uj,"unstable_CheckboxBubbleInput",()=>uj,"unstable_CheckboxProvider",()=>ub,"unstable_CheckboxTrigger",()=>ux,"unstable_Provider",()=>ub,"unstable_Trigger",()=>ux],88474);var uN=e.i(88474),uN=uN;let uR={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","surface","soft"],default:"surface"},...rU,...nT},uT=R.default.forwardRef((e,t)=>R.default.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},R.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));uT.displayName="ThickDividerHorizontalIcon";let uI=R.default.forwardRef((e,t)=>R.default.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},R.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));uI.displayName="ThickCheckIcon";let u_=R.default.forwardRef((e,t)=>R.default.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},R.default.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));u_.displayName="ChevronDownIcon";let uD=R.default.forwardRef((e,t)=>R.default.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},R.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));uD.displayName="ThickChevronRightIcon";let uL=R.forwardRef((e,t)=>{let{className:r,color:n,checked:i,defaultChecked:a,onCheckedChange:o,...s}=nH(e,uR,nQ),[l,c]=(0,ru.useControllableState)({prop:i,defaultProp:a,onChange:o});return R.createElement(uN.Root,{"data-accent-color":n,...s,defaultChecked:a,checked:l,onCheckedChange:c,asChild:!1,ref:t,className:(0,eO.default)("rt-reset","rt-BaseCheckboxRoot","rt-CheckboxRoot",r)},R.createElement(uN.Indicator,{asChild:!0,className:"rt-BaseCheckboxIndicator rt-CheckboxIndicator"},R.createElement("indeterminate"===l?uT:uI,null)))});uL.displayName="Checkbox";let uO={as:{type:"enum",values:["div","span"],default:"div"},...rF,display:{type:"enum",className:"rt-r-display",values:["none","inline-grid","grid"],responsive:!0},areas:{type:"string",className:"rt-r-gta",customProperties:["--grid-template-areas"],responsive:!0},columns:{type:"enum | string",className:"rt-r-gtc",customProperties:["--grid-template-columns"],values:["1","2","3","4","5","6","7","8","9"],parseValue:uM,responsive:!0},rows:{type:"enum | string",className:"rt-r-gtr",customProperties:["--grid-template-rows"],values:["1","2","3","4","5","6","7","8","9"],parseValue:uM,responsive:!0},flow:{type:"enum",className:"rt-r-gaf",values:["row","column","dense","row-dense","column-dense"],responsive:!0},align:{type:"enum",className:"rt-r-ai",values:["start","center","end","baseline","stretch"],responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:["start","center","end","between"],parseValue:function(e){return"between"===e?"space-between":e},responsive:!0},...nZ};function uM(e){return uO.columns.values.includes(e)?e:e?.match(/^\d+$/)?`repeat(${e}, minmax(0, 1fr))`:e}let uB=R.forwardRef((e,t)=>{let{className:r,asChild:n,as:i="div",...a}=nH(e,uO,nG,nQ);return R.createElement(n?nJ:i,{...a,ref:t,className:(0,eO.default)("rt-Grid",r)})});function uz(e,[t,r]){return Math.min(r,Math.max(t,e))}uB.displayName="Grid";var uH=e.i(75830),uF=eM,uK=eB,uU=[" ","Enter","ArrowUp","ArrowDown"],uW=[" ","Enter"],u$="Select",[uV,uG,uq]=(0,uH.createCollection)(u$),[uQ,uJ]=(0,eF.createContextScope)(u$,[uq,t1]),uY=t1(),[uZ,uX]=uQ(u$),[u0,u1]=uQ(u$),u2=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:p,required:h,form:m}=e,f=uY(t),[g,y]=R.useState(null),[v,b]=R.useState(null),[w,x]=R.useState(!1),C=(0,uF.useDirection)(c),[k,S]=(0,ru.useControllableState)({prop:n,defaultProp:i??!1,onChange:a,caller:u$}),[E,j]=(0,ru.useControllableState)({prop:o,defaultProp:s,onChange:l,caller:u$}),A=R.useRef(null),P=!g||m||!!g.closest("form"),[T,I]=R.useState(new Set),_=Array.from(T).map(e=>e.props.value).join(";");return(0,N.jsx)(t4,{...f,children:(0,N.jsxs)(uZ,{required:h,scope:t,trigger:g,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:(0,eQ.useId)(),value:E,onValueChange:j,open:k,onOpenChange:S,dir:C,triggerPointerDownPosRef:A,disabled:p,children:[(0,N.jsx)(uV.Provider,{scope:t,children:(0,N.jsx)(u0,{scope:e.__scopeSelect,onNativeOptionAdd:R.useCallback(e=>{I(t=>new Set(t).add(e))},[]),onNativeOptionRemove:R.useCallback(e=>{I(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),P?(0,N.jsxs)(dD,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:E,onChange:e=>j(e.target.value),disabled:p,form:m,children:[void 0===E?(0,N.jsx)("option",{value:""}):null,Array.from(T)]},_):null]})})};u2.displayName=u$;var u3="SelectTrigger",u4=R.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...i}=e,a=uY(r),o=uX(u3,r),s=o.disabled||n,l=(0,eH.useComposedRefs)(t,o.onTriggerChange),c=uG(r),u=R.useRef("touch"),[d,p,h]=dO(e=>{let t=c().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),n=dM(t,e,r);void 0!==n&&o.onValueChange(n.value)}),m=e=>{s||(o.onOpenChange(!0),h()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,N.jsx)(t6,{asChild:!0,...a,children:(0,N.jsx)(eK.Primitive.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":dL(o.value)?"":void 0,...i,ref:l,onClick:(0,ez.composeEventHandlers)(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&m(e)}),onPointerDown:(0,ez.composeEventHandlers)(i.onPointerDown,e=>{u.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(m(e),e.preventDefault())}),onKeyDown:(0,ez.composeEventHandlers)(i.onKeyDown,e=>{let t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),(!t||" "!==e.key)&&uU.includes(e.key)&&(m(),e.preventDefault())})})})});u4.displayName=u3;var u5="SelectValue",u6=R.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,l=uX(u5,r),{onValueNodeHasChildrenChange:c}=l,u=void 0!==a,d=(0,eH.useComposedRefs)(t,l.onValueNodeChange);return(0,tY.useLayoutEffect)(()=>{c(u)},[c,u]),(0,N.jsx)(eK.Primitive.span,{...s,ref:d,style:{pointerEvents:"none"},children:dL(l.value)?(0,N.jsx)(N.Fragment,{children:o}):a})});u6.displayName=u5;var u9=R.forwardRef((e,t)=>{let{__scopeSelect:r,children:n,...i}=e;return(0,N.jsx)(eK.Primitive.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});u9.displayName="SelectIcon";var u7=e=>(0,N.jsx)(rs,{asChild:!0,...e});u7.displayName="SelectPortal";var u8="SelectContent",de=R.forwardRef((e,t)=>{let r=uX(u8,e.__scopeSelect),[n,i]=R.useState();return((0,tY.useLayoutEffect)(()=>{i(new DocumentFragment)},[]),r.open)?(0,N.jsx)(di,{...e,ref:t}):n?tW.createPortal((0,N.jsx)(dt,{scope:e.__scopeSelect,children:(0,N.jsx)(uV.Slot,{scope:e.__scopeSelect,children:(0,N.jsx)("div",{children:e.children})})}),n):null});de.displayName=u8;var[dt,dr]=uQ(u8),dn=(0,uK.createSlot)("SelectContent.RemoveScroll"),di=R.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:f,avoidCollisions:g,...y}=e,v=uX(u8,r),[b,w]=R.useState(null),[x,C]=R.useState(null),k=(0,eH.useComposedRefs)(t,e=>w(e)),[S,E]=R.useState(null),[j,A]=R.useState(null),P=uG(r),[T,I]=R.useState(!1),_=R.useRef(!1);R.useEffect(()=>{if(b)return i5(b)},[b]),id();let D=R.useCallback(e=>{let[t,...r]=P().map(e=>e.ref.current),[n]=r.slice(-1),i=document.activeElement;for(let r of e)if(r===i||(r?.scrollIntoView({block:"nearest"}),r===t&&x&&(x.scrollTop=0),r===n&&x&&(x.scrollTop=x.scrollHeight),r?.focus(),document.activeElement!==i))return},[P,x]),L=R.useCallback(()=>D([S,b]),[D,S,b]);R.useEffect(()=>{T&&L()},[T,L]);let{onOpenChange:O,triggerPointerDownPosRef:M}=v;R.useEffect(()=>{if(b){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(M.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():b.contains(r.target)||O(!1),document.removeEventListener("pointermove",t),M.current=null};return null!==M.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[b,O,M]),R.useEffect(()=>{let e=()=>O(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[O]);let[B,z]=dO(e=>{let t=P().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=dM(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),H=R.useCallback((e,t,r)=>{let n=!_.current&&!r;(void 0!==v.value&&v.value===t||n)&&(E(e),n&&(_.current=!0))},[v.value]),F=R.useCallback(()=>b?.focus(),[b]),K=R.useCallback((e,t,r)=>{let n=!_.current&&!r;(void 0!==v.value&&v.value===t||n)&&A(e)},[v.value]),U="popper"===n?ds:da,W=U===ds?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:f,avoidCollisions:g}:{};return(0,N.jsx)(dt,{scope:r,content:b,viewport:x,onViewportChange:C,itemRefCallback:H,selectedItem:S,onItemLeave:F,itemTextRefCallback:K,focusSelectedItem:L,selectedItemText:j,position:n,isPositioned:T,searchRef:B,children:(0,N.jsx)(iZ,{as:dn,allowPinchZoom:!0,children:(0,N.jsx)(ii,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,ez.composeEventHandlers)(i,e=>{v.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,N.jsx)(eV,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:(0,N.jsx)(U,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...y,...W,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:(0,ez.composeEventHandlers)(y.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||z(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=P().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>D(t)),e.preventDefault()}})})})})})})});di.displayName="SelectContentImpl";var da=R.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...i}=e,a=uX(u8,r),o=dr(u8,r),[s,l]=R.useState(null),[c,u]=R.useState(null),d=(0,eH.useComposedRefs)(t,e=>u(e)),p=uG(r),h=R.useRef(!1),m=R.useRef(!0),{viewport:f,selectedItem:g,selectedItemText:y,focusSelectedItem:v}=o,b=R.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&f&&g&&y){let e=a.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),r=a.valueNode.getBoundingClientRect(),i=y.getBoundingClientRect();if("rtl"!==a.dir){let n=i.left-t.left,a=r.left-n,o=e.left-a,l=e.width+o,c=Math.max(l,t.width),u=uz(a,[10,Math.max(10,window.innerWidth-10-c)]);s.style.minWidth=l+"px",s.style.left=u+"px"}else{let n=t.right-i.right,a=window.innerWidth-r.right-n,o=window.innerWidth-e.right-a,l=e.width+o,c=Math.max(l,t.width),u=uz(a,[10,Math.max(10,window.innerWidth-10-c)]);s.style.minWidth=l+"px",s.style.right=u+"px"}let o=p(),l=window.innerHeight-20,u=f.scrollHeight,d=window.getComputedStyle(c),m=parseInt(d.borderTopWidth,10),v=parseInt(d.paddingTop,10),b=parseInt(d.borderBottomWidth,10),w=m+v+u+parseInt(d.paddingBottom,10)+b,x=Math.min(5*g.offsetHeight,w),C=window.getComputedStyle(f),k=parseInt(C.paddingTop,10),S=parseInt(C.paddingBottom,10),E=e.top+e.height/2-10,j=g.offsetHeight/2,A=m+v+(g.offsetTop+j);if(A<=E){let e=o.length>0&&g===o[o.length-1].ref.current;s.style.bottom="0px";let t=Math.max(l-E,j+(e?S:0)+(c.clientHeight-f.offsetTop-f.offsetHeight)+b);s.style.height=A+t+"px"}else{let e=o.length>0&&g===o[0].ref.current;s.style.top="0px";let t=Math.max(E,m+f.offsetTop+(e?k:0)+j);s.style.height=t+(w-A)+"px",f.scrollTop=A-E+f.offsetTop}s.style.margin="10px 0",s.style.minHeight=x+"px",s.style.maxHeight=l+"px",n?.(),requestAnimationFrame(()=>h.current=!0)}},[p,a.trigger,a.valueNode,s,c,f,g,y,a.dir,n]);(0,tY.useLayoutEffect)(()=>b(),[b]);let[w,x]=R.useState();(0,tY.useLayoutEffect)(()=>{c&&x(window.getComputedStyle(c).zIndex)},[c]);let C=R.useCallback(e=>{e&&!0===m.current&&(b(),v?.(),m.current=!1)},[b,v]);return(0,N.jsx)(dl,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:(0,N.jsx)("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,N.jsx)(eK.Primitive.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});da.displayName="SelectItemAlignedPosition";var ds=R.forwardRef((e,t)=>{let{__scopeSelect:r,align:n="start",collisionPadding:i=10,...a}=e,o=uY(r);return(0,N.jsx)(re,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ds.displayName="SelectPopperPosition";var[dl,dc]=uQ(u8,{}),du="SelectViewport",dd=R.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...i}=e,a=dr(du,r),o=dc(du,r),s=(0,eH.useComposedRefs)(t,a.onViewportChange),l=R.useRef(0);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,N.jsx)(uV.Slot,{scope:r,children:(0,N.jsx)(eK.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:(0,ez.composeEventHandlers)(i.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=o;if(n?.current&&r){let e=Math.abs(l.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,i=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(i<n){let a=i+e,o=Math.min(n,a),s=a-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=s>0?s:0,r.style.justifyContent="flex-end")}}}l.current=t.scrollTop})})})]})});dd.displayName=du;var dp="SelectGroup",[dh,dm]=uQ(dp),df=R.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=(0,eQ.useId)();return(0,N.jsx)(dh,{scope:r,id:i,children:(0,N.jsx)(eK.Primitive.div,{role:"group","aria-labelledby":i,...n,ref:t})})});df.displayName=dp;var dg="SelectLabel",dy=R.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=dm(dg,r);return(0,N.jsx)(eK.Primitive.div,{id:i.id,...n,ref:t})});dy.displayName=dg;var dv="SelectItem",[db,dw]=uQ(dv),dx=R.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=uX(dv,r),l=dr(dv,r),c=s.value===n,[u,d]=R.useState(a??""),[p,h]=R.useState(!1),m=(0,eH.useComposedRefs)(t,e=>l.itemRefCallback?.(e,n,i)),f=(0,eQ.useId)(),g=R.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,N.jsx)(db,{scope:r,value:n,disabled:i,textId:f,isSelected:c,onItemTextChange:R.useCallback(e=>{d(t=>t||(e?.textContent??"").trim())},[]),children:(0,N.jsx)(uV.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:(0,N.jsx)(eK.Primitive.div,{role:"option","aria-labelledby":f,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:(0,ez.composeEventHandlers)(o.onFocus,()=>h(!0)),onBlur:(0,ez.composeEventHandlers)(o.onBlur,()=>h(!1)),onClick:(0,ez.composeEventHandlers)(o.onClick,()=>{"mouse"!==g.current&&y()}),onPointerUp:(0,ez.composeEventHandlers)(o.onPointerUp,()=>{"mouse"===g.current&&y()}),onPointerDown:(0,ez.composeEventHandlers)(o.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:(0,ez.composeEventHandlers)(o.onPointerMove,e=>{g.current=e.pointerType,i?l.onItemLeave?.():"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,ez.composeEventHandlers)(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:(0,ez.composeEventHandlers)(o.onKeyDown,e=>{(l.searchRef?.current===""||" "!==e.key)&&(uW.includes(e.key)&&y()," "===e.key&&e.preventDefault())})})})})});dx.displayName=dv;var dC="SelectItemText",dk=R.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:i,...a}=e,o=uX(dC,r),s=dr(dC,r),l=dw(dC,r),c=u1(dC,r),[u,d]=R.useState(null),p=(0,eH.useComposedRefs)(t,e=>d(e),l.onItemTextChange,e=>s.itemTextRefCallback?.(e,l.value,l.disabled)),h=u?.textContent,m=R.useMemo(()=>(0,N.jsx)("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:f,onNativeOptionRemove:g}=c;return(0,tY.useLayoutEffect)(()=>(f(m),()=>g(m)),[f,g,m]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(eK.Primitive.span,{id:l.textId,...a,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?tW.createPortal(a.children,o.valueNode):null]})});dk.displayName=dC;var dS="SelectItemIndicator",dE=R.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return dw(dS,r).isSelected?(0,N.jsx)(eK.Primitive.span,{"aria-hidden":!0,...n,ref:t}):null});dE.displayName=dS;var dj="SelectScrollUpButton",dA=R.forwardRef((e,t)=>{let r=dr(dj,e.__scopeSelect),n=dc(dj,e.__scopeSelect),[i,a]=R.useState(!1),o=(0,eH.useComposedRefs)(t,n.onScrollButtonChange);return(0,tY.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){a(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,N.jsx)(dR,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});dA.displayName=dj;var dP="SelectScrollDownButton",dN=R.forwardRef((e,t)=>{let r=dr(dP,e.__scopeSelect),n=dc(dP,e.__scopeSelect),[i,a]=R.useState(!1),o=(0,eH.useComposedRefs)(t,n.onScrollButtonChange);return(0,tY.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;a(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),i?(0,N.jsx)(dR,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});dN.displayName=dP;var dR=R.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...i}=e,a=dr("SelectScrollButton",r),o=R.useRef(null),s=uG(r),l=R.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return R.useEffect(()=>()=>l(),[l]),(0,tY.useLayoutEffect)(()=>{let e=s().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[s]),(0,N.jsx)(eK.Primitive.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:(0,ez.composeEventHandlers)(i.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(n,50))}),onPointerMove:(0,ez.composeEventHandlers)(i.onPointerMove,()=>{a.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(n,50))}),onPointerLeave:(0,ez.composeEventHandlers)(i.onPointerLeave,()=>{l()})})}),dT=R.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return(0,N.jsx)(eK.Primitive.div,{"aria-hidden":!0,...n,ref:t})});dT.displayName="SelectSeparator";var dI="SelectArrow",d_=R.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,i=uY(r),a=uX(dI,r),o=dr(dI,r);return a.open&&"popper"===o.position?(0,N.jsx)(rn,{...i,...n,ref:t}):null});d_.displayName=dI;var dD=R.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{let i=R.useRef(null),a=(0,eH.useComposedRefs)(n,i),o=uh(t);return R.useEffect(()=>{let e=i.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==t&&r){let n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[o,t]),(0,N.jsx)(eK.Primitive.select,{...r,style:{...rd,...r.style},ref:a,defaultValue:t})});function dL(e){return""===e||void 0===e}function dO(e){let t=(0,eU.useCallbackRef)(e),r=R.useRef(""),n=R.useRef(0),i=R.useCallback(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=R.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function dM(e,t,r){var n,i;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=r?e.indexOf(r):-1,s=(n=e,i=Math.max(o,0),n.map((e,t)=>n[(i+t)%n.length]));1===a.length&&(s=s.filter(e=>e!==r));let l=s.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}dD.displayName="SelectBubbleInput",e.s(["Arrow",()=>d_,"Content",()=>de,"Group",()=>df,"Icon",()=>u9,"Item",()=>dx,"ItemIndicator",()=>dE,"ItemText",()=>dk,"Label",()=>dy,"Portal",()=>u7,"Root",()=>u2,"ScrollDownButton",()=>dN,"ScrollUpButton",()=>dA,"Select",()=>u2,"SelectArrow",()=>d_,"SelectContent",()=>de,"SelectGroup",()=>df,"SelectIcon",()=>u9,"SelectItem",()=>dx,"SelectItemIndicator",()=>dE,"SelectItemText",()=>dk,"SelectLabel",()=>dy,"SelectPortal",()=>u7,"SelectScrollDownButton",()=>dN,"SelectScrollUpButton",()=>dA,"SelectSeparator",()=>dT,"SelectTrigger",()=>u4,"SelectValue",()=>u6,"SelectViewport",()=>dd,"Separator",()=>dT,"Trigger",()=>u4,"Value",()=>u6,"Viewport",()=>dd,"createSelectScope",()=>uJ],29402);var dB=e.i(29402),dB=dB,dz=eM,dH="ScrollArea",[dF,dK]=(0,eF.createContextScope)(dH),[dU,dW]=dF(dH),d$=R.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=R.useState(null),[c,u]=R.useState(null),[d,p]=R.useState(null),[h,m]=R.useState(null),[f,g]=R.useState(null),[y,v]=R.useState(0),[b,w]=R.useState(0),[x,C]=R.useState(!1),[k,S]=R.useState(!1),E=(0,eH.useComposedRefs)(t,e=>l(e)),j=(0,dz.useDirection)(i);return(0,N.jsx)(dU,{scope:r,type:n,dir:j,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:d,onContentChange:p,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:x,onScrollbarXEnabledChange:C,scrollbarY:f,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:w,children:(0,N.jsx)(eK.Primitive.div,{dir:j,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});d$.displayName=dH;var dV="ScrollAreaViewport",dG=R.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:n,nonce:i,...a}=e,o=dW(dV,r),s=R.useRef(null),l=(0,eH.useComposedRefs)(t,s,o.onViewportChange);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,N.jsx)(eK.Primitive.div,{"data-radix-scroll-area-viewport":"",...a,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,N.jsx)("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});dG.displayName=dV;var dq="ScrollAreaScrollbar",dQ=R.forwardRef((e,t)=>{let{forceMount:r,...n}=e,i=dW(dq,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s="horizontal"===e.orientation;return R.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),"hover"===i.type?(0,N.jsx)(dJ,{...n,ref:t,forceMount:r}):"scroll"===i.type?(0,N.jsx)(dY,{...n,ref:t,forceMount:r}):"auto"===i.type?(0,N.jsx)(dZ,{...n,ref:t,forceMount:r}):"always"===i.type?(0,N.jsx)(dX,{...n,ref:t}):null});dQ.displayName=dq;var dJ=R.forwardRef((e,t)=>{let{forceMount:r,...n}=e,i=dW(dq,e.__scopeScrollArea),[a,o]=R.useState(!1);return R.useEffect(()=>{let e=i.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),o(!0)},n=()=>{t=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[i.scrollArea,i.scrollHideDelay]),(0,N.jsx)(rl.Presence,{present:r||a,children:(0,N.jsx)(dZ,{"data-state":a?"visible":"hidden",...n,ref:t})})}),dY=R.forwardRef((e,t)=>{var r;let{forceMount:n,...i}=e,a=dW(dq,e.__scopeScrollArea),o="horizontal"===e.orientation,s=ps(()=>c("SCROLL_END"),100),[l,c]=(r={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},R.useReducer((e,t)=>r[e][t]??e,"hidden"));return R.useEffect(()=>{if("idle"===l){let e=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,a.scrollHideDelay,c]),R.useEffect(()=>{let e=a.viewport,t=o?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(c("SCROLL"),s()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[a.viewport,o,c,s]),(0,N.jsx)(rl.Presence,{present:n||"hidden"!==l,children:(0,N.jsx)(dX,{"data-state":"hidden"===l?"hidden":"visible",...i,ref:t,onPointerEnter:(0,ez.composeEventHandlers)(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:(0,ez.composeEventHandlers)(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),dZ=R.forwardRef((e,t)=>{let r=dW(dq,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=R.useState(!1),s="horizontal"===e.orientation,l=ps(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?e:t)}},10);return pl(r.viewport,l),pl(r.content,l),(0,N.jsx)(rl.Presence,{present:n||a,children:(0,N.jsx)(dX,{"data-state":a?"visible":"hidden",...i,ref:t})})}),dX=R.forwardRef((e,t)=>{let{orientation:r="vertical",...n}=e,i=dW(dq,e.__scopeScrollArea),a=R.useRef(null),o=R.useRef(0),[s,l]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=pr(s.viewport,s.content),u={...n,sizes:s,onSizesChange:l,hasThumb:!!(c>0&&c<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function d(e,t){return function(e,t,r,n="ltr"){let i=pn(r),a=t||i/2,o=r.scrollbar.paddingStart+a,s=r.scrollbar.size-r.scrollbar.paddingEnd-(i-a),l=r.content-r.viewport;return pa([o,s],"ltr"===n?[0,l]:[-1*l,0])(e)}(e,o.current,s,t)}return"horizontal"===r?(0,N.jsx)(d0,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){let e=pi(i.viewport.scrollLeft,s,i.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=d(e,i.dir))}}):"vertical"===r?(0,N.jsx)(d1,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){let e=pi(i.viewport.scrollTop,s);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=d(e))}}):null}),d0=R.forwardRef((e,t)=>{let{sizes:r,onSizesChange:n,...i}=e,a=dW(dq,e.__scopeScrollArea),[o,s]=R.useState(),l=R.useRef(null),c=(0,eH.useComposedRefs)(t,l,a.onScrollbarXChange);return R.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),(0,N.jsx)(d4,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pn(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(a.viewport){var n,i;let o=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(o),n=o,i=r,n>0&&n<i&&t.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:pt(o.paddingLeft),paddingEnd:pt(o.paddingRight)}})}})}),d1=R.forwardRef((e,t)=>{let{sizes:r,onSizesChange:n,...i}=e,a=dW(dq,e.__scopeScrollArea),[o,s]=R.useState(),l=R.useRef(null),c=(0,eH.useComposedRefs)(t,l,a.onScrollbarYChange);return R.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),(0,N.jsx)(d4,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pn(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(a.viewport){var n,i;let o=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(o),n=o,i=r,n>0&&n<i&&t.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:pt(o.paddingTop),paddingEnd:pt(o.paddingBottom)}})}})}),[d2,d3]=dF(dq),d4=R.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...p}=e,h=dW(dq,r),[m,f]=R.useState(null),g=(0,eH.useComposedRefs)(t,e=>f(e)),y=R.useRef(null),v=R.useRef(""),b=h.viewport,w=n.content-n.viewport,x=(0,eU.useCallbackRef)(u),C=(0,eU.useCallbackRef)(l),k=ps(d,10);function S(e){y.current&&c({x:e.clientX-y.current.left,y:e.clientY-y.current.top})}return R.useEffect(()=>{let e=e=>{let t=e.target;m?.contains(t)&&x(e,w)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[b,m,w,x]),R.useEffect(C,[n,C]),pl(m,k),pl(h.content,k),(0,N.jsx)(d2,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:(0,eU.useCallbackRef)(a),onThumbPointerUp:(0,eU.useCallbackRef)(o),onThumbPositionChange:C,onThumbPointerDown:(0,eU.useCallbackRef)(s),children:(0,N.jsx)(eK.Primitive.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:(0,ez.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),y.current=m.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),S(e))}),onPointerMove:(0,ez.composeEventHandlers)(e.onPointerMove,S),onPointerUp:(0,ez.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=v.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),d5="ScrollAreaThumb",d6=R.forwardRef((e,t)=>{let{forceMount:r,...n}=e,i=d3(d5,e.__scopeScrollArea);return(0,N.jsx)(rl.Presence,{present:r||i.hasThumb,children:(0,N.jsx)(d9,{ref:t,...n})})}),d9=R.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:n,...i}=e,a=dW(d5,r),o=d3(d5,r),{onThumbPositionChange:s}=o,l=(0,eH.useComposedRefs)(t,e=>o.onThumbChange(e)),c=R.useRef(void 0),u=ps(()=>{c.current&&(c.current(),c.current=void 0)},100);return R.useEffect(()=>{let e=a.viewport;if(e){let t=()=>{u(),c.current||(c.current=po(e,s),s())};return s(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[a.viewport,u,s]),(0,N.jsx)(eK.Primitive.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:(0,ez.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;o.onThumbPointerDown({x:r,y:n})}),onPointerUp:(0,ez.composeEventHandlers)(e.onPointerUp,o.onThumbPointerUp)})});d6.displayName=d5;var d7="ScrollAreaCorner",d8=R.forwardRef((e,t)=>{let r=dW(d7,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?(0,N.jsx)(pe,{...e,ref:t}):null});d8.displayName=d7;var pe=R.forwardRef((e,t)=>{let{__scopeScrollArea:r,...n}=e,i=dW(d7,r),[a,o]=R.useState(0),[s,l]=R.useState(0),c=!!(a&&s);return pl(i.scrollbarX,()=>{let e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),l(e)}),pl(i.scrollbarY,()=>{let e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),o(e)}),c?(0,N.jsx)(eK.Primitive.div,{...n,ref:t,style:{width:a,height:s,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function pt(e){return e?parseInt(e,10):0}function pr(e,t){let r=e/t;return isNaN(r)?0:r}function pn(e){let t=pr(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function pi(e,t,r="ltr"){let n=pn(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=uz(e,"ltr"===r?[0,o]:[-1*o,0]);return pa([0,o],[0,a-n])(s)}function pa(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}var po=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return!function i(){let a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function ps(e,t){let r=(0,eU.useCallbackRef)(e),n=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(n.current),[]),R.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function pl(e,t){let r=(0,eU.useCallbackRef)(t);(0,tY.useLayoutEffect)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}e.s(["Corner",()=>d8,"Root",()=>d$,"ScrollArea",()=>d$,"ScrollAreaCorner",()=>d8,"ScrollAreaScrollbar",()=>dQ,"ScrollAreaThumb",()=>d6,"ScrollAreaViewport",()=>dG,"Scrollbar",()=>dQ,"Thumb",()=>d6,"Viewport",()=>dG,"createScrollAreaScope",()=>dK],60805);var pc=e.i(60805),pc=pc;let pu={type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},pd={variant:{type:"enum",className:"rt-variant",values:["classic","surface","soft","ghost"],default:"surface"},...rU,...rV,placeholder:{type:"string"}},pp={variant:{type:"enum",className:"rt-variant",values:["solid","soft"],default:"solid"},...rU,...nT},ph=R.createContext({}),pm=e=>{let{children:t,size:r=pu.default,...n}=e;return R.createElement(dB.Root,{...n},R.createElement(ph.Provider,{value:R.useMemo(()=>({size:r}),[r])},t))};pm.displayName="Select.Root";let pf=R.forwardRef((e,t)=>{let r=R.useContext(ph),{children:n,className:i,color:a,radius:o,placeholder:s,...l}=nH({size:r?.size,...e},{size:pu},pd,nQ);return R.createElement(dB.Trigger,{asChild:!0},R.createElement("button",{"data-accent-color":a,"data-radius":o,...l,ref:t,className:(0,eO.default)("rt-reset","rt-SelectTrigger",i)},R.createElement("span",{className:"rt-SelectTriggerInner"},R.createElement(dB.Value,{placeholder:s},n)),R.createElement(dB.Icon,{asChild:!0},R.createElement(u_,{className:"rt-SelectIcon"}))))});pf.displayName="Select.Trigger";let pg=R.forwardRef((e,t)=>{let r=R.useContext(ph),{className:n,children:i,color:a,container:o,...s}=nH({size:r?.size,...e},{size:pu},pp),l=rJ(),c=a||l.accentColor;return R.createElement(dB.Portal,{container:o},R.createElement(rY,{asChild:!0},R.createElement(dB.Content,{"data-accent-color":c,sideOffset:4,...s,asChild:!1,ref:t,className:(0,eO.default)({"rt-PopperContent":"popper"===s.position},"rt-SelectContent",n)},R.createElement(pc.Root,{type:"auto",className:"rt-ScrollAreaRoot"},R.createElement(dB.Viewport,{asChild:!0,className:"rt-SelectViewport"},R.createElement(pc.Viewport,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},i)),R.createElement(pc.Scrollbar,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},R.createElement(pc.Thumb,{className:"rt-ScrollAreaThumb"}))))))});pg.displayName="Select.Content";let py=R.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return R.createElement(dB.Item,{...i,asChild:!1,ref:t,className:(0,eO.default)("rt-SelectItem",r)},R.createElement(dB.ItemIndicator,{className:"rt-SelectItemIndicator"},R.createElement(uI,{className:"rt-SelectItemIndicatorIcon"})),R.createElement(dB.ItemText,null,n))});py.displayName="Select.Item";let pv=R.forwardRef(({className:e,...t},r)=>R.createElement(dB.Group,{...t,asChild:!1,ref:r,className:(0,eO.default)("rt-SelectGroup",e)}));pv.displayName="Select.Group";let pb=R.forwardRef(({className:e,...t},r)=>R.createElement(dB.Label,{...t,asChild:!1,ref:r,className:(0,eO.default)("rt-SelectLabel",e)}));pb.displayName="Select.Label";let pw=R.forwardRef(({className:e,...t},r)=>R.createElement(dB.Separator,{...t,asChild:!1,ref:r,className:(0,eO.default)("rt-SelectSeparator",e)}));pw.displayName="Select.Separator",e.s(["Content",()=>pg,"Group",()=>pv,"Item",()=>py,"Label",()=>pb,"Root",()=>pm,"Separator",()=>pw,"Trigger",()=>pf],52931);var px=e.i(52931),px=px;let pC=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function pk({mnemonic:e="",mode:t=gP.View,onResult:r,onContinue:n,onBack:i,showCopyButton:a=!0,requireVerification:o=!1,wordCount:s=12,autoCompleteLastWord:l=!0,className:c=""}){let[u,d]=(0,R.useState)(!1),[p,h]=(0,R.useState)(!1),[m,f]=(0,R.useState)([]),[g,y]=(0,R.useState)([]),[v,b]=(0,R.useState)(Array(s).fill("")),[w,x]=(0,R.useState)(!1),C=(0,R.useMemo)(()=>e.split(" ").filter(Boolean),[e]),k=t!==gP.Import||v.every(e=>e.length>0),S=(0,R.useCallback)(()=>{C.length===s&&f([...C].sort(()=>Math.random()-.5))},[C,s]);(0,R.useEffect)(()=>{t===gP.Verify&&S()},[t,S]);let E=async()=>{try{await navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},j=async e=>{try{let e=(await navigator.clipboard.readText()).trim().split(/\s+/);e.length===s&&e.every(e=>pC.includes(e.toLowerCase()))&&(b(e),r?.({importedMnemonic:e.join(" ")}))}catch(e){console.error("Failed to paste:",e)}};return(0,N.jsxs)(n0,{direction:"column",gap:"4",className:c,children:[(0,N.jsx)(of,{variant:"surface",size:"3",children:(0,N.jsxs)(n0,{direction:"column",gap:"3",children:[(0,N.jsxs)(n0,{justify:"between",align:"center",children:[(0,N.jsxs)(n0,{align:"center",gap:"2",children:[(0,N.jsxs)("svg",{width:"20",height:"20",fill:"var(--accent-9)",viewBox:"0 0 20 20","aria-label":"Key",children:[(0,N.jsx)("title",{children:"Key"}),(0,N.jsx)("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z",clipRule:"evenodd"})]}),(0,N.jsx)(aH,{weight:"medium",children:(()=>{switch(t){case gP.View:return"Recovery Phrase";case gP.Verify:return"Verify Recovery Phrase";case gP.Import:return"Import Recovery Phrase"}})()}),t===gP.Verify&&(0,N.jsxs)(su,{color:g.length===s?"green":"gray",variant:"soft",children:[g.length,"/",s]})]}),a&&t===gP.View&&(0,N.jsx)(n8,{size:"1",variant:"soft",color:u?"green":void 0,onClick:E,children:u?(0,N.jsxs)(n0,{align:"center",gap:"1",children:[(0,N.jsx)(a1,{width:"16",height:"16","aria-label":"Copied"}),"Copied!"]}):(0,N.jsxs)(n0,{align:"center",gap:"1",children:[(0,N.jsx)(a5,{width:"16",height:"16","aria-label":"Copy"}),"Copy"]})})]}),t===gP.View&&(0,N.jsx)(uB,{columns:{initial:"2",sm:"3"},gap:"2",children:C.map((e,t)=>(0,N.jsx)(of,{variant:"surface",size:"1",children:(0,N.jsxs)(n0,{align:"center",gap:"2",children:[(0,N.jsx)(su,{variant:"soft",color:"gray",size:"1",children:t+1}),(0,N.jsx)(aH,{size:"2",weight:"medium",style:{fontFamily:"var(--code-font-family, monospace)"},children:e})]})},t))}),t===gP.Verify&&(0,N.jsxs)(N.Fragment,{children:[w&&(0,N.jsxs)(o8.Root,{color:"red",variant:"soft",size:"1",children:[(0,N.jsx)(o8.Icon,{children:(0,N.jsx)(a8,{width:"16",height:"16","aria-label":"Error"})}),(0,N.jsx)(o8.Text,{children:"Incorrect order. Try again!"})]}),(0,N.jsx)(uB,{columns:{initial:"2",sm:"3"},gap:"2",children:m.map((e,n)=>{let i=g.includes(e);return(0,N.jsx)(of,{variant:i?"classic":"surface",size:"1",style:{cursor:i?"default":"pointer",opacity:i?.5:1,transition:"all 0.2s ease"},onClick:()=>((e,n)=>{if(t!==gP.Verify||g.includes(e))return;let i=[...g,e];if(l&&i.length===s-1){let e=C.find(e=>!i.includes(e));e&&(i=[...i,e])}y(i),i.length===s&&(i.every((e,t)=>e===C[t])?r?.({verified:!0}):(x(!0),setTimeout(()=>{y([]),x(!1),S()},1500)))})(e,0),children:(0,N.jsx)(aH,{size:"2",weight:"medium",style:{fontFamily:"var(--code-font-family, monospace)",textAlign:"center",color:i?"var(--gray-9)":void 0},children:e})},`${e}-${n}`)})})]}),t===gP.Import&&(0,N.jsx)(uB,{columns:{initial:"2",sm:"3"},gap:"2",children:v.map((e,t)=>(0,N.jsxs)("div",{children:[(0,N.jsxs)(aH,{size:"1",color:"gray",style:{marginBottom:"4px",display:"block"},children:["Word ",t+1]}),(0,N.jsxs)(px.Root,{value:e,onValueChange:e=>{let n;(n=[...v])[t]=e,b(n),n.every(e=>e.length>0)&&r?.({importedMnemonic:n.join(" ")})},children:[(0,N.jsx)(px.Trigger,{placeholder:`Word ${t+1}`,style:{width:"100%"},onDoubleClick:()=>j(t)}),(0,N.jsx)(px.Content,{children:pC.filter(t=>!e||t.startsWith(e.toLowerCase())).slice(0,10).map(e=>(0,N.jsx)(px.Item,{value:e,children:e},e))})]})]},t))}),(0,N.jsxs)(o8.Root,{color:"amber",variant:"soft",size:"1",children:[(0,N.jsx)(o8.Icon,{children:(0,N.jsx)(a8,{width:"16",height:"16","aria-label":"Warning"})}),(0,N.jsx)(o8.Text,{children:(()=>{switch(t){case gP.View:return"Write down these words in order. This is the ONLY way to recover your Bitcoin identity if you lose your password.";case gP.Verify:return"Click the words in the correct order to verify you have saved your recovery phrase.";case gP.Import:return`Enter your ${s}-word recovery phrase to restore your wallet.`}})()})]}),t===gP.Verify&&(g.length>0||i)&&(0,N.jsxs)(n0,{justify:"between",gap:"2",children:[i?(0,N.jsxs)(n8,{variant:"soft",color:"gray",onClick:i,children:[(0,N.jsxs)("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 20 20","aria-label":"Back",children:[(0,N.jsx)("title",{children:"Back"}),(0,N.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})]}),"View Recovery Phrase"]}):(0,N.jsx)("div",{}),g.length>0&&(0,N.jsxs)(n8,{variant:"soft",onClick:()=>{y([]),x(!1),S()},children:[(0,N.jsx)(oc,{width:"16",height:"16","aria-label":"Reset"}),"Start Over"]})]})]})}),n&&t===gP.View&&(0,N.jsxs)(n0,{direction:"column",gap:"3",children:[(0,N.jsx)(n0,{align:"start",gap:"3",asChild:!0,children:(0,N.jsxs)("label",{htmlFor:"acknowledge-checkbox",style:{cursor:"pointer"},children:[(0,N.jsx)(uL,{id:"acknowledge-checkbox",checked:p,onCheckedChange:e=>h(!0===e),style:{marginTop:"2px"}}),(0,N.jsx)(aH,{size:"2",children:"I have written down my recovery phrase and stored it in a safe place"})]})}),o?(0,N.jsx)(n8,{size:"3",onClick:()=>r?.({verified:!1}),disabled:!p,style:{width:"100%"},children:"Verify Recovery Phrase"}):(0,N.jsx)(n8,{size:"3",onClick:n,disabled:!p,style:{width:"100%"},children:"Continue"})]}),t===gP.Import&&(0,N.jsx)(n8,{size:"3",onClick:()=>r?.({importedMnemonic:v.join(" ")}),disabled:!k,style:{width:"100%"},children:"Import Wallet"})]})}(gx=gP||(gP={})).View="view",gx.Verify="verify",gx.Import="import";var pS=class extends nc{#y;#D=void 0;#L;#O;constructor(e,t){super(),this.#y=e,this.setOptions(t),this.bindMethods(),this.#M()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#y.defaultMutationOptions(e),function(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}(this.options,t)||this.#y.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#L,observer:this}),t?.mutationKey&&this.options.mutationKey&&r8(t.mutationKey)!==r8(this.options.mutationKey)?this.reset():this.#L?.state.status==="pending"&&this.#L.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#L?.removeObserver(this)}onMutationUpdate(e){this.#M(),this.#B(e)}getCurrentResult(){return this.#D}reset(){this.#L?.removeObserver(this),this.#L=void 0,this.#M(),this.#B()}mutate(e,t){return this.#O=t,this.#L?.removeObserver(this),this.#L=this.#y.getMutationCache().build(this.#y,this.options),this.#L.addObserver(this),this.#L.execute(e)}#M(){let e=this.#L?.state??nx();this.#D={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#B(e){nl.batch(()=>{if(this.#O&&this.hasListeners()){let t=this.#D.variables,r=this.#D.context;e?.type==="success"?(this.#O.onSuccess?.(e.data,t,r),this.#O.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#O.onError?.(e.error,t,r),this.#O.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#D)})})}};function pE(e={}){let{autoSync:t=!1,maxDiscoveryAttempts:r=50,sigmaApiUrl:n="https://api.sigmaidentity.com"}=e,{user:i,actions:a}=aJ(),[o,s]=(0,R.useState)({isScanning:!1,progress:0,currentId:0,foundCount:0,error:null}),l=(0,R.useCallback)(async e=>{try{let t=await fetch(`${n}/identity/get`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idKey:e})});if(!t.ok){if(404===t.status)return{result:null};throw Error(`API error: ${t.status}`)}return{result:await t.json()}}catch(t){return console.warn(`Failed to fetch profile for ${e}:`,t),{result:null}}},[n]),c=(0,R.useCallback)(async e=>{try{let t=await fetch(`${n}/identity/validByAddress`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e})});if(!t.ok)return null;return await t.json()}catch(t){return console.warn(`Failed to validate address ${e}:`,t),null}},[n]),u=function(e,t){var r,n;let i=nP(void 0),[a]=R.useState(()=>new pS(i,e));R.useEffect(()=>{a.setOptions(e)},[a,e]);let o=R.useSyncExternalStore(R.useCallback(e=>a.subscribe(nl.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=R.useCallback((e,t)=>{a.mutate(e,t).catch(r3)},[a]);if(o.error&&(r=a.options.throwOnError,n=[o.error],"function"==typeof r?r(...n):!!r))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}({mutationFn:async()=>{let e;if(!i)throw Error("No authenticated user");let t=await a.getCurrentBackup();if(!t)throw Error("No backup found for profile sync");if(s({isScanning:!0,progress:0,currentId:0,foundCount:0,error:null}),ek(t))e=new ey(t.xprv);else if(eS(t))e=new ey({rootPk:t.rootPk});else throw Error("Unsupported backup format for profile sync");t.ids&&e.importIds(t.ids);let n=e.listIds(),o=[];for(let[t,r]of(s(e=>({...e,progress:10})),n.entries())){let i=await l(r);if(i.result){let t=e.getId(r),n=t?.getCurrentAddress()||"";o.push({id:r,address:n,isPublished:!0,...i.result&&"object"==typeof i.result?Object.fromEntries(Object.entries(i.result).filter(([e])=>!["id","address","isPublished"].includes(e))):{}})}s(e=>({...e,progress:10+t/n.length*30}))}s(e=>({...e,progress:40}));let c=0,u=0;for(;c<5&&u<r;){let t=e.newId(),n=t.getIdentityKey();s(e=>({...e,currentId:u+1,progress:40+u/r*50}));try{let e=await l(n);if(e.result){c=0;let r=t.getCurrentAddress();o.push({id:n,address:r,isPublished:!0,...e.result&&"object"==typeof e.result?Object.fromEntries(Object.entries(e.result).filter(([e])=>!["id","address","isPublished"].includes(e))):{}}),s(e=>({...e,foundCount:e.foundCount+1}))}else c++}catch(e){console.warn(`Error checking ID ${n}:`,e),c++}u++,await new Promise(e=>setTimeout(e,100))}s(e=>({...e,progress:95}));let d=e.exportIds(),p=null;return d!==t.ids&&(p={...t,ids:d},console.log("Profile sync found new identities, backup updated in session")),s(e=>({...e,progress:100,isScanning:!1})),{discoveredProfiles:o,updatedBackup:p,totalFound:o.length}}});return(0,R.useEffect)(()=>{if(t&&i&&!u.isPending){let e=setTimeout(()=>{u.mutate()},1e3);return()=>clearTimeout(e)}},[t,i,u]),{syncProfiles:(0,R.useCallback)(()=>{u.mutate()},[u]),resetSync:(0,R.useCallback)(()=>{s({isScanning:!1,progress:0,currentId:0,foundCount:0,error:null}),u.reset()},[u]),isScanning:o.isScanning||u.isPending,progress:o.progress,currentId:o.currentId,foundCount:o.foundCount,error:u.error||o.error,result:u.data,isSuccess:u.isSuccess,fetchProfile:l,validateByAddress:c}}function pj({mode:e="signin",onSuccess:t,onError:r,className:n="",style:i,cardProps:a={},buttonProps:o={},enableProfileSync:s=!1,maxDiscoveryAttempts:l=50}){let{user:c,currentStep:u,hasLocalBackup:d,isLoading:p,error:h,signIn:m,signUp:f,generateBackup:g,importBackup:y,setMode:v,setStep:b,reset:w}=aJ(),[x,C]=(0,R.useState)(""),[k,S]=(0,R.useState)(""),[E,j]=(0,R.useState)(null),[A,P]=(0,R.useState)(!1),[T,I]=(0,R.useState)(!1),_=pE({autoSync:!1,maxDiscoveryAttempts:l});(0,R.useEffect)(()=>{v("restore"===e?"signin":e),"signin"===e&&d?b("password"):"signup"===e&&b("signup")},[e,d,v,b]),(0,R.useEffect)(()=>{h&&r&&r(h)},[h,r]);let D=async e=>{e.preventDefault(),(await m(x)).success&&(I(!0),s&&!_.isScanning&&setTimeout(()=>{_.syncProfiles()},1e3),setTimeout(()=>{c&&t?.(c)},500))},L=async e=>{if(e.preventDefault(),"signup"===u)j(g()),b("password");else if("password"===u)b("confirm-password");else if("confirm-password"===u){if(x!==k)return;b("backup-display")}else"backup-display"===u&&(await f(x)).success&&c&&(s&&!_.isScanning&&setTimeout(()=>{_.syncProfiles()},1e3),t?.(c))},O=async e=>{(await y(e)).success&&b("password")};return"initial"===u||"signin"===u?(0,N.jsxs)(n0,{direction:"column",gap:"6",className:n,style:i,children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",children:"Welcome Back"}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"Sign in to your Bitcoin identity"})]}),d?(0,N.jsx)("form",{onSubmit:D,children:(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(ss,{label:"Backup Password",value:x,onChange:C,placeholder:"Enter your password",disabled:p,autoFocus:!0}),h?.message&&(0,N.jsx)(se,{error:h.message}),(0,N.jsx)(o3,{type:"submit",loading:p||T,disabled:!x||T,size:"3",style:{width:"100%"},color:T?"green":void 0,children:T?(0,N.jsxs)(n0,{align:"center",gap:"2",children:[(0,N.jsxs)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-label":"Success",children:[(0,N.jsx)("title",{children:"Success"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})]}),"Success!"]}):"Sign In"})]})}):(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(aH,{align:"center",color:"gray",size:"2",children:"No local backup found. Import your backup or create a new identity."}),(0,N.jsx)(up,{onFileSelect:O,accept:".json,.txt",disabled:p}),(0,N.jsx)(n8,{size:"3",variant:"soft",onClick:()=>{v("signup"),b("signup")},style:{width:"100%"},children:"Create New Identity"})]})]}):"password"===u&&"signin"===e?(0,N.jsx)("form",{onSubmit:D,children:(0,N.jsxs)(n0,{direction:"column",gap:"6",className:n,style:i,children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",children:"Enter Password"}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"Decrypt your imported backup"})]}),(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(ss,{label:"Backup Password",value:x,onChange:C,placeholder:"Enter your password",disabled:p,autoFocus:!0}),h?.message&&(0,N.jsx)(se,{error:h.message}),(0,N.jsx)(o3,{type:"submit",loading:p,disabled:!x,size:"3",style:{width:"100%"},children:"Decrypt & Sign In"})]})]})}):"password"===u&&"signup"===e?(0,N.jsx)("form",{onSubmit:L,children:(0,N.jsxs)(n0,{direction:"column",gap:"6",className:n,style:i,children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",children:"Set Password"}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"Secure your Bitcoin identity"})]}),(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(ss,{label:"Password",value:x,onChange:C,placeholder:"Create a strong password",disabled:p,autoFocus:!0,showHint:!0}),h?.message&&(0,N.jsx)(se,{error:h.message}),(0,N.jsx)(o3,{type:"submit",loading:p,disabled:!x||x.length<8,size:"3",style:{width:"100%"},children:"Continue"})]})]})}):"confirm-password"===u?(0,N.jsx)("form",{onSubmit:L,children:(0,N.jsxs)(n0,{direction:"column",gap:"6",className:n,style:i,children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",children:"Confirm Password"}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"Re-enter your password"})]}),(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(ss,{label:"Confirm Password",value:k,onChange:S,placeholder:"Re-enter your password",disabled:p,autoFocus:!0,hasError:k.length>0&&x!==k}),k.length>0&&x!==k&&(0,N.jsx)(se,{error:"Passwords do not match"}),(0,N.jsx)(o3,{type:"submit",loading:p,disabled:!k||x!==k,size:"3",style:{width:"100%"},children:"Continue"})]})]})}):"backup-display"===u&&E?(0,N.jsxs)(n0,{direction:"column",gap:"6",className:n,style:i,children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",children:"Save Your Backup"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Download and securely store your backup. You'll need this to recover your identity."})]}),ek(E)&&(0,N.jsx)(pk,{mnemonic:E.mnemonic}),!ek(E)&&(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Type 42 backup format does not use mnemonic phrases. Your backup is ready for download."}),(0,N.jsx)(aZ,{size:"4"}),(0,N.jsx)(og,{backup:E,onDownloaded:()=>P(!0)}),(0,N.jsx)(o3,{onClick:L,loading:p,disabled:!A,size:"3",style:{width:"100%"},children:"Complete Setup"}),!A&&(0,N.jsx)(aH,{size:"1",color:"gray",align:"center",children:"Please download your backup before continuing"})]}):(0,N.jsx)(n0,{direction:"column",align:"center",gap:"4",className:n,style:i,children:(0,N.jsx)(aH,{color:"gray",children:"Loading..."})})}var pA=eB,pP="AlertDialog",[pN,pR]=(0,eF.createContextScope)(pP,[i8]),pT=i8(),pI=e=>{let{__scopeAlertDialog:t,...r}=e,n=pT(t);return(0,N.jsx)(ar,{...n,...r,modal:!0})};pI.displayName=pP;var p_=R.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=pT(r);return(0,N.jsx)(ai,{...i,...n,ref:t})});p_.displayName="AlertDialogTrigger";var pD=e=>{let{__scopeAlertDialog:t,...r}=e,n=pT(t);return(0,N.jsx)(al,{...n,...r})};pD.displayName="AlertDialogPortal";var pL=R.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=pT(r);return(0,N.jsx)(au,{...i,...n,ref:t})});pL.displayName="AlertDialogOverlay";var pO="AlertDialogContent",[pM,pB]=pN(pO),pz=(0,pA.createSlottable)("AlertDialogContent"),pH=R.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:n,...i}=e,a=pT(r),o=R.useRef(null),s=(0,eH.useComposedRefs)(t,o),l=R.useRef(null);return(0,N.jsx)(aj,{contentName:pO,titleName:pF,docsSlug:"alert-dialog",children:(0,N.jsx)(pM,{scope:r,cancelRef:l,children:(0,N.jsxs)(am,{role:"alertdialog",...a,...i,ref:s,onOpenAutoFocus:(0,ez.composeEventHandlers)(i.onOpenAutoFocus,e=>{e.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,N.jsx)(pz,{children:n}),(0,N.jsx)(pq,{contentRef:o})]})})})});pH.displayName=pO;var pF="AlertDialogTitle",pK=R.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=pT(r);return(0,N.jsx)(ab,{...i,...n,ref:t})});pK.displayName=pF;var pU="AlertDialogDescription",pW=R.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=pT(r);return(0,N.jsx)(ax,{...i,...n,ref:t})});pW.displayName=pU;var p$=R.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=pT(r);return(0,N.jsx)(ak,{...i,...n,ref:t})});p$.displayName="AlertDialogAction";var pV="AlertDialogCancel",pG=R.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=pB(pV,r),a=pT(r),o=(0,eH.useComposedRefs)(t,i);return(0,N.jsx)(ak,{...a,...n,ref:o})});pG.displayName=pV;var pq=({contentRef:e})=>{let t=`\`${pO}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${pO}\` by passing a \`${pU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${pO}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return R.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};e.s(["Action",()=>p$,"AlertDialog",()=>pI,"AlertDialogAction",()=>p$,"AlertDialogCancel",()=>pG,"AlertDialogContent",()=>pH,"AlertDialogDescription",()=>pW,"AlertDialogOverlay",()=>pL,"AlertDialogPortal",()=>pD,"AlertDialogTitle",()=>pK,"AlertDialogTrigger",()=>p_,"Cancel",()=>pG,"Content",()=>pH,"Description",()=>pW,"Overlay",()=>pL,"Portal",()=>pD,"Root",()=>pI,"Title",()=>pK,"Trigger",()=>p_,"createAlertDialogScope",()=>pR],91162);var pQ=e.i(91162),pQ=pQ;let pJ=e=>R.createElement(pQ.Root,{...e});pJ.displayName="AlertDialog.Root";let pY=R.forwardRef(({children:e,...t},r)=>R.createElement(pQ.Trigger,{...t,ref:r,asChild:!0},aF(e)));pY.displayName="AlertDialog.Trigger";let pZ=R.forwardRef(({align:e,...t},r)=>{let{align:n,...i}=aT,{className:a}=nH({align:e},{align:n}),{className:o,forceMount:s,container:l,...c}=nH(t,i);return R.createElement(pQ.Portal,{container:l,forceMount:s},R.createElement(rY,{asChild:!0},R.createElement(pQ.Overlay,{className:"rt-BaseDialogOverlay rt-AlertDialogOverlay"},R.createElement("div",{className:"rt-BaseDialogScroll rt-AlertDialogScroll"},R.createElement("div",{className:`rt-BaseDialogScrollPadding rt-AlertDialogScrollPadding ${a}`},R.createElement(pQ.Content,{...c,ref:r,className:(0,eO.default)("rt-BaseDialogContent","rt-AlertDialogContent",o)}))))))});pZ.displayName="AlertDialog.Content";let pX=R.forwardRef((e,t)=>R.createElement(pQ.Title,{asChild:!0},R.createElement(aB,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));pX.displayName="AlertDialog.Title";let p0=R.forwardRef((e,t)=>R.createElement(pQ.Description,{asChild:!0},R.createElement(aH,{as:"p",size:"3",...e,asChild:!1,ref:t})));p0.displayName="AlertDialog.Description";let p1=R.forwardRef(({children:e,...t},r)=>R.createElement(pQ.Action,{...t,ref:r,asChild:!0},aF(e)));p1.displayName="AlertDialog.Action";let p2=R.forwardRef(({children:e,...t},r)=>R.createElement(pQ.Cancel,{...t,ref:r,asChild:!0},aF(e)));p2.displayName="AlertDialog.Cancel",e.s(["Action",()=>p1,"Cancel",()=>p2,"Content",()=>pZ,"Description",()=>p0,"Root",()=>pJ,"Title",()=>pX,"Trigger",()=>pY],81004);var p3=e.i(81004),p3=p3;function p4({onImport:e,disabled:t=!1,className:r="",showLabel:n=!0,enableProfileSync:i=!1,maxDiscoveryAttempts:a=50,onImportSuccess:o}){let s=eI(),[l,c]=(0,R.useState)(null),u=pE({autoSync:!1,maxDiscoveryAttempts:a}),d=(0,R.useCallback)(async t=>{c(null);try{await e(t),i&&!u.isScanning&&setTimeout(()=>{u.syncProfiles()},1e3),o?.()}catch(e){c(e instanceof Error?e.message:"Failed to import backup")}},[e,i,u,o]);return(0,N.jsxs)(n0,{direction:"column",gap:"4",className:r,children:[n&&(0,N.jsx)(n0,{direction:"column",gap:"1",children:(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:s.labels.backupImport})}),(0,N.jsx)(cQ,{accept:".json,.txt,.backup",disabled:t,title:s.labels.importBackupFile,description:s.labels.backupSupport,dragActiveText:"Drop your backup file here",dragActiveDescription:"Release to import",height:150,onFileSelect:d,onError:e=>c(e)}),l&&(0,N.jsx)(se,{error:l})]})}var o8=o8;function p5({onGenerate:e,onImport:t,loading:r=!1,error:n,className:i=""}){let[a,o]=(0,R.useState)(!1),s=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)};return(0,N.jsxs)(n0,{direction:"column",gap:"6",className:i,children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Create Your Identity"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Generate a new Bitcoin identity or import existing backup"})]}),(0,N.jsx)(sd,{steps:[{id:"generate",label:"Generate BAP Keys",description:"We'll create a unique BAP identity that only you control",status:"active"},{id:"password",label:"Create Password",description:"Encrypt your keys with a strong password",status:"pending"},{id:"backup",label:"Save Backup",description:"Download your encrypted backup for safekeeping",status:"pending"}],variant:"vertical"}),n&&(0,N.jsx)(o8.Root,{color:"red",variant:"soft",children:(0,N.jsx)(o8.Text,{children:n})}),(0,N.jsx)(n8,{size:"3",onClick:e,disabled:r,style:{width:"100%"},children:(0,N.jsxs)(n0,{align:"center",gap:"2",children:[r&&(0,N.jsx)(n2,{}),r?"Generating...":(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(os,{width:"20",height:"20","aria-label":"Add"}),"Generate New BAP Identity"]})]})}),(0,N.jsxs)(n0,{align:"center",gap:"3",children:[(0,N.jsx)(aZ,{size:"4",style:{flex:1}}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"or"}),(0,N.jsx)(aZ,{size:"4",style:{flex:1}})]}),(0,N.jsxs)("label",{style:{cursor:r?"not-allowed":"pointer"},onDragEnter:s,onDragLeave:s,onDragOver:s,onDrop:e=>{e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files?.[0]&&t(e.dataTransfer.files[0])},children:[(0,N.jsx)(of,{variant:"surface",size:"4",style:{border:`2px dashed ${a?"var(--accent-9)":"var(--gray-7)"}`,cursor:r?"not-allowed":"pointer",textAlign:"center",opacity:r?.6:1,transition:"all 0.2s ease"},children:(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"3",children:[(0,N.jsx)(oh,{width:"48",height:"48",color:"var(--gray-9)","aria-label":"Import"}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"1",children:[(0,N.jsx)(aH,{weight:"medium",children:"Import Existing Identity"}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"Drag and drop your backup file here, or click to browse"})]})]})}),(0,N.jsx)("input",{type:"file",accept:".json,.txt",onChange:e=>{e.target.files?.[0]&&t(e.target.files[0])},style:{display:"none"},disabled:r})]}),(0,N.jsxs)(o8.Root,{variant:"soft",children:[(0,N.jsx)(o8.Icon,{children:(0,N.jsx)(oa,{width:"16",height:"16","aria-label":"Information"})}),(0,N.jsxs)(o8.Text,{children:[(0,N.jsx)(aH,{weight:"medium",style:{display:"block",marginBottom:"4px"},children:"What is a BAP Identity?"}),(0,N.jsx)(aH,{children:"A BAP (Bitcoin Attestation Protocol) identity uses cryptographic keys to authenticate you across applications. While you'll create a password to encrypt and protect your keys locally, you won't need passwords to log into websites - your BAP ID proves who you are cryptographically."})]})]})]})}function p6({onSuccess:e,onError:t,className:r=""}){let{user:n,generateBackup:i,signUp:a,isImportedBackup:o}=aJ(),[s,l]=(0,R.useState)("generate"),[c,u]=(0,R.useState)(!1),[d,p]=(0,R.useState)(""),[h,m]=(0,R.useState)(""),[f,g]=(0,R.useState)(""),[y,v]=(0,R.useState)(null),[b,w]=(0,R.useState)(!1),x=[{id:"generate",label:"Generate Identity",status:"generate"===s?"active":["password","mnemonic","backup","complete"].includes(s)?"complete":"pending"},{id:"password",label:"Create Password",status:"password"===s?"active":["mnemonic","backup","complete"].includes(s)?"complete":"pending"},{id:"backup",label:"Save Recovery",status:"mnemonic"===s||"backup"===s?"active":"complete"===s?"complete":"pending"},{id:"complete",label:"Finish Setup",status:"complete"===s?"active":"pending"}],C=(0,R.useCallback)(()=>{u(!0),p("");try{let e=i();v(e),l("password")}catch(e){p(e instanceof Error?e.message:"Failed to generate identity")}finally{u(!1)}},[i]),k=(0,R.useCallback)(async e=>{u(!0),p("");try{let t=await e.text(),r=JSON.parse(t);if(r.iv&&r.data)return void p("This backup is already encrypted. Please use the Sign In page to restore it.");r.xprv&&r.mnemonic?(v(r),l("password")):p("Invalid backup format")}catch{p("Invalid backup file")}finally{u(!1)}},[]),S=e=>{(e.preventDefault(),h.length<8)?p("Password must be at least 8 characters"):h!==f?p("Passwords do not match"):(p(""),l("mnemonic"))},E=()=>{l("backup")},j=()=>{w(!0)},A=async()=>{if(y&&h&&(b||o)){u(!0),p("");try{let r=await a(h);r.success?(l("complete"),n&&e?.(n)):(p(r.error?.message||"Signup failed"),r.error&&t?.(r.error))}catch(r){let e=r instanceof Error?r.message:"Failed to complete signup";p(e),t?.({code:"UNKNOWN_ERROR",message:e})}finally{u(!1)}}};return(0,N.jsxs)(n0,{direction:"column",gap:"6",className:r,children:["generate"!==s&&"complete"!==s&&(0,N.jsx)(sd,{steps:x}),(()=>{switch(s){case"generate":return(0,N.jsx)(p5,{onGenerate:C,onImport:k,loading:c,error:d});case"password":return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"4",children:[(0,N.jsx)(ov,{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"var(--green-9)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsxs)("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",stroke:"white","aria-label":"Success",children:[(0,N.jsx)("title",{children:"Success"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})]})}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Identity Generated!"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Now let's secure it with a password"})]})]}),(0,N.jsx)(se,{error:d}),(0,N.jsx)("form",{onSubmit:S,children:(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsx)(ss,{label:"Create Password",value:h,onChange:m,placeholder:"Enter a strong password",showHint:!0,autoComplete:"new-password"}),(0,N.jsx)(ss,{label:"Confirm Password",value:f,onChange:g,placeholder:"Re-enter your password",autoComplete:"new-password"}),(0,N.jsx)(o3,{type:"submit",disabled:!h||!f,loading:c,size:"3",style:{width:"100%"},children:"Continue"})]})})]});case"mnemonic":return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Save Your Recovery Phrase"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Write down these words in the exact order shown"})]}),y&&ek(y)&&(0,N.jsx)(pk,{mnemonic:y.mnemonic,onContinue:E}),y&&!ek(y)&&(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Type 42 backup format does not use mnemonic phrases. Your backup is ready for download."})]});case"backup":return(0,N.jsx)(n0,{direction:"column",gap:"6",children:o?(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"4",children:[(0,N.jsx)(ov,{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"var(--blue-9)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsxs)("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",stroke:"white","aria-label":"Download",children:[(0,N.jsx)("title",{children:"Download"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Backup Already Imported"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"You imported your backup - no download needed"})]}),(0,N.jsx)(o3,{onClick:A,loading:c,size:"3",style:{width:"100%",marginTop:"var(--space-6)"},children:"Complete Setup"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Download Your Backup"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Save your encrypted backup file in a safe place"})]}),y&&(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(og,{backup:y,password:h,onDownloaded:j,requireDownload:!0}),(0,N.jsx)(o3,{onClick:A,disabled:!b,loading:c,size:"3",style:{width:"100%"},children:"Complete Setup"})]})]})});case"complete":return(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"6",children:[(0,N.jsx)(ov,{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"var(--green-9)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsxs)("svg",{width:"40",height:"40",fill:"none",viewBox:"0 0 24 24",stroke:"white","aria-label":"Success",children:[(0,N.jsx)("title",{children:"Success"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})]})}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Setup Complete!"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Your Bitcoin identity is ready to use"})]})]})}})(),"generate"!==s&&"complete"!==s&&(0,N.jsx)(n0,{justify:"center",style:{marginTop:"var(--space-4)"},children:(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>{"password"===s&&l("generate"),"mnemonic"===s&&l("password"),"backup"===s&&l("mnemonic")},children:" Back"})})]})}var o8=o8;let p9=[{id:"google",name:"Google",enabled:!0,icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"Google"}),(0,N.jsxs)("g",{fill:"currentColor",children:[(0,N.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,N.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,N.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,N.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})]})},{id:"github",name:"GitHub",enabled:!0,icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,N.jsx)("title",{children:"GitHub"}),(0,N.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]})},{id:"handcash",name:"HandCash",enabled:!0,icon:(0,N.jsx)(function({size:e=20,color:t="currentColor",className:r}){return(0,N.jsxs)("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:t,className:r,children:[(0,N.jsx)("title",{children:"HandCash"}),(0,N.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:t}),(0,N.jsxs)("g",{fill:"white",children:[(0,N.jsx)("rect",{x:"7",y:"7",width:"2.5",height:"10"}),(0,N.jsx)("rect",{x:"14.5",y:"7",width:"2.5",height:"10"}),(0,N.jsx)("rect",{x:"9.5",y:"11",width:"5",height:"2"})]})]})},{})},{id:"yours",name:"Yours Wallet",enabled:!0,icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,N.jsx)("title",{children:"Yours Wallet"}),(0,N.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5zm0 2.18l8 4v9.82c0 4.28-2.88 8.24-7 9.34V4.18zm-1 5.82v8c-2.55-.9-4.65-3.08-5.58-5.95L11 9.82z"})]})},{id:"twitter",name:"X (Twitter)",enabled:!1,icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,N.jsx)("title",{children:"X (Twitter)"}),(0,N.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})]})}];function p7({providers:e=p9,action:t="signin",callbackUrl:r,linkedProviders:n=[],onProviderClick:i,disabled:a=!1,loading:o=!1,className:s="",size:l="2"}){let[c,u]=(0,R.useState)(null),d=async e=>{if(!a&&!o){u(e);try{i&&await i(e)}finally{u(null)}}},p=e.filter(e=>!1!==e.enabled);return 0===p.length?(0,N.jsx)(n0,{direction:"column",align:"center",gap:"2",className:s,children:(0,N.jsx)(aH,{size:"2",color:"gray",children:"No OAuth providers configured"})}):(0,N.jsxs)(n0,{direction:"column",gap:"3",className:s,children:[p.map(e=>{let r=n.includes(e.id),i=c===e.id,s=a||o||r;return(0,N.jsx)(n8,{"data-provider":e.id,variant:r?"soft":"surface",color:r?"green":"gray",size:"3",disabled:s,onClick:()=>d(e.id),style:{width:"100%",justifyContent:"flex-start",padding:"var(--space-4)",border:r?void 0:"1px solid var(--gray-6)",transition:"all 0.2s",cursor:s?"not-allowed":"pointer"},children:(0,N.jsxs)(n0,{align:"center",gap:"3",style:{width:"100%"},children:[(0,N.jsx)(ov,{style:{flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:r?"var(--green-11)":"var(--accent-11)"},children:i?(0,N.jsx)("div",{className:"animate-spin",style:{width:"20px",height:"20px"},children:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none","aria-label":"Loading",children:[(0,N.jsx)("title",{children:"Loading"}),(0,N.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),(0,N.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"opacity-75"})]})}):e.icon}),(0,N.jsx)(aH,{size:"3",weight:"medium",style:{flex:1,textAlign:"left"},children:((e,r)=>{if(r)return"Linked";switch(t){case"signin":default:return`Continue with ${e.name}`;case"signup":return`Sign up with ${e.name}`;case"link":return`Link ${e.name}`}})(e,r)}),r&&(0,N.jsx)(su,{color:"green",variant:"soft",size:"1",children:(0,N.jsx)(a1,{width:"12",height:"12"})})]})},e.id)}),"signin"===t&&p.length>0&&(0,N.jsx)(aH,{size:"1",color:"gray",align:"center",mt:"2",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})}var p3=p3,o8=o8;function p8({isOpen:e,onClose:t,provider:r,existingBapId:n,currentBapId:i,onTransferComplete:a,onSwitchAccount:o,onTransferOAuth:s,onSwitchToExisting:l,className:c=""}){let[u,d]=(0,R.useState)("choose"),[p,h]=(0,R.useState)(""),[m,f]=(0,R.useState)(!1),[g,y]=(0,R.useState)(""),v=async e=>{e.preventDefault(),f(!0),y("");try{if(s)await s(n,i,p);else{let e=await fetch("/api/users/transfer-oauth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:r,fromBapId:n,toBapId:i,verificationPassword:p})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to transfer OAuth link")}}a()}catch(e){console.error("Transfer error:",e),y(e instanceof Error?e.message:"Failed to transfer OAuth link"),f(!1)}},b=async()=>{d("switching"),f(!0);try{if(l)await l(n);else{let e=await fetch(`/api/backup?bapid=${n}`);if(!e.ok)throw Error("Failed to fetch existing account");let{backup:t}=await e.json();localStorage.setItem("encryptedBackup",t)}o()}catch(e){console.error("Switch account error:",e),y("Failed to switch accounts. Please try signing in manually."),f(!1),d("choose")}},w=()=>{d("choose"),h(""),y(""),f(!1)},x=()=>{w(),t()};return(0,N.jsx)(p3.Root,{open:e,onOpenChange:e=>!e&&x(),children:(0,N.jsxs)(p3.Content,{size:"2",className:c,style:{maxWidth:"28rem",width:"100%"},children:[(0,N.jsxs)(p3.Title,{children:[r," Account Conflict"]}),(0,N.jsxs)(p3.Description,{children:["choose"===u&&"This account is already linked to another Bitcoin identity.","transfer"===u&&"Enter your password to verify ownership and transfer the link.","switching"===u&&"Switching to your existing account..."]}),(0,N.jsx)(ov,{style:{marginTop:"var(--space-4)"},children:(()=>{switch(u){case"choose":default:return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(o8.Root,{color:"amber",variant:"soft",children:[(0,N.jsx)(o8.Icon,{children:(0,N.jsxs)("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 20 20","aria-label":"Information",children:[(0,N.jsx)("title",{children:"Information"}),(0,N.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})]})}),(0,N.jsxs)(o8.Text,{children:[(0,N.jsx)(aH,{weight:"medium",style:{display:"block",marginBottom:"4px"},children:"Account Already Linked"}),(0,N.jsxs)(aH,{children:["This ",r," account is already linked to another Bitcoin identity. Choose how you'd like to proceed:"]})]})]}),(0,N.jsxs)(n0,{direction:"column",gap:"3",children:[(0,N.jsx)(of,{variant:"surface",size:"3",style:{cursor:"pointer"},onClick:()=>d("transfer"),children:(0,N.jsxs)(n0,{align:"start",gap:"3",children:[(0,N.jsxs)("svg",{width:"20",height:"20",fill:"none",stroke:"var(--blue-9)",viewBox:"0 0 24 24","aria-label":"Transfer",children:[(0,N.jsx)("title",{children:"Transfer"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})]}),(0,N.jsxs)(n0,{direction:"column",gap:"1",children:[(0,N.jsxs)(aH,{weight:"medium",children:["Transfer ",r," Link"]}),(0,N.jsxs)(aH,{size:"2",color:"gray",children:["Move the ",r," connection from your other account to this one. You'll need the password for verification."]})]})]})}),(0,N.jsx)(of,{variant:"surface",size:"3",style:{cursor:m?"not-allowed":"pointer",opacity:m?.5:1},onClick:m?void 0:b,children:(0,N.jsxs)(n0,{align:"start",gap:"3",children:[(0,N.jsxs)("svg",{width:"20",height:"20",fill:"none",stroke:"var(--green-9)",viewBox:"0 0 24 24","aria-label":"Use existing account",children:[(0,N.jsx)("title",{children:"Use existing account"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]}),(0,N.jsxs)(n0,{direction:"column",gap:"1",children:[(0,N.jsx)(aH,{weight:"medium",children:"Use Existing Account"}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"Discard this new identity and continue with your existing account."})]})]})})]}),(0,N.jsx)(n0,{justify:"center",style:{paddingTop:"var(--space-4)"},children:(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:x,children:"Cancel"})})]});case"transfer":return(0,N.jsx)("form",{onSubmit:v,children:(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(ov,{children:[(0,N.jsxs)(aH,{size:"2",color:"gray",style:{marginBottom:"var(--space-4)",display:"block"},children:["Enter the password for your other account to verify ownership and transfer the ",r," link to your current account."]}),(0,N.jsx)(of,{variant:"surface",size:"2",style:{marginBottom:"var(--space-4)"},children:(0,N.jsxs)(n0,{direction:"column",gap:"2",children:[(0,N.jsxs)(n0,{align:"center",gap:"2",children:[(0,N.jsxs)("svg",{width:"16",height:"16",fill:"none",stroke:"var(--gray-9)",viewBox:"0 0 24 24","aria-label":"Transfer from",children:[(0,N.jsx)("title",{children:"Transfer from"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4"})]}),(0,N.jsx)(aH,{size:"1",color:"gray",children:"Transferring from:"})]}),(0,N.jsx)(aH,{size:"1",style:{fontFamily:"monospace",wordBreak:"break-all"},children:n}),(0,N.jsxs)(n0,{align:"center",gap:"2",style:{marginTop:"var(--space-2)"},children:[(0,N.jsxs)("svg",{width:"16",height:"16",fill:"none",stroke:"var(--gray-9)",viewBox:"0 0 24 24","aria-label":"Transfer to",children:[(0,N.jsx)("title",{children:"Transfer to"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 17l-4 4m0 0l-4-4m4 4V3"})]}),(0,N.jsx)(aH,{size:"1",color:"gray",children:"Transferring to:"})]}),(0,N.jsx)(aH,{size:"1",style:{fontFamily:"monospace",wordBreak:"break-all"},children:i})]})})]}),(0,N.jsx)(ss,{label:"Password for Other Account",value:p,onChange:h,placeholder:"Enter encryption password",disabled:m,required:!0}),(0,N.jsx)(se,{error:g}),(0,N.jsxs)(n0,{gap:"3",justify:"end",children:[(0,N.jsx)(n8,{type:"button",variant:"soft",color:"gray",onClick:w,disabled:m,children:"Back"}),(0,N.jsx)(o3,{type:"submit",loading:m,disabled:!p,children:"Transfer Link"})]})]})});case"switching":return(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"4",style:{padding:"var(--space-8) 0"},children:[(0,N.jsx)(n2,{loading:!0,size:"3"}),(0,N.jsx)(aH,{color:"gray",children:"Switching to your existing account..."})]})}})()})]})})}(gC=gN||(gN={})).Image="image",gC.Video="video",gC.Audio="audio",gC.HTML="html",gC.Text="text",gC.JSON="json",gC.SVG="svg",gC.PDF="pdf",gC.Model="model",gC.Unknown="unknown";var eB=eB;let he={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4"],default:"4",responsive:!0},display:{type:"enum",className:"rt-r-display",values:["none","initial"],parseValue:function(e){return"initial"===e?"flex":e},responsive:!0},align:{type:"enum",className:"rt-r-ai",values:["left","center","right"],parseValue:function(e){return"left"===e?"start":"right"===e?"end":e},responsive:!0}},ht=R.forwardRef(({width:e,minWidth:t,maxWidth:r,height:n,minHeight:i,maxHeight:a,...o},s)=>{let{asChild:l,children:c,className:u,...d}=nH(o,he,nG,nQ),{className:p,style:h}=nH({width:e,minWidth:t,maxWidth:r,height:n,minHeight:i,maxHeight:a},nW,nU),m=l?eB.Root:"div";return R.createElement(m,{...d,ref:s,className:(0,eO.default)("rt-Container",u)},o0({asChild:l,children:c},e=>R.createElement("div",{className:(0,eO.default)("rt-ContainerInner",p),style:h},e)))});function hr({children:e,title:t,subtitle:r,showProgress:n=!1,progressStep:i=1,totalSteps:a=3,className:o=""}){return(0,N.jsxs)(ov,{style:{minHeight:"100vh",background:"var(--color-background)",color:"var(--gray-12)",display:"flex",flexDirection:"column"},className:o,children:[(t||r)&&(0,N.jsxs)(ov,{style:{padding:"var(--space-6) var(--space-4)",textAlign:"center"},children:[t&&(0,N.jsx)(aB,{size:"7",align:"center",children:t}),r&&(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:r})]}),(0,N.jsx)(ov,{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--space-4)"},children:(0,N.jsx)(ht,{size:"1",style:{maxWidth:"400px",width:"100%"},children:(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[n&&a>1&&(0,N.jsxs)(n0,{direction:"column",gap:"2",children:[(0,N.jsxs)(n0,{justify:"between",children:[(0,N.jsxs)(aH,{size:"2",color:"gray",children:["Step ",i," of ",a]}),(0,N.jsxs)(aH,{size:"2",color:"gray",children:[Math.round(i/a*100),"%"]})]}),(0,N.jsx)(uc,{value:i/a*100,size:"2"})]}),e]})})})]})}function hn({children:e,maxWidth:t="md",padding:r="md",className:n=""}){return(0,N.jsx)(ov,{style:{minHeight:"100vh",background:"var(--color-background)",color:"var(--gray-12)"},className:n,children:(0,N.jsx)(n0,{align:"center",justify:"center",style:{minHeight:"100vh"},p:{none:{initial:"0",sm:"0"},sm:{initial:"2",sm:"2"},md:{initial:"3",sm:"4"},lg:{initial:"4",sm:"6"}}[r],children:(0,N.jsx)(ht,{size:{sm:{initial:"1",sm:"1"},md:{initial:"1",sm:"2"},lg:{initial:"1",sm:"2",md:"3"},xl:{initial:"1",sm:"2",md:"3",lg:"4"}}[t],style:{width:"100%"},children:e})})})}function hi({providers:e=[{id:"google",name:"Google",enabled:!0,icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"Google"}),(0,N.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,N.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,N.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,N.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})},{id:"github",name:"GitHub",enabled:!0,icon:(0,N.jsxs)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"GitHub"}),(0,N.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]})},{id:"twitter",name:"X (Twitter)",enabled:!0,icon:(0,N.jsxs)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"X (Twitter)"}),(0,N.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})]})}],signupCallbackUrl:t="/signup/oauth",signinCallbackUrl:r="/signin/oauth-restore",showProviderSelection:n=!0,showPasswordEntry:i=!0,allowProviderSwitch:a=!0,isModal:o=!1,isOpen:s=!0,onClose:l,onProviderSelected:c,onPasswordValidated:u,onRestoreSuccess:d,onRestoreError:p,onFlowComplete:h,className:m="",title:f="Restore from Cloud Backup",subtitle:g="Sign in with your linked account to restore your wallet",mockOAuthResponse:y}){let[v,b]=(0,R.useState)("provider"),[w,x]=(0,R.useState)(""),[C,k]=(0,R.useState)(""),[S,E]=(0,R.useState)(""),[j,A]=(0,R.useState)(""),P=aJ(),{isLoading:T}=P,I=(0,R.useMemo)(()=>P.restoreFromBackup||(async()=>({success:!1,error:"restoreFromBackup not available in this context"})),[P]),_=(0,R.useMemo)(()=>P.validatePassword||(async()=>!1),[P]),D=(0,R.useCallback)(async e=>{try{if(E(""),x(e),c?.(e),y&&y.provider===e){A(y.encryptedBackup),b("password");return}b("processing");let n="provider"===v?r:t,i=`/api/auth/signin/${e}?callbackUrl=${encodeURIComponent(n)}`;window.location.href=i}catch(t){let e=t instanceof Error?t.message:"Failed to start OAuth flow";E(e),b("error"),p?.(e)}},[v,r,t,y,c,p]),L=(0,R.useCallback)(async()=>{if(!C.trim()||!j)return void E("Password is required");try{if(E(""),b("processing"),!await _(j,C))throw Error("Invalid password. Please check your password and try again.");u?.(C);let e=await I(j,C);if(e.success&&"idKey"in e&&e.idKey)b("success"),d?.(e.idKey),setTimeout(()=>{h?.(),l?.()},2e3);else throw Error(e.error||"Failed to restore backup")}catch(t){let e=t instanceof Error?t.message:"Failed to restore backup";E(e),b("error"),p?.(e)}},[C,j,_,I,u,d,p,h,l]),O=(0,R.useCallback)(()=>{b("provider"),x(""),k(""),E(""),A("")},[]),M=(0,R.useCallback)(()=>{w&&a?b("password"):(b("provider"),x("")),k(""),E("")},[w,a]),B=()=>{switch(v){case"provider":if(!n)return(0,N.jsx)(n0,{justify:"center",children:(0,N.jsx)(aH,{color:"gray",align:"center",children:"Provider selection disabled"})});return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:f}),(0,N.jsx)(aH,{color:"gray",align:"center",size:"2",children:g})]}),(0,N.jsx)(p7,{providers:e,action:"signin",onProviderClick:D,loading:T})]});case"password":if(!i)return(0,N.jsx)(n0,{justify:"center",children:(0,N.jsx)(aH,{color:"gray",align:"center",children:"Password entry disabled"})});return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Enter Your Password"}),(0,N.jsx)(aH,{color:"gray",align:"center",size:"2",children:"Enter the password you used to encrypt your wallet backup"}),w&&a&&(0,N.jsxs)(n8,{variant:"ghost",size:"2",color:"blue",onClick:O,style:{marginTop:"var(--space-2)"},children:["Switch Provider (",w,")"]})]}),(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(ov,{onKeyDown:e=>"Enter"===e.key&&!T&&C.trim()&&L(),children:(0,N.jsx)(ss,{value:C,onChange:k,placeholder:"Enter your wallet password",disabled:T,autoFocus:!0})}),S&&(0,N.jsx)(se,{error:S}),(0,N.jsx)(o3,{onClick:L,loading:T,disabled:!C.trim(),style:{width:"100%"},children:"Restore Wallet"})]})]});case"processing":return(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"4",children:[(0,N.jsx)(n2,{loading:!0,size:"3"}),(0,N.jsx)(aB,{size:"5",align:"center",children:w?"Restoring Wallet...":"Connecting to Provider..."}),(0,N.jsx)(aH,{color:"gray",align:"center",size:"2",children:w?"Decrypting and restoring your wallet backup":"Please complete the sign-in process in the popup window"})]});case"success":return(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"4",children:[(0,N.jsx)(ov,{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"var(--green-9)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"white",viewBox:"0 0 24 24","aria-label":"Success",children:[(0,N.jsx)("title",{children:"Success"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})]})}),(0,N.jsx)(aB,{size:"5",align:"center",children:"Wallet Restored!"}),(0,N.jsx)(aH,{color:"gray",align:"center",size:"2",children:"Your wallet has been successfully restored from your cloud backup."})]});case"error":return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"4",children:[(0,N.jsx)(ov,{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"var(--red-9)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"white",viewBox:"0 0 24 24","aria-label":"Error",children:[(0,N.jsx)("title",{children:"Error"}),(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})]})}),(0,N.jsx)(aB,{size:"5",align:"center",children:"Restore Failed"})]}),(0,N.jsx)(se,{error:S}),(0,N.jsxs)(n0,{direction:"column",gap:"3",children:[(0,N.jsx)(o3,{onClick:M,loading:!1,style:{width:"100%"},variant:"soft",children:"Try Again"}),l&&(0,N.jsx)(n8,{variant:"ghost",size:"3",onClick:l,style:{width:"100%"},children:"Cancel"})]})]});default:return null}};return o?(0,N.jsx)(o2,{isOpen:s,onClose:l||(()=>{}),className:"max-w-md",children:(0,N.jsx)(ov,{style:{padding:"var(--space-6)"},className:m,children:B()})}):(0,N.jsx)(ov,{className:m,style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,N.jsx)(ov,{style:{width:"100%",maxWidth:"28rem",padding:"var(--space-4)"},children:B()})})}ht.displayName="Container";var o8=o8;function ha({onLinkGenerated:e,onError:t}){let r=eI(),[n,i]=(0,R.useState)(null),[a,o]=(0,R.useState)(null),[s,l]=(0,R.useState)(null),[c,u]=(0,R.useState)(!1),[d,p]=(0,R.useState)(null),[h,m]=(0,R.useState)(0),[f,g]=(0,R.useState)(!1),y=(0,R.useCallback)(e=>{let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`},[]),v=(0,R.useCallback)(async()=>{u(!0),p(null);let n=null;try{let t={url:`${window.location.origin}/device-link/mock-token-${Date.now()}`,token:`token-${Date.now().toString().slice(-8)}`,expiresIn:600};o(t.url),l(t.token),m(t.expiresIn),e?.(t.url,t.token);let r=`QR Code would be generated here for: ${t.url}`;i(r),n=setInterval(()=>{m(e=>e<=1?(n&&clearInterval(n),i(null),o(null),l(null),0):e-1)},1e3)}catch(n){let e=n instanceof Error?n.message:r.errorDeviceLinkFailed;p(e),t?.(e)}finally{u(!1)}return()=>{n&&clearInterval(n)}},[e,t,r.errorDeviceLinkFailed]),b=(0,R.useCallback)(async()=>{if(a)try{await navigator.clipboard.writeText(a),g(!0),setTimeout(()=>g(!1),2e3)}catch(e){console.error("Failed to copy to clipboard:",e)}},[a]),w=(0,R.useCallback)(()=>{i(null),o(null),l(null),m(0),p(null)},[]);return(0,R.useEffect)(()=>()=>{m(0)},[]),(0,N.jsx)(of,{variant:"surface",size:"3",children:(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"4",align:"center",children:r.deviceLinkTitle}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:r.deviceLinkSubtitle})]}),d&&(0,N.jsx)(se,{error:d}),n?(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsx)(n0,{direction:"column",gap:"2",children:r.deviceLinkInstructions.map((e,t)=>(0,N.jsxs)(n0,{align:"center",gap:"2",children:[(0,N.jsxs)(aH,{size:"1",weight:"bold",color:"orange",children:[t+1,"."]}),(0,N.jsx)(aH,{size:"2",color:"gray",children:e})]},t))}),(0,N.jsx)(of,{variant:"classic",size:"2",children:(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"3",style:{padding:"var(--space-4)"},children:[a?(0,N.jsx)(sl,{data:a,size:200}):(0,N.jsx)(of,{variant:"surface",style:{width:cq,height:cq,border:"2px dashed var(--gray-7)"},children:(0,N.jsx)(n0,{align:"center",justify:"center",height:"100%",children:(0,N.jsx)(aH,{size:"1",color:"gray",align:"center",children:"Generating..."})})}),h>0&&(0,N.jsxs)(n0,{align:"center",gap:"2",children:[(0,N.jsx)(aH,{size:"2",color:"orange",children:r.deviceLinkExpires}),(0,N.jsx)(ud,{variant:"soft",color:"orange",children:y(h)})]})]})}),a&&(0,N.jsx)(of,{variant:"surface",size:"2",children:(0,N.jsxs)(n0,{direction:"column",gap:"3",children:[(0,N.jsx)(aH,{size:"1",color:"gray",children:"Or visit manually:"}),(0,N.jsx)(ud,{variant:"soft",size:"1",style:{wordBreak:"break-all",padding:"var(--space-2)"},children:a}),(0,N.jsxs)(n0,{justify:"between",align:"center",children:[s&&(0,N.jsxs)(aH,{size:"1",color:"gray",children:["Token: ",s.substring(0,8),"..."]}),(0,N.jsx)(n8,{size:"1",variant:"ghost",onClick:b,color:f?"green":"gray",children:f?r.deviceLinkCopied:r.deviceLinkCopyButton})]})]})}),(0,N.jsxs)(n0,{gap:"3",justify:"center",children:[(0,N.jsx)(n8,{variant:"ghost",onClick:w,children:r.cancel}),(0,N.jsx)(n8,{variant:"ghost",onClick:v,disabled:c,children:r.deviceLinkNewCode})]}),(0,N.jsx)(o8.Root,{size:"1",color:"amber",children:(0,N.jsx)(o8.Text,{children:"The QR code contains a one-time link that expires in 10 minutes. You'll need to enter your encryption password on the new device."})})]}):(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"4",children:[(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Generate a QR code to quickly sign in on another device"}),(0,N.jsx)(o3,{onClick:v,loading:c,size:"3",variant:"solid",color:"orange",children:r.deviceLinkGenerateButton})]})]})})}function ho({flowType:e="unified",initialStep:t="initial",enableOAuth:r=!0,enableDeviceLink:n=!0,enableFileImport:i=!0,enableLocalBackup:a=!0,enableProfileSync:o=!1,maxDiscoveryAttempts:s=50,oauthProviders:l=[{id:"google",name:"Google",icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"Google"}),(0,N.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,N.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,N.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,N.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})},{id:"github",name:"GitHub",icon:(0,N.jsxs)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"GitHub"}),(0,N.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]})},{id:"twitter",name:"X (Twitter)",icon:(0,N.jsxs)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"X (Twitter)"}),(0,N.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})]})},{id:"handcash",name:"HandCash",icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"HandCash"}),(0,N.jsx)("defs",{children:(0,N.jsxs)("linearGradient",{id:"handcash-gradient-auth",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,N.jsx)("stop",{offset:"0%",stopColor:"#38CB7C"}),(0,N.jsx)("stop",{offset:"100%",stopColor:"#2FA85C"})]})}),(0,N.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"url(#handcash-gradient-auth)"}),(0,N.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"HC"})]})},{id:"yours",name:"Yours Wallet",icon:(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"Yours Wallet"}),(0,N.jsx)("path",{fill:"#6B46C1",d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"}),(0,N.jsx)("path",{fill:"white",d:"M12 5.5l7 3.5v8c0 3.88-2.69 7.52-6.3 8.42-.23.06-.47.06-.7.01C8.39 24.53 5.7 20.88 5.7 17V9l6.3-3.5"})]})}],onSuccess:c,onError:u,onFlowChange:d,onStepChange:p,title:h,subtitle:m,showHeader:f=!0,showFooter:g=!0,className:y="",layout:v="centered",customLayout:b,autoDetectFlow:w=!0,persistFlow:x=!1,debug:C=!1}){let k=aJ(),S=pE({autoSync:!1,maxDiscoveryAttempts:s}),{user:E,isAuthenticated:j,isLoading:A,hasLocalBackup:P,mode:T,currentStep:I,setMode:_,setStep:D,signIn:L,signUp:O}=k,[M,B]=(0,R.useState)({currentFlow:e,currentStep:t,error:null}),[z,H]=(0,R.useState)(""),F=(0,R.useCallback)(e=>{B(t=>({...t,...e}))},[]),K=(0,R.useCallback)(e=>{F({currentFlow:e,currentStep:"initial",error:null}),d?.(e),"signin"===e||"oauth-restore"===e?_?.("signin"):"signup"===e&&_?.("signup")},[F,d,_]),U=(0,R.useCallback)(e=>{F({currentStep:e}),D?.(e),p?.(e)},[F,D,p]);(0,R.useEffect)(()=>{w&&"unified"===e&&!x&&(P?K("signin"):K("signup"))},[w,e,P,x,K]),(0,R.useEffect)(()=>{if(j&&E&&(c?.(E),o&&!S.isScanning)){let e=setTimeout(()=>{S.syncProfiles()},1e3);return()=>clearTimeout(e)}},[j,E,c,o,S]),(0,R.useCallback)((e,t,r)=>{F({oauthConflict:{provider:e,existingBapId:t,currentBapId:r}})},[F]);let W=(0,R.useCallback)(()=>{F({oauthConflict:void 0})},[F]);(0,R.useCallback)(e=>{F({importedBackup:e}),U("password")},[F,U]),(0,R.useCallback)((e,t)=>{F({oauthBackup:{provider:e,encryptedBackup:t}}),U("password")},[F,U]);let $=()=>{let{currentFlow:e,currentStep:t,oauthBackup:n}=M;switch(e){case"unified":return(0,N.jsx)(n0,{direction:"column",gap:"6",children:P?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(pj,{mode:"signin",onSuccess:e=>c?.(e)}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",style:{marginTop:"var(--space-4)"},children:[(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>K("signup"),children:"Don't have an account? Sign up"}),i&&(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>K("import"),children:"Import backup file"})]}),r&&(0,N.jsxs)(n0,{direction:"column",gap:"4",style:{marginTop:"var(--space-6)"},children:[(0,N.jsxs)(n0,{align:"center",gap:"3",children:[(0,N.jsx)(aZ,{size:"4",style:{flex:1}}),(0,N.jsx)(aH,{size:"2",color:"gray",children:"Or continue with"}),(0,N.jsx)(aZ,{size:"4",style:{flex:1}})]}),(0,N.jsx)(n0,{direction:"column",gap:"3",children:l.map(e=>(0,N.jsx)(n8,{variant:"outline",size:"3",onClick:()=>{let t=`/api/auth/signin/${e.id}?callbackUrl=/dashboard`;"undefined"!=typeof window?window.location.href=t:console.warn("OAuth redirect attempted during SSR")},style:{width:"100%"},children:(0,N.jsxs)(n0,{align:"center",gap:"3",style:{width:"100%",justifyContent:"center"},children:[(0,N.jsx)(ov,{style:{flexShrink:0,width:"20px",height:"20px"},children:e.icon}),(0,N.jsx)(aH,{size:"3",children:e.name})]})},e.id))})]})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(p6,{onSuccess:e=>c?.(e),onError:e=>u?.(e.message)}),(0,N.jsx)(n0,{justify:"center",style:{marginTop:"var(--space-4)"},children:(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>K("signin"),children:"Already have an account? Sign in"})})]})});case"signin":return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsx)(pj,{mode:"signin",onSuccess:e=>c?.(e)}),(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",style:{marginTop:"var(--space-4)"},children:[(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>K("signup"),children:"Don't have an account? Sign up"}),i&&(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>K("import"),children:"Import backup file"})]}),r&&(0,N.jsx)(n0,{justify:"center",children:(0,N.jsx)(n8,{variant:"ghost",size:"2",color:"blue",onClick:()=>K("oauth-restore"),children:"Restore from cloud backup"})})]});case"signup":return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsx)(p6,{onSuccess:e=>c?.(e),onError:e=>u?.(e.message)}),(0,N.jsx)(n0,{justify:"center",style:{marginTop:"var(--space-4)"},children:(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>K("signin"),children:"Already have an account? Sign in"})})]});case"oauth-restore":return(0,N.jsx)(hi,{providers:l,showProviderSelection:!n,showPasswordEntry:!!n,onRestoreSuccess:e=>{c?.({id:e,address:""})},onRestoreError:e=>{F({error:e}),u?.(e)},mockOAuthResponse:n?{provider:n.provider,encryptedBackup:n.encryptedBackup,idKey:"restored-id-key"}:void 0});case"import":return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsxs)(n0,{direction:"column",align:"center",gap:"2",children:[(0,N.jsx)(aB,{size:"5",align:"center",children:"Import Backup"}),(0,N.jsx)(aH,{size:"2",color:"gray",align:"center",children:"Import your wallet backup file"})]}),"password"!==t?(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsx)(p4,{onImport:async e=>{let t=await k.importBackup(e);t.success?F({currentStep:"password"}):F({error:t.error?.message||"Failed to import backup"})},showLabel:!1}),(0,N.jsx)(n8,{variant:"ghost",size:"3",onClick:()=>K("signin"),style:{width:"100%"},children:"Back to sign in"})]}):(0,N.jsxs)(n0,{direction:"column",gap:"4",children:[(0,N.jsx)(aH,{align:"center",color:"gray",children:"Backup file imported. Please enter your password to decrypt it."}),(0,N.jsx)(ss,{value:z,onChange:H,placeholder:"Enter your backup password",autoFocus:!0}),M.error&&(0,N.jsx)(se,{error:M.error}),(0,N.jsxs)(n0,{direction:"column",gap:"2",children:[(0,N.jsx)(o3,{onClick:async()=>{try{let e=await k.signIn(z);e.success&&k.user?(c?.(k.user),o&&!S.isScanning&&setTimeout(()=>{S.syncProfiles()},1e3)):F({error:e.error?.message||"Invalid password or corrupted backup"})}catch(e){F({error:e instanceof Error?e.message:"Failed to decrypt backup"})}},loading:A,disabled:!z,size:"3",style:{width:"100%"},children:"Decrypt Backup"}),(0,N.jsx)(n8,{variant:"ghost",size:"3",onClick:()=>{F({importedBackup:void 0}),U("initial")},style:{width:"100%"},children:"Cancel"})]})]})]});case"device-link":return(0,N.jsxs)(n0,{direction:"column",gap:"6",children:[(0,N.jsx)(ha,{onLinkGenerated:(e,t)=>{console.log("Device link generated:",{url:e,token:t})},onError:e=>{F({error:e}),u?.(e)}}),(0,N.jsx)(n0,{justify:"center",children:(0,N.jsx)(n8,{variant:"ghost",size:"2",onClick:()=>K("signin"),children:"Back to sign in"})})]});default:return null}},V=(0,R.useMemo)(()=>b||("centered"===v?hn:"full"===v?hr:R.default.Fragment),[b,v]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(V,{..."full"===v?{title:h,subtitle:m}:{},children:(0,N.jsxs)(ov,{className:y,children:[f&&"unified"!==M.currentFlow&&(0,N.jsx)(n0,{justify:"center",style:{marginBottom:"var(--space-6)"},children:(0,N.jsxs)(n0,{align:"center",gap:"4",children:[(0,N.jsx)(n8,{variant:"signin"===M.currentFlow?"solid":"ghost",size:"2",onClick:()=>K("signin"),children:"Sign In"}),(0,N.jsx)(aH,{color:"gray",children:"|"}),(0,N.jsx)(n8,{variant:"signup"===M.currentFlow?"solid":"ghost",size:"2",onClick:()=>K("signup"),children:"Sign Up"}),r&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(aH,{color:"gray",children:"|"}),(0,N.jsx)(n8,{variant:"oauth-restore"===M.currentFlow?"solid":"ghost",size:"2",onClick:()=>K("oauth-restore"),children:"Restore"})]}),n&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(aH,{color:"gray",children:"|"}),(0,N.jsx)(n8,{variant:"device-link"===M.currentFlow?"solid":"ghost",size:"2",onClick:()=>K("device-link"),children:"Link Device"})]})]})}),M.error&&"import"!==M.currentFlow&&(0,N.jsx)(ov,{style:{marginBottom:"var(--space-4)"},children:(0,N.jsx)(se,{error:M.error})}),"centered"===v?(0,N.jsx)(n0,{justify:"center",style:{width:"100%"},children:(0,N.jsx)(ov,{style:{width:"100%",maxWidth:"400px"},children:(0,N.jsx)(of,{size:"3",variant:"classic",children:(0,N.jsx)(n0,{direction:"column",gap:"6",children:$()})})})}):$(),g&&(0,N.jsx)(n0,{justify:"center",style:{marginTop:"var(--space-8)"},children:(0,N.jsxs)(aH,{size:"2",color:"gray",align:"center",children:["Your keys, your Bitcoin.",a&&" Encrypted locally.",r&&" Backed up securely."]})}),C&&(0,N.jsx)(of,{variant:"surface",size:"2",style:{marginTop:"var(--space-8)"},children:(0,N.jsxs)(n0,{direction:"column",gap:"1",children:[(0,N.jsxs)(aH,{size:"1",style:{fontFamily:"monospace"},children:["Flow: ",M.currentFlow]}),(0,N.jsxs)(aH,{size:"1",style:{fontFamily:"monospace"},children:["Step: ",M.currentStep]}),(0,N.jsxs)(aH,{size:"1",style:{fontFamily:"monospace"},children:["Auth Mode: ",T]}),(0,N.jsxs)(aH,{size:"1",style:{fontFamily:"monospace"},children:["Auth Step: ",I]}),(0,N.jsxs)(aH,{size:"1",style:{fontFamily:"monospace"},children:["Has Backup: ",P?"Yes":"No"]}),(0,N.jsxs)(aH,{size:"1",style:{fontFamily:"monospace"},children:["Authenticated: ",j?"Yes":"No"]})]})})]})}),M.oauthConflict&&(0,N.jsx)(p8,{isOpen:!0,onClose:W,provider:M.oauthConflict.provider,existingBapId:M.oauthConflict.existingBapId,currentBapId:M.oauthConflict.currentBapId,onTransferComplete:W,onSwitchAccount:()=>{W(),K("signin")}})]})}e.s(["AuthFlowOrchestrator",()=>ho],86996);var o8=o8,hs=eM,hl=e.i(42727),hc=eB,hu=["Enter"," "],hd=["ArrowUp","PageDown","End"],hp=["ArrowDown","PageUp","Home",...hd],hh={ltr:[...hu,"ArrowRight"],rtl:[...hu,"ArrowLeft"]},hm={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hf="Menu",[hg,hy,hv]=(0,uH.createCollection)(hf),[hb,hw]=(0,eF.createContextScope)(hf,[hv,t1,hl.createRovingFocusGroupScope]),hx=t1(),hC=(0,hl.createRovingFocusGroupScope)(),[hk,hS]=hb(hf),[hE,hj]=hb(hf),hA=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,s=hx(t),[l,c]=R.useState(null),u=R.useRef(!1),d=(0,eU.useCallbackRef)(a),p=(0,hs.useDirection)(i);return R.useEffect(()=>{let e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,N.jsx)(t4,{...s,children:(0,N.jsx)(hk,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:c,children:(0,N.jsx)(hE,{scope:t,onClose:R.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:o,children:n})})})};hA.displayName=hf;var hP=R.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,i=hx(r);return(0,N.jsx)(t6,{...i,...n,ref:t})});hP.displayName="MenuAnchor";var hN="MenuPortal",[hR,hT]=hb(hN,{forceMount:void 0}),hI=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=hS(hN,t);return(0,N.jsx)(hR,{scope:t,forceMount:r,children:(0,N.jsx)(rl.Presence,{present:r||a.open,children:(0,N.jsx)(rs,{asChild:!0,container:i,children:n})})})};hI.displayName=hN;var h_="MenuContent",[hD,hL]=hb(h_),hO=R.forwardRef((e,t)=>{let r=hT(h_,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=hS(h_,e.__scopeMenu),o=hj(h_,e.__scopeMenu);return(0,N.jsx)(hg.Provider,{scope:e.__scopeMenu,children:(0,N.jsx)(rl.Presence,{present:n||a.open,children:(0,N.jsx)(hg.Slot,{scope:e.__scopeMenu,children:o.modal?(0,N.jsx)(hM,{...i,ref:t}):(0,N.jsx)(hB,{...i,ref:t})})})})}),hM=R.forwardRef((e,t)=>{let r=hS(h_,e.__scopeMenu),n=R.useRef(null),i=(0,eH.useComposedRefs)(t,n);return R.useEffect(()=>{let e=n.current;if(e)return i5(e)},[]),(0,N.jsx)(hH,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:(0,ez.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),hB=R.forwardRef((e,t)=>{let r=hS(h_,e.__scopeMenu);return(0,N.jsx)(hH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),hz=(0,hc.createSlot)("MenuContent.ScrollLock"),hH=R.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:h,disableOutsideScroll:m,...f}=e,g=hS(h_,r),y=hj(h_,r),v=hx(r),b=hC(r),w=hy(r),[x,C]=R.useState(null),k=R.useRef(null),S=(0,eH.useComposedRefs)(t,k,g.onContentChange),E=R.useRef(0),j=R.useRef(""),A=R.useRef(0),P=R.useRef(null),T=R.useRef("right"),I=R.useRef(0),_=m?iZ:R.Fragment;R.useEffect(()=>()=>window.clearTimeout(E.current),[]),id();let D=R.useCallback(e=>{var t,r;return T.current===P.current?.side&&(t=e,!!(r=P.current?.area)&&function(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],l=o.x,c=o.y,u=s.x,d=s.y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(i=!i)}return i}({x:t.clientX,y:t.clientY},r))},[]);return(0,N.jsx)(hD,{scope:r,searchRef:j,onItemEnter:R.useCallback(e=>{D(e)&&e.preventDefault()},[D]),onItemLeave:R.useCallback(e=>{D(e)||(k.current?.focus(),C(null))},[D]),onTriggerLeave:R.useCallback(e=>{D(e)&&e.preventDefault()},[D]),pointerGraceTimerRef:A,onPointerGraceIntentChange:R.useCallback(e=>{P.current=e},[]),children:(0,N.jsx)(_,{...m?{as:hz,allowPinchZoom:!0}:void 0,children:(0,N.jsx)(ii,{asChild:!0,trapped:i,onMountAutoFocus:(0,ez.composeEventHandlers)(a,e=>{e.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,N.jsx)(eV,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:h,children:(0,N.jsx)(hl.Root,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:x,onCurrentTabStopIdChange:C,onEntryFocus:(0,ez.composeEventHandlers)(l,e=>{y.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,N.jsx)(re,{role:"menu","aria-orientation":"vertical","data-state":mi(g.open),"data-radix-menu-content":"",dir:y.dir,...v,...f,ref:S,style:{outline:"none",...f.style},onKeyDown:(0,ez.composeEventHandlers)(f.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var i;let t,a,o,s,l,c;"Tab"===e.key&&e.preventDefault(),!r&&n&&(i=e.key,t=j.current+i,a=w().filter(e=>!e.disabled),o=document.activeElement,s=a.find(e=>e.ref.current===o)?.textValue,l=function(e,t,r){var n;let i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1,o=(n=Math.max(a,0),e.map((t,r)=>e[(n+r)%e.length]));1===i.length&&(o=o.filter(e=>e!==r));let s=o.find(e=>e.toLowerCase().startsWith(i.toLowerCase()));return s!==r?s:void 0}(a.map(e=>e.textValue),t,s),c=a.find(e=>e.textValue===l)?.ref.current,function e(t){j.current=t,window.clearTimeout(E.current),""!==t&&(E.current=window.setTimeout(()=>e(""),1e3))}(t),c&&setTimeout(()=>c.focus()))}let a=k.current;if(e.target!==a||!hp.includes(e.key))return;e.preventDefault();let o=w().filter(e=>!e.disabled).map(e=>e.ref.current);hd.includes(e.key)&&o.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(o)}),onBlur:(0,ez.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),j.current="")}),onPointerMove:(0,ez.composeEventHandlers)(e.onPointerMove,ms(e=>{let t=e.target,r=I.current!==e.clientX;e.currentTarget.contains(t)&&r&&(T.current=e.clientX>I.current?"right":"left",I.current=e.clientX)}))})})})})})})});hO.displayName=h_;var hF=R.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,N.jsx)(eK.Primitive.div,{role:"group",...n,ref:t})});hF.displayName="MenuGroup";var hK=R.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,N.jsx)(eK.Primitive.div,{...n,ref:t})});hK.displayName="MenuLabel";var hU="MenuItem",hW="menu.itemSelect",h$=R.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...i}=e,a=R.useRef(null),o=hj(hU,e.__scopeMenu),s=hL(hU,e.__scopeMenu),l=(0,eH.useComposedRefs)(t,a),c=R.useRef(!1);return(0,N.jsx)(hV,{...i,ref:l,disabled:r,onClick:(0,ez.composeEventHandlers)(e.onClick,()=>{let e=a.current;if(!r&&e){let t=new CustomEvent(hW,{bubbles:!0,cancelable:!0});e.addEventListener(hW,e=>n?.(e),{once:!0}),(0,eK.dispatchDiscreteCustomEvent)(e,t),t.defaultPrevented?c.current=!1:o.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:(0,ez.composeEventHandlers)(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:(0,ez.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==s.searchRef.current;r||t&&" "===e.key||hu.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});h$.displayName=hU;var hV=R.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,o=hL(hU,r),s=hC(r),l=R.useRef(null),c=(0,eH.useComposedRefs)(t,l),[u,d]=R.useState(!1),[p,h]=R.useState("");return R.useEffect(()=>{let e=l.current;e&&h((e.textContent??"").trim())},[a.children]),(0,N.jsx)(hg.ItemSlot,{scope:r,disabled:n,textValue:i??p,children:(0,N.jsx)(hl.Item,{asChild:!0,...s,focusable:!n,children:(0,N.jsx)(eK.Primitive.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:(0,ez.composeEventHandlers)(e.onPointerMove,ms(e=>{n?o.onItemLeave(e):(o.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,ez.composeEventHandlers)(e.onPointerLeave,ms(e=>o.onItemLeave(e))),onFocus:(0,ez.composeEventHandlers)(e.onFocus,()=>d(!0)),onBlur:(0,ez.composeEventHandlers)(e.onBlur,()=>d(!1))})})})}),hG=R.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...i}=e;return(0,N.jsx)(h1,{scope:e.__scopeMenu,checked:r,children:(0,N.jsx)(h$,{role:"menuitemcheckbox","aria-checked":ma(r)?"mixed":r,...i,ref:t,"data-state":mo(r),onSelect:(0,ez.composeEventHandlers)(i.onSelect,()=>n?.(!!ma(r)||!r),{checkForDefaultPrevented:!1})})})});hG.displayName="MenuCheckboxItem";var hq="MenuRadioGroup",[hQ,hJ]=hb(hq,{value:void 0,onValueChange:()=>{}}),hY=R.forwardRef((e,t)=>{let{value:r,onValueChange:n,...i}=e,a=(0,eU.useCallbackRef)(n);return(0,N.jsx)(hQ,{scope:e.__scopeMenu,value:r,onValueChange:a,children:(0,N.jsx)(hF,{...i,ref:t})})});hY.displayName=hq;var hZ="MenuRadioItem",hX=R.forwardRef((e,t)=>{let{value:r,...n}=e,i=hJ(hZ,e.__scopeMenu),a=r===i.value;return(0,N.jsx)(h1,{scope:e.__scopeMenu,checked:a,children:(0,N.jsx)(h$,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":mo(a),onSelect:(0,ez.composeEventHandlers)(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});hX.displayName=hZ;var h0="MenuItemIndicator",[h1,h2]=hb(h0,{checked:!1}),h3=R.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...i}=e,a=h2(h0,r);return(0,N.jsx)(rl.Presence,{present:n||ma(a.checked)||!0===a.checked,children:(0,N.jsx)(eK.Primitive.span,{...i,ref:t,"data-state":mo(a.checked)})})});h3.displayName=h0;var h4=R.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,N.jsx)(eK.Primitive.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});h4.displayName="MenuSeparator";var h5=R.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,i=hx(r);return(0,N.jsx)(rn,{...i,...n,ref:t})});h5.displayName="MenuArrow";var h6="MenuSub",[h9,h7]=hb(h6),h8=e=>{let{__scopeMenu:t,children:r,open:n=!1,onOpenChange:i}=e,a=hS(h6,t),o=hx(t),[s,l]=R.useState(null),[c,u]=R.useState(null),d=(0,eU.useCallbackRef)(i);return R.useEffect(()=>(!1===a.open&&d(!1),()=>d(!1)),[a.open,d]),(0,N.jsx)(t4,{...o,children:(0,N.jsx)(hk,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:(0,N.jsx)(h9,{scope:t,contentId:(0,eQ.useId)(),triggerId:(0,eQ.useId)(),trigger:s,onTriggerChange:l,children:r})})})};h8.displayName=h6;var me="MenuSubTrigger",mt=R.forwardRef((e,t)=>{let r=hS(me,e.__scopeMenu),n=hj(me,e.__scopeMenu),i=h7(me,e.__scopeMenu),a=hL(me,e.__scopeMenu),o=R.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,c={__scopeMenu:e.__scopeMenu},u=R.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return R.useEffect(()=>u,[u]),R.useEffect(()=>{let e=s.current;return()=>{window.clearTimeout(e),l(null)}},[s,l]),(0,N.jsx)(hP,{asChild:!0,...c,children:(0,N.jsx)(hV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":mi(r.open),...e,ref:(0,eH.composeRefs)(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:(0,ez.composeEventHandlers)(e.onPointerMove,ms(t=>{a.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||o.current||(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100)))})),onPointerLeave:(0,ez.composeEventHandlers)(e.onPointerLeave,ms(e=>{u();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,i="right"===n,o=t[i?"left":"right"],l=t[i?"right":"left"];a.onPointerGraceIntentChange({area:[{x:e.clientX+(i?-5:5),y:e.clientY},{x:o,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:o,y:t.bottom}],side:n}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:(0,ez.composeEventHandlers)(e.onKeyDown,t=>{let i=""!==a.searchRef.current;e.disabled||i&&" "===t.key||hh[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});mt.displayName=me;var mr="MenuSubContent",mn=R.forwardRef((e,t)=>{let r=hT(h_,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=hS(h_,e.__scopeMenu),o=hj(h_,e.__scopeMenu),s=h7(mr,e.__scopeMenu),l=R.useRef(null),c=(0,eH.useComposedRefs)(t,l);return(0,N.jsx)(hg.Provider,{scope:e.__scopeMenu,children:(0,N.jsx)(rl.Presence,{present:n||a.open,children:(0,N.jsx)(hg.Slot,{scope:e.__scopeMenu,children:(0,N.jsx)(hH,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,ez.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:(0,ez.composeEventHandlers)(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:(0,ez.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=hm[o.dir].includes(e.key);t&&r&&(a.onOpenChange(!1),s.trigger?.focus(),e.preventDefault())})})})})})});function mi(e){return e?"open":"closed"}function ma(e){return"indeterminate"===e}function mo(e){return ma(e)?"indeterminate":e?"checked":"unchecked"}function ms(e){return t=>"mouse"===t.pointerType?e(t):void 0}mn.displayName=mr;var ml="DropdownMenu",[mc,mu]=(0,eF.createContextScope)(ml,[hw]),md=hw(),[mp,mh]=mc(ml),mm=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,l=md(t),c=R.useRef(null),[u,d]=(0,ru.useControllableState)({prop:i,defaultProp:a??!1,onChange:o,caller:ml});return(0,N.jsx)(mp,{scope:t,triggerId:(0,eQ.useId)(),triggerRef:c,contentId:(0,eQ.useId)(),open:u,onOpenChange:d,onOpenToggle:R.useCallback(()=>d(e=>!e),[d]),modal:s,children:(0,N.jsx)(hA,{...l,open:u,onOpenChange:d,dir:n,modal:s,children:r})})};mm.displayName=ml;var mf="DropdownMenuTrigger",mg=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=mh(mf,r),o=md(r);return(0,N.jsx)(hP,{asChild:!0,...o,children:(0,N.jsx)(eK.Primitive.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:(0,eH.composeRefs)(t,a.triggerRef),onPointerDown:(0,ez.composeEventHandlers)(e.onPointerDown,e=>{!n&&0===e.button&&!1===e.ctrlKey&&(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:(0,ez.composeEventHandlers)(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});mg.displayName=mf;var my=e=>{let{__scopeDropdownMenu:t,...r}=e,n=md(t);return(0,N.jsx)(hI,{...n,...r})};my.displayName="DropdownMenuPortal";var mv="DropdownMenuContent",mb=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=mh(mv,r),a=md(r),o=R.useRef(!1);return(0,N.jsx)(hO,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:(0,ez.composeEventHandlers)(e.onCloseAutoFocus,e=>{o.current||i.triggerRef.current?.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:(0,ez.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!i.modal||n)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mb.displayName=mv;var mw=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(hF,{...i,...n,ref:t})});mw.displayName="DropdownMenuGroup";var mx=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(hK,{...i,...n,ref:t})});mx.displayName="DropdownMenuLabel";var mC=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(h$,{...i,...n,ref:t})});mC.displayName="DropdownMenuItem";var mk=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(hG,{...i,...n,ref:t})});mk.displayName="DropdownMenuCheckboxItem";var mS=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(hY,{...i,...n,ref:t})});mS.displayName="DropdownMenuRadioGroup";var mE=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(hX,{...i,...n,ref:t})});mE.displayName="DropdownMenuRadioItem";var mj=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(h3,{...i,...n,ref:t})});mj.displayName="DropdownMenuItemIndicator";var mA=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(h4,{...i,...n,ref:t})});mA.displayName="DropdownMenuSeparator";var mP=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(h5,{...i,...n,ref:t})});mP.displayName="DropdownMenuArrow";var mN=e=>{let{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:i,defaultOpen:a}=e,o=md(t),[s,l]=(0,ru.useControllableState)({prop:n,defaultProp:a??!1,onChange:i,caller:"DropdownMenuSub"});return(0,N.jsx)(h8,{...o,open:s,onOpenChange:l,children:r})},mR=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(mt,{...i,...n,ref:t})});mR.displayName="DropdownMenuSubTrigger";var mT=R.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,i=md(r);return(0,N.jsx)(mn,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mT.displayName="DropdownMenuSubContent",e.s(["Arrow",()=>mP,"CheckboxItem",()=>mk,"Content",()=>mb,"DropdownMenu",()=>mm,"DropdownMenuArrow",()=>mP,"DropdownMenuCheckboxItem",()=>mk,"DropdownMenuContent",()=>mb,"DropdownMenuGroup",()=>mw,"DropdownMenuItem",()=>mC,"DropdownMenuItemIndicator",()=>mj,"DropdownMenuLabel",()=>mx,"DropdownMenuPortal",()=>my,"DropdownMenuRadioGroup",()=>mS,"DropdownMenuRadioItem",()=>mE,"DropdownMenuSeparator",()=>mA,"DropdownMenuSub",()=>mN,"DropdownMenuSubContent",()=>mT,"DropdownMenuSubTrigger",()=>mR,"DropdownMenuTrigger",()=>mg,"Group",()=>mw,"Item",()=>mC,"ItemIndicator",()=>mj,"Label",()=>mx,"Portal",()=>my,"RadioGroup",()=>mS,"RadioItem",()=>mE,"Root",()=>mm,"Separator",()=>mA,"Sub",()=>mN,"SubContent",()=>mT,"SubTrigger",()=>mR,"Trigger",()=>mg,"createDropdownMenuScope",()=>mu],40666);var mI=e.i(40666),mI=mI,eB=eB,pc=pc;let m_={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"1",responsive:!0},...rV,scrollbars:{type:"enum",values:["vertical","horizontal","both"],default:"both"}},mD=nQ.m.values,mL=R.forwardRef((e,t)=>{let{rest:r,...n}=function(e){let{m:t,mx:r,my:n,mt:i,mr:a,mb:o,ml:s,...l}=e;return{m:t,mx:r,my:n,mt:i,mr:a,mb:o,ml:s,rest:l}}(e),[i,a]=function(e){let[t,r]=nO({className:"rt-r-m",customProperties:["--margin"],propValues:mD,value:e.m}),[n,i]=nO({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:mD,value:e.mx}),[a,o]=nO({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:mD,value:e.my}),[s,l]=nO({className:"rt-r-mt",customProperties:["--margin-top"],propValues:mD,value:e.mt}),[c,u]=nO({className:"rt-r-mr",customProperties:["--margin-right"],propValues:mD,value:e.mr}),[d,p]=nO({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:mD,value:e.mb}),[h,m]=nO({className:"rt-r-ml",customProperties:["--margin-left"],propValues:mD,value:e.ml});return[(0,eO.default)(t,n,a,s,c,d,h),nz(r,i,o,l,u,p,m)]}(n),{asChild:o,children:s,className:l,style:c,type:u,scrollHideDelay:d="scroll"!==u?0:void 0,dir:p,size:h=m_.size.default,radius:m=m_.radius.default,scrollbars:f=m_.scrollbars.default,...g}=r;return R.createElement(pc.Root,{type:u,scrollHideDelay:d,className:(0,eO.default)("rt-ScrollAreaRoot",i,l),style:nz(a,c),asChild:o},o0({asChild:o,children:s},e=>R.createElement(R.Fragment,null,R.createElement(pc.Viewport,{...g,ref:t,className:"rt-ScrollAreaViewport"},e),R.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),"vertical"!==f?R.createElement(pc.Scrollbar,{"data-radius":m,orientation:"horizontal",className:(0,eO.default)("rt-ScrollAreaScrollbar",nM({className:"rt-r-size",value:h,propValues:m_.size.values}))},R.createElement(pc.Thumb,{className:"rt-ScrollAreaThumb"})):null,"horizontal"!==f?R.createElement(pc.Scrollbar,{"data-radius":m,orientation:"vertical",className:(0,eO.default)("rt-ScrollAreaScrollbar",nM({className:"rt-r-size",value:h,propValues:m_.size.values}))},R.createElement(pc.Thumb,{className:"rt-ScrollAreaThumb"})):null,"both"===f?R.createElement(pc.Corner,{className:"rt-ScrollAreaCorner"}):null)))});mL.displayName="ScrollArea";let mO={size:{type:"enum",className:"rt-r-size",values:["1","2"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["solid","soft"],default:"solid"},...rU,...nT},mM={...rF,...rU,shortcut:{type:"string"}},mB={...rU,shortcut:{type:"string"}},mz={...rU},mH=e=>R.createElement(mI.Root,{...e});mH.displayName="DropdownMenu.Root";let mF=R.forwardRef(({children:e,...t},r)=>R.createElement(mI.Trigger,{...t,ref:r,asChild:!0},aF(e)));mF.displayName="DropdownMenu.Trigger";let mK=R.createContext({}),mU=R.forwardRef((e,t)=>{let r=rJ(),{size:n=mO.size.default,variant:i=mO.variant.default,highContrast:a=mO.highContrast.default}=e,{className:o,children:s,color:l,container:c,forceMount:u,...d}=nH(e,mO),p=l||r.accentColor;return R.createElement(mI.Portal,{container:c,forceMount:u},R.createElement(rY,{asChild:!0},R.createElement(mI.Content,{"data-accent-color":p,align:"start",sideOffset:4,collisionPadding:10,...d,asChild:!1,ref:t,className:(0,eO.default)("rt-PopperContent","rt-BaseMenuContent","rt-DropdownMenuContent",o)},R.createElement(mL,{type:"auto"},R.createElement("div",{className:(0,eO.default)("rt-BaseMenuViewport","rt-DropdownMenuViewport")},R.createElement(mK.Provider,{value:R.useMemo(()=>({size:n,variant:i,color:p,highContrast:a}),[n,i,p,a])},s))))))});mU.displayName="DropdownMenu.Content";let mW=R.forwardRef(({className:e,...t},r)=>R.createElement(mI.Label,{...t,asChild:!1,ref:r,className:(0,eO.default)("rt-BaseMenuLabel","rt-DropdownMenuLabel",e)}));mW.displayName="DropdownMenu.Label";let m$=R.forwardRef((e,t)=>{let{className:r,children:n,color:i=mM.color.default,shortcut:a,...o}=e;return R.createElement(mI.Item,{"data-accent-color":i,...o,ref:t,className:(0,eO.default)("rt-reset","rt-BaseMenuItem","rt-DropdownMenuItem",r)},R.createElement(eB.Slottable,null,n),a&&R.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},a))});m$.displayName="DropdownMenu.Item";let mV=R.forwardRef(({className:e,...t},r)=>R.createElement(mI.Group,{...t,asChild:!1,ref:r,className:(0,eO.default)("rt-BaseMenuGroup","rt-DropdownMenuGroup",e)}));mV.displayName="DropdownMenu.Group";let mG=R.forwardRef(({className:e,...t},r)=>R.createElement(mI.RadioGroup,{...t,asChild:!1,ref:r,className:(0,eO.default)("rt-BaseMenuRadioGroup","rt-DropdownMenuRadioGroup",e)}));mG.displayName="DropdownMenu.RadioGroup";let mq=R.forwardRef((e,t)=>{let{children:r,className:n,color:i=mz.color.default,...a}=e;return R.createElement(mI.RadioItem,{...a,asChild:!1,ref:t,"data-accent-color":i,className:(0,eO.default)("rt-BaseMenuItem","rt-BaseMenuRadioItem","rt-DropdownMenuItem","rt-DropdownMenuRadioItem",n)},r,R.createElement(mI.ItemIndicator,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},R.createElement(uI,{className:"rt-BaseMenuItemIndicatorIcon rt-DropdownMenuItemIndicatorIcon"})))});mq.displayName="DropdownMenu.RadioItem";let mQ=R.forwardRef((e,t)=>{let{children:r,className:n,shortcut:i,color:a=mB.color.default,...o}=e;return R.createElement(mI.CheckboxItem,{...o,asChild:!1,ref:t,"data-accent-color":a,className:(0,eO.default)("rt-BaseMenuItem","rt-BaseMenuCheckboxItem","rt-DropdownMenuItem","rt-DropdownMenuCheckboxItem",n)},r,R.createElement(mI.ItemIndicator,{className:"rt-BaseMenuItemIndicator rt-DropdownMenuItemIndicator"},R.createElement(uI,{className:"rt-BaseMenuItemIndicatorIcon rt-ContextMenuItemIndicatorIcon"})),i&&R.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},i))});mQ.displayName="DropdownMenu.CheckboxItem";let mJ=e=>R.createElement(mI.Sub,{...e});mJ.displayName="DropdownMenu.Sub";let mY=R.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return R.createElement(mI.SubTrigger,{...i,asChild:!1,ref:t,className:(0,eO.default)("rt-BaseMenuItem","rt-BaseMenuSubTrigger","rt-DropdownMenuItem","rt-DropdownMenuSubTrigger",r)},n,R.createElement("div",{className:"rt-BaseMenuShortcut rt-DropdownMenuShortcut"},R.createElement(uD,{className:"rt-BaseMenuSubTriggerIcon rt-DropdownMenuSubtriggerIcon"})))});mY.displayName="DropdownMenu.SubTrigger";let mZ=R.forwardRef((e,t)=>{let{size:r,variant:n,color:i,highContrast:a}=R.useContext(mK),{className:o,children:s,container:l,forceMount:c,...u}=nH({size:r,variant:n,color:i,highContrast:a,...e},mO);return R.createElement(mI.Portal,{container:l,forceMount:c},R.createElement(rY,{asChild:!0},R.createElement(mI.SubContent,{"data-accent-color":i,alignOffset:-(4*Number(r)),sideOffset:1,collisionPadding:10,...u,asChild:!1,ref:t,className:(0,eO.default)("rt-PopperContent","rt-BaseMenuContent","rt-BaseMenuSubContent","rt-DropdownMenuContent","rt-DropdownMenuSubContent",o)},R.createElement(mL,{type:"auto"},R.createElement("div",{className:(0,eO.default)("rt-BaseMenuViewport","rt-DropdownMenuViewport")},s)))))});mZ.displayName="DropdownMenu.SubContent";let mX=R.forwardRef(({className:e,...t},r)=>R.createElement(mI.Separator,{...t,asChild:!1,ref:r,className:(0,eO.default)("rt-BaseMenuSeparator","rt-DropdownMenuSeparator",e)}));mX.displayName="DropdownMenu.Separator",e.s(["CheckboxItem",()=>mQ,"Content",()=>mU,"Group",()=>mV,"Item",()=>m$,"Label",()=>mW,"RadioGroup",()=>mG,"RadioItem",()=>mq,"Root",()=>mH,"Separator",()=>mX,"Sub",()=>mJ,"SubContent",()=>mZ,"SubTrigger",()=>mY,"Trigger",()=>mF],63542),e.i(63542),e.s(["CheckboxItem",()=>mQ,"Content",()=>mU,"Group",()=>mV,"Item",()=>m$,"Label",()=>mW,"RadioGroup",()=>mG,"RadioItem",()=>mq,"Root",()=>mH,"Separator",()=>mX,"Sub",()=>mJ,"SubContent",()=>mZ,"SubTrigger",()=>mY,"Trigger",()=>mF,"TriggerIcon",()=>u_],635),e.i(635);var aq=aq;let m0={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","surface","soft"],default:"surface"},resize:{type:"enum",className:"rt-r-resize",values:["none","vertical","horizontal","both"],responsive:!0},...rU,...rV};R.forwardRef((e,t)=>{let{className:r,color:n,radius:i,style:a,...o}=nH(e,m0,nQ);return R.createElement("div",{"data-accent-color":n,"data-radius":i,className:(0,eO.default)("rt-TextAreaRoot",r),style:a},R.createElement("textarea",{className:"rt-reset rt-TextAreaInput",ref:t,...o}))}).displayName="TextArea";var so=so,m1=e.i(26209),m1=m1;let m2={size:{type:"enum",className:"rt-r-size",values:["1","2"],default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:["nowrap","wrap","wrap-reverse"],responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:["start","center","end"],responsive:!0},...rU,...nT},m3=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,nQ);return R.createElement(m1.Root,{...n,ref:t,className:(0,eO.default)("rt-TabsRoot",r)})});m3.displayName="Tabs.Root";let m4=R.forwardRef((e,t)=>{let{className:r,color:n,...i}=nH(e,m2,nQ);return R.createElement(m1.List,{"data-accent-color":n,...i,asChild:!1,ref:t,className:(0,eO.default)("rt-BaseTabList","rt-TabsList",r)})});m4.displayName="Tabs.List";let m5=R.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return R.createElement(m1.Trigger,{...i,asChild:!1,ref:t,className:(0,eO.default)("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",r)},R.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},n),R.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},n))});m5.displayName="Tabs.Trigger";let m6=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,nQ);return R.createElement(m1.Content,{...n,ref:t,className:(0,eO.default)("rt-TabsContent",r)})});m6.displayName="Tabs.Content",e.s(["Content",()=>m6,"List",()=>m4,"Root",()=>m3,"Trigger",()=>m5],94504),e.i(94504);var o8=o8,aq=aq,m9=eB,m7="Popover",[m8,fe]=(0,eF.createContextScope)(m7,[t1]),ft=t1(),[fr,fn]=m8(m7),fi=e=>{let{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=ft(t),l=R.useRef(null),[c,u]=R.useState(!1),[d,p]=(0,ru.useControllableState)({prop:n,defaultProp:i??!1,onChange:a,caller:m7});return(0,N.jsx)(t4,{...s,children:(0,N.jsx)(fr,{scope:t,contentId:(0,eQ.useId)(),triggerRef:l,open:d,onOpenChange:p,onOpenToggle:R.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:c,onCustomAnchorAdd:R.useCallback(()=>u(!0),[]),onCustomAnchorRemove:R.useCallback(()=>u(!1),[]),modal:o,children:r})})};fi.displayName=m7;var fa="PopoverAnchor",fo=R.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=fn(fa,r),a=ft(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return R.useEffect(()=>(o(),()=>s()),[o,s]),(0,N.jsx)(t6,{...a,...n,ref:t})});fo.displayName=fa;var fs="PopoverTrigger",fl=R.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=fn(fs,r),a=ft(r),o=(0,eH.useComposedRefs)(t,i.triggerRef),s=(0,N.jsx)(eK.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fC(i.open),...n,ref:o,onClick:(0,ez.composeEventHandlers)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:(0,N.jsx)(t6,{asChild:!0,...a,children:s})});fl.displayName=fs;var fc="PopoverPortal",[fu,fd]=m8(fc,{forceMount:void 0}),fp=e=>{let{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=fn(fc,t);return(0,N.jsx)(fu,{scope:t,forceMount:r,children:(0,N.jsx)(rl.Presence,{present:r||a.open,children:(0,N.jsx)(rs,{asChild:!0,container:i,children:n})})})};fp.displayName=fc;var fh="PopoverContent",fm=R.forwardRef((e,t)=>{let r=fd(fh,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=fn(fh,e.__scopePopover);return(0,N.jsx)(rl.Presence,{present:n||a.open,children:a.modal?(0,N.jsx)(fg,{...i,ref:t}):(0,N.jsx)(fy,{...i,ref:t})})});fm.displayName=fh;var ff=(0,m9.createSlot)("PopoverContent.RemoveScroll"),fg=R.forwardRef((e,t)=>{let r=fn(fh,e.__scopePopover),n=R.useRef(null),i=(0,eH.useComposedRefs)(t,n),a=R.useRef(!1);return R.useEffect(()=>{let e=n.current;if(e)return i5(e)},[]),(0,N.jsx)(iZ,{as:ff,allowPinchZoom:!0,children:(0,N.jsx)(fv,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,ez.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,ez.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;a.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,ez.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),fy=R.forwardRef((e,t)=>{let r=fn(fh,e.__scopePopover),n=R.useRef(!1),i=R.useRef(!1);return(0,N.jsx)(fv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),fv=R.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=e,p=fn(fh,r),h=ft(r);return id(),(0,N.jsx)(ii,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:(0,N.jsx)(eV,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:(0,N.jsx)(re,{"data-state":fC(p.open),role:"dialog",id:p.contentId,...h,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fb="PopoverClose",fw=R.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=fn(fb,r);return(0,N.jsx)(eK.Primitive.button,{type:"button",...n,ref:t,onClick:(0,ez.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});fw.displayName=fb;var fx=R.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=ft(r);return(0,N.jsx)(rn,{...i,...n,ref:t})});function fC(e){return e?"open":"closed"}fx.displayName="PopoverArrow",e.s(["Anchor",()=>fo,"Arrow",()=>fx,"Close",()=>fw,"Content",()=>fm,"Popover",()=>fi,"PopoverAnchor",()=>fo,"PopoverArrow",()=>fx,"PopoverClose",()=>fw,"PopoverContent",()=>fm,"PopoverPortal",()=>fp,"PopoverTrigger",()=>fl,"Portal",()=>fp,"Root",()=>fi,"Trigger",()=>fl,"createPopoverScope",()=>fe],78761);var fk=e.i(78761),fk=fk;let fS={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3","4"],default:"2",responsive:!0},width:nW.width,minWidth:nW.minWidth,maxWidth:{...nW.maxWidth,default:"480px"},...nU},fE=e=>R.createElement(fk.Root,{...e});fE.displayName="Popover.Root";let fj=R.forwardRef(({children:e,...t},r)=>R.createElement(fk.Trigger,{...t,ref:r,asChild:!0},aF(e)));fj.displayName="Popover.Trigger";let fA=R.forwardRef((e,t)=>{let{className:r,forceMount:n,container:i,...a}=nH(e,fS);return R.createElement(fk.Portal,{container:i,forceMount:n},R.createElement(rY,{asChild:!0},R.createElement(fk.Content,{align:"start",sideOffset:8,collisionPadding:10,...a,ref:t,className:(0,eO.default)("rt-PopperContent","rt-PopoverContent",r)})))});fA.displayName="Popover.Content";let fP=R.forwardRef(({children:e,...t},r)=>R.createElement(fk.Close,{...t,ref:r,asChild:!0},aF(e)));fP.displayName="Popover.Close";let fN=R.forwardRef(({children:e,...t},r)=>R.createElement(fk.Anchor,{...t,ref:r}));fN.displayName="Popover.Anchor",e.s(["Anchor",()=>fN,"Close",()=>fP,"Content",()=>fA,"Root",()=>fE,"Trigger",()=>fj],33635),e.i(33635);var aq=aq,eB=eB;let fR=parseFloat(R.version)>=19||"",fT={loading:{type:"boolean",default:!0},...nW,...nU};R.forwardRef((e,t)=>{let{children:r,className:n,loading:i,...a}=nH(e,fT,nQ);if(!i)return r;let o=R.isValidElement(r)?eB.Root:"span";return R.createElement(o,{ref:t,"aria-hidden":!0,className:(0,eO.default)("rt-Skeleton",n),"data-inline-skeleton":!R.isValidElement(r)||void 0,tabIndex:-1,inert:fR,...a},r)}).displayName="Skeleton";var o8=o8,o8=o8,so=so,o8=o8,so=so,p3=p3,o8=o8,so=so;(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"Google"}),(0,N.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,N.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,N.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,N.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,N.jsx)("title",{children:"GitHub"}),(0,N.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]}),(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,N.jsx)("title",{children:"X (Twitter)"}),(0,N.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})]}),(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"HandCash"}),(0,N.jsx)("defs",{children:(0,N.jsxs)("linearGradient",{id:"handcash-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,N.jsx)("stop",{offset:"0%",stopColor:"#38CB7C"}),(0,N.jsx)("stop",{offset:"100%",stopColor:"#2FA85C"})]})}),(0,N.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"url(#handcash-gradient)"}),(0,N.jsx)("text",{x:"12",y:"16",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:"HC"})]}),(0,N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[(0,N.jsx)("title",{children:"Yours Wallet"}),(0,N.jsx)("path",{fill:"#6B46C1",d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"}),(0,N.jsx)("path",{fill:"white",d:"M12 5.5l7 3.5v8c0 3.88-2.69 7.52-6.3 8.42-.23.06-.47.06-.7.01C8.39 24.53 5.7 20.88 5.7 17V9l6.3-3.5"})]}),e.i(7467),e.i(71317);var aq=aq,px=px;R.createContext((c=!1,{clearReset:()=>{c=!1},reset:()=>{c=!0},isReset:()=>c})),R.createContext(!1).Provider;(gk=gR||(gR={})).Day="24h",gk.Week="week",gk.Month="month",gk.Year="year",gk.All="all",e.i(23407),e.i(94546);var fI="HoverCard",[f_,fD]=(0,eF.createContextScope)(fI,[t1]),fL=t1(),[fO,fM]=f_(fI),fB=e=>{let{__scopeHoverCard:t,children:r,open:n,defaultOpen:i,onOpenChange:a,openDelay:o=700,closeDelay:s=300}=e,l=fL(t),c=R.useRef(0),u=R.useRef(0),d=R.useRef(!1),p=R.useRef(!1),[h,m]=(0,ru.useControllableState)({prop:n,defaultProp:i??!1,onChange:a,caller:fI}),f=R.useCallback(()=>{clearTimeout(u.current),c.current=window.setTimeout(()=>m(!0),o)},[o,m]),g=R.useCallback(()=>{clearTimeout(c.current),d.current||p.current||(u.current=window.setTimeout(()=>m(!1),s))},[s,m]),y=R.useCallback(()=>m(!1),[m]);return R.useEffect(()=>()=>{clearTimeout(c.current),clearTimeout(u.current)},[]),(0,N.jsx)(fO,{scope:t,open:h,onOpenChange:m,onOpen:f,onClose:g,onDismiss:y,hasSelectionRef:d,isPointerDownOnContentRef:p,children:(0,N.jsx)(t4,{...l,children:r})})};fB.displayName=fI;var fz="HoverCardTrigger",fH=R.forwardRef((e,t)=>{let{__scopeHoverCard:r,...n}=e,i=fM(fz,r),a=fL(r);return(0,N.jsx)(t6,{asChild:!0,...a,children:(0,N.jsx)(eK.Primitive.a,{"data-state":i.open?"open":"closed",...n,ref:t,onPointerEnter:(0,ez.composeEventHandlers)(e.onPointerEnter,fQ(i.onOpen)),onPointerLeave:(0,ez.composeEventHandlers)(e.onPointerLeave,fQ(i.onClose)),onFocus:(0,ez.composeEventHandlers)(e.onFocus,i.onOpen),onBlur:(0,ez.composeEventHandlers)(e.onBlur,i.onClose),onTouchStart:(0,ez.composeEventHandlers)(e.onTouchStart,e=>e.preventDefault())})})});fH.displayName=fz;var fF="HoverCardPortal",[fK,fU]=f_(fF,{forceMount:void 0}),fW=e=>{let{__scopeHoverCard:t,forceMount:r,children:n,container:i}=e,a=fM(fF,t);return(0,N.jsx)(fK,{scope:t,forceMount:r,children:(0,N.jsx)(rl.Presence,{present:r||a.open,children:(0,N.jsx)(rs,{asChild:!0,container:i,children:n})})})};fW.displayName=fF;var f$="HoverCardContent",fV=R.forwardRef((e,t)=>{let r=fU(f$,e.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=e,a=fM(f$,e.__scopeHoverCard);return(0,N.jsx)(rl.Presence,{present:n||a.open,children:(0,N.jsx)(fG,{"data-state":a.open?"open":"closed",...i,onPointerEnter:(0,ez.composeEventHandlers)(e.onPointerEnter,fQ(a.onOpen)),onPointerLeave:(0,ez.composeEventHandlers)(e.onPointerLeave,fQ(a.onClose)),ref:t})})});fV.displayName=f$;var fG=R.forwardRef((e,t)=>{let{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,...s}=e,l=fM(f$,r),c=fL(r),u=R.useRef(null),d=(0,eH.useComposedRefs)(t,u),[p,h]=R.useState(!1);return R.useEffect(()=>{if(p){let e=document.body;return gT=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=gT,e.style.webkitUserSelect=gT}}},[p]),R.useEffect(()=>{if(u.current){let e=()=>{h(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),R.useEffect(()=>{u.current&&(function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t})(u.current).forEach(e=>e.setAttribute("tabindex","-1"))}),(0,N.jsx)(eV,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:(0,ez.composeEventHandlers)(a,e=>{e.preventDefault()}),onDismiss:l.onDismiss,children:(0,N.jsx)(re,{...c,...s,onPointerDown:(0,ez.composeEventHandlers)(s.onPointerDown,e=>{e.currentTarget.contains(e.target)&&h(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...s.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),fq=R.forwardRef((e,t)=>{let{__scopeHoverCard:r,...n}=e,i=fL(r);return(0,N.jsx)(rn,{...i,...n,ref:t})});function fQ(e){return t=>"touch"===t.pointerType?void 0:e()}fq.displayName="HoverCardArrow",e.s(["Arrow",()=>fq,"Content",()=>fV,"HoverCard",()=>fB,"HoverCardArrow",()=>fq,"HoverCardContent",()=>fV,"HoverCardPortal",()=>fW,"HoverCardTrigger",()=>fH,"Portal",()=>fW,"Root",()=>fB,"Trigger",()=>fH,"createHoverCardScope",()=>fD],8546);var fJ=e.i(8546),fJ=fJ;let fY={...rF,size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},width:nW.width,minWidth:nW.minWidth,maxWidth:{...nW.maxWidth,default:"480px"},...nU},fZ=e=>R.createElement(fJ.Root,{closeDelay:150,openDelay:200,...e});fZ.displayName="HoverCard.Root";let fX=R.forwardRef(({children:e,className:t,...r},n)=>R.createElement(fJ.Trigger,{ref:n,className:(0,eO.default)("rt-HoverCardTrigger",t),...r,asChild:!0},aF(e)));fX.displayName="HoverCard.Trigger";let f0=R.forwardRef((e,t)=>{let{className:r,forceMount:n,container:i,...a}=nH(e,fY);return R.createElement(fJ.Portal,{container:i,forceMount:n},R.createElement(rY,{asChild:!0},R.createElement(fJ.Content,{align:"start",sideOffset:8,collisionPadding:10,...a,ref:t,className:(0,eO.default)("rt-PopperContent","rt-HoverCardContent",r)})))});f0.displayName="HoverCard.Content",e.s(["Content",()=>f0,"Root",()=>fZ,"Trigger",()=>fX],97397),e.i(97397);var so=so,aq=aq,f1=e.i(75496);(0,R.createContext)(null),Date.prototype.toRelativeTime=function(){return this.toLocaleString()};var aq=aq;let{toHex:f2}=L.Utils,f3={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["surface","ghost"],default:"ghost"},layout:{type:"enum",className:"rt-r-tl",values:["auto","fixed"],responsive:!0}},f4={align:{type:"enum",className:"rt-r-va",values:["start","center","end","baseline"],parseValue:function(e){return({baseline:"baseline",start:"top",center:"middle",end:"bottom"})[e]},responsive:!0}},f5={justify:{type:"enum",className:"rt-r-ta",values:["start","center","end"],parseValue:function(e){return({start:"left",center:"center",end:"right"})[e]},responsive:!0},...nW,...nK},f6=R.forwardRef((e,t)=>{let{layout:r,...n}=f3,{className:i,children:a,layout:o,...s}=nH(e,n,nQ),l=nM({value:o,className:f3.layout.className,propValues:f3.layout.values});return R.createElement("div",{ref:t,className:(0,eO.default)("rt-TableRoot",i),...s},R.createElement(mL,null,R.createElement("table",{className:(0,eO.default)("rt-TableRootTable",l)},a)))});f6.displayName="Table.Root";let f9=R.forwardRef(({className:e,...t},r)=>R.createElement("thead",{...t,ref:r,className:(0,eO.default)("rt-TableHeader",e)}));f9.displayName="Table.Header";let f7=R.forwardRef(({className:e,...t},r)=>R.createElement("tbody",{...t,ref:r,className:(0,eO.default)("rt-TableBody",e)}));f7.displayName="Table.Body";let f8=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,f4);return R.createElement("tr",{...n,ref:t,className:(0,eO.default)("rt-TableRow",r)})});f8.displayName="Table.Row";let ge=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,f5);return R.createElement("td",{className:(0,eO.default)("rt-TableCell",r),ref:t,...n})});ge.displayName="Table.Cell";let gt=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,f5);return R.createElement("th",{className:(0,eO.default)("rt-TableCell","rt-TableColumnHeaderCell",r),scope:"col",ref:t,...n})});gt.displayName="Table.ColumnHeaderCell";let gr=R.forwardRef((e,t)=>{let{className:r,...n}=nH(e,f5);return R.createElement("th",{className:(0,eO.default)("rt-TableCell","rt-TableRowHeaderCell",r),scope:"row",ref:t,...n})});gr.displayName="Table.RowHeaderCell",e.s(["Body",()=>f7,"Cell",()=>ge,"ColumnHeaderCell",()=>gt,"Header",()=>f9,"Root",()=>f6,"Row",()=>f8,"RowHeaderCell",()=>gr],57977),e.i(57977);let{toArray:gn,toHex:gi}=L.Utils;var px=px;let{electrumEncrypt:ga,electrumDecrypt:go}=T.ECIES,{toArray:gs,toBase64:gl,toUTF8:gc}=L.Utils;var aq=aq,aq=aq,so=so;e.i(37257),e.i(12714);var gu,gd,gp,gh,gm,gf,gg,gy,gv,gb,gw,gx,gC,gk,gS,gE,gj,gA,gP,gN,gR,gT,gI,g_=T.BSM.magicHash;L.Utils.toHex,(gI||(gI={})).BSM="BSM";let gD=new TextDecoder,gL=(e,t=0)=>e[t]+256*e[t+1],gO=(e,t=0)=>0x1000000*e[t]+65536*e[t+1]+256*e[t+2]+e[t+3],gM={in:96,cm:37.79527559055118,em:16,ex:8,m:37.79527559055118*100,mm:37.79527559055118/10,pc:96/72/12,pt:96/72,px:1},gB=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(gM).join("|")})?$`);f1.P2PKH;(d=w||(w={})).SmallestFirst="smallest",d.LargestFirst="largest",d.RetainOrder="retain",d.Random="random",(p=x||(x={})).BSV20="bsv20",p.BSV21="bsv21",(h=C||(C={})).Paymail="paymail",h.Address="address",h.Script="script",(m=k||(k={})).All="all",m.Needed="needed";let{fromBase58Check:gz}=L.Utils,{toArray:gH}=L.Utils,{toArray:gF}=L.Utils;Error("Image must be a square image with dimensions <= 400x400"),Error("Image must be a square image"),Error("Error processing image"),Error("Image dimensions are undefined"),(f=S||(S={})).Ordinals="ordinals",f.BSV20="bsv20",f.BSV21="bsv21",f.LRC20="lrc20",(g=E||(E={})).BSV20="bsv20",g.BSV21="bsv21",(y=j||(j={})).Ticker="name",y.MostRecentSale="most_recent_sale",y.MarketCap="market_cap",y.Price="price",y.PctChange="pct_change",y.Holders="holders",y.Number="num",(v=A||(A={})).ASC="asc",v.DESC="desc";var aq=aq,aq=aq,px=px,aq=aq,px=px,so=so,aq=aq,so=so;(b=P||(P={})).INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",b.INVALID_ADDRESS="INVALID_ADDRESS",b.INVALID_AMOUNT="INVALID_AMOUNT",b.TRANSACTION_FAILED="TRANSACTION_FAILED",b.BROADCAST_FAILED="BROADCAST_FAILED",b.MISSING_UTXOS="MISSING_UTXOS",b.MISSING_PRIVATE_KEY="MISSING_PRIVATE_KEY";var px=px,px=px,aq=aq,px=px,so=so,so=so,so=so,so=so,px=px,so=so,so=so,aq=aq,so=so,px=px,gK="Switch",[gU,gW]=(0,eF.createContextScope)(gK),[g$,gV]=gU(gK),gG=R.forwardRef((e,t)=>{let{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...d}=e,[p,h]=R.useState(null),m=(0,eH.useComposedRefs)(t,e=>h(e)),f=R.useRef(!1),g=!p||u||!!p.closest("form"),[y,v]=(0,ru.useControllableState)({prop:i,defaultProp:a??!1,onChange:c,caller:gK});return(0,N.jsxs)(g$,{scope:r,checked:y,disabled:s,children:[(0,N.jsx)(eK.Primitive.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":gY(y),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:m,onClick:(0,ez.composeEventHandlers)(e.onClick,e=>{v(e=>!e),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&(0,N.jsx)(gJ,{control:p,bubbles:!f.current,name:n,value:l,checked:y,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});gG.displayName=gK;var gq="SwitchThumb",gQ=R.forwardRef((e,t)=>{let{__scopeSwitch:r,...n}=e,i=gV(gq,r);return(0,N.jsx)(eK.Primitive.span,{"data-state":gY(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});gQ.displayName=gq;var gJ=R.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{let o=R.useRef(null),s=(0,eH.useComposedRefs)(o,a),l=uh(r),c=tZ(t);return R.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let i=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(i)}},[l,r,n]),(0,N.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function gY(e){return e?"checked":"unchecked"}gJ.displayName="SwitchBubbleInput",e.s(["Root",()=>gG,"Switch",()=>gG,"SwitchThumb",()=>gQ,"Thumb",()=>gQ,"createSwitchScope",()=>gW],57287);var gZ=e.i(57287),gZ=gZ;let gX={size:{type:"enum",className:"rt-r-size",values:["1","2","3"],default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:["classic","surface","soft"],default:"surface"},...rU,...nT,...rV};R.forwardRef((e,t)=>{let{className:r,color:n,radius:i,...a}=nH(e,gX,nQ);return R.createElement(gZ.Root,{"data-accent-color":n,"data-radius":i,...a,asChild:!1,ref:t,className:(0,eO.default)("rt-reset","rt-SwitchRoot",r)},R.createElement(gZ.Thumb,{className:(0,eO.default)("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))}).displayName="Switch";var so=so,so=so;e.s([],3793)},18566,(e,t,r)=>{t.exports=e.r(76562)},18665,e=>{"use strict";var t=e.i(43476);e.i(3793);var r=e.i(86996),n=e.i(5929),i=e.i(18566),a=e.i(71645);function o({flowType:e="unified",onSuccess:o,className:s}){let l=(0,i.useRouter)(),{user:c,isAuthenticated:u}=(0,n.useBitcoinAuth)(),[d,p]=(0,a.useState)(e),[h,m]=(0,a.useState)(!1);return u&&c?(0,t.jsxs)("div",{className:"text-center p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"Already authenticated"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-6",children:["Welcome back, ",c.address]}),(0,t.jsx)("button",{type:"button",onClick:()=>l.push("/dashboard"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Dashboard"})]}):(0,t.jsx)("div",{className:s,children:h?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-amber-600 mb-4 p-4 bg-amber-50 rounded-lg",children:" Type 42 migration available in BigBlocks v0.0.13. Please use the component directly for enhanced security."}),(0,t.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Continue with current setup"})]}):(0,t.jsx)(r.AuthFlowOrchestrator,{flowType:d,enableOAuth:!0,enableFileImport:!0,enableLocalBackup:!0,onSuccess:e=>{console.log("Auth flow completed:",e),o?o():l.push("/dashboard")},onError:e=>{console.error("Auth flow error:",e)},onFlowChange:e=>{p(e)},onStepChange:e=>{console.log("Auth step changed:",e)},title:"BSV MCP Authentication",subtitle:"Secure access using Bitcoin signatures with Type 42 keys",showHeader:!0,showFooter:!0,layout:"centered",autoDetectFlow:!0,persistFlow:!0,debug:!1})})}e.s(["BigblocksAuthFlow",()=>o])},77888,e=>{"use strict";var t=e.i(47167),r=e.i(43476),n=e.i(74547),i=e.i(17751),a=e.i(12598);e.i(3793);var o=e.i(44118),s=e.i(42059),l=e.i(83445);let c=new i.QueryClient,u={apiUrl:t.default.env.NEXT_PUBLIC_API_URL||"/api/auth",storage:{get:async e=>localStorage.getItem(e),async set(e,t){localStorage.setItem(e,t)},async remove(e){localStorage.removeItem(e)}},storageNamespace:"bsv-mcp-auth",oauthProviders:["google","github"],backupTypes:{enabled:["BapMasterBackup","BapMemberBackup","OneSatBackup","WifBackup"]},theme:{mode:"dark",colors:{primary:"#f59e0b",secondary:"#6b7280",background:"#0f1419",surface:"#1f2937",error:"#ef4444",warning:"#f59e0b",success:"#10b981",text:{primary:"#f9fafb",secondary:"#d1d5db",disabled:"#6b7280"},border:"#374151"}},redirects:{success:"/dashboard",error:"/auth/error"},onSuccess:e=>{console.log("Auth success:",e)},onError:e=>{console.error("Auth error:",e)}};function d({children:e}){return(0,r.jsx)(a.QueryClientProvider,{client:c,children:(0,r.jsx)(n.Theme,{appearance:"dark",accentColor:"amber",grayColor:"gray",radius:"medium",scaling:"100%",children:(0,r.jsx)(l.BitcoinThemeProvider,{children:(0,r.jsx)(s.BitcoinQueryProvider,{children:(0,r.jsx)(o.BitcoinAuthProvider,{config:u,children:e})})})})})}e.s(["BigblocksAuthProvider",()=>d])}]);