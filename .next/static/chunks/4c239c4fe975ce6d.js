(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34582,(e,t,r)=>{"use strict";r.byteLength=u,r.toByteArray=d,r.fromByteArray=b;for(var i=[],n=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,f=o.length;s<f;++s)i[s]=o[s],n[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function u(e){var t=c(e),r=t[0],i=t[1];return(r+i)*3/4-i}function h(e,t,r){return(t+r)*3/4-r}function d(e){var t,r,i=c(e),o=i[0],s=i[1],f=new a(h(e,o,s)),u=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],f[u++]=t>>16&255,f[u++]=t>>8&255,f[u++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,f[u++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,f[u++]=t>>8&255,f[u++]=255&t),f}function l(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function p(e,t,r){for(var i=[],n=t;n<r;n+=3)i.push(l((e[n]<<16&0xff0000)+(e[n+1]<<8&65280)+(255&e[n+2])));return i.join("")}function b(e){for(var t,r=e.length,n=r%3,a=[],o=16383,s=0,f=r-n;s<f;s+=o)a.push(p(e,s,s+o>f?f:s+o));return 1===n?a.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&a.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.join("")}n[45]=62,n[95]=63},38492,(e,t,r)=>{r.read=function(e,t,r,i,n){var a,o,s=8*n-i-1,f=(1<<s)-1,c=f>>1,u=-7,h=r?n-1:0,d=r?-1:1,l=e[t+h];for(h+=d,a=l&(1<<-u)-1,l>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===a)a=1-c;else{if(a===f)return o?NaN:1/0*(l?-1:1);o+=Math.pow(2,i),a-=c}return(l?-1:1)*o*Math.pow(2,a-i)},r.write=function(e,t,r,i,n,a){var o,s,f,c=8*a-n-1,u=(1<<c)-1,h=u>>1,d=5960464477539062e-23*(23===n),l=i?0:a-1,p=i?1:-1,b=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+h>=1?t+=d/f:t+=d*Math.pow(2,1-h),t*f>=2&&(o++,f/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*f-1)*Math.pow(2,n),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;e[r+l]=255&s,l+=p,s/=256,n-=8);for(o=o<<n|s,c+=n;c>0;e[r+l]=255&o,l+=p,o/=256,c-=8);e[r+l-p]|=128*b}},43943,(e,t,r)=>{"use strict";var i=e.r(34582),n=e.r(38492),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=v,r.INSPECT_MAX_BYTES=50;var o=0x7fffffff;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function f(e){if(e>o)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return p(e,t);if(ArrayBuffer.isView(e))return y(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return g(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return c.from(i,t,r);var n=m(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e,t,r){return(h(e),e<=0)?f(e):void 0!==t?"string"==typeof r?f(e).fill(t,r):f(e).fill(t):f(e)}function l(e){return h(e),f(e<0?0:0|w(e))}function p(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!c.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|_(e,t),i=f(r),n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}function b(e){for(var t=e.length<0?0:0|w(e.length),r=f(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function y(e){if(J(e,Uint8Array)){var t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return b(e)}function g(e,t,r){var i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),c.prototype),i}function m(e){if(c.isBuffer(e)){var t=0|w(e.length),r=f(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?f(0):b(e):"Buffer"===e.type&&Array.isArray(e.data)?b(e.data):void 0}function w(e){if(e>=o)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),c.alloc(+e)}function _(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return i?-1:W(e).length;t=(""+t).toLowerCase(),n=!0}}function x(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return B(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return N(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function S(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function k(e,t,r,i,n){if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),Z(r*=1)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(n)return -1;else r=e.length-1;else if(r<0)if(!n)return -1;else r=0;if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:E(e,t,r,i,n);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(n)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return E(e,[t],r,i,n)}throw TypeError("val must be string, number or Buffer")}function E(e,t,r,i,n){var a,o=1,s=e.length,f=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;o=2,s/=2,f/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===f)return u*o}else -1!==u&&(a-=a-u),u=-1}else for(r+f>s&&(r=s-f),a=r;a>=0;a--){for(var h=!0,d=0;d<f;d++)if(c(e,a+d)!==c(t,d)){h=!1;break}if(h)return a}return -1}function I(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var a=t.length;i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(Z(s))break;e[r+o]=s}return o}function A(e,t,r,i){return Y(W(t,e.length-r),e,r,i)}function M(e,t,r,i){return Y($(t),e,r,i)}function P(e,t,r,i){return Y(X(t),e,r,i)}function O(e,t,r,i){return Y(G(t,e.length-r),e,r,i)}function N(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var a,o,s,f,c=e[n],u=null,h=c>239?4:c>223?3:c>191?2:1;if(n+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:(192&(a=e[n+1]))==128&&(f=(31&c)<<6|63&a)>127&&(u=f);break;case 3:a=e[n+1],o=e[n+2],(192&a)==128&&(192&o)==128&&(f=(15&c)<<12|(63&a)<<6|63&o)>2047&&(f<55296||f>57343)&&(u=f);break;case 4:a=e[n+1],o=e[n+2],s=e[n+3],(192&a)==128&&(192&o)==128&&(192&s)==128&&(f=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&f<1114112&&(u=f)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=h}return C(i)}r.kMaxLength=0x7fffffff,c.TYPED_ARRAY_SUPPORT=s(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return d(e,t,r)},c.allocUnsafe=function(e){return l(e)},c.allocUnsafeSlow=function(e){return l(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,a=Math.min(r,i);n<a;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:+(i<r)},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,i=c.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var a=e[r];if(J(a,Uint8Array))n+a.length>i.length?c.from(a).copy(i,n):Uint8Array.prototype.set.call(i,a,n);else if(c.isBuffer(a))a.copy(i,n);else throw TypeError('"list" argument must be an Array of Buffers');n+=a.length}return i},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?R(this,0,e):x.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,i,n){if(J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;for(var a=n-i,o=r-t,s=Math.min(a,o),f=this.slice(i,n),u=e.slice(t,r),h=0;h<s;++h)if(f[h]!==u[h]){a=f[h],o=u[h];break}return a<o?-1:+(o<a)},c.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return k(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return k(this,e,t,r,!1)},c.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return I(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return M(this,e,t,r);case"base64":return P(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(a)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var r="",i=0;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=T));return r}function B(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function D(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function L(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",a=t;a<r;++a)n+=Q[e[a]];return n}function F(e,t,r){for(var i=e.slice(t,r),n="",a=0;a<i.length-1;a+=2)n+=String.fromCharCode(i[a]+256*i[a+1]);return n}function U(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function j(e,t,r,i,n,a){if(!c.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function q(e,t,r,i,n,a){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function V(e,t,r,i,a){return t*=1,r>>>=0,a||q(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function H(e,t,r,i,a){return t*=1,r>>>=0,a||q(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}c.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,c.prototype),i},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var i=this[e],n=1,a=0;++a<t&&(n*=256);)i+=this[e+a]*n;return i},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var i=this[e],n=1,a=0;++a<t&&(n*=256);)i+=this[e+a]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var i=t,n=1,a=this[e+--i];i>0&&(n*=256);)a+=this[e+--i]*n;return a>=(n*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return(e>>>=0,t||U(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),n.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),n.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),n.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),n.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;j(this,e,t,r,n,0)}var a=1,o=0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=e/a&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,i){if(e*=1,t>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;j(this,e,t,r,n,0)}var a=r-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,r,i){if(e*=1,t>>>=0,!i){var n=Math.pow(2,8*r-1);j(this,e,t,r,n-1,-n)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,i){if(e*=1,t>>>=0,!i){var n=Math.pow(2,8*r-1);j(this,e,t,r,n-1,-n)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||j(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,i){if(!c.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},c.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){var n,a=e.charCodeAt(0);("utf8"===i&&a<128||"latin1"===i)&&(e=a)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var o=c.isBuffer(e)?e:c.from(e,i),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=o[n%s]}return this};var K=/[^+/0-9A-Za-z-_]/g;function z(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function W(e,t){t=t||1/0;for(var r,i=e.length,n=null,a=[],o=0;o<i;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!n){if(r>56319||o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function $(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function G(e,t){for(var r,i,n=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(r=e.charCodeAt(a))>>8,n.push(r%256),n.push(i);return n}function X(e){return i.toByteArray(z(e))}function Y(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}var Q=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var i=16*r,n=0;n<16;++n)t[i+n]=e[r]+e[n];return t}()},30662,(e,t,r)=>{!function(){"use strict";var e={864:function(e){var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function n(e){console&&console.warn&&console.warn(e)}t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=m,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function f(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,i){if(f(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(a=c(e))>0&&s.length>a&&!s.warned){s.warned=!0;var a,o,s,u=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,n(u)}return e}function h(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=h.bind(i);return n.listener=r,i.wrapFn=n,n}function l(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?g(n):b(n,n.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=Array(t),i=0;i<t;++i)r[i]=e[i];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function m(e,t){return new Promise(function(r,i){function n(r){e.removeListener(t,a),i(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&w(e,n,{once:!0})})}function w(e,t,r){"function"==typeof e.on&&v(e,"error",t,r)}function v(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function n(a){i.once&&e.removeEventListener(t,n),r(a)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var f=a[e];if(void 0===f)return!1;if("function"==typeof f)i(f,this,t);else for(var c=f.length,u=b(f,c),r=0;r<c;++r)i(u[r],this,t);return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return f(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return f(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,i,n,a,o;if(f(t),void 0===(i=this._events)||void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():y(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var n,a=Object.keys(r);for(i=0;i<a.length;++i)"removeListener"!==(n=a[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return l(this,e,!0)},o.prototype.rawListeners=function(e){return l(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},r={};function i(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={exports:{}},o=!0;try{e[t](a,a.exports,i),o=!1}finally{o&&delete r[t]}return a.exports}i.ab="/ROOT/node_modules/next/dist/compiled/events/",t.exports=i(864)}()},77398,(e,t,r)=>{var i=e.i(67034),n=e.i(47167);!function(){var r={8992:function(e){e.exports=function(e,r,i){if(e.filter)return e.filter(r,i);if(null==e||"function"!=typeof r)throw TypeError();for(var n=[],a=0;a<e.length;a++)if(t.call(e,a)){var o=e[a];r.call(i,o,a,e)&&n.push(o)}return n};var t=Object.prototype.hasOwnProperty},5555:function(e,t,r){"use strict";var i=r(1212),n=r(1909),a=r(8737);e.exports=r(8772)||i.call(a,n)},9905:function(e,t,r){"use strict";var i=r(1212),n=r(1909),a=r(5555);e.exports=function(){return a(i,n,arguments)}},1909:function(e){"use strict";e.exports=Function.prototype.apply},8737:function(e){"use strict";e.exports=Function.prototype.call},7152:function(e,t,r){"use strict";var i=r(1212),n=r(8202),a=r(8737),o=r(5555);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new n("a function is required");return o(i,a,e)}},8772:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},516:function(e,t,r){"use strict";var i=r(3197),n=r(9042),a=n(i("String.prototype.indexOf"));e.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&a(e,".prototype.")>-1?n(r):r}},9042:function(e,t,r){"use strict";var i=r(3143),n=r(446),a=r(7152),o=r(9905);e.exports=function(e){var t=a(arguments),r=e.length-(arguments.length-1);return i(t,1+(r>0?r:0),!0)},n?n(e.exports,"apply",{value:o}):e.exports.apply=o},819:function(e,t,r){"use strict";var i=r(446),n=r(5182),a=r(8202),o=r(3990);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!o&&o(e,t);if(i)i(e,t,{configurable:null===c&&h?h.configurable:!c,enumerable:null===s&&h?h.enumerable:!s,value:r,writable:null===f&&h?h.writable:!f});else if(!u&&(s||f||c))throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=r}},6211:function(e,t,r){"use strict";var i,n=r(7152),a=r(3990);try{i=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var o=!!i&&a&&a(Object.prototype,"__proto__"),s=Object,f=s.getPrototypeOf;e.exports=o&&"function"==typeof o.get?n([o.get]):"function"==typeof f&&function(e){return f(null==e?e:s(e))}},446:function(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},7181:function(e){"use strict";e.exports=EvalError},1545:function(e){"use strict";e.exports=Error},22:function(e){"use strict";e.exports=RangeError},2803:function(e){"use strict";e.exports=ReferenceError},5182:function(e){"use strict";e.exports=SyntaxError},8202:function(e){"use strict";e.exports=TypeError},3284:function(e){"use strict";e.exports=URIError},2811:function(e){"use strict";e.exports=Object},6144:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,i,n){if("[object Function]"!==r.call(i))throw TypeError("iterator must be a function");var a=e.length;if(a===+a)for(var o=0;o<a;o++)i.call(n,e[o],o,e);else for(var s in e)t.call(e,s)&&i.call(n,e[s],s,e)}},3136:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,i=Math.max,n="[object Function]",a=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r},o=function(e,t){for(var r=[],i=t||0,n=0;i<e.length;i+=1,n+=1)r[n]=e[i];return r},s=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r};e.exports=function(e){var f,c=this;if("function"!=typeof c||r.apply(c)!==n)throw TypeError(t+c);for(var u=o(arguments,1),h=function(){if(this instanceof f){var t=c.apply(this,a(u,arguments));return Object(t)===t?t:this}return c.apply(e,a(u,arguments))},d=i(0,c.length-u.length),l=[],p=0;p<d;p++)l[p]="$"+p;if(f=Function("binder","return function ("+s(l,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var b=function(){};b.prototype=c.prototype,f.prototype=new b,b.prototype=null}return f}},1212:function(e,t,r){"use strict";var i=r(3136);e.exports=Function.prototype.bind||i},3197:function(e,t,r){"use strict";var i,n=r(2811),a=r(1545),o=r(7181),s=r(22),f=r(2803),c=r(5182),u=r(8202),h=r(3284),d=r(7173),l=r(847),p=r(2916),b=r(9882),y=r(3291),g=r(553),m=r(8629),w=Function,v=function(e){try{return w('"use strict"; return ('+e+").constructor;")()}catch(e){}},_=r(3990),x=r(446),S=function(){throw new u},k=_?function(){try{return arguments.callee,S}catch(e){try{return _(arguments,"callee").get}catch(e){return S}}}():S,E=r(4871)(),I=r(699),A=r(7823),M=r(7904),P=r(1909),O=r(8737),N={},R="undefined"!=typeof Uint8Array&&I?I(Uint8Array):i,T={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":E&&I?I([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"==typeof Float16Array?i:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":N,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&I?I(I([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&E&&I?I((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":n,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":s,"%ReferenceError%":f,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&E&&I?I((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&I?I(""[Symbol.iterator]()):i,"%Symbol%":E?Symbol:i,"%SyntaxError%":c,"%ThrowTypeError%":k,"%TypedArray%":R,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet,"%Function.prototype.call%":O,"%Function.prototype.apply%":P,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":A,"%Math.abs%":d,"%Math.floor%":l,"%Math.max%":p,"%Math.min%":b,"%Math.pow%":y,"%Math.round%":g,"%Math.sign%":m,"%Reflect.getPrototypeOf%":M};if(I)try{null.error}catch(e){var C=I(I(e));T["%Error.prototype%"]=C}var B=function e(t){var r;if("%AsyncFunction%"===t)r=v("async function () {}");else if("%GeneratorFunction%"===t)r=v("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=v("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&I&&(r=I(n.prototype))}return T[t]=r,r},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=r(1212),F=r(3270),U=L.call(O,Array.prototype.concat),j=L.call(P,Array.prototype.splice),q=L.call(O,String.prototype.replace),V=L.call(O,String.prototype.slice),H=L.call(O,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,W=function(e){var t=V(e,0,1),r=V(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var i=[];return q(e,K,function(e,t,r,n){i[i.length]=r?q(n,z,"$1"):t||e}),i},$=function(e,t){var r,i=e;if(F(D,i)&&(i="%"+(r=D[i])[0]+"%"),F(T,i)){var n=T[i];if(n===N&&(n=B(i)),void 0===n&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:n}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=W(e),i=r.length>0?r[0]:"",n=$("%"+i+"%",t),a=n.name,o=n.value,s=!1,f=n.alias;f&&(i=f[0],j(r,U([0,1],f)));for(var h=1,d=!0;h<r.length;h+=1){var l=r[h],p=V(l,0,1),b=V(l,-1);if(('"'===p||"'"===p||"`"===p||'"'===b||"'"===b||"`"===b)&&p!==b)throw new c("property names with quotes must have matching quotes");if("constructor"!==l&&d||(s=!0),i+="."+l,F(T,a="%"+i+"%"))o=T[a];else if(null!=o){if(!(l in o)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(_&&h+1>=r.length){var y=_(o,l);o=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:o[l]}else d=F(o,l),o=o[l];d&&!s&&(T[a]=o)}}return o}},7823:function(e,t,r){"use strict";e.exports=r(2811).getPrototypeOf||null},7904:function(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},699:function(e,t,r){"use strict";var i=r(7904),n=r(7823),a=r(6211);e.exports=i?function(e){return i(e)}:n?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return n(e)}:a?function(e){return a(e)}:null},4596:function(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},3990:function(e,t,r){"use strict";var i=r(4596);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},7122:function(e,t,r){"use strict";var i=r(446),n=function(){return!!i};n.hasArrayLengthDefineBug=function(){if(!i)return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=n},9942:function(e,t,r){"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(3773);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},3773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var i=42;for(t in e[t]=i,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||!0!==a.enumerable)return!1}return!0}},4871:function(e,t,r){"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(5960);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},5960:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var i=42;for(var n in e[t]=i,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var a=Object.getOwnPropertySymbols(e);if(1!==a.length||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||!0!==o.enumerable)return!1}return!0}},3270:function(e,t,r){"use strict";var i=Function.prototype.call,n=Object.prototype.hasOwnProperty;e.exports=r(1212).call(i,n)},3782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},5157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,i=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===r.call(e)},n=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=n,e.exports=a?i:n},3391:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,i=/^\s*(?:function)?\*/,n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(e){}}(),s=o?a(o):{};e.exports=function(e){return"function"==typeof e&&(!!i.test(r.call(e))||(n?a(e)===s:"[object GeneratorFunction]"===t.call(e)))}},994:function(t,r,i){"use strict";var n=i(6144),a=i(1349),o=i(516),s=o("Object.prototype.toString"),f=i(9942)()&&"symbol"==typeof Symbol.toStringTag,c=a(),u=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},h=o("String.prototype.slice"),d={},l=i(2154),p=Object.getPrototypeOf;f&&l&&p&&n(c,function(t){var r=new e.g[t];if(!(Symbol.toStringTag in r))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var i=p(r),n=l(i,Symbol.toStringTag);n||(n=l(p(i),Symbol.toStringTag)),d[t]=n.get});var b=function(e){var t=!1;return n(d,function(r,i){if(!t)try{t=r.call(e)===i}catch(e){}}),t};t.exports=function(e){return!!e&&"object"==typeof e&&(f?!!l&&b(e):u(c,h(s(e),8,-1))>-1)}},7173:function(e){"use strict";e.exports=Math.abs},847:function(e){"use strict";e.exports=Math.floor},219:function(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},2916:function(e){"use strict";e.exports=Math.max},9882:function(e){"use strict";e.exports=Math.min},3291:function(e){"use strict";e.exports=Math.pow},553:function(e){"use strict";e.exports=Math.round},8629:function(e,t,r){"use strict";var i=r(219);e.exports=function(e){return i(e)||0===e?e:e<0?-1:1}},3143:function(e,t,r){"use strict";var i=r(3197),n=r(819),a=r(7122)(),o=r(3990),s=r(8202),f=i("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>0xffffffff||f(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,c=!0;if("length"in e&&o){var u=o(e,"length");u&&!u.configurable&&(i=!1),u&&!u.writable&&(c=!1)}return(i||c||!r)&&(a?n(e,"length",t,!0,!0):n(e,"length",t)),e}},2369:function(e){e.exports=function(e){return e instanceof i.Buffer}},5584:function(e,t,r){"use strict";var i=r(5157),n=r(3391),a=r(1490),o=r(994);function s(e){return e.call.bind(e)}var f="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=s(Object.prototype.toString),h=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),l=s(Boolean.prototype.valueOf);if(f)var p=s(BigInt.prototype.valueOf);if(c)var b=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===u(e)}function m(e){return"[object Set]"===u(e)}function w(e){return"[object WeakMap]"===u(e)}function v(e){return"[object WeakSet]"===u(e)}function _(e){return"[object ArrayBuffer]"===u(e)}function x(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===u(e)}function k(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=i,t.isGeneratorFunction=n,t.isTypedArray=o,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||k(e)},t.isUint8Array=function(e){return"Uint8Array"===a(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===a(e)},t.isUint16Array=function(e){return"Uint16Array"===a(e)},t.isUint32Array=function(e){return"Uint32Array"===a(e)},t.isInt8Array=function(e){return"Int8Array"===a(e)},t.isInt16Array=function(e){return"Int16Array"===a(e)},t.isInt32Array=function(e){return"Int32Array"===a(e)},t.isFloat32Array=function(e){return"Float32Array"===a(e)},t.isFloat64Array=function(e){return"Float64Array"===a(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===a(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===a(e)},g.working="undefined"!=typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=x,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=k;var E="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function I(e){return"[object SharedArrayBuffer]"===u(e)}function A(e){return void 0!==E&&(void 0===I.working&&(I.working=I(new E)),I.working?I(e):e instanceof E)}function M(e){return y(e,h)}function P(e){return y(e,d)}function O(e){return y(e,l)}function N(e){return f&&y(e,p)}function R(e){return c&&y(e,b)}t.isSharedArrayBuffer=A,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=M,t.isStringObject=P,t.isBooleanObject=O,t.isBigIntObject=N,t.isSymbolObject=R,t.isBoxedPrimitive=function(e){return M(e)||P(e)||O(e)||N(e)||R(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(x(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},8177:function(e,t,r){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},a=/%[sdj%]/g;t.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}for(var r=1,i=arguments,n=i.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(r>=n)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return e}}),s=i[r];r<n;s=i[++r])_(s)||!I(s)?o+=" "+s:o+=" "+c(s);return o},t.deprecate=function(e,r){if(void 0!==n.default&&!0===n.default.noDeprecation)return e;if(void 0===n.default)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.default.throwDeprecation)throw Error(r);n.default.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var o={},s=/^$/;if(n.default.env.NODE_DEBUG){var f=n.default.env.NODE_DEBUG;s=RegExp("^"+(f=f.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function c(e,r){var i={seen:[],stylize:h};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),v(r)?i.showHidden=r:r&&t._extend(i,r),k(i.showHidden)&&(i.showHidden=!1),k(i.depth)&&(i.depth=2),k(i.colors)&&(i.colors=!1),k(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),l(i,e,i.depth)}function u(e,t){var r=c.styles[t];return r?"\x1b["+c.colors[r][0]+"m"+e+"\x1b["+c.colors[r][1]+"m":e}function h(e,t){return e}function d(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function l(e,r,i){if(e.customInspect&&r&&P(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var n,a=r.inspect(i,e);return S(a)||(a=l(e,a,i)),a}var o=p(e,r);if(o)return o;var s=Object.keys(r),f=d(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),M(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return b(r);if(0===s.length){if(P(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(A(r))return e.stylize(Date.prototype.toString.call(r),"date");if(M(r))return b(r)}var u="",h=!1,v=["{","}"];if(w(r)&&(h=!0,v=["[","]"]),P(r)&&(u=" [Function"+(r.name?": "+r.name:"")+"]"),E(r)&&(u=" "+RegExp.prototype.toString.call(r)),A(r)&&(u=" "+Date.prototype.toUTCString.call(r)),M(r)&&(u=" "+b(r)),0===s.length&&(!h||0==r.length))return v[0]+u+v[1];if(i<0)if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");else return e.stylize("[Object]","special");return e.seen.push(r),n=h?y(e,r,i,f,s):s.map(function(t){return g(e,r,i,f,t,h)}),e.seen.pop(),m(n,u,v)}function p(e,t){if(k(t))return e.stylize("undefined","undefined");if(S(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}function b(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,r,i,n){for(var a=[],o=0,s=t.length;o<s;++o)C(t,String(o))?a.push(g(e,t,r,i,String(o),!0)):a.push("");return n.forEach(function(n){n.match(/^\d+$/)||a.push(g(e,t,r,i,n,!0))}),a}function g(e,t,r,i,n,a){var o,s,f;if((f=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]}).get?s=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(s=e.stylize("[Setter]","special")),C(i,n)||(o="["+n+"]"),!s&&(0>e.seen.indexOf(f.value)?(s=_(r)?l(e,f.value,null):l(e,f.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),k(o)){if(a&&n.match(/^\d+$/))return s;(o=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function m(e,t,r){var i=0;return e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function w(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function _(e){return null===e}function x(e){return"number"==typeof e}function S(e){return"string"==typeof e}function k(e){return void 0===e}function E(e){return I(e)&&"[object RegExp]"===O(e)}function I(e){return"object"==typeof e&&null!==e}function A(e){return I(e)&&"[object Date]"===O(e)}function M(e){return I(e)&&("[object Error]"===O(e)||e instanceof Error)}function P(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!o[e=e.toUpperCase()])if(s.test(e)){var r=n.default.pid;o[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,i)}}else o[e]=function(){};return o[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(5584),t.isArray=w,t.isBoolean=v,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=x,t.isString=S,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=k,t.isRegExp=E,t.types.isRegExp=E,t.isObject=I,t.isDate=A,t.types.isDate=A,t.isError=M,t.types.isNativeError=M,t.isFunction=P,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(2369);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=r(3782),t._extend=function(e,t){if(!t||!I(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e};var B="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(B&&e[B]){var t=e[B];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,i=new Promise(function(e,i){t=e,r=i}),n=[],a=0;a<arguments.length;a++)n.push(arguments[a]);n.push(function(e,i){e?r(e):t(i)});try{e.apply(this,n)}catch(e){r(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),B&&Object.defineProperty(t,B,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=B,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};e.apply(this,t).then(function(e){n.default.nextTick(o.bind(null,null,e))},function(e){n.default.nextTick(D.bind(null,e,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},1490:function(t,r,i){"use strict";var n=i(6144),a=i(1349),o=i(516),s=o("Object.prototype.toString"),f=i(9942)()&&"symbol"==typeof Symbol.toStringTag,c=a(),u=o("String.prototype.slice"),h={},d=i(2154),l=Object.getPrototypeOf;f&&d&&l&&n(c,function(t){if("function"==typeof e.g[t]){var r=new e.g[t];if(!(Symbol.toStringTag in r))throw EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var i=l(r),n=d(i,Symbol.toStringTag);n||(n=d(l(i),Symbol.toStringTag)),h[t]=n.get}});var p=function(e){var t=!1;return n(h,function(r,i){if(!t)try{var n=r.call(e);n===i&&(t=n)}catch(e){}}),t},b=i(994);t.exports=function(e){return!!b(e)&&(f?p(e):u(s(e),8,-1))}},1349:function(t,r,i){"use strict";var n=i(8992);t.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(t){return"function"==typeof e.g[t]})}},2154:function(e,t,r){"use strict";e.exports=r(3990)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}},n=!0;try{r[e](i,i.exports,o),n=!1}finally{n&&delete a[e]}return i.exports}o.ab="/ROOT/node_modules/next/dist/compiled/util/",t.exports=o(8177)}()},12569,(e,t,r)=>{var i=e.i(47167);!function(){var r={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,i){function n(e,t,i){return"string"==typeof r?r:r(e,t,i)}i||(i=Error);class a extends i{constructor(e,t,r){super(n(e,t,r))}}a.prototype.name=i.name,a.prototype.code=e,t[e]=a}function i(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}function n(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function a(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function o(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){let s,f;if("string"==typeof t&&n(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",a(e," argument"))f=`The ${e} ${s} ${i(t,"type")}`;else{let r=o(e,".")?"property":"argument";f=`The "${e}" ${r} ${s} ${i(t,"type")}`}return f+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var a=r(709),o=r(337);r(782)(u,a);for(var s=n(o.prototype),f=0;f<s.length;f++){var c=s[f];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.default.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=n;var i=r(170);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(782)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},709:function(t,r,n){"use strict";t.exports=P,P.ReadableState=M,n(361).EventEmitter;var a,o,s,f,c,u=function(e,t){return e.listeners(t).length},h=n(678),d=n(300).Buffer,l=e.g.Uint8Array||function(){};function p(e){return d.from(e)}function b(e){return d.isBuffer(e)||e instanceof l}var y=n(837);o=y&&y.debuglog?y.debuglog("stream"):function(){};var g=n(379),m=n(25),w=n(776).getHighWaterMark,v=n(646).q,_=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,S=v.ERR_METHOD_NOT_IMPLEMENTED,k=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(782)(P,h);var E=m.errorOrDestroy,I=["error","close","destroy","pause","resume"];function A(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function M(e,t,r){a=a||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=w(this,e,"readableHighWaterMark",r),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=n(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function P(e){if(a=a||n(403),!(this instanceof P))return new P(e);var t=this instanceof a;this._readableState=new M(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),h.call(this)}function O(e,t,r,i,n){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,D(e,s);else if(n||(a=R(s,t)),a)E(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=p(t)),i)s.endEmitted?E(e,new k):N(e,s,t,!0);else if(s.ended)E(e,new x);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?N(e,s,t,!1):U(e,s)):N(e,s,t,!1)}else i||(s.reading=!1,U(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function N(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&L(e)),U(e,t)}function R(e,t){var r;return b(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=d.from(e,t),t=""),r=!0),O(this,e,t,!1,r)},P.prototype.unshift=function(e){return O(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){s||(s=n(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=0x40000000;function C(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function B(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&(t.highWaterMark=C(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function D(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?L(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,F(e)))}}function L(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.default.nextTick(F,e))}function F(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,W(e)}function U(e,t){t.readingMore||(t.readingMore=!0,i.default.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function q(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,W(e))}}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){o("readable nexttick read 0"),e.read(0)}function K(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.default.nextTick(z,e,t))}function z(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),W(e),t.flowing&&!t.reading&&e.read(0)}function W(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function G(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.default.nextTick(X,t,e))}function X(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}P.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?G(this):L(this),null;if(0===(e=B(e,r))&&r.ended)return 0===r.length&&G(this),null;var n=r.needReadable;return o("need readable",n),(0===r.length||r.length-e<r.highWaterMark)&&o("length less than watermark",n=!0),r.ended||r.reading?o("reading or ended",n=!1):n&&(o("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=B(i,r))),null===(t=e>0?$(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&G(this)),null!==t&&this.emit("data",t),t},P.prototype._read=function(e){E(this,new S("_read()"))},P.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===i.default.stdout||e===i.default.stderr?g:f;function s(e,t){o("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function f(){o("onend"),e.end()}n.endEmitted?i.default.nextTick(a):r.once("end",a),e.on("unpipe",s);var c=q(r);e.on("drain",c);var h=!1;function d(){o("cleanup"),e.removeListener("close",b),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",g),r.removeListener("data",l),h=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}function l(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==Y(n.pipes,e))&&!h&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(t){o("onerror",t),g(),e.removeListener("error",p),0===u(e,"error")&&E(e,t)}function b(){e.removeListener("finish",y),g()}function y(){o("onfinish"),e.removeListener("close",b),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",l),A(e,"error",p),e.once("close",b),e.once("finish",y),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Y(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},P.prototype.on=function(e,t){var r=h.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?L(this):n.reading||i.default.nextTick(H,this)),r},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var r=h.prototype.removeListener.call(this,e,t);return"readable"===e&&i.default.nextTick(V,this),r},P.prototype.removeAllListeners=function(e){var t=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.default.nextTick(V,this),t},P.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,K(this,e)),e.paused=!1,this},P.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var a=0;a<I.length;a++)e.on(I[a],this.emit.bind(this,I[a]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(871)),f(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=$,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===c&&(c=n(727)),c(P,e,t)})},170:function(e,t,r){"use strict";e.exports=u;var i=r(646).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,f=r(403);function c(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);f.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(782)(u,f),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,f.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new n("_transform()"))},u.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(t,r,n){"use strict";function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){z(t,e)}}t.exports=M,M.WritableState=A;var o,s,f={deprecate:n(769)},c=n(678),u=n(300).Buffer,h=e.g.Uint8Array||function(){};function d(e){return u.from(e)}function l(e){return u.isBuffer(e)||e instanceof h}var p=n(25),b=n(776).getHighWaterMark,y=n(646).q,g=y.ERR_INVALID_ARG_TYPE,m=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_MULTIPLE_CALLBACK,v=y.ERR_STREAM_CANNOT_PIPE,_=y.ERR_STREAM_DESTROYED,x=y.ERR_STREAM_NULL_VALUES,S=y.ERR_STREAM_WRITE_AFTER_END,k=y.ERR_UNKNOWN_ENCODING,E=p.errorOrDestroy;function I(){}function A(e,t,r){o=o||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=b(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){D(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function M(e){var t=this instanceof(o=o||n(403));if(!t&&!s.call(M,this))return new M(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function P(e,t){var r=new S;E(e,r),i.default.nextTick(t,r)}function O(e,t,r,n){var a;return null===r?a=new x:"string"==typeof r||t.objectMode||(a=new g("chunk",["string","Buffer"],r)),!a||(E(e,a),i.default.nextTick(n,a),!1)}function N(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}function R(e,t,r,i,n,a){if(!r){var o=N(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var s=t.objectMode?1:i.length;t.length+=s;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,i,n,a);return f}function T(e,t,r,i,n,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}function C(e,t,r,n,a){--t.pendingcb,r?(i.default.nextTick(a,n),i.default.nextTick(H,e,t),e._writableState.errorEmitted=!0,E(e,n)):(a(n),e._writableState.errorEmitted=!0,E(e,n),H(e,t))}function B(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function D(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if("function"!=typeof a)throw new w;if(B(r),t)C(e,r,n,t,a);else{var o=j(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||U(e,r),n?i.default.nextTick(L,e,r,o,a):L(e,r,o,a)}}function L(e,t,r,i){r||F(e,t),t.pendingcb--,i(),H(e,t)}function F(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function U(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,T(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback,h=t.objectMode?1:f.length;if(T(e,t,!1,h,f,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function q(e,t){e._final(function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),H(e,t)})}function V(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.default.nextTick(q,e,t)))}function H(e,t){var r=j(t);if(r&&(V(e,t),0===t.pendingcb)&&(t.finished=!0,e.emit("finish"),t.autoDestroy)){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function K(e,t,r){t.ending=!0,H(e,t),r&&(t.finished?i.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function z(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}n(782)(M,c),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===M&&e&&e._writableState instanceof A}})):s=function(e){return e instanceof this},M.prototype.pipe=function(){E(this,new v)},M.prototype.write=function(e,t,r){var i=this._writableState,n=!1,a=!i.objectMode&&l(e);return a&&!u.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=I),i.ending?P(this,r):(a||O(this,i,e,r))&&(i.pendingcb++,n=R(this,i,a,e,t,r)),n},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||U(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,r){r(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||K(this,i,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=p.destroy,M.prototype._undestroy=p.undestroy,M.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a,o=r(698),s=Symbol("lastResolve"),f=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),l=Symbol("stream");function p(e,t){return{value:e,done:t}}function b(e){var t=e[s];if(null!==t){var r=e[l].read();null!==r&&(e[h]=null,e[s]=null,e[f]=null,t(p(r,!1)))}}function y(e){i.default.nextTick(b,e)}function g(e,t){return function(r,i){e.then(function(){t[u]?r(p(void 0,!0)):t[d](r,i)},i)}}var m=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((n(a={get stream(){return this[l]},next:function(){var e,t=this,r=this[c];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(e,r){i.default.nextTick(function(){t[c]?r(t[c]):e(p(void 0,!0))})});var n=this[h];if(n)e=new Promise(g(n,this));else{var a=this[l].read();if(null!==a)return Promise.resolve(p(a,!1));e=new Promise(this[d])}return this[h]=e,e}},Symbol.asyncIterator,function(){return this}),n(a,"return",function(){var e=this;return new Promise(function(t,r){e[l].destroy(null,function(e){e?r(e):t(p(void 0,!0))})})}),a),m);e.exports=function(e){var t,r=Object.create(w,(n(t={},l,{value:e,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,f,{value:null,writable:!0}),n(t,c,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,d,{value:function(e,t){var i=r[l].read();i?(r[h]=null,r[s]=null,r[f]=null,e(p(i,!1))):(r[s]=e,r[f]=t)},writable:!0}),t));return r[h]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[f];null!==t&&(r[h]=null,r[s]=null,r[f]=null,t(e)),r[c]=e;return}var i=r[s];null!==i&&(r[h]=null,r[s]=null,r[f]=null,i(p(void 0,!0))),r[u]=!0}),e.on("readable",y.bind(null,r)),r}},379:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var c=r(300).Buffer,u=r(837).inspect,h=u&&u.custom||"inspect";function d(e,t,r){c.prototype.copy.call(e,t,r)}e.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return f(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),r=this.head,i=0;r;)d(r.data,t,i),i+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,a=e>n.length?n.length:e;if(a===n.length?i+=n:i+=n.slice(0,e),0==(e-=a)){a===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(a));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,a=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,a),0==(e-=a)){a===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(a));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return u(this,n({},t,{depth:0,customInspect:!1}))}}]),e}()},25:function(e){"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var o=this,s=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return s||f?a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.default.nextTick(n,this,e)):i.default.nextTick(n,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?o._writableState?o._writableState.errorEmitted?i.default.nextTick(r,o):(o._writableState.errorEmitted=!0,i.default.nextTick(t,o,e)):i.default.nextTick(t,o,e):a?(i.default.nextTick(r,o),a(e)):i.default.nextTick(r,o)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var i=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function n(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function a(){}function o(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=n(r||a);var f=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||d()},h=e._writableState&&e._writableState.finished,d=function(){c=!1,h=!0,f||r.call(e)},l=e._readableState&&e._readableState.endEmitted,p=function(){f=!1,l=!0,c||r.call(e)},b=function(t){r.call(e,t)},y=function(){var t;return f&&!l?(e._readableState&&e._readableState.ended||(t=new i),r.call(e,t)):c&&!h?(e._writableState&&e._writableState.ended||(t=new i),r.call(e,t)):void 0},g=function(){e.req.on("finish",d)};return o(e)?(e.on("complete",d),e.on("abort",y),e.req?g():e.on("request",g)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",b),e.on("close",y),function(){e.removeListener("complete",d),e.removeListener("abort",y),e.removeListener("request",g),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("end",p),e.removeListener("error",b),e.removeListener("close",y)}}e.exports=s},727:function(e,t,r){"use strict";function i(e,t,r,i,n,a,o){try{var s=e[a](o),f=s.value}catch(e){r(e);return}s.done?t(f):Promise.resolve(f).then(i,n)}function n(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,f,"next",e)}function f(e){i(o,n,a,s,f,"throw",e)}s(void 0)})}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new f("iterable",["Iterable"],t);var i,a=new e(o({objectMode:!0},r)),s=!1;function c(){return u.apply(this,arguments)}function u(){return(u=n(function*(){try{var e=yield i.next(),t=e.value;e.done?a.push(null):a.push((yield t))?c():s=!1}catch(e){a.destroy(e)}})).apply(this,arguments)}return a._read=function(){s||(s=!0,c())},a}},442:function(e,t,r){"use strict";function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var n,a=r(646).q,o=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function f(e){if(e)throw e}function c(e){return e.setHeader&&"function"==typeof e.abort}function u(e,t,a,o){o=i(o);var f=!1;e.on("close",function(){f=!0}),void 0===n&&(n=r(698)),n(e,{readable:t,writable:a},function(e){if(e)return o(e);f=!0,o()});var u=!1;return function(t){if(!f&&!u){if(u=!0,c(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new s("pipe"))}}}function h(e){e()}function d(e,t){return e.pipe(t)}function l(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():f}e.exports=function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=l(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var a=r.map(function(t,i){var o=i<r.length-1;return u(t,o,i>0,function(t){e||(e=t),t&&a.forEach(h),o||(a.forEach(h),n(e))})});return r.reduce(d)}},776:function(e,t,r){"use strict";var i=r(646).q.ERR_INVALID_OPT_VALUE;function n(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}e.exports={getHighWaterMark:function(e,t,r,a){var o=n(t,a,r);if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new i(a?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var i=r(300),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),o.prototype=Object.create(n.prototype),a(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},173:function(e,t,r){e.exports=n;var i=r(361).EventEmitter;function n(){i.call(this)}r(782)(n,i),n.Readable=r(709),n.Writable=r(337),n.Duplex=r(403),n.Transform=r(170),n.PassThrough=r(889),n.finished=r(698),n.pipeline=r(442),n.Stream=n,n.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",a),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",f));var o=!1;function s(){o||(o=!0,e.end())}function f(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",f),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var i=r(55).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=a(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=p,this.end=b,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=y,this.end=g,t=3;break;default:this.write=m,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function f(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e,t,r){var i=t.length-1;if(i<r)return 0;var n=f(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}function u(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}function h(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function d(e,t){var r=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function b(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function w(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=l,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(t){function r(t){try{if(!e.g.localStorage)return!1}catch(e){return!1}var r=e.g.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function e(e,t){if(r("noDeprecation"))return e;var i=!1;return function(){if(!i){if(r("throwDeprecation"))throw Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}},300:function(t){"use strict";t.exports=e.r(43943)},361:function(t){"use strict";t.exports=e.r(30662)},781:function(t){"use strict";t.exports=e.r(30662).EventEmitter},837:function(t){"use strict";t.exports=e.r(77398)}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}},o=!0;try{r[e](i,i.exports,a),o=!1}finally{o&&delete n[e]}return i.exports}a.ab="/ROOT/node_modules/next/dist/compiled/stream-browserify/",t.exports=a(173)}()},42524,(e,t,r)=>{var i=e.r(43943),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(a(i,r),r.Buffer=o),o.prototype=Object.create(n.prototype),a(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},19049,(e,t,r)=>{"use strict";var i=e.r(42524).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=a(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=p,this.end=b,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=y,this.end=g,t=3;break;default:this.write=m,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function f(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e,t,r){var i=t.length-1;if(i<r)return 0;var n=f(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}function u(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}function h(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function d(e,t){var r=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function b(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function w(e){return e&&e.length?this.write(e):""}r.StringDecoder=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=l,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},13385,(__turbopack_context__,module,exports)=>{!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return -1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,i=r.eval,n=r.execScript;!i&&n&&(n.call(r,"null"),i=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var a=Object_keys(r),o=i.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(a,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/vm-browserify/");var __webpack_exports__={};__webpack_modules__[950](0,__webpack_exports__),module.exports=__webpack_exports__}()},86914,(e,t,r)=>{var i=e.i(67034),n=e.i(47167);!function(){var r={7160:function(e,t,r){var i=t;i.bignum=r(711),i.define=r(495).define,i.base=r(853),i.constants=r(7335),i.decoders=r(6701),i.encoders=r(3418)},495:function(e,t,r){var i=r(7160),n=r(3782);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t;try{t=r(6144).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return n(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},a.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},a.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},6483:function(e,t,r){var i=r(3782),n=r(853).Reporter,a=r(4300).Buffer;function o(e,t){(n.call(this,t),a.isBuffer(e))?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=a.byteLength(e);else{if(!a.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}i(o,n),t.C=o,o.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},o.prototype.restore=function(e){var t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,n.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=s,s.prototype.join=function(e,t){return e||(e=new a(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):a.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},853:function(e,t,r){var i=t;i.Reporter=r(1293).b,i.DecoderBuffer=r(6483).C,i.EncoderBuffer=r(6483).R,i.Node=r(9374)},9374:function(e,t,r){var i=r(853).Reporter,n=r(853).EncoderBuffer,a=r(853).DecoderBuffer,o=r(3523),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],f=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function u(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=u;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};h.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;f.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},u.prototype._init=function(e){var t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),o.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(o(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0),t[e[r]]=r}),t}))},c.forEach(function(e){u.prototype[e]=function(){throw Error(e+" not implemented for encoding: "+this._baseState.enc)}}),s.forEach(function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(r),this}}),u.prototype.use=function(e){o(e);var t=this._baseState;return o(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return o(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return o(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},u.prototype.contains=function(e){var t=this._baseState;return o(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r,i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var n=i.default,o=!0,s=null;if(null!==i.key&&(s=e.enterKey(i.key)),i.optional){var f=null;if(null!==i.explicit?f=i.explicit:null!==i.implicit?f=i.implicit:null!==i.tag&&(f=i.tag),null!==f||i.any){if(o=this._peekTag(e,f,i.any),e.isError(o))return o}else{var c=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),o=!0}catch(e){o=!1}e.restore(c)}}if(i.obj&&o&&(r=e.enterObject()),o){if(null!==i.explicit){var u=this._decodeTag(e,i.explicit);if(e.isError(u))return u;e=u}var h=e.offset;if(null===i.use&&null===i.choice){if(i.any)var c=e.save();var d=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(d))return d;i.any?n=e.raw(c):e=d}if(t&&t.track&&null!==i.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),i.any||(n=null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t)),e.isError(n))return n;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(r){r._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var l=new a(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(l,t)}}return i.obj&&o&&(n=e.leaveObject(r)),null!==i.key&&(null!==n||!0===o)?e.leaveKey(s,i.key,n):null!==s&&e.exitKey(s),n},u.prototype._decodeGeneric=function(e,t,r){var i=this._baseState;if("seq"===e||"set"===e)return null;if("seqof"===e||"setof"===e)return this._decodeList(t,e,i.args[0],r);if(/str$/.test(e))return this._decodeStr(t,e,r);if("objid"===e&&i.args)return this._decodeObjid(t,i.args[0],i.args[1],r);if("objid"===e)return this._decodeObjid(t,null,null,r);if("gentime"===e||"utctime"===e)return this._decodeTime(t,e,r);else if("null_"===e)return this._decodeNull(t,r);else if("bool"===e)return this._decodeBool(t,r);else if("objDesc"===e)return this._decodeStr(t,e,r);else if("int"===e||"enum"===e)return this._decodeInt(t,i.args&&i.args[0],r);return null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,i=null,n=!1;return(Object.keys(r.choice).some(function(a){var o=e.save(),s=r.choice[a];try{var f=s._decode(e,t);if(e.isError(f))return!1;i={type:a,value:f},n=!0}catch(t){return e.restore(o),!1}return!0},this),n)?i:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},u.prototype._encode=function(e,t,r){var i=this._baseState;if(null===i.default||i.default!==e){var n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},u.prototype._encodeValue=function(e,t,r){var n,a=this._baseState;if(null===a.parent)return a.children[0]._encode(e,t||new i);var n=null;if(this.reporter=t,a.optional&&void 0===e)if(null===a.default)return;else e=a.default;var o=null,s=!1;if(a.any)n=this._createEncoderBuffer(e);else if(a.choice)n=this._encodeChoice(e,t);else if(a.contains)o=this._getUse(a.contains,r)._encode(e,t),s=!0;else if(a.children)o=a.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var i=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var n=r._encode(e[r._baseState.key],t,e);return t.leaveKey(i),n},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===a.tag||"setof"===a.tag){if(!(a.args&&1===a.args.length))return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var f=this.clone();f._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(r){var i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)},f))}else null!==a.use?n=this._getUse(a.use,r)._encode(e,t):(o=this._encodePrimitive(a.tag,e),s=!0);if(!a.any&&null===a.choice){var c=null!==a.implicit?a.implicit:a.tag,u=null===a.implicit?"universal":"context";null===c?null===a.use&&t.error("Tag could be omitted only for .use()"):null===a.use&&(n=this._encodeComposite(c,s,u,o))}return null!==a.explicit&&(n=this._encodeComposite(a.explicit,!1,"context",n)),n},u.prototype._encodeChoice=function(e,t){var r=this._baseState,i=r.choice[e.type];return i||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();else if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);else if("bool"===e)return this._encodeBool(t);else if("objDesc"===e)return this._encodeStr(t,e);else throw Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},1293:function(e,t,r){var i=r(3782);function n(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function a(e,t){this.path=e,this.rethrow(t)}t.b=n,n.prototype.isError=function(e){return e instanceof a},n.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},n.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},n.prototype.enterKey=function(e){return this._reporterState.path.push(e)},n.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},n.prototype.leaveKey=function(e,t,r){var i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=r)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},n.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},n.prototype.error=function(e){var t,r=this._reporterState,i=e instanceof a;if(t=i?e:new a(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return i||r.errors.push(t),t},n.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(a,Error),a.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw Error(this.message)}catch(e){this.stack=e.stack}return this}},9791:function(e,t,r){var i=r(7335);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i._reverse(t.tag)},7335:function(e,t,r){var i=t;i._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r|=0),t[e[r]]=r}),t},i.der=r(9791)},2259:function(e,t,r){var i=r(3782),n=r(7160),a=n.base,o=n.bignum,s=n.constants.der;function f(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.Node.call(this,"der",e)}function u(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var i=s.tagClass[r>>6],n=(32&r)==0;if((31&r)==31){var a=r;for(r=0;(128&a)==128;){if(a=e.readUInt8(t),e.isError(a))return a;r<<=7,r|=127&a}}else r&=31;var o=s.tag[r];return{cls:i,primitive:n,tag:r,tagStr:o}}function h(e,t,r){var i=e.readUInt8(r);if(e.isError(i))return i;if(!t&&128===i)return null;if((128&i)==0)return i;var n=127&i;if(n>4)return e.error("length octect is too long");i=0;for(var a=0;a<n;a++){i<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;i|=o}return i}e.exports=f,f.prototype.decode=function(e,t){return e instanceof a.DecoderBuffer||(e=new a.DecoderBuffer(e,t)),this.tree._decode(e,t)},i(c,a.Node),c.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var i=e.save(),n=u(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(i),n.tag===t||n.tagStr===t||n.tagStr+"of"===t||r)},c.prototype._decodeTag=function(e,t,r){var i=u(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;var n=h(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(n))return n;if(!r&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==n)return e.skip(n,'Failed to match body of: "'+t+'"');var a=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(n=e.offset-a.offset,e.restore(a),e.skip(n,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var r,i=u(e,t);if(e.isError(i))return i;var n=h(e,i.primitive,t);if(e.isError(n))return n;if(r=i.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===i.tagStr)break}},c.prototype._decodeList=function(e,t,r,i){for(var n=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=r.decode(e,"der",i);if(e.isError(o)&&a)break;n.push(o)}return n},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var i=e.raw();if(i.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var n="",a=0;a<i.length/2;a++)n+=String.fromCharCode(i.readUInt16BE(2*a));return n}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();else if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}else if(/str$/.test(t))return e.raw().toString();else return e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,r){for(var i,n=[],a=0;!e.isEmpty();){var o=e.readUInt8();a<<=7,a|=127&o,(128&o)==0&&(n.push(a),a=0)}128&o&&n.push(a);var s=n[0]/40|0,f=n[0]%40;if(i=r?n:[s,f].concat(n.slice(1)),t){var c=t[i.join(" ")];void 0===c&&(c=t[i.join(".")]),void 0!==c&&(i=c)}return i},c.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var i=0|r.slice(0,4),n=0|r.slice(4,6),a=0|r.slice(6,8),o=0|r.slice(8,10),s=0|r.slice(10,12),f=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var i=0|r.slice(0,2),n=0|r.slice(2,4),a=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),f=0|r.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,n-1,a,o,s,f,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var r=new o(e.raw());return t&&(r=t[r.toString(10)]||r),r},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},6701:function(e,t,r){var i=t;i.der=r(2259),i.pem=r(8527)},8527:function(e,t,r){var i=r(3782),n=r(4300).Buffer,a=r(2259);function o(e){a.call(this,e),this.enc="pem"}i(o,a),e.exports=o,o.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),i=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,f=-1,c=0;c<r.length;c++){var u=r[c].match(o);if(null!==u&&u[2]===i)if(-1===s){if("BEGIN"!==u[1])break;s=c}else{if("END"!==u[1])break;f=c;break}}if(-1===s||-1===f)throw Error("PEM section not found for: "+i);var h=r.slice(s+1,f).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new n(h,"base64");return a.prototype.decode.call(this,d,t)}},7804:function(e,t,r){var i=r(3782),n=r(4300).Buffer,a=r(7160),o=a.base,s=a.constants.der;function f(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function u(e){return e<10?"0"+e:e}function h(e,t,r,i){var n;if("seqof"===e?e="seq":"setof"===e&&(e="set"),s.tagByName.hasOwnProperty(e))n=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);n=e}return n>=31?i.error("Multi-octet tag encoding unsupported"):(t||(n|=32),n|=s.tagClassByName[r||"universal"]<<6)}e.exports=f,f.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},i(c,o.Node),c.prototype._encodeComposite=function(e,t,r,i){var a=h(e,t,r,this.reporter);if(i.length<128){var o=new n(2);return o[0]=a,o[1]=i.length,this._createEncoderBuffer([o,i])}for(var s=1,f=i.length;f>=256;f>>=8)s++;var o=new n(2+s);o[0]=a,o[1]=128|s;for(var f=1+s,c=i.length;c>0;f--,c>>=8)o[f]=255&c;return this._createEncoderBuffer([o,i])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new n(2*e.length),i=0;i<e.length;i++)r.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(r)}if("numstr"===t)return this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space");if("printstr"===t)return this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark");if(/str$/.test(t))return this._createEncoderBuffer(e);else if("objDesc"===t)return this._createEncoderBuffer(e);else return this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(var i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var a=0,i=0;i<e.length;i++){var o=e[i];for(a++;o>=128;o>>=7)a++}for(var s=new n(a),f=s.length-1,i=e.length-1;i>=0;i--){var o=e[i];for(s[f--]=127&o;(o>>=7)>0;)s[f--]=128|127&o}return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(e,t){var r,i=new Date(e);return"gentime"===t?r=""+u(i.getFullYear())+u(i.getUTCMonth()+1)+u(i.getUTCDate())+u(i.getUTCHours())+u(i.getUTCMinutes())+u(i.getUTCSeconds())+"Z":"utctime"===t?r=""+u(i.getFullYear()%100)+u(i.getUTCMonth()+1)+u(i.getUTCDate())+u(i.getUTCHours())+u(i.getUTCMinutes())+u(i.getUTCSeconds())+"Z":this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!n.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new n(r)}if(n.isBuffer(e)){var i=e.length;0===e.length&&i++;var a=new n(i);return e.copy(a),0===e.length&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var i=1,o=e;o>=256;o>>=8)i++;for(var a=Array(i),o=a.length-1;o>=0;o--)a[o]=255&e,e>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(new n(a))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(255*!!e)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){var i,n=this._baseState;if(null===n.default)return!1;var a=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),a.length!==n.defaultBuffer.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==n.defaultBuffer[i])return!1;return!0}},3418:function(e,t,r){var i=t;i.der=r(7804),i.pem=r(1564)},1564:function(e,t,r){var i=r(3782),n=r(7804);function a(e){n.call(this,e),this.enc="pem"}i(a,n),e.exports=a,a.prototype.encode=function(e,t){for(var r=n.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"],a=0;a<r.length;a+=64)i.push(r.slice(a,a+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},711:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{f=r(4300).Buffer}catch(e){}function o(e,t,r){for(var i=0,n=Math.min(e.length,r),a=t;a<n;a++){var o=e.charCodeAt(a)-48;i<<=4,o>=49&&o<=54?i|=o-49+10:o>=17&&o<=22?i|=o-17+10:i|=15&o}return i}function s(e,t,r,i){for(var n=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;n*=i,s>=49?n+=s-49+10:s>=17?n+=s-17+10:n+=s}return n}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return 0>e.cmp(t)?e:t},a.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<0x4000000?(this.words=[0x3ffffff&e],this.length=1):e<0x10000000000000?(this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff],this.length=2):(i(e<0x20000000000000),this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var n,a,o=0;o<this.length;o++)this.words[o]=0;var s=0;if("be"===r)for(o=e.length-1,n=0;o>=0;o-=3)a=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[n]|=a<<s&0x3ffffff,this.words[n+1]=a>>>26-s&0x3ffffff,(s+=24)>=26&&(s-=26,n++);else if("le"===r)for(o=0,n=0;o<e.length;o+=3)a=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[n]|=a<<s&0x3ffffff,this.words[n+1]=a>>>26-s&0x3ffffff,(s+=24)>=26&&(s-=26,n++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var r,i,n=0;n<this.length;n++)this.words[n]=0;var a=0;for(n=e.length-6,r=0;n>=t;n-=6)i=o(e,n,n+6),this.words[r]|=i<<a&0x3ffffff,this.words[r+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);n+6!==t&&(i=o(e,t,n+6),this.words[r]|=i<<a&0x3ffffff,this.words[r+1]|=i>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=0x3ffffff;n*=t)i++;i--,n=n/t|0;for(var a=e.length-r,o=a%i,f=Math.min(a,a-o)+r,c=0,u=r;u<f;u+=i)c=s(e,u,u+i,t),this.imuln(n),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=s(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c)}},a.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f,c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];function d(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}function l(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],a=0|t.words[0],o=n*a,s=0x3ffffff&o,f=o/0x4000000|0;r.words[0]=s;for(var c=1;c<i;c++){for(var u=f>>>26,h=0x3ffffff&f,d=Math.min(c,t.length-1),l=Math.max(0,c-e.length+1);l<=d;l++){var p=c-l|0;u+=(o=(n=0|e.words[p])*(a=0|t.words[l])+h)/0x4000000|0,h=0x3ffffff&o}r.words[c]=0|h,f=0|u}return 0!==f?r.words[c]=0|f:r.length--,r.strip()}a.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var r="",n=0,a=0,o=0;o<this.length;o++){var s=this.words[o],f=((s<<n|a)&0xffffff).toString(16);r=0!=(a=s>>>24-n&0xffffff)||o!==this.length-1?c[6-f.length]+f+r:f+r,(n+=2)>=26&&(n-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],l=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);r=(p=p.idivn(l)).isZero()?b+r:c[d-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?e+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return i(void 0!==f),this.toArrayLike(f,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,r){var n,a,o=this.byteLength(),s=r||Math.max(1,o);i(o<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var f="le"===t,c=new e(s),u=this.clone();if(f){for(a=0;!u.isZero();a++)n=u.andln(255),u.iushrn(8),c[a]=n;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-o;a++)c[a]=0;for(a=0;!u.isZero();a++)n=u.andln(255),u.iushrn(8),c[s-a-1]=n}return c},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return i((this.negative|e.negative)==0),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return i((this.negative|e.negative)==0),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return i((this.negative|e.negative)==0),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=0x3ffffff&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&0x3ffffff>>26-r),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this.strip()},a.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var t,r,i,n=0,a=0;a<i.length;a++)t=(0|r.words[a])+(0|i.words[a])+n,this.words[a]=0x3ffffff&t,n=t>>>26;for(;0!==n&&a<r.length;a++)t=(0|r.words[a])+n,this.words[a]=0x3ffffff&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,i=this.iadd(e);return e.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(t=this,r=e):(t=e,r=this);for(var a=0,o=0;o<r.length;o++)a=(i=(0|t.words[o])-(0|r.words[o])+a)>>26,this.words[o]=0x3ffffff&i;for(;0!==a&&o<t.length;o++)a=(i=(0|t.words[o])+a)>>26,this.words[o]=0x3ffffff&i;if(0===a&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,a,o=e.words,s=t.words,f=r.words,c=0,u=0|o[0],h=8191&u,d=u>>>13,l=0|o[1],p=8191&l,b=l>>>13,y=0|o[2],g=8191&y,m=y>>>13,w=0|o[3],v=8191&w,_=w>>>13,x=0|o[4],S=8191&x,k=x>>>13,E=0|o[5],I=8191&E,A=E>>>13,M=0|o[6],P=8191&M,O=M>>>13,N=0|o[7],R=8191&N,T=N>>>13,C=0|o[8],B=8191&C,D=C>>>13,L=0|o[9],F=8191&L,U=L>>>13,j=0|s[0],q=8191&j,V=j>>>13,H=0|s[1],K=8191&H,z=H>>>13,W=0|s[2],$=8191&W,G=W>>>13,X=0|s[3],Y=8191&X,J=X>>>13,Z=0|s[4],Q=8191&Z,ee=Z>>>13,et=0|s[5],er=8191&et,ei=et>>>13,en=0|s[6],ea=8191&en,eo=en>>>13,es=0|s[7],ef=8191&es,ec=es>>>13,eu=0|s[8],eh=8191&eu,ed=eu>>>13,el=0|s[9],ep=8191&el,eb=el>>>13;r.negative=e.negative^t.negative,r.length=19,i=Math.imul(h,q);var ey=(c+i|0)+((8191&(n=(n=Math.imul(h,V))+Math.imul(d,q)|0))<<13)|0;c=((a=Math.imul(d,V))+(n>>>13)|0)+(ey>>>26)|0,ey&=0x3ffffff,i=Math.imul(p,q),n=(n=Math.imul(p,V))+Math.imul(b,q)|0,a=Math.imul(b,V),i=i+Math.imul(h,K)|0;var eg=(c+i|0)+((8191&(n=(n=n+Math.imul(h,z)|0)+Math.imul(d,K)|0))<<13)|0;c=((a=a+Math.imul(d,z)|0)+(n>>>13)|0)+(eg>>>26)|0,eg&=0x3ffffff,i=Math.imul(g,q),n=(n=Math.imul(g,V))+Math.imul(m,q)|0,a=Math.imul(m,V),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,z)|0)+Math.imul(b,K)|0,a=a+Math.imul(b,z)|0,i=i+Math.imul(h,$)|0;var em=(c+i|0)+((8191&(n=(n=n+Math.imul(h,G)|0)+Math.imul(d,$)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(n>>>13)|0)+(em>>>26)|0,em&=0x3ffffff,i=Math.imul(v,q),n=(n=Math.imul(v,V))+Math.imul(_,q)|0,a=Math.imul(_,V),i=i+Math.imul(g,K)|0,n=(n=n+Math.imul(g,z)|0)+Math.imul(m,K)|0,a=a+Math.imul(m,z)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(b,$)|0,a=a+Math.imul(b,G)|0,i=i+Math.imul(h,Y)|0;var ew=(c+i|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,J)|0)+(n>>>13)|0)+(ew>>>26)|0,ew&=0x3ffffff,i=Math.imul(S,q),n=(n=Math.imul(S,V))+Math.imul(k,q)|0,a=Math.imul(k,V),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,z)|0)+Math.imul(_,K)|0,a=a+Math.imul(_,z)|0,i=i+Math.imul(g,$)|0,n=(n=n+Math.imul(g,G)|0)+Math.imul(m,$)|0,a=a+Math.imul(m,G)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,J)|0,i=i+Math.imul(h,Q)|0;var ev=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(n>>>13)|0)+(ev>>>26)|0,ev&=0x3ffffff,i=Math.imul(I,q),n=(n=Math.imul(I,V))+Math.imul(A,q)|0,a=Math.imul(A,V),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,z)|0)+Math.imul(k,K)|0,a=a+Math.imul(k,z)|0,i=i+Math.imul(v,$)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,$)|0,a=a+Math.imul(_,G)|0,i=i+Math.imul(g,Y)|0,n=(n=n+Math.imul(g,J)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,J)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,ee)|0,i=i+Math.imul(h,er)|0;var e_=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ei)|0)+Math.imul(d,er)|0))<<13)|0;c=((a=a+Math.imul(d,ei)|0)+(n>>>13)|0)+(e_>>>26)|0,e_&=0x3ffffff,i=Math.imul(P,q),n=(n=Math.imul(P,V))+Math.imul(O,q)|0,a=Math.imul(O,V),i=i+Math.imul(I,K)|0,n=(n=n+Math.imul(I,z)|0)+Math.imul(A,K)|0,a=a+Math.imul(A,z)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,G)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(_,Y)|0,a=a+Math.imul(_,J)|0,i=i+Math.imul(g,Q)|0,n=(n=n+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,i=i+Math.imul(p,er)|0,n=(n=n+Math.imul(p,ei)|0)+Math.imul(b,er)|0,a=a+Math.imul(b,ei)|0,i=i+Math.imul(h,ea)|0;var ex=(c+i|0)+((8191&(n=(n=n+Math.imul(h,eo)|0)+Math.imul(d,ea)|0))<<13)|0;c=((a=a+Math.imul(d,eo)|0)+(n>>>13)|0)+(ex>>>26)|0,ex&=0x3ffffff,i=Math.imul(R,q),n=(n=Math.imul(R,V))+Math.imul(T,q)|0,a=Math.imul(T,V),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,z)|0)+Math.imul(O,K)|0,a=a+Math.imul(O,z)|0,i=i+Math.imul(I,$)|0,n=(n=n+Math.imul(I,G)|0)+Math.imul(A,$)|0,a=a+Math.imul(A,G)|0,i=i+Math.imul(S,Y)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,J)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,a=a+Math.imul(_,ee)|0,i=i+Math.imul(g,er)|0,n=(n=n+Math.imul(g,ei)|0)+Math.imul(m,er)|0,a=a+Math.imul(m,ei)|0,i=i+Math.imul(p,ea)|0,n=(n=n+Math.imul(p,eo)|0)+Math.imul(b,ea)|0,a=a+Math.imul(b,eo)|0,i=i+Math.imul(h,ef)|0;var eS=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ec)|0)+Math.imul(d,ef)|0))<<13)|0;c=((a=a+Math.imul(d,ec)|0)+(n>>>13)|0)+(eS>>>26)|0,eS&=0x3ffffff,i=Math.imul(B,q),n=(n=Math.imul(B,V))+Math.imul(D,q)|0,a=Math.imul(D,V),i=i+Math.imul(R,K)|0,n=(n=n+Math.imul(R,z)|0)+Math.imul(T,K)|0,a=a+Math.imul(T,z)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(O,$)|0,a=a+Math.imul(O,G)|0,i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,J)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,J)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(k,Q)|0,a=a+Math.imul(k,ee)|0,i=i+Math.imul(v,er)|0,n=(n=n+Math.imul(v,ei)|0)+Math.imul(_,er)|0,a=a+Math.imul(_,ei)|0,i=i+Math.imul(g,ea)|0,n=(n=n+Math.imul(g,eo)|0)+Math.imul(m,ea)|0,a=a+Math.imul(m,eo)|0,i=i+Math.imul(p,ef)|0,n=(n=n+Math.imul(p,ec)|0)+Math.imul(b,ef)|0,a=a+Math.imul(b,ec)|0,i=i+Math.imul(h,eh)|0;var ek=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ed)|0)+Math.imul(d,eh)|0))<<13)|0;c=((a=a+Math.imul(d,ed)|0)+(n>>>13)|0)+(ek>>>26)|0,ek&=0x3ffffff,i=Math.imul(F,q),n=(n=Math.imul(F,V))+Math.imul(U,q)|0,a=Math.imul(U,V),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,z)|0)+Math.imul(D,K)|0,a=a+Math.imul(D,z)|0,i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,G)|0,i=i+Math.imul(P,Y)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,J)|0,i=i+Math.imul(I,Q)|0,n=(n=n+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,a=a+Math.imul(A,ee)|0,i=i+Math.imul(S,er)|0,n=(n=n+Math.imul(S,ei)|0)+Math.imul(k,er)|0,a=a+Math.imul(k,ei)|0,i=i+Math.imul(v,ea)|0,n=(n=n+Math.imul(v,eo)|0)+Math.imul(_,ea)|0,a=a+Math.imul(_,eo)|0,i=i+Math.imul(g,ef)|0,n=(n=n+Math.imul(g,ec)|0)+Math.imul(m,ef)|0,a=a+Math.imul(m,ec)|0,i=i+Math.imul(p,eh)|0,n=(n=n+Math.imul(p,ed)|0)+Math.imul(b,eh)|0,a=a+Math.imul(b,ed)|0,i=i+Math.imul(h,ep)|0;var eE=(c+i|0)+((8191&(n=(n=n+Math.imul(h,eb)|0)+Math.imul(d,ep)|0))<<13)|0;c=((a=a+Math.imul(d,eb)|0)+(n>>>13)|0)+(eE>>>26)|0,eE&=0x3ffffff,i=Math.imul(F,K),n=(n=Math.imul(F,z))+Math.imul(U,K)|0,a=Math.imul(U,z),i=i+Math.imul(B,$)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(D,$)|0,a=a+Math.imul(D,G)|0,i=i+Math.imul(R,Y)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(T,Y)|0,a=a+Math.imul(T,J)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,i=i+Math.imul(I,er)|0,n=(n=n+Math.imul(I,ei)|0)+Math.imul(A,er)|0,a=a+Math.imul(A,ei)|0,i=i+Math.imul(S,ea)|0,n=(n=n+Math.imul(S,eo)|0)+Math.imul(k,ea)|0,a=a+Math.imul(k,eo)|0,i=i+Math.imul(v,ef)|0,n=(n=n+Math.imul(v,ec)|0)+Math.imul(_,ef)|0,a=a+Math.imul(_,ec)|0,i=i+Math.imul(g,eh)|0,n=(n=n+Math.imul(g,ed)|0)+Math.imul(m,eh)|0,a=a+Math.imul(m,ed)|0,i=i+Math.imul(p,ep)|0;var eI=(c+i|0)+((8191&(n=(n=n+Math.imul(p,eb)|0)+Math.imul(b,ep)|0))<<13)|0;c=((a=a+Math.imul(b,eb)|0)+(n>>>13)|0)+(eI>>>26)|0,eI&=0x3ffffff,i=Math.imul(F,$),n=(n=Math.imul(F,G))+Math.imul(U,$)|0,a=Math.imul(U,G),i=i+Math.imul(B,Y)|0,n=(n=n+Math.imul(B,J)|0)+Math.imul(D,Y)|0,a=a+Math.imul(D,J)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,ee)|0,i=i+Math.imul(P,er)|0,n=(n=n+Math.imul(P,ei)|0)+Math.imul(O,er)|0,a=a+Math.imul(O,ei)|0,i=i+Math.imul(I,ea)|0,n=(n=n+Math.imul(I,eo)|0)+Math.imul(A,ea)|0,a=a+Math.imul(A,eo)|0,i=i+Math.imul(S,ef)|0,n=(n=n+Math.imul(S,ec)|0)+Math.imul(k,ef)|0,a=a+Math.imul(k,ec)|0,i=i+Math.imul(v,eh)|0,n=(n=n+Math.imul(v,ed)|0)+Math.imul(_,eh)|0,a=a+Math.imul(_,ed)|0,i=i+Math.imul(g,ep)|0;var eA=(c+i|0)+((8191&(n=(n=n+Math.imul(g,eb)|0)+Math.imul(m,ep)|0))<<13)|0;c=((a=a+Math.imul(m,eb)|0)+(n>>>13)|0)+(eA>>>26)|0,eA&=0x3ffffff,i=Math.imul(F,Y),n=(n=Math.imul(F,J))+Math.imul(U,Y)|0,a=Math.imul(U,J),i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,ee)|0)+Math.imul(D,Q)|0,a=a+Math.imul(D,ee)|0,i=i+Math.imul(R,er)|0,n=(n=n+Math.imul(R,ei)|0)+Math.imul(T,er)|0,a=a+Math.imul(T,ei)|0,i=i+Math.imul(P,ea)|0,n=(n=n+Math.imul(P,eo)|0)+Math.imul(O,ea)|0,a=a+Math.imul(O,eo)|0,i=i+Math.imul(I,ef)|0,n=(n=n+Math.imul(I,ec)|0)+Math.imul(A,ef)|0,a=a+Math.imul(A,ec)|0,i=i+Math.imul(S,eh)|0,n=(n=n+Math.imul(S,ed)|0)+Math.imul(k,eh)|0,a=a+Math.imul(k,ed)|0,i=i+Math.imul(v,ep)|0;var eM=(c+i|0)+((8191&(n=(n=n+Math.imul(v,eb)|0)+Math.imul(_,ep)|0))<<13)|0;c=((a=a+Math.imul(_,eb)|0)+(n>>>13)|0)+(eM>>>26)|0,eM&=0x3ffffff,i=Math.imul(F,Q),n=(n=Math.imul(F,ee))+Math.imul(U,Q)|0,a=Math.imul(U,ee),i=i+Math.imul(B,er)|0,n=(n=n+Math.imul(B,ei)|0)+Math.imul(D,er)|0,a=a+Math.imul(D,ei)|0,i=i+Math.imul(R,ea)|0,n=(n=n+Math.imul(R,eo)|0)+Math.imul(T,ea)|0,a=a+Math.imul(T,eo)|0,i=i+Math.imul(P,ef)|0,n=(n=n+Math.imul(P,ec)|0)+Math.imul(O,ef)|0,a=a+Math.imul(O,ec)|0,i=i+Math.imul(I,eh)|0,n=(n=n+Math.imul(I,ed)|0)+Math.imul(A,eh)|0,a=a+Math.imul(A,ed)|0,i=i+Math.imul(S,ep)|0;var eP=(c+i|0)+((8191&(n=(n=n+Math.imul(S,eb)|0)+Math.imul(k,ep)|0))<<13)|0;c=((a=a+Math.imul(k,eb)|0)+(n>>>13)|0)+(eP>>>26)|0,eP&=0x3ffffff,i=Math.imul(F,er),n=(n=Math.imul(F,ei))+Math.imul(U,er)|0,a=Math.imul(U,ei),i=i+Math.imul(B,ea)|0,n=(n=n+Math.imul(B,eo)|0)+Math.imul(D,ea)|0,a=a+Math.imul(D,eo)|0,i=i+Math.imul(R,ef)|0,n=(n=n+Math.imul(R,ec)|0)+Math.imul(T,ef)|0,a=a+Math.imul(T,ec)|0,i=i+Math.imul(P,eh)|0,n=(n=n+Math.imul(P,ed)|0)+Math.imul(O,eh)|0,a=a+Math.imul(O,ed)|0,i=i+Math.imul(I,ep)|0;var eO=(c+i|0)+((8191&(n=(n=n+Math.imul(I,eb)|0)+Math.imul(A,ep)|0))<<13)|0;c=((a=a+Math.imul(A,eb)|0)+(n>>>13)|0)+(eO>>>26)|0,eO&=0x3ffffff,i=Math.imul(F,ea),n=(n=Math.imul(F,eo))+Math.imul(U,ea)|0,a=Math.imul(U,eo),i=i+Math.imul(B,ef)|0,n=(n=n+Math.imul(B,ec)|0)+Math.imul(D,ef)|0,a=a+Math.imul(D,ec)|0,i=i+Math.imul(R,eh)|0,n=(n=n+Math.imul(R,ed)|0)+Math.imul(T,eh)|0,a=a+Math.imul(T,ed)|0,i=i+Math.imul(P,ep)|0;var eN=(c+i|0)+((8191&(n=(n=n+Math.imul(P,eb)|0)+Math.imul(O,ep)|0))<<13)|0;c=((a=a+Math.imul(O,eb)|0)+(n>>>13)|0)+(eN>>>26)|0,eN&=0x3ffffff,i=Math.imul(F,ef),n=(n=Math.imul(F,ec))+Math.imul(U,ef)|0,a=Math.imul(U,ec),i=i+Math.imul(B,eh)|0,n=(n=n+Math.imul(B,ed)|0)+Math.imul(D,eh)|0,a=a+Math.imul(D,ed)|0,i=i+Math.imul(R,ep)|0;var eR=(c+i|0)+((8191&(n=(n=n+Math.imul(R,eb)|0)+Math.imul(T,ep)|0))<<13)|0;c=((a=a+Math.imul(T,eb)|0)+(n>>>13)|0)+(eR>>>26)|0,eR&=0x3ffffff,i=Math.imul(F,eh),n=(n=Math.imul(F,ed))+Math.imul(U,eh)|0,a=Math.imul(U,ed),i=i+Math.imul(B,ep)|0;var eT=(c+i|0)+((8191&(n=(n=n+Math.imul(B,eb)|0)+Math.imul(D,ep)|0))<<13)|0;c=((a=a+Math.imul(D,eb)|0)+(n>>>13)|0)+(eT>>>26)|0,eT&=0x3ffffff,i=Math.imul(F,ep);var eC=(c+i|0)+((8191&(n=(n=Math.imul(F,eb))+Math.imul(U,ep)|0))<<13)|0;return c=((a=Math.imul(U,eb))+(n>>>13)|0)+(eC>>>26)|0,eC&=0x3ffffff,f[0]=ey,f[1]=eg,f[2]=em,f[3]=ew,f[4]=ev,f[5]=e_,f[6]=ex,f[7]=eS,f[8]=ek,f[9]=eE,f[10]=eI,f[11]=eA,f[12]=eM,f[13]=eP,f[14]=eO,f[15]=eN,f[16]=eR,f[17]=eT,f[18]=eC,0!==c&&(f[19]=c,r.length++),r};function b(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,a=0;a<r.length-1;a++){var o=n;n=0;for(var s=0x3ffffff&i,f=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=f;c++){var u=a-c,h=(0|e.words[u])*(0|t.words[c]),d=0x3ffffff&h;o=o+(h/0x4000000|0)|0,s=0x3ffffff&(d=d+s|0),n+=(o=o+(d>>>26)|0)>>>26,o&=0x3ffffff}r.words[a]=s,i=o,o=n}return 0!==i?r.words[a]=i:r.length--,r.strip()}function y(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=l),a.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):r<63?l(this,e,t):r<1024?b(this,e,t):y(this,e,t)},g.prototype.makeRBT=function(e){for(var t=Array(e),r=a.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},g.prototype.permute=function(e,t,r,i,n,a){for(var o=0;o<a;o++)i[o]=t[e[o]],n[o]=r[e[o]]},g.prototype.transform=function(e,t,r,i,n,a){this.permute(a,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var s=o<<1,f=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<n;u+=s)for(var h=f,d=c,l=0;l<o;l++){var p=r[u+l],b=i[u+l],y=r[u+l+o],g=i[u+l+o],m=h*y-d*g;g=h*g+d*y,y=m,r[u+l]=p+y,i[u+l]=b+g,r[u+l+o]=p-y,i[u+l+o]=b-g,l!==s&&(m=f*h-c*d,d=f*d+c*h,h=m)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},g.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=0x3ffffff&n,r=n<0x4000000?0:n/0x4000000|0}return e},g.prototype.convert13b=function(e,t,r,n){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===a),i((-8192&a)==0)},g.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),a=this.stub(i),o=Array(i),s=Array(i),f=Array(i),c=Array(i),u=Array(i),h=Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,c,i),this.transform(o,a,s,f,i,n),this.transform(c,a,u,h,i,n);for(var l=0;l<i;l++){var p=s[l]*u[l]-f[l]*h[l];f[l]=s[l]*h[l]+f[l]*u[l],s[l]=p}return this.conjugate(s,f,i),this.transform(s,f,d,a,i,n),this.conjugate(d,a,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=Array(this.length+e.length),y(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){i("number"==typeof e),i(e<0x4000000);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,a=(0x3ffffff&n)+(0x3ffffff&t);t>>=26,t+=(n/0x4000000|0)+(a>>>26),this.words[r]=0x3ffffff&a}return 0!==t&&(this.words[r]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=d(e);if(0===t.length)return new a(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},a.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,a=0x3ffffff>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,f=(0|this.words[t])-s<<r;this.words[t]=f|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},a.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,r){i("number"==typeof e&&e>=0);var n=t?(t-t%26)/26:0,a=e%26,o=Math.min((e-a)/26,this.length),s=0x3ffffff^0x3ffffff>>>a<<a,f=r;if(n-=o,n=Math.max(0,n),f){for(var c=0;c<o;c++)f.words[c]=this.words[c];f.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=n);c--){var h=0|this.words[c];this.words[c]=u<<26-a|h>>>a,u=h&s}return f&&0!==u&&(f.words[f.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},a.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=0x3ffffff^0x3ffffff>>>t<<t;this.words[this.length-1]&=n}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return(i("number"==typeof e),i(e<0x4000000),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=0x4000000;t++)this.words[t]-=0x4000000,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(i("number"==typeof e),i(e<0x4000000),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=0x4000000,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,r){var n,a,o=e.length+r;this._expand(o);var s=0;for(n=0;n<e.length;n++){a=(0|this.words[n+r])+s;var f=(0|e.words[n])*t;a-=0x3ffffff&f,s=(a>>26)-(f/0x4000000|0),this.words[n+r]=0x3ffffff&a}for(;n<this.length-r;n++)s=(a=(0|this.words[n+r])+s)>>26,this.words[n+r]=0x3ffffff&a;if(0===s)return this.strip();for(i(-1===s),s=0,n=0;n<this.length;n++)s=(a=-(0|this.words[n])+s)>>26,this.words[n]=0x3ffffff&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var r,i=this.length-e.length,n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(i=26-this._countBits(s))&&(o=o.ushln(i),n.iushln(i),s=0|o.words[o.length-1]);var f=n.length-o.length;if("mod"!==t){(r=new a(null)).length=f+1,r.words=Array(r.length);for(var c=0;c<r.length;c++)r.words[c]=0}var u=n.clone()._ishlnsubmul(o,1,f);0===u.negative&&(n=u,r&&(r.words[f]=1));for(var h=f-1;h>=0;h--){var d=(0|n.words[o.length+h])*0x4000000+(0|n.words[o.length+h-1]);for(d=Math.min(d/s|0,0x3ffffff),n._ishlnsubmul(o,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);r&&(r.words[h]=d)}return r&&r.strip(),n.strip(),"div"!==t&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},a.prototype.divmod=function(e,t,r){var n,o,s;return(i(!e.isZero()),this.isZero())?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):(this.negative&e.negative)!=0?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t)},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),a=r.cmp(i);return a<0||1===n&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){i(e<=0x3ffffff);for(var t=0x4000000%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},a.prototype.idivn=function(e){i(e<=0x3ffffff);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+0x4000000*t;this.words[r]=n/e|0,t=n%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new a(1),o=new a(0),s=new a(0),f=new a(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,l=1;(t.words[0]&l)==0&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var p=0,b=1;(r.words[0]&b)==0&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||f.isOdd())&&(s.iadd(u),f.isub(h)),s.iushrn(1),f.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(s),o.isub(f)):(r.isub(t),s.isub(n),f.isub(o))}return{a:s,b:f,gcd:r.iushln(c)}},a.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t,r=this,n=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var o=new a(1),s=new a(0),f=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;(r.words[0]&u)==0&&c<26;++c,u<<=1);if(c>0)for(r.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(f),o.iushrn(1);for(var h=0,d=1;(n.words[0]&d)==0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);r.cmp(n)>=0?(r.isub(n),o.isub(s)):(n.isub(r),s.isub(o))}return 0>(t=0===r.cmpn(1)?o:s).cmpn(0)&&t.iadd(e),t},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var a=t;t=r,r=a}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var a=n,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];s+=a,a=s>>>26,s&=0x3ffffff,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=0x3ffffff,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return -1===this.cmpn(e)},a.prototype.lt=function(e){return -1===this.cmp(e)},a.prototype.lten=function(e){return 0>=this.cmpn(e)},a.prototype.lte=function(e){return 0>=this.cmp(e)},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new k(e)},a.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new a(null);return e.words=Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},n(v,w),v.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9){e.words[0]=0,e.length=1;return}var a=e.words[9];for(n=10,t.words[t.length++]=a&r;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=0x3ffffff&t,t=64*i+(t/0x4000000|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,w),n(x,w),n(S,w),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=(0|e.words[r])*19+t,n=0x3ffffff&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){var t;if(m[e])return m[e];if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new x;else if("p25519"===e)t=new S;else throw Error("Unknown prime "+e);return m[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i((e.negative|t.negative)==0,"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new a(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var s=new a(1).toRed(this),f=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);0!==this.pow(u,c).cmp(f);)u.redIAdd(f);for(var h=this.pow(u,n),d=this.pow(e,n.addn(1).iushrn(1)),l=this.pow(e,n),p=o;0!==l.cmp(s);){for(var b=l,y=0;0!==b.cmp(s);y++)b=b.redSqr();i(y<p);var g=this.pow(h,new a(1).iushln(p-y-1));d=d.redMul(g),h=g.redSqr(),l=l.redMul(h),p=y}return d},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=4,i=Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],e);var o=i[0],s=0,f=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],h=c-1;h>=0;h--){var d=u>>h&1;if(o!==i[0]&&(o=this.sqr(o)),0===d&&0===s){f=0;continue}s<<=1,s|=d,(++f===r||0===n&&0===h)&&(o=this.mul(o,i[s]),f=0,s=0)}c=26}return o},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new E(e)},n(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):0>n.cmpn(0)&&(a=n.iadd(this.m)),a._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},1670:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{u=r(4300).Buffer}catch(e){}function o(e,t,r){for(var n=0,a=Math.min(e.length,r),o=0,s=t;s<a;s++){var f,c=e.charCodeAt(s)-48;n<<=4,n|=f=c>=49&&c<=54?c-49+10:c>=17&&c<=22?c-17+10:c,o|=f}return i(!(240&o),"Invalid character in "+e),n}function s(e,t,r,n){for(var a=0,o=0,s=Math.min(e.length,r),f=t;f<s;f++){var c=e.charCodeAt(f)-48;a*=n,o=c>=49?c-49+10:c>=17?c-17+10:c,i(c>=0&&o<n,"Invalid character"),a+=o}return a}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return 0>e.cmp(t)?e:t},a.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this._strip(),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<0x4000000?(this.words=[0x3ffffff&e],this.length=1):e<0x10000000000000?(this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff],this.length=2):(i(e<0x20000000000000),this.words=[0x3ffffff&e,e/0x4000000&0x3ffffff,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var n,a,o=0;o<this.length;o++)this.words[o]=0;var s=0;if("be"===r)for(o=e.length-1,n=0;o>=0;o-=3)a=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[n]|=a<<s&0x3ffffff,this.words[n+1]=a>>>26-s&0x3ffffff,(s+=24)>=26&&(s-=26,n++);else if("le"===r)for(o=0,n=0;o<e.length;o+=3)a=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[n]|=a<<s&0x3ffffff,this.words[n+1]=a>>>26-s&0x3ffffff,(s+=24)>=26&&(s-=26,n++);return this._strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var r,i,n=0;n<this.length;n++)this.words[n]=0;var a=0;for(n=e.length-6,r=0;n>=t;n-=6)i=o(e,n,n+6),this.words[r]|=i<<a&0x3ffffff,this.words[r+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);n+6!==t&&(i=o(e,t,n+6),this.words[r]|=i<<a&0x3ffffff,this.words[r+1]|=i>>>26-a&4194303),this._strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=0x3ffffff;n*=t)i++;i--,n=n/t|0;for(var a=e.length-r,o=a%i,f=Math.min(a,a-o)+r,c=0,u=r;u<f;u+=i)c=s(e,u,u+i,t),this.imuln(n),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=s(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+c<0x4000000?this.words[0]+=c:this._iaddn(c)}},a.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){f(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?a.prototype[Symbol.for("nodejs.util.inspect.custom")]=c:a.prototype.inspect=c;var u,h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];a.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var r="",n=0,a=0,o=0;o<this.length;o++){var s=this.words[o],f=((s<<n|a)&0xffffff).toString(16);r=0!=(a=s>>>24-n&0xffffff)||o!==this.length-1?h[6-f.length]+f+r:f+r,(n+=2)>=26&&(n-=26,o--)}for(0!==a&&(r=a.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],u=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modrn(u).toString(e);r=(p=p.idivn(u)).isZero()?b+r:h[c-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=0x4000000*this.words[1]:3===this.length&&1===this.words[2]?e+=0x10000000000000+0x4000000*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},u&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(u,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};var p=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)};function b(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=e.words[i]>>>n&1}return t}function y(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],a=0|t.words[0],o=n*a,s=0x3ffffff&o,f=o/0x4000000|0;r.words[0]=s;for(var c=1;c<i;c++){for(var u=f>>>26,h=0x3ffffff&f,d=Math.min(c,t.length-1),l=Math.max(0,c-e.length+1);l<=d;l++){var p=c-l|0;u+=(o=(n=0|e.words[p])*(a=0|t.words[l])+h)/0x4000000|0,h=0x3ffffff&o}r.words[c]=0|h,f=0|u}return 0!==f?r.words[c]=0|f:r.length--,r._strip()}a.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),a=r||Math.max(1,n);i(n<=a,"byte array longer than desired length"),i(a>0,"Requested array length <= 0");var o=p(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,n),o},a.prototype._toArrayLikeLE=function(e,t){for(var r=0,i=0,n=0,a=0;n<this.length;n++){var o=this.words[n]<<a|i;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),i=0,a=0):(i=o>>>24,a+=2)}if(r<e.length)for(e[r++]=i;r<e.length;)e[r++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,i=0,n=0,a=0;n<this.length;n++){var o=this.words[n]<<a|i;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),i=0,a=0):(i=o>>>24,a+=2)}if(r>=0)for(e[r--]=i;r>=0;)e[r--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return i((this.negative|e.negative)==0),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return i((this.negative|e.negative)==0),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return i((this.negative|e.negative)==0),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=0x3ffffff&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&0x3ffffff>>26-r),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this._strip()},a.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var t,r,i,n=0,a=0;a<i.length;a++)t=(0|r.words[a])+(0|i.words[a])+n,this.words[a]=0x3ffffff&t,n=t>>>26;for(;0!==n&&a<r.length;a++)t=(0|r.words[a])+n,this.words[a]=0x3ffffff&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,i=this.iadd(e);return e.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(t=this,r=e):(t=e,r=this);for(var a=0,o=0;o<r.length;o++)a=(i=(0|t.words[o])-(0|r.words[o])+a)>>26,this.words[o]=0x3ffffff&i;for(;0!==a&&o<t.length;o++)a=(i=(0|t.words[o])+a)>>26,this.words[o]=0x3ffffff&i;if(0===a&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var i,n,a,o=e.words,s=t.words,f=r.words,c=0,u=0|o[0],h=8191&u,d=u>>>13,l=0|o[1],p=8191&l,b=l>>>13,y=0|o[2],g=8191&y,m=y>>>13,w=0|o[3],v=8191&w,_=w>>>13,x=0|o[4],S=8191&x,k=x>>>13,E=0|o[5],I=8191&E,A=E>>>13,M=0|o[6],P=8191&M,O=M>>>13,N=0|o[7],R=8191&N,T=N>>>13,C=0|o[8],B=8191&C,D=C>>>13,L=0|o[9],F=8191&L,U=L>>>13,j=0|s[0],q=8191&j,V=j>>>13,H=0|s[1],K=8191&H,z=H>>>13,W=0|s[2],$=8191&W,G=W>>>13,X=0|s[3],Y=8191&X,J=X>>>13,Z=0|s[4],Q=8191&Z,ee=Z>>>13,et=0|s[5],er=8191&et,ei=et>>>13,en=0|s[6],ea=8191&en,eo=en>>>13,es=0|s[7],ef=8191&es,ec=es>>>13,eu=0|s[8],eh=8191&eu,ed=eu>>>13,el=0|s[9],ep=8191&el,eb=el>>>13;r.negative=e.negative^t.negative,r.length=19,i=Math.imul(h,q);var ey=(c+i|0)+((8191&(n=(n=Math.imul(h,V))+Math.imul(d,q)|0))<<13)|0;c=((a=Math.imul(d,V))+(n>>>13)|0)+(ey>>>26)|0,ey&=0x3ffffff,i=Math.imul(p,q),n=(n=Math.imul(p,V))+Math.imul(b,q)|0,a=Math.imul(b,V),i=i+Math.imul(h,K)|0;var eg=(c+i|0)+((8191&(n=(n=n+Math.imul(h,z)|0)+Math.imul(d,K)|0))<<13)|0;c=((a=a+Math.imul(d,z)|0)+(n>>>13)|0)+(eg>>>26)|0,eg&=0x3ffffff,i=Math.imul(g,q),n=(n=Math.imul(g,V))+Math.imul(m,q)|0,a=Math.imul(m,V),i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,z)|0)+Math.imul(b,K)|0,a=a+Math.imul(b,z)|0,i=i+Math.imul(h,$)|0;var em=(c+i|0)+((8191&(n=(n=n+Math.imul(h,G)|0)+Math.imul(d,$)|0))<<13)|0;c=((a=a+Math.imul(d,G)|0)+(n>>>13)|0)+(em>>>26)|0,em&=0x3ffffff,i=Math.imul(v,q),n=(n=Math.imul(v,V))+Math.imul(_,q)|0,a=Math.imul(_,V),i=i+Math.imul(g,K)|0,n=(n=n+Math.imul(g,z)|0)+Math.imul(m,K)|0,a=a+Math.imul(m,z)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(b,$)|0,a=a+Math.imul(b,G)|0,i=i+Math.imul(h,Y)|0;var ew=(c+i|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(d,Y)|0))<<13)|0;c=((a=a+Math.imul(d,J)|0)+(n>>>13)|0)+(ew>>>26)|0,ew&=0x3ffffff,i=Math.imul(S,q),n=(n=Math.imul(S,V))+Math.imul(k,q)|0,a=Math.imul(k,V),i=i+Math.imul(v,K)|0,n=(n=n+Math.imul(v,z)|0)+Math.imul(_,K)|0,a=a+Math.imul(_,z)|0,i=i+Math.imul(g,$)|0,n=(n=n+Math.imul(g,G)|0)+Math.imul(m,$)|0,a=a+Math.imul(m,G)|0,i=i+Math.imul(p,Y)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,J)|0,i=i+Math.imul(h,Q)|0;var ev=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((a=a+Math.imul(d,ee)|0)+(n>>>13)|0)+(ev>>>26)|0,ev&=0x3ffffff,i=Math.imul(I,q),n=(n=Math.imul(I,V))+Math.imul(A,q)|0,a=Math.imul(A,V),i=i+Math.imul(S,K)|0,n=(n=n+Math.imul(S,z)|0)+Math.imul(k,K)|0,a=a+Math.imul(k,z)|0,i=i+Math.imul(v,$)|0,n=(n=n+Math.imul(v,G)|0)+Math.imul(_,$)|0,a=a+Math.imul(_,G)|0,i=i+Math.imul(g,Y)|0,n=(n=n+Math.imul(g,J)|0)+Math.imul(m,Y)|0,a=a+Math.imul(m,J)|0,i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,ee)|0,i=i+Math.imul(h,er)|0;var e_=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ei)|0)+Math.imul(d,er)|0))<<13)|0;c=((a=a+Math.imul(d,ei)|0)+(n>>>13)|0)+(e_>>>26)|0,e_&=0x3ffffff,i=Math.imul(P,q),n=(n=Math.imul(P,V))+Math.imul(O,q)|0,a=Math.imul(O,V),i=i+Math.imul(I,K)|0,n=(n=n+Math.imul(I,z)|0)+Math.imul(A,K)|0,a=a+Math.imul(A,z)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,G)|0,i=i+Math.imul(v,Y)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(_,Y)|0,a=a+Math.imul(_,J)|0,i=i+Math.imul(g,Q)|0,n=(n=n+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,i=i+Math.imul(p,er)|0,n=(n=n+Math.imul(p,ei)|0)+Math.imul(b,er)|0,a=a+Math.imul(b,ei)|0,i=i+Math.imul(h,ea)|0;var ex=(c+i|0)+((8191&(n=(n=n+Math.imul(h,eo)|0)+Math.imul(d,ea)|0))<<13)|0;c=((a=a+Math.imul(d,eo)|0)+(n>>>13)|0)+(ex>>>26)|0,ex&=0x3ffffff,i=Math.imul(R,q),n=(n=Math.imul(R,V))+Math.imul(T,q)|0,a=Math.imul(T,V),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,z)|0)+Math.imul(O,K)|0,a=a+Math.imul(O,z)|0,i=i+Math.imul(I,$)|0,n=(n=n+Math.imul(I,G)|0)+Math.imul(A,$)|0,a=a+Math.imul(A,G)|0,i=i+Math.imul(S,Y)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(k,Y)|0,a=a+Math.imul(k,J)|0,i=i+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,a=a+Math.imul(_,ee)|0,i=i+Math.imul(g,er)|0,n=(n=n+Math.imul(g,ei)|0)+Math.imul(m,er)|0,a=a+Math.imul(m,ei)|0,i=i+Math.imul(p,ea)|0,n=(n=n+Math.imul(p,eo)|0)+Math.imul(b,ea)|0,a=a+Math.imul(b,eo)|0,i=i+Math.imul(h,ef)|0;var eS=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ec)|0)+Math.imul(d,ef)|0))<<13)|0;c=((a=a+Math.imul(d,ec)|0)+(n>>>13)|0)+(eS>>>26)|0,eS&=0x3ffffff,i=Math.imul(B,q),n=(n=Math.imul(B,V))+Math.imul(D,q)|0,a=Math.imul(D,V),i=i+Math.imul(R,K)|0,n=(n=n+Math.imul(R,z)|0)+Math.imul(T,K)|0,a=a+Math.imul(T,z)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(O,$)|0,a=a+Math.imul(O,G)|0,i=i+Math.imul(I,Y)|0,n=(n=n+Math.imul(I,J)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,J)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(k,Q)|0,a=a+Math.imul(k,ee)|0,i=i+Math.imul(v,er)|0,n=(n=n+Math.imul(v,ei)|0)+Math.imul(_,er)|0,a=a+Math.imul(_,ei)|0,i=i+Math.imul(g,ea)|0,n=(n=n+Math.imul(g,eo)|0)+Math.imul(m,ea)|0,a=a+Math.imul(m,eo)|0,i=i+Math.imul(p,ef)|0,n=(n=n+Math.imul(p,ec)|0)+Math.imul(b,ef)|0,a=a+Math.imul(b,ec)|0,i=i+Math.imul(h,eh)|0;var ek=(c+i|0)+((8191&(n=(n=n+Math.imul(h,ed)|0)+Math.imul(d,eh)|0))<<13)|0;c=((a=a+Math.imul(d,ed)|0)+(n>>>13)|0)+(ek>>>26)|0,ek&=0x3ffffff,i=Math.imul(F,q),n=(n=Math.imul(F,V))+Math.imul(U,q)|0,a=Math.imul(U,V),i=i+Math.imul(B,K)|0,n=(n=n+Math.imul(B,z)|0)+Math.imul(D,K)|0,a=a+Math.imul(D,z)|0,i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,G)|0,i=i+Math.imul(P,Y)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(O,Y)|0,a=a+Math.imul(O,J)|0,i=i+Math.imul(I,Q)|0,n=(n=n+Math.imul(I,ee)|0)+Math.imul(A,Q)|0,a=a+Math.imul(A,ee)|0,i=i+Math.imul(S,er)|0,n=(n=n+Math.imul(S,ei)|0)+Math.imul(k,er)|0,a=a+Math.imul(k,ei)|0,i=i+Math.imul(v,ea)|0,n=(n=n+Math.imul(v,eo)|0)+Math.imul(_,ea)|0,a=a+Math.imul(_,eo)|0,i=i+Math.imul(g,ef)|0,n=(n=n+Math.imul(g,ec)|0)+Math.imul(m,ef)|0,a=a+Math.imul(m,ec)|0,i=i+Math.imul(p,eh)|0,n=(n=n+Math.imul(p,ed)|0)+Math.imul(b,eh)|0,a=a+Math.imul(b,ed)|0,i=i+Math.imul(h,ep)|0;var eE=(c+i|0)+((8191&(n=(n=n+Math.imul(h,eb)|0)+Math.imul(d,ep)|0))<<13)|0;c=((a=a+Math.imul(d,eb)|0)+(n>>>13)|0)+(eE>>>26)|0,eE&=0x3ffffff,i=Math.imul(F,K),n=(n=Math.imul(F,z))+Math.imul(U,K)|0,a=Math.imul(U,z),i=i+Math.imul(B,$)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(D,$)|0,a=a+Math.imul(D,G)|0,i=i+Math.imul(R,Y)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(T,Y)|0,a=a+Math.imul(T,J)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(O,Q)|0,a=a+Math.imul(O,ee)|0,i=i+Math.imul(I,er)|0,n=(n=n+Math.imul(I,ei)|0)+Math.imul(A,er)|0,a=a+Math.imul(A,ei)|0,i=i+Math.imul(S,ea)|0,n=(n=n+Math.imul(S,eo)|0)+Math.imul(k,ea)|0,a=a+Math.imul(k,eo)|0,i=i+Math.imul(v,ef)|0,n=(n=n+Math.imul(v,ec)|0)+Math.imul(_,ef)|0,a=a+Math.imul(_,ec)|0,i=i+Math.imul(g,eh)|0,n=(n=n+Math.imul(g,ed)|0)+Math.imul(m,eh)|0,a=a+Math.imul(m,ed)|0,i=i+Math.imul(p,ep)|0;var eI=(c+i|0)+((8191&(n=(n=n+Math.imul(p,eb)|0)+Math.imul(b,ep)|0))<<13)|0;c=((a=a+Math.imul(b,eb)|0)+(n>>>13)|0)+(eI>>>26)|0,eI&=0x3ffffff,i=Math.imul(F,$),n=(n=Math.imul(F,G))+Math.imul(U,$)|0,a=Math.imul(U,G),i=i+Math.imul(B,Y)|0,n=(n=n+Math.imul(B,J)|0)+Math.imul(D,Y)|0,a=a+Math.imul(D,J)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,ee)|0,i=i+Math.imul(P,er)|0,n=(n=n+Math.imul(P,ei)|0)+Math.imul(O,er)|0,a=a+Math.imul(O,ei)|0,i=i+Math.imul(I,ea)|0,n=(n=n+Math.imul(I,eo)|0)+Math.imul(A,ea)|0,a=a+Math.imul(A,eo)|0,i=i+Math.imul(S,ef)|0,n=(n=n+Math.imul(S,ec)|0)+Math.imul(k,ef)|0,a=a+Math.imul(k,ec)|0,i=i+Math.imul(v,eh)|0,n=(n=n+Math.imul(v,ed)|0)+Math.imul(_,eh)|0,a=a+Math.imul(_,ed)|0,i=i+Math.imul(g,ep)|0;var eA=(c+i|0)+((8191&(n=(n=n+Math.imul(g,eb)|0)+Math.imul(m,ep)|0))<<13)|0;c=((a=a+Math.imul(m,eb)|0)+(n>>>13)|0)+(eA>>>26)|0,eA&=0x3ffffff,i=Math.imul(F,Y),n=(n=Math.imul(F,J))+Math.imul(U,Y)|0,a=Math.imul(U,J),i=i+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,ee)|0)+Math.imul(D,Q)|0,a=a+Math.imul(D,ee)|0,i=i+Math.imul(R,er)|0,n=(n=n+Math.imul(R,ei)|0)+Math.imul(T,er)|0,a=a+Math.imul(T,ei)|0,i=i+Math.imul(P,ea)|0,n=(n=n+Math.imul(P,eo)|0)+Math.imul(O,ea)|0,a=a+Math.imul(O,eo)|0,i=i+Math.imul(I,ef)|0,n=(n=n+Math.imul(I,ec)|0)+Math.imul(A,ef)|0,a=a+Math.imul(A,ec)|0,i=i+Math.imul(S,eh)|0,n=(n=n+Math.imul(S,ed)|0)+Math.imul(k,eh)|0,a=a+Math.imul(k,ed)|0,i=i+Math.imul(v,ep)|0;var eM=(c+i|0)+((8191&(n=(n=n+Math.imul(v,eb)|0)+Math.imul(_,ep)|0))<<13)|0;c=((a=a+Math.imul(_,eb)|0)+(n>>>13)|0)+(eM>>>26)|0,eM&=0x3ffffff,i=Math.imul(F,Q),n=(n=Math.imul(F,ee))+Math.imul(U,Q)|0,a=Math.imul(U,ee),i=i+Math.imul(B,er)|0,n=(n=n+Math.imul(B,ei)|0)+Math.imul(D,er)|0,a=a+Math.imul(D,ei)|0,i=i+Math.imul(R,ea)|0,n=(n=n+Math.imul(R,eo)|0)+Math.imul(T,ea)|0,a=a+Math.imul(T,eo)|0,i=i+Math.imul(P,ef)|0,n=(n=n+Math.imul(P,ec)|0)+Math.imul(O,ef)|0,a=a+Math.imul(O,ec)|0,i=i+Math.imul(I,eh)|0,n=(n=n+Math.imul(I,ed)|0)+Math.imul(A,eh)|0,a=a+Math.imul(A,ed)|0,i=i+Math.imul(S,ep)|0;var eP=(c+i|0)+((8191&(n=(n=n+Math.imul(S,eb)|0)+Math.imul(k,ep)|0))<<13)|0;c=((a=a+Math.imul(k,eb)|0)+(n>>>13)|0)+(eP>>>26)|0,eP&=0x3ffffff,i=Math.imul(F,er),n=(n=Math.imul(F,ei))+Math.imul(U,er)|0,a=Math.imul(U,ei),i=i+Math.imul(B,ea)|0,n=(n=n+Math.imul(B,eo)|0)+Math.imul(D,ea)|0,a=a+Math.imul(D,eo)|0,i=i+Math.imul(R,ef)|0,n=(n=n+Math.imul(R,ec)|0)+Math.imul(T,ef)|0,a=a+Math.imul(T,ec)|0,i=i+Math.imul(P,eh)|0,n=(n=n+Math.imul(P,ed)|0)+Math.imul(O,eh)|0,a=a+Math.imul(O,ed)|0,i=i+Math.imul(I,ep)|0;var eO=(c+i|0)+((8191&(n=(n=n+Math.imul(I,eb)|0)+Math.imul(A,ep)|0))<<13)|0;c=((a=a+Math.imul(A,eb)|0)+(n>>>13)|0)+(eO>>>26)|0,eO&=0x3ffffff,i=Math.imul(F,ea),n=(n=Math.imul(F,eo))+Math.imul(U,ea)|0,a=Math.imul(U,eo),i=i+Math.imul(B,ef)|0,n=(n=n+Math.imul(B,ec)|0)+Math.imul(D,ef)|0,a=a+Math.imul(D,ec)|0,i=i+Math.imul(R,eh)|0,n=(n=n+Math.imul(R,ed)|0)+Math.imul(T,eh)|0,a=a+Math.imul(T,ed)|0,i=i+Math.imul(P,ep)|0;var eN=(c+i|0)+((8191&(n=(n=n+Math.imul(P,eb)|0)+Math.imul(O,ep)|0))<<13)|0;c=((a=a+Math.imul(O,eb)|0)+(n>>>13)|0)+(eN>>>26)|0,eN&=0x3ffffff,i=Math.imul(F,ef),n=(n=Math.imul(F,ec))+Math.imul(U,ef)|0,a=Math.imul(U,ec),i=i+Math.imul(B,eh)|0,n=(n=n+Math.imul(B,ed)|0)+Math.imul(D,eh)|0,a=a+Math.imul(D,ed)|0,i=i+Math.imul(R,ep)|0;var eR=(c+i|0)+((8191&(n=(n=n+Math.imul(R,eb)|0)+Math.imul(T,ep)|0))<<13)|0;c=((a=a+Math.imul(T,eb)|0)+(n>>>13)|0)+(eR>>>26)|0,eR&=0x3ffffff,i=Math.imul(F,eh),n=(n=Math.imul(F,ed))+Math.imul(U,eh)|0,a=Math.imul(U,ed),i=i+Math.imul(B,ep)|0;var eT=(c+i|0)+((8191&(n=(n=n+Math.imul(B,eb)|0)+Math.imul(D,ep)|0))<<13)|0;c=((a=a+Math.imul(D,eb)|0)+(n>>>13)|0)+(eT>>>26)|0,eT&=0x3ffffff,i=Math.imul(F,ep);var eC=(c+i|0)+((8191&(n=(n=Math.imul(F,eb))+Math.imul(U,ep)|0))<<13)|0;return c=((a=Math.imul(U,eb))+(n>>>13)|0)+(eC>>>26)|0,eC&=0x3ffffff,f[0]=ey,f[1]=eg,f[2]=em,f[3]=ew,f[4]=ev,f[5]=e_,f[6]=ex,f[7]=eS,f[8]=ek,f[9]=eE,f[10]=eI,f[11]=eA,f[12]=eM,f[13]=eP,f[14]=eO,f[15]=eN,f[16]=eR,f[17]=eT,f[18]=eC,0!==c&&(f[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,a=0;a<r.length-1;a++){var o=n;n=0;for(var s=0x3ffffff&i,f=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=f;c++){var u=a-c,h=(0|e.words[u])*(0|t.words[c]),d=0x3ffffff&h;o=o+(h/0x4000000|0)|0,s=0x3ffffff&(d=d+s|0),n+=(o=o+(d>>>26)|0)>>>26,o&=0x3ffffff}r.words[a]=s,i=o,o=n}return 0!==i?r.words[a]=i:r.length--,r._strip()}function w(e,t,r){return m(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=y),a.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?y(this,e,t):r<1024?m(this,e,t):w(this,e,t)},v.prototype.makeRBT=function(e){for(var t=Array(e),r=a.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},v.prototype.permute=function(e,t,r,i,n,a){for(var o=0;o<a;o++)i[o]=t[e[o]],n[o]=r[e[o]]},v.prototype.transform=function(e,t,r,i,n,a){this.permute(a,e,t,r,i,n);for(var o=1;o<n;o<<=1)for(var s=o<<1,f=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<n;u+=s)for(var h=f,d=c,l=0;l<o;l++){var p=r[u+l],b=i[u+l],y=r[u+l+o],g=i[u+l+o],m=h*y-d*g;g=h*g+d*y,y=m,r[u+l]=p+y,i[u+l]=b+g,r[u+l+o]=p-y,i[u+l+o]=b-g,l!==s&&(m=f*h-c*d,d=f*d+c*h,h=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},v.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=0x3ffffff&n,r=n<0x4000000?0:n/0x4000000|0}return e},v.prototype.convert13b=function(e,t,r,n){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<n;++o)r[o]=0;i(0===a),i((-8192&a)==0)},v.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),a=this.stub(i),o=Array(i),s=Array(i),f=Array(i),c=Array(i),u=Array(i),h=Array(i),d=r.words;d.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,c,i),this.transform(o,a,s,f,i,n),this.transform(c,a,u,h,i,n);for(var l=0;l<i;l++){var p=s[l]*u[l]-f[l]*h[l];f[l]=s[l]*h[l]+f[l]*u[l],s[l]=p}return this.conjugate(s,f,i),this.transform(s,f,d,a,i,n),this.conjugate(d,a,i),this.normalize13b(d,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=Array(this.length+e.length),w(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"==typeof e),i(e<0x4000000);for(var r=0,n=0;n<this.length;n++){var a=(0|this.words[n])*e,o=(0x3ffffff&a)+(0x3ffffff&r);r>>=26,r+=(a/0x4000000|0)+(o>>>26),this.words[n]=0x3ffffff&o}return 0!==r&&(this.words[n]=r,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=b(e);if(0===t.length)return new a(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},a.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,a=0x3ffffff>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,f=(0|this.words[t])-s<<r;this.words[t]=f|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},a.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,r){i("number"==typeof e&&e>=0);var n=t?(t-t%26)/26:0,a=e%26,o=Math.min((e-a)/26,this.length),s=0x3ffffff^0x3ffffff>>>a<<a,f=r;if(n-=o,n=Math.max(0,n),f){for(var c=0;c<o;c++)f.words[c]=this.words[c];f.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=n);c--){var h=0|this.words[c];this.words[c]=u<<26-a|h>>>a,u=h&s}return f&&0!==u&&(f.words[f.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},a.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=0x3ffffff^0x3ffffff>>>t<<t;this.words[this.length-1]&=n}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return(i("number"==typeof e),i(e<0x4000000),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=0x4000000;t++)this.words[t]-=0x4000000,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(i("number"==typeof e),i(e<0x4000000),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=0x4000000,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,r){var n,a,o=e.length+r;this._expand(o);var s=0;for(n=0;n<e.length;n++){a=(0|this.words[n+r])+s;var f=(0|e.words[n])*t;a-=0x3ffffff&f,s=(a>>26)-(f/0x4000000|0),this.words[n+r]=0x3ffffff&a}for(;n<this.length-r;n++)s=(a=(0|this.words[n+r])+s)>>26,this.words[n+r]=0x3ffffff&a;if(0===s)return this._strip();for(i(-1===s),s=0,n=0;n<this.length;n++)s=(a=-(0|this.words[n])+s)>>26,this.words[n]=0x3ffffff&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var r,i=this.length-e.length,n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(i=26-this._countBits(s))&&(o=o.ushln(i),n.iushln(i),s=0|o.words[o.length-1]);var f=n.length-o.length;if("mod"!==t){(r=new a(null)).length=f+1,r.words=Array(r.length);for(var c=0;c<r.length;c++)r.words[c]=0}var u=n.clone()._ishlnsubmul(o,1,f);0===u.negative&&(n=u,r&&(r.words[f]=1));for(var h=f-1;h>=0;h--){var d=(0|n.words[o.length+h])*0x4000000+(0|n.words[o.length+h-1]);for(d=Math.min(d/s|0,0x3ffffff),n._ishlnsubmul(o,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);r&&(r.words[h]=d)}return r&&r._strip(),n._strip(),"div"!==t&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},a.prototype.divmod=function(e,t,r){var n,o,s;return(i(!e.isZero()),this.isZero())?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:n,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):(this.negative&e.negative)!=0?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t)},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),a=r.cmp(i);return a<0||1===n&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=0x3ffffff);for(var r=0x4000000%e,n=0,a=this.length-1;a>=0;a--)n=(r*n+(0|this.words[a]))%e;return t?-n:n},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=0x3ffffff);for(var r=0,n=this.length-1;n>=0;n--){var a=(0|this.words[n])+0x4000000*r;this.words[n]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new a(1),o=new a(0),s=new a(0),f=new a(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var u=r.clone(),h=t.clone();!t.isZero();){for(var d=0,l=1;(t.words[0]&l)==0&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(u),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var p=0,b=1;(r.words[0]&b)==0&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||f.isOdd())&&(s.iadd(u),f.isub(h)),s.iushrn(1),f.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(s),o.isub(f)):(r.isub(t),s.isub(n),f.isub(o))}return{a:s,b:f,gcd:r.iushln(c)}},a.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t,r=this,n=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var o=new a(1),s=new a(0),f=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,u=1;(r.words[0]&u)==0&&c<26;++c,u<<=1);if(c>0)for(r.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(f),o.iushrn(1);for(var h=0,d=1;(n.words[0]&d)==0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(f),s.iushrn(1);r.cmp(n)>=0?(r.isub(n),o.isub(s)):(n.isub(r),s.isub(o))}return 0>(t=0===r.cmpn(1)?o:s).cmpn(0)&&t.iadd(e),t},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var a=t;t=r,r=a}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var a=n,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];s+=a,a=s>>>26,s&=0x3ffffff,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=0x3ffffff,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return -1===this.cmpn(e)},a.prototype.lt=function(e){return -1===this.cmp(e)},a.prototype.lten=function(e){return 0>=this.cmpn(e)},a.prototype.lte=function(e){return 0>=this.cmp(e)},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new A(e)},a.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new a(null);return e.words=Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n)var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},n(S,x),S.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9){e.words[0]=0,e.length=1;return}var a=e.words[9];for(n=10,t.words[t.length++]=a&r;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=0x3ffffff&t,t=64*i+(t/0x4000000|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(k,x),n(E,x),n(I,x),I.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=(0|e.words[r])*19+t,n=0x3ffffff&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){var t;if(_[e])return _[e];if("k256"===e)t=new S;else if("p224"===e)t=new k;else if("p192"===e)t=new E;else if("p25519"===e)t=new I;else throw Error("Unknown prime "+e);return _[e]=t,t},A.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){i((e.negative|t.negative)==0,"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new a(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),o=0;!n.isZero()&&0===n.andln(1);)o++,n.iushrn(1);i(!n.isZero());var s=new a(1).toRed(this),f=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);0!==this.pow(u,c).cmp(f);)u.redIAdd(f);for(var h=this.pow(u,n),d=this.pow(e,n.addn(1).iushrn(1)),l=this.pow(e,n),p=o;0!==l.cmp(s);){for(var b=l,y=0;0!==b.cmp(s);y++)b=b.redSqr();i(y<p);var g=this.pow(h,new a(1).iushln(p-y-1));d=d.redMul(g),h=g.redSqr(),l=l.redMul(h),p=y}return d},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=4,i=Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],e);var o=i[0],s=0,f=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],h=c-1;h>=0;h--){var d=u>>h&1;if(o!==i[0]&&(o=this.sqr(o)),0===d&&0===s){f=0;continue}s<<=1,s|=d,(++f===r||0===n&&0===h)&&(o=this.mul(o,i[s]),f=0,s=0)}c=26}return o},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new M(e)},n(M,A),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):0>n.cmpn(0)&&(a=n.iadd(this.m)),a._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},3500:function(e,t,r){var i;function n(e){this.rand=e}if(e.exports=function(e){return i||(i=new n(null)),i.generate(e)},e.exports.Rand=n,n.prototype.generate=function(e){return this._rand(e)},n.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(n.prototype._rand=function(){throw Error("Not implemented yet")});else try{var a=r(6113);if("function"!=typeof a.randomBytes)throw Error("Not supported");n.prototype._rand=function(e){return a.randomBytes(e)}}catch(e){}},1387:function(e,t,r){var i=r(6911).Buffer;function n(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,r=Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(4*n);return r}function a(e){for(var t=0;t<e.length;e++)e[t]=0}function o(e,t,r,i,n){for(var a,o,s,f,c=r[0],u=r[1],h=r[2],d=r[3],l=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],y=e[3]^t[3],g=4,m=1;m<n;m++)a=c[l>>>24]^u[p>>>16&255]^h[b>>>8&255]^d[255&y]^t[g++],o=c[p>>>24]^u[b>>>16&255]^h[y>>>8&255]^d[255&l]^t[g++],s=c[b>>>24]^u[y>>>16&255]^h[l>>>8&255]^d[255&p]^t[g++],f=c[y>>>24]^u[l>>>16&255]^h[p>>>8&255]^d[255&b]^t[g++],l=a,p=o,b=s,y=f;return a=(i[l>>>24]<<24|i[p>>>16&255]<<16|i[b>>>8&255]<<8|i[255&y])^t[g++],o=(i[p>>>24]<<24|i[b>>>16&255]<<16|i[y>>>8&255]<<8|i[255&l])^t[g++],s=(i[b>>>24]<<24|i[y>>>16&255]<<16|i[l>>>8&255]<<8|i[255&p])^t[g++],[a>>>=0,o>>>=0,s>>>=0,f=((i[y>>>24]<<24|i[l>>>16&255]<<16|i[p>>>8&255]<<8|i[255&b])^t[g++])>>>0]}var s=[0,1,2,4,8,16,32,64,128,27,54],f=function(){for(var e=Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=[],i=[],n=[[],[],[],[]],a=[[],[],[],[]],o=0,s=0,f=0;f<256;++f){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,r[o]=c,i[c]=o;var u=e[o],h=e[u],d=e[h],l=257*e[c]^0x1010100*c;n[0][o]=l<<24|l>>>8,n[1][o]=l<<16|l>>>16,n[2][o]=l<<8|l>>>24,n[3][o]=l,l=0x1010101*d^65537*h^257*u^0x1010100*o,a[0][c]=l<<24|l>>>8,a[1][c]=l<<16|l>>>16,a[2][c]=l<<8|l>>>24,a[3][c]=l,0===o?o=s=1:(o=u^e[e[e[d^u]]],s^=e[e[s]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:a}}();function c(e){this._key=n(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,i=(r+1)*4,n=[],a=0;a<t;a++)n[a]=e[a];for(a=t;a<i;a++){var o=n[a-1];a%t==0?(o=o<<8|o>>>24,o=(f.SBOX[o>>>24]<<24|f.SBOX[o>>>16&255]<<16|f.SBOX[o>>>8&255]<<8|f.SBOX[255&o])^s[a/t|0]<<24):t>6&&a%t==4&&(o=f.SBOX[o>>>24]<<24|f.SBOX[o>>>16&255]<<16|f.SBOX[o>>>8&255]<<8|f.SBOX[255&o]),n[a]=n[a-t]^o}for(var c=[],u=0;u<i;u++){var h=i-u,d=n[h-(u%4?0:4)];u<4||h<=4?c[u]=d:c[u]=f.INV_SUB_MIX[0][f.SBOX[d>>>24]]^f.INV_SUB_MIX[1][f.SBOX[d>>>16&255]]^f.INV_SUB_MIX[2][f.SBOX[d>>>8&255]]^f.INV_SUB_MIX[3][f.SBOX[255&d]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return o(e=n(e),this._keySchedule,f.SUB_MIX,f.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=i.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},c.prototype.decryptBlock=function(e){var t=(e=n(e))[1];e[1]=e[3],e[3]=t;var r=o(e,this._invKeySchedule,f.INV_SUB_MIX,f.INV_SBOX,this._nRounds),a=i.allocUnsafe(16);return a.writeUInt32BE(r[0],0),a.writeUInt32BE(r[3],4),a.writeUInt32BE(r[2],8),a.writeUInt32BE(r[1],12),a},c.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},e.exports.AES=c},6624:function(e,t,r){var i=r(1387),n=r(6911).Buffer,a=r(1043),o=r(3782),s=r(7225),f=r(4734),c=r(598);function u(e,t){var r=0;e.length!==t.length&&r++;for(var i=Math.min(e.length,t.length),n=0;n<i;++n)r+=e[n]^t[n];return r}function h(e,t,r){if(12===t.length)return e._finID=n.concat([t,n.from([0,0,0,1])]),n.concat([t,n.from([0,0,0,2])]);var i=new s(r),a=t.length,o=a%16;i.update(t),o&&(o=16-o,i.update(n.alloc(o,0))),i.update(n.alloc(8,0));var f=8*a,u=n.alloc(8);u.writeUIntBE(f,0,8),i.update(u),e._finID=i.state;var h=n.from(e._finID);return c(h),h}function d(e,t,r,o){a.call(this);var f=n.alloc(4,0);this._cipher=new i.AES(t);var c=this._cipher.encryptBlock(f);this._ghash=new s(c),r=h(this,r,c),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}o(d,a),d.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=n.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw Error("Unsupported state or unable to authenticate data");var e=f(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&u(e,this._authTag))throw Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(e){if(!this._decrypt)throw Error("Attempting to set auth tag in unsupported state");this._authTag=e},d.prototype.setAAD=function(e){if(this._called)throw Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=d},6594:function(e,t,r){var i=r(2),n=r(2598),a=r(5866);function o(){return Object.keys(a)}t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=n.createDecipher,t.createDecipheriv=t.Decipheriv=n.createDecipheriv,t.listCiphers=t.getCiphers=o},2598:function(e,t,r){var i=r(6624),n=r(6911).Buffer,a=r(6370),o=r(126),s=r(1043),f=r(1387),c=r(8368);function u(e,t,r){s.call(this),this._cache=new h,this._last=void 0,this._cipher=new f.AES(t),this._prev=n.from(r),this._mode=e,this._autopadding=!0}function h(){this.cache=n.allocUnsafe(0)}function d(e){var t=e[15];if(t<1||t>16)throw Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function l(e,t,r){var s=a[e.toLowerCase()];if(!s)throw TypeError("invalid suite type");if("string"==typeof r&&(r=n.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=n.from(t)),t.length!==s.key/8)throw TypeError("invalid key length "+t.length);return"stream"===s.type?new o(s.module,t,r,!0):"auth"===s.type?new i(s.module,t,r,!0):new u(s.module,t,r)}r(3782)(u,s),u.prototype._update=function(e){this._cache.add(e);for(var t,r,i=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),i.push(r);return n.concat(i)},u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return d(this._mode.decrypt(this,e));if(e)throw Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=n.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=a[e.toLowerCase()];if(!r)throw TypeError("invalid suite type");var i=c(t,!1,r.key,r.iv);return l(e,i.key,i.iv)},t.createDecipheriv=l},2:function(e,t,r){var i=r(6370),n=r(6624),a=r(6911).Buffer,o=r(126),s=r(1043),f=r(1387),c=r(8368);function u(e,t,r){s.call(this),this._cache=new d,this._cipher=new f.AES(t),this._prev=a.from(r),this._mode=e,this._autopadding=!0}r(3782)(u,s),u.prototype._update=function(e){this._cache.add(e);for(var t,r,i=[];t=this._cache.get();)r=this._mode.encrypt(this,t),i.push(r);return a.concat(i)};var h=a.alloc(16,16);function d(){this.cache=a.allocUnsafe(0)}function l(e,t,r){var s=i[e.toLowerCase()];if(!s)throw TypeError("invalid suite type");if("string"==typeof t&&(t=a.from(t)),t.length!==s.key/8)throw TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=a.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw TypeError("invalid iv length "+r.length);return"stream"===s.type?new o(s.module,t,r):"auth"===s.type?new n(s.module,t,r):new u(s.module,t,r)}function p(e,t){var r=i[e.toLowerCase()];if(!r)throw TypeError("invalid suite type");var n=c(t,!1,r.key,r.iv);return l(e,n.key,n.iv)}u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=a.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=a.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return a.concat([this.cache,t])},t.createCipheriv=l,t.createCipher=p},7225:function(e,t,r){var i=r(6911).Buffer,n=i.alloc(16,0);function a(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function o(e){var t=i.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r=a(this.h),i=[0,0,0,0],n=-1;++n<128;){for((this.state[~~(n/8)]&1<<7-n%8)!=0&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),t=(1&r[3])!=0,e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,t&&(r[0]=-0x1f000000^r[0])}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=i.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=s},598:function(e){e.exports=function(e){for(var t,r=e.length;r--;)if(255===(t=e.readUInt8(r)))e.writeUInt8(0,r);else{t++,e.writeUInt8(t,r);break}}},9825:function(e,t,r){var i=r(4734);t.encrypt=function(e,t){var r=i(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;return e._prev=t,i(e._cipher.decryptBlock(t),r)}},321:function(e,t,r){var i=r(6911).Buffer,n=r(4734);function a(e,t,r){var a=t.length,o=n(t,e._cache);return e._cache=e._cache.slice(a),e._prev=i.concat([e._prev,r?t:o]),o}t.encrypt=function(e,t,r){for(var n,o=i.allocUnsafe(0);t.length;)if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),e._cache.length<=t.length)n=e._cache.length,o=i.concat([o,a(e,t.slice(0,n),r)]),t=t.slice(n);else{o=i.concat([o,a(e,t,r)]);break}return o}},3147:function(e,t,r){var i=r(6911).Buffer;function n(e,t,r){for(var i,n,o,s=-1,f=8,c=0;++s<f;)i=e._cipher.encryptBlock(e._prev),n=t&1<<7-s?128:0,c+=(128&(o=i[0]^n))>>s%8,e._prev=a(e._prev,r?n:o);return c}function a(e,t){var r=e.length,n=-1,a=i.allocUnsafe(e.length);for(e=i.concat([e,i.from([t])]);++n<r;)a[n]=e[n]<<1|e[n+1]>>7;return a}t.encrypt=function(e,t,r){for(var a=t.length,o=i.allocUnsafe(a),s=-1;++s<a;)o[s]=n(e,t[s],r);return o}},2430:function(e,t,r){var i=r(6911).Buffer;function n(e,t,r){var n=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([r?t:n])]),n}t.encrypt=function(e,t,r){for(var a=t.length,o=i.allocUnsafe(a),s=-1;++s<a;)o[s]=n(e,t[s],r);return o}},3361:function(e,t,r){var i=r(4734),n=r(6911).Buffer,a=r(598);function o(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}var s=16;t.encrypt=function(e,t){var r=Math.ceil(t.length/s),a=e._cache.length;e._cache=n.concat([e._cache,n.allocUnsafe(r*s)]);for(var f=0;f<r;f++){var c=o(e),u=a+f*s;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var h=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,h)}},1590:function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},6370:function(e,t,r){var i={ECB:r(1590),CBC:r(9825),CFB:r(321),CFB8:r(2430),CFB1:r(3147),OFB:r(3412),CTR:r(3361),GCM:r(3361)},n=r(5866);for(var a in n)n[a].module=i[n[a].mode];e.exports=n},3412:function(e,t,r){var n=r(4734);function a(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=i.Buffer.concat([e._cache,a(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,r)}},126:function(e,t,r){var i=r(1387),n=r(6911).Buffer,a=r(1043);function o(e,t,r,o){a.call(this),this._cipher=new i.AES(t),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=o,this._mode=e}r(3782)(o,a),o.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},e.exports=o},8996:function(e,t,r){var i=r(5238),n=r(6594),a=r(6370),o=r(6280),s=r(8368);function f(e,t){if(a[e=e.toLowerCase()])r=a[e].key,i=a[e].iv;else if(o[e])r=8*o[e].key,i=o[e].iv;else throw TypeError("invalid suite type");var r,i,n=s(t,!1,r,i);return u(e,n.key,n.iv)}function c(e,t,r){if(a[e=e.toLowerCase()])return n.createCipheriv(e,t,r);if(o[e])return new i({key:t,iv:r,mode:e});throw TypeError("invalid suite type")}function u(e,t,r){if(a[e=e.toLowerCase()])return n.createDecipheriv(e,t,r);if(o[e])return new i({key:t,iv:r,mode:e,decrypt:!0});throw TypeError("invalid suite type")}function h(){return Object.keys(o).concat(n.getCiphers())}t.createCipher=t.Cipher=function(e,t){if(a[e=e.toLowerCase()])r=a[e].key,i=a[e].iv;else if(o[e])r=8*o[e].key,i=o[e].iv;else throw TypeError("invalid suite type");var r,i,n=s(t,!1,r,i);return c(e,n.key,n.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=f,t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=h},5238:function(e,t,r){var i=r(1043),n=r(9536),a=r(3782),o=r(6911).Buffer,s={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function f(e){i.call(this);var t,r=e.mode.toLowerCase(),n=s[r];t=e.decrypt?"decrypt":"encrypt";var a=e.key;o.isBuffer(a)||(a=o.from(a)),("des-ede"===r||"des-ede-cbc"===r)&&(a=o.concat([a,a.slice(0,8)]));var f=e.iv;o.isBuffer(f)||(f=o.from(f)),this._des=n.create({key:a,iv:f,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=f,a(f,i),f.prototype._update=function(e){return o.from(this._des.update(e))},f.prototype._final=function(){return o.from(this._des.final())}},6280:function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},7166:function(e,t,r){var n=r(711),a=r(7223);function o(e){var t=f(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}function s(e,t){var r=o(t),a=t.modulus.byteLength();n.mont(t.modulus);var s=new n(e).mul(r.blinder).umod(t.modulus),f=s.toRed(n.mont(t.prime1)),c=s.toRed(n.mont(t.prime2)),u=t.coefficient,h=t.prime1,d=t.prime2,l=f.redPow(t.exponent1),p=c.redPow(t.exponent2);l=l.fromRed(),p=p.fromRed();var b=l.isub(p).imul(u).umod(h);return b.imul(d),p.iadd(b),new i.Buffer(p.imul(r.unblinder).umod(t.modulus).toArray(!1,a))}function f(e){for(var t=e.modulus.byteLength(),r=new n(a(t));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new n(a(t));return r}e.exports=s,s.getr=f},9276:function(e,t,r){e.exports=r(2908)},4078:function(e,t,r){var i=r(6911).Buffer,n=r(9739),a=r(3726),o=r(3782),s=r(9807),f=r(4013),c=r(2908);function u(e){a.Writable.call(this);var t=c[e];if(!t)throw Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){a.Writable.call(this);var t=c[e];if(!t)throw Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new u(e)}function l(e){return new h(e)}Object.keys(c).forEach(function(e){c[e].id=i.from(c[e].id,"hex"),c[e.toLowerCase()]=c[e]}),o(u,a.Writable),u.prototype._write=function(e,t,r){this._hash.update(e),r()},u.prototype.update=function(e,t){return"string"==typeof e&&(e=i.from(e,t)),this._hash.update(e),this},u.prototype.sign=function(e,t){this.end();var r=s(this._hash.digest(),e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},o(h,a.Writable),h.prototype._write=function(e,t,r){this._hash.update(e),r()},h.prototype.update=function(e,t){return"string"==typeof e&&(e=i.from(e,t)),this._hash.update(e),this},h.prototype.verify=function(e,t,r){return"string"==typeof t&&(t=i.from(t,r)),this.end(),f(t,this._hash.digest(),e,this._signType,this._tag)},e.exports={Sign:d,Verify:l,createSign:d,createVerify:l}},9807:function(e,t,r){var i=r(6911).Buffer,n=r(4873),a=r(7166),o=r(949).ec,s=r(1670),f=r(9902),c=r(9267);function u(e,t){var r=c[t.curve.join(".")];if(!r)throw Error("unknown curve "+t.curve.join("."));var n=new o(r).keyFromPrivate(t.privateKey).sign(e);return i.from(n.toDER())}function h(e,t,r){for(var i,n=t.params.priv_key,a=t.params.p,o=t.params.q,f=t.params.g,c=new s(0),u=p(e,o).mod(o),h=!1,b=l(n,o,e,r);!1===h;)c=g(f,i=y(o,b,r),a,o),0===(h=i.invm(o).imul(u.add(n.mul(c))).mod(o)).cmpn(0)&&(h=!1,c=new s(0));return d(c,h)}function d(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),i.from(r)}function l(e,t,r,a){if((e=i.from(e.toArray())).length<t.byteLength()){var o=i.alloc(t.byteLength()-e.length);e=i.concat([o,e])}var s=r.length,f=b(r,t),c=i.alloc(s);c.fill(1);var u=i.alloc(s);return u=n(a,u).update(c).update(i.from([0])).update(e).update(f).digest(),c=n(a,u).update(c).digest(),u=n(a,u).update(c).update(i.from([1])).update(e).update(f).digest(),c=n(a,u).update(c).digest(),{k:u,v:c}}function p(e,t){var r=new s(e),i=(e.length<<3)-t.bitLength();return i>0&&r.ishrn(i),r}function b(e,t){e=(e=p(e,t)).mod(t);var r=i.from(e.toArray());if(r.length<t.byteLength()){var n=i.alloc(t.byteLength()-r.length);r=i.concat([n,r])}return r}function y(e,t,r){var a,o;do{for(a=i.alloc(0);8*a.length<e.bitLength();)t.v=n(r,t.k).update(t.v).digest(),a=i.concat([a,t.v]);o=p(a,e),t.k=n(r,t.k).update(t.v).update(i.from([0])).digest(),t.v=n(r,t.k).update(t.v).digest()}while(-1!==o.cmp(e))return o}function g(e,t,r,i){return e.toRed(s.mont(r)).redPow(t).fromRed().mod(i)}e.exports=function(e,t,r,n,o){var s=f(t);if(s.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw Error("wrong private key type");return u(e,s)}if("dsa"===s.type){if("dsa"!==n)throw Error("wrong private key type");return h(e,s,r)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw Error("wrong private key type");e=i.concat([o,e]);for(var c=s.modulus.byteLength(),d=[0,1];e.length+d.length+1<c;)d.push(255);d.push(0);for(var l=-1;++l<e.length;)d.push(e[l]);return a(d,s)},e.exports.getKey=l,e.exports.makeKey=y},4013:function(e,t,r){var i=r(6911).Buffer,n=r(1670),a=r(949).ec,o=r(9902),s=r(9267);function f(e,t,r){var i=s[r.data.algorithm.curve.join(".")];if(!i)throw Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new a(i),o=r.data.subjectPrivateKey.data;return n.verify(t,e,o)}function c(e,t,r){var i=r.data.p,a=r.data.q,s=r.data.g,f=r.data.pub_key,c=o.signature.decode(e,"der"),h=c.s,d=c.r;u(h,a),u(d,a);var l=n.mont(i),p=h.invm(a);return 0===s.toRed(l).redPow(new n(t).mul(p).mod(a)).fromRed().mul(f.toRed(l).redPow(d.mul(p).mod(a)).fromRed()).mod(i).mod(a).cmp(d)}function u(e,t){if(0>=e.cmpn(0)||e.cmp(t)>=t)throw Error("invalid sig")}e.exports=function(e,t,r,a,s){var u=o(r);if("ec"===u.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw Error("wrong public key type");return f(e,t,u)}if("dsa"===u.type){if("dsa"!==a)throw Error("wrong public key type");return c(e,t,u)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw Error("wrong public key type");t=i.concat([s,t]);for(var h=u.modulus.byteLength(),d=[1],l=0;t.length+d.length+2<h;)d.push(255),l++;d.push(0);for(var p=-1;++p<t.length;)d.push(t[p]);d=i.from(d);var b=n.mont(u.modulus);e=(e=new n(e).toRed(b)).redPow(new n(u.publicExponent));var y=+(l<8);for(h=Math.min((e=i.from(e.fromRed().toArray())).length,d.length),e.length!==d.length&&(y=1),p=-1;++p<h;)y|=e[p]^d[p];return 0===y}},4734:function(e){e.exports=function(e,t){for(var r=Math.min(e.length,t.length),n=new i.Buffer(r),a=0;a<r;++a)n[a]=e[a]^t[a];return n}},1043:function(e,t,r){var i=r(6911).Buffer,n=r(2781).Transform,a=r(1576).StringDecoder;function o(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(3782)(o,n),o.prototype.update=function(e,t,r){"string"==typeof e&&(e=i.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,r){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{r(i)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw Error("can't switch encodings");var i=this._decoder.write(e);return r&&(i+=this._decoder.end()),i},e.exports=o},9942:function(e,t,r){var n=r(949),a=r(711);e.exports=function(e){return new s(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function f(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new i.Buffer(e);if(r&&n.length<r){var a=new i.Buffer(r-n.length);a.fill(0),n=i.Buffer.concat([a,n])}return t?n.toString(t):n}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,r){return t=t||"utf8",i.Buffer.isBuffer(e)||(e=new i.Buffer(e,t)),f(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),f(r,e)},s.prototype.getPrivateKey=function(e){return f(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",i.Buffer.isBuffer(e)||(e=new i.Buffer(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",i.Buffer.isBuffer(e)||(e=new i.Buffer(e,t));var r=new a(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},9739:function(e,t,r){"use strict";var i=r(3782),n=r(3533),a=r(3225),o=r(4371),s=r(1043);function f(e){s.call(this,"digest"),this._hash=e}i(f,s),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new a:new f(o(e))}},450:function(e,t,r){var i=r(3533);e.exports=function(e){return(new i).update(e).digest()}},4873:function(e,t,r){"use strict";var i=r(3782),n=r(8119),a=r(1043),o=r(6911).Buffer,s=r(450),f=r(3225),c=r(4371),u=o.alloc(128);function h(e,t){a.call(this,"digest"),"string"==typeof t&&(t=o.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new f:c(e)).update(t).digest():t.length<r&&(t=o.concat([t,u],r));for(var i=this._ipad=o.allocUnsafe(r),n=this._opad=o.allocUnsafe(r),s=0;s<r;s++)i[s]=54^t[s],n[s]=92^t[s];this._hash="rmd160"===e?new f:c(e),this._hash.update(i)}i(h,a),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new f:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new n(s,t):new h(e,t)}},8119:function(e,t,r){"use strict";var i=r(3782),n=r(6911).Buffer,a=r(1043),o=n.alloc(128),s=64;function f(e,t){a.call(this,"digest"),"string"==typeof t&&(t=n.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=n.concat([t,o],s));for(var r=this._ipad=n.allocUnsafe(s),i=this._opad=n.allocUnsafe(s),f=0;f<s;f++)r[f]=54^t[f],i[f]=92^t[f];this._hash=[r]}i(f,a),f.prototype._update=function(e){this._hash.push(e)},f.prototype._final=function(){var e=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,e]))},e.exports=f},9536:function(e,t,r){"use strict";t.utils=r(5334),t.Cipher=r(9876),t.DES=r(1016),t.CBC=r(8641),t.EDE=r(6159)},8641:function(e,t,r){"use strict";var i=r(3523),n=r(3782),a={};function o(e){i.equal(e.length,8,"Invalid IV length"),this.iv=Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}n(t,e);for(var r=Object.keys(a),i=0;i<r.length;i++){var o=r[i];t.prototype[o]=a[o]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new o(this.options.iv);this._cbcState=e},a._update=function(e,t,r,i){var n=this._cbcState,a=this.constructor.super_.prototype,o=n.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)o[s]^=e[t+s];a._update.call(this,o,0,r,i);for(var s=0;s<this.blockSize;s++)o[s]=r[i+s]}else{a._update.call(this,e,t,r,i);for(var s=0;s<this.blockSize;s++)r[i+s]^=o[s];for(var s=0;s<this.blockSize;s++)o[s]=e[t+s]}}},9876:function(e,t,r){"use strict";var i=r(3523);function n(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}e.exports=n,n.prototype._init=function(){},n.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},n.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),i=0;i<r;i++)this.buffer[this.bufferOff+i]=e[t+i];return this.bufferOff+=r,r},n.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(e){var t=0,r=0,i=Array(((this.bufferOff+e.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var n=e.length-(e.length-t)%this.blockSize;t<n;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},n.prototype._updateDecrypt=function(e){for(var t=0,r=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,n=Array(i*this.blockSize);i>0;i--)t+=this._buffer(e,t),r+=this._flushBuffer(n,r);return t+=this._buffer(e,t),n},n.prototype.final=function(e){var t,r;return(e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t)?t.concat(r):r},n.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=Array(this.blockSize);return this._update(this.buffer,0,e,0),e},n.prototype._unpad=function(e){return e},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},1016:function(e,t,r){"use strict";var i=r(3523),n=r(3782),a=r(5334),o=r(9876);function s(){this.tmp=[,,],this.keys=null}function f(e){o.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}n(f,o),e.exports=f,f.create=function(e){return new f(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];f.prototype.deriveKeys=function(e,t){e.keys=Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var r=a.readUInt32BE(t,0),n=a.readUInt32BE(t,4);a.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=c[o>>>1];r=a.r28shl(r,s),n=a.r28shl(n,s),a.pc2(r,n,e.keys,o)}},f.prototype._update=function(e,t,r,i){var n=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,n.tmp,0),o=n.tmp[0],s=n.tmp[1],"encrypt"===this.type?this._encrypt(n,o,s,n.tmp,0):this._decrypt(n,o,s,n.tmp,0),o=n.tmp[0],s=n.tmp[1],a.writeUInt32BE(r,o,i),a.writeUInt32BE(r,s,i+4)},f.prototype._pad=function(e,t){for(var r=e.length-t,i=t;i<e.length;i++)e[i]=r;return!0},f.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)i.equal(e[r],t);return e.slice(0,e.length-t)},f.prototype._encrypt=function(e,t,r,i,n){for(var o=t,s=r,f=0;f<e.keys.length;f+=2){var c=e.keys[f],u=e.keys[f+1];a.expand(s,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var h=a.substitute(c,u),d=a.permute(h),l=s;s=(o^d)>>>0,o=l}a.rip(s,o,i,n)},f.prototype._decrypt=function(e,t,r,i,n){for(var o=r,s=t,f=e.keys.length-2;f>=0;f-=2){var c=e.keys[f],u=e.keys[f+1];a.expand(o,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1];var h=a.substitute(c,u),d=a.permute(h),l=o;o=(s^d)>>>0,s=l}a.rip(o,s,i,n)}},6159:function(e,t,r){"use strict";var i=r(3523),n=r(3782),a=r(9876),o=r(1016);function s(e,t){i.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),a=t.slice(16,24);"encrypt"===e?this.ciphers=[o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:n}),o.create({type:"encrypt",key:a})]:this.ciphers=[o.create({type:"decrypt",key:a}),o.create({type:"encrypt",key:n}),o.create({type:"decrypt",key:r})]}function f(e){a.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}n(f,a),e.exports=f,f.create=function(e){return new f(e)},f.prototype._update=function(e,t,r,i){var n=this._edeState;n.ciphers[0]._update(e,t,r,i),n.ciphers[1]._update(r,i,r,i),n.ciphers[2]._update(r,i,r,i)},f.prototype._pad=o.prototype._pad,f.prototype._unpad=o.prototype._unpad},5334:function(e,t){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,i){for(var n=0,a=0,o=6;o>=0;o-=2){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>>s+o&1;for(var s=0;s<=24;s+=8)n<<=1,n|=e>>>s+o&1}for(var o=6;o>=0;o-=2){for(var s=1;s<=25;s+=8)a<<=1,a|=t>>>s+o&1;for(var s=1;s<=25;s+=8)a<<=1,a|=e>>>s+o&1}r[i+0]=n>>>0,r[i+1]=a>>>0},t.rip=function(e,t,r,i){for(var n=0,a=0,o=0;o<4;o++)for(var s=24;s>=0;s-=8)n<<=1,n|=t>>>s+o&1,n<<=1,n|=e>>>s+o&1;for(var o=4;o<8;o++)for(var s=24;s>=0;s-=8)a<<=1,a|=t>>>s+o&1,a<<=1,a|=e>>>s+o&1;r[i+0]=n>>>0,r[i+1]=a>>>0},t.pc1=function(e,t,r,i){for(var n=0,a=0,o=7;o>=5;o--){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>s+o&1;for(var s=0;s<=24;s+=8)n<<=1,n|=e>>s+o&1}for(var s=0;s<=24;s+=8)n<<=1,n|=t>>s+o&1;for(var o=1;o<=3;o++){for(var s=0;s<=24;s+=8)a<<=1,a|=t>>s+o&1;for(var s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1}for(var s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1;r[i+0]=n>>>0,r[i+1]=a>>>0},t.r28shl=function(e,t){return e<<t&0xfffffff|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,n){for(var a=0,o=0,s=r.length>>>1,f=0;f<s;f++)a<<=1,a|=e>>>r[f]&1;for(var f=s;f<r.length;f++)o<<=1,o|=t>>>r[f]&1;i[n+0]=a>>>0,i[n+1]=o>>>0},t.expand=function(e,t,r){var i=0,n=0;i=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)n|=e>>>a&63,n<<=6;n|=(31&e)<<1|e>>>31,t[r+0]=i>>>0,t[r+1]=n>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,n=0;n<4;n++){var a=e>>>18-6*n&63,o=i[64*n+a];r<<=4,r|=o}for(var n=0;n<4;n++){var a=t>>>18-6*n&63,o=i[256+64*n+a];r<<=4,r|=o}return r>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<n.length;r++)t<<=1,t|=e>>>n[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var n=[],a=0;a<t;a+=r)n.push(i.slice(a,a+r));return n.join(" ")}},6587:function(e,t,r){var n=r(296),a=r(7992),o=r(373),s={binary:!0,hex:!0,base64:!0};function f(e,t,r,a){return i.Buffer.isBuffer(t)||void 0===s[t]?f(e,"binary",t,r):(t=t||"binary",a=a||"binary",r=r||new i.Buffer([2]),i.Buffer.isBuffer(r)||(r=new i.Buffer(r,a)),"number"==typeof e)?new o(n(e,r),r,!0):(i.Buffer.isBuffer(e)||(e=new i.Buffer(e,t)),new o(e,r,!0))}t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){return new o(new i.Buffer(a[e].prime,"hex"),new i.Buffer(a[e].gen,"hex"))},t.createDiffieHellman=t.DiffieHellman=f},373:function(e,t,r){var n=r(711),a=new(r(1354)),o=new n(24),s=new n(11),f=new n(10),c=new n(3),u=new n(7),h=r(296),d=r(7223);function l(e,t){return t=t||"utf8",i.Buffer.isBuffer(e)||(e=new i.Buffer(e,t)),this._pub=new n(e),this}function p(e,t){return t=t||"utf8",i.Buffer.isBuffer(e)||(e=new i.Buffer(e,t)),this._priv=new n(e),this}e.exports=g;var b={};function y(e,t){var r,i=t.toString("hex"),n=[i,e.toString(16)].join("_");if(n in b)return b[n];var d=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!a.test(e))return d+=1,"02"===i||"05"===i?d+=8:d+=4,b[n]=d,d;switch(!a.test(e.shrn(1))&&(d+=2),i){case"02":e.mod(o).cmp(s)&&(d+=8);break;case"05":(r=e.mod(f)).cmp(c)&&r.cmp(u)&&(d+=8);break;default:d+=4}return b[n]=d,d}function g(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=l,this.setPrivateKey=p):this._primeCode=8}function m(e,t){var r=new i.Buffer(e.toArray());return t?r.toString(t):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=y(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new n(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(e){var t=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new i.Buffer(t.toArray()),a=this.getPrime();if(r.length<a.length){var o=new i.Buffer(a.length-r.length);o.fill(0),r=i.Buffer.concat([o,r])}return r},g.prototype.getPublicKey=function(e){return m(this._pub,e)},g.prototype.getPrivateKey=function(e){return m(this._priv,e)},g.prototype.getPrime=function(e){return m(this.__prime,e)},g.prototype.getGenerator=function(e){return m(this._gen,e)},g.prototype.setGenerator=function(e,t){return t=t||"utf8",i.Buffer.isBuffer(e)||(e=new i.Buffer(e,t)),this.__gen=e,this._gen=new n(e),this}},296:function(e,t,r){var i=r(7223);e.exports=m,m.simpleSieve=y,m.fermatTest=g;var n=r(711),a=new n(24),o=new(r(1354)),s=new n(1),f=new n(2),c=new n(5);new n(16),new n(8);var u=new n(10),h=new n(3);new n(7);var d=new n(11),l=new n(4);new n(12);var p=null;function b(){if(null!==p)return p;var e=1048576,t=[];t[0]=2;for(var r=1,i=3;i<e;i+=2){for(var n=Math.ceil(Math.sqrt(i)),a=0;a<r&&t[a]<=n&&i%t[a]!=0;a++);r!==a&&t[a]<=n||(t[r++]=i)}return p=t,t}function y(e){for(var t=b(),r=0;r<t.length;r++)if(0===e.modn(t[r]))if(0!==e.cmpn(t[r]))return!1;else break;return!0}function g(e){var t=n.mont(e);return 0===f.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function m(e,t){var r,p;if(e<16)if(2===t||5===t)return new n([140,123]);else return new n([140,39]);for(t=new n(t);;){for(r=new n(i(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(s),r.testn(1)||r.iadd(f),t.cmp(f)){if(!t.cmp(c))for(;r.mod(u).cmp(h);)r.iadd(l)}else for(;r.mod(a).cmp(d);)r.iadd(l);if(y(p=r.shrn(1))&&y(r)&&g(p)&&g(r)&&o.test(p)&&o.test(r))return r}}},949:function(e,t,r){"use strict";var i=t;i.version=r(2531).i8,i.utils=r(4401),i.rand=r(3500),i.curve=r(9359),i.curves=r(6226),i.ec=r(4088),i.eddsa=r(8511)},2727:function(e,t,r){"use strict";var i=r(711),n=r(4401),a=n.getNAF,o=n.getJSF,s=n.assert;function f(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=f,f.prototype.point=function(){throw Error("Not implemented")},f.prototype.validate=function(){throw Error("Not implemented")},f.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),i=a(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;for(var o=[],f=0;f<i.length;f+=r.step){for(var c=0,t=f+r.step-1;t>=f;t--)c=(c<<1)+i[t];o.push(c)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=n;d>0;d--){for(var f=0;f<o.length;f++){var c=o[f];c===d?h=h.mixedAdd(r.points[f]):c===-d&&(h=h.mixedAdd(r.points[f].neg()))}u=u.add(h)}return u.toP()},f.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=a(t,r,this._bitLength),f=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var t=0;c>=0&&0===o[c];c--)t++;if(c>=0&&t++,f=f.dblp(t),c<0)break;var u=o[c];s(0!==u),f="affine"===e.type?u>0?f.mixedAdd(n[u-1>>1]):f.mixedAdd(n[-u-1>>1].neg()):u>0?f.add(n[u-1>>1]):f.add(n[-u-1>>1].neg())}return"affine"===e.type?f.toP():f},f.prototype._wnafMulAdd=function(e,t,r,i,n){for(var s=this._wnafT1,f=this._wnafT2,c=this._wnafT3,u=0,h=0;h<i;h++){var d=t[h],l=d._getNAFPoints(e);s[h]=l.wnd,f[h]=l.points}for(var h=i-1;h>=1;h-=2){var p=h-1,b=h;if(1!==s[p]||1!==s[b]){c[p]=a(r[p],s[p],this._bitLength),c[b]=a(r[b],s[b],this._bitLength),u=Math.max(c[p].length,u),u=Math.max(c[b].length,u);continue}var y=[t[p],null,null,t[b]];0===t[p].y.cmp(t[b].y)?(y[1]=t[p].add(t[b]),y[2]=t[p].toJ().mixedAdd(t[b].neg())):0===t[p].y.cmp(t[b].y.redNeg())?(y[1]=t[p].toJ().mixedAdd(t[b]),y[2]=t[p].add(t[b].neg())):(y[1]=t[p].toJ().mixedAdd(t[b]),y[2]=t[p].toJ().mixedAdd(t[b].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],m=o(r[p],r[b]);u=Math.max(m[0].length,u),c[p]=Array(u),c[b]=Array(u);for(var w=0;w<u;w++){var v=0|m[0][w],_=0|m[1][w];c[p][w]=g[(v+1)*3+(_+1)],c[b][w]=0,f[p]=y}}for(var x=this.jpoint(null,null,null),S=this._wnafT4,h=u;h>=0;h--){for(var k=0;h>=0;){for(var E=!0,w=0;w<i;w++)S[w]=0|c[w][h],0!==S[w]&&(E=!1);if(!E)break;k++,h--}if(h>=0&&k++,x=x.dblp(k),h<0)break;for(var w=0;w<i;w++){var d,I=S[w];0!==I&&(I>0?d=f[w][I-1>>1]:I<0&&(d=f[w][-I-1>>1].neg()),x="affine"===d.type?x.mixedAdd(d):x.add(d))}}for(var h=0;h<i;h++)f[h]=null;return n?x:x.toP()},f.BasePoint=c,c.prototype.eq=function(){throw Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},f.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},2705:function(e,t,r){"use strict";var i=r(4401),n=r(711),a=r(3782),o=r(2727),s=i.assert;function f(e){this.twisted=(0|e.a)!=1,this.mOneA=this.twisted&&(0|e.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|e.c)==1}function c(e,t,r,i,a){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=a&&new n(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(f,o),e.exports=f,f.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},f.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},f.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},f.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),a=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=i.redMul(a.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");var f=s.fromRed().isOdd();return(t&&!f||!t&&f)&&(s=s.redNeg()),this.point(e,s)},f.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),a=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(0===o.cmp(this.zero))if(!t)return this.point(this.zero,e);else throw Error("invalid point");var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},f.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},a(c,o.BasePoint),f.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},f.prototype.point=function(e,t,r,i){return new c(this,e,t,r,i)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=i.redAdd(t),o=a.redSub(r),s=i.redSub(t),f=n.redMul(o),c=a.redMul(s),u=n.redMul(s),h=o.redMul(a);return this.curve.point(f,c,h,u)},c.prototype._projDbl=function(){var e,t,r,i=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var o=this.curve._mulA(n),s=o.redAdd(a);if(this.zOne)e=i.redSub(n).redSub(a).redMul(s.redSub(this.curve.two)),t=s.redMul(o.redSub(a)),r=s.redSqr().redSub(s).redSub(s);else{var f=this.z.redSqr(),c=s.redSub(f).redISub(f);e=i.redSub(n).redISub(a).redMul(c),t=s.redMul(o.redSub(a)),r=s.redMul(c)}}else{var o=n.redAdd(a),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f);e=this.curve._mulC(i.redISub(o)).redMul(c),t=this.curve._mulC(o).redMul(n.redISub(a)),r=o.redMul(c)}return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),o=n.redSub(i),s=n.redAdd(i),f=r.redAdd(t),c=a.redMul(o),u=s.redMul(f),h=a.redMul(f),d=o.redMul(s);return this.curve.point(c,u,d,h)},c.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),f=n.redSub(s),c=n.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),h=i.redMul(f).redMul(u);return this.curve.twisted?(t=i.redMul(c).redMul(o.redSub(this.curve._mulA(a))),r=f.redMul(c)):(t=i.redMul(c).redMul(o.redSub(a)),r=this.curve._mulC(f).redMul(c)),this.curve.point(h,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},9359:function(e,t,r){"use strict";var i=t;i.base=r(2727),i.short=r(4720),i.mont=r(6653),i.edwards=r(2705)},6653:function(e,t,r){"use strict";var i=r(711),n=r(3782),a=r(2727),o=r(4401);function s(e){a.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function f(e,t,r){a.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(s,a),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(f,a.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},s.prototype.point=function(e,t){return new f(this,e,t)},s.prototype.pointFromJSON=function(e){return f.fromJSON(this,e)},f.prototype.precompute=function(){},f.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},f.fromJSON=function(e,t){return new f(e,t[0],t[1]||e.one)},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},f.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},f.prototype.add=function(){throw Error("Not supported on Montgomery curve")},f.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),o=n.redMul(i),s=t.z.redMul(a.redAdd(o).redSqr()),f=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(s,f)},f.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=this,a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var o=a.length-1;o>=0;o--)0===a[o]?(r=r.diffAdd(i,n),i=i.dbl()):(i=r.diffAdd(i,n),r=r.dbl());return i},f.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},f.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},f.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},f.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},4720:function(e,t,r){"use strict";var i=r(4401),n=r(711),a=r(3782),o=r(2727),s=i.assert;function f(e){o.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function c(e,t,r,i){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,i){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(f,o),e.exports=f,f.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var t,r,i,a=this._getEndoRoots(this.p);t=(t=0>a[0].cmp(a[1])?a[0]:a[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return i=e.basis?e.basis.map(function(e){return{a:new n(e.a,16),b:new n(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:i}}},f.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),a=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(a).fromRed(),i.redSub(a).fromRed()]},f.prototype._getEndoBasis=function(e){for(var t,r,i,a,o,s,f,c,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,l=this.n.clone(),p=new n(1),b=new n(0),y=new n(0),g=new n(1),m=0;0!==d.cmpn(0);){var w=l.div(d);c=l.sub(w.mul(d)),u=y.sub(w.mul(p));var v=g.sub(w.mul(b));if(!i&&0>c.cmp(h))t=f.neg(),r=p,i=c.neg(),a=u;else if(i&&2==++m)break;f=c,l=d,d=c,y=p,p=u,g=b,b=v}o=c.neg(),s=u;var _=i.sqr().add(a.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=t,s=r),i.negative&&(i=i.neg(),a=a.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:i,b:a},{a:o,b:s}]},f.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),s=a.mul(i.a),f=n.mul(r.b),c=a.mul(i.b);return{k1:e.sub(o).sub(s),k2:f.add(c).neg()}},f.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var a=i.fromRed().isOdd();return(t&&!a||!t&&a)&&(i=i.redNeg()),this.point(e,i)},f.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},f.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],f=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[2*a]=s,i[2*a+1]=f,n[2*a]=o.k1,n[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,i,n,2*a,r),u=0;u<2*a;u++)i[u]=null,n[u]=null;return c},a(c,o.BasePoint),f.prototype.point=function(e,t,r){return new c(this,e,t,r)},f.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return(e=new n(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},c.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(u,o.BasePoint),f.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=i.redSub(n),f=a.redSub(o);if(0===s.cmpn(0))if(0!==f.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var c=s.redSqr(),u=c.redMul(s),h=i.redMul(c),d=f.redSqr().redIAdd(u).redISub(h).redISub(h),l=f.redMul(h.redISub(d)).redISub(a.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,l,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(i),s=n.redSub(a);if(0===o.cmpn(0))if(0!==s.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var f=o.redSqr(),c=f.redMul(o),u=r.redMul(f),h=s.redSqr().redIAdd(c).redISub(u).redISub(u),d=s.redMul(u.redISub(h)).redISub(n.redMul(c)),l=this.z.redMul(o);return this.curve.jpoint(h,d,l)},u.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}for(var i=this.curve.a,n=this.curve.tinv,a=this.x,o=this.y,s=this.z,f=s.redSqr().redSqr(),c=o.redAdd(o),r=0;r<e;r++){var u=a.redSqr(),h=c.redSqr(),d=h.redSqr(),l=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(f)),p=a.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),g=l.redMul(y);g=g.redIAdd(g).redISub(d);var m=c.redMul(s);r+1<e&&(f=f.redMul(d)),a=b,s=m,c=g}return this.curve.jpoint(a,c.redMul(n),s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i),f=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=f,t=s.redMul(o.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(u).redISub(d);l=l.redIAdd(l);var p=u.redAdd(u).redIAdd(u),b=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=s.redSqr().redISub(o).redISub(o);e=f;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(u).redMul(this.x.redAdd(u));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var y=h.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=l.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),f=t.redAdd(t),c=(f=f.redIAdd(f)).redMul(o),u=s.redSqr().redISub(c.redAdd(c)),h=c.redISub(u),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=s.redMul(h).redISub(d),p=r.redAdd(r).redMul(i);return this.curve.jpoint(u,l,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),f=i.redIAdd(i);f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var c=n.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(f),u=t.redMul(c);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(s).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(c.redMul(f.redISub(c)).redISub(o.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(h,d,l)},u.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6226:function(e,t,r){"use strict";var i,n=t,a=r(7028),o=r(9359),s=r(4401).assert;function f(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new f(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=f,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(9702)}catch(e){i=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},4088:function(e,t,r){"use strict";var i=r(711),n=r(4910),a=r(4401),o=r(6226),s=r(3500),f=a.assert,c=r(4724),u=r(7526);function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(f(o.hasOwnProperty(e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new c(this,e)},h.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),a=this.n.sub(new i(2));;){var o=new i(t.generate(r));if(!(o.cmp(a)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},h.prototype.sign=function(e,t,r,a){"object"==typeof r&&(a=r,r=null),a||(a={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new i(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),f=e.toArray("be",o),c=new n({hash:this.hash,entropy:s,nonce:f,pers:a.pers,persEnc:a.persEnc||"utf8"}),h=this.n.sub(new i(1)),d=0;;d++){var l=a.k?a.k(d):new i(c.generate(this.n.byteLength()));if(0>=(l=this._truncateToN(l,!0)).cmpn(1)||l.cmp(h)>=0)continue;var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),y=b.umod(this.n);if(0!==y.cmpn(0)){var g=l.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=!!p.getY().isOdd()|2*(0!==b.cmp(y));return a.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new u({r:y,s:g,recoveryParam:m})}}}}},h.prototype.verify=function(e,t,r,n){e=this._truncateToN(new i(e,16)),r=this.keyFromPublic(r,n);var a=(t=new u(t,"hex")).r,o=t.s;if(0>a.cmpn(1)||a.cmp(this.n)>=0||0>o.cmpn(1)||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),f=s.mul(e).umod(this.n),c=s.mul(a).umod(this.n);if(!this.curve._maxwellTrick){var h=this.g.mulAdd(f,r.getPublic(),c);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(a)}var h=this.g.jmulAdd(f,r.getPublic(),c);return!h.isInfinity()&&h.eqXToP(a)},h.prototype.recoverPubKey=function(e,t,r,n){f((3&r)===r,"The recovery param is more than two bits"),t=new u(t,n);var a=this.n,o=new i(e),s=t.r,c=t.s,h=1&r,d=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var l=t.r.invm(a),p=a.sub(o).mul(l).umod(a),b=c.mul(l).umod(a);return this.g.mulAdd(p,s,b)},h.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new u(t,i)).recoveryParam)return t.recoveryParam;for(var n,a=0;a<4;a++){try{n=this.recoverPubKey(e,t,a)}catch(e){continue}if(n.eq(r))return a}throw Error("Unable to find valid recovery factor")}},4724:function(e,t,r){"use strict";var i=r(711),n=r(4401).assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,r){return t instanceof a?t:new a(e,{pub:t,pubEnc:r})},a.fromPrivate=function(e,t,r){return t instanceof a?t:new a(e,{priv:t,privEnc:r})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&n(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7526:function(e,t,r){"use strict";var i=r(711),n=r(4401),a=n.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function f(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,a=0,o=t.place;a<i;a++,o++)n<<=8,n|=e[o],n>>>=0;return!(n<=127)&&(t.place=o,n)}function c(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}e.exports=o,o.prototype._importDER=function(e,t){e=n.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var a=f(e,r);if(!1===a||a+r.place!==e.length||2!==e[r.place++])return!1;var o=f(e,r);if(!1===o)return!1;var c=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=f(e,r);if(!1===u||e.length!==u+r.place)return!1;var h=e.slice(r.place,u+r.place);if(0===c[0])if(!(128&c[1]))return!1;else c=c.slice(1);if(0===h[0])if(!(128&h[1]))return!1;else h=h.slice(1);return this.r=new i(c),this.s=new i(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=c(t),r=c(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];u(i,t.length),(i=i.concat(t)).push(2),u(i,r.length);var a=i.concat(r),o=[48];return u(o,a.length),o=o.concat(a),n.encode(o,e)}},8511:function(e,t,r){"use strict";var i=r(7028),n=r(6226),a=r(4401),o=a.assert,s=a.parseBytes,f=r(9917),c=r(9314);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);var e=n[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=u,u.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),a=this.encodePoint(n),o=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:f,Rencoded:a})},u.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(a)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return f.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return f.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=128*!!e.getX().isOdd(),t},u.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=(128&e[t])!=0,n=a.intFromLE(r);return this.curve.pointFromY(n,i)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return a.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},9917:function(e,t,r){"use strict";var i=r(4401),n=i.assert,a=i.parseBytes,o=i.cachedProperty;function s(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},o(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i}),o(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},s.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=s},9314:function(e,t,r){"use strict";var i=r(711),n=r(4401),a=n.assert,o=n.cachedProperty,s=n.parseBytes;function f(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(f,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(f,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(f,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(f,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=f},9702:function(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},4401:function(e,t,r){"use strict";var i=t,n=r(711),a=r(3523),o=r(6545);function s(e){return"string"==typeof e?i.toArray(e,"hex"):e}i.assert=a,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(e,t,r){var i=Array(Math.max(e.bitLength(),r)+1);i.fill(0);for(var n=1<<t+1,a=e.clone(),o=0;o<i.length;o++){var s,f=a.andln(n-1);a.isOdd()?(s=f>(n>>1)-1?(n>>1)-f:f,a.isubn(s)):s=0,i[o]=s,a.iushrn(1)}return i},i.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i=0,n=0;e.cmpn(-i)>0||t.cmpn(-n)>0;){var a,o,s=e.andln(3)+i&3,f=t.andln(3)+n&3;if(3===s&&(s=-1),3===f&&(f=-1),(1&s)==0)a=0;else{var c=e.andln(7)+i&7;a=(3===c||5===c)&&2===f?-s:s}if(r[0].push(a),(1&f)==0)o=0;else{var c=t.andln(7)+n&7;o=(3===c||5===c)&&2===s?-f:f}r[1].push(o),2*i===a+1&&(i=1-i),2*n===o+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r},i.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=s,i.intFromLE=function(e){return new n(e,"hex","le")}},8368:function(e,t,r){var i=r(6911).Buffer,n=r(3533);e.exports=function(e,t,r,a){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,s=i.alloc(o),f=i.alloc(a||0),c=i.alloc(0);o>0||a>0;){var u=new n;u.update(c),u.update(e),t&&u.update(t),c=u.digest();var h=0;if(o>0){var d=s.length-o;h=Math.min(o,c.length),c.copy(s,d,0,h),o-=h}if(h<c.length&&a>0){var l=f.length-a,p=Math.min(a,c.length-h);c.copy(f,l,h,h+p),a-=p}}return c.fill(0),{key:s,iv:f}}},9029:function(e,t,r){"use strict";var i=r(6911).Buffer,n=r(3726).Transform;function a(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw TypeError(t+" must be a string or a buffer")}function o(e){n.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(3782)(o,n),o.prototype._transform=function(e,t,r){var i=null;try{this.update(e,t)}catch(e){i=e}r(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(a(e,"Data"),this._finalized)throw Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var s=0,f=8*e.length;f>0;++s)this._length[s]+=f,(f=this._length[s]/0x100000000|0)>0&&(this._length[s]-=0x100000000*f);return this},o.prototype._update=function(){throw Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw Error("_digest is not implemented")},e.exports=o},7028:function(e,t,r){var i=t;i.utils=r(263),i.common=r(1330),i.sha=r(301),i.ripemd=r(3079),i.hmac=r(3092),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},1330:function(e,t,r){"use strict";var i=r(263),n=r(3523);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(a=8,i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0;a<this.padLength;a++)i[n++]=0;return i}},3092:function(e,t,r){"use strict";var i=r(263),n=r(3523);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=(new this.Hash).update(e);t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},3079:function(e,t,r){"use strict";var i=r(263),n=r(1330),a=i.rotl32,o=i.sum32,s=i.sum32_3,f=i.sum32_4,c=n.BlockHash;function u(){if(!(this instanceof u))return new u;c.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function h(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function d(e){return e<=15?0:e<=31?0x5a827999:e<=47?0x6ed9eba1:e<=63?0x8f1bbcdc:0xa953fd4e}function l(e){return e<=15?0x50a28be6:e<=31?0x5c4dd124:e<=47?0x6d703ef3:0x7a6d76e9*!!(e<=63)}i.inherits(u,c),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],c=this.h[3],u=this.h[4],m=r,w=i,v=n,_=c,x=u,S=0;S<80;S++){var k=o(a(f(r,h(S,i,n,c),e[p[S]+t],d(S)),y[S]),u);r=u,u=c,c=a(n,10),n=i,i=k,k=o(a(f(m,h(79-S,w,v,_),e[b[S]+t],l(S)),g[S]),x),m=x,x=_,_=a(v,10),v=w,w=k}k=s(this.h[1],n,_),this.h[1]=s(this.h[2],c,x),this.h[2]=s(this.h[3],u,m),this.h[3]=s(this.h[4],r,w),this.h[4]=s(this.h[0],i,v),this.h[0]=k},u.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},301:function(e,t,r){"use strict";t.sha1=r(2742),t.sha224=r(7105),t.sha256=r(1525),t.sha384=r(9948),t.sha512=r(1319)},2742:function(e,t,r){"use strict";var i=r(263),n=r(1330),a=r(2975),o=i.rotl32,s=i.sum32,f=i.sum32_5,c=a.ft_1,u=n.BlockHash,h=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function d(){if(!(this instanceof d))return new d;u.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}i.inherits(d,u),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=o(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],u=this.h[2],d=this.h[3],l=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),b=f(o(n,5),c(p,a,u,d),l,r[i],h[p]);l=d,d=u,u=o(a,30),a=n,n=b}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],l)},d.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},7105:function(e,t,r){"use strict";var i=r(263),n=r(1525);function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}i.inherits(a,n),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},1525:function(e,t,r){"use strict";var i=r(263),n=r(1330),a=r(2975),o=r(3523),s=i.sum32,f=i.sum32_4,c=i.sum32_5,u=a.ch32,h=a.maj32,d=a.s0_256,l=a.s1_256,p=a.g0_256,b=a.g1_256,y=n.BlockHash,g=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function m(){if(!(this instanceof m))return new m;y.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=g,this.W=Array(64)}i.inherits(m,y),e.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=f(b(r[i-2]),r[i-7],p(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],y=this.h[2],g=this.h[3],m=this.h[4],w=this.h[5],v=this.h[6],_=this.h[7];for(o(this.k.length===r.length),i=0;i<r.length;i++){var x=c(_,l(m),u(m,w,v),this.k[i],r[i]),S=s(d(n),h(n,a,y));_=v,v=w,w=m,m=s(g,x),g=y,y=a,a=n,n=s(x,S)}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],y),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],m),this.h[5]=s(this.h[5],w),this.h[6]=s(this.h[6],v),this.h[7]=s(this.h[7],_)},m.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},9948:function(e,t,r){"use strict";var i=r(263),n=r(1319);function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}i.inherits(a,n),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},1319:function(e,t,r){"use strict";var i=r(263),n=r(1330),a=r(3523),o=i.rotr64_hi,s=i.rotr64_lo,f=i.shr64_hi,c=i.shr64_lo,u=i.sum64,h=i.sum64_hi,d=i.sum64_lo,l=i.sum64_4_hi,p=i.sum64_4_lo,b=i.sum64_5_hi,y=i.sum64_5_lo,g=n.BlockHash,m=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function w(){if(!(this instanceof w))return new w;g.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=m,this.W=Array(160)}function v(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=0x100000000),a}function _(e,t,r,i,n,a){var o=t&i^~t&a;return o<0&&(o+=0x100000000),o}function x(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=0x100000000),a}function S(e,t,r,i,n,a){var o=t&i^t&a^i&a;return o<0&&(o+=0x100000000),o}function k(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=0x100000000),r}function E(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=0x100000000),r}function I(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=0x100000000),r}function A(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=0x100000000),r}function M(e,t){var r=o(e,t,1)^o(e,t,8)^f(e,t,7);return r<0&&(r+=0x100000000),r}function P(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=0x100000000),r}function O(e,t){var r=o(e,t,19)^o(t,e,29)^f(e,t,6);return r<0&&(r+=0x100000000),r}function N(e,t){var r=s(e,t,19)^s(t,e,29)^c(e,t,6);return r<0&&(r+=0x100000000),r}i.inherits(w,g),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=O(r[i-4],r[i-3]),a=N(r[i-4],r[i-3]),o=r[i-14],s=r[i-13],f=M(r[i-30],r[i-29]),c=P(r[i-30],r[i-29]),u=r[i-32],h=r[i-31];r[i]=l(n,a,o,s,f,c,u,h),r[i+1]=p(n,a,o,s,f,c,u,h)}},w.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],s=this.h[3],f=this.h[4],c=this.h[5],l=this.h[6],p=this.h[7],g=this.h[8],m=this.h[9],w=this.h[10],M=this.h[11],P=this.h[12],O=this.h[13],N=this.h[14],R=this.h[15];a(this.k.length===r.length);for(var T=0;T<r.length;T+=2){var C=N,B=R,D=I(g,m),L=A(g,m),F=v(g,m,w,M,P,O),U=_(g,m,w,M,P,O),j=this.k[T],q=this.k[T+1],V=r[T],H=r[T+1],K=b(C,B,D,L,F,U,j,q,V,H),z=y(C,B,D,L,F,U,j,q,V,H);C=k(i,n),B=E(i,n);var W=h(C,B,D=x(i,n,o,s,f,c),L=S(i,n,o,s,f,c)),$=d(C,B,D,L);N=P,R=O,P=w,O=M,w=g,M=m,g=h(l,p,K,z),m=d(p,p,K,z),l=f,p=c,f=o,c=s,o=i,s=n,i=h(K,z,W,$),n=d(K,z,W,$)}u(this.h,0,i,n),u(this.h,2,o,s),u(this.h,4,f,c),u(this.h,6,l,p),u(this.h,8,g,m),u(this.h,10,w,M),u(this.h,12,P,O),u(this.h,14,N,R)},w.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},2975:function(e,t,r){"use strict";var i=r(263).rotr32;function n(e,t,r){return e&t^~e&r}function a(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}t.ft_1=function(e,t,r,i){return 0===e?n(t,r,i):1===e||3===e?o(t,r,i):2===e?a(t,r,i):void 0},t.ch32=n,t.maj32=a,t.p32=o,t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},263:function(e,t,r){"use strict";var i=r(3523);function n(e,t){return(64512&e.charCodeAt(t))==55296&&!(t<0)&&!(t+1>=e.length)&&(64512&e.charCodeAt(t+1))==56320}function a(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function s(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}t.inherits=r(3782),t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)r.push(parseInt(e[a]+e[a+1],16))}else for(var i=0,a=0;a<e.length;a++){var o=e.charCodeAt(a);o<128?r[i++]=o:(o<2048?r[i++]=o>>6|192:(n(e,a)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++a)),r[i++]=o>>18|240,r[i++]=o>>12&63|128):r[i++]=o>>12|224,r[i++]=o>>6&63|128),r[i++]=63&o|128)}else for(a=0;a<e.length;a++)r[a]=0|e[a];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];"little"===t&&(n=a(n)),r+=s(n.toString(16))}return r},t.zero2=o,t.zero8=s,t.join32=function(e,t,r,n){var a,o=r-t;i(o%4==0);for(var s=Array(o/4),f=0,c=t;f<s.length;f++,c+=4)a="big"===n?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[f]=a>>>0;return s},t.split32=function(e,t){for(var r=Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];"big"===t?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=255&a):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=255&a)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,i){return e+t+r+i>>>0},t.sum32_5=function(e,t,r,i,n){return e+t+r+i+n>>>0},t.sum64=function(e,t,r,i){var n=e[t],a=i+e[t+1]>>>0,o=+(a<i)+r+n;e[t]=o>>>0,e[t+1]=a},t.sum64_hi=function(e,t,r,i){return+(t+i>>>0<t)+e+r>>>0},t.sum64_lo=function(e,t,r,i){return t+i>>>0},t.sum64_4_hi=function(e,t,r,i,n,a,o,s){var f,c=t;return e+r+n+o+(f=0+ +((c=c+i>>>0)<t)+ +((c=c+a>>>0)<a)+ +((c=c+s>>>0)<s))>>>0},t.sum64_4_lo=function(e,t,r,i,n,a,o,s){return t+i+a+s>>>0},t.sum64_5_hi=function(e,t,r,i,n,a,o,s,f,c){var u,h=t;return e+r+n+o+f+(u=0+ +((h=h+i>>>0)<t)+ +((h=h+a>>>0)<a)+ +((h=h+s>>>0)<s)+ +((h=h+c>>>0)<c))>>>0},t.sum64_5_lo=function(e,t,r,i,n,a,o,s,f,c){return t+i+a+s+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},4910:function(e,t,r){"use strict";var i=r(7028),n=r(6545),a=r(3523);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),r=n.toArray(e.nonce,e.nonceEnc||"hex"),i=n.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}e.exports=o,o.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=0x1000000000000},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=n.toArray(e,t),r=n.toArray(r,i),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(r),this._reseed++,n.encode(o,t)}},3782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},3533:function(e,t,r){"use strict";var i=r(3782),n=r(9029),a=r(6911).Buffer,o=Array(16);function s(){n.call(this,64),this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476}function f(e,t){return e<<t|e>>>32-t}function c(e,t,r,i,n,a,o){return f(e+(t&r|~t&i)+n+a|0,o)+t|0}function u(e,t,r,i,n,a,o){return f(e+(t&i|r&~i)+n+a|0,o)+t|0}function h(e,t,r,i,n,a,o){return f(e+(t^r^i)+n+a|0,o)+t|0}function d(e,t,r,i,n,a,o){return f(e+(r^(t|~i))+n+a|0,o)+t|0}i(s,n),s.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,i=this._b,n=this._c,a=this._d;r=c(r,i,n,a,e[0],0xd76aa478,7),a=c(a,r,i,n,e[1],0xe8c7b756,12),n=c(n,a,r,i,e[2],0x242070db,17),i=c(i,n,a,r,e[3],0xc1bdceee,22),r=c(r,i,n,a,e[4],0xf57c0faf,7),a=c(a,r,i,n,e[5],0x4787c62a,12),n=c(n,a,r,i,e[6],0xa8304613,17),i=c(i,n,a,r,e[7],0xfd469501,22),r=c(r,i,n,a,e[8],0x698098d8,7),a=c(a,r,i,n,e[9],0x8b44f7af,12),n=c(n,a,r,i,e[10],0xffff5bb1,17),i=c(i,n,a,r,e[11],0x895cd7be,22),r=c(r,i,n,a,e[12],0x6b901122,7),a=c(a,r,i,n,e[13],0xfd987193,12),n=c(n,a,r,i,e[14],0xa679438e,17),i=c(i,n,a,r,e[15],0x49b40821,22),r=u(r,i,n,a,e[1],0xf61e2562,5),a=u(a,r,i,n,e[6],0xc040b340,9),n=u(n,a,r,i,e[11],0x265e5a51,14),i=u(i,n,a,r,e[0],0xe9b6c7aa,20),r=u(r,i,n,a,e[5],0xd62f105d,5),a=u(a,r,i,n,e[10],0x2441453,9),n=u(n,a,r,i,e[15],0xd8a1e681,14),i=u(i,n,a,r,e[4],0xe7d3fbc8,20),r=u(r,i,n,a,e[9],0x21e1cde6,5),a=u(a,r,i,n,e[14],0xc33707d6,9),n=u(n,a,r,i,e[3],0xf4d50d87,14),i=u(i,n,a,r,e[8],0x455a14ed,20),r=u(r,i,n,a,e[13],0xa9e3e905,5),a=u(a,r,i,n,e[2],0xfcefa3f8,9),n=u(n,a,r,i,e[7],0x676f02d9,14),i=u(i,n,a,r,e[12],0x8d2a4c8a,20),r=h(r,i,n,a,e[5],0xfffa3942,4),a=h(a,r,i,n,e[8],0x8771f681,11),n=h(n,a,r,i,e[11],0x6d9d6122,16),i=h(i,n,a,r,e[14],0xfde5380c,23),r=h(r,i,n,a,e[1],0xa4beea44,4),a=h(a,r,i,n,e[4],0x4bdecfa9,11),n=h(n,a,r,i,e[7],0xf6bb4b60,16),i=h(i,n,a,r,e[10],0xbebfbc70,23),r=h(r,i,n,a,e[13],0x289b7ec6,4),a=h(a,r,i,n,e[0],0xeaa127fa,11),n=h(n,a,r,i,e[3],0xd4ef3085,16),i=h(i,n,a,r,e[6],0x4881d05,23),r=h(r,i,n,a,e[9],0xd9d4d039,4),a=h(a,r,i,n,e[12],0xe6db99e5,11),n=h(n,a,r,i,e[15],0x1fa27cf8,16),i=h(i,n,a,r,e[2],0xc4ac5665,23),r=d(r,i,n,a,e[0],0xf4292244,6),a=d(a,r,i,n,e[7],0x432aff97,10),n=d(n,a,r,i,e[14],0xab9423a7,15),i=d(i,n,a,r,e[5],0xfc93a039,21),r=d(r,i,n,a,e[12],0x655b59c3,6),a=d(a,r,i,n,e[3],0x8f0ccc92,10),n=d(n,a,r,i,e[10],0xffeff47d,15),i=d(i,n,a,r,e[1],0x85845dd1,21),r=d(r,i,n,a,e[8],0x6fa87e4f,6),a=d(a,r,i,n,e[15],0xfe2ce6e0,10),n=d(n,a,r,i,e[6],0xa3014314,15),i=d(i,n,a,r,e[13],0x4e0811a1,21),r=d(r,i,n,a,e[4],0xf7537e82,6),a=d(a,r,i,n,e[11],0xbd3af235,10),n=d(n,a,r,i,e[2],0x2ad7d2bb,15),i=d(i,n,a,r,e[9],0xeb86d391,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+a|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},1354:function(e,t,r){var i=r(711),n=r(3500);function a(e){this.rand=e||new n.Rand}e.exports=a,a.create=function(e){return new a(e)},a.prototype._randbelow=function(e){var t=Math.ceil(e.bitLength()/8);do var r=new i(this.rand.generate(t));while(r.cmp(e)>=0)return r},a.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},a.prototype.test=function(e,t,r){var n=e.bitLength(),a=i.mont(e),o=new i(1).toRed(a);t||(t=Math.max(1,n/48|0));for(var s=e.subn(1),f=0;!s.testn(f);f++);for(var c=e.shrn(f),u=s.toRed(a),h=!0;t>0;t--){var d=this._randrange(new i(2),s);r&&r(d);var l=d.toRed(a).redPow(c);if(0!==l.cmp(o)&&0!==l.cmp(u)){for(var p=1;p<f;p++){if(0===(l=l.redSqr()).cmp(o))return!1;if(0===l.cmp(u))break}if(p===f)return!1}}return h},a.prototype.getDivisor=function(e,t){var r=e.bitLength(),n=i.mont(e),a=new i(1).toRed(n);t||(t=Math.max(1,r/48|0));for(var o=e.subn(1),s=0;!o.testn(s);s++);for(var f=e.shrn(s),c=o.toRed(n);t>0;t--){var u=this._randrange(new i(2),o),h=e.gcd(u);if(0!==h.cmpn(1))return h;var d=u.toRed(n).redPow(f);if(0!==d.cmp(a)&&0!==d.cmp(c)){for(var l=1;l<s;l++){if(0===(d=d.redSqr()).cmp(a))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(l===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},3523:function(e){function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},6545:function(e,t){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),a=n>>8,o=255&n;a?r.push(a,o):r.push(o)}return r},r.zero2=i,r.toHex=n,r.encode=function(e,t){return"hex"===t?n(e):e}},8687:function(e,t,r){"use strict";var i=r(7160);t.certificate=r(8782),t.RSAPrivateKey=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}),t.RSAPublicKey=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}),t.PublicKey=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});var n=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())});t.PrivateKey=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())}),t.EncryptedPrivateKey=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}),t.DSAPrivateKey=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}),t.DSAparam=i.define("DSAparam",function(){this.int()}),t.ECPrivateKey=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(a),this.key("publicKey").optional().explicit(1).bitstr())});var a=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},8782:function(e,t,r){"use strict";var i=r(7160),n=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),f=i.define("RelativeDistinguishedName",function(){this.setof(a)}),c=i.define("RDNSequence",function(){this.seqof(f)}),u=i.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),h=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),d=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(u),this.key("validity").use(h),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())});e.exports=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())})},6501:function(e,t,r){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,o=r(8368),s=r(6594),f=r(6911).Buffer;e.exports=function(e,t){var r,c=e.toString(),u=c.match(i);if(u){var h="aes"+u[1],d=f.from(u[2],"hex"),l=f.from(u[3].replace(/[\r\n]/g,""),"base64"),p=o(t,d.slice(0,8),parseInt(u[1],10)).key,b=[],y=s.createDecipheriv(h,p,d);b.push(y.update(l)),b.push(y.final()),r=f.concat(b)}else r=new f(c.match(a)[2].replace(/[\r\n]/g,""),"base64");return{tag:c.match(n)[1],data:r}}},9902:function(e,t,r){var i=r(8687),n=r(2510),a=r(6501),o=r(6594),s=r(4978),f=r(6911).Buffer;function c(e){"object"!=typeof e||f.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=f.from(e));var t,r,n,o=a(e,t),s=o.tag,c=o.data;switch(s){case"CERTIFICATE":n=i.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(!n&&(n=i.PublicKey.decode(c,"der")),r=n.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(n.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return n.subjectPrivateKey=n.subjectPublicKey,{type:"ec",data:n};case"1.2.840.10040.4.1":return n.algorithm.params.pub_key=i.DSAparam.decode(n.subjectPublicKey.data,"der"),{type:"dsa",data:n.algorithm.params};default:throw Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":c=u(c=i.EncryptedPrivateKey.decode(c,"der"),t);case"PRIVATE KEY":switch(r=(n=i.PrivateKey.decode(c,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(n.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:n.algorithm.curve,privateKey:i.ECPrivateKey.decode(n.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return n.algorithm.params.priv_key=i.DSAparam.decode(n.subjectPrivateKey,"der"),{type:"dsa",params:n.algorithm.params};default:throw Error("unknown key id "+r)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return{curve:(c=i.ECPrivateKey.decode(c,"der")).parameters.value,privateKey:c.privateKey};default:throw Error("unknown key type "+s)}}function u(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=n[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,u=e.subjectPrivateKey,h=parseInt(a.split("-")[1],10)/8,d=s.pbkdf2Sync(t,r,i,h,"sha1"),l=o.createDecipheriv(a,d,c),p=[];return p.push(l.update(u)),p.push(l.final()),f.concat(p)}e.exports=c,c.signature=i.signature},4978:function(e,t,r){var i=r(6113),n=r(5349),a=r(7007),o=r(5407);function s(e,t,r,s,f,c){if(n(r,s),e=o(e,a,"Password"),t=o(t,a,"Salt"),"function"==typeof f&&(c=f,f="sha1"),"function"!=typeof c)throw Error("No callback provided to pbkdf2");return i.pbkdf2(e,t,r,s,f,c)}function f(e,t,r,s,f){return n(r,s),e=o(e,a,"Password"),t=o(t,a,"Salt"),f=f||"sha1",i.pbkdf2Sync(e,t,r,s,f)}i.pbkdf2Sync&&-1!==i.pbkdf2Sync.toString().indexOf("keylen, digest")?(t.pbkdf2Sync=f,t.pbkdf2=s):(t.pbkdf2Sync=r(2127),t.pbkdf2=r(9601))},9601:function(t,r,i){var a,o=i(6911).Buffer,s=i(5349),f=i(7007),c=i(2127),u=i(5407),h=e.g.crypto&&e.g.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function p(t){if(e.g.process&&!e.g.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==l[t])return l[t];var r=b(a=a||o.alloc(8),a,10,128,t).then(function(){return!0}).catch(function(){return!1});return l[t]=r,r}function b(e,t,r,i,n){return h.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return h.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:n}},e,i<<3)}).then(function(e){return o.from(e)})}function y(e,t){e.then(function(e){n.default.nextTick(function(){t(null,e)})},function(e){n.default.nextTick(function(){t(e)})})}t.exports=function(t,r,i,a,o,h){"function"==typeof o&&(h=o,o=void 0);var l=d[(o=o||"sha1").toLowerCase()];if(!l||"function"!=typeof e.g.Promise)return n.default.nextTick(function(){var e;try{e=c(t,r,i,a,o)}catch(e){return h(e)}h(null,e)});if(s(i,a),t=u(t,f,"Password"),r=u(r,f,"Salt"),"function"!=typeof h)throw Error("No callback provided to pbkdf2");y(p(l).then(function(e){return e?b(t,r,i,a,l):c(t,r,i,a,o)}),h)}},7007:function(e){e.exports="utf-8"},5349:function(e){var t=0x3fffffff;e.exports=function(e,r){if("number"!=typeof e)throw TypeError("Iterations not a number");if(e<0)throw TypeError("Bad iterations");if("number"!=typeof r)throw TypeError("Key length not a number");if(r<0||r>t||r!=r)throw TypeError("Bad key length")}},2127:function(e,t,r){var i={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},n=r(4873),a=r(6911).Buffer,o=r(5349),s=r(7007),f=r(5407);e.exports=function(e,t,r,c,u){o(r,c),e=f(e,s,"Password"),t=f(t,s,"Salt"),u=u||"sha1";var h=a.allocUnsafe(c),d=a.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var l=0,p=i[u],b=Math.ceil(c/p),y=1;y<=b;y++){d.writeUInt32BE(y,t.length);for(var g=n(u,e).update(d).digest(),m=g,w=1;w<r;w++){m=n(u,e).update(m).digest();for(var v=0;v<p;v++)g[v]^=m[v]}g.copy(h,l),l+=p}return h}},5407:function(e,t,r){var i=r(6911).Buffer;e.exports=function(e,t,r){if(i.isBuffer(e))return e;if("string"==typeof e)return i.from(e,t);if(ArrayBuffer.isView(e))return i.from(e.buffer);throw TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},9783:function(e,t,r){t.publicEncrypt=r(3995),t.privateDecrypt=r(4366),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},5520:function(e,t,r){var i=r(9739),n=r(6911).Buffer;function a(e){var t=n.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,o=n.alloc(0),s=0;o.length<t;)r=a(s++),o=n.concat([o,i("sha1").update(e).update(r).digest()]);return o.slice(0,t)}},4366:function(e,t,r){var i=r(9902),n=r(5520),a=r(6386),o=r(711),s=r(7166),f=r(9739),c=r(1607),u=r(6911).Buffer;function h(e,t){var r=e.modulus.byteLength(),i=f("sha1").update(u.alloc(0)).digest(),o=i.length;if(0!==t[0])throw Error("decryption error");var s=t.slice(1,o+1),c=t.slice(o+1),h=a(s,n(c,o)),d=a(c,n(h,r-o-1));if(l(i,d.slice(0,o)))throw Error("decryption error");for(var p=o;0===d[p];)p++;if(1!==d[p++])throw Error("decryption error");return d.slice(p)}function d(e,t,r){for(var i=t.slice(0,2),n=2,a=0;0!==t[n++];)if(n>=t.length){a++;break}var o=t.slice(2,n-1);if(("0002"!==i.toString("hex")&&!r||"0001"!==i.toString("hex")&&r)&&a++,o.length<8&&a++,a)throw Error("decryption error");return t.slice(n)}function l(e,t){e=u.from(e),t=u.from(t);var r=0,i=e.length;e.length!==t.length&&(r++,i=Math.min(e.length,t.length));for(var n=-1;++n<i;)r+=e[n]^t[n];return r}e.exports=function(e,t,r){var n,a=e.padding?e.padding:r?1:4,f=i(e),l=f.modulus.byteLength();if(t.length>l||new o(t).cmp(f.modulus)>=0)throw Error("decryption error");n=r?c(new o(t),f):s(t,f);var p=u.alloc(l-n.length);if(n=u.concat([p,n],l),4===a)return h(f,n);if(1===a)return d(f,n,r);if(3===a)return n;throw Error("unknown padding")}},3995:function(e,t,r){var i=r(9902),n=r(7223),a=r(9739),o=r(5520),s=r(6386),f=r(711),c=r(1607),u=r(7166),h=r(6911).Buffer;function d(e,t){var r=e.modulus.byteLength(),i=t.length,c=a("sha1").update(h.alloc(0)).digest(),u=c.length,d=2*u;if(i>r-d-2)throw Error("message too long");var l=h.alloc(r-i-d-2),p=r-u-1,b=n(u),y=s(h.concat([c,l,h.alloc(1,1),t],p),o(b,p)),g=s(b,o(y,u));return new f(h.concat([h.alloc(1),g,y],r))}function l(e,t,r){var i,n=t.length,a=e.modulus.byteLength();if(n>a-11)throw Error("message too long");return i=r?h.alloc(a-n-3,255):p(a-n-3),new f(h.concat([h.from([0,r?1:2]),i,h.alloc(1),t],a))}function p(e){for(var t,r=h.allocUnsafe(e),i=0,a=n(2*e),o=0;i<e;)o===a.length&&(a=n(2*e),o=0),(t=a[o++])&&(r[i++]=t);return r}e.exports=function(e,t,r){var n,a=e.padding?e.padding:r?1:4,o=i(e);if(4===a)n=d(o,t);else if(1===a)n=l(o,t,r);else if(3===a){if((n=new f(t)).cmp(o.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return r?u(n,o):c(n,o)}},1607:function(e,t,r){var i=r(711),n=r(6911).Buffer;e.exports=function(e,t){return n.from(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray())}},6386:function(e){e.exports=function(e,t){for(var r=e.length,i=-1;++i<r;)e[i]^=t[i];return e}},7223:function(t,r,i){"use strict";var a=65536,o=0xffffffff;function s(){throw Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var f=i(6911).Buffer,c=e.g.crypto||e.g.msCrypto;function u(e,t){if(e>o)throw RangeError("requested too many random bytes");var r=f.allocUnsafe(e);if(e>0)if(e>a)for(var i=0;i<e;i+=a)c.getRandomValues(r.slice(i,i+a));else c.getRandomValues(r);return"function"==typeof t?n.default.nextTick(function(){t(null,r)}):r}c&&c.getRandomValues?t.exports=u:t.exports=s},6445:function(t,r,i){"use strict";function a(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=i(6911);i(7223);var s=o.Buffer,f=o.kMaxLength,c=e.g.crypto||e.g.msCrypto,u=0xffffffff;function h(e,t){if("number"!=typeof e||e!=e)throw TypeError("offset must be a number");if(e>u||e<0)throw TypeError("offset must be a uint32");if(e>f||e>t)throw RangeError("offset out of range")}function d(e,t,r){if("number"!=typeof e||e!=e)throw TypeError("size must be a number");if(e>u||e<0)throw TypeError("size must be a uint32");if(e+t>r||e>f)throw RangeError("buffer too small")}function l(t,r,i,n){if(!s.isBuffer(t)&&!(t instanceof e.g.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof r)n=r,r=0,i=t.length;else if("function"==typeof i)n=i,i=t.length-r;else if("function"!=typeof n)throw TypeError('"cb" argument must be a function');return h(r,t.length),d(i,r,t.length),p(t,r,i,n)}function p(e,t,r,i){var a=new Uint8Array(e.buffer,t,r);return(c.getRandomValues(a),i)?void n.default.nextTick(function(){i(null,e)}):e}function b(t,r,i){if(void 0===r&&(r=0),!s.isBuffer(t)&&!(t instanceof e.g.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return h(r,t.length),void 0===i&&(i=t.length-r),d(i,r,t.length),p(t,r,i)}c&&c.getRandomValues?(r.randomFill=l,r.randomFillSync=b):(r.randomFill=a,r.randomFillSync=a)},4646:function(e){"use strict";let t={};function r(e,r,i){function n(e,t,i){return"string"==typeof r?r:r(e,t,i)}i||(i=Error);class a extends i{constructor(e,t,r){super(n(e,t,r))}}a.prototype.name=i.name,a.prototype.code=e,t[e]=a}function i(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}function n(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function a(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function o(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){let s,f;if("string"==typeof t&&n(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",a(e," argument"))f=`The ${e} ${s} ${i(t,"type")}`;else{let r=o(e,".")?"property":"argument";f=`The "${e}" ${r} ${s} ${i(t,"type")}`}return f+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},2403:function(e,t,r){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var a=r(1709),o=r(7337);r(3782)(u,a);for(var s=i(o.prototype),f=0;f<s.length;f++){var c=s[f];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.default.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7889:function(e,t,r){"use strict";e.exports=n;var i=r(1170);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(3782)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},1709:function(t,r,i){"use strict";t.exports=P,P.ReadableState=M,i(2361).EventEmitter;var a,o,s,f,c,u=function(e,t){return e.listeners(t).length},h=i(4678),d=i(4300).Buffer,l=e.g.Uint8Array||function(){};function p(e){return d.from(e)}function b(e){return d.isBuffer(e)||e instanceof l}var y=i(3837);o=y&&y.debuglog?y.debuglog("stream"):function(){};var g=i(4379),m=i(7025),w=i(6776).getHighWaterMark,v=i(4646).q,_=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,S=v.ERR_METHOD_NOT_IMPLEMENTED,k=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(3782)(P,h);var E=m.errorOrDestroy,I=["error","close","destroy","pause","resume"];function A(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function M(e,t,r){a=a||i(2403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=w(this,e,"readableHighWaterMark",r),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=i(3704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function P(e){if(a=a||i(2403),!(this instanceof P))return new P(e);var t=this instanceof a;this._readableState=new M(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),h.call(this)}function O(e,t,r,i,n){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,D(e,s);else if(n||(a=R(s,t)),a)E(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=p(t)),i)s.endEmitted?E(e,new k):N(e,s,t,!0);else if(s.ended)E(e,new x);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?N(e,s,t,!1):U(e,s)):N(e,s,t,!1)}else i||(s.reading=!1,U(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function N(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&L(e)),U(e,t)}function R(e,t){var r;return b(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=d.from(e,t),t=""),r=!0),O(this,e,t,!1,r)},P.prototype.unshift=function(e){return O(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){s||(s=i(3704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var T=0x40000000;function C(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function B(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&(t.highWaterMark=C(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function D(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?L(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,F(e)))}}function L(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.default.nextTick(F,e))}function F(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,W(e)}function U(e,t){t.readingMore||(t.readingMore=!0,n.default.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function q(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,W(e))}}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){o("readable nexttick read 0"),e.read(0)}function K(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.default.nextTick(z,e,t))}function z(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),W(e),t.flowing&&!t.reading&&e.read(0)}function W(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function G(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.default.nextTick(X,t,e))}function X(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}P.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?G(this):L(this),null;if(0===(e=B(e,r))&&r.ended)return 0===r.length&&G(this),null;var n=r.needReadable;return o("need readable",n),(0===r.length||r.length-e<r.highWaterMark)&&o("length less than watermark",n=!0),r.ended||r.reading?o("reading or ended",n=!1):n&&(o("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=B(i,r))),null===(t=e>0?$(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&G(this)),null!==t&&this.emit("data",t),t},P.prototype._read=function(e){E(this,new S("_read()"))},P.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.default.stdout||e===n.default.stderr?g:f;function s(e,t){o("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function f(){o("onend"),e.end()}i.endEmitted?n.default.nextTick(a):r.once("end",a),e.on("unpipe",s);var c=q(r);e.on("drain",c);var h=!1;function d(){o("cleanup"),e.removeListener("close",b),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",g),r.removeListener("data",l),h=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}function l(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Y(i.pipes,e))&&!h&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function p(t){o("onerror",t),g(),e.removeListener("error",p),0===u(e,"error")&&E(e,t)}function b(){e.removeListener("finish",y),g()}function y(){o("onfinish"),e.removeListener("close",b),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",l),A(e,"error",p),e.once("close",b),e.once("finish",y),e.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Y(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},P.prototype.on=function(e,t){var r=h.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?L(this):i.reading||n.default.nextTick(H,this)),r},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var r=h.prototype.removeListener.call(this,e,t);return"readable"===e&&n.default.nextTick(V,this),r},P.prototype.removeAllListeners=function(e){var t=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.default.nextTick(V,this),t},P.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,K(this,e)),e.paused=!1,this},P.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var a=0;a<I.length;a++)e.on(I[a],this.emit.bind(this,I[a]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=i(6871)),f(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=$,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===c&&(c=i(9727)),c(P,e,t)})},1170:function(e,t,r){"use strict";e.exports=u;var i=r(4646).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,f=r(2403);function c(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);f.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(3782)(u,f),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,f.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new n("_transform()"))},u.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})}},7337:function(t,r,i){"use strict";function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){z(t,e)}}t.exports=M,M.WritableState=A;var o,s,f={deprecate:i(6769)},c=i(4678),u=i(4300).Buffer,h=e.g.Uint8Array||function(){};function d(e){return u.from(e)}function l(e){return u.isBuffer(e)||e instanceof h}var p=i(7025),b=i(6776).getHighWaterMark,y=i(4646).q,g=y.ERR_INVALID_ARG_TYPE,m=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_MULTIPLE_CALLBACK,v=y.ERR_STREAM_CANNOT_PIPE,_=y.ERR_STREAM_DESTROYED,x=y.ERR_STREAM_NULL_VALUES,S=y.ERR_STREAM_WRITE_AFTER_END,k=y.ERR_UNKNOWN_ENCODING,E=p.errorOrDestroy;function I(){}function A(e,t,r){o=o||i(2403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=b(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){D(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function M(e){var t=this instanceof(o=o||i(2403));if(!t&&!s.call(M,this))return new M(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function P(e,t){var r=new S;E(e,r),n.default.nextTick(t,r)}function O(e,t,r,i){var a;return null===r?a=new x:"string"==typeof r||t.objectMode||(a=new g("chunk",["string","Buffer"],r)),!a||(E(e,a),n.default.nextTick(i,a),!1)}function N(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}function R(e,t,r,i,n,a){if(!r){var o=N(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var s=t.objectMode?1:i.length;t.length+=s;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,i,n,a);return f}function T(e,t,r,i,n,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}function C(e,t,r,i,a){--t.pendingcb,r?(n.default.nextTick(a,i),n.default.nextTick(H,e,t),e._writableState.errorEmitted=!0,E(e,i)):(a(i),e._writableState.errorEmitted=!0,E(e,i),H(e,t))}function B(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function D(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new w;if(B(r),t)C(e,r,i,t,a);else{var o=j(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||U(e,r),i?n.default.nextTick(L,e,r,o,a):L(e,r,o,a)}}function L(e,t,r,i){r||F(e,t),t.pendingcb--,i(),H(e,t)}function F(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function U(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,T(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback,h=t.objectMode?1:f.length;if(T(e,t,!1,h,f,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function q(e,t){e._final(function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),H(e,t)})}function V(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.default.nextTick(q,e,t)))}function H(e,t){var r=j(t);if(r&&(V(e,t),0===t.pendingcb)&&(t.finished=!0,e.emit("finish"),t.autoDestroy)){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function K(e,t,r){t.ending=!0,H(e,t),r&&(t.finished?n.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function z(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}i(3782)(M,c),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===M&&e&&e._writableState instanceof A}})):s=function(e){return e instanceof this},M.prototype.pipe=function(){E(this,new v)},M.prototype.write=function(e,t,r){var i=this._writableState,n=!1,a=!i.objectMode&&l(e);return a&&!u.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=I),i.ending?P(this,r):(a||O(this,i,e,r))&&(i.pendingcb++,n=R(this,i,a,e,t,r)),n},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||U(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,r){r(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||K(this,i,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=p.destroy,M.prototype._undestroy=p.undestroy,M.prototype._destroy=function(e,t){t(e)}},6871:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a,o=r(9698),s=Symbol("lastResolve"),f=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),l=Symbol("stream");function p(e,t){return{value:e,done:t}}function b(e){var t=e[s];if(null!==t){var r=e[l].read();null!==r&&(e[h]=null,e[s]=null,e[f]=null,t(p(r,!1)))}}function y(e){n.default.nextTick(b,e)}function g(e,t){return function(r,i){e.then(function(){t[u]?r(p(void 0,!0)):t[d](r,i)},i)}}var m=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((i(a={get stream(){return this[l]},next:function(){var e,t=this,r=this[c];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(e,r){n.default.nextTick(function(){t[c]?r(t[c]):e(p(void 0,!0))})});var i=this[h];if(i)e=new Promise(g(i,this));else{var a=this[l].read();if(null!==a)return Promise.resolve(p(a,!1));e=new Promise(this[d])}return this[h]=e,e}},Symbol.asyncIterator,function(){return this}),i(a,"return",function(){var e=this;return new Promise(function(t,r){e[l].destroy(null,function(e){e?r(e):t(p(void 0,!0))})})}),a),m);e.exports=function(e){var t,r=Object.create(w,(i(t={},l,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,f,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var i=r[l].read();i?(r[h]=null,r[s]=null,r[f]=null,e(p(i,!1))):(r[s]=e,r[f]=t)},writable:!0}),t));return r[h]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[f];null!==t&&(r[h]=null,r[s]=null,r[f]=null,t(e)),r[c]=e;return}var i=r[s];null!==i&&(r[h]=null,r[s]=null,r[f]=null,i(p(void 0,!0))),r[u]=!0}),e.on("readable",y.bind(null,r)),r}},4379:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var c=r(4300).Buffer,u=r(3837).inspect,h=u&&u.custom||"inspect";function d(e,t,r){c.prototype.copy.call(e,t,r)}e.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return f(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),r=this.head,i=0;r;)d(r.data,t,i),i+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,a=e>n.length?n.length:e;if(a===n.length?i+=n:i+=n.slice(0,e),0==(e-=a)){a===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(a));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,a=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,a),0==(e-=a)){a===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(a));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return u(this,n({},t,{depth:0,customInspect:!1}))}}]),e}()},7025:function(e){"use strict";function t(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var o=this,s=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return s||f?a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.default.nextTick(i,this,e)):n.default.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?o._writableState?o._writableState.errorEmitted?n.default.nextTick(r,o):(o._writableState.errorEmitted=!0,n.default.nextTick(t,o,e)):n.default.nextTick(t,o,e):a?(n.default.nextTick(r,o),a(e)):n.default.nextTick(r,o)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},9698:function(e,t,r){"use strict";var i=r(4646).q.ERR_STREAM_PREMATURE_CLOSE;function n(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function a(){}function o(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=n(r||a);var f=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||d()},h=e._writableState&&e._writableState.finished,d=function(){c=!1,h=!0,f||r.call(e)},l=e._readableState&&e._readableState.endEmitted,p=function(){f=!1,l=!0,c||r.call(e)},b=function(t){r.call(e,t)},y=function(){var t;return f&&!l?(e._readableState&&e._readableState.ended||(t=new i),r.call(e,t)):c&&!h?(e._writableState&&e._writableState.ended||(t=new i),r.call(e,t)):void 0},g=function(){e.req.on("finish",d)};return o(e)?(e.on("complete",d),e.on("abort",y),e.req?g():e.on("request",g)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",b),e.on("close",y),function(){e.removeListener("complete",d),e.removeListener("abort",y),e.removeListener("request",g),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("end",p),e.removeListener("error",b),e.removeListener("close",y)}}e.exports=s},9727:function(e,t,r){"use strict";function i(e,t,r,i,n,a,o){try{var s=e[a](o),f=s.value}catch(e){r(e);return}s.done?t(f):Promise.resolve(f).then(i,n)}function n(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,f,"next",e)}function f(e){i(o,n,a,s,f,"throw",e)}s(void 0)})}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r(4646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new f("iterable",["Iterable"],t);var i,a=new e(o({objectMode:!0},r)),s=!1;function c(){return u.apply(this,arguments)}function u(){return(u=n(function*(){try{var e=yield i.next(),t=e.value;e.done?a.push(null):a.push((yield t))?c():s=!1}catch(e){a.destroy(e)}})).apply(this,arguments)}return a._read=function(){s||(s=!0,c())},a}},8442:function(e,t,r){"use strict";function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var n,a=r(4646).q,o=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function f(e){if(e)throw e}function c(e){return e.setHeader&&"function"==typeof e.abort}function u(e,t,a,o){o=i(o);var f=!1;e.on("close",function(){f=!0}),void 0===n&&(n=r(9698)),n(e,{readable:t,writable:a},function(e){if(e)return o(e);f=!0,o()});var u=!1;return function(t){if(!f&&!u){if(u=!0,c(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new s("pipe"))}}}function h(e){e()}function d(e,t){return e.pipe(t)}function l(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():f}e.exports=function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=l(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var a=r.map(function(t,i){var o=i<r.length-1;return u(t,o,i>0,function(t){e||(e=t),t&&a.forEach(h),o||(a.forEach(h),n(e))})});return r.reduce(d)}},6776:function(e,t,r){"use strict";var i=r(4646).q.ERR_INVALID_OPT_VALUE;function n(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}e.exports={getHighWaterMark:function(e,t,r,a){var o=n(t,a,r);if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new i(a?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},4678:function(e,t,r){e.exports=r(2781)},3726:function(e,t,r){var i=r(2781);"disable"===n.default.env.READABLE_STREAM&&i?(e.exports=i.Readable,Object.assign(e.exports,i),e.exports.Stream=i):((t=e.exports=r(1709)).Stream=i||t,t.Readable=t,t.Writable=r(7337),t.Duplex=r(2403),t.Transform=r(1170),t.PassThrough=r(7889),t.finished=r(9698),t.pipeline=r(8442))},3225:function(e,t,r){"use strict";var i=r(4300).Buffer,n=r(3782),a=r(9029),o=Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e],d=[0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0];function l(){a.call(this,64),this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0}function p(e,t){return e<<t|e>>>32-t}function b(e,t,r,i,n,a,o,s){return p(e+(t^r^i)+a+o|0,s)+n|0}function y(e,t,r,i,n,a,o,s){return p(e+(t&r|~t&i)+a+o|0,s)+n|0}function g(e,t,r,i,n,a,o,s){return p(e+((t|~r)^i)+a+o|0,s)+n|0}function m(e,t,r,i,n,a,o,s){return p(e+(t&i|r&~i)+a+o|0,s)+n|0}function w(e,t,r,i,n,a,o,s){return p(e+(t^(r|~i))+a+o|0,s)+n|0}n(l,a),l.prototype._update=function(){for(var e,t,r=o,i=0;i<16;++i)r[i]=this._block.readInt32LE(4*i);for(var n=0|this._a,a=0|this._b,l=0|this._c,v=0|this._d,_=0|this._e,x=0|this._a,S=0|this._b,k=0|this._c,E=0|this._d,I=0|this._e,A=0;A<80;A+=1)A<16?(e=b(n,a,l,v,_,r[s[A]],h[0],c[A]),t=w(x,S,k,E,I,r[f[A]],d[0],u[A])):A<32?(e=y(n,a,l,v,_,r[s[A]],h[1],c[A]),t=m(x,S,k,E,I,r[f[A]],d[1],u[A])):A<48?(e=g(n,a,l,v,_,r[s[A]],h[2],c[A]),t=g(x,S,k,E,I,r[f[A]],d[2],u[A])):A<64?(e=m(n,a,l,v,_,r[s[A]],h[3],c[A]),t=y(x,S,k,E,I,r[f[A]],d[3],u[A])):(e=w(n,a,l,v,_,r[s[A]],h[4],c[A]),t=b(x,S,k,E,I,r[f[A]],d[4],u[A])),n=_,_=v,v=p(l,10),l=a,a=e,x=I,I=E,E=p(k,10),k=S,S=t;var M=this._b+l+E|0;this._b=this._c+v+I|0,this._c=this._d+_+x|0,this._d=this._e+n+S|0,this._e=this._a+a+k|0,this._a=M},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=l},5055:function(e,t,r){var i=r(4300),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),o.prototype=Object.create(n.prototype),a(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},6911:function(e,t,r){var i=r(4300),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),o.prototype=Object.create(n.prototype),a(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},2858:function(e,t,r){var i=r(6911).Buffer;function n(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var r=this._block,n=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var f=o%n,c=Math.min(a-s,n-f),u=0;u<c;u++)r[f+u]=e[s+u];o+=c,s+=c,o%n==0&&this._update(r)}return this._len+=a,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=0xffffffff)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=r>>>0,n=(r-i)/0x100000000;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},n.prototype._update=function(){throw Error("_update must be implemented by subclass")},e.exports=n},4371:function(e,t,r){var i=e.exports=function(e){var t=i[e=e.toLowerCase()];if(!t)throw Error(e+" is not supported (we accept pull requests)");return new t};i.sha=r(4018),i.sha1=r(4179),i.sha224=r(532),i.sha256=r(1843),i.sha384=r(7455),i.sha512=r(9934)},4018:function(e,t,r){var i=r(3782),n=r(2858),a=r(6911).Buffer,o=[0x5a827999,0x6ed9eba1,-0x70e44324,-0x359d3e2a],s=Array(80);function f(){this.init(),this._w=s,n.call(this,64,56)}function c(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function h(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(f,n),f.prototype.init=function(){return this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0,this},f.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)t[f]=e.readInt32BE(4*f);for(;f<80;++f)t[f]=t[f-3]^t[f-8]^t[f-14]^t[f-16];for(var d=0;d<80;++d){var l=~~(d/20),p=c(r)+h(l,i,n,a)+s+t[d]+o[l]|0;s=a,a=n,n=u(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},f.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=f},4179:function(e,t,r){var i=r(3782),n=r(2858),a=r(6911).Buffer,o=[0x5a827999,0x6ed9eba1,-0x70e44324,-0x359d3e2a],s=Array(80);function f(){this.init(),this._w=s,n.call(this,64,56)}function c(e){return e<<1|e>>>31}function u(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function d(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(f,n),f.prototype.init=function(){return this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0,this},f.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,a=0|this._d,s=0|this._e,f=0;f<16;++f)t[f]=e.readInt32BE(4*f);for(;f<80;++f)t[f]=c(t[f-3]^t[f-8]^t[f-14]^t[f-16]);for(var l=0;l<80;++l){var p=~~(l/20),b=u(r)+d(p,i,n,a)+s+t[l]+o[p]|0;s=a,a=n,n=h(i),i=r,r=b}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},f.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=f},532:function(e,t,r){var i=r(3782),n=r(1843),a=r(2858),o=r(6911).Buffer,s=Array(64);function f(){this.init(),this._w=s,a.call(this,64,56)}i(f,n),f.prototype.init=function(){return this._a=0xc1059ed8,this._b=0x367cd507,this._c=0x3070dd17,this._d=0xf70e5939,this._e=0xffc00b31,this._f=0x68581511,this._g=0x64f98fa7,this._h=0xbefa4fa4,this},f.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=f},1843:function(e,t,r){var i=r(3782),n=r(2858),a=r(6911).Buffer,o=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],s=Array(64);function f(){this.init(),this._w=s,n.call(this,64,56)}function c(e,t,r){return r^e&(t^r)}function u(e,t,r){return e&t|r&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}i(f,n),f.prototype.init=function(){return this._a=0x6a09e667,this._b=0xbb67ae85,this._c=0x3c6ef372,this._d=0xa54ff53a,this._e=0x510e527f,this._f=0x9b05688c,this._g=0x1f83d9ab,this._h=0x5be0cd19,this},f.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,a=0|this._d,s=0|this._e,f=0|this._f,b=0|this._g,y=0|this._h,g=0;g<16;++g)t[g]=e.readInt32BE(4*g);for(;g<64;++g)t[g]=p(t[g-2])+t[g-7]+l(t[g-15])+t[g-16]|0;for(var m=0;m<64;++m){var w=y+d(s)+c(s,f,b)+o[m]+t[m]|0,v=h(r)+u(r,i,n)|0;y=b,b=f,f=s,s=a+w|0,a=n,n=i,i=r,r=w+v|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=f+this._f|0,this._g=b+this._g|0,this._h=y+this._h|0},f.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=f},7455:function(e,t,r){var i=r(3782),n=r(9934),a=r(2858),o=r(6911).Buffer,s=Array(160);function f(){this.init(),this._w=s,a.call(this,128,112)}i(f,n),f.prototype.init=function(){return this._ah=0xcbbb9d5d,this._bh=0x629a292a,this._ch=0x9159015a,this._dh=0x152fecd8,this._eh=0x67332667,this._fh=0x8eb44a87,this._gh=0xdb0c2e0d,this._hh=0x47b5481d,this._al=0xc1059ed8,this._bl=0x367cd507,this._cl=0x3070dd17,this._dl=0xf70e5939,this._el=0xffc00b31,this._fl=0x68581511,this._gl=0x64f98fa7,this._hl=0xbefa4fa4,this},f.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=f},9934:function(e,t,r){var i=r(3782),n=r(2858),a=r(6911).Buffer,o=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817],s=Array(160);function f(){this.init(),this._w=s,n.call(this,128,112)}function c(e,t,r){return r^e&(t^r)}function u(e,t,r){return e&t|r&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return+(e>>>0<t>>>0)}i(f,n),f.prototype.init=function(){return this._ah=0x6a09e667,this._bh=0xbb67ae85,this._ch=0x3c6ef372,this._dh=0xa54ff53a,this._eh=0x510e527f,this._fh=0x9b05688c,this._gh=0x1f83d9ab,this._hh=0x5be0cd19,this._al=0xf3bcc908,this._bl=0x84caa73b,this._cl=0xfe94f82b,this._dl=0x5f1d36f1,this._el=0xade682d1,this._fl=0x2b3e6c1f,this._gl=0xfb41bd6b,this._hl=0x137e2179,this},f.prototype._update=function(e){for(var t=this._w,r=0|this._ah,i=0|this._bh,n=0|this._ch,a=0|this._dh,s=0|this._eh,f=0|this._fh,m=0|this._gh,w=0|this._hh,v=0|this._al,_=0|this._bl,x=0|this._cl,S=0|this._dl,k=0|this._el,E=0|this._fl,I=0|this._gl,A=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var P=t[M-30],O=t[M-30+1],N=l(P,O),R=p(O,P),T=b(P=t[M-4],O=t[M-4+1]),C=y(O,P),B=t[M-14],D=t[M-14+1],L=t[M-32],F=t[M-32+1],U=R+D|0,j=N+B+g(U,R)|0;j=(j=j+T+g(U=U+C|0,C)|0)+L+g(U=U+F|0,F)|0,t[M]=j,t[M+1]=U}for(var q=0;q<160;q+=2){j=t[q],U=t[q+1];var V=u(r,i,n),H=u(v,_,x),K=h(r,v),z=h(v,r),W=d(s,k),$=d(k,s),G=o[q],X=o[q+1],Y=c(s,f,m),J=c(k,E,I),Z=A+$|0,Q=w+W+g(Z,A)|0;Q=(Q=(Q=Q+Y+g(Z=Z+J|0,J)|0)+G+g(Z=Z+X|0,X)|0)+j+g(Z=Z+U|0,U)|0;var ee=z+H|0,et=K+V+g(ee,z)|0;w=m,A=I,m=f,I=E,f=s,E=k,s=a+Q+g(k=S+Z|0,S)|0,a=n,S=x,n=i,x=_,i=r,_=v,r=Q+et+g(v=Z+ee|0,Z)|0}this._al=this._al+v|0,this._bl=this._bl+_|0,this._cl=this._cl+x|0,this._dl=this._dl+S|0,this._el=this._el+k|0,this._fl=this._fl+E|0,this._gl=this._gl+I|0,this._hl=this._hl+A|0,this._ah=this._ah+r+g(this._al,v)|0,this._bh=this._bh+i+g(this._bl,_)|0,this._ch=this._ch+n+g(this._cl,x)|0,this._dh=this._dh+a+g(this._dl,S)|0,this._eh=this._eh+s+g(this._el,k)|0,this._fh=this._fh+f+g(this._fl,E)|0,this._gh=this._gh+m+g(this._gl,I)|0,this._hh=this._hh+w+g(this._hl,A)|0},f.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=f},3704:function(e,t,r){"use strict";var i=r(5055).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=a(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=p,this.end=b,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=y,this.end=g,t=3;break;default:this.write=m,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function f(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e,t,r){var i=t.length-1;if(i<r)return 0;var n=f(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}function u(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}function h(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function d(e,t){var r=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function b(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function w(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=l,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},6769:function(t){function r(t){try{if(!e.g.localStorage)return!1}catch(e){return!1}var r=e.g.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function e(e,t){if(r("noDeprecation"))return e;var i=!1;return function(){if(!i){if(r("throwDeprecation"))throw Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}},4300:function(t){"use strict";t.exports=e.r(43943)},6113:function(t){"use strict";t.exports=e.r(86914)},2361:function(t){"use strict";t.exports=e.r(30662)},2781:function(t){"use strict";t.exports=e.r(12569)},1576:function(t){"use strict";t.exports=e.r(19049)},3837:function(t){"use strict";t.exports=e.r(77398)},6144:function(t){"use strict";t.exports=e.r(13385)},5866:function(e){"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},2908:function(e){"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},9267:function(e){"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},7992:function(e){"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},2531:function(e){"use strict";e.exports={i8:"6.5.3"}},2510:function(e){"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={id:e,loaded:!1,exports:{}},n=!0;try{r[e].call(i.exports,i,i.exports,o),n=!1}finally{n&&delete a[e]}return i.loaded=!0,i.exports}!function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),o.ab="/ROOT/node_modules/next/dist/compiled/crypto-browserify/";var s={};!function(){"use strict";var e=s;e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=o(7223),e.createHash=e.Hash=o(9739),e.createHmac=e.Hmac=o(4873);var t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(o(9276)));e.getHashes=function(){return t};var r=o(4978);e.pbkdf2=r.pbkdf2,e.pbkdf2Sync=r.pbkdf2Sync;var i=o(8996);e.Cipher=i.Cipher,e.createCipher=i.createCipher,e.Cipheriv=i.Cipheriv,e.createCipheriv=i.createCipheriv,e.Decipher=i.Decipher,e.createDecipher=i.createDecipher,e.Decipheriv=i.Decipheriv,e.createDecipheriv=i.createDecipheriv,e.getCiphers=i.getCiphers,e.listCiphers=i.listCiphers;var n=o(6587);e.DiffieHellmanGroup=n.DiffieHellmanGroup,e.createDiffieHellmanGroup=n.createDiffieHellmanGroup,e.getDiffieHellman=n.getDiffieHellman,e.createDiffieHellman=n.createDiffieHellman,e.DiffieHellman=n.DiffieHellman;var a=o(4078);e.createSign=a.createSign,e.Sign=a.Sign,e.createVerify=a.createVerify,e.Verify=a.Verify,e.createECDH=o(9942);var f=o(9783);e.publicEncrypt=f.publicEncrypt,e.privateEncrypt=f.privateEncrypt,e.publicDecrypt=f.publicDecrypt,e.privateDecrypt=f.privateDecrypt;var c=o(6445);e.randomFill=c.randomFill,e.randomFillSync=c.randomFillSync,e.createCredentials=function(){throw Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify")},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}(),t.exports=s}()},43954,(e,t,r)=>{!function(){"use strict";var e={815:function(e){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,n,a){i=i||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(i);var f=1e3;a&&"number"==typeof a.maxKeys&&(f=a.maxKeys);var c=e.length;f>0&&c>f&&(c=f);for(var u=0;u<c;++u){var h,d,l,p,b=e[u].replace(s,"%20"),y=b.indexOf(n);y>=0?(h=b.substr(0,y),d=b.substr(y+1)):(h=b,d=""),l=decodeURIComponent(h),p=decodeURIComponent(d),t(o,l)?r(o[l])?o[l].push(p):o[l]=[o[l],p]:o[l]=p}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,o,s){return(a=a||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e)?i(n(e),function(n){var s=encodeURIComponent(t(n))+o;return r(e[n])?i(e[n],function(e){return s+encodeURIComponent(t(e))}).join(a):s+encodeURIComponent(t(e[n]))}).join(a):s?encodeURIComponent(t(s))+o+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i],i));return r}var n=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function i(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={exports:{}},o=!0;try{e[t](a,a.exports,i),o=!1}finally{o&&delete r[t]}return a.exports}i.ab="/ROOT/node_modules/next/dist/compiled/querystring-es3/";var n={};!function(){var e=n;e.decode=e.parse=i(815),e.encode=e.stringify=i(577)}(),t.exports=n}()},21342,(e,t,r)=>{!function(){var r={452:function(t){"use strict";t.exports=e.r(43954)}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}},o=!0;try{r[e](a,a.exports,n),o=!1}finally{o&&delete i[e]}return a.exports}n.ab="/ROOT/node_modules/next/dist/compiled/native-url/";var a={};!function(){var e,t=a,r=(e=n(452))&&"object"==typeof e&&"default"in e?e.default:e,i=/https?|ftp|gopher|file/;function o(e){"string"==typeof e&&(e=w(e));var t=function(e,t,r){var i=e.auth,n=e.hostname,a=e.protocol||"",o=e.pathname||"",s=e.hash||"",f=e.query||"",c=!1;i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",e.host?c=i+e.host:n&&(c=i+(~n.indexOf(":")?"["+n+"]":n),e.port&&(c+=":"+e.port)),f&&"object"==typeof f&&(f=t.encode(f));var u=e.search||f&&"?"+f||"";return a&&":"!==a.substr(-1)&&(a+=":"),e.slashes||(!a||r.test(a))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),s&&"#"!==s[0]&&(s="#"+s),u&&"?"!==u[0]&&(u="?"+u),{protocol:a,host:c,pathname:o=o.replace(/[?#]/g,encodeURIComponent),search:u=u.replace("#","%23"),hash:s}}(e,r,i);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var s="http://",f="w.w",c=s+f,u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,h=/https?|ftp|gopher|file/;function d(e,t){var r="string"==typeof e?w(e):e;e="object"==typeof e?o(e):e;var i=w(t),n="";r.protocol&&!r.slashes&&(n=r.protocol,e=e.replace(r.protocol,""),n+="/"===t[0]||"/"===e[0]?"/":""),n&&i.protocol&&(n="",i.slashes||(n=i.protocol,t=t.replace(i.protocol,"")));var a=e.match(u);a&&!i.protocol&&(e=e.substr((n=a[1]+(a[2]||"")).length),/^\/\/[^/]/.test(t)&&(n=n.slice(0,-1)));var f=new URL(e,c+"/"),d=new URL(t,f).toString().replace(c,""),l=i.protocol||r.protocol;return l+=r.slashes||i.slashes?"//":"",!n&&l?d=d.replace(s,l):n&&(d=d.replace(s,"")),h.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),n&&(d=n+("/"===d[0]?d.substr(1):d)),d}function l(){}l.prototype.parse=w,l.prototype.format=o,l.prototype.resolve=d,l.prototype.resolveObject=d;var p=/^https?|ftp|gopher|file/,b=/^(.*?)([#?].*)/,y=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,m=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function w(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof l)return e;var n=(e=e.trim()).match(b);e=n?n[1].replace(/\\/g,"/")+n[2]:e.replace(/\\/g,"/"),m.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(y),s=g.test(e),u="";a&&(p.test(a[1])||(u=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(s=!1,p.test(a[1])?(u=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(u=a[1],e="/"+a[3]));var h,d=(n?n[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),w=d&&d[1],v=new l,_="",x="";try{h=new URL(e)}catch(t){_=t,u||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(x="/",e=e.substr(1));try{h=new URL(e,c)}catch(e){return v.protocol=u,v.href=u,v}}v.slashes=s&&!x,v.host=h.host===f?"":h.host,v.hostname=h.hostname===f?"":h.hostname.replace(/(\[|\])/g,""),v.protocol=_?u||null:h.protocol,v.search=h.search.replace(/\\/g,"%5C"),v.hash=h.hash.replace(/\\/g,"%5C");var S=e.split("#");!v.search&&~S[0].indexOf("?")&&(v.search="?"),v.hash||""!==S[1]||(v.hash="#"),v.query=t?r.decode(h.search.substr(1)):v.search.substr(1),v.pathname=x+(a?function(e){return e.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}})}(h.pathname):h.pathname),"about:"===v.protocol&&"blank"===v.pathname&&(v.protocol="",v.pathname=""),_&&"/"!==e[0]&&(v.pathname=v.pathname.substr(1)),u&&!p.test(u)&&"/"!==e.slice(-1)&&"/"===v.pathname&&(v.pathname=""),v.path=v.pathname+v.search,v.auth=[h.username,h.password].map(decodeURIComponent).filter(Boolean).join(":"),v.port=h.port,w&&!v.host.endsWith(w)&&(v.host+=w,v.port=w.slice(1)),v.href=x?""+v.pathname+v.search+v.hash:o(v);var k=/^(file)/.test(v.href)?["host","hostname"]:[];return Object.keys(v).forEach(function(e){~k.indexOf(e)||(v[e]=v[e]||null)}),v}t.parse=w,t.format=o,t.resolve=d,t.resolveObject=function(e,t){return w(d(e,t))},t.Url=l}(),t.exports=a}()},22184,(e,t,r)=>{var i=e.i(47167),n=e.i(67034);!function(){var r={523:function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,i){function n(e,t,i){return"string"==typeof r?r:r(e,t,i)}i||(i=Error);class a extends i{constructor(e,t,r){super(n(e,t,r))}}a.prototype.name=i.name,a.prototype.code=e,t[e]=a}function i(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}function n(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function a(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function o(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){let s,f;if("string"==typeof t&&n(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",a(e," argument"))f=`The ${e} ${s} ${i(t,"type")}`;else{let r=o(e,".")?"property":"argument";f=`The "${e}" ${r} ${s} ${i(t,"type")}`}return f+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var a=r(709),o=r(337);r(782)(u,a);for(var s=n(o.prototype),f=0;f<s.length;f++){var c=s[f];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.default.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=n;var i=r(170);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(782)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},709:function(t,r,n){"use strict";t.exports=P,P.ReadableState=M,n(361).EventEmitter;var a,o,s,f,c,u=function(e,t){return e.listeners(t).length},h=n(678),d=n(300).Buffer,l=e.g.Uint8Array||function(){};function p(e){return d.from(e)}function b(e){return d.isBuffer(e)||e instanceof l}var y=n(837);o=y&&y.debuglog?y.debuglog("stream"):function(){};var g=n(379),m=n(25),w=n(776).getHighWaterMark,v=n(646).q,_=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,S=v.ERR_METHOD_NOT_IMPLEMENTED,k=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(782)(P,h);var E=m.errorOrDestroy,I=["error","close","destroy","pause","resume"];function A(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function M(e,t,r){a=a||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=w(this,e,"readableHighWaterMark",r),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=n(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function P(e){if(a=a||n(403),!(this instanceof P))return new P(e);var t=this instanceof a;this._readableState=new M(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),h.call(this)}function O(e,t,r,i,n){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,D(e,s);else if(n||(a=R(s,t)),a)E(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=p(t)),i)s.endEmitted?E(e,new k):N(e,s,t,!0);else if(s.ended)E(e,new x);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?N(e,s,t,!1):U(e,s)):N(e,s,t,!1)}else i||(s.reading=!1,U(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function N(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&L(e)),U(e,t)}function R(e,t){var r;return b(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=d.from(e,t),t=""),r=!0),O(this,e,t,!1,r)},P.prototype.unshift=function(e){return O(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){s||(s=n(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=0x40000000;function C(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function B(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&(t.highWaterMark=C(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function D(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?L(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,F(e)))}}function L(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.default.nextTick(F,e))}function F(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,W(e)}function U(e,t){t.readingMore||(t.readingMore=!0,i.default.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function q(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,W(e))}}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){o("readable nexttick read 0"),e.read(0)}function K(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.default.nextTick(z,e,t))}function z(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),W(e),t.flowing&&!t.reading&&e.read(0)}function W(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function G(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.default.nextTick(X,t,e))}function X(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}P.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?G(this):L(this),null;if(0===(e=B(e,r))&&r.ended)return 0===r.length&&G(this),null;var n=r.needReadable;return o("need readable",n),(0===r.length||r.length-e<r.highWaterMark)&&o("length less than watermark",n=!0),r.ended||r.reading?o("reading or ended",n=!1):n&&(o("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=B(i,r))),null===(t=e>0?$(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&G(this)),null!==t&&this.emit("data",t),t},P.prototype._read=function(e){E(this,new S("_read()"))},P.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===i.default.stdout||e===i.default.stderr?g:f;function s(e,t){o("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function f(){o("onend"),e.end()}n.endEmitted?i.default.nextTick(a):r.once("end",a),e.on("unpipe",s);var c=q(r);e.on("drain",c);var h=!1;function d(){o("cleanup"),e.removeListener("close",b),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",f),r.removeListener("end",g),r.removeListener("data",l),h=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}function l(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==Y(n.pipes,e))&&!h&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(t){o("onerror",t),g(),e.removeListener("error",p),0===u(e,"error")&&E(e,t)}function b(){e.removeListener("finish",y),g()}function y(){o("onfinish"),e.removeListener("close",b),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",l),A(e,"error",p),e.once("close",b),e.once("finish",y),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=Y(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},P.prototype.on=function(e,t){var r=h.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?L(this):n.reading||i.default.nextTick(H,this)),r},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var r=h.prototype.removeListener.call(this,e,t);return"readable"===e&&i.default.nextTick(V,this),r},P.prototype.removeAllListeners=function(e){var t=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.default.nextTick(V,this),t},P.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,K(this,e)),e.paused=!1,this},P.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var a=0;a<I.length;a++)e.on(I[a],this.emit.bind(this,I[a]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(871)),f(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=$,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===c&&(c=n(727)),c(P,e,t)})},170:function(e,t,r){"use strict";e.exports=u;var i=r(646).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,f=r(403);function c(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);f.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(782)(u,f),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,f.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new n("_transform()"))},u.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(t,r,n){"use strict";function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){z(t,e)}}t.exports=M,M.WritableState=A;var o,s,f={deprecate:n(769)},c=n(678),u=n(300).Buffer,h=e.g.Uint8Array||function(){};function d(e){return u.from(e)}function l(e){return u.isBuffer(e)||e instanceof h}var p=n(25),b=n(776).getHighWaterMark,y=n(646).q,g=y.ERR_INVALID_ARG_TYPE,m=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_MULTIPLE_CALLBACK,v=y.ERR_STREAM_CANNOT_PIPE,_=y.ERR_STREAM_DESTROYED,x=y.ERR_STREAM_NULL_VALUES,S=y.ERR_STREAM_WRITE_AFTER_END,k=y.ERR_UNKNOWN_ENCODING,E=p.errorOrDestroy;function I(){}function A(e,t,r){o=o||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=b(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){D(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function M(e){var t=this instanceof(o=o||n(403));if(!t&&!s.call(M,this))return new M(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function P(e,t){var r=new S;E(e,r),i.default.nextTick(t,r)}function O(e,t,r,n){var a;return null===r?a=new x:"string"==typeof r||t.objectMode||(a=new g("chunk",["string","Buffer"],r)),!a||(E(e,a),i.default.nextTick(n,a),!1)}function N(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}function R(e,t,r,i,n,a){if(!r){var o=N(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var s=t.objectMode?1:i.length;t.length+=s;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,i,n,a);return f}function T(e,t,r,i,n,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}function C(e,t,r,n,a){--t.pendingcb,r?(i.default.nextTick(a,n),i.default.nextTick(H,e,t),e._writableState.errorEmitted=!0,E(e,n)):(a(n),e._writableState.errorEmitted=!0,E(e,n),H(e,t))}function B(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function D(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if("function"!=typeof a)throw new w;if(B(r),t)C(e,r,n,t,a);else{var o=j(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||U(e,r),n?i.default.nextTick(L,e,r,o,a):L(e,r,o,a)}}function L(e,t,r,i){r||F(e,t),t.pendingcb--,i(),H(e,t)}function F(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function U(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,T(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,u=r.callback,h=t.objectMode?1:f.length;if(T(e,t,!1,h,f,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function q(e,t){e._final(function(r){t.pendingcb--,r&&E(e,r),t.prefinished=!0,e.emit("prefinish"),H(e,t)})}function V(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.default.nextTick(q,e,t)))}function H(e,t){var r=j(t);if(r&&(V(e,t),0===t.pendingcb)&&(t.finished=!0,e.emit("finish"),t.autoDestroy)){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function K(e,t,r){t.ending=!0,H(e,t),r&&(t.finished?i.default.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function z(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}n(782)(M,c),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===M&&e&&e._writableState instanceof A}})):s=function(e){return e instanceof this},M.prototype.pipe=function(){E(this,new v)},M.prototype.write=function(e,t,r){var i=this._writableState,n=!1,a=!i.objectMode&&l(e);return a&&!u.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=I),i.ending?P(this,r):(a||O(this,i,e,r))&&(i.pendingcb++,n=R(this,i,a,e,t,r)),n},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||U(this,e))},M.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new k(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),M.prototype._write=function(e,t,r){r(new m("_write()"))},M.prototype._writev=null,M.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||K(this,i,r),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),M.prototype.destroy=p.destroy,M.prototype._undestroy=p.undestroy,M.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a,o=r(698),s=Symbol("lastResolve"),f=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),l=Symbol("stream");function p(e,t){return{value:e,done:t}}function b(e){var t=e[s];if(null!==t){var r=e[l].read();null!==r&&(e[h]=null,e[s]=null,e[f]=null,t(p(r,!1)))}}function y(e){i.default.nextTick(b,e)}function g(e,t){return function(r,i){e.then(function(){t[u]?r(p(void 0,!0)):t[d](r,i)},i)}}var m=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((n(a={get stream(){return this[l]},next:function(){var e,t=this,r=this[c];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(e,r){i.default.nextTick(function(){t[c]?r(t[c]):e(p(void 0,!0))})});var n=this[h];if(n)e=new Promise(g(n,this));else{var a=this[l].read();if(null!==a)return Promise.resolve(p(a,!1));e=new Promise(this[d])}return this[h]=e,e}},Symbol.asyncIterator,function(){return this}),n(a,"return",function(){var e=this;return new Promise(function(t,r){e[l].destroy(null,function(e){e?r(e):t(p(void 0,!0))})})}),a),m);e.exports=function(e){var t,r=Object.create(w,(n(t={},l,{value:e,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,f,{value:null,writable:!0}),n(t,c,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,d,{value:function(e,t){var i=r[l].read();i?(r[h]=null,r[s]=null,r[f]=null,e(p(i,!1))):(r[s]=e,r[f]=t)},writable:!0}),t));return r[h]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[f];null!==t&&(r[h]=null,r[s]=null,r[f]=null,t(e)),r[c]=e;return}var i=r[s];null!==i&&(r[h]=null,r[s]=null,r[f]=null,i(p(void 0,!0))),r[u]=!0}),e.on("readable",y.bind(null,r)),r}},379:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var c=r(300).Buffer,u=r(837).inspect,h=u&&u.custom||"inspect";function d(e,t,r){c.prototype.copy.call(e,t,r)}e.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return f(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t=c.allocUnsafe(e>>>0),r=this.head,i=0;r;)d(r.data,t,i),i+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,a=e>n.length?n.length:e;if(a===n.length?i+=n:i+=n.slice(0,e),0==(e-=a)){a===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(a));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,a=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,a),0==(e-=a)){a===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(a));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return u(this,n({},t,{depth:0,customInspect:!1}))}}]),e}()},25:function(e){"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var o=this,s=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return s||f?a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.default.nextTick(n,this,e)):i.default.nextTick(n,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?o._writableState?o._writableState.errorEmitted?i.default.nextTick(r,o):(o._writableState.errorEmitted=!0,i.default.nextTick(t,o,e)):i.default.nextTick(t,o,e):a?(i.default.nextTick(r,o),a(e)):i.default.nextTick(r,o)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var i=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function n(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function a(){}function o(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=n(r||a);var f=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||d()},h=e._writableState&&e._writableState.finished,d=function(){c=!1,h=!0,f||r.call(e)},l=e._readableState&&e._readableState.endEmitted,p=function(){f=!1,l=!0,c||r.call(e)},b=function(t){r.call(e,t)},y=function(){var t;return f&&!l?(e._readableState&&e._readableState.ended||(t=new i),r.call(e,t)):c&&!h?(e._writableState&&e._writableState.ended||(t=new i),r.call(e,t)):void 0},g=function(){e.req.on("finish",d)};return o(e)?(e.on("complete",d),e.on("abort",y),e.req?g():e.on("request",g)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",b),e.on("close",y),function(){e.removeListener("complete",d),e.removeListener("abort",y),e.removeListener("request",g),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("end",p),e.removeListener("error",b),e.removeListener("close",y)}}e.exports=s},727:function(e,t,r){"use strict";function i(e,t,r,i,n,a,o){try{var s=e[a](o),f=s.value}catch(e){r(e);return}s.done?t(f):Promise.resolve(f).then(i,n)}function n(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,f,"next",e)}function f(e){i(o,n,a,s,f,"throw",e)}s(void 0)})}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new f("iterable",["Iterable"],t);var i,a=new e(o({objectMode:!0},r)),s=!1;function c(){return u.apply(this,arguments)}function u(){return(u=n(function*(){try{var e=yield i.next(),t=e.value;e.done?a.push(null):a.push((yield t))?c():s=!1}catch(e){a.destroy(e)}})).apply(this,arguments)}return a._read=function(){s||(s=!0,c())},a}},442:function(e,t,r){"use strict";function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var n,a=r(646).q,o=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function f(e){if(e)throw e}function c(e){return e.setHeader&&"function"==typeof e.abort}function u(e,t,a,o){o=i(o);var f=!1;e.on("close",function(){f=!0}),void 0===n&&(n=r(698)),n(e,{readable:t,writable:a},function(e){if(e)return o(e);f=!0,o()});var u=!1;return function(t){if(!f&&!u){if(u=!0,c(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new s("pipe"))}}}function h(e){e()}function d(e,t){return e.pipe(t)}function l(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():f}e.exports=function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=l(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var a=r.map(function(t,i){var o=i<r.length-1;return u(t,o,i>0,function(t){e||(e=t),t&&a.forEach(h),o||(a.forEach(h),n(e))})});return r.reduce(d)}},776:function(e,t,r){"use strict";var i=r(646).q.ERR_INVALID_OPT_VALUE;function n(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}e.exports={getHighWaterMark:function(e,t,r,a){var o=n(t,a,r);if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new i(a?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},726:function(e,t,r){var n=r(781);"disable"===i.default.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(709)).Stream=n||t,t.Readable=t,t.Writable=r(337),t.Duplex=r(403),t.Transform=r(170),t.PassThrough=r(889),t.finished=r(698),t.pipeline=r(442))},55:function(e,t,r){var i=r(300),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),o.prototype=Object.create(n.prototype),a(n,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},813:function(t,r,i){var n=i(450),a=i(254),o=i(911),s=i(523),f=i(310),c=r;c.request=function(t,r){t="string"==typeof t?f.parse(t):o(t);var i=-1===e.g.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||i,s=t.hostname||t.host,c=t.port,u=t.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),t.url=(s?a+"//"+s:"")+(c?":"+c:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return r&&h.on("response",r),h},c.get=function(e,t){var r=c.request(e,t);return r.end(),r},c.ClientRequest=n,c.IncomingMessage=a.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},301:function(t,r){var i;function n(){if(void 0!==i)return i;if(e.g.XMLHttpRequest){i=new e.g.XMLHttpRequest;try{i.open("GET",e.g.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function a(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}r.fetch=o(e.g.fetch)&&o(e.g.ReadableStream),r.writableStream=o(e.g.WritableStream),r.abortController=o(e.g.AbortController),r.arraybuffer=r.fetch||a("arraybuffer"),r.msstream=!r.fetch&&a("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&a("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!n()&&o(n().overrideMimeType),i=null},450:function(t,r,a){var o=a(301),s=a(782),f=a(254),c=a(726),u=f.IncomingMessage,h=f.readyStates;function d(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}var l=t.exports=function(e){var t,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+n.Buffer.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!o.overrideMimeType;else if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw Error("Invalid value for opts.mode");else t=!0;r._mode=d(t,i),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};function p(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}s(l,c.Writable),l.prototype.setHeader=function(e,t){var r=this,i=e.toLowerCase();-1===b.indexOf(i)&&(r._headers[i]={name:e,value:t})},l.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},l.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},l.prototype._onFinish=function(){var t=this;if(!t._destroyed){var r=t._opts,n=t._headers,a=null;"GET"!==r.method&&"HEAD"!==r.method&&(a=new Blob(t._body,{type:(n["content-type"]||{}).value||""}));var s=[];if(Object.keys(n).forEach(function(e){var t=n[e].name,r=n[e].value;Array.isArray(r)?r.forEach(function(e){s.push([t,e])}):s.push([t,r])}),"fetch"===t._mode){var f=null;if(o.abortController){var c=new AbortController;f=c.signal,t._fetchAbortController=c,"requestTimeout"in r&&0!==r.requestTimeout&&(t._fetchTimer=e.g.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},r.requestTimeout))}e.g.fetch(t._opts.url,{method:t._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:f}).then(function(e){t._fetchResponse=e,t._connect()},function(r){e.g.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",r)})}else{var u=t._xhr=new e.g.XMLHttpRequest;try{u.open(t._opts.method,t._opts.url,!0)}catch(e){i.default.nextTick(function(){t.emit("error",e)});return}"responseType"in u&&(u.responseType=t._mode),"withCredentials"in u&&(u.withCredentials=!!r.withCredentials),"text"===t._mode&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(u.timeout=r.requestTimeout,u.ontimeout=function(){t.emit("requestTimeout")}),s.forEach(function(e){u.setRequestHeader(e[0],e[1])}),t._response=null,u.onreadystatechange=function(){switch(u.readyState){case h.LOADING:case h.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(u.onprogress=function(){t._onXHRProgress()}),u.onerror=function(){t._destroyed||t.emit("error",Error("XHR error"))};try{u.send(a)}catch(e){i.default.nextTick(function(){t.emit("error",e)});return}}}},l.prototype._onXHRProgress=function(){var e=this;p(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},l.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},l.prototype._write=function(e,t,r){var i=this;i._body.push(e),r()},l.prototype.abort=l.prototype.destroy=function(){var t=this;t._destroyed=!0,e.g.clearTimeout(t._fetchTimer),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort()},l.prototype.end=function(e,t,r){var i=this;"function"==typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(i,e,t,r)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var b=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},254:function(t,r,a){var o=a(301),s=a(782),f=a(726),c=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=r.IncomingMessage=function(t,r,a,s){var c=this;if(f.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){i.default.nextTick(function(){c.emit("close")})}),"fetch"===a){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach(function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)}),o.writableStream){var u=new WritableStream({write:function(e){return new Promise(function(t,r){c._destroyed?r():c.push(n.Buffer.from(e))?t():c._resumeFetch=t})},close:function(){e.g.clearTimeout(s),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{r.body.pipeTo(u).catch(function(t){e.g.clearTimeout(s),c._destroyed||c.emit("error",t)});return}catch(e){}}var h=r.body.getReader();function d(){h.read().then(function(t){if(!c._destroyed){if(t.done){e.g.clearTimeout(s),c.push(null);return}c.push(n.Buffer.from(t.value)),d()}}).catch(function(t){e.g.clearTimeout(s),c._destroyed||c.emit("error",t)})}d()}else if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}}),c._charset="x-user-defined",!o.overrideMimeType){var l=c.rawHeaders["mime-type"];if(l){var p=l.match(/;\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset="utf-8")}};s(u,f.Readable),u.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},u.prototype._onXHRProgress=function(){var t=this,r=t._xhr,i=null;switch(t._mode){case"text":if((i=r.responseText).length>t._pos){var a=i.substr(t._pos);if("x-user-defined"===t._charset){for(var o=n.Buffer.alloc(a.length),s=0;s<a.length;s++)o[s]=255&a.charCodeAt(s);t.push(o)}else t.push(a,t._charset);t._pos=i.length}break;case"arraybuffer":if(r.readyState!==c.DONE||!r.response)break;i=r.response,t.push(n.Buffer.from(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=r.response,r.readyState!==c.LOADING||!i)break;t.push(n.Buffer.from(new Uint8Array(i)));break;case"ms-stream":if(i=r.response,r.readyState!==c.LOADING)break;var f=new e.g.MSStreamReader;f.onprogress=function(){f.result.byteLength>t._pos&&(t.push(n.Buffer.from(new Uint8Array(f.result.slice(t._pos)))),t._pos=f.result.byteLength)},f.onload=function(){t.push(null)},f.readAsArrayBuffer(i)}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&t.push(null)}},704:function(e,t,r){"use strict";var i=r(55).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=a(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=p,this.end=b,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=y,this.end=g,t=3;break;default:this.write=m,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function f(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e,t,r){var i=t.length-1;if(i<r)return 0;var n=f(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=f(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}function u(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}function h(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function d(e,t){var r=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function p(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function b(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function w(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=l,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(t){function r(t){try{if(!e.g.localStorage)return!1}catch(e){return!1}var r=e.g.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function e(e,t){if(r("noDeprecation"))return e;var i=!1;return function(){if(!i){if(r("throwDeprecation"))throw Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}},911:function(e){e.exports=r;var t=Object.prototype.hasOwnProperty;function r(){for(var e={},r=0;r<arguments.length;r++){var i=arguments[r];for(var n in i)t.call(i,n)&&(e[n]=i[n])}return e}},300:function(t){"use strict";t.exports=e.r(43943)},361:function(t){"use strict";t.exports=e.r(30662)},781:function(t){"use strict";t.exports=e.r(12569)},310:function(t){"use strict";t.exports=e.r(21342)},837:function(t){"use strict";t.exports=e.r(77398)}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}},n=!0;try{r[e](i,i.exports,o),n=!1}finally{n&&delete a[e]}return i.exports}o.ab="/ROOT/node_modules/next/dist/compiled/stream-http/",t.exports=o(813)}()},92542,(e,t,r)=>{!function(){var r={528:function(e,t,r){var i=r(685),n=r(310),a=e.exports;for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);function s(e){if("string"==typeof e&&(e=n.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}a.request=function(e,t){return e=s(e),i.request.call(this,e,t)},a.get=function(e,t){return e=s(e),i.get.call(this,e,t)}},685:function(t){"use strict";t.exports=e.r(22184)},310:function(t){"use strict";t.exports=e.r(21342)}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}},o=!0;try{r[e](a,a.exports,n),o=!1}finally{o&&delete i[e]}return a.exports}n.ab="/ROOT/node_modules/next/dist/compiled/https-browserify/",t.exports=n(528)}()},51185,77654,74284,23311,1362,12477,56734,46112,89175,39081,26407,21227,19464,57374,98242,44287,78097,83612,77681,94610,16826,80213,27594,57157,19873,37823,4153,67056,47196,74568,9037,26312,75105,2115,9307,53364,49490,54717,14918,49677,76285,43151,64609,30902,78605,39923,11102,55135,53228,32553,57641,26896,49007,92074,11990,79707,47466,91275,22347,13068,78367,38877,84188,40291,2152,63951,15262,20893,57483,35244,82439,51452,87402,68973,84771,19942,45046,78647,88489,94735,67827,62047,8882,51130,31191,75496,85611,44039,11116,79105,29381,52879,43006,34421,e=>{"use strict";let t;e.s([],2430);class r{static zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];static groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];static groupBases=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];static wordSize=26;static WORD_SIZE_BIGINT=BigInt(r.wordSize);static WORD_MASK=(1n<<r.WORD_SIZE_BIGINT)-1n;static MAX_SAFE_INTEGER_BIGINT=BigInt(Number.MAX_SAFE_INTEGER);static MIN_SAFE_INTEGER_BIGINT=BigInt(Number.MIN_SAFE_INTEGER);static MAX_IMULN_ARG=0x3ffffff;static MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT=(1n<<53n)-1n;_magnitude;_sign;_nominalWordLength;red;get negative(){return this._sign}set negative(e){this.assert(0===e||1===e,"Negative property must be 0 or 1");let t=+(1===e);0n===this._magnitude?this._sign=0:this._sign=t}get _computedWordsArray(){if(0n===this._magnitude)return[0];let e=[],t=this._magnitude;for(;t>0n;)e.push(Number(t&r.WORD_MASK)),t>>=r.WORD_SIZE_BIGINT;return e.length>0?e:[0]}get words(){let e=this._computedWordsArray;if(this._nominalWordLength<=e.length)return e;let t=Array(this._nominalWordLength).fill(0);for(let r=0;r<e.length;r++)t[r]=e[r];return t}set words(e){let t=this._sign,i=0n,n=e.length>0?e.length:1;for(let t=n-1;t>=0;t--){let n=void 0===e[t]?0:e[t];i=i<<r.WORD_SIZE_BIGINT|BigInt(n&Number(r.WORD_MASK))}this._magnitude=i,this._sign=t,this._nominalWordLength=n,this.normSign()}get length(){return Math.max(1,this._nominalWordLength)}static isBN(e){return e instanceof r||null!==e&&"object"==typeof e&&e.constructor?.wordSize===r.wordSize&&Array.isArray(e.words)}static max(e,t){return e.cmp(t)>0?e:t}static min(e,t){return 0>e.cmp(t)?e:t}constructor(e=0,t=10,r="be"){if(this._magnitude=0n,this._sign=0,this._nominalWordLength=1,this.red=null,void 0===e&&(e=0),null===e)return void this._initializeState(0n,0);if("bigint"==typeof e){this._initializeState(e<0n?-e:e,+(e<0n)),this.normSign();return}let i=t,n=r;if(("le"===t||"be"===t)&&(n=t,i=10),"number"==typeof e)return void this.initNumber(e,n);if(Array.isArray(e))return void this.initArray(e,n);if("string"==typeof e){"hex"===i&&(i=16),this.assert("number"==typeof i&&i===(0|i)&&i>=2&&i<=36,"Base must be an integer between 2 and 36");const t=e.toString().replace(/\s+/g,"");let r=0,a=0;t.startsWith("-")?(r++,a=1):t.startsWith("+")&&r++;const o=t.substring(r);if(0===o.length){this._initializeState(0n,1===a&&t.startsWith("-")?1:0),this.normSign();return}if(16===i){let e;if("le"===n){const e=[];let t=o;t.length%2!=0&&(t="0"+t);for(let r=0;r<t.length;r+=2){const i=parseInt(t.substring(r,r+2),16);if(isNaN(i))throw Error("Invalid character in "+t);e.push(i)}this.initArray(e,"le"),this._sign=a,this.normSign();return}try{e=BigInt("0x"+o)}catch(e){throw Error("Invalid character in "+o)}this._initializeState(e,a),this.normSign()}else try{if(this._parseBaseString(o,i),this._sign=a,this.normSign(),"le"===n){const e=this._sign;this.initArray(this.toArray("be"),"le"),this._sign=e,this.normSign()}}catch(t){const e=t;if(e.message.includes("Invalid character in string")||e.message.includes("Invalid digit for base")||e.message.startsWith("Invalid character:"))throw Error("Invalid character");throw e}}else 0!==e?this.assert(!1,"Unsupported input type for BigNumber constructor"):this._initializeState(0n,0)}_bigIntToStringInBase(e,t){if(0n===e)return"0";if(t<2||t>36)throw Error("Base must be between 2 and 36");let r="0123456789abcdefghijklmnopqrstuvwxyz",i="",n=e>0n?e:-e,a=BigInt(t);for(;n>0n;)i=r[Number(n%a)]+i,n/=a;return i}_parseBaseString(e,t){if(0===e.length){this._magnitude=0n,this._finishInitialization();return}this._magnitude=0n;let i=BigInt(t),n=r.groupSizes[t],a=BigInt(r.groupBases[t]);(0===n||0n===a)&&(0===(n=Math.floor(Math.log(0x3ffffff)/Math.log(t)))&&(n=1),a=i**BigInt(n));let o=0,s=e.length,f=s%n;if(0===f&&s>0&&(f=n),f>0){let r=e.substring(o,o+f);this._magnitude=BigInt(this._parseBaseWord(r,t)),o+=f}for(;o<s;){let r=e.substring(o,o+n),i=BigInt(this._parseBaseWord(r,t));this._magnitude=this._magnitude*a+i,o+=n}this._finishInitialization()}_parseBaseWord(e,t){let r=0;for(let i=0;i<e.length;i++){let n,a=e.charCodeAt(i);if(a>=48&&a<=57)n=a-48;else if(a>=65&&a<=90)n=a-65+10;else if(a>=97&&a<=122)n=a-97+10;else throw Error("Invalid character: "+e[i]);if(n>=t)throw Error("Invalid character");r=r*t+n}return r}_initializeState(e,t){this._magnitude=e,this._sign=0n===e?0:t,this._finishInitialization()}_finishInitialization(){if(0n===this._magnitude)this._nominalWordLength=1,this._sign=0;else{let e=this._magnitude.toString(2).length;this._nominalWordLength=Math.max(1,Math.ceil(e/r.wordSize))}}assert(e,t="Assertion failed"){if(!e)throw Error(t)}initNumber(e,t="be"){if(this.assert(BigInt(Math.abs(e))<=r.MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT,"The number is larger than 2 ^ 53 (unsafe)"),this.assert(e%1==0,"Number must be an integer for BigNumber conversion"),this._initializeState(BigInt(Math.abs(e)),+(e<0)),"le"===t){let e=this._sign,t=this.toArray("be");this.initArray(t,"le"),this._sign=e,this.normSign()}return this}initArray(e,t){if(0===e.length)return this._initializeState(0n,0),this;let r=0n;if("be"===t)for(let t=0;t<e.length;t++)r=r<<8n|BigInt(255&e[t]);else for(let t=e.length-1;t>=0;t--)r=r<<8n|BigInt(255&e[t]);return this._initializeState(r,0),this}copy(e){e._magnitude=this._magnitude,e._sign=this._sign,e._nominalWordLength=this._nominalWordLength,e.red=this.red}static move(e,t){e._magnitude=t._magnitude,e._sign=t._sign,e._nominalWordLength=t._nominalWordLength,e.red=t.red}clone(){let e=new r(0n);return this.copy(e),e}expand(e){return this.assert(e>=0,"Expand size must be non-negative"),this._nominalWordLength=Math.max(this._nominalWordLength,e,1),this}strip(){return this._finishInitialization(),this.normSign()}normSign(){return 0n===this._magnitude&&(this._sign=0),this}inspect(){return(null!==this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}_getMinimalHex(){return 0n===this._magnitude?"0":this._magnitude.toString(16)}toString(e=10,t=1){if(16===e||"hex"===e){let e=this._getMinimalHex();if(t>1)for("0"!==e&&e.length%2!=0&&(e="0"+e);e.length%t!=0;)e="0"+e;return(this.isNeg()?"-":"")+e}if("number"!=typeof e||e<2||e>36||e%1!=0)throw Error("Base should be an integer between 2 and 36");return this.toBaseString(e,t)}toBaseString(e,t){if(0n===this._magnitude){let e="0";if(t>1)for(;e.length<t;)e="0"+e;return e}let i=r.groupSizes[e],n=BigInt(r.groupBases[e]);(0===i||0n===n)&&(0===(i=Math.floor(Math.log(Number.MAX_SAFE_INTEGER)/Math.log(e)))&&(i=1),n=BigInt(e)**BigInt(i));let a="",o=this._magnitude;for(;o>0n;){let t=o%n;o/=n;let s=this._bigIntToStringInBase(t,e);if(o>0n){let e=i-s.length;a=e>0&&e<r.zeros.length?r.zeros[e]+s+a:e>0?"0".repeat(e)+s+a:s+a}else a=s+a}if(t>0)for(;a.length<t;)a="0"+a;return(1===this._sign?"-":"")+a}toNumber(){let e=this._getSignedValue();if(e>r.MAX_SAFE_INTEGER_BIGINT||e<r.MIN_SAFE_INTEGER_BIGINT)throw Error("Number can only safely store up to 53 bits");return Number(e)}toJSON(){let e=this._getMinimalHex();return(this.isNeg()?"-":"")+e}toArrayLikeGeneric(e,t){let r=this._magnitude,i=t?0:e.length-1,n=t?1:-1;for(let t=0;t<e.length;++t){if(0n===r&&i>=0&&i<e.length)e[i]=0;else if(i>=0&&i<e.length)e[i]=Number(255n&r);else break;r>>=8n,i+=n}}toArray(e="be",t){this.strip();let r=this.byteLength(),i=t??Math.max(1,r);this.assert(r<=i,"byte array longer than desired length"),this.assert(i>0,"Requested array length <= 0");let n=Array(i).fill(0);return 0n===this._magnitude&&i>0?n:0n===this._magnitude&&0===i?[]:(this.toArrayLikeGeneric(n,"le"===e),n)}bitLength(){return 0n===this._magnitude?0:this._magnitude.toString(2).length}static toBitArray(e){let t=e.bitLength();if(0===t)return[];let r=Array(t),i=e._magnitude;for(let e=0;e<t;e++)r[e]=+((i>>BigInt(e)&1n)!==0n);return r}toBitArray(){return r.toBitArray(this)}zeroBits(){if(0n===this._magnitude)return 0;let e=0,t=this._magnitude;for(;(1n&t)===0n&&0n!==t;)e++,t>>=1n;return e}byteLength(){return 0n===this._magnitude?0:Math.ceil(this.bitLength()/8)}_getSignedValue(){return 1===this._sign?-this._magnitude:this._magnitude}_setValueFromSigned(e){e<0n?(this._magnitude=-e,this._sign=1):(this._magnitude=e,this._sign=0),this._finishInitialization(),this.normSign()}toTwos(e){this.assert(e>=0);let t=BigInt(e),i=this._getSignedValue();1===this._sign&&0n!==this._magnitude&&(i=(1n<<t)+i),i&=(1n<<t)-1n;let n=new r(0n);return n._initializeState(i,0),n}fromTwos(e){this.assert(e>=0);let t=BigInt(e),i=this._magnitude;if(e>0&&(i>>t-1n&1n)!==0n&&0===this._sign){let e=i-(1n<<t),n=new r(0n);return n._setValueFromSigned(e),n}return this.clone()}isNeg(){return 1===this._sign&&0n!==this._magnitude}neg(){return this.clone().ineg()}ineg(){return 0n!==this._magnitude&&(this._sign=+(1!==this._sign)),this}_iuop(e,t){let r=t(this._magnitude,e._magnitude),i=t===((e,t)=>e^t),n=this._nominalWordLength;return i&&(n=Math.max(this.length,e.length)),this._magnitude=r,this._finishInitialization(),i&&(this._nominalWordLength=Math.max(this._nominalWordLength,n)),this.strip()}iuor(e){return this._iuop(e,(e,t)=>e|t)}iuand(e){return this._iuop(e,(e,t)=>e&t)}iuxor(e){return this._iuop(e,(e,t)=>e^t)}_iop(e,t){return this.assert(0===this._sign&&0===e._sign),this._iuop(e,t)}ior(e){return this._iop(e,(e,t)=>e|t)}iand(e){return this._iop(e,(e,t)=>e&t)}ixor(e){return this._iop(e,(e,t)=>e^t)}_uop_new(e,t){return this.length>=e.length?this.clone()[t](e):e.clone()[t](this)}or(e){return this.assert(0===this._sign&&0===e._sign),this._uop_new(e,"iuor")}uor(e){return this._uop_new(e,"iuor")}and(e){return this.assert(0===this._sign&&0===e._sign),this._uop_new(e,"iuand")}uand(e){return this._uop_new(e,"iuand")}xor(e){return this.assert(0===this._sign&&0===e._sign),this._uop_new(e,"iuxor")}uxor(e){return this._uop_new(e,"iuxor")}inotn(e){this.assert("number"==typeof e&&e>=0);let t=(1n<<BigInt(e))-1n;this._magnitude=~this._magnitude&t;let i=0===e?1:Math.ceil(e/r.wordSize);return this._nominalWordLength=Math.max(1,i),this.strip(),this._nominalWordLength=Math.max(this._nominalWordLength,Math.max(1,i)),this}notn(e){return this.clone().inotn(e)}setn(e,t){this.assert("number"==typeof e&&e>=0);let i=BigInt(e);1===t||!0===t?this._magnitude|=1n<<i:this._magnitude&=~(1n<<i);let n=Math.floor(e/r.wordSize)+1;return this._nominalWordLength=Math.max(this._nominalWordLength,n),this._finishInitialization(),this.strip()}iadd(e){return this._setValueFromSigned(this._getSignedValue()+e._getSignedValue()),this}add(e){let t=new r(0n);return t._setValueFromSigned(this._getSignedValue()+e._getSignedValue()),t}isub(e){return this._setValueFromSigned(this._getSignedValue()-e._getSignedValue()),this}sub(e){let t=new r(0n);return t._setValueFromSigned(this._getSignedValue()-e._getSignedValue()),t}mul(e){let t=new r(0n);return t._magnitude=this._magnitude*e._magnitude,t._sign=0n===t._magnitude?0:this._sign^e._sign,t._nominalWordLength=this.length+e.length,t.red=null,t.normSign()}imul(e){return this._magnitude*=e._magnitude,this._sign=0n===this._magnitude?0:this._sign^e._sign,this._nominalWordLength=this.length+e.length,this.red=null,this.normSign()}imuln(e){return this.assert("number"==typeof e,"Assertion failed"),this.assert(Math.abs(e)<=r.MAX_IMULN_ARG,"Assertion failed"),this._setValueFromSigned(this._getSignedValue()*BigInt(e)),this}muln(e){return this.clone().imuln(e)}sqr(){let e=new r(0n);return e._magnitude=this._magnitude*this._magnitude,e._sign=0,e._nominalWordLength=2*this.length,e.red=null,e}isqr(){return this._magnitude*=this._magnitude,this._sign=0,this._nominalWordLength=2*this.length,this.red=null,this}pow(e){if(this.assert(0===e._sign,"Exponent for pow must be non-negative"),e.isZero())return new r(1n);let t=new r(1n),i=this.clone(),n=e.clone(),a=i.isNeg(),o=n.isOdd();for(a&&i.ineg();!n.isZero();)n.isOdd()&&t.imul(i),i.isqr(),n.iushrn(1);return a&&o&&t.ineg(),t}iushln(e){return(this.assert("number"==typeof e&&e>=0),0===e)?this:(this._magnitude<<=BigInt(e),this._finishInitialization(),this.strip())}ishln(e){return this.assert(0===this._sign,"ishln requires positive number"),this.iushln(e)}iushrn(e,t,r){if(this.assert("number"==typeof e&&e>=0),0===e)return null!=r&&r._initializeState(0n,0),this;if(null!=r){let t=(1n<<BigInt(e))-1n,i=this._magnitude&t;r._initializeState(i,0)}return this._magnitude>>=BigInt(e),this._finishInitialization(),this.strip()}ishrn(e,t,r){return this.assert(0===this._sign,"ishrn requires positive number"),this.iushrn(e,t,r)}shln(e){return this.clone().ishln(e)}ushln(e){return this.clone().iushln(e)}shrn(e){return this.clone().ishrn(e)}ushrn(e){return this.clone().iushrn(e)}testn(e){return this.assert("number"==typeof e&&e>=0),(this._magnitude>>BigInt(e)&1n)!==0n}imaskn(e){this.assert("number"==typeof e&&e>=0),this.assert(0===this._sign,"imaskn works only with positive numbers");let t=BigInt(e),i=0n===t?0n:(1n<<t)-1n;this._magnitude&=i;let n=0===e?1:Math.max(1,Math.ceil(e/r.wordSize));return this._nominalWordLength=n,this._finishInitialization(),this._nominalWordLength=Math.max(this._nominalWordLength,n),this.strip()}maskn(e){return this.clone().imaskn(e)}iaddn(e){return this.assert("number"==typeof e),this.assert(Math.abs(e)<=r.MAX_IMULN_ARG,"num is too large"),this._setValueFromSigned(this._getSignedValue()+BigInt(e)),this}_iaddn(e){return this.iaddn(e)}isubn(e){return this.assert("number"==typeof e),this.assert(Math.abs(e)<=r.MAX_IMULN_ARG,"Assertion failed"),this._setValueFromSigned(this._getSignedValue()-BigInt(e)),this}addn(e){return this.clone().iaddn(e)}subn(e){return this.clone().isubn(e)}iabs(){return this._sign=0,this}abs(){return this.clone().iabs()}divmod(e,t,i){if(this.assert(!e.isZero(),"Division by zero"),this.isZero()){let e=new r(0n);return{div:"mod"!==t?e:null,mod:"div"!==t?e:null}}let n=this._getSignedValue(),a=e._getSignedValue(),o=null,s=null;"mod"!==t&&(o=n/a),"div"!==t&&(s=n%a,!0===i&&s<0n&&(s+=a<0n?-a:a));let f=null!==o?new r(0n):null;null!==f&&null!==o&&f._setValueFromSigned(o);let c=null!==s?new r(0n):null;return null!==c&&null!==s&&c._setValueFromSigned(s),{div:f,mod:c}}div(e){return this.divmod(e,"div",!1).div}mod(e){return this.divmod(e,"mod",!1).mod}umod(e){return this.divmod(e,"mod",!0).mod}divRound(e){this.assert(!e.isZero());let t=this._getSignedValue(),i=e._getSignedValue(),n=t/i,a=t%i;if(0n===a){let e=new r(0n);return e._setValueFromSigned(n),e}2n*(a<0n?-a:a)>=(i<0n?-i:i)&&(t>0n&&i>0n||t<0n&&i<0n?n+=1n:n-=1n);let o=new r(0n);return o._setValueFromSigned(n),o}modrn(e){this.assert(0!==e,"Division by zero in modrn");let t=BigInt(Math.abs(e));if(0n===t)throw Error("Division by zero in modrn");let r=this._magnitude%t;return e<0?Number(-r):Number(r)}idivn(e){return this.assert(0!==e),this.assert(Math.abs(e)<=r.MAX_IMULN_ARG,"num is too large"),this._setValueFromSigned(this._getSignedValue()/BigInt(e)),this}divn(e){return this.clone().idivn(e)}egcd(e){this.assert(0===e._sign,"p must not be negative"),this.assert(!e.isZero(),"p must not be zero");let t=this._getSignedValue(),i=e._magnitude,n=1n,a=0n,o=0n,s=1n;for(;0n!==i;){let e=t/i,r=i;i=t%i,t=r,r=a,a=n-e*a,n=r,r=s,s=o-e*s,o=r}let f=new r(0n);f._setValueFromSigned(n);let c=new r(0n);c._setValueFromSigned(o);let u=new r(0n);return u._initializeState(t<0n?-t:t,0),{a:f,b:c,gcd:u}}gcd(e){let t=this._magnitude,i=e._magnitude;if(0n===t){let e=new r(0n);return e._setValueFromSigned(i),e.iabs()}if(0n===i){let e=new r(0n);return e._setValueFromSigned(t),e.iabs()}for(;0n!==i;){let e=t%i;t=i,i=e}let n=new r(0n);return n._initializeState(t,0),n}invm(e){this.assert(!e.isZero()&&0===e._sign,"Modulus for invm must be positive and non-zero");let t=this.egcd(e);if(!t.gcd.eqn(1))throw Error("Inverse does not exist (numbers are not coprime).");return t.a.umod(e)}isEven(){return this._magnitude%2n===0n}isOdd(){return this._magnitude%2n===1n}andln(e){return this.assert(e>=0),Number(this._magnitude&BigInt(e))}bincn(e){this.assert("number"==typeof e&&e>=0);let t=1n<<BigInt(e);return this._setValueFromSigned(this._getSignedValue()+t),this}isZero(){return 0n===this._magnitude}cmpn(e){this.assert(Math.abs(e)<=r.MAX_IMULN_ARG,"Number is too big");let t=this._getSignedValue(),i=BigInt(e);return t<i?-1:+(t>i)}cmp(e){let t=this._getSignedValue(),r=e._getSignedValue();return t<r?-1:+(t>r)}ucmp(e){return this._magnitude<e._magnitude?-1:+(this._magnitude>e._magnitude)}gtn(e){return 1===this.cmpn(e)}gt(e){return 1===this.cmp(e)}gten(e){return this.cmpn(e)>=0}gte(e){return this.cmp(e)>=0}ltn(e){return -1===this.cmpn(e)}lt(e){return -1===this.cmp(e)}lten(e){return 0>=this.cmpn(e)}lte(e){return 0>=this.cmp(e)}eqn(e){return 0===this.cmpn(e)}eq(e){return 0===this.cmp(e)}toRed(e){return this.assert(null==this.red,"Already a number in reduction context"),this.assert(0===this._sign,"toRed works only with positives"),e.convertTo(this).forceRed(e)}fromRed(){return this.assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)}forceRed(e){return this.red=e,this}redAdd(e){return this.assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)}redIAdd(e){return this.assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)}redSub(e){return this.assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)}redISub(e){return this.assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)}redShl(e){return this.assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)}redMul(e){return this.assert(this.red,"redMul works only with red numbers"),this.red.verify2(this,e),this.red.mul(this,e)}redIMul(e){return this.assert(this.red,"redIMul works only with red numbers"),this.red.verify2(this,e),this.red.imul(this,e)}redSqr(){return this.assert(this.red,"redSqr works only with red numbers"),this.red.verify1(this),this.red.sqr(this)}redISqr(){return this.assert(this.red,"redISqr works only with red numbers"),this.red.verify1(this),this.red.isqr(this)}redSqrt(){return this.assert(this.red,"redSqrt works only with red numbers"),this.red.verify1(this),this.red.sqrt(this)}redInvm(){return this.assert(this.red,"redInvm works only with red numbers"),this.red.verify1(this),this.red.invm(this)}redNeg(){return this.assert(this.red,"redNeg works only with red numbers"),this.red.verify1(this),this.red.neg(this)}redPow(e){return this.assert(null!=this.red&&null==e.red,"redPow(normalNum)"),this.red.verify1(this),this.red.pow(this,e)}static fromHex(e,t){let i="be";return("little"===t||"le"===t)&&(i="le"),new r(e,16,i)}toHex(e=0){if(this.isZero()&&0===e)return"";let t=this._getMinimalHex();"0"!==t&&t.length%2!=0&&(t="0"+t);let r=2*e;for(;t.length<r;)t="0"+t;return(this.isNeg()?"-":"")+t}static fromJSON(e){return new r(e,16)}static fromNumber(e){return new r(e)}static fromString(e,t){return new r(e,t)}static fromSm(e,t="big"){if(0===e.length)return new r(0n);let i=0,n="";if("little"===t){let t=e.length-1,r=e[t];(128&r)!=0&&(i=1,r&=127),n+=(r<16?"0":"")+r.toString(16);for(let r=t-1;r>=0;r--){let t=e[r];n+=(t<16?"0":"")+t.toString(16)}}else{let t=e[0];(128&t)!=0&&(i=1,t&=127),n+=(t<16?"0":"")+t.toString(16);for(let t=1;t<e.length;t++){let r=e[t];n+=(r<16?"0":"")+r.toString(16)}}let a=""===n?0n:BigInt("0x"+n),o=new r(0n);return o._initializeState(a,i),o}toSm(e="big"){if(0n===this._magnitude)return 1===this._sign?[128]:[];let t=this._getMinimalHex();t.length%2!=0&&(t="0"+t);let r=Array(t.length/2);for(let e=0,i=0;e<t.length;e+=2)r[i++]=parseInt(t.slice(e,e+2),16);return 1===this._sign?(128&r[0])!=0?r.unshift(128):r[0]|=128:(128&r[0])!=0&&r.unshift(0),"little"===e?r.reverse():r}static fromBits(e,t=!1){let i=e>>>24,n=8388607&e,a=(8388608&e)!=0;if(t&&a)throw Error("negative bit set");if(0===i&&0===n){if(a&&t)throw Error("negative bit set for zero value");return new r(0n)}let o=new r(n);return i<=3?o.iushrn((3-i)*8):o.iushln((i-3)*8),a&&o.ineg(),o}toBits(){let e;if(this.strip(),this.isZero()&&!this.isNeg())return 0;let t=this.isNeg(),r=this.abs(),i=r.toArray("be"),n=0;for(;n<i.length-1&&0===i[n];)n++;let a=(i=i.slice(n)).length;if(0!==a||r.isZero()||(i=[0],a=1),r.isZero()&&(a=0,i=[]),0===a)e=0;else if(a<=3){e=0;for(let t=0;t<a;t++)e=e<<8|i[t]}else e=i[0]<<16|i[1]<<8|i[2];(8388608&e)!=0&&a<=255&&(e>>>=8,a++);let o=a<<24|e;return t&&(o|=8388608),o>>>0}static fromScriptNum(e,t=!1,i){if(void 0!==i&&e.length>i)throw Error("script number overflow");if(0===e.length)return new r(0n);if(t&&(127&e[e.length-1])==0&&(e.length<=1||(128&e[e.length-2])==0))throw Error("non-minimally encoded script number");return r.fromSm(e,"little")}toScriptNum(){return this.toSm("little")}_invmp(e){let t;this.assert(0===e._sign,"p must not be negative for _invmp"),this.assert(!e.isZero(),"p must not be zero for _invmp");let i=this.umod(e)._magnitude,n=e._magnitude,a=1n,o=0n,s=e._magnitude;for(;i>1n&&n>1n;){let e=0;for(;(i>>BigInt(e)&1n)===0n;)e++;if(e>0){i>>=BigInt(e);for(let t=0;t<e;++t)(1n&a)!==0n&&(a+=s),a>>=1n}let t=0;for(;(n>>BigInt(t)&1n)===0n;)t++;if(t>0){n>>=BigInt(t);for(let e=0;e<t;++e)(1n&o)!==0n&&(o+=s),o>>=1n}i>=n?(i-=n,a-=o):(n-=i,o-=a)}if(1n===i)t=a;else if(1n===n)t=o;else if(0n===i&&1n===n)t=o;else if(0n===n&&1n===i)t=a;else throw Error("_invmp: GCD is not 1, inverse does not exist. aVal="+i+", bVal="+n);(t%=s)<0n&&(t+=s);let f=new r(0n);return f._initializeState(t,0),f}mulTo(e,t){return t._magnitude=this._magnitude*e._magnitude,t._sign=0n===t._magnitude?0:this._sign^e._sign,t._nominalWordLength=this.length+e.length,t.red=null,t.normSign(),t}}class i{name;p;k;n;tmp;constructor(e,t){this.name=e,this.p=new r(t,16),this.n=this.p.bitLength(),this.k=new r(BigInt(1)).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_tmp(){let e=new r(BigInt(0)),t=Math.ceil(this.n/r.wordSize);return e.expand(Math.max(1,t)),e}ireduce(e){let t,r=e;do this.split(r,this.tmp),this.imulK(r),r.iadd(this.tmp),t=r.bitLength();while(t>this.n)let i=t<this.n?-1:r.ucmp(this.p);return 0===i?r.words=[0]:i>0&&r.isub(this.p),r.strip(),r}split(e,t){e.iushrn(this.n,0,t)}imulK(e){return e.imul(this.k)}}class n extends i{constructor(){super("k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}split(e,t){let r=4194303,i=e.words,n=e.length,a=Math.min(n,9),o=Array(a+ +(n>9)).fill(0);for(let e=0;e<a;e++)o[e]=i[e];let s=a;if(n<=9){let r=Array(s);for(let e=0;e<s;++e)r[e]=o[e];t.words=r,e.words=[0];return}let f=i[9];o[s++]=f&r;let c=Array(s);for(let e=0;e<s;++e)c[e]=o[e];t.words=c;let u=Array(Math.max(1,n-9)).fill(0),h=0;for(let e=10;e<n;e++){let t=0|i[e];h<u.length&&(u[h++]=(t&r)<<4|f>>>22),f=t}f>>>=22,h<u.length?u[h++]=f:0!==f&&u.length;let d=Array(h);for(let e=0;e<h;++e)d[e]=u[e];e.words=d}imulK(e){let t=e.words,r=e.length,i=r+2,n=Array(i).fill(0);for(let e=0;e<r;e++)n[e]=t[e];let a=0;for(let e=0;e<i;e++){let t=0|n[e];a+=977*t,n[e]=0x3ffffff&a,a=64*t+(a/0x4000000|0)}return e.words=n,e}}class a{prime;m;constructor(e){if("k256"===e){const e=new n;this.m=e.p,this.prime=e}else this.assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}assert(e,t="Assertion failed"){if(!e)throw Error(t)}verify1(e){this.assert(0===e.negative,"red works only with positives"),this.assert(e.red,"red works only with red numbers")}verify2(e,t){this.assert((e.negative|t.negative)==0,"red works only with positives"),this.assert(null!=e.red&&e.red===t.red,"red works only with red numbers")}imod(e){return null!=this.prime?this.prime.ireduce(e).forceRed(this):(r.move(e,e.umod(this.m).forceRed(this)),e)}neg(e){return e.isZero()?e.clone():this.m.sub(e).forceRed(this)}add(e,t){this.verify2(e,t);let r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r.forceRed(this)}iadd(e,t){this.verify2(e,t);let r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r}sub(e,t){this.verify2(e,t);let r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r.forceRed(this)}isub(e,t){this.verify2(e,t);let r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r}shl(e,t){return this.verify1(e),this.imod(e.ushln(t))}imul(e,t){return this.verify2(e,t),this.imod(e.imul(t))}mul(e,t){return this.verify2(e,t),this.imod(e.mul(t))}isqr(e){return this.imul(e,e.clone())}sqr(e){return this.mul(e,e)}sqrt(e){if(e.isZero())return e.clone();let t=this.m.andln(3);if(this.assert(t%2==1),3===t){let t=this.m.add(new r(1)).iushrn(2);return this.pow(e,t)}let i=this.m.subn(1),n=0;for(;!i.isZero()&&0===i.andln(1);)n++,i.iushrn(1);this.assert(!i.isZero());let a=new r(1).toRed(this),o=a.redNeg(),s=this.m.subn(1).iushrn(1),f=this.m.bitLength(),c=new r(2*f*f).toRed(this);for(;0!==this.pow(c,s).cmp(o);)c.redIAdd(o);let u=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),l=n;for(;0!==d.cmp(a);){let e=d,t=0;for(;0!==e.cmp(a);t++)e=e.redSqr();this.assert(t<l);let i=this.pow(u,new r(1).iushln(l-t-1));h=h.redMul(i),u=i.redSqr(),d=d.redMul(u),l=t}return h}invm(e){let t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)}pow(e,t){if(t.isZero())return new r(1).toRed(this);if(0===t.cmpn(1))return e.clone();let i=4,n=Array(16);n[0]=new r(1).toRed(this),n[1]=e;let a=2;for(;a<n.length;a++)n[a]=this.mul(n[a-1],e);let o=n[0],s=0,f=0,c=t.bitLength()%26;for(0===c&&(c=26),a=t.length-1;a>=0;a--){let e=t.words[a];for(let t=c-1;t>=0;t--){let r=e>>t&1;if(o!==n[0]&&(o=this.sqr(o)),0===r&&0===s){f=0;continue}s<<=1,s|=r,(++f===i||0===a&&0===t)&&(o=this.mul(o,n[s]),f=0,s=0)}c=26}return o}convertTo(e){let t=e.umod(this.m);return t===e?t.clone():t}convertFrom(e){let t=e.clone();return t.red=null,t}}class o extends a{shift;r;r2;rinv;minv;constructor(e){super(e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}convertTo(e){return this.imod(e.ushln(this.shift))}convertFrom(e){let t=this.imod(e.mul(this.rinv));return t.red=null,t}imul(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;let r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):0>n.cmpn(0)&&(a=n.iadd(this.m)),a.forceRed(this)}mul(e,t){if(e.isZero()||t.isZero())return new r(0).forceRed(this);let i=e.mul(t),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=i.isub(n).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):0>a.cmpn(0)&&(o=a.iadd(this.m)),o.forceRed(this)}invm(e){return this.imod(e._invmp(this.m).mul(this.r2)).forceRed(this)}}class s{curve;type;precomputed;constructor(e){this.curve=new eV,this.type=e,this.precomputed=null}}class f extends s{x;y;z;zOne;constructor(e,t,i){super("jacobian"),null===e&&null===t&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(r.isBN(e)||(e=new r(e,16)),this.x=e,r.isBN(t)||(t=new r(t,16)),this.y=t,r.isBN(i)||(i=new r(i,16)),this.z=i),null==this.x.red&&(this.x=this.x.toRed(this.curve.red)),null==this.y.red&&(this.y=this.y.toRed(this.curve.red)),null==this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}toP(){if(this.isInfinity())return new eq(null,null);let e=this.z.redInvm(),t=e.redSqr();return new eq(this.x.redMul(t),this.y.redMul(t).redMul(e))}neg(){return new f(this.x,this.y.redNeg(),this.z)}add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;let t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=i.redSub(n),c=a.redSub(o);if(0===s.cmpn(0))if(0!==c.cmpn(0))return new f(null,null,null);else return this.dbl();let u=s.redSqr(),h=u.redMul(s),d=i.redMul(u),l=c.redSqr().redIAdd(h).redISub(d).redISub(d),p=c.redMul(d.redISub(l)).redISub(a.redMul(h));return new f(l,p,this.z.redMul(e.z).redMul(s))}mixedAdd(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;if(null===e.x||null===e.y)throw Error("Point coordinates cannot be null");let t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(i),s=n.redSub(a);if(0===o.cmpn(0))if(0!==s.cmpn(0))return new f(null,null,null);else return this.dbl();let c=o.redSqr(),u=c.redMul(o),h=r.redMul(c),d=s.redSqr().redIAdd(u).redISub(h).redISub(h),l=s.redMul(h.redISub(d)).redISub(n.redMul(u));return new f(d,l,this.z.redMul(o))}dblp(e){if(0===e||this.isInfinity())return this;if(void 0===e)return this.dbl();let t=this;for(let r=0;r<e;r++)t=t.dbl();return t}dbl(){let e,t,r;if(this.isInfinity())return this;if(this.zOne){let i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);let s=i.redAdd(i).redIAdd(i),f=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=f,t=s.redMul(o.redISub(f)).redISub(c),r=this.y.redAdd(this.y)}else{let i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);let s=i.redAdd(i).redIAdd(i),f=s.redSqr(),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=f.redISub(o).redISub(o),t=s.redMul(o.redISub(e)).redISub(c),r=(r=this.y.redMul(this.z)).redIAdd(r)}return new f(e,t,r)}eq(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;let t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;let i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)}eqXToP(e){let t=this.z.redSqr(),r=e.toRed(this.curve?.red).redMul(t);if(0===this.x.cmp(r))return!0;let i=e.clone();if(null===this.curve||null==this.curve.redN)throw Error("Curve or redN is not initialized.");let n=this.curve.redN.redMul(t);for(;0>i.cmp(this.curve.p)&&(i.iadd(this.curve.n),!(i.cmp(this.curve.p)>=0));)if(r.redIAdd(n),0===this.x.cmp(r))return!0;return!1}inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"}isInfinity(){return 0===this.z.cmpn(0)}}let c=(e,t="Hash assertion failed")=>{if(!e)throw Error(t)};class u{pending;pendingTotal;blockSize;outSize;endian;_delta8;_delta32;padLength;hmacStrength;constructor(e,t,r,i){this.pending=null,this.pendingTotal=0,this.blockSize=e,this.outSize=t,this.hmacStrength=r,this.padLength=i/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}_update(e,t){throw Error("Not implemented")}_digest(){throw Error("Not implemented")}_digestHex(){throw Error("Not implemented")}update(e,t){if(e=d(e,t),null==this.pending?this.pending=e:this.pending=this.pending.concat(e),this.pendingTotal+=e.length,this.pending.length>=this._delta8){let t=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-t,e.length),0===this.pending.length&&(this.pending=null),e=y(e,0,e.length-t,this.endian);for(let t=0;t<e.length;t+=this._delta32)this._update(e,t)}return this}digest(){return this.update(this._pad()),c(null===this.pending),this._digest()}digestHex(){return this.update(this._pad()),c(null===this.pending),this._digestHex()}_pad(){let e,t,r=this.pendingTotal,i=this._delta8,n=i-(r+this.padLength)%i,a=Array(n+this.padLength);for(e=1,a[0]=128;e<n;e++)a[e]=0;if(r<<=3,"big"===this.endian){for(t=8;t<this.padLength;t++)a[e++]=0;a[e++]=0,a[e++]=0,a[e++]=0,a[e++]=0,a[e++]=r>>>24&255,a[e++]=r>>>16&255,a[e++]=r>>>8&255,a[e++]=255&r}else for(t=8,a[e++]=255&r,a[e++]=r>>>8&255,a[e++]=r>>>16&255,a[e++]=r>>>24&255,a[e++]=0,a[e++]=0,a[e++]=0,a[e++]=0;t<this.padLength;t++)a[e++]=0;return a}}function h(e,t){return(64512&e.charCodeAt(t))==55296&&!(t<0)&&!(t+1>=e.length)&&(64512&e.charCodeAt(t+1))==56320}function d(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];let r=[];if("string"==typeof e)if("hex"!==t){let t=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);n<128?r[t++]=n:(n<2048?r[t++]=n>>6|192:(h(e,i)?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++i)),r[t++]=n>>18|240,r[t++]=n>>12&63|128):r[t++]=n>>12|224,r[t++]=n>>6&63|128),r[t++]=63&n|128)}}else{(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(let t=0;t<e.length;t+=2)r.push(parseInt(e[t]+e[t+1],16))}else for(let t=0;t<e.length;t++)r[t]=0|e[t];return r}function l(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function p(e,t){let r="";for(let i=0;i<e.length;i++){let n=e[i];"little"===t&&(n=l(n)),r+=b(n.toString(16))}return r}function b(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}function y(e,t,r,i){let n=r-t;c(n%4==0);let a=Array(n/4);for(let r=0,n=t;r<a.length;r++,n+=4){let t;t="big"===i?e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]:e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n],a[r]=t>>>0}return a}function g(e,t){let r=Array(4*e.length);for(let i=0,n=0;i<e.length;i++,n+=4){let a=e[i];"big"===t?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=255&a):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=255&a)}return r}function m(e,t){return e>>>t|e<<32-t}function w(e,t){return e<<t|e>>>32-t}function v(e,t){return e+t>>>0}function _(e,t,r){return e+t+r>>>0}function x(e,t,r,i){return e+t+r+i>>>0}function S(e,t,r,i,n){return e+t+r+i+n>>>0}function k(e,t,r,i){return 0===e?E(t,r,i):1===e||3===e?A(t,r,i):2===e?I(t,r,i):void 0}function E(e,t,r){return e&t^~e&r}function I(e,t,r){return e&t^e&r^t&r}function A(e,t,r){return e^t^r}function M(e){return m(e,2)^m(e,13)^m(e,22)}function P(e){return m(e,6)^m(e,11)^m(e,25)}function O(e){return m(e,7)^m(e,18)^e>>>3}function N(e){return m(e,17)^m(e,19)^e>>>10}let R=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],T=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],C=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],B=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function D(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function L(e){return e<=15?0:e<=31?0x5a827999:e<=47?0x6ed9eba1:e<=63?0x8f1bbcdc:0xa953fd4e}function F(e){return e<=15?0x50a28be6:e<=31?0x5c4dd124:e<=47?0x6d703ef3:0x7a6d76e9*!!(e<=63)}function U(e,t,r,i){let n=e[t],a=i+e[t+1]>>>0,o=+(a<i)+r+n;e[t]=o>>>0,e[t+1]=a}function j(e,t,r,i){return+(t+i>>>0<t)+e+r>>>0}function q(e,t,r,i){return t+i>>>0}function V(e,t,r,i,n,a,o,s){let f,c=t;return e+r+n+o+(f=0+ +((c=c+i>>>0)<t)+ +((c=c+a>>>0)<a)+ +((c=c+s>>>0)<s))>>>0}function H(e,t,r,i,n,a,o,s){return t+i+a+s>>>0}function K(e,t,r,i,n,a,o,s,f,c){let u,h=t;return e+r+n+o+f+(u=0+ +((h=h+i>>>0)<t)+ +((h=h+a>>>0)<a)+ +((h=h+s>>>0)<s)+ +((h=h+c>>>0)<c))>>>0}function z(e,t,r,i,n,a,o,s,f,c){return t+i+a+s+c>>>0}function W(e,t,r){return(t<<32-r|e>>>r)>>>0}function $(e,t,r){return(e<<32-r|t>>>r)>>>0}function G(e,t,r){return e>>>r}function X(e,t,r){return(e<<32-r|t>>>r)>>>0}class Y extends u{h;constructor(){super(512,160,192,64),this.endian="little",this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}_update(e,t){let r,i=this.h[0],n=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],f=i,c=n,u=a,h=o,d=s;for(let l=0;l<80;l++)r=v(w(x(i,D(l,n,a,o),e[R[l]+t],L(l)),C[l]),s),i=s,s=o,o=w(a,10),a=n,n=r,r=v(w(x(f,D(79-l,c,u,h),e[T[l]+t],F(l)),B[l]),d),f=d,d=h,h=w(u,10),u=c,c=r;r=_(this.h[1],a,h),this.h[1]=_(this.h[2],o,d),this.h[2]=_(this.h[3],s,f),this.h[3]=_(this.h[4],i,c),this.h[4]=_(this.h[0],n,u),this.h[0]=r}_digest(){return g(this.h,"little")}_digestHex(){return p(this.h,"little")}}class J extends u{h;W;k;constructor(){super(512,256,192,64),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],this.W=Array(64)}_update(e,t){let r,i=this.W;for(void 0===t&&(t=0),r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=x(N(i[r-2]),i[r-7],O(i[r-15]),i[r-16]);let n=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],f=this.h[4],u=this.h[5],h=this.h[6],d=this.h[7];for(c(this.k.length===i.length),r=0;r<i.length;r++){let e=S(d,P(f),E(f,u,h),this.k[r],i[r]),t=v(M(n),I(n,a,o));d=h,h=u,u=f,f=v(s,e),s=o,o=a,a=n,n=v(e,t)}this.h[0]=v(this.h[0],n),this.h[1]=v(this.h[1],a),this.h[2]=v(this.h[2],o),this.h[3]=v(this.h[3],s),this.h[4]=v(this.h[4],f),this.h[5]=v(this.h[5],u),this.h[6]=v(this.h[6],h),this.h[7]=v(this.h[7],d)}_digest(){return g(this.h,"big")}_digestHex(){return p(this.h,"big")}}class Z extends u{h;W;k;constructor(){super(512,160,80,64),this.k=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}_update(e,t){let r,i=this.W;for(void 0===t&&(t=0),r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=w(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);let n=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],f=this.h[4];for(r=0;r<i.length;r++){let e=~~(r/20),t=S(w(n,5),k(e,a,o,s),f,i[r],this.k[e]);f=s,s=o,o=w(a,30),a=n,n=t}this.h[0]=v(this.h[0],n),this.h[1]=v(this.h[1],a),this.h[2]=v(this.h[2],o),this.h[3]=v(this.h[3],s),this.h[4]=v(this.h[4],f)}_digest(){return g(this.h,"big")}_digestHex(){return p(this.h,"big")}}class Q extends u{h;W;k;constructor(){super(1024,512,192,128),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817],this.W=Array(160)}_prepareBlock(e,t){let r,i=this.W;for(r=0;r<32;r++)i[r]=e[t+r];for(;r<i.length;r+=2){let e=eu(i[r-4],i[r-3]),t=eh(i[r-4],i[r-3]),n=i[r-14],a=i[r-13],o=ef(i[r-30],i[r-29]),s=ec(i[r-30],i[r-29]),f=i[r-32],c=i[r-31];i[r]=V(e,t,n,a,o,s,f,c),i[r+1]=H(e,t,n,a,o,s,f,c)}}_update(e,t){this._prepareBlock(e,t);let r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],f=this.h[5],u=this.h[6],h=this.h[7],d=this.h[8],l=this.h[9],p=this.h[10],b=this.h[11],y=this.h[12],g=this.h[13],m=this.h[14],w=this.h[15];c(this.k.length===r.length);for(let e=0;e<r.length;e+=2){let t=m,c=w,v=eo(d,l),_=es(d,l),x=ee(d,l,p,b,y,g),S=et(d,l,p,b,y,g),k=this.k[e],E=this.k[e+1],I=r[e],A=r[e+1],M=K(t,c,v,_,x,S,k,E,I,A),P=z(t,c,v,_,x,S,k,E,I,A);t=en(i,n),c=ea(i,n);let O=j(t,c,v=er(i,n,a,o,s,f),_=ei(i,n,a,o,s,f)),N=q(t,c,v,_);m=y,w=g,y=p,g=b,p=d,b=l,d=j(u,h,M,P),l=q(h,h,M,P),u=s,h=f,s=a,f=o,a=i,o=n,i=j(M,P,O,N),n=q(M,P,O,N)}U(this.h,0,i,n),U(this.h,2,a,o),U(this.h,4,s,f),U(this.h,6,u,h),U(this.h,8,d,l),U(this.h,10,p,b),U(this.h,12,y,g),U(this.h,14,m,w)}_digest(){return g(this.h,"big")}_digestHex(){return p(this.h,"big")}}function ee(e,t,r,i,n,a){let o=e&r^~e&n;return o<0&&(o+=0x100000000),o}function et(e,t,r,i,n,a){let o=t&i^~t&a;return o<0&&(o+=0x100000000),o}function er(e,t,r,i,n,a){let o=e&r^e&n^r&n;return o<0&&(o+=0x100000000),o}function ei(e,t,r,i,n,a){let o=t&i^t&a^i&a;return o<0&&(o+=0x100000000),o}function en(e,t){let r=W(e,t,28)^W(t,e,2)^W(t,e,7);return r<0&&(r+=0x100000000),r}function ea(e,t){let r=$(e,t,28)^$(t,e,2)^$(t,e,7);return r<0&&(r+=0x100000000),r}function eo(e,t){let r=W(e,t,14)^W(e,t,18)^W(t,e,9);return r<0&&(r+=0x100000000),r}function es(e,t){let r=$(e,t,14)^$(e,t,18)^$(t,e,9);return r<0&&(r+=0x100000000),r}function ef(e,t){let r=W(e,t,1)^W(e,t,8)^G(e,t,7);return r<0&&(r+=0x100000000),r}function ec(e,t){let r=$(e,t,1)^$(e,t,8)^X(e,t,7);return r<0&&(r+=0x100000000),r}function eu(e,t){let r=W(e,t,19)^W(t,e,29)^G(e,t,6);return r<0&&(r+=0x100000000),r}function eh(e,t){let r=$(e,t,19)^$(t,e,29)^X(e,t,6);return r<0&&(r+=0x100000000),r}class ed{inner;outer;blockSize=64;outSize=32;constructor(e){let t;for((e=d(e,"hex")).length>this.blockSize&&(e=new J().update(e).digest()),c(e.length<=this.blockSize),t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new J().update(e);t<e.length;t++)e[t]^=106;this.outer=new J().update(e)}update(e,t){return this.inner.update(e,t),this}digest(){return this.outer.update(this.inner.digest()),this.outer.digest()}digestHex(){return this.outer.update(this.inner.digest()),this.outer.digestHex()}}class el{inner;outer;blockSize=64;constructor(e){let t;for((e=d(e,"hex")).length>this.blockSize&&(e=new Z().update(e).digest()),t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new Z().update(e);t<e.length;t++)e[t]^=106;this.outer=new Z().update(e)}update(e,t){return this.inner.update(e,t),this}digest(){return this.outer.update(this.inner.digest()),this.outer.digest()}digestHex(){return this.outer.update(this.inner.digest()),this.outer.digestHex()}}class ep{inner;outer;blockSize=128;outSize=32;constructor(e){let t;for((e=d(e,"hex")).length>this.blockSize&&(e=new Q().update(e).digest()),c(e.length<=this.blockSize),t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new Q().update(e);t<e.length;t++)e[t]^=106;this.outer=new Q().update(e)}update(e,t){return this.inner.update(e,t),this}digest(){return this.outer.update(this.inner.digest()),this.outer.digest()}digestHex(){return this.outer.update(this.inner.digest()),this.outer.digestHex()}}let eb=(e,t)=>new Y().update(e,t).digest(),ey=(e,t)=>new Z().update(e,t).digest(),eg=(e,t)=>new J().update(e,t).digest(),em=(e,t)=>new Q().update(e,t).digest(),ew=(e,t)=>{let r=new J().update(e,t).digest();return new J().update(r).digest()},ev=(e,t)=>{let r=new J().update(e,t).digest();return new Y().update(r).digest()},e_=(e,t,r)=>new ed(e).update(t,r).digest(),ex=(e,t,r)=>new ep(e).update(t,r).digest();function eS(e,t,r,i,n="sha512"){if("sha512"!==n)throw Error("Only sha512 is supported in this PBKDF2 implementation");let a=Array(i),o=[...t,0,0,0,0],s=0,f=64,c=Math.ceil(i/64);for(let i=1;i<=c;i++){o[t.length]=i>>24&255,o[t.length+1]=i>>16&255,o[t.length+2]=i>>8&255,o[t.length+3]=255&i;let n=ex(e,o),c=n;for(let t=1;t<r;t++){c=ex(e,c);for(let e=0;e<f;e++)n[e]^=c[e]}for(let e=0;e<n.length;e++)a[s+e]=n[e];s+=f}return a.slice(0,i)}e.s(["RIPEMD160",()=>Y,"SHA1",()=>Z,"SHA1HMAC",()=>el,"SHA256",()=>J,"SHA256HMAC",()=>ed,"SHA512",()=>Q,"SHA512HMAC",()=>ep,"hash160",0,ev,"hash256",0,ew,"pbkdf2",()=>eS,"ripemd160",0,eb,"sha1",0,ey,"sha256",0,eg,"sha256hmac",0,e_,"sha512",0,em,"sha512hmac",0,ex,"toArray",()=>d],79821);let ek=e=>e.length%2==1?"0"+e:e,eE=e=>{let t="";for(let r of e)t+=ek(r.toString(16));return t},eI=(e,t)=>{if(Array.isArray(e))return e.slice();if(void 0===e)return[];if("string"!=typeof e)return Array.from(e,e=>0|e);switch(t){case"hex":return eA(e);case"base64":return eM(e);default:return eP(e)}},eA=e=>{(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);let t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e[r]+e[r+1],16));return t},eM=e=>{let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,n=0;for(let a of e.replace(/=+$/,""))i=i<<6|t.indexOf(a),(n+=6)>=8&&(n-=8,r.push(i>>n&255),i&=(1<<n)-1);return r};function eP(e){let t=[];for(let r=0;r<e.length;r++){let i=e.codePointAt(r);if(void 0===i)throw Error(`Index out of range: ${r}`);let n=i;n>65535?r++:n>=55296&&n<=57343&&(n=65533),n<=127?t.push(n):n<=2047?t.push(192|n>>6,128|63&n):n<=65535?t.push(224|n>>12,128|n>>6&63,128|63&n):t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)}return t}let eO=e=>{let t="",r=0;for(let i=0;i<e.length;i++){let n=e[i];if(r>0){r--;continue}if(n<=127)t+=String.fromCharCode(n);else if(n>=192&&n<=223)r=1,t+=String.fromCharCode((31&n)<<6|63&e[i+1]);else if(n>=224&&n<=239)r=2,t+=String.fromCharCode((15&n)<<12|(63&e[i+1])<<6|63&e[i+2]);else if(n>=240&&n<=247){let a=e[i+1],o=e[i+2],s=e[i+3];r=3;let f=(7&n)<<18|(63&a)<<12|(63&o)<<6|63&s;t+=String.fromCharCode(55296+(f-65536>>10),56320+(f-65536&1023))}}return t},eN=(e,t)=>{switch(t){case"hex":return eE(e);case"utf8":return eO(e);default:return e}};function eR(e){let t,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="";for(t=0;t<e.length;t+=3){let n=e[t],a=t+1<e.length?e[t+1]:0,o=t+2<e.length?e[t+2]:0,s=n>>2,f=(3&n)<<4|a>>4,c=(15&a)<<2|o>>6,u=63&o;i+=r.charAt(s)+r.charAt(f),i+=t+1<e.length?r.charAt(c):"=",i+=t+2<e.length?r.charAt(u):"="}return i}let eT="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",eC=e=>{let t;if(""===e||"string"!=typeof e)throw Error(`Expected base58 string but got ${e}`);let r=e.match(/[IOl0]/gmu);if(null!==r)throw Error(`Invalid base58 character ${r.join("")}`);let i=e.match(/^1+/gmu),n=null!==i?i[0].length:0,a=(e.length-n)*(Math.log(58)/Math.log(256))+1>>>0;return[...new Uint8Array([...new Uint8Array(n),...(e.match(/./gmu)??[]).map(e=>eT.indexOf(e)).reduce((e,t)=>e=e.map(e=>{let r=58*e+t;return t=r>>8,r}),new Uint8Array(a)).reverse().filter((t=!1,e=>t=t||e))])]},eB=e=>{let t=Array(256).fill(-1);for(let e=0;e<eT.length;++e)t[eT.charCodeAt(e)]=e;let r=[];for(let i of e){let e=i;for(let i=0;i<r.length;++i){let n=(t[r[i]]<<8)+e;r[i]=eT.charCodeAt(n%58),e=n/58|0}for(;0!==e;)r.push(eT.charCodeAt(e%58)),e=e/58|0}for(let t of e)if(0!==t)break;else r.push(49);return r.reverse(),String.fromCharCode(...r)},eD=(e,t=[0])=>{let r=ew([...t,...e]);return eB(r=[...t,...e,...r.slice(0,4)])},eL=(e,t,r=1)=>{let i=eC(e),n=i.slice(0,r),a=i.slice(r,-4),o=[...n,...a];return o=ew(o),i.slice(-4).forEach((e,t)=>{if(e!==o[t])throw Error("Invalid checksum")}),"hex"===t&&(n=eE(n),a=eE(a)),{prefix:n,data:a}};class eF{bufs;length;constructor(e){for(const t of(this.bufs=void 0!==e?e:[],this.length=0,this.bufs))this.length+=t.length}getLength(){return this.length}toArray(){let e=Array(this.length),t=0;for(let r of this.bufs)for(let i of r)e[t++]=i;return e}write(e){return this.bufs.push(e),this.length+=e.length,this}writeReverse(e){let t=Array(e.length);for(let r=0;r<t.length;r++)t[r]=e[e.length-1-r];return this.bufs.push(t),this.length+=t.length,this}writeUInt8(e){let t=[,];return t[0]=e,this.write(t),this}writeInt8(e){let t=[,];return t[0]=255&e,this.write(t),this}writeUInt16BE(e){let t=[e>>8&255,255&e];return this.bufs.push(t),this.length+=2,this}writeInt16BE(e){return this.writeUInt16BE(65535&e)}writeUInt16LE(e){let t=[255&e,e>>8&255];return this.bufs.push(t),this.length+=2,this}writeInt16LE(e){return this.writeUInt16LE(65535&e)}writeUInt32BE(e){let t=[e>>24&255,e>>16&255,e>>8&255,255&e];return this.bufs.push(t),this.length+=4,this}writeInt32BE(e){return this.writeUInt32BE(e>>>0)}writeUInt32LE(e){let t=[255&e,e>>8&255,e>>16&255,e>>24&255];return this.bufs.push(t),this.length+=4,this}writeInt32LE(e){return this.writeUInt32LE(e>>>0)}writeUInt64BEBn(e){let t=e.toArray("be",8);return this.write(t),this}writeUInt64LEBn(e){let t=e.toArray("be",8);return this.writeReverse(t),this}writeUInt64LE(e){let t=new r(e).toArray("be",8);return this.writeReverse(t),this}writeVarIntNum(e){let t=eF.varIntNum(e);return this.write(t),this}writeVarIntBn(e){let t=eF.varIntBn(e);return this.write(t),this}static varIntNum(e){let t;if(e<253)t=[e];else if(e<65536)t=[253,255&e,e>>8&255];else if(e<0x100000000)t=[254,255&e,e>>8&255,e>>16&255,e>>24&255];else{let r=0|e,i=0|Math.floor(e/0x100000000);t=[255,255&r,r>>8&255,r>>16&255,r>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]}return t}static varIntBn(e){let t;if(e.ltn(253))t=[e.toNumber()];else if(e.ltn(65536)){let r=e.toNumber();t=[253,255&r,r>>8&255]}else if(e.lt(new r(0x100000000))){let r=e.toNumber();t=[254,255&r,r>>8&255,r>>16&255,r>>24&255]}else{let r=new eF;r.writeUInt8(255),r.writeUInt64LEBn(e),t=r.toArray()}return t}}class eU{bin;pos;length;constructor(e=[],t=0){this.bin=e,this.pos=t,this.length=e.length}eof(){return this.pos>=this.length}read(e=this.length){let t=this.pos,r=this.pos+e;return this.pos=r,this.bin.slice(t,r)}readReverse(e=this.length){let t=Array(e);for(let r=0;r<e;r++)t[r]=this.bin[this.pos+e-1-r];return this.pos+=e,t}readUInt8(){let e=this.bin[this.pos];return this.pos+=1,e}readInt8(){let e=this.bin[this.pos];return this.pos+=1,(128&e)!=0?e-256:e}readUInt16BE(){let e=this.bin[this.pos]<<8|this.bin[this.pos+1];return this.pos+=2,e}readInt16BE(){let e=this.readUInt16BE();return(32768&e)!=0?e-65536:e}readUInt16LE(){let e=this.bin[this.pos]|this.bin[this.pos+1]<<8;return this.pos+=2,e}readInt16LE(){let e=this.readUInt16LE();return(32768&e)!=0?e-65536:e}readUInt32BE(){let e=0x1000000*this.bin[this.pos]+(this.bin[this.pos+1]<<16|this.bin[this.pos+2]<<8|this.bin[this.pos+3]);return this.pos+=4,e}readInt32BE(){let e=this.readUInt32BE();return(0x80000000&e)!=0?e-0x100000000:e}readUInt32LE(){let e=(this.bin[this.pos]|this.bin[this.pos+1]<<8|this.bin[this.pos+2]<<16|this.bin[this.pos+3]<<24)>>>0;return this.pos+=4,e}readInt32LE(){let e=this.readUInt32LE();return(0x80000000&e)!=0?e-0x100000000:e}readUInt64BEBn(){let e=new r(this.bin.slice(this.pos,this.pos+8));return this.pos=this.pos+8,e}readUInt64LEBn(){return new r(this.readReverse(8))}readVarIntNum(){let e,t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:if((e=this.readUInt64LEBn()).lte(new r(2).pow(new r(53))))return e.toNumber();throw Error("number too large to retain precision - use readVarIntBn");default:return t}}readVarInt(){switch(this.bin[this.pos]){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}}readVarIntBn(){let e=this.readUInt8();switch(e){case 253:return new r(this.readUInt16LE());case 254:return new r(this.readUInt32LE());case 255:return this.readUInt64LEBn();default:return new r(e)}}}let ej=e=>{if(0===e.length)return e;let t=e[e.length-1];if((127&t)!=0)return e;if(1===e.length)return[];if((128&e[e.length-2])!=0)return e;for(let r=e.length-1;r>0;r--)if(0!==e[r-1])if((128&e[r-1])!=0)return e[r]=t,e.slice(0,r+1);else return e[r-1]|=t,e.slice(0,r);return[]};e.s(["Reader",()=>eU,"Writer",()=>eF,"encode",0,eN,"fromBase58",0,eC,"fromBase58Check",0,eL,"minimallyEncode",0,ej,"toArray",0,eI,"toBase58",0,eB,"toBase58Check",0,eD,"toBase64",()=>eR,"toHex",0,eE,"toUTF8",0,eO,"zero2",0,ek],4363);class eq extends s{static red=new a("k256");static a=new r(0).toRed(eq.red);static b=new r(7).toRed(eq.red);static zero=new r(0).toRed(eq.red);x;y;inf;static fromDER(e){let t=32;if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*t){if(6===e[0]){if(e[e.length-1]%2!=0)throw Error("Point string value is wrong length")}else if(7===e[0]&&e[e.length-1]%2!=1)throw Error("Point string value is wrong length");return new eq(e.slice(1,1+t),e.slice(1+t,1+2*t))}if((2===e[0]||3===e[0])&&e.length-1===t)return eq.fromX(e.slice(1,1+t),3===e[0]);throw Error("Unknown point format")}static fromString(e){let t=eI(e,"hex");return eq.fromDER(t)}static redSqrtOptimized(e){let t=eq.red.m.addn(1).iushrn(2);return e.redPow(t)}static fromX(e,t){if("function"==typeof BigInt){let a;function i(e,t){return(e%t+t)%t}function n(e,t,r){let n=BigInt(1);for(e=i(e,r);t>BigInt(0);)(t&BigInt(1))===BigInt(1)&&(n=i(n*e,r)),t>>=BigInt(1),e=i(e*e,r);return n}function o(e,t){let r=n(e,t+BigInt(1)>>BigInt(2),t);return i(r*r,t)===i(e,t)?r:null}let s=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F"),f=BigInt(7);if(e instanceof r)a=BigInt("0x"+e.toString(16));else if("string"==typeof e)a=BigInt("0x"+e);else if(Array.isArray(e))a=BigInt("0x"+eE(e).padStart(64,"0"));else if("number"==typeof e)a=BigInt(e);else throw Error("Invalid x-coordinate type");a=i(a,s);let c=o(i(n(a,BigInt(3),s)+f,s),s);if(null===c)throw Error("Invalid point");let u=c%BigInt(2)===BigInt(1);return(t&&!u||!t&&u)&&(c=s-c),new eq(new r(a.toString(16),16),new r(c.toString(16),16))}{let i=new a("k256"),n=new r(0).toRed(i),o=new r(7).toRed(i),s=new r(0).toRed(i);r.isBN(e)||(e=new r(e,16)),null==e.red&&(e=e.toRed(i));let f=e.redSqr().redMul(e).redIAdd(e.redMul(n)).redIAdd(o),c=f.redSqrt();if(0!==c.redSqr().redSub(f).cmp(s))throw Error("invalid point");let u=c.fromRed().isOdd();return(t&&!u||!t&&u)&&(c=c.redNeg()),new eq(e,c)}}static fromJSON(e,t){"string"==typeof e&&(e=JSON.parse(e));let r=new eq(e[0],e[1],t);if("object"!=typeof e[2])return r;let i=e=>new eq(e[0],e[1],t),n=e[2];return r.precomputed={beta:null,doubles:"object"==typeof n.doubles&&null!==n.doubles?{step:n.doubles.step,points:[r].concat(n.doubles.points.map(i))}:void 0,naf:"object"==typeof n.naf&&null!==n.naf?{wnd:n.naf.wnd,points:[r].concat(n.naf.points.map(i))}:void 0},r}constructor(e,t,i=!0){super("affine"),this.precomputed=null,null===e&&null===t?(this.x=null,this.y=null,this.inf=!0):(r.isBN(e)||(e=new r(e,16)),this.x=e,r.isBN(t)||(t=new r(t,16)),this.y=t,i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),null===this.x.red&&(this.x=this.x.toRed(this.curve.red)),null===this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}validate(){return this.curve.validate(this)}encode(e=!0,t){let r,i=this.curve.p.byteLength(),n=this.getX().toArray("be",i);return(r=e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",i)),"hex"!==t)?r:eE(r)}toString(){return this.encode(!0,"hex")}toJSON(){return null==this.precomputed?[this.x,this.y]:[this.x,this.y,"object"==typeof this.precomputed&&null!==this.precomputed?{doubles:null!=this.precomputed.doubles?{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)}:void 0,naf:null!=this.precomputed.naf?{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}:void 0}:void 0]}inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+(this.x?.fromRed()?.toString(16,2)??"undefined")+" y: "+(this.y?.fromRed()?.toString(16,2)??"undefined")+">"}isInfinity(){return this.inf}add(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||this.x?.cmp(e.x??new r(0))===0)return new eq(new r(0),new r(0));let t=this.y?.redSub(e.y??new r(0))??new r(0);0!==t.cmpn(0)&&(t=t.redMul(this.x?.redSub(e.x??new r(0)).redInvm()??new r(1)));let i=t?.redSqr().redISub(this.x??new r(0)).redISub(e.x??new r(0)),n=(t??new r(1)).redMul((this.x??new r(0)).redSub(i??new r(0))).redISub(this.y??new r(0));return new eq(i??new r(0),n??new r(0))}dbl(){if(this.inf)return this;let e=(this.y??new r(0)).redAdd(this.y??new r(0));if(0===e.cmpn(0))return new eq(new r(0),new r(0));let t=this.curve.a,i=(this.x??new r(0)).redSqr(),n=e.redInvm(),a=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),o=a.redSqr().redISub((this.x??new r(0)).redAdd(this.x??new r(0))),s=a.redMul((this.x??new r(0)).redSub(o)).redISub(this.y??new r(0));return new eq(o,s)}getX(){return(this.x??new r(0)).fromRed()}getY(){return(this.y??new r(0)).fromRed()}mul(e){return(r.isBN(e)||(e=new r(e,16)),this.isInfinity())?this:this._hasDoubles(e)?this._fixedNafMul(e):this._endoWnafMulAdd([this],[e])}mulAdd(e,t,r){let i=[this,t],n=[e,r];return this._endoWnafMulAdd(i,n)}jmulAdd(e,t,r){let i=[this,t],n=[e,r];return this._endoWnafMulAdd(i,n,!0)}eq(e){return this===e||this.inf===e.inf&&(this.inf||0===(this.x??new r(0)).cmp(e.x??new r(0))&&0===(this.y??new r(0)).cmp(e.y??new r(0)))}neg(e){if(this.inf)return this;let t=new eq(this.x,(this.y??new r(0)).redNeg());if(!0===e&&null!=this.precomputed){let e=this.precomputed,r=e=>e.neg();t.precomputed={naf:null!=e.naf?{wnd:e.naf.wnd,points:e.naf.points.map(r)}:void 0,doubles:null!=e.doubles?{step:e.doubles.step,points:e.doubles.points.map(e=>e.neg())}:void 0,beta:void 0}}return t}dblp(e){let t=this;for(let r=0;r<e;r++)t=t.dbl();return t}toJ(){return this.inf?new f(null,null,null):new f(this.x,this.y,this.curve.one)}_getBeta(){if("object"!=typeof this.curve.endo)return;let e=this.precomputed;if("object"==typeof e&&null!==e&&"object"==typeof e.beta&&null!==e.beta)return e.beta;let t=new eq((this.x??new r(0)).redMul(this.curve.endo.beta),this.y);if(null!=e){let r=this.curve,i=e=>{if(null===e.x)throw Error("p.x is null");if(void 0===r.endo||null===r.endo)throw Error("curve.endo is undefined");return new eq(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:null!=e.naf?{wnd:e.naf.wnd,points:e.naf.points.map(i)}:void 0,doubles:null!=e.doubles?{step:e.doubles.step,points:e.doubles.points.map(i)}:void 0}}return t}_fixedNafMul(e){if("object"!=typeof this.precomputed||null===this.precomputed)throw Error("_fixedNafMul requires precomputed values for the point");let t=this._getDoubles(),r=this.curve.getNAF(e,1,this.curve._bitLength),i=(1<<t.step+1)-(t.step%2==0?2:1);i/=3;let n=[];for(let e=0;e<r.length;e+=t.step){let i=0;for(let n=e+t.step-1;n>=e;n--)i=(i<<1)+r[n];n.push(i)}let a=new f(null,null,null),o=new f(null,null,null);for(let e=i;e>0;e--){for(let r=0;r<n.length;r++){let i=n[r];i===e?o=o.mixedAdd(t.points[r]):i===-e&&(o=o.mixedAdd(t.points[r].neg()))}a=a.add(o)}return a.toP()}_wnafMulAdd(e,t,i,n,a){let o=this.curve._wnafT1.map(e=>e.toNumber()),s=this.curve._wnafT2.map(()=>[]),c=this.curve._wnafT3.map(()=>[]),u=0;for(let r=0;r<n;r++){let i=t[r]._getNAFPoints(e);o[r]=i.wnd,s[r]=i.points}for(let e=n-1;e>=1;e-=2){let n=e-1,a=e;if(1!==o[n]||1!==o[a]){c[n]=this.curve.getNAF(i[n],o[n],this.curve._bitLength),c[a]=this.curve.getNAF(i[a],o[a],this.curve._bitLength),u=Math.max(c[n].length,u),u=Math.max(c[a].length,u);continue}let f=[t[n],null,null,t[a]];0===(t[n].y??new r(0)).cmp(t[a].y??new r(0))?(f[1]=t[n].add(t[a]),f[2]=t[n].toJ().mixedAdd(t[a].neg())):0===(t[n].y??new r(0)).cmp((t[a].y??new r(0)).redNeg())?(f[1]=t[n].toJ().mixedAdd(t[a]),f[2]=t[n].add(t[a].neg())):(f[1]=t[n].toJ().mixedAdd(t[a]),f[2]=t[n].toJ().mixedAdd(t[a].neg()));let h=[-3,-1,-5,-7,0,7,5,1,3],d=this.curve.getJSF(i[n],i[a]);u=Math.max(d[0].length,u),c[n]=Array(u),c[a]=Array(u);for(let e=0;e<u;e++){let t=0|d[0][e],r=0|d[1][e];c[n][e]=h[(t+1)*3+(r+1)],c[a][e]=0,s[n]=f}}let h=new f(null,null,null),d=this.curve._wnafT4;for(let e=u;e>=0;e--){let t=0;for(;e>=0;){let i=!0;for(let t=0;t<n;t++)d[t]=new r("number"==typeof c[t][e]?c[t][e]:0),d[t].isZero()||(i=!1);if(!i)break;t++,e--}if(e>=0&&t++,h=h.dblp(t),e<0)break;let i=new r(1),a=new r(2);for(let e=0;e<n;e++){let t,r=d[e];0!==r.cmpn(0)&&(t=r.isNeg()?s[e][r.neg().sub(i).div(a).toNumber()].neg():s[e][r.sub(i).div(a).toNumber()],h="affine"===t.type?h.mixedAdd(t):h.add(t))}}for(let e=0;e<n;e++)s[e]=[];return!0===a?h:h.toP()}_endoWnafMulAdd(e,t,i){let n,a=Array(2*e.length),o=Array(2*e.length);for(n=0;n<e.length;n++){let i=this.curve._endoSplit(t[n]),s=e[n],f=s._getBeta()??new eq(new r(0),new r(0));0!==i.k1.negative&&(i.k1.ineg(),s=s.neg(!0)),0!==i.k2.negative&&(i.k2.ineg(),f=f.neg(!0)),a[2*n]=s,a[2*n+1]=f,o[2*n]=i.k1,o[2*n+1]=i.k2}let s=this._wnafMulAdd(1,a,o,2*n,i);for(let e=0;e<2*n;e++)a[e]=null,o[e]=null;return s}_hasDoubles(e){if(null==this.precomputed)return!1;let t=this.precomputed.doubles;return"object"==typeof t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)}_getDoubles(e,t){if("object"==typeof this.precomputed&&null!==this.precomputed&&"object"==typeof this.precomputed.doubles&&null!==this.precomputed.doubles)return this.precomputed.doubles;let r=[this],i=this;for(let n=0;n<(t??0);n+=e??1){for(let t=0;t<(e??1);t++)i=i.dbl();r.push(i)}return{step:e??1,points:r}}_getNAFPoints(e){if("object"==typeof this.precomputed&&null!==this.precomputed&&"object"==typeof this.precomputed.naf&&null!==this.precomputed.naf)return this.precomputed.naf;let t=[this],r=(1<<e)-1,i=1===r?null:this.dbl();for(let e=1;e<r;e++)null!==i&&(t[e]=t[e-1].add(i));return{wnd:e,points:t}}}class eV{p;red;redN;zero;one;two;g;n;a;b;tinv;zeroA;threeA;endo;_endoWnafT1;_endoWnafT2;_wnafT1;_wnafT2;_wnafT3;_wnafT4;_bitLength;static assert(e,t="Elliptic curve assertion failed"){if(!e)throw Error(t)}getNAF(e,t,r){let i=Array(Math.max(e.bitLength(),r)+1);i.fill(0);let n=1<<t+1,a=e.clone();for(let e=0;e<i.length;e++){let t,r=a.andln(n-1);a.isOdd()?(t=r>(n>>1)-1?(n>>1)-r:r,a.isubn(t)):t=0,i[e]=t,a.iushrn(1)}return i}getJSF(e,t){let r=[[],[]];e=e.clone(),t=t.clone();let i=0,n=0;for(;e.cmpn(-i)>0||t.cmpn(-n)>0;){let a,o,s=e.andln(3)+i&3,f=t.andln(3)+n&3;if(3===s&&(s=-1),3===f&&(f=-1),(1&s)==0)a=0;else{let t=e.andln(7)+i&7;a=(3===t||5===t)&&2===f?-s:s}if(r[0].push(a),(1&f)==0)o=0;else{let e=t.andln(7)+n&7;o=(3===e||5===e)&&2===s?-f:f}r[1].push(o),2*i===a+1&&(i=1-i),2*n===o+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r}static cachedProperty(e,t,r){let i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}}static parseBytes(e){return"string"==typeof e?eI(e,"hex"):e}static intFromLE(e){return new r(e,"hex","le")}constructor(){if(void 0!==t)return t;t=this;const e={prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]};this.p=new r(e.p,16),this.red=new a(e.prime),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=new r(e.n,16),this.g=eq.fromJSON(e.g,e.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n.bitLength(),this.redN=this.n.toRed(this.red),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}_getEndomorphism(e){let t,i,n;if(this.zeroA&&1===this.p.modrn(3)){if(void 0!==e.beta)t=new r(e.beta,16).toRed(this.red);else{let e=this._getEndoRoots(this.p);if(null===e)throw Error("Failed to get endomorphism roots for beta.");t=(t=0>e[0].cmp(e[1])?e[0]:e[1]).toRed(this.red)}if(void 0!==e.lambda)i=new r(e.lambda,16);else{let e=this._getEndoRoots(this.n);if(null===e)throw Error("Failed to get endomorphism roots for lambda.");if(null==this.g)throw Error("Curve generator point (g) is not defined.");let r=this.g.mul(e[0])?.x,n=null!=this.g.x?this.g.x.redMul(t):void 0;if(null!=r&&null!=n&&0===r.cmp(n))i=e[0];else{if(i=e[1],null==this.g)throw Error("Curve generator point (g) is not defined.");let r=this.g.mul(i)?.x,n=null!=this.g.x?this.g.x.redMul(t):void 0;if(null==r||null==n)throw Error("Lambda computation failed: g.mul(lambda).x or g.x.redMul(beta) is undefined.");eV.assert(0===r.cmp(n),"Lambda selection does not match computed beta.")}}return n="object"==typeof e.basis&&null!==e.basis?e.basis.map(function(e){return{a:new r(e.a,16),b:new r(e.b,16)}}):this._getEndoBasis(i),{beta:t,lambda:i,basis:n}}}_getEndoRoots(e){let t=e===this.p?this.red:new o(e),i=new r(2).toRed(t).redInvm(),n=i.redNeg(),a=new r(3).toRed(t).redNeg().redSqrt().redMul(i);return[n.redAdd(a).fromRed(),n.redSub(a).fromRed()]}_getEndoBasis(e){let t,i,n,a,o,s,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=e,u=this.n.clone(),h=new r(1),d=new r(0),l=new r(0),p=new r(1),b=new r(0),y=0,g=new r(0),m=new r(0);for(;0!==c.cmpn(0);){let e=u.div(c);g=u.sub(e.mul(c)),m=l.sub(e.mul(h));let r=p.sub(e.mul(d));if(void 0===n&&0>g.cmp(f))t=b.neg(),i=h,n=g.neg(),a=m;else if(void 0!==n&&2==++y)break;b=g,u=c,c=g,l=h,h=m,p=d,d=r}if(void 0===t||void 0===i||void 0===n||void 0===a)throw Error("Failed to compute Endo Basis values");o=g.neg(),s=m;let w=n.sqr().add(a.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=t,s=i),0!==n.negative&&(n=n.neg(),a=a.neg()),0!==o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:a},{a:o,b:s}]}_endoSplit(e){if(null==this.endo)throw Error("Endomorphism is not defined.");let t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),s=a.mul(i.a),f=n.mul(r.b),c=a.mul(i.b);return{k1:e.sub(o).sub(s),k2:f.add(c).neg()}}validate(e){if(e.inf)return!0;let t=e.x,r=e.y;if(null===t||null===r)throw Error("Point coordinates cannot be null");let i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)}}e.s(["sign",()=>eW,"verify",()=>e$],17947);class eH{r;s;static fromDER(e,t){let i=(e,t)=>{let r=e[t.place++];if((128&r)==0)return r;throw Error("Invalid DER entity length")};class n{place;constructor(){this.place=0}}e=eI(e,t);let a=new n;if(48!==e[a.place++])throw Error("Signature DER must start with 0x30");if(i(e,a)+a.place!==e.length||2!==e[a.place++])throw Error("Signature DER invalid");let o=i(e,a),s=e.slice(a.place,o+a.place);if(a.place+=o,2!==e[a.place++])throw Error("Signature DER invalid");let f=i(e,a);if(e.length!==f+a.place)throw Error("Invalid R-length in signature DER");let c=e.slice(a.place,f+a.place);if(0===s[0])if((128&s[1])!=0)s=s.slice(1);else throw Error("Invalid R-value in signature DER");if(0===c[0])if((128&c[1])!=0)c=c.slice(1);else throw Error("Invalid S-value in signature DER");return new eH(new r(s),new r(c))}static fromCompact(e,t){if(65!==(e=eI(e,t)).length)throw Error("Invalid Compact Signature");let i=e[0];if(i<27||i>=35)throw Error("Invalid Compact Byte");return new eH(new r(e.slice(1,33)),new r(e.slice(33,65)))}constructor(e,t){this.r=e,this.s=t}verify(e,t,i){return e$(new r(eg(e,i),16),this,t)}toString(e){return this.toDER(e)}toDER(e){let t=(e,t)=>{if(t<128)e.push(t);else throw Error("len must be < 0x80")},r=e=>{let t=0,r=e.length-1;for(;0===e[t]&&(128&e[t+1])==0&&t<r;)t++;return 0===t?e:e.slice(t)},i=this.r.toArray(),n=this.s.toArray();for((128&i[0])!=0&&(i=[0].concat(i)),(128&n[0])!=0&&(n=[0].concat(n)),i=r(i),n=r(n);0===n[0]&&(128&n[1])==0;)n=n.slice(1);let a=[2];t(a,i.length),(a=a.concat(i)).push(2),t(a,n.length);let o=a.concat(n),s=[48];return(t(s,o.length),s=s.concat(o),"hex"===e)?eE(s):"base64"===e?eR(s):s}toCompact(e,t,r){if(e<0||e>3)throw Error("Invalid recovery param");if("boolean"!=typeof t)throw Error("Invalid compressed param");let i=27+e;t&&(i+=4);let n=[i];return(n=(n=n.concat(this.r.toArray("be",32))).concat(this.s.toArray("be",32)),"hex"===r)?eE(n):"base64"===r?eR(n):n}RecoverPublicKey(e,t){let r=this.r,i=this.s,n=(1&e)!=0,a=e>>1,o=new eV,s=o.n,f=o.g,c=0!==a?r.add(s):r,u=eq.fromX(c,n);if(!u.mul(s).isInfinity())throw Error("nR is not at infinity");let h=t.neg().umod(s),d=r.invm(s),l=d.mul(i).umod(s),p=d.mul(h).umod(s),b=new eG(f.mul(p).add(u.mul(l)));return b.validate(),b}CalculateRecoveryFactor(e,t){for(let r=0;r<4;r++){let i;try{i=this.RecoverPublicKey(r,t)}catch{continue}if(e.eq(i))return r}throw Error("Unable to find valid recovery factor")}}class eK{K;V;constructor(e,t){if(e=eI(e,"hex"),t=eI(t,"hex"),e.length<32)throw Error("Not enough entropy. Minimum is 256 bits");const r=e.concat(t);this.K=Array(32),this.V=Array(32);for(let e=0;e<32;e++)this.K[e]=0,this.V[e]=1;this.update(r)}hmac(){return new ed(this.K)}update(e){let t=this.hmac().update(this.V).update([0]);void 0!==e&&(t=t.update(e)),this.K=t.digest(),this.V=this.hmac().update(this.V).digest(),void 0!==e&&(this.K=this.hmac().update(this.V).update([1]).update(e).digest(),this.V=this.hmac().update(this.V).digest())}generate(e){let t=[];for(;t.length<e;)this.V=this.hmac().update(this.V).digest(),t=t.concat(this.V);let r=t.slice(0,e);return this.update(),eE(r)}}function ez(e,t,r=new eV){let i=8*e.byteLength()-r.n.bitLength();return(i>0&&e.iushrn(i),null===t&&e.cmp(r.n)>=0)?e.sub(r.n):e}let eW=(e,t,i=!1,n)=>{if("function"==typeof BigInt){let d=BigInt(0),l=BigInt(1),p=BigInt(2),b=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141"),y=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F"),g={x:BigInt("0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798"),y:BigInt("0x483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8")},m=BigInt("0x"+e.toString(16)),w=BigInt("0x"+t.toString(16));if(w<=d||w>=b)throw Error("Invalid private key");function a(e,t){let r=e.toString(16).padStart(2*t,"0"),i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=parseInt(r.substr(2*e,2),16);return i}let v=32,_=a(w,32),x=a(m,v),S=new eK(Array.from(_),Array.from(x)),k=b-l,E=0;function o(e,t,r=!0){let i=e.toString(2).length-t.toString(2).length;return(i>0&&(e>>=BigInt(i)),!r&&e>=t)?e-t:e}function s(e){return"function"==typeof e?BigInt("0x"+e(E).toString(16)):null!=e&&r.isBN(e)?BigInt("0x"+e.toString(16)):BigInt("0x"+S.generate(v))}function f(e,t){return(e%t+t)%t}function c(e,t){let r=l,i=d,n=f(e,t),a=t;for(;n>l;){let e=a/n,t=i-r*e,o=a-n*e;i=r,r=t,a=n,n=o}return f(r,t)}function u(e,t){let r;if(null===e)return t;if(null===t)return e;if(e.x===t.x&&e.y===f(-t.y,y))return null;if(e.x===t.x&&e.y===t.y){if(e.y===d)return null;let t=f(BigInt(3)*e.x*e.x,y);r=f(t*c(p*e.y,y),y)}else{let i=f(t.y-e.y,y);r=f(i*c(t.x-e.x,y),y)}let i=f(r*r-e.x-t.x,y),n=f(r*(e.x-i)-e.y,y);return{x:i,y:n}}function h(e,t){let r=t,i=null;for(;e>BigInt(0);)e%BigInt(2)===BigInt(1)&&(i=null===i?r:u(i,r)??i),r=u(r,r)??r,e>>=BigInt(1);if(null===i)throw Error("Scalar multiplication resulted in an invalid point.");return i}let I=!1;for(;!I;){I=!0,E+=2;let e=s(n);if((e=o(e,b,!0))<=l||e>=k)if(!(n instanceof r))continue;else throw Error("Invalid fixed custom K value (must be more than 1 and less than N-1)");let t=h(e,g);if(null===t)if(!(n instanceof r))continue;else throw Error("Invalid fixed custom K value (must not create a point at infinity when multiplied by the generator point)");let a=f(t.x,b);if(a===d)if(!(n instanceof r))continue;else throw Error("Invalid fixed custom K value (when multiplied by G, the resulting x coordinate mod N must not be zero)");let u=c(e,b),y=f(a*w,b),v=f(u*(m+y),b);if(v===d)if(!(n instanceof r))continue;else throw Error("Invalid fixed custom K value (when used with the key, it cannot create a zero value for S)");return i&&v>b/p&&(v=b-v),new eH(new r(a.toString(16),16),new r(v.toString(16),16))}}else{let a=new eV;e=ez(e);let o=a.n.byteLength(),s=new eK(t.toArray("be",o),e.toArray("be",o)),f=a.n.subn(1);for(let c=0;;c++){let u="function"==typeof n?n(c):r.isBN(n)?n:new r(s.generate(o),16);if(null!=u)u=ez(u,!0);else throw Error("k is undefined");if(0>=u.cmpn(1)||u.cmp(f)>=0)if(!r.isBN(n))continue;else throw Error("Invalid fixed custom K value (must be more than 1 and less than N-1)");let h=a.g.mul(u);if(h.isInfinity())if(!r.isBN(n))continue;else throw Error("Invalid fixed custom K value (must not create a point at infinity when multiplied by the generator point)");let d=h.getX().umod(a.n);if(0===d.cmpn(0))if(!r.isBN(n))continue;else throw Error("Invalid fixed custom K value (when multiplied by G, the resulting x coordinate mod N must not be zero)");let l=u.invm(a.n).mul(d.mul(t).iadd(e));if(0===(l=l.umod(a.n)).cmpn(0))if(!r.isBN(n))continue;else throw Error("Invalid fixed custom K value (when used with the key, it cannot create a zero value for S)");return i&&l.cmp(a.n.ushrn(1))>0&&(l=a.n.sub(l)),new eH(d,l)}}throw Error("Failed to generate a valid signature")},e$=(e,t,r)=>{if("function"==typeof BigInt){let i=BigInt(0),n=BigInt(1),a=BigInt(2),o=BigInt(3),s=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F"),f=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141"),c={x:BigInt("0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798"),y:BigInt("0x483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8")},u=(e,t)=>(e%t+t)%t,h=(e,t)=>{let[r,a]=[e,t],[o,s]=[BigInt(1),BigInt(0)];for(;a!==i;){let e=r/a;[r,a]=[a,r-e*a],[o,s]=[s,o-e*s]}return r>n?i:u(o,t)},d=(e,t,r)=>u(e*t,r),l=(e,t,r)=>u(e-t,r),p=BigInt(4),b=BigInt(8),y=e=>{let{X:t,Y:r,Z:f}=e;if(r===i)return{X:i,Y:n,Z:i};let c=d(r,r,s),u=d(p,d(t,c,s),s),h=d(o,d(t,t,s),s),y=l(d(h,h,s),d(a,u,s),s),g=l(d(h,l(u,y,s),s),d(b,d(c,c,s),s),s);return{X:y,Y:g,Z:d(a,d(r,f,s),s)}},g=(e,t)=>{if(e.Z===i)return t;if(t.Z===i)return e;let r=d(e.Z,e.Z,s),o=d(t.Z,t.Z,s),f=d(e.X,o,s),c=d(t.X,r,s),u=d(e.Y,d(o,t.Z,s),s),h=d(t.Y,d(r,e.Z,s),s),p=l(c,f,s),b=l(h,u,s);if(p===i)if(b===i)return y(e);else return{X:i,Y:n,Z:i};let g=d(p,p,s),m=d(p,g,s),w=d(f,g,s),v=l(l(d(b,b,s),m,s),d(a,w,s),s),_=l(d(b,l(w,v,s),s),d(u,m,s),s);return{X:v,Y:_,Z:d(p,d(e.Z,t.Z,s),s)}},m=(e,t)=>{let r={X:t.x,Y:t.y,Z:n},a={X:i,Y:n,Z:i},o=e.toString(2);for(let e=0;e<o.length;e++)a=y(a),"1"===o[e]&&(a=g(a,r));return a},w=(e,t,r)=>{let{r:n,s:a}=r,o=e;if(n<=i||n>=f||a<=i||a>=f)return!1;let l=h(a,f);if(l===i)return!1;let p=d(o,l,f),b=d(n,l,f),y=g(m(p,c),m(b,t));if(y.Z===i)return!1;let w=h(y.Z,s);if(w===i)return!1;let v=d(w,w,s);return u(d(y.X,v,s),f)===n},v=BigInt("0x"+e.toString(16));if(null==r.x||null==r.y)throw Error("Invalid public key: missing coordinates.");return w(v,{x:BigInt("0x"+r.x.toString(16)),y:BigInt("0x"+r.y.toString(16))},{r:BigInt("0x"+t.r.toString(16)),s:BigInt("0x"+t.s.toString(16))})}{let i=new eV;e=ez(e);let n=t.r,a=t.s;if(0>n.cmpn(1)||n.cmp(i.n)>=0||0>a.cmpn(1)||a.cmp(i.n)>=0)return!1;let o=a.invm(i.n),s=o.mul(e).umod(i.n),f=o.mul(n).umod(i.n),c=i.g.jmulAdd(s,r,f);return!c.isInfinity()&&c.eqXToP(n)}};class eG extends eq{static fromPrivateKey(e){let t=new eV().g.mul(e);return new eG(t.x,t.y)}static fromString(e){let t=eq.fromString(e);return new eG(t.x,t.y)}static fromDER(e){let t=eq.fromDER(e);return new eG(t.x,t.y)}constructor(e,t=null,r=!0){if(e instanceof eq)super(e.getX(),e.getY());else{if(null===t&&r&&"string"==typeof e&&(66===e.length||130===e.length))throw Error('You are using the "new PublicKey()" constructor with a DER hex string. You need to use "PublicKey.fromString()" instead.');super(e,t,r)}}deriveSharedSecret(e){if(!this.validate())throw Error("Public key not valid for ECDH secret derivation");return this.mul(e)}verify(e,t,i){return e$(new r(eg(e,i),16),t,this)}toDER(e){return"hex"===e?this.encode(!0,e):this.encode(!0)}toHash(e){let t=ev(this.encode(!0));return"hex"===e?eE(t):t}toAddress(e=[0]){if("string"==typeof e)if("testnet"===e||"test"===e)e=[111];else if("mainnet"===e||"main"===e)e=[0];else throw Error(`Invalid prefix ${e}`);return eD(this.toHash(),e)}deriveChild(e,t){let i=this.deriveSharedSecret(e),n=eI(t,"utf8"),a=e_(i.encode(!0),n),o=new eV().g.mul(new r(a)),s=this.add(o);return new eG(s.x,s.y)}static fromMsgHashAndCompactSignature(e,t,i){let n=eI(t,i);if(65!==n.length)throw Error("Invalid Compact Signature");let a=n[0];if(a<27||a>=35)throw Error("Invalid Compact Byte");let o=n[0]-27;return o>3&&(o-=4),new eH(new r(n.slice(1,33)),new r(n.slice(33,65))).RecoverPublicKey(o,e)}}class eX{_rand;constructor(){const t=()=>{throw Error("No secure random number generator is available in this environment.")};if(this._rand=t,"object"==typeof self)self.crypto?.getRandomValues?this._rand=e=>{let t=new Uint8Array(e);return self.crypto.getRandomValues(t),[...t]}:this._rand=t;else try{const t=e.r(86914);"function"==typeof t.randomBytes&&(this._rand=e=>[...t.randomBytes(e)])}catch{this._rand=t}}generate(e){return this._rand(e)}}let eY=null,eJ=e=>(null==eY&&(eY=new eX),eY.generate(e));class eZ{x;y;constructor(e,t){const r=new eV().p;this.x=e.umod(r),this.y=t.umod(r)}toString(){return eB(this.x.toArray())+"."+eB(this.y.toArray())}static fromString(e){let[t,i]=e.split(".");return new eZ(new r(eC(t)),new r(eC(i)))}}class eQ{points;threshold;constructor(e,t){this.points=e,this.threshold=t??e.length}static fromPrivateKey(e,t){let i=new eV().p,n=[new eZ(new r(0),new r(e.toArray()))];for(let e=1;e<t;e++){let e=new r(eJ(32)).umod(i),t=new r(eJ(32)).umod(i);n.push(new eZ(e,t))}return new eQ(n)}valueAt(e){let t=new eV().p,i=new r(0);for(let r=0;r<this.threshold;r++){let n=this.points[r].y;for(let i=0;i<this.threshold;i++)if(r!==i){let a=this.points[i].x,o=this.points[r].x,s=e.sub(a).umod(t),f=o.sub(a).umod(t).invm(t),c=s.mul(f).umod(t);n=n.mul(c).umod(t)}i=i.add(n).umod(t)}return i}}class e0{points;threshold;integrity;constructor(e,t,r){this.points=e,this.threshold=t,this.integrity=r}static fromBackupFormat(e){let t=0,r="";return new e0(e.map((e,i)=>{let n=e.split(".");if(4!==n.length)throw Error("Invalid share format in share "+i.toString()+'. Expected format: "x.y.t.i" - received '+e);let[a,o,s,f]=n;if(void 0===s)throw Error("Threshold not found in share "+i.toString());if(void 0===f)throw Error("Integrity not found in share "+i.toString());let c=parseInt(s);if(0!==i&&t!==c)throw Error("Threshold mismatch in share "+i.toString());if(0!==i&&r!==f)throw Error("Integrity mismatch in share "+i.toString());return t=c,r=f,eZ.fromString([a,o].join("."))}),t,r)}toBackupFormat(){return this.points.map(e=>e.toString()+"."+this.threshold.toString()+"."+this.integrity)}}class e1 extends r{static fromRandom(){return new e1(eJ(32))}static fromString(e,t="hex"){return new e1(super.fromString(e,t).toArray())}static fromHex(e){return new e1(super.fromHex(e,"big"))}static fromWif(e,t=1){let r=eL(e,void 0,t);if(33!==r.data.length)throw Error("Invalid WIF length");if(1!==r.data[32])throw Error("Invalid WIF padding");return new e1(r.data.slice(0,32))}constructor(e=0,t=10,i="be",n="apply"){if(e instanceof r?(super(),e.copy(this)):super(e,t,i),"nocheck"!==n){const e=this.checkInField();if(!e.inField){if("error"===n)throw Error("Input is out of field");r.move(this,e.modN)}}}checkInField(){let e=new eV,t=this.mod(e.n);return{inField:0===this.cmp(t),modN:t}}isValid(){return this.checkInField().inField}sign(e,t,i=!0,n){return eW(new r(eg(e,t),16),this,i,n)}verify(e,t,i){return e$(new r(eg(e,i),16),t,this.toPublicKey())}toPublicKey(){let e=new eV().g.mul(this);return new eG(e.x,e.y)}toWif(e=[128]){if(!this.isValid())throw Error("Value is out of field");return eD([...this.toArray("be",32),1],e)}toAddress(e=[0]){return this.toPublicKey().toAddress(e)}toHex(){return super.toHex(32)}toString(e="hex",t=64){return super.toString(e,t)}deriveSharedSecret(e){if(!e.validate())throw Error("Public key not valid for ECDH secret derivation");return e.mul(this)}deriveChild(e,t){let i=this.deriveSharedSecret(e),n=eI(t,"utf8"),a=e_(i.encode(!0),n),o=new eV;return new e1(this.add(new r(a)).mod(o.n).toArray())}toKeyShares(e,t){if("number"!=typeof e||"number"!=typeof t)throw Error("threshold and totalShares must be numbers");if(e<2)throw Error("threshold must be at least 2");if(t<2)throw Error("totalShares must be at least 2");if(e>t)throw Error("threshold should be less than or equal to totalShares");let i=eQ.fromPrivateKey(this,e),n=[];for(let e=0;e<t;e++){let e=new r(e1.fromRandom().toArray()),t=i.valueAt(e);n.push(new eZ(e,t))}return new e0(n,e,this.toPublicKey().toHash("hex").slice(0,8))}toBackupShares(e,t){return this.toKeyShares(e,t).toBackupFormat()}static fromBackupShares(e){return e1.fromKeyShares(e0.fromBackupFormat(e))}static fromKeyShares(e){let{points:t,threshold:i,integrity:n}=e;if(i<2)throw Error("threshold must be at least 2");if(t.length<i)throw Error(`At least ${i} shares are required to reconstruct the private key`);for(let e=0;e<i;e++)for(let r=e+1;r<i;r++)if(t[e].x.eq(t[r].x))throw Error("Duplicate share detected, each must be unique.");let a=new e1(new eQ(t,i).valueAt(new r(0)).toArray());if(a.toPublicKey().toHash("hex").slice(0,8)!==n)throw Error("Integrity hash mismatch");return a}}let e2=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),e3=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]].map(e=>new Uint8Array(e)),e6=new Uint8Array(256),e8=new Uint8Array(256);for(let e=0;e<256;e++){let t=(e<<1^27*((128&e)!=0))&255;e6[e]=t,e8[e]=t^e}function e4(e,t,r){for(let i=0;i<4;i++){let n=t[r+i];for(let t=0;t<4;t++)e[t][i]^=n[t]}}function e5(e){for(let t=0;t<4;t++)for(let r=0;r<4;r++)e[t][r]=e2[e[t][r]]}function e9(e){for(let t=0;t<4;t++)e[t]=e2[e[t]]}function e7(e){let t=e[0];e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=t}function te(e){let t=e[1][0];e[1][0]=e[1][1],e[1][1]=e[1][2],e[1][2]=e[1][3],e[1][3]=t,t=e[2][0];let r=e[2][1];e[2][0]=e[2][2],e[2][1]=e[2][3],e[2][2]=t,e[2][3]=r,t=e[3][3],e[3][3]=e[3][2],e[3][2]=e[3][1],e[3][1]=e[3][0],e[3][0]=t}function tt(e){for(let t=0;t<4;t++){let r=e[0][t],i=e[1][t],n=e[2][t],a=e[3][t];e[0][t]=e6[r]^e8[i]^n^a,e[1][t]=r^e6[i]^e8[n]^a,e[2][t]=r^i^e6[n]^e8[a],e[3][t]=e8[r]^i^n^e6[a]}}function tr(e,t){let r=t.length/4,i=[];for(let e=0;e<t.length;e++)e%4==0&&i.push([]),i[e>>2].push(t[e]);for(let t=r;t<4*e;t++){i[t]=[];let e=i[t-1].slice();if(t%r==0){e7(e),e9(e);let i=e3[t/r];for(let t=0;t<4;t++)e[t]^=i[t]}else r>6&&t%r==4&&e9(e);for(let n=0;n<4;n++)i[t][n]=i[t-r][n]^e[n]}return i}function ti(e,t){let r,i,n,a,o=[[],[],[],[]],s=[],f=Array.from(t);if(f.length<=16){for(;f.length<16;)f.unshift(0);a=11}else if(f.length<=24){for(;f.length<24;)f.unshift(0);a=13}else if(t.length<=32){for(;f.length<32;)f.unshift(0);a=15}else throw Error("Illegal key length: "+String(t.length));let c=tr(a,f);for(let t=0;t<4;t++)o[0][t]=e[4*t],o[1][t]=e[4*t+1],o[2][t]=e[4*t+2],o[3][t]=e[4*t+3];for(e4(o,c,0),n=1;n<a;n++)e5(o),te(o),n+1<a&&tt(o),e4(o,c,4*n);for(r=0;r<4;r++)for(i=0;i<4;i++)s.push(o[i][r]);return s}let tn=function(e){return[(0xff000000&e)>>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e]},ta=function(e){return Array(e).fill(0)},to=[225].concat(ta(15)),ts=function(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r]},tf=function(e){let t,r=0,i=0;for(t=0;t<e.length;t++)i=r,r=1&e[t],e[t]=e[t]>>1,0!==i&&(e[t]=128|e[t]);return e},tc=function(e,t){let r=t.slice(),i=ta(16);for(let t=0;t<16;t++)for(let n=7;n>=0;n--)(e[t]&1<<n)!=0&&ts(i,r),(1&r[15])!=0?(tf(r),ts(r,to)):tf(r);return i},tu=function(e){let t,r=e.slice();for(t=15;11!==t;t--)if(r[t]=r[t]+1,256===r[t])r[t]=0;else break;return r};function th(e,t){let r=ta(16);for(let i=0;i<e.length;i+=16){let n=r.slice();for(let t=0;t<16;t++)n[t]^=e[i+t]??0;r=tc(n,t)}return r}function td(e,t,r){if(0===e.length)return[];let i=Array(e.length),n=t,a=0,o=Math.ceil(e.length/16);for(let t=0;t<o;t++){let s=ti(n,r),f=Math.min(16,e.length-a);for(let t=0;t<f;t++)i[a]=e[a]^s[t],a++;t+1<o&&(n=tu(n))}return i}function tl(e,t,r,i){let n,a,o=ti(ta(16),i);n=[...r],12===r.length?n=n.concat(ta(3)).concat([1]):(r.length%16!=0&&(n=n.concat(ta(16-r.length%16))),n=th((n=n.concat(ta(8))).concat(ta(4)).concat(tn(8*r.length)),o));let s=td(e,tu(n),i);return a=t.slice(),0===t.length?a=a.concat(ta(16)):t.length%16!=0&&(a=a.concat(ta(16-t.length%16))),a=a.concat(s),0===s.length?a=a.concat(ta(16)):s.length%16!=0&&(a=a.concat(ta(16-s.length%16))),a=a.concat(ta(4)).concat(tn(8*t.length)).concat(ta(4)).concat(tn(8*s.length)),{result:s,authenticationTag:td(th(a,o),n,i)}}function tp(e,t,r,i,n){let a,o,s=ti(ta(16),n);a=[...r],12===r.length?a=a.concat(ta(3)).concat([1]):(r.length%16!=0&&(a=a.concat(ta(16-r.length%16))),a=th((a=a.concat(ta(8))).concat(ta(4)).concat(tn(8*r.length)),s));let f=td(e,tu(a),n);return(o=t.slice(),0===t.length?o=o.concat(ta(16)):t.length%16!=0&&(o=o.concat(ta(16-t.length%16))),o=o.concat(e),0===e.length?o=o.concat(ta(16)):e.length%16!=0&&(o=o.concat(ta(16-e.length%16))),td(th(o=o.concat(ta(4)).concat(tn(8*t.length)).concat(ta(4)).concat(tn(8*e.length)),s),a,n).join()!==i.join())?null:f}class tb extends r{static fromRandom(){return new tb(eJ(32))}encrypt(e,t){let r=eJ(32),{result:i,authenticationTag:n}=tl(e=eI(e,t),[],r,this.toArray("be",32));return eN([...r,...i,...n],t)}decrypt(e,t){let r=(e=eI(e,t)).slice(0,32),i=e.slice(32),n=i.slice(-16),a=tp(i.slice(0,-16),[],r,n,this.toArray());if(null===a)throw Error("Decryption failed!");return eN(a,t)}}class ty extends eH{static SIGHASH_ALL=1;static SIGHASH_NONE=2;static SIGHASH_SINGLE=3;static SIGHASH_FORKID=64;static SIGHASH_ANYONECANPAY=128;scope;static format(e){let t={sourceTXID:e.sourceTXID,sourceOutputIndex:e.sourceOutputIndex,sequence:e.inputSequence},r=[...e.otherInputs];r.splice(e.inputIndex,0,t);let i=()=>{let e=new eF;for(let t of r){if(void 0===t.sourceTXID){if(null==t.sourceTransaction)throw Error("Missing sourceTransaction for input");e.write(t.sourceTransaction.hash())}else e.writeReverse(eI(t.sourceTXID,"hex"));e.writeUInt32LE(t.sourceOutputIndex)}return ew(e.toArray())},n=()=>{let e=new eF;for(let t of r){let r=t.sequence??0xffffffff;e.writeUInt32LE(r)}return ew(e.toArray())};function a(t){let r=new eF;if(void 0===t)for(let t of e.outputs){let e=t.satoshis??0;r.writeUInt64LE(e);let i=t.lockingScript?.toBinary()??[];r.writeVarIntNum(i.length),r.write(i)}else{let i=e.outputs[t];if(void 0===i)throw Error(`Output at index ${t} does not exist`);let n=i.satoshis??0;r.writeUInt64LE(n);let a=i.lockingScript?.toBinary()??[];r.writeVarIntNum(a.length),r.write(a)}return ew(r.toArray())}let o=Array(32).fill(0),s=Array(32).fill(0),f=Array(32).fill(0);(e.scope&ty.SIGHASH_ANYONECANPAY)==0&&(o=i()),(e.scope&ty.SIGHASH_ANYONECANPAY)==0&&(31&e.scope)!==ty.SIGHASH_SINGLE&&(31&e.scope)!==ty.SIGHASH_NONE&&(s=n()),(31&e.scope)!==ty.SIGHASH_SINGLE&&(31&e.scope)!==ty.SIGHASH_NONE?f=a():(31&e.scope)===ty.SIGHASH_SINGLE&&e.inputIndex<e.outputs.length&&(f=a(e.inputIndex));let c=new eF;c.writeInt32LE(e.transactionVersion),c.write(o),c.write(s),c.writeReverse(eI(e.sourceTXID,"hex")),c.writeUInt32LE(e.sourceOutputIndex);let u=e.subscript.toBinary();c.writeVarIntNum(u.length),c.write(u),c.writeUInt64LE(e.sourceSatoshis);let h=t.sequence;return c.writeUInt32LE(h),c.write(f),c.writeUInt32LE(e.lockTime),c.writeUInt32LE(e.scope>>>0),c.toArray()}static fromChecksigFormat(e){if(0===e.length)return new ty(new r(1),new r(1),1);let t=e[e.length-1],i=e.slice(0,e.length-1),n=eH.fromDER(i);return new ty(n.r,n.s,t)}constructor(e,t,r){super(e,t),this.scope=r}hasLowS(){return!(this.s.ltn(1)||this.s.gt(new r("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))}toChecksigFormat(){return[...this.toDER(),this.scope]}}class tg{curve;constructor(){this.curve=new eV}generateProof(e,t,r,i){let n=e1.fromRandom(),a=n.toPublicKey(),o=r.mul(n),s=this.computeChallenge(t,r,i,o,a);return{R:a,SPrime:o,z:n.add(s.mul(e)).umod(this.curve.n)}}verifyProof(e,t,r,i){let{R:n,SPrime:a,z:o}=i,s=this.computeChallenge(e,t,r,a,n),f=this.curve.g.mul(o),c=n.add(e.mul(s));if(!f.eq(c))return!1;let u=t.mul(o),h=a.add(r.mul(s));return!!u.eq(h)}computeChallenge(e,t,i,n,a){return new r(eg([...e.encode(!0),...t.encode(!0),...i.encode(!0),...n.encode(!0),...a.encode(!0)])).umod(this.curve.n)}}e.s([],56734);let tm={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_SPLIT:127,OP_LEFT:128,OP_NUM2BIN:128,OP_RIGHT:129,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_NOP11:186,OP_NOP12:187,OP_NOP13:188,OP_NOP14:189,OP_NOP15:190,OP_NOP16:191,OP_NOP17:192,OP_NOP18:193,OP_NOP19:194,OP_NOP20:195,OP_NOP21:196,OP_NOP22:197,OP_NOP23:198,OP_NOP24:199,OP_NOP25:200,OP_NOP26:201,OP_NOP27:202,OP_NOP28:203,OP_NOP29:204,OP_NOP30:205,OP_NOP31:206,OP_NOP32:207,OP_NOP33:208,OP_NOP34:209,OP_NOP35:210,OP_NOP36:211,OP_NOP37:212,OP_NOP38:213,OP_NOP39:214,OP_NOP40:215,OP_NOP41:216,OP_NOP42:217,OP_NOP43:218,OP_NOP44:219,OP_NOP45:220,OP_NOP46:221,OP_NOP47:222,OP_NOP48:223,OP_NOP49:224,OP_NOP50:225,OP_NOP51:226,OP_NOP52:227,OP_NOP53:228,OP_NOP54:229,OP_NOP55:230,OP_NOP56:231,OP_NOP57:232,OP_NOP58:233,OP_NOP59:234,OP_NOP60:235,OP_NOP61:236,OP_NOP62:237,OP_NOP63:238,OP_NOP64:239,OP_NOP65:240,OP_NOP66:241,OP_NOP67:242,OP_NOP68:243,OP_NOP69:244,OP_NOP70:245,OP_NOP71:246,OP_NOP72:247,OP_NOP73:248,OP_NOP77:252,OP_SMALLDATA:249,OP_SMALLINTEGER:250,OP_PUBKEYS:251,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};for(let e in tm)tm[tm[e]]=e;let tw=tm;e.s(["default",0,tw],77654);class tv{chunks;static fromASM(e){let t=[],r=e.split(" "),i=0;for(;i<r.length;){let e,n=r[i],a=0;if(n.startsWith("OP_")&&void 0!==tw[n]&&(e=n,a=tw[n]),"0"===n)a=0,t.push({op:a}),i+=1;else if("-1"===n)a=tw.OP_1NEGATE,t.push({op:a}),i+=1;else if(void 0===e){let e=r[i];e.length%2!=0&&(e="0"+e);let n=eI(e,"hex");if(eN(n,"hex")!==e)throw Error("invalid hex string in script");let o=n.length;o>=0&&o<tw.OP_PUSHDATA1?a=o:o<256?a=tw.OP_PUSHDATA1:o<65536?a=tw.OP_PUSHDATA2:o<0x100000000&&(a=tw.OP_PUSHDATA4),t.push({data:n,op:a}),i+=1}else a===tw.OP_PUSHDATA1||a===tw.OP_PUSHDATA2||a===tw.OP_PUSHDATA4?(t.push({data:eI(r[i+2],"hex"),op:a}),i+=3):(t.push({op:a}),i+=1)}return new tv(t)}static fromHex(e){if(0===e.length)return tv.fromBinary([]);if(e.length%2!=0)throw Error("There is an uneven number of characters in the string which suggests it is not hex encoded.");if(!/^[0-9a-fA-F]+$/.test(e))throw Error("Some elements in this string are not hex encoded.");return tv.fromBinary(eI(e,"hex"))}static fromBinary(e){let t=[],r=0,i=new eU(e=[...e]);for(;!i.eof();){let e=i.readUInt8();if(e===tw.OP_RETURN&&0===r){t.push({op:e,data:i.read()});break}e===tw.OP_IF||e===tw.OP_NOTIF||e===tw.OP_VERIF||e===tw.OP_VERNOTIF?r++:e===tw.OP_ENDIF&&r--;let n=0,a=[];if(e>0&&e<tw.OP_PUSHDATA1)n=e,t.push({data:i.read(n),op:e});else if(e===tw.OP_PUSHDATA1){try{n=i.readUInt8(),a=i.read(n)}catch{i.read()}t.push({data:a,op:e})}else if(e===tw.OP_PUSHDATA2){try{n=i.readUInt16LE(),a=i.read(n)}catch{i.read()}t.push({data:a,op:e})}else if(e===tw.OP_PUSHDATA4){try{n=i.readUInt32LE(),a=i.read(n)}catch{i.read()}t.push({data:a,op:e})}else t.push({op:e})}return new tv(t)}constructor(e=[]){this.chunks=e}toASM(){let e="";for(let t=0;t<this.chunks.length;t++){let r=this.chunks[t];e+=this._chunkToString(r)}return e.slice(1)}toHex(){return eN(this.toBinary(),"hex")}toBinary(){let e=new eF;for(let t=0;t<this.chunks.length;t++){let r=this.chunks[t],i=r.op;if(e.writeUInt8(i),i===tw.OP_RETURN&&null!=r.data){e.write(r.data);break}null!=r.data&&(i<tw.OP_PUSHDATA1?e.write(r.data):i===tw.OP_PUSHDATA1?(e.writeUInt8(r.data.length),e.write(r.data)):i===tw.OP_PUSHDATA2?(e.writeUInt16LE(r.data.length),e.write(r.data)):i===tw.OP_PUSHDATA4&&(e.writeUInt32LE(r.data.length),e.write(r.data)))}return e.toArray()}writeScript(e){return this.chunks=this.chunks.concat(e.chunks),this}writeOpCode(e){return this.chunks.push({op:e}),this}setChunkOpCode(e,t){return this.chunks[e]={op:t},this}writeBn(e){if(e.cmpn(0)===tw.OP_0)this.chunks.push({op:tw.OP_0});else if(0===e.cmpn(-1))this.chunks.push({op:tw.OP_1NEGATE});else if(e.cmpn(1)>=0&&0>=e.cmpn(16))this.chunks.push({op:e.toNumber()+tw.OP_1-1});else{let t=e.toSm("little");this.writeBin(t)}return this}writeBin(e){let t;if(e.length>0&&e.length<tw.OP_PUSHDATA1)t=e.length;else if(0===e.length)t=tw.OP_0;else if(e.length<256)t=tw.OP_PUSHDATA1;else if(e.length<65536)t=tw.OP_PUSHDATA2;else if(e.length<0x100000000)t=tw.OP_PUSHDATA4;else throw Error("You can't push that much data");return this.chunks.push({data:e,op:t}),this}writeNumber(e){return this.writeBn(new r(e)),this}removeCodeseparators(){let e=[];for(let t=0;t<this.chunks.length;t++)this.chunks[t].op!==tw.OP_CODESEPARATOR&&e.push(this.chunks[t]);return this.chunks=e,this}findAndDelete(e){let t=e.toHex();for(let e=0;e<this.chunks.length;e++)t===new tv([this.chunks[e]]).toHex()&&this.chunks.splice(e,1);return this}isPushOnly(){for(let e=0;e<this.chunks.length;e++)if(this.chunks[e].op>tw.OP_16)return!1;return!0}isLockingScript(){throw Error("Not implemented")}isUnlockingScript(){throw Error("Not implemented")}_chunkToString(e){let t=e.op,r="";if(void 0===e.data){let e=tw[t];r=`${r} ${e}`}else r=`${r} ${eE(e.data)}`;return r}}e.s(["default",()=>tv],74284);class t_ extends tv{isLockingScript(){return!0}isUnlockingScript(){return!1}}e.s(["default",()=>t_],23311);class tx extends tv{isLockingScript(){return!1}isUnlockingScript(){return!0}}e.s(["default",()=>tx],1362);let tS=0x40000000,tk=0x7fffffff,tE=!0,tI=!0,tA=!0,tM=Object.freeze(new r(-1).toScriptNum()),tP=Object.freeze(Array.from({length:17},(e,t)=>Object.freeze(new r(t).toScriptNum())));function tO(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function tN(e,t=Number.MAX_SAFE_INTEGER){return!(e.length>t)&&(!(e.length>0)||(127&e[e.length-1])!=0||!(e.length<=1)&&(128&e[e.length-2])!=0)}function tR(e){if(e.length<9||e.length>73||48!==e[0]||e[1]!==e.length-3)return!1;let t=e[2],r=e[3];if(2!==t||0===r||5+r>=e.length)return!1;let i=4+r,n=e[i],a=e[i+1];if(2!==n||0===a||(128&e[4])!=0||r>1&&0===e[4]&&(128&e[5])==0)return!1;let o=i+2;return(128&e[o])==0&&(!(a>1)||0!==e[o]||(128&e[o+1])!=0)&&r+a+7===e.length}function tT(e){return e===tw.OP_2MUL||e===tw.OP_2DIV||e===tw.OP_VERIF||e===tw.OP_VERNOTIF||e===tw.OP_VER}function tC(e){let t=e.data,r=e.op;return!Array.isArray(t)||(0===t.length?r===tw.OP_0:1===t.length&&t[0]>=1&&t[0]<=16?r===tw.OP_1+(t[0]-1):1===t.length&&129===t[0]?r===tw.OP_1NEGATE:t.length<=75?r===t.length:t.length<=255?r===tw.OP_PUSHDATA1:!(t.length<=65535)||r===tw.OP_PUSHDATA2)}class tB{sourceTXID;sourceOutputIndex;sourceSatoshis;lockingScript;transactionVersion;otherInputs;outputs;inputIndex;unlockingScript;inputSequence;lockTime;context;programCounter;lastCodeSeparator;stack;altStack;ifStack;memoryLimit;stackMem;altStackMem;constructor(e){this.sourceTXID=e.sourceTXID,this.sourceOutputIndex=e.sourceOutputIndex,this.sourceSatoshis=e.sourceSatoshis,this.lockingScript=e.lockingScript,this.transactionVersion=e.transactionVersion,this.otherInputs=e.otherInputs,this.outputs=e.outputs,this.inputIndex=e.inputIndex,this.unlockingScript=e.unlockingScript,this.inputSequence=e.inputSequence,this.lockTime=e.lockTime,this.memoryLimit=e.memoryLimit??32e6,this.stack=[],this.altStack=[],this.ifStack=[],this.stackMem=0,this.altStackMem=0,this.reset()}reset(){this.context="UnlockingScript",this.programCounter=0,this.lastCodeSeparator=null,this.stack=[],this.altStack=[],this.ifStack=[],this.stackMem=0,this.altStackMem=0}ensureStackMem(e){this.stackMem+e>this.memoryLimit&&this.scriptEvaluationError("Stack memory usage has exceeded "+String(this.memoryLimit)+" bytes")}ensureAltStackMem(e){this.altStackMem+e>this.memoryLimit&&this.scriptEvaluationError("Alt stack memory usage has exceeded "+String(this.memoryLimit)+" bytes")}pushStack(e){this.ensureStackMem(e.length),this.stack.push(e),this.stackMem+=e.length}pushStackCopy(e){this.ensureStackMem(e.length);let t=e.slice();this.stack.push(t),this.stackMem+=t.length}popStack(){0===this.stack.length&&this.scriptEvaluationError("Attempted to pop from an empty stack.");let e=this.stack.pop();return this.stackMem-=e.length,e}stackTop(e=-1){return(0===this.stack.length||this.stack.length<Math.abs(e)||e>=0&&e>=this.stack.length)&&this.scriptEvaluationError(`Stack underflow accessing element at index ${e}. Stack length is ${this.stack.length}.`),this.stack[this.stack.length+e]}pushAltStack(e){this.ensureAltStackMem(e.length),this.altStack.push(e),this.altStackMem+=e.length}popAltStack(){0===this.altStack.length&&this.scriptEvaluationError("Attempted to pop from an empty alt stack.");let e=this.altStack.pop();return this.altStackMem-=e.length,e}checkSignatureEncoding(e){if(0===e.length)return!0;if(!tR(e))return this.scriptEvaluationError("The signature format is invalid."),!1;try{let t=ty.fromChecksigFormat(e);if(tA&&!t.hasLowS())return this.scriptEvaluationError("The signature must have a low S value."),!1;if((t.scope&ty.SIGHASH_FORKID)==0)return this.scriptEvaluationError("The signature must use SIGHASH_FORKID."),!1}catch(e){return this.scriptEvaluationError("The signature format is invalid."),!1}return!0}checkPublicKeyEncoding(e){if(0===e.length)return this.scriptEvaluationError("Public key is empty."),!1;if(e.length<33)return this.scriptEvaluationError("The public key is too short, it must be at least 33 bytes."),!1;if(4===e[0]){if(65!==e.length)return this.scriptEvaluationError("The non-compressed public key must be 65 bytes."),!1}else if(2!==e[0]&&3!==e[0])return this.scriptEvaluationError("The public key is in an unknown format."),!1;else if(33!==e.length)return this.scriptEvaluationError("The compressed public key must be 33 bytes."),!1;try{eG.fromDER(e)}catch(e){return this.scriptEvaluationError("The public key is in an unknown format."),!1}return!0}verifySignature(e,t,i){return e$(new r(ew(ty.format({sourceTXID:this.sourceTXID,sourceOutputIndex:this.sourceOutputIndex,sourceSatoshis:this.sourceSatoshis,transactionVersion:this.transactionVersion,otherInputs:this.otherInputs,outputs:this.outputs,inputIndex:this.inputIndex,subscript:i,inputSequence:this.inputSequence,lockTime:this.lockTime,scope:e.scope}))),e,t)}step(){if(this.stackMem>this.memoryLimit)return this.scriptEvaluationError("Stack memory usage has exceeded "+String(this.memoryLimit)+" bytes"),!1;if(this.altStackMem>this.memoryLimit)return this.scriptEvaluationError("Alt stack memory usage has exceeded "+String(this.memoryLimit)+" bytes"),!1;"UnlockingScript"===this.context&&this.programCounter>=this.unlockingScript.chunks.length&&(this.context="LockingScript",this.programCounter=0);let e="UnlockingScript"===this.context?this.unlockingScript:this.lockingScript;if(this.programCounter>=e.chunks.length)return!1;let t=e.chunks[this.programCounter],i=t.op;void 0===i&&this.scriptEvaluationError(`Missing opcode in ${this.context} at pc=${this.programCounter}.`),Array.isArray(t.data)&&t.data.length>tS&&this.scriptEvaluationError(`Data push > ${tS} bytes (pc=${this.programCounter}).`);let n=!this.ifStack.includes(!1);if(n&&tT(i)&&this.scriptEvaluationError(`This opcode is currently disabled. (Opcode: ${tw[i]}, PC: ${this.programCounter})`),n&&i>=0&&i<=tw.OP_PUSHDATA4)tE&&!tC(t)&&this.scriptEvaluationError(`This data is not minimally-encoded. (PC: ${this.programCounter})`),this.pushStack(Array.isArray(t.data)?t.data:[]);else if(n||i>=tw.OP_IF&&i<=tw.OP_ENDIF){let e,t,a,o,s,f,c,u,h,d,l,p,b,y,g,m,w,v,_,x,S,k,E,I,A,M;switch(i){case tw.OP_1NEGATE:this.pushStackCopy(tM);break;case tw.OP_0:this.pushStackCopy(tP[0]);break;case tw.OP_1:case tw.OP_2:case tw.OP_3:case tw.OP_4:case tw.OP_5:case tw.OP_6:case tw.OP_7:case tw.OP_8:case tw.OP_9:case tw.OP_10:case tw.OP_11:case tw.OP_12:case tw.OP_13:case tw.OP_14:case tw.OP_15:case tw.OP_16:p=i-(tw.OP_1-1),this.pushStackCopy(tP[p]);break;case tw.OP_NOP:case tw.OP_NOP2:case tw.OP_NOP3:case tw.OP_NOP1:case tw.OP_NOP4:case tw.OP_NOP5:case tw.OP_NOP6:case tw.OP_NOP7:case tw.OP_NOP8:case tw.OP_NOP9:case tw.OP_NOP10:case tw.OP_NOP11:case tw.OP_NOP12:case tw.OP_NOP13:case tw.OP_NOP14:case tw.OP_NOP15:case tw.OP_NOP16:case tw.OP_NOP17:case tw.OP_NOP18:case tw.OP_NOP19:case tw.OP_NOP20:case tw.OP_NOP21:case tw.OP_NOP22:case tw.OP_NOP23:case tw.OP_NOP24:case tw.OP_NOP25:case tw.OP_NOP26:case tw.OP_NOP27:case tw.OP_NOP28:case tw.OP_NOP29:case tw.OP_NOP30:case tw.OP_NOP31:case tw.OP_NOP32:case tw.OP_NOP33:case tw.OP_NOP34:case tw.OP_NOP35:case tw.OP_NOP36:case tw.OP_NOP37:case tw.OP_NOP38:case tw.OP_NOP39:case tw.OP_NOP40:case tw.OP_NOP41:case tw.OP_NOP42:case tw.OP_NOP43:case tw.OP_NOP44:case tw.OP_NOP45:case tw.OP_NOP46:case tw.OP_NOP47:case tw.OP_NOP48:case tw.OP_NOP49:case tw.OP_NOP50:case tw.OP_NOP51:case tw.OP_NOP52:case tw.OP_NOP53:case tw.OP_NOP54:case tw.OP_NOP55:case tw.OP_NOP56:case tw.OP_NOP57:case tw.OP_NOP58:case tw.OP_NOP59:case tw.OP_NOP60:case tw.OP_NOP61:case tw.OP_NOP62:case tw.OP_NOP63:case tw.OP_NOP64:case tw.OP_NOP65:case tw.OP_NOP66:case tw.OP_NOP67:case tw.OP_NOP68:case tw.OP_NOP69:case tw.OP_NOP70:case tw.OP_NOP71:case tw.OP_NOP72:case tw.OP_NOP73:case tw.OP_NOP77:break;case tw.OP_IF:case tw.OP_NOTIF:y=!1,n&&(this.stack.length<1&&this.scriptEvaluationError("OP_IF and OP_NOTIF require at least one item on the stack when they are used!"),e=this.popStack(),y=this.castToBool(e),i===tw.OP_NOTIF&&(y=!y)),this.ifStack.push(y);break;case tw.OP_ELSE:0===this.ifStack.length&&this.scriptEvaluationError("OP_ELSE requires a preceeding OP_IF."),this.ifStack[this.ifStack.length-1]=!this.ifStack[this.ifStack.length-1];break;case tw.OP_ENDIF:0===this.ifStack.length&&this.scriptEvaluationError("OP_ENDIF requires a preceeding OP_IF."),this.ifStack.pop();break;case tw.OP_VERIFY:this.stack.length<1&&this.scriptEvaluationError("OP_VERIFY requires at least one item to be on the stack."),t=this.stackTop(),(y=this.castToBool(t))||this.scriptEvaluationError("OP_VERIFY requires the top stack value to be truthy."),this.popStack();break;case tw.OP_RETURN:"UnlockingScript"===this.context?this.programCounter=this.unlockingScript.chunks.length:this.programCounter=this.lockingScript.chunks.length,this.ifStack=[],this.programCounter--;break;case tw.OP_TOALTSTACK:this.stack.length<1&&this.scriptEvaluationError("OP_TOALTSTACK requires at oeast one item to be on the stack."),this.pushAltStack(this.popStack());break;case tw.OP_FROMALTSTACK:this.altStack.length<1&&this.scriptEvaluationError("OP_FROMALTSTACK requires at least one item to be on the stack."),this.pushStack(this.popAltStack());break;case tw.OP_2DROP:this.stack.length<2&&this.scriptEvaluationError("OP_2DROP requires at least two items to be on the stack."),this.popStack(),this.popStack();break;case tw.OP_2DUP:this.stack.length<2&&this.scriptEvaluationError("OP_2DUP requires at least two items to be on the stack."),t=this.stackTop(-2),a=this.stackTop(-1),this.pushStackCopy(t),this.pushStackCopy(a);break;case tw.OP_3DUP:this.stack.length<3&&this.scriptEvaluationError("OP_3DUP requires at least three items to be on the stack."),t=this.stackTop(-3),a=this.stackTop(-2),o=this.stackTop(-1),this.pushStackCopy(t),this.pushStackCopy(a),this.pushStackCopy(o);break;case tw.OP_2OVER:this.stack.length<4&&this.scriptEvaluationError("OP_2OVER requires at least four items to be on the stack."),t=this.stackTop(-4),a=this.stackTop(-3),this.pushStackCopy(t),this.pushStackCopy(a);break;case tw.OP_2ROT:{this.stack.length<6&&this.scriptEvaluationError("OP_2ROT requires at least six items to be on the stack.");let e=this.popStack(),t=this.popStack(),r=this.popStack(),i=this.popStack(),n=this.popStack(),a=this.popStack();this.pushStack(i),this.pushStack(r),this.pushStack(t),this.pushStack(e),this.pushStack(a),this.pushStack(n);break}case tw.OP_2SWAP:{this.stack.length<4&&this.scriptEvaluationError("OP_2SWAP requires at least four items to be on the stack.");let e=this.popStack(),t=this.popStack(),r=this.popStack(),i=this.popStack();this.pushStack(t),this.pushStack(e),this.pushStack(i),this.pushStack(r);break}case tw.OP_IFDUP:this.stack.length<1&&this.scriptEvaluationError("OP_IFDUP requires at least one item to be on the stack."),t=this.stackTop(),this.castToBool(t)&&this.pushStackCopy(t);break;case tw.OP_DEPTH:this.pushStack(new r(this.stack.length).toScriptNum());break;case tw.OP_DROP:this.stack.length<1&&this.scriptEvaluationError("OP_DROP requires at least one item to be on the stack."),this.popStack();break;case tw.OP_DUP:this.stack.length<1&&this.scriptEvaluationError("OP_DUP requires at least one item to be on the stack."),this.pushStackCopy(this.stackTop());break;case tw.OP_NIP:this.stack.length<2&&this.scriptEvaluationError("OP_NIP requires at least two items to be on the stack."),a=this.popStack(),this.popStack(),this.pushStack(a);break;case tw.OP_OVER:this.stack.length<2&&this.scriptEvaluationError("OP_OVER requires at least two items to be on the stack."),this.pushStackCopy(this.stackTop(-2));break;case tw.OP_PICK:case tw.OP_ROLL:{this.stack.length<2&&this.scriptEvaluationError(`${tw[i]} requires at least two items to be on the stack.`),((p=(u=r.fromScriptNum(this.popStack(),tE)).toNumber())<0||p>=this.stack.length)&&this.scriptEvaluationError(`${tw[i]} requires the top stack element to be 0 or a positive number less than the current size of the stack.`);let e=this.stack[this.stack.length-1-p];i===tw.OP_ROLL?(this.stack.splice(this.stack.length-1-p,1),this.stackMem-=e.length,this.pushStack(e)):this.pushStackCopy(e);break}case tw.OP_ROT:this.stack.length<3&&this.scriptEvaluationError("OP_ROT requires at least three items to be on the stack."),c=this.popStack(),f=this.popStack(),s=this.popStack(),this.pushStack(f),this.pushStack(c),this.pushStack(s);break;case tw.OP_SWAP:this.stack.length<2&&this.scriptEvaluationError("OP_SWAP requires at least two items to be on the stack."),f=this.popStack(),s=this.popStack(),this.pushStack(f),this.pushStack(s);break;case tw.OP_TUCK:this.stack.length<2&&this.scriptEvaluationError("OP_TUCK requires at least two items to be on the stack."),t=this.stackTop(-1),this.ensureStackMem(t.length),this.stack.splice(this.stack.length-2,0,t.slice()),this.stackMem+=t.length;break;case tw.OP_SIZE:this.stack.length<1&&this.scriptEvaluationError("OP_SIZE requires at least one item to be on the stack."),this.pushStack(new r(this.stackTop().length).toScriptNum());break;case tw.OP_AND:case tw.OP_OR:case tw.OP_XOR:{this.stack.length<2&&this.scriptEvaluationError(`${tw[i]} requires at least two items on the stack.`),a=this.popStack(),(t=this.popStack()).length!==a.length&&this.scriptEvaluationError(`${tw[i]} requires the top two stack items to be the same size.`);let e=Array(t.length);for(let r=0;r<t.length;r++)i===tw.OP_AND?e[r]=t[r]&a[r]:i===tw.OP_OR?e[r]=t[r]|a[r]:e[r]=t[r]^a[r];this.pushStack(e);break}case tw.OP_INVERT:{this.stack.length<1&&this.scriptEvaluationError("OP_INVERT requires at least one item to be on the stack.");let t=Array((e=this.popStack()).length);for(let r=0;r<e.length;r++)t[r]=255&~e[r];this.pushStack(t);break}case tw.OP_LSHIFT:case tw.OP_RSHIFT:{let e;if(this.stack.length<2&&this.scriptEvaluationError(`${tw[i]} requires at least two items to be on the stack.`),d=r.fromScriptNum(this.popStack(),tE),t=this.popStack(),(p=d.toNumber())<0&&this.scriptEvaluationError(`${tw[i]} requires the top item on the stack not to be negative.`),0===t.length){this.pushStack([]);break}h=new r(t);let n=(e=i===tw.OP_LSHIFT?h.ushln(p):h.ushrn(p)).toArray("le",t.length);this.pushStack(n);break}case tw.OP_EQUAL:case tw.OP_EQUALVERIFY:this.stack.length<2&&this.scriptEvaluationError(`${tw[i]} requires at least two items to be on the stack.`),a=this.popStack(),y=tO(t=this.popStack(),a),this.pushStack(y?[1]:[]),i===tw.OP_EQUALVERIFY&&(y||this.scriptEvaluationError("OP_EQUALVERIFY requires the top two stack items to be equal."),this.popStack());break;case tw.OP_1ADD:case tw.OP_1SUB:case tw.OP_NEGATE:case tw.OP_ABS:case tw.OP_NOT:case tw.OP_0NOTEQUAL:switch(this.stack.length<1&&this.scriptEvaluationError(`${tw[i]} requires at least one item to be on the stack.`),u=r.fromScriptNum(this.popStack(),tE),i){case tw.OP_1ADD:u=u.add(new r(1));break;case tw.OP_1SUB:u=u.sub(new r(1));break;case tw.OP_NEGATE:u=u.neg();break;case tw.OP_ABS:u.isNeg()&&(u=u.neg());break;case tw.OP_NOT:u=new r(+(0===u.cmpn(0)));break;case tw.OP_0NOTEQUAL:u=new r(+(0!==u.cmpn(0)))}this.pushStack(u.toScriptNum());break;case tw.OP_ADD:case tw.OP_SUB:case tw.OP_MUL:case tw.OP_DIV:case tw.OP_MOD:case tw.OP_BOOLAND:case tw.OP_BOOLOR:case tw.OP_NUMEQUAL:case tw.OP_NUMEQUALVERIFY:case tw.OP_NUMNOTEQUAL:case tw.OP_LESSTHAN:case tw.OP_GREATERTHAN:case tw.OP_LESSTHANOREQUAL:case tw.OP_GREATERTHANOREQUAL:case tw.OP_MIN:case tw.OP_MAX:{this.stack.length<2&&this.scriptEvaluationError(`${tw[i]} requires at least two items to be on the stack.`),a=this.popStack(),t=this.popStack(),d=r.fromScriptNum(a,tE),h=r.fromScriptNum(t,tE);let e=0;switch(i){case tw.OP_MUL:e=h.byteLength()+d.byteLength();break;case tw.OP_ADD:case tw.OP_SUB:e=Math.max(h.byteLength(),d.byteLength())+1;break;default:e=Math.max(h.byteLength(),d.byteLength())}this.ensureStackMem(e);let n=new r(0);switch(i){case tw.OP_ADD:n=h.add(d);break;case tw.OP_SUB:n=h.sub(d);break;case tw.OP_MUL:n=h.mul(d);break;case tw.OP_DIV:0===d.cmpn(0)&&this.scriptEvaluationError("OP_DIV cannot divide by zero!"),n=h.div(d);break;case tw.OP_MOD:0===d.cmpn(0)&&this.scriptEvaluationError("OP_MOD cannot divide by zero!"),n=h.mod(d);break;case tw.OP_BOOLAND:n=new r(+(0!==h.cmpn(0)&&0!==d.cmpn(0)));break;case tw.OP_BOOLOR:n=new r(+(0!==h.cmpn(0)||0!==d.cmpn(0)));break;case tw.OP_NUMEQUAL:case tw.OP_NUMEQUALVERIFY:n=new r(+(0===h.cmp(d)));break;case tw.OP_NUMNOTEQUAL:n=new r(+(0!==h.cmp(d)));break;case tw.OP_LESSTHAN:n=new r(+(0>h.cmp(d)));break;case tw.OP_GREATERTHAN:n=new r(+(h.cmp(d)>0));break;case tw.OP_LESSTHANOREQUAL:n=new r(+(0>=h.cmp(d)));break;case tw.OP_GREATERTHANOREQUAL:n=new r(+(h.cmp(d)>=0));break;case tw.OP_MIN:n=0>h.cmp(d)?h:d;break;case tw.OP_MAX:n=h.cmp(d)>0?h:d}this.pushStack(n.toScriptNum()),i===tw.OP_NUMEQUALVERIFY&&(this.castToBool(this.stackTop())||this.scriptEvaluationError("OP_NUMEQUALVERIFY requires the top stack item to be truthy."),this.popStack());break}case tw.OP_WITHIN:this.stack.length<3&&this.scriptEvaluationError("OP_WITHIN requires at least three items to be on the stack."),l=r.fromScriptNum(this.popStack(),tE),d=r.fromScriptNum(this.popStack(),tE),y=(h=r.fromScriptNum(this.popStack(),tE)).cmp(d)>=0&&0>h.cmp(l),this.pushStack(y?[1]:[]);break;case tw.OP_RIPEMD160:case tw.OP_SHA1:case tw.OP_SHA256:case tw.OP_HASH160:case tw.OP_HASH256:{this.stack.length<1&&this.scriptEvaluationError(`${tw[i]} requires at least one item to be on the stack.`),e=this.popStack();let t=[];i===tw.OP_RIPEMD160?t=eb(e):i===tw.OP_SHA1?t=ey(e):i===tw.OP_SHA256?t=eg(e):i===tw.OP_HASH160?t=ev(e):i===tw.OP_HASH256&&(t=ew(e)),this.pushStack(t);break}case tw.OP_CODESEPARATOR:this.lastCodeSeparator=this.programCounter;break;case tw.OP_CHECKSIG:case tw.OP_CHECKSIGVERIFY:if(this.stack.length<2&&this.scriptEvaluationError(`${tw[i]} requires at least two items to be on the stack.`),v=this.popStack(),w=this.popStack(),this.checkSignatureEncoding(w)&&this.checkPublicKeyEncoding(v)||this.scriptEvaluationError(`${tw[i]} requires correct encoding for the public key and signature.`),(m=new tv(("UnlockingScript"===this.context?this.unlockingScript:this.lockingScript).chunks.slice(null===this.lastCodeSeparator?0:this.lastCodeSeparator+1))).findAndDelete(new tv().writeBin(w)),g=!1,w.length>0)try{_=ty.fromChecksigFormat(w),x=eG.fromDER(v),g=this.verifySignature(_,x,m)}catch(e){g=!1}this.pushStack(g?[1]:[]),i===tw.OP_CHECKSIGVERIFY&&(g||this.scriptEvaluationError("OP_CHECKSIGVERIFY requires that a valid signature is provided."),this.popStack());break;case tw.OP_CHECKMULTISIG:case tw.OP_CHECKMULTISIGVERIFY:{S=1,this.stack.length<S&&this.scriptEvaluationError(`${tw[i]} requires at least 1 item for nKeys.`),((I=r.fromScriptNum(this.stackTop(-S),tE).toNumber())<0||I>tk)&&this.scriptEvaluationError(`${tw[i]} requires a key count between 0 and ${tk}.`),k=++S,S+=I,this.stack.length<S&&this.scriptEvaluationError(`${tw[i]} stack too small for nKeys and keys. Need ${S}, have ${this.stack.length}.`),((A=r.fromScriptNum(this.stackTop(-S),tE).toNumber())<0||A>I)&&this.scriptEvaluationError(`${tw[i]} requires the number of signatures to be no greater than the number of keys.`),E=++S,S+=A,this.stack.length<S&&this.scriptEvaluationError(`${tw[i]} stack too small for N, keys, M, sigs, and dummy. Need ${S}, have ${this.stack.length}.`),m=new tv(("UnlockingScript"===this.context?this.unlockingScript:this.lockingScript).chunks.slice(null===this.lastCodeSeparator?0:this.lastCodeSeparator+1));for(let e=0;e<A;e++)w=this.stackTop(-E-e),m.findAndDelete(new tv().writeBin(w));for(g=!0;g&&A>0;){if(0===I){g=!1;break}if(w=this.stackTop(-E),v=this.stackTop(-k),this.checkSignatureEncoding(w)&&this.checkPublicKeyEncoding(v)||this.scriptEvaluationError(`${tw[i]} requires correct encoding for the public key and signature.`),M=!1,w.length>0)try{_=ty.fromChecksigFormat(w),x=eG.fromDER(v),M=this.verifySignature(_,x,m)}catch(e){M=!1}M&&(E++,A--),k++,A>--I&&(g=!1)}let e=1+r.fromScriptNum(this.stackTop(-1),!1).toNumber()+1+r.fromScriptNum(this.stackTop(-(1+r.fromScriptNum(this.stackTop(-1),!1).toNumber()+1)),!1).toNumber()+1-1;for(;e>0;)this.popStack(),e--;this.stack.length<1&&this.scriptEvaluationError(`${tw[i]} requires an extra item (dummy) to be on the stack.`),this.popStack().length>0&&this.scriptEvaluationError(`${tw[i]} requires the extra stack item (dummy) to be empty.`),this.pushStack(g?[1]:[]),i===tw.OP_CHECKMULTISIGVERIFY&&(g||this.scriptEvaluationError("OP_CHECKMULTISIGVERIFY requires that a sufficient number of valid signatures are provided."),this.popStack());break}case tw.OP_CAT:{this.stack.length<2&&this.scriptEvaluationError("OP_CAT requires at least two items to be on the stack."),a=this.popStack();let e=(t=this.popStack()).concat(a);e.length>tS&&this.scriptEvaluationError(`It's not currently possible to push data larger than ${tS} bytes.`),this.pushStack(e);break}case tw.OP_SPLIT:{this.stack.length<2&&this.scriptEvaluationError("OP_SPLIT requires at least two items to be on the stack.");let e=this.popStack(),t=this.popStack();((p=r.fromScriptNum(e,tE).toNumber())<0||p>t.length)&&this.scriptEvaluationError("OP_SPLIT requires the first stack item to be a non-negative number less than or equal to the size of the second-from-top stack item."),this.pushStack(t.slice(0,p)),this.pushStack(t.slice(p));break}case tw.OP_NUM2BIN:{this.stack.length<2&&this.scriptEvaluationError("OP_NUM2BIN requires at least two items to be on the stack."),((b=r.fromScriptNum(this.popStack(),tE).toNumber())>tS||b<0)&&this.scriptEvaluationError(`It's not currently possible to push data larger than ${tS} bytes or negative size.`);let e=this.popStack();if((e=ej(e)).length>b&&this.scriptEvaluationError("OP_NUM2BIN requires that the size expressed in the top stack item is large enough to hold the value expressed in the second-from-top stack item."),e.length===b){this.pushStack(e);break}let t=Array(b).fill(0),i=0;e.length>0&&(i=128&e[e.length-1],e[e.length-1]&=127);for(let r=0;r<e.length;r++)t[r]=e[r];0!==i&&(t[b-1]|=128),this.pushStack(t);break}case tw.OP_BIN2NUM:{this.stack.length<1&&this.scriptEvaluationError("OP_BIN2NUM requires at least one item to be on the stack.");let e=ej(t=this.popStack());tN(e)||this.scriptEvaluationError("OP_BIN2NUM requires that the resulting number is valid."),this.pushStack(e);break}default:this.scriptEvaluationError(`Invalid opcode ${i} (pc=${this.programCounter}).`)}}return this.programCounter++,!0}validate(){for(tI&&!this.unlockingScript.isPushOnly()&&this.scriptEvaluationError("Unlocking scripts can only contain push operations, and no other opcodes.");this.step()&&("LockingScript"!==this.context||!(this.programCounter>=this.lockingScript.chunks.length)););return this.ifStack.length>0&&this.scriptEvaluationError("Every OP_IF, OP_NOTIF, or OP_ELSE must be terminated with OP_ENDIF prior to the end of the script."),1!==this.stack.length&&this.scriptEvaluationError(`The clean stack rule requires exactly one item to be on the stack after script execution, found ${this.stack.length}.`),0===this.stack.length?this.scriptEvaluationError("The top stack element must be truthy after script evaluation (stack is empty)."):this.castToBool(this.stackTop())||this.scriptEvaluationError("The top stack element must be truthy after script evaluation."),!0}castToBool(e){if(0===e.length)return!1;for(let t=0;t<e.length;t++)if(0!==e[t])return t!==e.length-1||128!==e[t];return!1}scriptEvaluationError(e){let t=`Context: ${this.context}, PC: ${this.programCounter}`,r=this.stack.map(e=>null!=e&&void 0!==e.length?eE(e):null==e?"null/undef":"INVALID_STACK_ITEM").join(", "),i=this.altStack.map(e=>null!=e&&void 0!==e.length?eE(e):null==e?"null/undef":"INVALID_STACK_ITEM").join(", "),n=`Stack: [${r}] (len: ${this.stack.length}, mem: ${this.stackMem})`,a=`AltStack: [${i}] (len: ${this.altStack.length}, mem: ${this.altStackMem})`,o=`IfStack: [${this.ifStack.join(", ")}]`;throw Error(`Script evaluation error: ${e}
TXID: ${this.sourceTXID}, OutputIdx: ${this.sourceOutputIndex}
${t}
${n}
${a}
${o}`)}}function tD(e){if(null==e)throw Error("must have value");return e}e.s(["default",()=>tB],12477),e.s([],87188);class tL{lock(e){let t;if("string"==typeof e){let r=eL(e);if(0!==r.prefix[0]&&111!==r.prefix[0])throw Error("only P2PKH is supported");t=r.data}else t=e;if(20!==t.length)throw Error("P2PKH hash length must be 20 bytes");return new t_([{op:tw.OP_DUP},{op:tw.OP_HASH160},{op:t.length,data:t},{op:tw.OP_EQUALVERIFY},{op:tw.OP_CHECKSIG}])}unlock(e,t="all",r=!1,i,n){return{sign:async(a,o)=>{let s=ty.SIGHASH_FORKID;"all"===t&&(s|=ty.SIGHASH_ALL),"none"===t&&(s|=ty.SIGHASH_NONE),"single"===t&&(s|=ty.SIGHASH_SINGLE),r&&(s|=ty.SIGHASH_ANYONECANPAY);let f=a.inputs[o],c=a.inputs.filter((e,t)=>t!==o),u=f.sourceTXID??f.sourceTransaction?.id("hex");if(null==u||void 0===u||""===u)throw Error("The input sourceTXID or sourceTransaction is required for transaction signing.");if(null==(i||=f.sourceTransaction?.outputs[f.sourceOutputIndex].satoshis)||void 0===i)throw Error("The sourceSatoshis or input sourceTransaction is required for transaction signing.");if(null==(n||=f.sourceTransaction?.outputs[f.sourceOutputIndex].lockingScript))throw Error("The lockingScript or input sourceTransaction is required for transaction signing.");let h=ty.format({sourceTXID:u,sourceOutputIndex:tD(f.sourceOutputIndex),sourceSatoshis:i,transactionVersion:a.version,otherInputs:c,inputIndex:o,outputs:a.outputs,inputSequence:tD(f.sequence),subscript:n,lockTime:a.lockTime,scope:s}),d=e.sign(eg(h)),l=new ty(d.r,d.s,s).toChecksigFormat(),p=e.toPublicKey().encode(!0);return new tx([{op:l.length,data:l},{op:p.length,data:p}])},estimateLength:async()=>108}}}class tF{type="raw";constructor(e="raw"){this.type=e}lock(e){let t=[{op:tw.OP_OVER},{op:tw.OP_3},{op:tw.OP_SPLIT},{op:tw.OP_NIP},{op:tw.OP_1},{op:tw.OP_SPLIT},{op:tw.OP_SWAP},{op:tw.OP_SPLIT},{op:tw.OP_DROP}];return"raw"!==this.type&&t.push({op:tw["OP_"+this.type]}),t.push({op:e.length,data:e}),t.push({op:tw.OP_EQUALVERIFY}),t.push({op:tw.OP_CHECKSIG}),new t_(t)}unlock(e,t,r="all",i=!1){return{sign:async(n,a)=>{void 0===t&&(t=e1.fromRandom());let o=ty.SIGHASH_FORKID;"all"===r&&(o|=ty.SIGHASH_ALL),"none"===r&&(o|=ty.SIGHASH_NONE),"single"===r&&(o|=ty.SIGHASH_SINGLE),i&&(o|=ty.SIGHASH_ANYONECANPAY);let s=[...n.inputs],[f]=s.splice(a,1);if("object"!=typeof f.sourceTransaction)throw Error("The source transaction is needed for transaction signing.");let c=ty.format({sourceTXID:f.sourceTransaction?.id("hex")??"",sourceOutputIndex:f.sourceOutputIndex??0,sourceSatoshis:f.sourceTransaction?.outputs[f.sourceOutputIndex]?.satoshis??0,transactionVersion:n.version,otherInputs:s,inputIndex:a,outputs:n.outputs,inputSequence:f.sequence??0xffffffff,subscript:f.sourceTransaction?.outputs[f.sourceOutputIndex]?.lockingScript??new tv,lockTime:n.lockTime,scope:o}),u=t.sign(eg(c),void 0,!0,e),h=new ty(u.r,u.s,o).toChecksigFormat(),d=t.toPublicKey().encode(!0);return new tx([{op:h.length,data:h},{op:d.length,data:d}])},estimateLength:async()=>108}}}var tU,tj,tq,tV,tH=e.i(4363),tH=tH,tK=e.i(79821),tK=tK;function tz(e){if(null==e)throw Error("must have value");return e}let tW=e=>0===e.length||1===e.length&&0===e[0]?{op:0}:1===e.length&&e[0]>0&&e[0]<=16?{op:80+e[0]}:1===e.length&&129===e[0]?{op:79}:e.length<=75?{op:e.length,data:e}:e.length<=255?{op:76,data:e}:e.length<=65535?{op:77,data:e}:{op:78,data:e};class t${wallet;originator;static decode(e){let t=eG.fromString(tH.toHex(tz(e.chunks[0].data))),r=[];for(let t=2;t<e.chunks.length;t++){let i=e.chunks[t+1]?.op,n=e.chunks[t].data??[];if(0===n.length&&(e.chunks[t].op>=80&&e.chunks[t].op<=95?n=[e.chunks[t].op-80]:0===e.chunks[t].op?n=[0]:79===e.chunks[t].op&&(n=[129])),r.push(n),i===tw.OP_DROP||i===tw.OP_2DROP)break}return{fields:r,lockingPublicKey:t}}constructor(e,t){this.wallet=e,this.originator=t}async lock(e,t,r,i,n=!1,a=!0,o="before"){let{publicKey:s}=await this.wallet.getPublicKey({protocolID:t,keyID:r,counterparty:i,forSelf:n},this.originator),f=[],c=[];if(f.push({op:s.length/2,data:tH.toArray(s,"hex")}),f.push({op:tw.OP_CHECKSIG}),a){let n=e.reduce((e,t)=>[...e,...t],[]),{signature:a}=await this.wallet.createSignature({data:n,protocolID:t,keyID:r,counterparty:i},this.originator);e.push(a)}for(let t of e)c.push(tW(t));let u=e.length;for(;u>1;)c.push({op:tw.OP_2DROP}),u-=2;return new t_((0!==u&&c.push({op:tw.OP_DROP}),"before"===o)?[...f,...c]:[...c,...f])}unlock(e,t,r,i="all",n=!1,a,o){return{sign:async(s,f)=>{let c=ty.SIGHASH_FORKID;"all"===i&&(c|=ty.SIGHASH_ALL),"none"===i&&(c|=ty.SIGHASH_NONE),"single"===i&&(c|=ty.SIGHASH_SINGLE),n&&(c|=ty.SIGHASH_ANYONECANPAY);let u=s.inputs[f],h=s.inputs.filter((e,t)=>t!==f),d=u.sourceTXID??u.sourceTransaction?.id("hex");if(null==d||void 0===d)throw Error("The input sourceTXID or sourceTransaction is required for transaction signing.");if(null==(a||=u.sourceTransaction?.outputs[u.sourceOutputIndex].satoshis)||void 0===a)throw Error("The sourceSatoshis or input sourceTransaction is required for transaction signing.");if(null==(o||=u.sourceTransaction?.outputs[u.sourceOutputIndex].lockingScript))throw Error("The lockingScript or input sourceTransaction is required for transaction signing.");let l=ty.format({sourceTXID:d,sourceOutputIndex:tz(u.sourceOutputIndex),sourceSatoshis:a,transactionVersion:s.version,otherInputs:h,inputIndex:f,outputs:s.outputs,inputSequence:u.sequence??0xffffffff,subscript:o,lockTime:s.lockTime,scope:c}),p=tK.sha256(l),{signature:b}=await this.wallet.createSignature({data:p,protocolID:e,keyID:t,counterparty:r},this.originator),y=eH.fromDER([...b]),g=new ty(y.r,y.s,c).toChecksigFormat();return new tx([{op:g.length,data:g}])},estimateLength:async()=>73}}}e.s(["default",()=>re],77681);class tG{value;constructor(e){this.value=e}async computeFee(e){let t,r=e=>e>0x100000000?9:e>65536?5:e>253?3:1;t=4+r(e.inputs.length);for(let i=0;i<e.inputs.length;i++){let n,a=e.inputs[i];if(t+=40,"object"==typeof a.unlockingScript)n=a.unlockingScript.toBinary().length;else if("object"==typeof a.unlockingScriptTemplate)n=await a.unlockingScriptTemplate.estimateLength(e,i);else throw Error("All inputs must have an unlocking script or an unlocking script template for sat/kb fee computation.");t+=r(n),t+=n}for(let i of(t+=r(e.outputs.length),e.outputs)){t+=8;let e=i.lockingScript.toBinary().length;t+=r(e),t+=e}return Math.ceil((t+=4)/1e3*this.value)}}e.s(["default",()=>tG],46112);class tX{https;constructor(e){this.https=e}async request(e,t){return await new Promise((r,i)=>{let n=this.https.request(e,t,e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{let i=e.statusCode>=200&&e.statusCode<=299,n=e.headers["content-type"],a=""!==t&&"string"==typeof n&&n.startsWith("application/json")?JSON.parse(t):t;r({status:e.statusCode,statusText:e.statusMessage,ok:i,data:a})})});n.on("error",e=>{i(e)}),null!==t.data&&void 0!==t.data&&n.write(JSON.stringify(t.data)),n.end()})}}e.s(["NodejsHttpClient",()=>tX],89175);class tY{fetch;constructor(e){this.fetch=e}async request(e,t){let r={method:t.method,headers:t.headers,body:JSON.stringify(t.data)},i=await this.fetch(e,r),n=i.headers.get("Content-Type"),a=n?.startsWith("application/json")?await i.json():await i.text();return{ok:i.ok,status:i.status,statusText:i.statusText,data:a}}}function tJ(){let t={async request(){throw Error("No method available to perform HTTP request")}};if("undefined"!=typeof window&&"function"==typeof window.fetch)return new tY(window.fetch.bind(window));try{let t=e.r(92542);return new tX(t)}catch(e){return t}}function tZ(){return`ts-sdk-${eE(eJ(16))}`}e.s(["FetchHttpClient",()=>tY],39081),e.s(["defaultHttpClient",()=>tJ],26407);class tQ{URL;apiKey;deploymentId;callbackUrl;callbackToken;headers;httpClient;constructor(e,t){if(this.URL=e,"string"==typeof t)this.apiKey=t,this.httpClient=tJ(),this.deploymentId=tZ(),this.callbackToken=void 0,this.callbackUrl=void 0;else{const{apiKey:e,deploymentId:r,httpClient:i,callbackToken:n,callbackUrl:a,headers:o}=t??{};this.apiKey=e,this.httpClient=i??tJ(),this.deploymentId=r??tZ(),this.callbackToken=n,this.callbackUrl=a,this.headers=o}}requestHeaders(){let e={"Content-Type":"application/json","XDeployment-ID":this.deploymentId};if(null!=this.apiKey&&""!==this.apiKey&&(e.Authorization=`Bearer ${this.apiKey}`),null!=this.callbackUrl&&""!==this.callbackUrl&&(e["X-CallbackUrl"]=this.callbackUrl),null!=this.callbackToken&&""!==this.callbackToken&&(e["X-CallbackToken"]=this.callbackToken),null!=this.headers)for(let t in this.headers)e[t]=this.headers[t];return e}async broadcast(e){let t;try{t=e.toHexEF()}catch(r){if("All inputs must have source transactions when serializing to EF format"===r.message)t=e.toHex();else throw r}let r={method:"POST",headers:this.requestHeaders(),data:{rawTx:t}};try{let e=await this.httpClient.request(`${this.URL}/v1/tx`,r);if(e.ok){let{txid:t,extraInfo:r,txStatus:i,competingTxs:n}=e.data,a={status:"success",txid:t,message:`${i} ${r}`};return null!=n&&(a.competingTxs=n),a}{let t=typeof e.status,r={status:"error",code:"number"===t||"string"===t?e.status.toString():"ERR_UNKNOWN",description:"Unknown error"},i=e.data;if("string"==typeof i)try{i=JSON.parse(e.data)}catch{}return"object"==typeof i&&(null!==i&&(r.more=i),null!=i&&"string"==typeof i.txid&&(r.txid=i.txid),null!=i&&"detail"in i&&"string"==typeof i.detail&&(r.description=i.detail)),r}}catch(e){return{status:"error",code:"500",description:"string"==typeof e.message?e.message:"Internal Server Error"}}}async broadcastMany(e){let t=e.map(e=>{try{return{rawTx:e.toHexEF()}}catch(t){if("All inputs must have source transactions when serializing to EF format"===t.message)return{rawTx:e.toHex()};throw t}}),r={method:"POST",headers:this.requestHeaders(),data:t};try{return(await this.httpClient.request(`${this.URL}/v1/txs`,r)).data}catch(r){let t={status:"error",code:"500",description:"string"==typeof r.message?r.message:"Internal Server Error"};return e.map(()=>t)}}}function t0(e=!1,t={}){return new tQ(e?"https://arc-test.taal.com":"https://arc.taal.com",t)}e.s(["default",()=>tQ],21227),e.s(["defaultBroadcaster",()=>t0],19464);class t1{network;apiKey;URL;httpClient;constructor(e="main",t={}){const{apiKey:r,httpClient:i}=t;this.network=e,this.URL=`https://api.whatsonchain.com/v1/bsv/${e}`,this.httpClient=i??tJ(),this.apiKey=r??""}async isValidRootForHeight(e,t){let r={method:"GET",headers:this.getHttpHeaders()},i=await this.httpClient.request(`${this.URL}/block/${t}/header`,r);if(i.ok){let{merkleroot:t}=i.data;return t===e}if(404===i.status)return!1;throw Error(`Failed to verify merkleroot for height ${t} because of an error: ${JSON.stringify(i.data)} `)}async currentHeight(){try{let e={method:"GET",headers:this.getHttpHeaders()},t=await this.httpClient.request(`${this.URL}/block/headers`,e);if(t.ok)return t.data[0].height;throw Error(`Failed to get current height because of an error: ${JSON.stringify(t.data)} `)}catch(e){throw Error(`Failed to get current height because of an error: ${e instanceof Error?e.message:String(e)}`)}}getHttpHeaders(){let e={Accept:"application/json"};return"string"==typeof this.apiKey&&""!==this.apiKey.trim()&&(e.Authorization=this.apiKey),e}}function t2(){return new t1}e.s(["default",()=>t1],57374),e.s(["defaultChainTracker",()=>t2],98242),e.s(["ATOMIC_BEEF",()=>t9,"BEEF_V1",()=>t4,"BEEF_V2",()=>t5,"Beef",()=>t7,"TX_DATA_FORMAT",()=>tU],83612);class t3{blockHeight;path;static fromHex(e){return t3.fromBinary(eI(e,"hex"))}static fromReader(e,t=!0){let r,i,n,a=e.readVarIntNum(),o=e.readUInt8(),s=Array(o).fill(null).map(()=>[]);for(let t=0;t<o;t++){for(n=e.readVarIntNum();n>0;){i=e.readVarIntNum(),r=e.readUInt8();let a={offset:i};(1&r)!=0?a.duplicate=!0:((2&r)!=0&&(a.txid=!0),a.hash=eE(e.read(32).reverse())),Array.isArray(s[t])&&0!==s[t].length||(s[t]=[]),s[t].push(a),n--}s[t].sort((e,t)=>e.offset-t.offset)}return new t3(a,s,t)}static fromBinary(e){let t=new eU(e);return t3.fromReader(t)}static fromCoinbaseTxidAndHeight(e,t){return new t3(t,[[{offset:0,hash:e,txid:!0}]])}constructor(e,t,r=!0){let i;this.blockHeight=e,this.path=t;const n=Array(this.path.length).fill(0).map(()=>new Set);this.path.forEach((e,t)=>{if(0===e.length&&0===t)throw Error(`Empty level at height: ${t}`);let i=new Set;e.forEach(e=>{if(i.has(e.offset))throw Error(`Duplicate offset: ${e.offset}, at height: ${t}`);if(i.add(e.offset),0===t){if(!0!==e.duplicate)for(let t=1;t<this.path.length;t++)n[t].add(e.offset>>t^1)}else if(r&&!n[t].has(e.offset))throw Error(`Invalid offset: ${e.offset}, at height: ${t}, with legal offsets: ${Array.from(n[t]).join(", ")}`)})}),this.path[0].forEach((e,t)=>{if(0===t&&(i=this.computeRoot(e.hash)),i!==this.computeRoot(e.hash))throw Error("Mismatched roots")})}toBinary(){let e=new eF;e.writeVarIntNum(this.blockHeight);let t=this.path.length;e.writeUInt8(t);for(let r=0;r<t;r++){let t=Object.keys(this.path[r]).length;for(let i of(e.writeVarIntNum(t),this.path[r])){e.writeVarIntNum(i.offset);let t=0;i?.duplicate===!0&&(t|=1),i?.txid!==void 0&&null!==i.txid&&(t|=2),e.writeUInt8(t),(1&t)==0&&e.write(eI(i.hash,"hex").reverse())}}return e.toArray()}toHex(){return eE(this.toBinary())}indexOf(e){let t=this.path[0].find(t=>t.hash===e);if(null==t)throw Error(`Transaction ID ${e} not found in the Merkle Path`);return t.offset}computeRoot(e){if("string"!=typeof e){let t=this.path[0].find(e=>!!e?.hash);if(null==t)throw Error("No valid leaf found in the Merkle Path");e=t.hash}if("string"!=typeof e)throw Error("Transaction ID is undefined");let t=this.indexOf(e);if("number"!=typeof t)throw Error(`This proof does not contain the txid: ${e??"undefined"}`);let r=e=>eE(ew(eI(e,"hex").reverse()).reverse()),i=e;if(1===this.path.length&&1===this.path[0].length)return i;for(let e=0;e<this.path.length;e++){this.path[e];let n=t>>e^1,a=this.findOrComputeLeaf(e,n);if("object"!=typeof a)throw Error(`Missing hash for index ${t} at height ${e}`);i=r(!0===a.duplicate?(i??"")+(i??""):n%2!=0?(a.hash??"")+(i??""):(i??"")+(a.hash??""))}return i}findOrComputeLeaf(e,t){let r=e=>eE(ew(eI(e,"hex").reverse()).reverse()),i=this.path[e].find(e=>e.offset===t);if(null!=i)return i;if(0===e)return;let n=e-1,a=t<<1,o=this.findOrComputeLeaf(n,a);if(null==o||null==o.hash||""===o.hash)return;let s=this.findOrComputeLeaf(n,a+1);if(null!=s)return{offset:t,hash:r(!0===s.duplicate?o.hash+o.hash:(s.hash??"")+(o.hash??""))}}async verify(e,t){let r=this.computeRoot(e);if(0===this.indexOf(e)){let e=await t.currentHeight();if(this.blockHeight+100<e)return!1}return await t.isValidRootForHeight(r,this.blockHeight)}combine(e){if(this.blockHeight!==e.blockHeight)throw Error("You cannot combine paths which do not have the same block height.");if(this.computeRoot()!==e.computeRoot())throw Error("You cannot combine paths which do not have the same root.");let t=[];for(let r=0;r<this.path.length;r++){t.push([]);for(let e=0;e<this.path[r].length;e++)t[r].push(this.path[r][e]);for(let i=0;i<e.path[r].length;i++)if(void 0===t[r].find(t=>t.offset===e.path[r][i].offset))t[r].push(e.path[r][i]);else if(e.path[r][i]?.txid!==void 0&&e.path[r][i]?.txid!==null){let n=t[r].find(t=>t.offset===e.path[r][i].offset);null!=n&&(n.txid=!0)}}this.path=t,this.trim()}trim(){let e=(e,t)=>{(0===t.length||t.slice(-1)[0]!==e)&&t.push(e)},t=(e,t)=>{for(let r=e.length;r>=0;r--){let i=this.path[t].findIndex(t=>t.offset===e[r]);i>=0&&this.path[t].splice(i,1)}},r=t=>{let r=[];for(let i of t)e(i>>1,r);return r},i=[],n=[];for(let e=0;e<this.path.length;e++)this.path[e].sort((e,t)=>e.offset-t.offset);for(let t=0;t<this.path[0].length;t++){let r=this.path[0][t];if(!0===r.txid)e(r.offset>>1,i);else{let i=r.offset%2==1,a=this.path[0][t+(i?-1:1)];void 0!==a.txid&&null!==a.txid&&a.txid||e(a.offset,n)}}t(n,0);for(let e=1;e<this.path.length;e++)n=i,i=r(i),t(n,e)}}e.s(["default",()=>t3],44287),e.s(["default",()=>t6],78097);class t6{_bumpIndex;_tx;_rawTx;_txid;inputTxids=[];isValid=void 0;get bumpIndex(){return this._bumpIndex}set bumpIndex(e){this._bumpIndex=e,this.updateInputTxids()}get hasProof(){return void 0!==this._bumpIndex}get isTxidOnly(){return void 0!==this._txid&&null!==this._txid&&null==this._rawTx&&null==this._tx}get txid(){if(void 0!==this._txid&&null!==this._txid&&""!==this._txid)return this._txid;if(null!=this._tx)return this._txid=this._tx.id("hex"),this._txid;if(null!=this._rawTx)return this._txid=eE(ew(this._rawTx)),this._txid;throw Error("Internal")}get tx(){return null!=this._tx?this._tx:null!=this._rawTx?(this._tx=re.fromBinary(this._rawTx),this._tx):void 0}get rawTx(){return null!=this._rawTx?this._rawTx:null!=this._tx?(this._rawTx=this._tx.toBinary(),this._rawTx):void 0}constructor(e,t){"string"==typeof e?this._txid=e:Array.isArray(e)?this._rawTx=e:this._tx=e,this.bumpIndex=t,this.updateInputTxids()}static fromTx(e,t){return new t6(e,t)}static fromRawTx(e,t){return new t6(e,t)}static fromTxid(e,t){return new t6(e,t)}updateInputTxids(){if(this.hasProof||null==this.tx)this.inputTxids=[];else{let e={};for(let t of this.tx.inputs)void 0!==t.sourceTXID&&null!==t.sourceTXID&&""!==t.sourceTXID&&(e[t.sourceTXID]=!0);this.inputTxids=Object.keys(e)}}toWriter(e,t){let r=t=>{e.writeUInt8(t)},i=()=>{if(null==this._txid)throw Error("Transaction ID (_txid) is undefined");e.writeReverse(eI(this._txid,"hex"))},n=()=>{if(null!=this._rawTx)e.write(this._rawTx);else if(null!=this._tx)e.write(this._tx.toBinary());else throw Error("a valid serialized Transaction is expected")},a=()=>{void 0===this.bumpIndex?r(tU.RAWTX):(r(tU.RAWTX_AND_BUMP_INDEX),e.writeVarIntNum(this.bumpIndex))};t===t5?this.isTxidOnly?(r(tU.TXID_ONLY),i()):(void 0!==this.bumpIndex?(r(tU.RAWTX_AND_BUMP_INDEX),e.writeVarIntNum(this.bumpIndex)):r(tU.RAWTX),n()):(n(),a())}static fromReader(e,t){let r,i,n;if(t===t5){let t=e.readUInt8();t===tU.TXID_ONLY?n=t6.fromTxid(eE(e.readReverse(32))):(t===tU.RAWTX_AND_BUMP_INDEX&&(i=e.readVarIntNum()),r=re.fromReader(e),n=t6.fromTx(r,i))}else r=re.fromReader(e),i=0!==e.readUInt8()?e.readVarIntNum():void 0,n=t6.fromTx(r,i);return n}}function t8(e){if(null==e)throw Error("Expected a valid value, but got undefined.");return e}let t4=0xefbe0001,t5=0xefbe0002,t9=0x1010101;!function(e){e[e.RAWTX=0]="RAWTX",e[e.RAWTX_AND_BUMP_INDEX=1]="RAWTX_AND_BUMP_INDEX",e[e.TXID_ONLY=2]="TXID_ONLY"}(tU||(tU={}));class t7{bumps=[];txs=[];version=t5;atomicTxid=void 0;constructor(e=t5){this.version=e}findTxid(e){return this.txs.find(t=>t.txid===e)}makeTxidOnly(e){let t=this.txs.findIndex(t=>t.txid===e);if(-1===t)return;let r=this.txs[t];return r.isTxidOnly?r:(this.txs.splice(t,1),r=this.mergeTxidOnly(e))}findBump(e){return this.bumps.find(t=>t.path[0].some(t=>t.hash===e))}findTransactionForSigning(e){let t=this.findTxid(e);if(null!=t&&null!=t.tx){for(let e of t.tx.inputs)if(null==e.sourceTransaction){let t=this.findTxid(t8(e.sourceTXID));null!=t&&(e.sourceTransaction=t.tx)}return t.tx}}findAtomicTransaction(e){let t=this.findTxid(e);if(null==t||null==t.tx)return;let r=(e,t)=>{let i=e.findBump(t.id("hex"));if(null!=i)t.merklePath=i;else for(let i of t.inputs){if(null==i.sourceTransaction){let t=e.findTxid(t8(i.sourceTXID));null!=t&&(i.sourceTransaction=t.tx)}if(null!=i.sourceTransaction){let t=e.findBump(i.sourceTransaction.id("hex"));null!=t?i.sourceTransaction.merklePath=t:r(e,i.sourceTransaction)}}};return r(this,t.tx),t.tx}mergeBump(e){let t;for(let r=0;r<this.bumps.length;r++){let i=this.bumps[r];if(i===e)return r;if(i.blockHeight===e.blockHeight&&i.computeRoot()===e.computeRoot()){i.combine(e),t=r;break}}void 0===t&&(t=this.bumps.length,this.bumps.push(e));let r=this.bumps[t];for(let e of this.txs){let i=e.txid;if(null==e.bumpIndex){for(let n of r.path[0])if(n.hash===i){e.bumpIndex=t,n.txid=!0;break}}}return t}mergeRawTx(e,t){let r=new t6(e,t);return this.removeExistingTxid(r.txid),this.txs.push(r),this.tryToValidateBumpIndex(r),r}mergeTransaction(e){let t,r=e.id("hex");this.removeExistingTxid(r),null!=e.merklePath&&(t=this.mergeBump(e.merklePath));let i=new t6(e,t);if(this.txs.push(i),this.tryToValidateBumpIndex(i),void 0===(t=i.bumpIndex))for(let t of e.inputs)null!=t.sourceTransaction&&this.mergeTransaction(t.sourceTransaction);return i}removeExistingTxid(e){let t=this.txs.findIndex(t=>t.txid===e);t>=0&&this.txs.splice(t,1)}mergeTxidOnly(e){let t=this.txs.find(t=>t.txid===e);return null==t&&(t=new t6(e),this.txs.push(t),this.tryToValidateBumpIndex(t)),t}mergeBeefTx(e){let t=this.findTxid(e.txid);if(e.isTxidOnly&&null==t?t=this.mergeTxidOnly(e.txid):null!=e._tx&&(null==t||t.isTxidOnly)?t=this.mergeTransaction(e._tx):null!=e._rawTx&&(null==t||t.isTxidOnly)&&(t=this.mergeRawTx(e._rawTx)),null==t)throw Error(`Failed to merge BeefTx for txid: ${e.txid}`);return t}mergeBeef(e){let t=Array.isArray(e)?t7.fromBinary(e):e;for(let e of t.bumps)this.mergeBump(e);for(let e of t.txs)this.mergeBeefTx(e)}isValid(e){return this.verifyValid(e).valid}async verify(e,t){let r=this.verifyValid(t);if(!r.valid)return!1;for(let t of Object.keys(r.roots))if(!await e.isValidRootForHeight(r.roots[t],Number(t)))return!1;return!0}verifyValid(e){let t={valid:!1,roots:{}},r=this.sortTxs();if(r.missingInputs.length>0||r.notValid.length>0||r.txidOnly.length>0&&!0!==e||r.withMissingInputs.length>0)return t;let i={};for(let r of this.txs)if(r.isTxidOnly){if(!0!==e)return t;i[r.txid]=!0}let n=(e,r)=>{let i=e.computeRoot(r);return(void 0===t.roots[e.blockHeight]||""===t.roots[e.blockHeight])&&(t.roots[e.blockHeight]=i),t.roots[e.blockHeight]===i};for(let e of this.bumps)for(let r of e.path[0])if(!0===r.txid&&"string"==typeof r.hash&&r.hash.length>0&&(i[r.hash]=!0,!n(e,r.hash)))return t;for(let e of this.txs)if(void 0!==e.bumpIndex&&null==this.bumps[e.bumpIndex].path[0].find(t=>t.hash===e.txid))return t;for(let e of this.txs){for(let r of e.inputTxids)if(!i[r])return t;i[e.txid]=!0}return t.valid=!0,t}toWriter(e){for(let t of(e.writeUInt32LE(this.version),e.writeVarIntNum(this.bumps.length),this.bumps))e.write(t.toBinary());for(let t of(e.writeVarIntNum(this.txs.length),this.txs))t.toWriter(e,this.version)}toBinary(){this.sortTxs();let e=new eF;return this.toWriter(e),e.toArray()}toBinaryAtomic(e){this.sortTxs();let t=this.findTxid(e);if(null==t)throw Error(`${e} does not exist in this Beef`);let r=this.txs[this.txs.length-1]===t?this:this.clone();if(r!==this){let t=this.txs.findIndex(t=>t.txid===e);r.txs.splice(t+1)}let i=new eF;return i.writeUInt32LE(t9),i.writeReverse(eI(e,"hex")),r.toWriter(i),i.toArray()}toHex(){return eE(this.toBinary())}static fromReader(e){let t,r=e.readUInt32LE();if(r===t9&&(t=eE(e.readReverse(32)),r=e.readUInt32LE()),r!==t4&&r!==t5)throw Error(`Serialized BEEF must start with ${t4} or ${t5} but starts with ${r}`);let i=new t7(r),n=e.readVarIntNum();for(let t=0;t<n;t++){let t=t3.fromReader(e,!1);i.bumps.push(t)}let a=e.readVarIntNum();for(let t=0;t<a;t++){let t=t6.fromReader(e,r);i.txs.push(t)}return i.atomicTxid=t,i}static fromBinary(e){let t=new eU(e);return t7.fromReader(t)}static fromString(e,t="hex"){let r=new eU(eI(e,t));return t7.fromReader(r)}tryToValidateBumpIndex(e){if(void 0!==e.bumpIndex)return!0;let t=e.txid;for(let r=0;r<this.bumps.length;r++){let i=this.bumps[r].path[0].findIndex(e=>e.hash===t);if(i>=0)return e.bumpIndex=r,this.bumps[r].path[0][i].txid=!0,!0}return!1}sortTxs(){let e={},t={},r=[],i=[],n=[];for(let a of this.txs)t[a.txid]=a,a.isValid=a.hasProof,a.isValid?(e[a.txid]=!0,i.push(a)):a.isTxidOnly&&0===a.inputTxids.length?(e[a.txid]=!0,n.push(a)):r.push(a);let a={},o=[],s=r;for(let e of(r=[],s)){let i=!1;for(let r of e.inputTxids)void 0===t[r]&&(a[r]=!0,i=!0);i?o.push(e):r.push(e)}for(;r.length>0;){let t=r;for(let n of(r=[],t))n.inputTxids.every(t=>e[t])?(e[n.txid]=!0,i.push(n)):r.push(n);if(t.length===r.length)break}let f=r;return this.txs=o.concat(f).concat(n).concat(i),{missingInputs:Object.keys(a),notValid:f.map(e=>e.txid),valid:Object.keys(e),withMissingInputs:o.map(e=>e.txid),txidOnly:n.map(e=>e.txid)}}clone(){let e=new t7;return e.version=this.version,e.bumps=Array.from(this.bumps),e.txs=Array.from(this.txs),e}trimKnownTxids(e){for(let t=0;t<this.txs.length;){let r=this.txs[t];r.isTxidOnly&&e.includes(r.txid)?this.txs.splice(t,1):t++}}getValidTxids(){return this.sortTxs().valid}toLogString(){let e="";e+=`BEEF with ${this.bumps.length} BUMPS and ${this.txs.length} Transactions, isValid ${this.isValid().toString()}
`;let t=-1;for(let r of this.bumps)t++,e+=`  BUMP ${t}
    block: ${r.blockHeight}
    txids: [
${r.path[0].filter(e=>!0===e.txid).map(e=>`      '${e.hash??""}'`).join(",\n")}
    ]
`;for(let r of(t=-1,this.txs))t++,e+=`  TX ${t}
    txid: ${r.txid}
`,void 0!==r.bumpIndex&&(e+=`    bumpIndex: ${r.bumpIndex}
`),r.isTxidOnly?e+="    txidOnly\n":e+=`    rawTx length=${r.rawTx?.length??0}
`,r.inputTxids.length>0&&(e+=`    inputs: [
${r.inputTxids.map(e=>`      '${e}'`).join(",\n")}
    ]
`);return e}addComputedLeaves(){let e=e=>eE(ew(eI(e,"hex").reverse()).reverse());for(let t of this.bumps)for(let r=1;r<t.path.length;r++)for(let i of t.path[r-1])if("string"==typeof i.hash&&(1&i.offset)==0){let n=t.path[r-1].find(e=>e.offset===i.offset+1),a=i.offset>>1;void 0!==n&&"string"==typeof n.hash&&t.path[r].every(e=>e.offset!==a)&&t.path[r].push({offset:a,hash:e(n.hash+i.hash)})}}}class re{version;inputs;outputs;lockTime;metadata;merklePath;cachedHash;static addPathOrInputs(e,t,r){if("number"==typeof e.pathIndex){let t=r[e.pathIndex];if("object"!=typeof t)throw Error("Invalid merkle path index found in BEEF!");e.tx.merklePath=t}else for(let i of e.tx.inputs){if(void 0===i.sourceTXID)throw Error("Input sourceTXID is undefined");let e=t[i.sourceTXID];if("object"!=typeof e)throw Error(`Reference to unknown TXID in BEEF: ${i.sourceTXID??"undefined"}`);i.sourceTransaction=e.tx,this.addPathOrInputs(e,t,r)}}static fromBEEF(e,t){let{tx:r}=re.fromAnyBeef(e,t);return r}static fromAtomicBEEF(e){let{tx:t,txid:r,beef:i}=re.fromAnyBeef(e);if(r!==i.atomicTxid)if(i.atomicTxid)throw Error(`Transaction with TXID ${i.atomicTxid} not found in BEEF data.`);else throw Error("beef must conform to BRC-95 and must contain the subject txid.");return t}static fromAnyBeef(e,t){let r=t7.fromBinary(e);if(r.txs.length<1)throw Error("beef must include at least one transaction.");let i=t||r.atomicTxid||r.txs.slice(-1)[0].txid,n=r.findAtomicTransaction(i);if(null==n)if(t)throw Error(`Transaction with TXID ${i} not found in BEEF data.`);else throw Error("beef does not contain transaction for atomic txid.");return{tx:n,beef:r,txid:i}}static fromEF(e){let t=new eU(e),r=t.readUInt32LE();if("0000000000ef"!==eE(t.read(6)))throw Error("Invalid EF marker");let i=t.readVarIntNum(),n=[];for(let e=0;e<i;e++){let e=eE(t.readReverse(32)),r=t.readUInt32LE(),i=t.readVarIntNum(),a=t.read(i),o=tx.fromBinary(a),s=t.readUInt32LE(),f=t.readUInt64LEBn().toNumber(),c=t.readVarIntNum(),u=t.read(c),h=t_.fromBinary(u),d=new re(void 0,[],[],void 0);d.outputs=Array(r+1).fill(null),d.outputs[r]={satoshis:f,lockingScript:h},n.push({sourceTransaction:d,sourceTXID:e,sourceOutputIndex:r,unlockingScript:o,sequence:s})}let a=t.readVarIntNum(),o=[];for(let e=0;e<a;e++){let e=t.readUInt64LEBn().toNumber(),r=t.readVarIntNum(),i=t.read(r),n=t_.fromBinary(i);o.push({satoshis:e,lockingScript:n})}return new re(r,n,o,t.readUInt32LE())}static parseScriptOffsets(e){let t=new eU(e),r=[],i=[];t.pos+=4;let n=t.readVarIntNum();for(let e=0;e<n;e++){t.pos+=36;let i=t.readVarIntNum();r.push({vin:e,offset:t.pos,length:i}),t.pos+=i+4}let a=t.readVarIntNum();for(let e=0;e<a;e++){t.pos+=8;let r=t.readVarIntNum();i.push({vout:e,offset:t.pos,length:r}),t.pos+=r}return{inputs:r,outputs:i}}static fromReader(e){let t=e.readUInt32LE(),r=e.readVarIntNum(),i=[];for(let t=0;t<r;t++){let t=eE(e.readReverse(32)),r=e.readUInt32LE(),n=e.readVarIntNum(),a=e.read(n),o=tx.fromBinary(a),s=e.readUInt32LE();i.push({sourceTXID:t,sourceOutputIndex:r,unlockingScript:o,sequence:s})}let n=e.readVarIntNum(),a=[];for(let t=0;t<n;t++){let t=e.readUInt64LEBn().toNumber(),r=e.readVarIntNum(),i=e.read(r),n=t_.fromBinary(i);a.push({satoshis:t,lockingScript:n})}return new re(t,i,a,e.readUInt32LE())}static fromBinary(e){let t=new eU(e);return re.fromReader(t)}static fromHex(e){return re.fromBinary(eI(e,"hex"))}static fromHexEF(e){return re.fromEF(eI(e,"hex"))}static fromHexBEEF(e,t){return re.fromBEEF(eI(e,"hex"),t)}constructor(e=1,t=[],r=[],i=0,n={},a){this.version=e,this.inputs=t,this.outputs=r,this.lockTime=i,this.metadata=n,this.merklePath=a}addInput(e){if(void 0===e.sourceTXID&&void 0===e.sourceTransaction)throw Error("A reference to an an input transaction is required. If the input transaction itself cannot be referenced, its TXID must still be provided.");void 0===e.sequence&&(e.sequence=0xffffffff),this.cachedHash=void 0,this.inputs.push(e)}addOutput(e){if(this.cachedHash=void 0,!0!==e.change){if(void 0===e.satoshis)throw Error("either satoshis must be defined or change must be set to true");if(e.satoshis<0)throw Error("satoshis must be a positive integer or zero")}if(null==e.lockingScript)throw Error("lockingScript must be defined");this.outputs.push(e)}addP2PKHOutput(e,t){let r=new tL().lock(e);if(void 0===t)return this.addOutput({lockingScript:r,change:!0});this.addOutput({lockingScript:r,satoshis:t})}updateMetadata(e){this.metadata={...this.metadata,...e}}async fee(e=new tG(1),t="equal"){if(this.cachedHash=void 0,"number"==typeof e){let t=e;e={computeFee:async()=>t}}let r=await e.computeFee(this),i=this.calculateChange(r);if(i<=0){this.outputs=this.outputs.filter(e=>!0!==e.change);return}this.distributeChange(i,t)}calculateChange(e){let t=0;for(let e of this.inputs){if("object"!=typeof e.sourceTransaction)throw Error("Source transactions are required for all inputs during fee computation");t+=e.sourceTransaction.outputs[e.sourceOutputIndex].satoshis??0}for(let r of(t-=e,this.outputs))!0!==r.change&&void 0!==r.satoshis&&(t-=r.satoshis);return t}distributeChange(e,t){let r=0,i=this.outputs.filter(e=>e.change);if("random"===t?r=this.distributeRandomChange(e,i):"equal"===t&&(r=this.distributeEqualChange(e,i)),r<e){let t=this.outputs[this.outputs.length-1];void 0!==t.satoshis?t.satoshis+=e-r:t.satoshis=e-r}}distributeRandomChange(e,t){let r=0,i=e,n=Array(t.length).fill(1);i-=t.length,r+=t.length;for(let e=0;e<t.length-1;e++){let t=this.benfordNumber(0,i);n[e]=n[e]+t,r+=t,i-=t}for(let e of this.outputs)!0===e.change&&(e.satoshis=n.shift());return r}distributeEqualChange(e,t){let r=0,i=Math.floor(e/t.length);for(let e of t)r+=i,e.satoshis=i;return r}benfordNumber(e,t){return Math.floor(e+(t-e)*Math.log10(1+1/(Math.floor(9*Math.random())+1))/Math.log10(10))}getFee(){let e=0;for(let t of this.inputs){if("object"!=typeof t.sourceTransaction)throw Error("Source transactions or sourceSatoshis are required for all inputs to calculate fee");e+=t.sourceTransaction.outputs[t.sourceOutputIndex].satoshis??0}let t=0;for(let e of this.outputs)t+=e.satoshis??0;return e-t}async sign(){for(let e of(this.cachedHash=void 0,this.outputs))if(void 0===e.satoshis)if(!0===e.change)throw Error("There are still change outputs with uncomputed amounts. Use the fee() method to compute the change amounts and transaction fees prior to signing.");else throw Error("One or more transaction outputs is missing an amount. Ensure all output amounts are provided before signing.");let e=await Promise.all(this.inputs.map(async(e,t)=>"object"==typeof this.inputs[t].unlockingScriptTemplate?await this.inputs[t]?.unlockingScriptTemplate?.sign(this,t):await Promise.resolve(void 0)));for(let t=0,r=this.inputs.length;t<r;t++)"object"==typeof this.inputs[t].unlockingScriptTemplate&&(this.inputs[t].unlockingScript=e[t])}async broadcast(e=t0()){return await e.broadcast(this)}toBinary(){let e=new eF;for(let t of(e.writeUInt32LE(this.version),e.writeVarIntNum(this.inputs.length),this.inputs)){if(void 0===t.sourceTXID)if(null!=t.sourceTransaction)e.write(t.sourceTransaction.hash());else throw Error("sourceTransaction is undefined");else e.writeReverse(eI(t.sourceTXID,"hex"));if(e.writeUInt32LE(t.sourceOutputIndex),null==t.unlockingScript)throw Error("unlockingScript is undefined");let r=t.unlockingScript.toBinary();e.writeVarIntNum(r.length),e.write(r),e.writeUInt32LE(t.sequence??0)}for(let t of(e.writeVarIntNum(this.outputs.length),this.outputs)){e.writeUInt64LE(t.satoshis??0);let r=t.lockingScript.toBinary();e.writeVarIntNum(r.length),e.write(r)}return e.writeUInt32LE(this.lockTime),e.toArray()}toEF(){let e=new eF;for(let t of(e.writeUInt32LE(this.version),e.write([0,0,0,0,0,239]),e.writeVarIntNum(this.inputs.length),this.inputs)){if(void 0===t.sourceTransaction)throw Error("All inputs must have source transactions when serializing to EF format");if(void 0===t.sourceTXID?e.write(t.sourceTransaction.hash()):e.write(eI(t.sourceTXID,"hex").reverse()),e.writeUInt32LE(t.sourceOutputIndex),null==t.unlockingScript)throw Error("unlockingScript is undefined");let r=t.unlockingScript.toBinary();e.writeVarIntNum(r.length),e.write(r),e.writeUInt32LE(t.sequence??0),e.writeUInt64LE(t.sourceTransaction.outputs[t.sourceOutputIndex].satoshis??0);let i=t.sourceTransaction.outputs[t.sourceOutputIndex].lockingScript.toBinary();e.writeVarIntNum(i.length),e.write(i)}for(let t of(e.writeVarIntNum(this.outputs.length),this.outputs)){e.writeUInt64LE(t.satoshis??0);let r=t.lockingScript.toBinary();e.writeVarIntNum(r.length),e.write(r)}return e.writeUInt32LE(this.lockTime),e.toArray()}toHexEF(){return eE(this.toEF())}toHex(){return eE(this.toBinary())}toHexBEEF(){return eE(this.toBEEF())}toHexAtomicBEEF(){return eE(this.toAtomicBEEF())}hash(e){let t;return(null!=this.cachedHash?t=this.cachedHash:(t=ew(this.toBinary()),this.cachedHash=t),"hex"===e)?eE(t):t}id(e){let t=[...this.hash()];return(t.reverse(),"hex"===e)?eE(t):t}async verify(e=t2(),t,r){let i=new Set,n=[this];for(;n.length>0;){let a=n.shift(),o=a?.id("hex")??"";if(null!=o&&""!==o&&i.has(o))continue;if("object"==typeof a?.merklePath){if("scripts only"===e){null!=o&&i.add(o);continue}else if(await a.merklePath.verify(o,e)){i.add(o);continue}}if(void 0!==t){if(void 0===a)throw Error("Transaction is undefined");let e=re.fromEF(a.toEF());if(delete e.outputs[0].satoshis,e.outputs[0].change=!0,await e.fee(t),a.getFee()<e.getFee())throw Error(`Verification failed because the transaction ${o} has an insufficient fee and has not been mined.`)}let s=0;if(void 0===a)throw Error("Transaction is undefined");for(let e=0;e<a.inputs.length;e++){let t=a.inputs[e];if("object"!=typeof t.sourceTransaction)throw Error(`Verification failed because the input at index ${e} of transaction ${o} is missing an associated source transaction. This source transaction is required for transaction verification because there is no merkle proof for the transaction spending a UTXO it contains.`);if("object"!=typeof t.unlockingScript)throw Error(`Verification failed because the input at index ${e} of transaction ${o} is missing an associated unlocking script. This script is required for transaction verification because there is no merkle proof for the transaction spending the UTXO.`);let f=t.sourceTransaction.outputs[t.sourceOutputIndex];s+=f.satoshis??0;let c=t.sourceTransaction.id("hex");i.has(c)||n.push(t.sourceTransaction);let u=a.inputs.filter((t,r)=>r!==e);if(void 0===t.sourceTXID&&(t.sourceTXID=c),!new tB({sourceTXID:t.sourceTXID,sourceOutputIndex:t.sourceOutputIndex,lockingScript:f.lockingScript,sourceSatoshis:f.satoshis??0,transactionVersion:a.version,otherInputs:u,unlockingScript:t.unlockingScript,inputSequence:t.sequence??0,inputIndex:e,outputs:a.outputs,lockTime:a.lockTime,memoryLimit:r}).validate())return!1}let f=0;for(let e of a.outputs){if("number"!=typeof e.satoshis)throw Error("Every output must have a defined amount during transaction verification.");f+=e.satoshis}if(f>s)return!1;i.add(o)}return!0}toBEEF(e){let t=new eF;t.writeUInt32LE(t4);let r=[],i=[],n=t=>{let a={tx:t},o="object"==typeof t.merklePath;if(o){let e=!1;for(let i=0;i<r.length;i++){if(r[i]===t.merklePath){a.pathIndex=i,e=!0;break}if(null!==t.merklePath&&void 0!==t.merklePath&&r[i].blockHeight===t.merklePath.blockHeight&&r[i].computeRoot()===t.merklePath.computeRoot()){r[i].combine(t.merklePath),a.pathIndex=i,e=!0;break}}e||(a.pathIndex=r.length,null!==t.merklePath&&void 0!==t.merklePath&&r.push(t.merklePath))}if(i.some(e=>e.tx.id("hex")===t.id("hex"))||i.unshift(a),!o)for(let r=0;r<t.inputs.length;r++){let i=t.inputs[r];if("object"==typeof i.sourceTransaction)n(i.sourceTransaction);else if(!1===e)throw Error("A required source transaction is missing!")}};for(let e of(n(this),t.writeVarIntNum(r.length),r))t.write(e.toBinary());for(let e of(t.writeVarIntNum(i.length),i))t.write(e.tx.toBinary()),"number"==typeof e.pathIndex?(t.writeUInt8(1),t.writeVarIntNum(e.pathIndex)):t.writeUInt8(0);return t.toArray()}toAtomicBEEF(e){let t=new eF;t.writeUInt32LE(0x1010101),t.write(this.hash());let r=this.toBEEF(e);return t.write(r),t.toArray()}}function rt(e){return"success"===e.status}function rr(e){return"error"===e.status}e.s(["isBroadcastFailure",()=>rr,"isBroadcastResponse",()=>rt],94610);class ri extends t7{knownTo={};constructor(e){if(super(),null!=e)for(const t of e)this.addParty(t)}isParty(e){return Object.keys(this.knownTo).includes(e)}addParty(e){if(this.isParty(e))throw Error(`Party ${e} already exists.`);this.knownTo[e]={}}getKnownTxidsForParty(e){let t=this.knownTo[e];if(void 0===t)throw Error(`Party ${e} is unknown.`);return Object.keys(t)}getTrimmedBeefForParty(e){let t=this.getKnownTxidsForParty(e),r=this.clone();return r.trimKnownTxids(t),r}addKnownTxidsForParty(e,t){this.isParty(e)||this.addParty(e);let r=this.knownTo[e];for(let e of t)r[e]=!0,this.mergeTxidOnly(e)}mergeBeefFromParty(e,t){let r=Array.isArray(t)?t7.fromBinary(t):t,i=r.getValidTxids();this.mergeBeef(r),this.addKnownTxidsForParty(e,i)}}let rn=ri;e.s(["default",0,rn],16826),e.s([],80213),e.s([],27594);class ra{network;URL;httpClient;constructor(e="main",t=tJ()){this.network=e,this.URL=`https://api.whatsonchain.com/v1/bsv/${e}/tx/raw`,this.httpClient=t}async broadcast(e){let t={method:"POST",headers:{"Content-Type":"application/json",Accept:"text/plain"},data:{txhex:e.toHex()}};try{let e=await this.httpClient.request(this.URL,t);if(!e.ok)return{status:"error",code:e.status.toString()??"ERR_UNKNOWN",description:e.data??"Unknown error"};{let t=e.data;return{status:"success",txid:t,message:"broadcast successful"}}}catch(e){return{status:"error",code:"500",description:"string"==typeof e.message?e.message:"Internal Server Error"}}}}e.s(["default",()=>ra],57157);var ro=e.i(67034);class rs{https;constructor(e){this.https=e}async request(e,t){return await new Promise((r,i)=>{let n=this.https.request(e,t,e=>{let t="";e.on("data",e=>{t+=e}),e.on("end",()=>{let i=e.statusCode>=200&&e.statusCode<=299,n=e.headers["content-type"],a=""!==t&&"string"==typeof n&&n.startsWith("application/json")?JSON.parse(t):t;r({status:e.statusCode,statusText:e.statusMessage,ok:i,data:a})})});n.on("error",e=>{i(e)}),null!==t.data&&void 0!==t.data&&n.write(ro.Buffer.from(t.data)),n.end()})}}class rf{fetch;constructor(e){this.fetch=e}async request(e,t){let r={method:t.method,headers:t.headers,body:t.data},i=await this.fetch(e,r),n=await i.text();return{ok:i.ok,status:i.status,statusText:i.statusText,data:n}}}function rc(){let t={async request(){throw Error("No method available to perform HTTP request")}};if("undefined"!=typeof window&&"function"==typeof window.fetch)return new rf(window.fetch.bind(window));try{let t=e.r(92542);return new rs(t)}catch(e){return t}}e.s(["binaryHttpClient",()=>rc],19873),e.s([],37823);class ru{URL;httpClient;constructor(e,t=rc()){this.URL=e,this.httpClient=t}async broadcast(e){let t={method:"POST",headers:{"Content-Type":"application/octet-stream"},data:new Blob([new Uint8Array(e.toEF())])};try{let r=await this.httpClient.request(this.URL,t);if(!r.ok)return{status:"error",code:r.status.toString()??"ERR_UNKNOWN",description:r.data??"Unknown error"};{let t=e.id("hex");return{status:"success",txid:t,message:"broadcast successful"}}}catch(e){return{status:"error",code:"500",description:"string"==typeof e.message?e.message:"Internal Server Error"}}}}e.s(["default",()=>ru],4153),e.s([],67056),e.s([],47196);let rh="42423301",rd=(e,t,r)=>{let i="object"!=typeof r;if(i){let e=new eV,t=new e1(1),i=e.g.mul(t);r=new eG(i.x,i.y)}let n=eJ(32),a=eR(n),o=`2-message signing-${a}`,s=t.deriveChild(r,o).sign(e).toDER(),f=t.toPublicKey().encode(!0);return[...eI(rh,"hex"),...f,...i?[0]:r.encode(!0),...n,...s]},rl=(e,t,r)=>{let i=new eU(t),n=eE(i.read(4));if(n!==rh)throw Error(`Message version mismatch: Expected ${rh}, received ${n}`);let a=eG.fromString(eE(i.read(33))),[o]=i.read(1);if(0===o)r=new e1(1);else{let e=eE([o,...i.read(32)]);if("object"!=typeof r)throw Error(`This signature can only be verified with knowledge of a specific private key. The associated public key is: ${e}`);let t=r.toPublicKey().encode(!0,"hex");if(e!==t)throw Error(`The recipient public key is ${t} but the signature requres the recipient to have public key ${e}`)}let s=eR(i.read(32)),f=eE(i.read(i.bin.length-i.pos)),c=eH.fromDER(f,"hex"),u=`2-message signing-${s}`;return a.deriveChild(r,u).verify(e,c)};e.s(["sign",0,rd,"verify",0,rl],74568);let rp="42421033",rb=(e,t,r)=>{let i=eJ(32),n=eR(i),a=`2-message encryption-${n}`,o=t.deriveChild(r,a),s=r.deriveChild(t,a),f=new tb(o.deriveSharedSecret(s).encode(!0).slice(1)).encrypt(e),c=t.toPublicKey().encode(!0);return[...eI(rp,"hex"),...c,...r.encode(!0),...i,...f]},ry=(e,t)=>{let r=new eU(e),i=eE(r.read(4));if(i!==rp)throw Error(`Message version mismatch: Expected ${rp}, received ${i}`);let n=eG.fromString(eE(r.read(33))),a=eE(r.read(33)),o=t.toPublicKey().encode(!0,"hex");if(a!==o)throw Error(`The encrypted message expects a recipient public key of ${a}, but the provided key is ${o}`);let s=eR(r.read(32)),f=r.read(r.bin.length-r.pos),c=`2-message encryption-${s}`,u=n.deriveChild(t,c),h=t.deriveChild(n,c);return new tb(u.deriveSharedSecret(h).encode(!0).slice(1)).decrypt(f)};e.s(["decrypt",0,ry,"encrypt",0,rb],9037),e.s([],26312);let rg="Bitcoin Signed Message:\n",rm=e=>{let t=new eF;return t.writeVarIntNum(rg.length),t.write(eI(rg,"utf8")),t.writeVarIntNum(e.length),t.write(e),ew(t.toArray())},rw=(e,t,i="base64")=>{let n=rm(e),a=eW(new r(n),t,!0);if("raw"===i)return a;let o=new r(n),s=a.CalculateRecoveryFactor(t.toPublicKey(),o);return a.toCompact(s,!0,"base64")},rv=(e,t,i)=>e$(new r(rm(e)),t,i);e.s(["magicHash",0,rm,"sign",0,rw,"verify",0,rv],75105);class r_{versionBytesNum;depth;parentFingerPrint;childIndex;chainCode;privKey;pubKey;constants={pubKey:0x488b21e,privKey:0x488ade4};constructor(e,t,r,i,n,a,o){this.versionBytesNum=e,this.depth=t,this.parentFingerPrint=r,this.childIndex=i,this.chainCode=n,this.privKey=a,this.pubKey=o}fromRandom(){return this.versionBytesNum=this.constants.privKey,this.depth=0,this.parentFingerPrint=[0,0,0,0],this.childIndex=0,this.chainCode=eJ(32),this.privKey=e1.fromRandom(),this.pubKey=this.privKey.toPublicKey(),this}static fromRandom(){return new this().fromRandom()}static fromString(e){return new this().fromString(e)}fromString(e){let t=eL(e);return this.fromBinary([...t.prefix,...t.data])}static fromSeed(e){return new this().fromSeed(e)}fromSeed(e){if(e.length<16)throw Error("Need more than 128 bits of entropy");if(e.length>64)throw Error("More than 512 bits of entropy is nonstandard");let t=ex(eI("Bitcoin seed","utf8"),e);return this.depth=0,this.parentFingerPrint=[0,0,0,0],this.childIndex=0,this.chainCode=t.slice(32,64),this.versionBytesNum=this.constants.privKey,this.privKey=new e1(t.slice(0,32)),this.pubKey=this.privKey.toPublicKey(),this}static fromBinary(e){return new this().fromBinary(e)}fromBinary(e){if(78!==e.length)throw Error("incorrect bip32 data length");let t=new eU(e);this.versionBytesNum=t.readUInt32BE(),this.depth=t.readUInt8(),this.parentFingerPrint=t.read(4),this.childIndex=t.readUInt32BE(),this.chainCode=t.read(32);let r=t.read(33),i=this.versionBytesNum===this.constants.privKey,n=this.versionBytesNum===this.constants.pubKey;if(i&&0===r[0])this.privKey=new e1(r.slice(1,33)),this.pubKey=this.privKey.toPublicKey();else if(n&&(2===r[0]||3===r[0]))this.pubKey=eG.fromString(eE(r));else throw Error("Invalid key");return this}toString(){return eD(this.toBinary(),[])}derive(e){if("m"===e)return this;let t=e.split("/"),r=this;for(let[e,i]of t.entries()){if(0===e){if("m"!==i)throw Error("invalid path");continue}if(parseInt(i.replace("'",""),10).toString()!==i.replace("'",""))throw Error("invalid path");let t=i.length>1&&"'"===i[i.length-1],n=0x7fffffff&parseInt(t?i.slice(0,i.length-1):i,10);t&&(n+=0x80000000),r=r.deriveChild(n)}return r}deriveChild(e){if("number"!=typeof e)throw Error("i must be a number");let t=[];t.push(e>>24&255),t.push(e>>16&255),t.push(e>>8&255),t.push(255&e);let i=[...t],n=(0x80000000&e)!=0,a=this.versionBytesNum===this.constants.privKey;if(n&&(null===this.privKey||void 0===this.privKey||!a))throw Error("Cannot do private key derivation without private key");let o=null;if(null!==this.privKey&&void 0!==this.privKey){let e=null;e=n?[0,...this.privKey.toArray("be",32),...i]:[...this.pubKey.encode(!0),...i];let t=ex(this.chainCode,e),a=new r(t.slice(0,32)),s=t.slice(32,64),f=a.add(this.privKey).mod(new eV().n);(o=new r_).chainCode=s,o.privKey=new e1(f.toArray()),o.pubKey=o.privKey.toPublicKey()}else{let e=[...this.pubKey.encode(!0),...i],t=ex(this.chainCode,e),n=new r(t.slice(0,32)),a=t.slice(32,64),s=new eV().g.mul(n),f=this.pubKey,c=s.add(f),u=new eG(c.x,c.y);(o=new r_).chainCode=a,o.pubKey=u}o.childIndex=e;let s=ev(this.pubKey.encode(!0));return o.parentFingerPrint=s.slice(0,4),o.versionBytesNum=this.versionBytesNum,o.depth=this.depth+1,o}toPublic(){let e=new r_(this.versionBytesNum,this.depth,this.parentFingerPrint,this.childIndex,this.chainCode,this.privKey,this.pubKey);return e.versionBytesNum=this.constants.pubKey,e.privKey=void 0,e}toBinary(){let e=this.versionBytesNum===this.constants.privKey,t=this.versionBytesNum===this.constants.pubKey;if(e)return new eF().writeUInt32BE(this.versionBytesNum).writeUInt8(this.depth).write(this.parentFingerPrint).writeUInt32BE(this.childIndex).write(this.chainCode).writeUInt8(0).write(this.privKey.toArray("be",32)).toArray();if(t)return new eF().writeUInt32BE(this.versionBytesNum).writeUInt8(this.depth).write(this.parentFingerPrint).writeUInt32BE(this.childIndex).write(this.chainCode).write(this.pubKey.encode(!0)).toArray();throw Error("bip32: invalid versionBytesNum byte")}isPrivate(){return this.versionBytesNum===this.constants.privKey}}e.s(["default",()=>r_],2115);let rx={value:["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],space:" "};class rS{mnemonic;seed;Wordlist;constructor(e,t,r=rx){this.mnemonic=e??"",this.seed=t??[],this.Wordlist=r}toBinary(){let e=new eF;if(""!==this.mnemonic){let t=eI(this.mnemonic,"utf8");e.writeVarIntNum(t.length),e.write(t)}else e.writeVarIntNum(0);return this.seed.length>0?(e.writeVarIntNum(this.seed.length),e.write(this.seed)):e.writeVarIntNum(0),e.toArray()}fromBinary(e){let t=new eU(e),r=t.readVarIntNum();r>0&&(this.mnemonic=eN(t.read(r),"utf8"));let i=t.readVarIntNum();return i>0&&(this.seed=t.read(i)),this}fromRandom(e){if((null==e||isNaN(e)||0===e)&&(e=128),e%32!=0)throw Error("bits must be multiple of 32");if(e<128)throw Error("bits must be at least 128");let t=eJ(e/8);return this.entropy2Mnemonic(t),this.mnemonic2Seed(),this}static fromRandom(e){return new this().fromRandom(e)}fromEntropy(e){return this.entropy2Mnemonic(e),this}static fromEntropy(e){return new this().fromEntropy(e)}fromString(e){return this.mnemonic=e,this}static fromString(e){return new this().fromString(e)}toString(){return this.mnemonic}toSeed(e){return this.mnemonic2Seed(e),this.seed}entropy2Mnemonic(e){if(e.length<16)throw Error("Entropy is less than 128 bits. It must be 128 bits or more.");let t=eg(e),r="",i=8*e.length;for(let t=0;t<e.length;t++)r+=("00000000"+e[t].toString(2)).slice(-8);let n=t[0].toString(2);if((r+=n=("00000000"+n).slice(-8).slice(0,i/32)).length%11!=0)throw Error("internal error - entropy not an even multiple of 11 bits - "+r.length.toString());let a="";for(let e=0;e<r.length/11;e++){""!==a&&(a+=this.Wordlist.space);let t=parseInt(r.slice(11*e,(e+1)*11),2);a+=this.Wordlist.value[t]}return this.mnemonic=a,this}check(){let e=this.mnemonic.split(this.Wordlist.space),t="";for(let r=0;r<e.length;r++){let i=this.Wordlist.value.indexOf(e[r]);if(i<0)return!1;t+=("00000000000"+i.toString(2)).slice(-11)}if(t.length%11!=0)throw Error("internal error - entropy not an even multiple of 11 bits - "+t.length.toString());let r=t.length/33,i=t.slice(-r),n=t.slice(0,t.length-r),a=[];for(let e=0;e<n.length/8;e++)a.push(parseInt(t.slice(8*e,(e+1)*8),2));let o=eg(a.slice(0,n.length/8))[0].toString(2);return(o=("00000000"+o).slice(-8).slice(0,r))===i}mnemonic2Seed(e=""){let t=this.mnemonic;if(!this.check())throw Error("Mnemonic does not pass the check - was the mnemonic typed incorrectly? Are there extra spaces?");if("string"!=typeof e)throw Error("passphrase must be a string or undefined");t=t.normalize("NFKD"),e=e.normalize("NFKD");let r=eI(t,"utf8"),i=[...eI("mnemonic","utf8"),...eI(e,"utf8")];return this.seed=eS(r,i,2048,64,"sha512"),this}isValid(e=""){let t;try{this.mnemonic2Seed(e),t=!0}catch{t=!1}return t}static isValid(e,t=""){return new rS(e).isValid(t)}}function rk(e){let t,r,i,n;0===this._tables[0][0][0]&&this._precompute();let a=this._tables[0][4],o=this._tables[1],s=e.length,f=1;if(4!==s&&6!==s&&8!==s)throw Error("invalid aes key size");for(this._key=[r=e.slice(0),i=[]],n=s;n<4*s+28;n++)t=r[n-1],(n%s==0||8===s&&n%s==4)&&(t=a[t>>>24]<<24^a[t>>16&255]<<16^a[t>>8&255]<<8^a[255&t],n%s==0&&(t=t<<8^t>>>24^f<<24,f=f<<1^(f>>7)*283)),r[n]=r[n-s]^t;for(let e=0;n>0;e++,n--)t=r[(3&e)!=0?n:n-4],n<=4||e<4?i[e]=t:i[e]=o[0][a[t>>>24]]^o[1][a[t>>16&255]]^o[2][a[t>>8&255]]^o[3][a[255&t]]}e.s(["default",()=>rS],9307),rk.prototype={encrypt:function(e){return this._crypt(e,0)},decrypt:function(e){return this._crypt(e,1)},_tables:[[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)]],_precompute:function(){let e,t,r,i,n,a,o,s,f=this._tables[0],c=this._tables[1],u=f[4],h=c[4],d=new Uint8Array(256),l=new Uint8Array(256);for(e=0;e<256;e++)l[(d[e]=e<<1^(e>>7)*283)^e]=e;for(t=r=0;0===u[t];t^=0!==i?i:1,r=0!==l[r]?l[r]:1)for(e=0,a=(a=r^r<<1^r<<2^r<<3^r<<4)>>8^255&a^99,u[t]=a,h[a]=t,s=0x1010101*d[n=d[i=d[t]]]^65537*n^257*i^0x1010100*t,o=257*d[a]^0x1010100*a;e<4;e++)f[e][t]=o=o<<24^o>>>8,c[e][a]=s=s<<24^s>>>8},_crypt:function(e,t){let r,i,n,a;if(4!==e.length)throw Error("invalid aes block size");let o=this._key[t],s=e[0]^o[0],f=e[1===t?3:1]^o[1],c=e[2]^o[2],u=e[1===t?1:3]^o[3],h=o.length/4-2,d=4,l=new Uint32Array(4),p=this._tables[t],b=p[0],y=p[1],g=p[2],m=p[3],w=p[4];for(a=0;a<h;a++)r=b[s>>>24]^y[f>>16&255]^g[c>>8&255]^m[255&u]^o[d],i=b[f>>>24]^y[c>>16&255]^g[u>>8&255]^m[255&s]^o[d+1],n=b[c>>>24]^y[u>>16&255]^g[s>>8&255]^m[255&f]^o[d+2],u=b[u>>>24]^y[s>>16&255]^g[f>>8&255]^m[255&c]^o[d+3],d+=4,s=r,f=i,c=n;for(a=0;a<4;a++)l[1===t?3&-a:a]=w[s>>>24]<<24^w[f>>16&255]<<16^w[c>>8&255]<<8^w[255&u]^o[d++],r=s,s=f,f=c,c=u,u=r;return l}};class rE{static encrypt(e,t){let r=rE.buf2Words(t),i=rE.buf2Words(e),n=new rk(r).encrypt(i);return rE.words2Buf(n)}static decrypt(e,t){let r=rE.buf2Words(e),i=new rk(rE.buf2Words(t)).decrypt(r);return rE.words2Buf(i)}static buf2Words(e){if(e.length%4!=0)throw Error("buf length must be a multiple of 4");let t=[];for(let r=0;r<e.length/4;r++){let i=0x1000000*e[4*r]+(e[4*r+1]<<16|e[4*r+2]<<8|e[4*r+3]);t.push(i)}return t}static words2Buf(e){let t=Array(4*e.length);for(let r=0;r<e.length;r++){let i=e[r];t[4*r]=i>>>24&255,t[4*r+1]=i>>>16&255,t[4*r+2]=i>>>8&255,t[4*r+3]=255&i}return t}}class rI{static buf2BlocksBuf(e,t){let r=t/8,i=[];for(let n=0;n<=e.length/r;n++){let a=e.slice(n*r,n*r+r);a.length<t&&(a=rI.pkcs7Pad(a,t)),i.push(a)}return i}static blockBufs2Buf(e){let t=e[e.length-1];return t=rI.pkcs7Unpad(t),e[e.length-1]=t,e.flat()}static encrypt(e,t,r,i){let n=8*t.length,a=rI.buf2BlocksBuf(e,n);return rI.encryptBlocks(a,t,r,i).flat()}static decrypt(e,t,r,i){let n=t.length,a=[];for(let t=0;t<e.length/n;t++)a.push(e.slice(t*n,t*n+n));let o=rI.decryptBlocks(a,t,r,i);return rI.blockBufs2Buf(o)}static encryptBlock(e,t,r,i){let n=rI.xorBufs(e,t);return r.encrypt(n,i)}static decryptBlock(e,t,r,i){let n=r.decrypt(e,i);return rI.xorBufs(n,t)}static encryptBlocks(e,t,r,i){let n=[];for(let a=0;a<e.length;a++){let o=e[a],s=rI.encryptBlock(o,t,r,i);n.push(s),t=s}return n}static decryptBlocks(e,t,r,i){let n=[];for(let a=0;a<e.length;a++){let o=e[a],s=rI.decryptBlock(o,t,r,i);n.push(s),t=o}return n}static pkcs7Pad(e,t){let r=t/8-e.length,i=Array(r);return i.fill(r),[...e,...i]}static pkcs7Unpad(e){let t=e[e.length-1],r=e.slice(e.length-t,e.length),i=Array(t);if(i.fill(t),eE(r)!==eE(i))throw Error("invalid padding");return e.slice(0,e.length-t)}static xorBufs(e,t){if(e.length!==t.length)throw Error("bufs must have the same length");let r=Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}}class rA{static encrypt(e,t,r,i=!0){r=r??eJ(16);let n=rI.encrypt(e,r,rE,t);return i?[...r,...n]:[...n]}static decrypt(e,t,r){if(null==r){r=e.slice(0,16);let i=e.slice(16);return rI.decrypt(i,r,rE,t)}{let i=e;return rI.decrypt(i,r,rE,t)}}}class rM{static ivkEkM(e,t){let r=e,i=t.mul(r),n=em(new eG(i.x,i.y).encode(!0));return{iv:n.slice(0,16),kE:n.slice(16,32),kM:n.slice(32,64)}}static electrumEncrypt(e,t,r,i=!1){let n,a=null;null==r&&(r=e1.fromRandom()),i||(a=r.toPublicKey().encode(!0));let{iv:o,kE:s,kM:f}=rM.ivkEkM(r,t),c=rA.encrypt(e,s,o,!1),u=eI("BIE1","utf8"),h=e_(f,n=null!=a&&a.length>0?[...u,...a,...c]:[...u,...c]);return[...n,...h]}static electrumDecrypt(e,t,r){let i=32;if("BIE1"!==eN(e.slice(0,4),"utf8"))throw Error("Invalid Magic");let n=4,a=null;if(e.length-n-i>=33){let t=e[n];2===t||3===t?(a=e.slice(n,n+33),n+=33):4===t&&(a=e.slice(n,n+65),n+=65)}if(null!==a)null==r&&(r=eG.fromString(eE(a)));else if(null==r)throw Error("Sender public key is required");let{iv:o,kE:s,kM:f}=rM.ivkEkM(t,r),c=e.slice(n,e.length-i),u=e.slice(e.length-i,e.length),h=e_(f,e.slice(0,e.length-i));if(eE(u)!==eE(h))throw Error("Invalid checksum");return rA.decrypt(c,s,o)}static bitcoreEncrypt(e,t,r,i){null==r&&(r=e1.fromRandom()),null==i&&(i=eJ(16));let n=r,a=r.toPublicKey().encode(!0),o=em(t.mul(n).getX().toArray("be",32)),s=o.slice(0,32),f=o.slice(32,64),c=rA.encrypt(e,s,i),u=e_(f,[...c]);return[...a,...c,...u]}static bitcoreDecrypt(e,t){let r=t,i=eG.fromString(eE(e.slice(0,33))).mul(r);if(i.eq(new eq(0,0)))throw Error("P equals 0");let n=em(i.getX().toArray("be",32)),a=n.slice(0,32),o=n.slice(32,64),s=e.slice(33,e.length-32),f=e.slice(e.length-32,e.length),c=e_(o,s);if(eE(f)!==eE(c))throw Error("Invalid checksum");return[...rA.decrypt(s,a)]}}function rP(e,t){let r=new re(0,[],[],0);return r.outputs=Array(e.vout+1).fill(null),r.outputs[e.vout]={satoshis:e.satoshis,lockingScript:t_.fromHex(e.script)},{sourceTransaction:r,sourceTXID:e.txid,sourceOutputIndex:e.vout,unlockingScriptTemplate:t,sequence:0xffffffff}}e.s(["default",()=>rM],53364),e.s(["default",()=>rP],49490),e.s([],54717);class rO{static generate(e,t){let r=this.withDefaultOptions(t);return rN(e,this.getCounter(r.timestamp,r.period),r)}static validate(e,t,r){let i=this.withDefaultValidateOptions(r);if((t=t.trim()).length!==i.digits)return!1;let n=this.getCounter(i.timestamp,i.period),a=[n];for(let e=1;e<=i.skew;e++)a.push(n+e),a.push(n-e);for(let r of a)if(t===rN(e,r,i))return!0;return!1}static getCounter(e,t){return Math.floor(Math.floor(e/1e3)/t)}static withDefaultOptions(e){return{digits:2,algorithm:"SHA-1",period:30,timestamp:Date.now(),...e}}static withDefaultValidateOptions(e){return{skew:1,...this.withDefaultOptions(e)}}}function rN(e,t,i){let n=rR(e,new r(t).toArray("be",8),i.algorithm).digest(),a=15&n[n.length-1],o=n.slice(a,a+4),s=0x7fffffff;return(new r(o).toNumber()&s).toString().slice(-i.digits)}function rR(e,t,r){switch(r){case"SHA-1":return new el(e).update(t);case"SHA-256":return new ed(e).update(t);case"SHA-512":return new ep(e).update(t);default:throw Error("unsupported HMAC algorithm")}}e.s(["TOTP",()=>rO],14918),e.s([],49677),function(e){e[e.Silent=0]="Silent",e[e.App=1]="App",e[e.Counterparty=2]="Counterparty"}(tj||(tj={})),e.s(["SecurityLevels",()=>tj],76285);var tK=tK,tH=tH;class rT{rootKey;identityKey;constructor(e){"anyone"===e?this.rootKey=new e1(1):this.rootKey=e,this.identityKey=this.rootKey.toPublicKey().toString()}derivePublicKey(e,t,r,i=!1){return(r=this.normalizeCounterparty(r),i)?this.rootKey.deriveChild(r,this.computeInvoiceNumber(e,t)).toPublicKey():r.deriveChild(this.rootKey,this.computeInvoiceNumber(e,t))}derivePrivateKey(e,t,r){return r=this.normalizeCounterparty(r),this.rootKey.deriveChild(r,this.computeInvoiceNumber(e,t))}deriveSymmetricKey(e,t,r){"anyone"===r&&(r=new e1(1).toPublicKey()),r=this.normalizeCounterparty(r);let i=this.derivePublicKey(e,t,r),n=this.derivePrivateKey(e,t,r);return new tb(n.deriveSharedSecret(i)?.x?.toArray()??[])}revealCounterpartySecret(e){if("self"===e)throw Error("Counterparty secrets cannot be revealed for counterparty=self.");e=this.normalizeCounterparty(e);let t=this.rootKey.toPublicKey();if(this.rootKey.deriveChild(t,"test").toHex()===this.rootKey.deriveChild(e,"test").toHex())throw Error("Counterparty secrets cannot be revealed for counterparty=self.");return this.rootKey.deriveSharedSecret(e).encode(!0)}revealSpecificSecret(e,t,r){e=this.normalizeCounterparty(e);let i=this.rootKey.deriveSharedSecret(e),n=tH.toArray(this.computeInvoiceNumber(t,r),"utf8");return tK.sha256hmac(i.encode(!0),n)}normalizeCounterparty(e){if(null==e)throw Error("counterparty must be self, anyone or a public key!");return"self"===e?this.rootKey.toPublicKey():"anyone"===e?new e1(1).toPublicKey():"string"==typeof e?eG.fromString(e):e}computeInvoiceNumber(e,t){let r=e[0];if(!Number.isInteger(r)||r<0||r>2)throw Error("Protocol security level must be 0, 1, or 2");let i=e[1].toLowerCase().trim();if(t.length>800)throw Error("Key IDs must be 800 characters or less");if(t.length<1)throw Error("Key IDs must be 1 character or more");if(i.length>400)if(i.startsWith("specific linkage revelation ")){if(i.length>430)throw Error("Specific linkage revelation protocol names must be 430 characters or less")}else throw Error("Protocol names must be 400 characters or less");if(i.length<5)throw Error("Protocol names must be 5 characters or more");if(i.includes("  "))throw Error('Protocol names cannot contain multiple consecutive spaces ("  ")');if(!/^[a-z0-9 ]+$/g.test(i))throw Error("Protocol names can only contain letters, numbers and spaces");if(i.endsWith(" protocol"))throw Error('No need to end your protocol name with " protocol"');return`${r}-${i}-${t}`}}let rC=rT;e.s(["KeyDeriver",()=>rT,"default",0,rC],43151);class rB{keyDeriver;cache;maxCacheSize;constructor(e,t){this.keyDeriver=new rT(e),this.cache=new Map;const r=t?.maxCacheSize;this.maxCacheSize=null!=r&&!isNaN(r)&&r>0?r:1e3}derivePublicKey(e,t,r,i=!1){let n=this.generateCacheKey("derivePublicKey",e,t,r,i);if(this.cache.has(n)){let e=this.cacheGet(n);if(void 0===e)throw Error("Cached value is undefined");return e}{let a=this.keyDeriver.derivePublicKey(e,t,r,i);return this.cacheSet(n,a),a}}derivePrivateKey(e,t,r){let i=this.generateCacheKey("derivePrivateKey",e,t,r);if(this.cache.has(i)){let e=this.cacheGet(i);if(void 0===e)throw Error("Cached value is undefined");return e}{let n=this.keyDeriver.derivePrivateKey(e,t,r);return this.cacheSet(i,n),n}}deriveSymmetricKey(e,t,r){let i=this.generateCacheKey("deriveSymmetricKey",e,t,r);if(this.cache.has(i)){let e=this.cacheGet(i);if(void 0===e)throw Error("Cached value is undefined");return e}{let n=this.keyDeriver.deriveSymmetricKey(e,t,r);return this.cacheSet(i,n),n}}revealCounterpartySecret(e){let t=this.generateCacheKey("revealCounterpartySecret",e);if(this.cache.has(t)){let e=this.cacheGet(t);if(void 0===e)throw Error("Cached value is undefined");return e}{let r=this.keyDeriver.revealCounterpartySecret(e);return this.cacheSet(t,r),r}}revealSpecificSecret(e,t,r){let i=this.generateCacheKey("revealSpecificSecret",e,t,r);if(this.cache.has(i)){let e=this.cacheGet(i);if(void 0===e)throw Error("Cached value is undefined");return e}{let n=this.keyDeriver.revealSpecificSecret(e,t,r);return this.cacheSet(i,n),n}}generateCacheKey(e,...t){let r=t.map(e=>this.serializeArgument(e)).join("|");return`${e}|${r}`}serializeArgument(e){return e instanceof eG||e instanceof e1?e.toString():Array.isArray(e)?e.map(e=>this.serializeArgument(e)).join(","):"object"==typeof e&&null!==e?JSON.stringify(e):String(e)}cacheGet(e){let t=this.cache.get(e);return this.cache.delete(e),void 0!==t&&this.cache.set(e,t),t}cacheSet(e,t){if(this.cache.size>=this.maxCacheSize){let e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}}e.s(["default",()=>rB],64609);var tK=tK,rD=e.i(17947),rD=rD;class rL{keyDeriver;constructor(e){"string"!=typeof e.identityKey&&(e=new rT(e)),this.keyDeriver=e}async getPublicKey(e){if(e.identityKey){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");return{publicKey:this.keyDeriver.rootKey.toPublicKey().toString()}}if(null==e.protocolID||null==e.keyID||""===e.keyID)throw Error("protocolID and keyID are required if identityKey is false or undefined.");return{publicKey:(this.keyDeriver??(()=>{throw Error("keyDeriver is undefined")})()).derivePublicKey(e.protocolID,e.keyID,e.counterparty??"self",e.forSelf).toString()}}async revealCounterpartyKeyLinkage(e){let{publicKey:t}=await this.getPublicKey({identityKey:!0});if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let r=this.keyDeriver.revealCounterpartySecret(e.counterparty),i=new tg().generateProof(this.keyDeriver.rootKey,this.keyDeriver.rootKey.toPublicKey(),eG.fromString(e.counterparty),eq.fromDER(r)),n=[...i.R.encode(!0),...i.SPrime.encode(!0),...i.z.toArray()],a=new Date().toISOString(),{ciphertext:o}=await this.encrypt({plaintext:r,protocolID:[2,"counterparty linkage revelation"],keyID:a,counterparty:e.verifier}),{ciphertext:s}=await this.encrypt({plaintext:n,protocolID:[2,"counterparty linkage revelation"],keyID:a,counterparty:e.verifier});return{prover:t,verifier:e.verifier,counterparty:e.counterparty,revelationTime:a,encryptedLinkage:o,encryptedLinkageProof:s}}async revealSpecificKeyLinkage(e){let{publicKey:t}=await this.getPublicKey({identityKey:!0});if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let r=this.keyDeriver.revealSpecificSecret(e.counterparty,e.protocolID,e.keyID),{ciphertext:i}=await this.encrypt({plaintext:r,protocolID:[2,`specific linkage revelation ${e.protocolID[0]} ${e.protocolID[1]}`],keyID:e.keyID,counterparty:e.verifier}),{ciphertext:n}=await this.encrypt({plaintext:[0],protocolID:[2,`specific linkage revelation ${e.protocolID[0]} ${e.protocolID[1]}`],keyID:e.keyID,counterparty:e.verifier});return{prover:t,verifier:e.verifier,counterparty:e.counterparty,protocolID:e.protocolID,keyID:e.keyID,encryptedLinkage:i,encryptedLinkageProof:n,proofType:0}}async encrypt(e){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");return{ciphertext:this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self").encrypt(e.plaintext)}}async decrypt(e){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");return{plaintext:this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self").decrypt(e.ciphertext)}}async createHmac(e){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let t=this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self");return{hmac:tK.sha256hmac(t.toArray(),e.data)}}async verifyHmac(e){if(null==this.keyDeriver)throw Error("keyDeriver is undefined");let t=this.keyDeriver.deriveSymmetricKey(e.protocolID,e.keyID,e.counterparty??"self"),r=tK.sha256hmac(t.toArray(),e.data).toString()===e.hmac.toString();if(!r){let e=Error("HMAC is not valid");throw e.code="ERR_INVALID_HMAC",e}return{valid:r}}async createSignature(e){if(null==e.hashToDirectlySign&&null==e.data)throw Error("args.data or args.hashToDirectlySign must be valid");let t=e.hashToDirectlySign??tK.sha256(e.data??[]),i=(this.keyDeriver??(()=>{throw Error("keyDeriver is undefined")})()).derivePrivateKey(e.protocolID,e.keyID,e.counterparty??"anyone");return{signature:rD.sign(new r(t),i,!0).toDER()}}async verifySignature(e){if(null==e.hashToDirectlyVerify&&null==e.data)throw Error("args.data or args.hashToDirectlyVerify must be valid");let t=e.hashToDirectlyVerify??tK.sha256(e.data??[]),i=(this.keyDeriver??(()=>{throw Error("keyDeriver is undefined")})()).derivePublicKey(e.protocolID,e.keyID,e.counterparty??"self",e.forSelf),n=rD.verify(new r(t),eH.fromDER(e.signature),i);if(!n){let e=Error("Signature is not valid");throw e.code="ERR_INVALID_SIGNATURE",e}return{valid:n}}}let rF=rL;e.s(["default",0,rF],30902);class rU{CWI;constructor(){if("object"!=typeof window)throw Error("The window.CWI substrate requires a global window object.");if("object"!=typeof window.CWI)throw Error("The window.CWI interface does not appear to be bound to the window object.");this.CWI=window.CWI}async createAction(e,t){return await this.CWI.createAction(e,t)}async signAction(e,t){return await this.CWI.signAction(e,t)}async abortAction(e,t){return await this.CWI.abortAction(e,t)}async listActions(e,t){return await this.CWI.listActions(e,t)}async internalizeAction(e,t){return await this.CWI.internalizeAction(e,t)}async listOutputs(e,t){return await this.CWI.listOutputs(e,t)}async relinquishOutput(e,t){return await this.CWI.relinquishOutput(e,t)}async getPublicKey(e,t){return await this.CWI.getPublicKey(e,t)}async revealCounterpartyKeyLinkage(e,t){return await this.CWI.revealCounterpartyKeyLinkage(e,t)}async revealSpecificKeyLinkage(e,t){return await this.CWI.revealSpecificKeyLinkage(e,t)}async encrypt(e,t){return await this.CWI.encrypt(e,t)}async decrypt(e,t){return await this.CWI.decrypt(e,t)}async createHmac(e,t){return await this.CWI.createHmac(e,t)}async verifyHmac(e,t){return await this.CWI.verifyHmac(e,t)}async createSignature(e,t){return await this.CWI.createSignature(e,t)}async verifySignature(e,t){return await this.CWI.verifySignature(e,t)}async acquireCertificate(e,t){return await this.CWI.acquireCertificate(e,t)}async listCertificates(e,t){return await this.CWI.listCertificates(e,t)}async proveCertificate(e,t){return await this.CWI.proveCertificate(e,t)}async relinquishCertificate(e,t){return await this.CWI.relinquishCertificate(e,t)}async discoverByIdentityKey(e,t){return await this.CWI.discoverByIdentityKey(e,t)}async discoverByAttributes(e,t){return await this.CWI.discoverByAttributes(e,t)}async isAuthenticated(e,t){return await this.CWI.isAuthenticated(e,t)}async waitForAuthentication(e,t){return await this.CWI.waitForAuthentication(e,t)}async getHeight(e,t){return await this.CWI.getHeight(e,t)}async getHeaderForHeight(e,t){return await this.CWI.getHeaderForHeight(e,t)}async getNetwork(e,t){return await this.CWI.getNetwork(e,t)}async getVersion(e,t){return await this.CWI.getVersion(e,t)}}e.s(["default",()=>rU],78605);class rj extends Error{code;isError=!0;constructor(e,t=1,r){super(e),this.code=t,this.name=this.constructor.name,null!=r&&""!==r?this.stack=r:Error.captureStackTrace(this,this.constructor)}}!function(e){e[e.unknownError=1]="unknownError",e[e.unsupportedAction=2]="unsupportedAction",e[e.invalidHmac=3]="invalidHmac",e[e.invalidSignature=4]="invalidSignature",e[e.reviewActions=5]="reviewActions"}(tq||(tq={}));let rq=rj;e.s(["WalletError",()=>rj,"default",0,rq,"walletErrors",()=>tq],39923);class rV{domain;constructor(e="*"){if("object"!=typeof window)throw Error("The XDM substrate requires a global window object.");if("function"!=typeof window.postMessage)throw Error("The window object does not seem to support postMessage calls.");this.domain=e}async invoke(e,t){return await new Promise((r,i)=>{let n=eR(eJ(12)),a=e=>{"CWI"===e.data.type&&e.isTrusted&&e.data.id===n&&!0!==e.data.isInvocation&&("function"==typeof window.removeEventListener&&window.removeEventListener("message",a),"error"===e.data.status?i(new rj(e.data.description,e.data.code)):r(e.data.result))};window.addEventListener("message",a),window.parent.postMessage({type:"CWI",isInvocation:!0,id:n,call:e,args:t},this.domain)})}async createAction(e){return await this.invoke("createAction",e)}async signAction(e){return await this.invoke("signAction",e)}async abortAction(e){return await this.invoke("abortAction",e)}async listActions(e){return await this.invoke("listActions",e)}async internalizeAction(e){return await this.invoke("internalizeAction",e)}async listOutputs(e){return await this.invoke("listOutputs",e)}async relinquishOutput(e){return await this.invoke("relinquishOutput",e)}async getPublicKey(e){return await this.invoke("getPublicKey",e)}async revealCounterpartyKeyLinkage(e){return await this.invoke("revealCounterpartyKeyLinkage",e)}async revealSpecificKeyLinkage(e){return await this.invoke("revealSpecificKeyLinkage",e)}async encrypt(e){return await this.invoke("encrypt",e)}async decrypt(e){return await this.invoke("decrypt",e)}async createHmac(e){return await this.invoke("createHmac",e)}async verifyHmac(e){return await this.invoke("verifyHmac",e)}async createSignature(e){return await this.invoke("createSignature",e)}async verifySignature(e){return await this.invoke("verifySignature",e)}async acquireCertificate(e){return await this.invoke("acquireCertificate",e)}async listCertificates(e){return await this.invoke("listCertificates",e)}async proveCertificate(e){return await this.invoke("proveCertificate",e)}async relinquishCertificate(e){return await this.invoke("relinquishCertificate",e)}async discoverByIdentityKey(e){return await this.invoke("discoverByIdentityKey",e)}async discoverByAttributes(e){return await this.invoke("discoverByAttributes",e)}async isAuthenticated(e){return await this.invoke("isAuthenticated",e)}async waitForAuthentication(e){return await this.invoke("waitForAuthentication",e)}async getHeight(e){return await this.invoke("getHeight",e)}async getHeaderForHeight(e){return await this.invoke("getHeaderForHeight",e)}async getNetwork(e){return await this.invoke("getNetwork",e)}async getVersion(e){return await this.invoke("getVersion",e)}}e.s(["default",()=>rV],11102);class rH{type;serialNumber;subject;certifier;revocationOutpoint;fields;signature;constructor(e,t,r,i,n,a,o){this.type=e,this.serialNumber=t,this.subject=r,this.certifier=i,this.revocationOutpoint=n,this.fields=a,this.signature=o}toBinary(e=!0){let t=new eF,r=eI(this.type,"base64");t.write(r);let i=eI(this.serialNumber,"base64");t.write(i);let n=eI(this.subject,"hex");t.write(n);let a=eI(this.certifier,"hex");t.write(a);let[o,s]=this.revocationOutpoint.split("."),f=eI(o,"hex");t.write(f),t.writeVarIntNum(Number(s));let c=Object.keys(this.fields).sort();for(let e of(t.writeVarIntNum(c.length),c)){let r=this.fields[e],i=eI(e,"utf8");t.writeVarIntNum(i.length),t.write(i);let n=eI(r,"utf8");t.writeVarIntNum(n.length),t.write(n)}if(e&&(this.signature??"").length>0){let e=eI(this.signature,"hex");t.write(e)}return t.toArray()}static fromBinary(e){let t,r=new eU(e),i=eR(r.read(32)),n=eR(r.read(32)),a=eE(r.read(33)),o=eE(r.read(33)),s=eE(r.read(32)),f=r.readVarIntNum(),c=`${s}.${f}`,u=r.readVarIntNum(),h={};for(let e=0;e<u;e++){let e=r.readVarIntNum(),t=eO(r.read(e)),i=r.readVarIntNum(),n=eO(r.read(i));h[t]=n}if(!r.eof()){let e=r.read();t=eH.fromDER(e).toString("hex")}return new rH(i,n,a,o,c,h,t)}async verify(){let e=new rF("anyone"),t=this.toBinary(!1),r=this.signature??"",{valid:i}=await e.verifySignature({signature:eI(r,"hex"),data:t,protocolID:[2,"certificate signature"],keyID:`${this.type} ${this.serialNumber}`,counterparty:this.certifier});return i}async sign(e){if(null!=this.signature&&this.signature.length>0)throw Error(`Certificate has already been signed! Signature present: ${this.signature}`);this.certifier=(await e.getPublicKey({identityKey:!0})).publicKey;let t=this.toBinary(!1),{signature:r}=await e.createSignature({data:t,protocolID:[2,"certificate signature"],keyID:`${this.type} ${this.serialNumber}`});this.signature=eE(r)}static getCertificateFieldEncryptionDetails(e,t){return{protocolID:[2,"certificate field encryption"],keyID:t?`${t} ${e}`:e}}}e.s(["default",()=>rH],55135),function(e){e[e.createAction=1]="createAction",e[e.signAction=2]="signAction",e[e.abortAction=3]="abortAction",e[e.listActions=4]="listActions",e[e.internalizeAction=5]="internalizeAction",e[e.listOutputs=6]="listOutputs",e[e.relinquishOutput=7]="relinquishOutput",e[e.getPublicKey=8]="getPublicKey",e[e.revealCounterpartyKeyLinkage=9]="revealCounterpartyKeyLinkage",e[e.revealSpecificKeyLinkage=10]="revealSpecificKeyLinkage",e[e.encrypt=11]="encrypt",e[e.decrypt=12]="decrypt",e[e.createHmac=13]="createHmac",e[e.verifyHmac=14]="verifyHmac",e[e.createSignature=15]="createSignature",e[e.verifySignature=16]="verifySignature",e[e.acquireCertificate=17]="acquireCertificate",e[e.listCertificates=18]="listCertificates",e[e.proveCertificate=19]="proveCertificate",e[e.relinquishCertificate=20]="relinquishCertificate",e[e.discoverByIdentityKey=21]="discoverByIdentityKey",e[e.discoverByAttributes=22]="discoverByAttributes",e[e.isAuthenticated=23]="isAuthenticated",e[e.waitForAuthentication=24]="waitForAuthentication",e[e.getHeight=25]="getHeight",e[e.getHeaderForHeight=26]="getHeaderForHeight",e[e.getNetwork=27]="getNetwork",e[e.getVersion=28]="getVersion"}(tV||(tV={}));let rK=tV;e.s(["default",0,rK],53228);class rz{wire;constructor(e){this.wire=e}async transmit(e,t="",r=[]){let i=new eF;i.writeUInt8(rK[e]);let n=eI(t,"utf8");i.writeUInt8(n.length),i.write(n),r.length>0&&i.write(r);let a=i.toArray(),o=new eU(await this.wire.transmitToWallet(a)),s=o.readUInt8();if(0===s)return o.read();{let e=o.readVarIntNum(),t=eO(o.read(e)),r=o.readVarIntNum();throw new rj(t,s,eO(o.read(r)))}}async createAction(e,t){let r=new eF,i=eI(e.description,"utf8");if(r.writeVarIntNum(i.length),r.write(i),null!=e.inputBEEF?(r.writeVarIntNum(e.inputBEEF.length),r.write(e.inputBEEF)):r.writeVarIntNum(-1),null!=e.inputs)for(let t of(r.writeVarIntNum(e.inputs.length),e.inputs)){if(r.write(this.encodeOutpoint(t.outpoint)),null!=t.unlockingScript&&""!==t.unlockingScript){let e=eI(t.unlockingScript,"hex");r.writeVarIntNum(e.length),r.write(e)}else r.writeVarIntNum(-1),r.writeVarIntNum(t.unlockingScriptLength??0);let e=eI(t.inputDescription,"utf8");r.writeVarIntNum(e.length),r.write(e),"number"==typeof t.sequenceNumber?r.writeVarIntNum(t.sequenceNumber):r.writeVarIntNum(-1)}else r.writeVarIntNum(-1);if(null!=e.outputs)for(let t of(r.writeVarIntNum(e.outputs.length),e.outputs)){let e=eI(t.lockingScript,"hex");r.writeVarIntNum(e.length),r.write(e),r.writeVarIntNum(t.satoshis);let i=eI(t.outputDescription,"utf8");if(r.writeVarIntNum(i.length),r.write(i),null!=t.basket&&""!==t.basket){let e=eI(t.basket,"utf8");r.writeVarIntNum(e.length),r.write(e)}else r.writeVarIntNum(-1);if(null!=t.customInstructions&&""!==t.customInstructions){let e=eI(t.customInstructions,"utf8");r.writeVarIntNum(e.length),r.write(e)}else r.writeVarIntNum(-1);if(null!=t.tags)for(let e of(r.writeVarIntNum(t.tags.length),t.tags)){let t=eI(e,"utf8");r.writeVarIntNum(t.length),r.write(t)}else r.writeVarIntNum(-1)}else r.writeVarIntNum(-1);if("number"==typeof e.lockTime?r.writeVarIntNum(e.lockTime):r.writeVarIntNum(-1),"number"==typeof e.version?r.writeVarIntNum(e.version):r.writeVarIntNum(-1),null!=e.labels)for(let t of(r.writeVarIntNum(e.labels.length),e.labels)){let e=eI(t,"utf8");r.writeVarIntNum(e.length),r.write(e)}else r.writeVarIntNum(-1);if(null!=e.options){if(r.writeInt8(1),"boolean"==typeof e.options.signAndProcess?r.writeInt8(+!!e.options.signAndProcess):r.writeInt8(-1),"boolean"==typeof e.options.acceptDelayedBroadcast?r.writeInt8(+!!e.options.acceptDelayedBroadcast):r.writeInt8(-1),"known"===e.options.trustSelf?r.writeInt8(1):r.writeInt8(-1),null!=e.options.knownTxids)for(let t of(r.writeVarIntNum(e.options.knownTxids.length),e.options.knownTxids)){let e=eI(t,"hex");r.write(e)}else r.writeVarIntNum(-1);if("boolean"==typeof e.options.returnTXIDOnly?r.writeInt8(+!!e.options.returnTXIDOnly):r.writeInt8(-1),"boolean"==typeof e.options.noSend?r.writeInt8(+!!e.options.noSend):r.writeInt8(-1),null!=e.options.noSendChange)for(let t of(r.writeVarIntNum(e.options.noSendChange.length),e.options.noSendChange))r.write(this.encodeOutpoint(t));else r.writeVarIntNum(-1);if(null!=e.options.sendWith)for(let t of(r.writeVarIntNum(e.options.sendWith.length),e.options.sendWith)){let e=eI(t,"hex");r.write(e)}else r.writeVarIntNum(-1);"boolean"==typeof e.options.randomizeOutputs?r.writeInt8(+!!e.options.randomizeOutputs):r.writeInt8(-1)}else r.writeInt8(0);let n=new eU(await this.transmit("createAction",t,r.toArray())),a={};if(1===n.readInt8()&&(a.txid=eE(n.read(32))),1===n.readInt8()){let e=n.readVarIntNum();a.tx=n.read(e)}let o=n.readVarIntNum();if(o>=0){a.noSendChange=[];for(let e=0;e<o;e++){let e=this.readOutpoint(n);a.noSendChange.push(e)}}let s=n.readVarIntNum();if(s>=0){a.sendWithResults=[];for(let e=0;e<s;e++){let e=eE(n.read(32)),t=n.readInt8(),r="unproven";1===t?r="unproven":2===t?r="sending":3===t&&(r="failed"),a.sendWithResults.push({txid:e,status:r})}}if(1===n.readInt8()){let e=n.readVarIntNum(),t=n.read(e),r=n.readVarIntNum();a.signableTransaction={tx:t,reference:eR(n.read(r))}}return a}async signAction(e,t){let r=new eF,i=Object.keys(e.spends);for(let t of(r.writeVarIntNum(i.length),i)){r.writeVarIntNum(Number(t));let i=e.spends[Number(t)],n=eI(i.unlockingScript,"hex");r.writeVarIntNum(n.length),r.write(n),"number"==typeof i.sequenceNumber?r.writeVarIntNum(i.sequenceNumber):r.writeVarIntNum(-1)}let n=eI(e.reference,"base64");if(r.writeVarIntNum(n.length),r.write(n),null!=e.options)if(r.writeInt8(1),"boolean"==typeof e.options.acceptDelayedBroadcast?r.writeInt8(+!!e.options.acceptDelayedBroadcast):r.writeInt8(-1),"boolean"==typeof e.options.returnTXIDOnly?r.writeInt8(+!!e.options.returnTXIDOnly):r.writeInt8(-1),"boolean"==typeof e.options.noSend?r.writeInt8(+!!e.options.noSend):r.writeInt8(-1),null!=e.options.sendWith)for(let t of(r.writeVarIntNum(e.options.sendWith.length),e.options.sendWith)){let e=eI(t,"hex");r.write(e)}else r.writeVarIntNum(-1);else r.writeInt8(0);let a=new eU(await this.transmit("signAction",t,r.toArray())),o={};if(1===a.readInt8()&&(o.txid=eE(a.read(32))),1===a.readInt8()){let e=a.readVarIntNum();o.tx=a.read(e)}let s=a.readVarIntNum();if(s>=0){o.sendWithResults=[];for(let e=0;e<s;e++){let e=eE(a.read(32)),t=a.readInt8(),r="unproven";1===t?r="unproven":2===t?r="sending":3===t&&(r="failed"),o.sendWithResults.push({txid:e,status:r})}}return o}async abortAction(e,t){return await this.transmit("abortAction",t,eI(e.reference,"base64")),{aborted:!0}}async listActions(e,t){let r=new eF;for(let t of(r.writeVarIntNum(e.labels.length),e.labels)){let e=eI(t,"utf8");r.writeVarIntNum(e.length),r.write(e)}for(let t of("any"===e.labelQueryMode?r.writeInt8(1):"all"===e.labelQueryMode?r.writeInt8(2):r.writeInt8(-1),[e.includeLabels,e.includeInputs,e.includeInputSourceLockingScripts,e.includeInputUnlockingScripts,e.includeOutputs,e.includeOutputLockingScripts]))"boolean"==typeof t?r.writeInt8(+!!t):r.writeInt8(-1);"number"==typeof e.limit?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),"number"==typeof e.offset?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1);let i=new eU(await this.transmit("listActions",t,r.toArray())),n=i.readVarIntNum(),a=[];for(let e=0;e<n;e++){let e,t=eE(i.read(32)),r=i.readVarIntNum(),n=i.readInt8();switch(n){case 1:e="completed";break;case 2:e="unprocessed";break;case 3:e="sending";break;case 4:e="unproven";break;case 5:e="unsigned";break;case 6:e="nosend";break;case 7:e="nonfinal";break;case 8:e="failed";break;default:throw Error(`Unknown status code: ${n}`)}let o=1===i.readInt8(),s=i.readVarIntNum(),f={txid:t,satoshis:r,status:e,isOutgoing:o,description:eO(i.read(s)),version:0,lockTime:0},c=i.readVarIntNum();if(c>=0){f.labels=[];for(let e=0;e<c;e++){let e=i.readVarIntNum(),t=i.read(e);f.labels.push(eO(t))}}f.version=i.readVarIntNum(),f.lockTime=i.readVarIntNum();let u=i.readVarIntNum();if(u>=0){f.inputs=[];for(let e=0;e<u;e++){let e,t,r=this.readOutpoint(i),n=i.readVarIntNum(),a=i.readVarIntNum();a>=0&&(e=eE(i.read(a)));let o=i.readVarIntNum();o>=0&&(t=eE(i.read(o)));let s=i.readVarIntNum(),c=eO(i.read(s)),u=i.readVarIntNum();f.inputs.push({sourceOutpoint:r,sourceSatoshis:n,sourceLockingScript:e,unlockingScript:t,inputDescription:c,sequenceNumber:u})}}let h=i.readVarIntNum();if(h>=0){f.outputs=[];for(let e=0;e<h;e++){let e,t,r,n=i.readVarIntNum(),a=i.readVarIntNum(),o=i.readVarIntNum();o>=0&&(e=eE(i.read(o)));let s=1===i.readInt8(),c=i.readVarIntNum(),u=eO(i.read(c)),h=i.readVarIntNum();h>=0&&(t=eO(i.read(h)));let d=i.readVarIntNum(),l=[];if(d>=0)for(let e=0;e<d;e++){let e=i.readVarIntNum(),t=i.read(e);l.push(eO(t))}let p=i.readVarIntNum();p>=0&&(r=eO(i.read(p))),f.outputs.push({outputIndex:n,satoshis:a,lockingScript:e,spendable:s,outputDescription:u,basket:t,tags:l,customInstructions:r})}}a.push(f)}return{totalActions:n,actions:a}}async internalizeAction(e,t){let r=new eF;for(let t of(r.writeVarIntNum(e.tx.length),r.write(e.tx),r.writeVarIntNum(e.outputs.length),e.outputs))if(r.writeVarIntNum(t.outputIndex),"wallet payment"===t.protocol){if(null==t.paymentRemittance)throw Error("Payment remittance is required for wallet payment");r.writeUInt8(1),r.write(eI(t.paymentRemittance.senderIdentityKey,"hex"));let e=eI(t.paymentRemittance.derivationPrefix,"base64");r.writeVarIntNum(e.length),r.write(e);let i=eI(t.paymentRemittance.derivationSuffix,"base64");r.writeVarIntNum(i.length),r.write(i)}else{r.writeUInt8(2);let e=eI(t.insertionRemittance?.basket,"utf8");if(r.writeVarIntNum(e.length),r.write(e),"string"==typeof t.insertionRemittance?.customInstructions&&""!==t.insertionRemittance.customInstructions){let e=eI(t.insertionRemittance.customInstructions,"utf8");r.writeVarIntNum(e.length),r.write(e)}else r.writeVarIntNum(-1);if("object"==typeof t.insertionRemittance?.tags)for(let e of(r.writeVarIntNum(t.insertionRemittance.tags.length),t.insertionRemittance.tags)){let t=eI(e,"utf8");r.writeVarIntNum(t.length),r.write(t)}else r.writeVarIntNum(0)}if("object"==typeof e.labels)for(let t of(r.writeVarIntNum(e.labels.length),e.labels)){let e=eI(t,"utf8");r.writeVarIntNum(e.length),r.write(e)}else r.writeVarIntNum(-1);let i=eI(e.description);return r.writeVarIntNum(i.length),r.write(i),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),await this.transmit("internalizeAction",t,r.toArray()),{accepted:!0}}async listOutputs(e,t){let r,i=new eF,n=eI(e.basket,"utf8");if(i.writeVarIntNum(n.length),i.write(n),"object"==typeof e.tags)for(let t of(i.writeVarIntNum(e.tags.length),e.tags)){let e=eI(t,"utf8");i.writeVarIntNum(e.length),i.write(e)}else i.writeVarIntNum(0);"all"===e.tagQueryMode?i.writeInt8(1):"any"===e.tagQueryMode?i.writeInt8(2):i.writeInt8(-1),"locking scripts"===e.include?i.writeInt8(1):"entire transactions"===e.include?i.writeInt8(2):i.writeInt8(-1),"boolean"==typeof e.includeCustomInstructions?i.writeInt8(+!!e.includeCustomInstructions):i.writeInt8(-1),"boolean"==typeof e.includeTags?i.writeInt8(+!!e.includeTags):i.writeInt8(-1),"boolean"==typeof e.includeLabels?i.writeInt8(+!!e.includeLabels):i.writeInt8(-1),"number"==typeof e.limit?i.writeVarIntNum(e.limit):i.writeVarIntNum(-1),"number"==typeof e.offset?i.writeVarIntNum(e.offset):i.writeVarIntNum(-1),i.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1);let a=new eU(await this.transmit("listOutputs",t,i.toArray())),o=a.readVarIntNum(),s=a.readVarIntNum();s>=0&&(r=a.read(s));let f=[];for(let e=0;e<o;e++){let e={spendable:!0,outpoint:this.readOutpoint(a),satoshis:a.readVarIntNum()},t=a.readVarIntNum();t>=0&&(e.lockingScript=eE(a.read(t)));let r=a.readVarIntNum();r>=0&&(e.customInstructions=eO(a.read(r)));let i=a.readVarIntNum();if(-1!==i){let t=[];for(let e=0;e<i;e++){let e=a.readVarIntNum();t.push(eO(a.read(e)))}e.tags=t}let n=a.readVarIntNum();if(-1!==n){let t=[];for(let e=0;e<n;e++){let e=a.readVarIntNum();t.push(eO(a.read(e)))}e.labels=t}f.push(e)}return{totalOutputs:o,BEEF:r,outputs:f}}async relinquishOutput(e,t){let r=new eF,i=eI(e.basket,"utf8");return r.writeVarIntNum(i.length),r.write(i),r.write(this.encodeOutpoint(e.output)),await this.transmit("relinquishOutput",t,r.toArray()),{relinquished:!0}}encodeOutpoint(e){let t=new eF,[r,i]=e.split(".");return t.write(eI(r,"hex")),t.writeVarIntNum(Number(i)),t.toArray()}readOutpoint(e){let t=eE(e.read(32)),r=e.readVarIntNum();return`${t}.${r}`}async getPublicKey(e,t){let r=new eF;return r.writeUInt8(+!!e.identityKey),e.identityKey?r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason)):(r.write(this.encodeKeyRelatedParams(e.protocolID??=[tj.Silent,"default"],e.keyID??="",e.counterparty,e.privileged,e.privilegedReason)),"boolean"==typeof e.forSelf?r.writeInt8(+!!e.forSelf):r.writeInt8(-1)),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),{publicKey:eE(await this.transmit("getPublicKey",t,r.toArray()))}}async revealCounterpartyKeyLinkage(e,t){let r=new eF;r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason)),r.write(eI(e.counterparty,"hex")),r.write(eI(e.verifier,"hex"));let i=new eU(await this.transmit("revealCounterpartyKeyLinkage",t,r.toArray())),n=eE(i.read(33)),a=eE(i.read(33)),o=eE(i.read(33)),s=i.readVarIntNum(),f=eO(i.read(s)),c=i.readVarIntNum(),u=i.read(c),h=i.readVarIntNum();return{prover:n,verifier:a,counterparty:o,revelationTime:f,encryptedLinkage:u,encryptedLinkageProof:i.read(h)}}async revealSpecificKeyLinkage(e,t){let r=new eF;r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.write(eI(e.verifier,"hex"));let i=new eU(await this.transmit("revealSpecificKeyLinkage",t,r.toArray())),n=eE(i.read(33)),a=eE(i.read(33)),o=eE(i.read(33)),s=i.readUInt8(),f=i.readVarIntNum(),c=eO(i.read(f)),u=i.readVarIntNum(),h=eO(i.read(u)),d=i.readVarIntNum(),l=i.read(d),p=i.readVarIntNum();return{prover:n,verifier:a,counterparty:o,protocolID:[s,c],keyID:h,encryptedLinkage:l,encryptedLinkageProof:i.read(p),proofType:i.readUInt8()}}async encrypt(e,t){let r=new eF;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.writeVarIntNum(e.plaintext.length),r.write(e.plaintext),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),{ciphertext:await this.transmit("encrypt",t,r.toArray())}}async decrypt(e,t){let r=new eF;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.writeVarIntNum(e.ciphertext.length),r.write(e.ciphertext),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),{plaintext:await this.transmit("decrypt",t,r.toArray())}}async createHmac(e,t){let r=new eF;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.writeVarIntNum(e.data.length),r.write(e.data),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),{hmac:await this.transmit("createHmac",t,r.toArray())}}async verifyHmac(e,t){let r=new eF;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),r.write(e.hmac),r.writeVarIntNum(e.data.length),r.write(e.data),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),await this.transmit("verifyHmac",t,r.toArray()),{valid:!0}}async createSignature(e,t){let r=new eF;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),"object"==typeof e.data?(r.writeUInt8(1),r.writeVarIntNum(e.data.length),r.write(e.data)):(r.writeUInt8(2),r.write(e.hashToDirectlySign??=[])),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),{signature:await this.transmit("createSignature",t,r.toArray())}}async verifySignature(e,t){let r=new eF;return r.write(this.encodeKeyRelatedParams(e.protocolID,e.keyID,e.counterparty,e.privileged,e.privilegedReason)),"boolean"==typeof e.forSelf?r.writeInt8(+!!e.forSelf):r.writeInt8(-1),r.writeVarIntNum(e.signature.length),r.write(e.signature),"object"==typeof e.data?(r.writeUInt8(1),r.writeVarIntNum(e.data.length),r.write(e.data)):(r.writeUInt8(2),r.write(e.hashToDirectlyVerify??[])),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1),await this.transmit("verifySignature",t,r.toArray()),{valid:!0}}encodeKeyRelatedParams(e,t,r,i,n){let a=new eF;a.writeUInt8(e[0]);let o=eI(e[1],"utf8");a.writeVarIntNum(o.length),a.write(o);let s=eI(t,"utf8");return a.writeVarIntNum(s.length),a.write(s),"string"!=typeof r?a.writeUInt8(0):"self"===r?a.writeUInt8(11):"anyone"===r?a.writeUInt8(12):a.write(eI(r,"hex")),a.write(this.encodePrivilegedParams(i,n)),a.toArray()}async acquireCertificate(e,t){let r=new eF;r.write(eI(e.type,"base64")),r.write(eI(e.certifier,"hex"));let i=Object.entries(e.fields);for(let[e,t]of(r.writeVarIntNum(i.length),i)){let i=eI(e,"utf8"),n=eI(t,"utf8");r.writeVarIntNum(i.length),r.write(i),r.writeVarIntNum(n.length),r.write(n)}if(r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason)),r.writeUInt8("direct"===e.acquisitionProtocol?1:2),"direct"===e.acquisitionProtocol){r.write(eI(e.serialNumber,"base64")),r.write(this.encodeOutpoint(e.revocationOutpoint??""));let t=eI(e.signature,"hex");r.writeVarIntNum(t.length),r.write(t);let i="certifier"!==e.keyringRevealer?eI(e.keyringRevealer,"hex"):[11];r.write(i);let n=Object.keys(e.keyringForSubject??{});r.writeVarIntNum(n.length);for(let t=0;t<n.length;t++){let i=eI(n[t],"utf8");r.writeVarIntNum(i.length),r.write(i);let a=eI(e.keyringForSubject?.[n[t]],"base64");r.writeVarIntNum(a.length),r.write(a)}}else{let t=eI(e.certifierUrl,"utf8");r.writeVarIntNum(t.length),r.write(t)}let n=await this.transmit("acquireCertificate",t,r.toArray()),a=rH.fromBinary(n);return{...a,signature:a.signature}}encodePrivilegedParams(e,t){let r=new eF;if("boolean"==typeof e?r.writeInt8(+!!e):r.writeInt8(-1),"string"==typeof t){let e=eI(t,"utf8");r.writeInt8(e.length),r.write(e)}else r.writeInt8(-1);return r.toArray()}async listCertificates(e,t){let r=new eF;r.writeVarIntNum(e.certifiers.length);for(let t=0;t<e.certifiers.length;t++)r.write(eI(e.certifiers[t],"hex"));r.writeVarIntNum(e.types.length);for(let t=0;t<e.types.length;t++)r.write(eI(e.types[t],"base64"));"number"==typeof e.limit?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),"number"==typeof e.offset?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason));let i=new eU(await this.transmit("listCertificates",t,r.toArray())),n=i.readVarIntNum(),a=[];for(let e=0;e<n;e++){let e=i.readVarIntNum(),t=i.read(e),r=rH.fromBinary(t);a.push({...r,signature:r.signature})}return{totalCertificates:n,certificates:a}}async proveCertificate(e,t){let r=new eF,i=eI(e.certificate.type,"base64");r.write(i);let n=eI(e.certificate.subject,"hex");r.write(n);let a=eI(e.certificate.serialNumber,"base64");r.write(a);let o=eI(e.certificate.certifier,"hex");r.write(o);let s=this.encodeOutpoint(e.certificate.revocationOutpoint??"");r.write(s);let f=eI(e.certificate.signature,"hex");r.writeVarIntNum(f.length),r.write(f);let c=Object.entries(e.certificate.fields??{});for(let[e,t]of(r.writeVarIntNum(c.length),c)){let i=eI(e,"utf8"),n=eI(t,"utf8");r.writeVarIntNum(i.length),r.write(i),r.writeVarIntNum(n.length),r.write(n)}for(let t of(r.writeVarIntNum(e.fieldsToReveal.length),e.fieldsToReveal)){let e=eI(t,"utf8");r.writeVarIntNum(e.length),r.write(e)}r.write(eI(e.verifier,"hex")),r.write(this.encodePrivilegedParams(e.privileged,e.privilegedReason));let u=new eU(await this.transmit("proveCertificate",t,r.toArray())),h=u.readVarIntNum(),d={};for(let e=0;e<h;e++){let e=u.readVarIntNum(),t=eO(u.read(e)),r=u.readVarIntNum();d[t]=eR(u.read(r))}return{keyringForVerifier:d}}async relinquishCertificate(e,t){let r=new eF,i=eI(e.type,"base64");r.write(i);let n=eI(e.serialNumber,"base64");r.write(n);let a=eI(e.certifier,"hex");return r.write(a),await this.transmit("relinquishCertificate",t,r.toArray()),{relinquished:!0}}parseDiscoveryResult(e){let t=new eU(e),r=t.readVarIntNum(),i=[];for(let e=0;e<r;e++){let e=t.readVarIntNum(),r=t.read(e),n=rH.fromBinary(r),a=t.readVarIntNum(),o=eO(t.read(a)),s=t.readVarIntNum(),f=eO(t.read(s)),c=t.readVarIntNum(),u=eO(t.read(c)),h=t.readUInt8(),d={},l=t.readVarIntNum();for(let e=0;e<l;e++){let e=t.readVarIntNum(),r=eO(t.read(e)),i=t.readVarIntNum();d[r]=t.read(i)}let p={},b=t.readVarIntNum();for(let e=0;e<b;e++){let e=t.readVarIntNum(),r=eO(t.read(e)),i=t.readVarIntNum();p[r]=eO(t.read(i))}i.push({...n,signature:n.signature,certifierInfo:{iconUrl:f,name:o,description:u,trust:h},publiclyRevealedKeyring:d,decryptedFields:p})}return{totalCertificates:r,certificates:i}}async discoverByIdentityKey(e,t){let r=new eF;r.write(eI(e.identityKey,"hex")),"number"==typeof e.limit?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),"number"==typeof e.offset?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1);let i=await this.transmit("discoverByIdentityKey",t,r.toArray());return this.parseDiscoveryResult(i)}async discoverByAttributes(e,t){let r=new eF,i=Object.keys(e.attributes);r.writeVarIntNum(i.length);for(let t=0;t<i.length;t++)r.writeVarIntNum(i[t].length),r.write(eI(i[t],"utf8")),r.writeVarIntNum(e.attributes[i[t]].length),r.write(eI(e.attributes[i[t]],"utf8"));"number"==typeof e.limit?r.writeVarIntNum(e.limit):r.writeVarIntNum(-1),"number"==typeof e.offset?r.writeVarIntNum(e.offset):r.writeVarIntNum(-1),r.writeInt8("boolean"==typeof e.seekPermission?+!!e.seekPermission:-1);let n=await this.transmit("discoverByAttributes",t,r.toArray());return this.parseDiscoveryResult(n)}async isAuthenticated(e,t){return{authenticated:1===(await this.transmit("isAuthenticated",t))[0]}}async waitForAuthentication(e,t){return await this.transmit("waitForAuthentication",t),{authenticated:!0}}async getHeight(e,t){return{height:new eU(await this.transmit("getHeight",t)).readVarIntNum()}}async getHeaderForHeight(e,t){let r=new eF;return r.writeVarIntNum(e.height),{header:eE(await this.transmit("getHeaderForHeight",t,r.toArray()))}}async getNetwork(e,t){return{network:0===(await this.transmit("getNetwork",t))[0]?"mainnet":"testnet"}}async getVersion(e,t){return{version:eO(await this.transmit("getVersion",t))}}}e.s(["default",()=>rz],32553);class rW{baseUrl;httpClient;originator;constructor(e,t="http://localhost:3301",r=fetch){this.baseUrl=t,this.httpClient=r,this.originator=e}async transmitToWallet(e){let t,r=new eU(e),i=r.readUInt8(),n=rK[i];if(void 0===n||""===n)throw Error(`Invalid call code: ${i}`);let a=r.readUInt8();a>0&&(t=eO(r.read(a)));let o=r.read(),s=await fetch(`${this.baseUrl}/${n}`,{method:"POST",headers:{"Content-Type":"application/octet-stream",Origin:t??""},body:new Uint8Array(o)});return Array.from(new Uint8Array(await s.arrayBuffer()))}}e.s(["default",()=>rW],57641);class r$ extends Error{reviewActionResults;sendWithResults;txid;tx;noSendChange;code;isError=!0;constructor(e,t,r,i,n){super("Undelayed createAction or signAction results require review."),this.reviewActionResults=e,this.sendWithResults=t,this.txid=r,this.tx=i,this.noSendChange=n,this.code=5,this.name=this.constructor.name}}let rG=r$;e.s(["WERR_REVIEW_ACTIONS",()=>r$,"default",0,rG],26896);class rX{baseUrl;httpClient;originator;api;constructor(e,t="http://localhost:3321",r=fetch){this.baseUrl=t,this.originator=e,this.httpClient=r,this.api=async(e,t)=>{let i=await await r(`${this.baseUrl}/${e}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Originator:this.originator??""},body:JSON.stringify(t)}),n=await i.json();if(!i.ok)if(400===i.status&&n.isError&&5===n.code)throw new r$(n.reviewActionResults,n.sendWithResults,n.txid,n.tx,n.noSendChange);else throw Error(JSON.stringify({call:e,args:t,message:n.message??`HTTP Client error ${i.status}`}));return n}}async createAction(e){return await this.api("createAction",e)}async signAction(e){return await this.api("signAction",e)}async abortAction(e){return await this.api("abortAction",e)}async listActions(e){return await this.api("listActions",e)}async internalizeAction(e){return await this.api("internalizeAction",e)}async listOutputs(e){return await this.api("listOutputs",e)}async relinquishOutput(e){return await this.api("relinquishOutput",e)}async getPublicKey(e){return await this.api("getPublicKey",e)}async revealCounterpartyKeyLinkage(e){return await this.api("revealCounterpartyKeyLinkage",e)}async revealSpecificKeyLinkage(e){return await this.api("revealSpecificKeyLinkage",e)}async encrypt(e){return await this.api("encrypt",e)}async decrypt(e){return await this.api("decrypt",e)}async createHmac(e){return await this.api("createHmac",e)}async verifyHmac(e){return await this.api("verifyHmac",e)}async createSignature(e){return await this.api("createSignature",e)}async verifySignature(e){return await this.api("verifySignature",e)}async acquireCertificate(e){return await this.api("acquireCertificate",e)}async listCertificates(e){return await this.api("listCertificates",e)}async proveCertificate(e){return await this.api("proveCertificate",e)}async relinquishCertificate(e){return await this.api("relinquishCertificate",e)}async discoverByIdentityKey(e){return await this.api("discoverByIdentityKey",e)}async discoverByAttributes(e){return await this.api("discoverByAttributes",e)}async isAuthenticated(e){return await this.api("isAuthenticated",e)}async waitForAuthentication(e){return await this.api("waitForAuthentication",e)}async getHeight(e){return await this.api("getHeight",e)}async getHeaderForHeight(e){return await this.api("getHeaderForHeight",e)}async getNetwork(e){return await this.api("getNetwork",e)}async getVersion(e){return await this.api("getVersion",e)}}e.s(["default",()=>rX],49007);class rY{domain;constructor(e="*"){if("object"!=typeof window)throw Error("The XDM substrate requires a global window object.");if(!window.hasOwnProperty("ReactNativeWebView"))throw Error("The window object does not have a ReactNativeWebView property.");if("function"!=typeof window.ReactNativeWebView.postMessage)throw Error("The window.ReactNativeWebView property does not seem to support postMessage calls.");this.domain=e}async invoke(e,t){return await new Promise((r,i)=>{let n=eR(eJ(12)),a=e=>{let t=JSON.parse(e.data);"CWI"===t.type&&t.id===n&&!0!==t.isInvocation&&("function"==typeof window.removeEventListener&&window.removeEventListener("message",a),"error"===t.status?i(new rj(t.description,t.code)):r(t.result))};window.addEventListener("message",a),window.ReactNativeWebView.postMessage(JSON.stringify({type:"CWI",isInvocation:!0,id:n,call:e,args:t}))})}async createAction(e){return await this.invoke("createAction",e)}async signAction(e){return await this.invoke("signAction",e)}async abortAction(e){return await this.invoke("abortAction",e)}async listActions(e){return await this.invoke("listActions",e)}async internalizeAction(e){return await this.invoke("internalizeAction",e)}async listOutputs(e){return await this.invoke("listOutputs",e)}async relinquishOutput(e){return await this.invoke("relinquishOutput",e)}async getPublicKey(e){return await this.invoke("getPublicKey",e)}async revealCounterpartyKeyLinkage(e){return await this.invoke("revealCounterpartyKeyLinkage",e)}async revealSpecificKeyLinkage(e){return await this.invoke("revealSpecificKeyLinkage",e)}async encrypt(e){return await this.invoke("encrypt",e)}async decrypt(e){return await this.invoke("decrypt",e)}async createHmac(e){return await this.invoke("createHmac",e)}async verifyHmac(e){return await this.invoke("verifyHmac",e)}async createSignature(e){return await this.invoke("createSignature",e)}async verifySignature(e){return await this.invoke("verifySignature",e)}async acquireCertificate(e){return await this.invoke("acquireCertificate",e)}async listCertificates(e){return await this.invoke("listCertificates",e)}async proveCertificate(e){return await this.invoke("proveCertificate",e)}async relinquishCertificate(e){return await this.invoke("relinquishCertificate",e)}async discoverByIdentityKey(e){return await this.invoke("discoverByIdentityKey",e)}async discoverByAttributes(e){return await this.invoke("discoverByAttributes",e)}async isAuthenticated(e){return await this.invoke("isAuthenticated",e)}async waitForAuthentication(e){return await this.invoke("waitForAuthentication",e)}async getHeight(e){return await this.invoke("getHeight",e)}async getHeaderForHeight(e){return await this.invoke("getHeaderForHeight",e)}async getNetwork(e){return await this.invoke("getNetwork",e)}async getVersion(e){return await this.invoke("getVersion",e)}}e.s(["default",()=>rY],92074);let rJ=200;class rZ{substrate;originator;constructor(e="auto",t){"Cicada"===e&&(e=new rz(new rW(t))),"window.CWI"===e&&(e=new rU),"XDM"===e&&(e=new rV),"json-api"===e&&(e=new rX(t)),"react-native"===e&&(e=new rY(t)),this.substrate=e,this.originator=t}async connectToSubstrate(){let e;if("object"==typeof this.substrate)return;let t=async t=>{let r;if("object"!=typeof(r="number"==typeof t?await Promise.race([e.getVersion({}),new Promise((e,r)=>setTimeout(()=>r(Error("Timed out.")),t))]):await e.getVersion({}))||"string"!=typeof r.version)throw Error("Failed to use substrate.")};try{e=new rU,await t(),this.substrate=e}catch(r){try{e=new rV,await t(rJ),this.substrate=e}catch(r){try{e=new rz(new rW(this.originator)),await t(),this.substrate=e}catch(r){try{e=new rX(this.originator),await t(),this.substrate=e}catch(r){try{e=new rY(this.originator),await t(),this.substrate=e}catch(e){throw Error("No wallet available over any communication substrate. Install a BSV wallet today!")}}}}}}async createAction(e){return await this.connectToSubstrate(),await this.substrate.createAction(e,this.originator)}async signAction(e){return await this.connectToSubstrate(),await this.substrate.signAction(e,this.originator)}async abortAction(e){return await this.connectToSubstrate(),await this.substrate.abortAction(e,this.originator)}async listActions(e){return await this.connectToSubstrate(),await this.substrate.listActions(e,this.originator)}async internalizeAction(e){return await this.connectToSubstrate(),await this.substrate.internalizeAction(e,this.originator)}async listOutputs(e){return await this.connectToSubstrate(),await this.substrate.listOutputs(e,this.originator)}async relinquishOutput(e){return await this.connectToSubstrate(),await this.substrate.relinquishOutput(e,this.originator)}async getPublicKey(e){return await this.connectToSubstrate(),await this.substrate.getPublicKey(e,this.originator)}async revealCounterpartyKeyLinkage(e){return await this.connectToSubstrate(),await this.substrate.revealCounterpartyKeyLinkage(e,this.originator)}async revealSpecificKeyLinkage(e){return await this.connectToSubstrate(),await this.substrate.revealSpecificKeyLinkage(e,this.originator)}async encrypt(e){return await this.connectToSubstrate(),await this.substrate.encrypt(e,this.originator)}async decrypt(e){return await this.substrate.decrypt(e,this.originator)}async createHmac(e){return await this.connectToSubstrate(),await this.substrate.createHmac(e,this.originator)}async verifyHmac(e){return await this.connectToSubstrate(),await this.substrate.verifyHmac(e,this.originator)}async createSignature(e){return await this.connectToSubstrate(),await this.substrate.createSignature(e,this.originator)}async verifySignature(e){return await this.connectToSubstrate(),await this.substrate.verifySignature(e,this.originator)}async acquireCertificate(e){return await this.connectToSubstrate(),await this.substrate.acquireCertificate(e,this.originator)}async listCertificates(e){return await this.connectToSubstrate(),await this.substrate.listCertificates(e,this.originator)}async proveCertificate(e){return await this.connectToSubstrate(),await this.substrate.proveCertificate(e,this.originator)}async relinquishCertificate(e){return await this.connectToSubstrate(),await this.substrate.relinquishCertificate(e,this.originator)}async discoverByIdentityKey(e){return await this.connectToSubstrate(),await this.substrate.discoverByIdentityKey(e,this.originator)}async discoverByAttributes(e){return await this.connectToSubstrate(),await this.substrate.discoverByAttributes(e,this.originator)}async isAuthenticated(e={}){return await this.connectToSubstrate(),await this.substrate.isAuthenticated(e,this.originator)}async waitForAuthentication(e={}){return await this.connectToSubstrate(),await this.substrate.waitForAuthentication(e,this.originator)}async getHeight(e={}){return await this.connectToSubstrate(),await this.substrate.getHeight(e,this.originator)}async getHeaderForHeight(e){return await this.connectToSubstrate(),await this.substrate.getHeaderForHeight(e,this.originator)}async getNetwork(e={}){return await this.connectToSubstrate(),await this.substrate.getNetwork(e,this.originator)}async getVersion(e={}){return await this.connectToSubstrate(),await this.substrate.getVersion(e,this.originator)}}e.s(["default",()=>rZ],11990),e.s([],79707);class rQ{wallet;constructor(e){this.wallet=e}decodeOutpoint(e){let t=eE(e.read(32)),r=e.readVarIntNum();return`${t}.${r}`}encodeOutpoint(e){let t=new eF,[r,i]=e.split(".");return t.write(eI(r,"hex")),t.writeVarIntNum(Number(i)),t.toArray()}async transmitToWallet(e){let t=new eU(e);try{let e=t.readUInt8(),r=rK[e];if(void 0===r||""===r)throw Error(`Invalid call code: ${e}`);let i=t.readUInt8(),n=t.read(i),a=eO(n),o=t;switch(r){case"createAction":{let e={},t=o.readVarIntNum(),r=o.read(t);e.description=eO(r);let i=o.readVarIntNum();i>=0?e.inputBEEF=o.read(i):e.inputBEEF=void 0;let n=o.readVarIntNum();if(n>=0){e.inputs=[];for(let t=0;t<n;t++){let t={};t.outpoint=this.decodeOutpoint(o);let r=o.readVarIntNum();if(r>=0){let e=o.read(r);t.unlockingScript=eE(e)}else t.unlockingScript=void 0,t.unlockingScriptLength=o.readVarIntNum();let i=o.readVarIntNum(),n=o.read(i);t.inputDescription=eO(n);let a=o.readVarIntNum();a>=0?t.sequenceNumber=a:t.sequenceNumber=void 0,e.inputs.push(t)}}else e.inputs=void 0;let s=o.readVarIntNum();if(s>=0){e.outputs=[];for(let t=0;t<s;t++){let t={},r=o.readVarIntNum(),i=o.read(r);t.lockingScript=eE(i),t.satoshis=o.readVarIntNum();let n=o.readVarIntNum(),a=o.read(n);t.outputDescription=eO(a);let s=o.readVarIntNum();if(s>=0){let e=o.read(s);t.basket=eO(e)}else t.basket=void 0;let f=o.readVarIntNum();if(f>=0){let e=o.read(f);t.customInstructions=eO(e)}else t.customInstructions=void 0;let c=o.readVarIntNum();if(c>=0){t.tags=[];for(let e=0;e<c;e++){let e=o.readVarIntNum(),r=o.read(e),i=eO(r);t.tags.push(i)}}else t.tags=void 0;e.outputs.push(t)}}else e.outputs=void 0;let f=o.readVarIntNum();f>=0?e.lockTime=f:e.lockTime=void 0;let c=o.readVarIntNum();c>=0?e.version=c:e.version=void 0;let u=o.readVarIntNum();if(u>=0){e.labels=[];for(let t=0;t<u;t++){let t=o.readVarIntNum(),r=o.read(t),i=eO(r);e.labels.push(i)}}else e.labels=void 0;let h=o.readInt8();if(1===h){e.options={};let t=o.readInt8();-1===t?e.options.signAndProcess=void 0:e.options.signAndProcess=1===t;let r=o.readInt8();-1===r?e.options.acceptDelayedBroadcast=void 0:e.options.acceptDelayedBroadcast=1===r;let i=o.readInt8();-1===i?e.options.trustSelf=void 0:1===i&&(e.options.trustSelf="known");let n=o.readVarIntNum();if(n>=0){e.options.knownTxids=[];for(let t=0;t<n;t++){let t=o.read(32),r=eE(t);e.options.knownTxids.push(r)}}else e.options.knownTxids=void 0;let a=o.readInt8();-1===a?e.options.returnTXIDOnly=void 0:e.options.returnTXIDOnly=1===a;let s=o.readInt8();-1===s?e.options.noSend=void 0:e.options.noSend=1===s;let f=o.readVarIntNum();if(f>=0){e.options.noSendChange=[];for(let t=0;t<f;t++){let t=this.decodeOutpoint(o);e.options.noSendChange.push(t)}}else e.options.noSendChange=void 0;let c=o.readVarIntNum();if(c>=0){e.options.sendWith=[];for(let t=0;t<c;t++){let t=o.read(32),r=eE(t);e.options.sendWith.push(r)}}else e.options.sendWith=void 0;let u=o.readInt8();-1===u?e.options.randomizeOutputs=void 0:e.options.randomizeOutputs=1===u}else e.options=void 0;let d=await this.wallet.createAction(e,a),l=new eF;if(null!=d.txid&&""!==d.txid?(l.writeInt8(1),l.write(eI(d.txid,"hex"))):l.writeInt8(0),null!=d.tx?(l.writeInt8(1),l.writeVarIntNum(d.tx.length),l.write(d.tx)):l.writeInt8(0),null!=d.noSendChange)for(let e of(l.writeVarIntNum(d.noSendChange.length),d.noSendChange))l.write(this.encodeOutpoint(e));else l.writeVarIntNum(-1);if(null!=d.sendWithResults)for(let e of(l.writeVarIntNum(d.sendWithResults.length),d.sendWithResults)){let t;l.write(eI(e.txid,"hex")),"unproven"===e.status?t=1:"sending"===e.status?t=2:"failed"===e.status&&(t=3),l.writeInt8(t)}else l.writeVarIntNum(-1);if(null!=d.signableTransaction){l.writeInt8(1),l.writeVarIntNum(d.signableTransaction.tx.length),l.write(d.signableTransaction.tx);let e=eI(d.signableTransaction.reference,"base64");l.writeVarIntNum(e.length),l.write(e)}else l.writeInt8(0);let p=new eF;return p.writeUInt8(0),p.write(l.toArray()),p.toArray()}case"signAction":{let e={},t=o.readVarIntNum();e.spends={};for(let r=0;r<t;r++){let t=o.readVarIntNum(),r={},i=o.readVarIntNum(),n=o.read(i);r.unlockingScript=eE(n);let a=o.readVarIntNum();a>=0?r.sequenceNumber=a:r.sequenceNumber=void 0,e.spends[t]=r}let r=o.readVarIntNum(),i=o.read(r);e.reference=eR(i);let n=o.readInt8();if(1===n){e.options={};let t=o.readInt8();-1===t?e.options.acceptDelayedBroadcast=void 0:e.options.acceptDelayedBroadcast=1===t;let r=o.readInt8();-1===r?e.options.returnTXIDOnly=void 0:e.options.returnTXIDOnly=1===r;let i=o.readInt8();-1===i?e.options.noSend=void 0:e.options.noSend=1===i;let n=o.readVarIntNum();if(n>=0){e.options.sendWith=[];for(let t=0;t<n;t++){let t=o.read(32),r=eE(t);e.options.sendWith.push(r)}}else e.options.sendWith=void 0}else e.options=void 0;let s=await this.wallet.signAction(e,a),f=new eF;if(null!=s.txid&&""!==s.txid?(f.writeInt8(1),f.write(eI(s.txid,"hex"))):f.writeInt8(0),null!=s.tx?(f.writeInt8(1),f.writeVarIntNum(s.tx.length),f.write(s.tx)):f.writeInt8(0),null!=s.sendWithResults)for(let e of(f.writeVarIntNum(s.sendWithResults.length),s.sendWithResults)){let t;f.write(eI(e.txid,"hex")),"unproven"===e.status?t=1:"sending"===e.status?t=2:"failed"===e.status&&(t=3),f.writeInt8(t)}else f.writeVarIntNum(-1);let c=new eF;return c.writeUInt8(0),c.write(f.toArray()),c.toArray()}case"abortAction":{let e=o.read(),t=eR(e);await this.wallet.abortAction({reference:t},a);let r=new eF;return r.writeUInt8(0),r.toArray()}case"listActions":{let e={},t=o.readVarIntNum();e.labels=[];for(let r=0;r<t;r++){let t=o.readVarIntNum(),r=o.read(t);e.labels.push(eO(r))}let r=o.readInt8();for(let t of(-1===r?e.labelQueryMode=void 0:1===r?e.labelQueryMode="any":2===r&&(e.labelQueryMode="all"),["includeLabels","includeInputs","includeInputSourceLockingScripts","includeInputUnlockingScripts","includeOutputs","includeOutputLockingScripts"])){let r=o.readInt8();-1===r?e[t]=void 0:e[t]=1===r}let i=o.readVarIntNum();i>=0?e.limit=i:e.limit=void 0;let n=o.readVarIntNum();n>=0?e.offset=n:e.offset=void 0;let s=o.readInt8();s>=0?e.seekPermission=1===s:e.seekPermission=void 0;let f=await this.wallet.listActions(e,a),c=new eF;for(let e of(c.writeVarIntNum(f.totalActions),f.actions)){let t;switch(c.write(eI(e.txid,"hex")),c.writeVarIntNum(e.satoshis),e.status){case"completed":t=1;break;case"unprocessed":t=2;break;case"sending":t=3;break;case"unproven":t=4;break;case"unsigned":t=5;break;case"nosend":t=6;break;case"nonfinal":t=7;break;case"failed":t=8;break;default:t=-1}c.writeInt8(t),c.writeInt8(+!!e.isOutgoing);let r=eI(e.description,"utf8");if(c.writeVarIntNum(r.length),c.write(r),void 0!==e.labels)for(let t of(c.writeVarIntNum(e.labels.length),e.labels)){let e=eI(t,"utf8");c.writeVarIntNum(e.length),c.write(e)}else c.writeVarIntNum(-1);if(c.writeVarIntNum(e.version),c.writeVarIntNum(e.lockTime),void 0!==e.inputs)for(let t of(c.writeVarIntNum(e.inputs.length),e.inputs)){if(c.write(this.encodeOutpoint(t.sourceOutpoint)),c.writeVarIntNum(t.sourceSatoshis),void 0!==t.sourceLockingScript){let e=eI(t.sourceLockingScript,"hex");c.writeVarIntNum(e.length),c.write(e)}else c.writeVarIntNum(-1);if(void 0!==t.unlockingScript){let e=eI(t.unlockingScript,"hex");c.writeVarIntNum(e.length),c.write(e)}else c.writeVarIntNum(-1);let e=eI(t.inputDescription,"utf8");c.writeVarIntNum(e.length),c.write(e),c.writeVarIntNum(t.sequenceNumber)}else c.writeVarIntNum(-1);if(void 0!==e.outputs)for(let t of(c.writeVarIntNum(e.outputs.length),e.outputs)){if(c.writeVarIntNum(t.outputIndex),c.writeVarIntNum(t.satoshis),void 0!==t.lockingScript){let e=eI(t.lockingScript,"hex");c.writeVarIntNum(e.length),c.write(e)}else c.writeVarIntNum(-1);c.writeInt8(+!!t.spendable);let e=eI(t.outputDescription,"utf8");if(c.writeVarIntNum(e.length),c.write(e),void 0!==t.basket){let e=eI(t.basket,"utf8");c.writeVarIntNum(e.length),c.write(e)}else c.writeVarIntNum(-1);if(void 0!==t.tags)for(let e of(c.writeVarIntNum(t.tags.length),t.tags)){let t=eI(e,"utf8");c.writeVarIntNum(t.length),c.write(t)}else c.writeVarIntNum(-1);if(void 0!==t.customInstructions){let e=eI(t.customInstructions,"utf8");c.writeVarIntNum(e.length),c.write(e)}else c.writeVarIntNum(-1)}else c.writeVarIntNum(-1)}let u=new eF;return u.writeUInt8(0),u.write(c.toArray()),u.toArray()}case"internalizeAction":{let e={},t=o.readVarIntNum();e.tx=o.read(t);let r=o.readVarIntNum();e.outputs=[];for(let t=0;t<r;t++){let t={};t.outputIndex=o.readVarIntNum();let r=o.readUInt8();if(1===r){t.protocol="wallet payment",t.paymentRemittance={};let e=o.read(33);t.paymentRemittance.senderIdentityKey=eE(e);let r=o.readVarIntNum(),i=o.read(r);t.paymentRemittance.derivationPrefix=eR(i);let n=o.readVarIntNum(),a=o.read(n);t.paymentRemittance.derivationSuffix=eR(a)}else if(2===r){t.protocol="basket insertion",t.insertionRemittance={};let e=o.readVarIntNum(),r=o.read(e);t.insertionRemittance.basket=eO(r);let i=o.readVarIntNum();if(i>=0){let e=o.read(i);t.insertionRemittance.customInstructions=eO(e)}let n=o.readVarIntNum();if(n>0){t.insertionRemittance.tags=[];for(let e=0;e<n;e++){let e=o.readVarIntNum(),r=o.read(e);t.insertionRemittance.tags.push(eO(r))}}else t.insertionRemittance.tags=[]}e.outputs.push(t)}let i=o.readVarIntNum();if(i>=0){e.labels=[];for(let t=0;t<i;t++){let t=o.readVarIntNum();e.labels.push(eO(o.read(t)))}}let n=o.readVarIntNum();e.description=eO(o.read(n));let s=o.readInt8();s>=0?e.seekPermission=1===s:e.seekPermission=void 0,await this.wallet.internalizeAction(e,a);let f=new eF;return f.writeUInt8(0),f.toArray()}case"listOutputs":{let e={},t=o.readVarIntNum(),r=o.read(t);e.basket=eO(r);let i=o.readVarIntNum();if(i>0){e.tags=[];for(let t=0;t<i;t++){let t=o.readVarIntNum(),r=o.read(t);e.tags.push(eO(r))}}else e.tags=void 0;let n=o.readInt8();1===n?e.tagQueryMode="all":2===n?e.tagQueryMode="any":e.tagQueryMode=void 0;let s=o.readInt8();1===s?e.include="locking scripts":2===s?e.include="entire transactions":e.include=void 0;let f=o.readInt8();-1===f?e.includeCustomInstructions=void 0:e.includeCustomInstructions=1===f;let c=o.readInt8();-1===c?e.includeTags=void 0:e.includeTags=1===c;let u=o.readInt8();-1===u?e.includeLabels=void 0:e.includeLabels=1===u;let h=o.readVarIntNum();h>=0?e.limit=h:e.limit=void 0;let d=o.readVarIntNum();d>=0?e.offset=d:e.offset=void 0;let l=o.readInt8();l>=0?e.seekPermission=1===l:e.seekPermission=void 0;let p=await this.wallet.listOutputs(e,a),b=new eF;for(let e of(b.writeVarIntNum(p.totalOutputs),null!=p.BEEF?(b.writeVarIntNum(p.BEEF.length),b.write(p.BEEF)):b.writeVarIntNum(-1),p.outputs)){if(b.write(this.encodeOutpoint(e.outpoint)),b.writeVarIntNum(e.satoshis),void 0!==e.lockingScript){let t=eI(e.lockingScript,"hex");b.writeVarIntNum(t.length),b.write(t)}else b.writeVarIntNum(-1);if(void 0!==e.customInstructions){let t=eI(e.customInstructions,"utf8");b.writeVarIntNum(t.length),b.write(t)}else b.writeVarIntNum(-1);if(void 0!==e.tags)for(let t of(b.writeVarIntNum(e.tags.length),e.tags)){let e=eI(t,"utf8");b.writeVarIntNum(e.length),b.write(e)}else b.writeVarIntNum(-1);if(void 0!==e.labels)for(let t of(b.writeVarIntNum(e.labels.length),e.labels)){let e=eI(t,"utf8");b.writeVarIntNum(e.length),b.write(e)}else b.writeVarIntNum(-1)}let y=new eF;return y.writeUInt8(0),y.write(b.toArray()),y.toArray()}case"relinquishOutput":{let e={},t=o.readVarIntNum(),r=o.read(t);e.basket=eO(r),e.output=this.decodeOutpoint(o),await this.wallet.relinquishOutput(e,a);let i=new eF;return i.writeUInt8(0),i.toArray()}case"getPublicKey":{let e={},t=o.readUInt8();if(e.identityKey=1===t,!0!==e.identityKey){e.protocolID=this.decodeProtocolID(o),e.keyID=this.decodeString(o),e.counterparty=this.decodeCounterparty(o);let t=o.readInt8();-1===t?e.privileged=void 0:e.privileged=1===t;let r=o.readInt8();if(-1!==r){let t=o.read(r);e.privilegedReason=eO(t)}else e.privilegedReason=void 0;let i=o.readInt8();-1===i?e.forSelf=void 0:e.forSelf=1===i}else{let t=o.readInt8();-1===t?e.privileged=void 0:e.privileged=1===t;let r=o.readInt8();if(-1!==r){let t=o.read(r);e.privilegedReason=eO(t)}else e.privilegedReason=void 0}let r=o.readInt8();r>=0?e.seekPermission=1===r:e.seekPermission=void 0;let i=await this.wallet.getPublicKey(e,a),n=new eF;n.writeUInt8(0);let s=eI(i.publicKey,"hex");return n.write(s),n.toArray()}case"encrypt":{let e=this.decodeKeyRelatedParams(o),t=o.readVarIntNum();e.plaintext=o.read(t);let r=o.readInt8();r>=0?e.seekPermission=1===r:e.seekPermission=void 0;let i=await this.wallet.encrypt(e,a),n=new eF;return n.writeUInt8(0),n.write(i.ciphertext),n.toArray()}case"decrypt":{let e=this.decodeKeyRelatedParams(o),t=o.readVarIntNum();e.ciphertext=o.read(t);let r=o.readInt8();r>=0?e.seekPermission=1===r:e.seekPermission=void 0;let i=await this.wallet.decrypt(e,a),n=new eF;return n.writeUInt8(0),n.write(i.plaintext),n.toArray()}case"createHmac":{let e=this.decodeKeyRelatedParams(o),t=o.readVarIntNum();e.data=o.read(t);let r=o.readInt8();r>=0?e.seekPermission=1===r:e.seekPermission=void 0;let i=await this.wallet.createHmac(e,a),n=new eF;return n.writeUInt8(0),n.write(i.hmac),n.toArray()}case"verifyHmac":{let e=this.decodeKeyRelatedParams(o);e.hmac=o.read(32);let t=o.readVarIntNum();e.data=o.read(t);let r=o.readInt8();r>=0?e.seekPermission=1===r:e.seekPermission=void 0,await this.wallet.verifyHmac(e,a);let i=new eF;return i.writeUInt8(0),i.toArray()}case"createSignature":{let e=this.decodeKeyRelatedParams(o),t=o.readUInt8();if(1===t){let t=o.readVarIntNum();e.data=o.read(t)}else 2===t&&(e.hashToDirectlySign=o.read(32));let r=o.readInt8();r>=0?e.seekPermission=1===r:e.seekPermission=void 0;let i=await this.wallet.createSignature(e,a),n=new eF;return n.writeUInt8(0),n.write(i.signature),n.toArray()}case"verifySignature":{let e=this.decodeKeyRelatedParams(o),t=o.readInt8();-1===t?e.forSelf=void 0:e.forSelf=1===t;let r=o.readVarIntNum();e.signature=o.read(r);let i=o.readUInt8();if(1===i){let t=o.readVarIntNum();e.data=o.read(t)}else 2===i&&(e.hashToDirectlyVerify=o.read(32));let n=o.readInt8();n>=0?e.seekPermission=1===n:e.seekPermission=void 0,await this.wallet.verifySignature(e,a);let s=new eF;return s.writeUInt8(0),s.toArray()}case"isAuthenticated":{let e=await this.wallet.isAuthenticated({},a),t=new eF;return t.writeUInt8(0),t.writeUInt8(+!!e.authenticated),t.toArray()}case"waitForAuthentication":{await this.wallet.waitForAuthentication({},a);let e=new eF;return e.writeUInt8(0),e.toArray()}case"getHeight":{let e=await this.wallet.getHeight({},a),t=new eF;return t.writeUInt8(0),t.writeVarIntNum(e.height),t.toArray()}case"getHeaderForHeight":{let e={};e.height=o.readVarIntNum();let t=await this.wallet.getHeaderForHeight(e,a),r=new eF;r.writeUInt8(0);let i=eI(t.header,"hex");return r.write(i),r.toArray()}case"getNetwork":{let e=await this.wallet.getNetwork({},a),t=new eF;return t.writeUInt8(0),t.writeUInt8(+("mainnet"!==e.network)),t.toArray()}case"getVersion":{let e=await this.wallet.getVersion({},a),t=new eF;t.writeUInt8(0);let r=eI(e.version,"utf8");return t.write(r),t.toArray()}case"revealCounterpartyKeyLinkage":{let e={},t=o.readInt8();-1===t?e.privileged=void 0:e.privileged=1===t;let r=o.readInt8();if(-1===r)e.privilegedReason=void 0;else{let t=o.read(r);e.privilegedReason=eO(t)}let i=o.read(33);e.counterparty=eE(i);let n=o.read(33);e.verifier=eE(n);let s=await this.wallet.revealCounterpartyKeyLinkage(e,a),f=new eF;f.write(eI(s.prover,"hex")),f.write(eI(s.verifier,"hex")),f.write(eI(s.counterparty,"hex"));let c=eI(s.revelationTime,"utf8");f.writeVarIntNum(c.length),f.write(c),f.writeVarIntNum(s.encryptedLinkage.length),f.write(s.encryptedLinkage),f.writeVarIntNum(s.encryptedLinkageProof.length),f.write(s.encryptedLinkageProof);let u=new eF;return u.writeUInt8(0),u.write(f.toArray()),u.toArray()}case"revealSpecificKeyLinkage":{let e=this.decodeKeyRelatedParams(o),t=o.read(33);e.verifier=eE(t);let r=await this.wallet.revealSpecificKeyLinkage(e,a),i=new eF;i.write(eI(r.prover,"hex")),i.write(eI(r.verifier,"hex")),i.write(eI(r.counterparty,"hex")),i.writeUInt8(r.protocolID[0]);let n=eI(r.protocolID[1],"utf8");i.writeVarIntNum(n.length),i.write(n);let s=eI(r.keyID,"utf8");i.writeVarIntNum(s.length),i.write(s),i.writeVarIntNum(r.encryptedLinkage.length),i.write(r.encryptedLinkage),i.writeVarIntNum(r.encryptedLinkageProof.length),i.write(r.encryptedLinkageProof),i.writeUInt8(r.proofType);let f=new eF;return f.writeUInt8(0),f.write(i.toArray()),f.toArray()}case"acquireCertificate":{let e={},t=o.read(32);e.type=eR(t);let r=o.read(33);e.certifier=eE(r);let i=o.readVarIntNum();e.fields={};for(let t=0;t<i;t++){let t=o.readVarIntNum(),r=o.read(t),i=eO(r),n=o.readVarIntNum(),a=o.read(n),s=eO(a);e.fields[i]=s}let n=o.readInt8();-1===n?e.privileged=void 0:e.privileged=1===n;let s=o.readInt8();if(-1===s)e.privilegedReason=void 0;else{let t=o.read(s);e.privilegedReason=eO(t)}let f=o.readUInt8();if(e.acquisitionProtocol=1===f?"direct":"issuance","direct"===e.acquisitionProtocol){let t=o.read(32);e.serialNumber=eR(t),e.revocationOutpoint=this.decodeOutpoint(o);let r=o.readVarIntNum(),i=o.read(r);e.signature=eE(i);let n=o.readUInt8();if(11===n)e.keyringRevealer="certifier";else{let t=[n].concat(o.read(32));e.keyringRevealer=eE(t)}let a=o.readVarIntNum();e.keyringForSubject={};for(let t=0;t<a;t++){let t=o.readVarIntNum(),r=o.read(t),i=eO(r),n=o.readVarIntNum(),a=o.read(n),s=eR(a);e.keyringForSubject[i]=s}}else{let t=o.readVarIntNum(),r=o.read(t);e.certifierUrl=eO(r)}let c=await this.wallet.acquireCertificate(e,a),u=new rH(c.type,c.serialNumber,c.subject,c.certifier,c.revocationOutpoint,c.fields,c.signature).toBinary(),h=new eF;return h.writeUInt8(0),h.write(u),h.toArray()}case"listCertificates":{let e={},t=o.readVarIntNum();e.certifiers=[];for(let r=0;r<t;r++){let t=o.read(33);e.certifiers.push(eE(t))}let r=o.readVarIntNum();e.types=[];for(let t=0;t<r;t++){let t=o.read(32);e.types.push(eR(t))}let i=o.readVarIntNum();i>=0?e.limit=i:e.limit=void 0;let n=o.readVarIntNum();n>=0?e.offset=n:e.offset=void 0;let s=o.readInt8();-1===s?e.privileged=void 0:e.privileged=1===s;let f=o.readInt8();if(-1===f)e.privilegedReason=void 0;else{let t=o.read(f);e.privilegedReason=eO(t)}let c=await this.wallet.listCertificates(e,a),u=new eF;for(let e of(u.writeVarIntNum(c.totalCertificates),c.certificates)){let t=new rH(e.type,e.serialNumber,e.subject,e.certifier,e.revocationOutpoint,e.fields,e.signature).toBinary();u.writeVarIntNum(t.length),u.write(t)}let h=new eF;return h.writeUInt8(0),h.write(u.toArray()),h.toArray()}case"proveCertificate":{let e={},t={},r=o.read(32);t.type=eR(r);let i=o.read(33);t.subject=eE(i);let n=o.read(32);t.serialNumber=eR(n);let s=o.read(33);t.certifier=eE(s),t.revocationOutpoint=this.decodeOutpoint(o);let f=o.readVarIntNum(),c=o.read(f);t.signature=eE(c);let u=o.readVarIntNum();t.fields={};for(let e=0;e<u;e++){let e=o.readVarIntNum(),r=o.read(e),i=eO(r),n=o.readVarIntNum(),a=o.read(n),s=eO(a);t.fields[i]=s}e.certificate=t;let h=o.readVarIntNum();e.fieldsToReveal=[];for(let t=0;t<h;t++){let t=o.readVarIntNum(),r=o.read(t),i=eO(r);e.fieldsToReveal.push(i)}let d=o.read(33);e.verifier=eE(d);let l=o.readInt8();-1===l?e.privileged=void 0:e.privileged=1===l;let p=o.readInt8();if(-1===p)e.privilegedReason=void 0;else{let t=o.read(p);e.privilegedReason=eO(t)}let b=await this.wallet.proveCertificate(e,a),y=new eF,g=Object.entries(b.keyringForVerifier);for(let[e,t]of(y.writeVarIntNum(g.length),g)){let r=eI(e,"utf8");y.writeVarIntNum(r.length),y.write(r);let i=eI(t,"base64");y.writeVarIntNum(i.length),y.write(i)}let m=new eF;return m.writeUInt8(0),m.write(y.toArray()),m.toArray()}case"relinquishCertificate":{let e={},t=o.read(32);e.type=eR(t);let r=o.read(32);e.serialNumber=eR(r);let i=o.read(33);e.certifier=eE(i),await this.wallet.relinquishCertificate(e,a);let n=new eF;return n.writeUInt8(0),n.toArray()}case"discoverByIdentityKey":{let e={},t=o.read(33);e.identityKey=eE(t);let r=o.readVarIntNum();r>=0?e.limit=r:e.limit=void 0;let i=o.readVarIntNum();i>=0?e.offset=i:e.offset=void 0;let n=o.readInt8();n>=0?e.seekPermission=1===n:e.seekPermission=void 0;let s=await this.wallet.discoverByIdentityKey(e,a),f=this.serializeDiscoveryResult(s),c=new eF;return c.writeUInt8(0),c.write(f),c.toArray()}case"discoverByAttributes":{let e={},t=o.readVarIntNum();e.attributes={};for(let r=0;r<t;r++){let t=o.readVarIntNum(),r=o.read(t),i=eO(r),n=o.readVarIntNum(),a=o.read(n),s=eO(a);e.attributes[i]=s}let r=o.readVarIntNum();r>=0?e.limit=r:e.limit=void 0;let i=o.readVarIntNum();i>=0?e.offset=i:e.offset=void 0;let n=o.readInt8();n>=0?e.seekPermission=1===n:e.seekPermission=void 0;let s=await this.wallet.discoverByAttributes(e,a),f=this.serializeDiscoveryResult(s),c=new eF;return c.writeUInt8(0),c.write(f),c.toArray()}default:throw Error(`Method ${r} not implemented`)}}catch(i){let e=new eF;e.writeUInt8("number"==typeof i.code?i.code:1);let t=eI("string"==typeof i.message?i.message:"Unknown error","utf8");e.writeVarIntNum(t.length),e.write(t);let r=eI("string"==typeof i.stack?i.stack:"","utf8");return e.writeVarIntNum(r.length),e.write(r),e.toArray()}}decodeProtocolID(e){let t=e.readUInt8(),r=e.readVarIntNum();return[t,eO(e.read(r))]}decodeString(e){let t=e.readVarIntNum();return eO(e.read(t))}decodeCounterparty(e){let t=e.readUInt8();return 11===t?"self":12===t?"anyone":0!==t?eE([t,...e.read(32)]):void 0}serializeDiscoveryResult(e){let t=new eF;for(let r of(t.writeVarIntNum(e.totalCertificates),e.certificates)){let e=new rH(r.type,r.serialNumber,r.subject,r.certifier,r.revocationOutpoint,r.fields,r.signaturre).toBinary();t.writeVarIntNum(e.length),t.write(e);let i=eI(r.certifierInfo.name,"utf8");t.writeVarIntNum(i.length),t.write(i);let n=eI(r.certifierInfo.iconUrl,"utf8");t.writeVarIntNum(n.length),t.write(n);let a=eI(r.certifierInfo.description,"utf8");t.writeVarIntNum(a.length),t.write(a),t.writeUInt8(r.certifierInfo.trust);let o=Object.entries(r.publiclyRevealedKeyring);for(let[e,r]of(t.writeVarIntNum(o.length),o)){let i=eI(e,"utf8");t.writeVarIntNum(i.length),t.write(i);let n=eI(r,"base64");t.writeVarIntNum(n.length),t.write(n)}let s=Object.entries(r.decryptedFields);for(let[e,r]of(t.writeVarIntNum(s.length),s)){let i=eI(e,"utf8");t.writeVarIntNum(i.length),t.write(i);let n=eI(r,"utf8");t.writeVarIntNum(n.length),t.write(n)}}return t.toArray()}decodeKeyRelatedParams(e){let t={};t.protocolID=this.decodeProtocolID(e);let r=e.readVarIntNum();t.keyID=eO(e.read(r)),t.counterparty=this.decodeCounterparty(e);let i=e.readInt8();-1===i?t.privileged=void 0:t.privileged=1===i;let n=e.readInt8();return -1===n?t.privilegedReason=void 0:t.privilegedReason=eO(e.read(n)),t}}e.s(["default",()=>rQ],47466),e.s([],91275),e.s([],22347);class r0 extends rH{masterKeyring;constructor(e,t,r,i,n,a,o,s){for(const f of(super(e,t,r,i,n,a,s),Object.keys(a)))if(void 0===o[f]||""===o[f])throw Error(`Master keyring must contain a value for every field. Missing or empty key for field: "${f}".`);this.masterKeyring=o}static async createCertificateFields(e,t,r,i,n){let a={},o={};for(let[s,f]of Object.entries(r)){let r=tb.fromRandom(),c=r.encrypt(eI(f,"utf8"));a[s]=eR(c);let{ciphertext:u}=await e.encrypt({plaintext:r.toArray(),...rH.getCertificateFieldEncryptionDetails(s),counterparty:t,privileged:i,privilegedReason:n});o[s]=eR(u)}return{certificateFields:a,masterKeyring:o}}static async createKeyringForVerifier(e,t,r,i,n,a,o,s,f){if(!Array.isArray(n))throw Error("fieldsToReveal must be an array of strings");let c={};for(let u of n){if(void 0===i[u]||null===i[u]||""===i[u])throw Error(`Fields to reveal must be a subset of the certificate fields. Missing the "${u}" field.`);let n=(await this.decryptField(e,a,u,i[u],t,s,f)).fieldRevelationKey,{ciphertext:h}=await e.encrypt({plaintext:n,...rH.getCertificateFieldEncryptionDetails(u,o),counterparty:r,privileged:s,privilegedReason:f});c[u]=eR(h)}return c}static async issueCertificateForSubject(e,t,r,i,n=async e=>"Certificate revocation not tracked.",a){let o=a??eR(eJ(32)),{certificateFields:s,masterKeyring:f}=await this.createCertificateFields(e,t,r),c=await n(o),u=new r0(i,o,t,(await e.getPublicKey({identityKey:!0})).publicKey,c,s,f);return await u.sign(e),u}static async decryptFields(e,t,r,i,n,a){if(null==t||0===Object.keys(t).length)throw Error("A MasterCertificate must have a valid masterKeyring!");try{let o={};for(let s of Object.keys(r))o[s]=(await this.decryptField(e,t,s,r[s],i,n,a)).decryptedFieldValue;return o}catch{throw Error("Failed to decrypt all master certificate fields.")}}static async decryptField(e,t,r,i,n,a,o){if(null==t||0===Object.keys(t).length)throw Error("A MasterCertificate must have a valid masterKeyring!");try{let{plaintext:s}=await e.decrypt({ciphertext:eI(t[r],"base64"),...rH.getCertificateFieldEncryptionDetails(r),counterparty:n,privileged:a,privilegedReason:o}),f=new tb(s).decrypt(eI(i,"base64"));return{fieldRevelationKey:s,decryptedFieldValue:eO(f)}}catch{throw Error("Failed to decrypt certificate field!")}}}e.s(["MasterCertificate",()=>r0],13068);class r1 extends rH{keyring;decryptedFields;constructor(e,t,r,i,n,a,o,s,f){super(e,t,r,i,n,a,s),this.keyring=o,this.decryptedFields=f}static fromCertificate(e,t){return new r1(e.type,e.serialNumber,e.subject,e.certifier,e.revocationOutpoint,e.fields,t,e.signature)}async decryptFields(e,t,r){if(null==this.keyring||0===Object.keys(this.keyring).length)throw Error("A keyring is required to decrypt certificate fields for the verifier.");try{let i={};for(let n in this.keyring){let{plaintext:a}=await e.decrypt({ciphertext:eI(this.keyring[n],"base64"),...rH.getCertificateFieldEncryptionDetails(n,this.serialNumber),counterparty:this.subject,privileged:t,privilegedReason:r}),o=new tb(a).decrypt(eI(this.fields[n],"base64"));i[n]=eO(o)}return i}catch(e){throw Error(`Failed to decrypt selectively revealed certificate fields using keyring: ${String(e instanceof Error?e.message:e)}`)}}}e.s(["VerifiableCertificate",()=>r1],78367);class r2 extends rF{keyDeriver;constructor(e){if(super(e),e instanceof rT)this.keyDeriver=e;else if("string"==typeof e||e instanceof e1)this.keyDeriver=new rT(e);else throw Error("Invalid key deriver provided")}async isAuthenticated(){throw Error("not implemented")}async waitForAuthentication(){throw Error("not implemented")}async getNetwork(){throw Error("not implemented")}async getVersion(){throw Error("not implemented")}async getPublicKey(e){if(!0===e.privileged)throw Error("no privilege support");if(!0===e.identityKey){if(null===this.keyDeriver||void 0===this.keyDeriver)throw Error("keyDeriver is not initialized");return{publicKey:this.keyDeriver.rootKey.toPublicKey().toString()}}if(null==e.protocolID||"string"!=typeof e.keyID||""===e.keyID.trim())throw Error("protocolID and keyID are required if identityKey is false or undefined.");if(null===this.keyDeriver||void 0===this.keyDeriver)throw Error("keyDeriver is not initialized");return{publicKey:this.keyDeriver.derivePublicKey(e.protocolID,e.keyID,"string"==typeof e.counterparty&&""!==e.counterparty.trim()?e.counterparty:"self",!!e.forSelf).toString()}}async createAction(){throw Error("not implemented")}async signAction(){throw Error("not implemented")}async abortAction(){throw Error("not implemented")}async listActions(){throw Error("not implemented")}async internalizeAction(){throw Error("not implemented")}async listOutputs(){throw Error("not implemented")}async relinquishOutput(){throw Error("not implemented")}async acquireCertificate(){throw Error("not implemented")}async listCertificates(){throw Error("not implemented")}async proveCertificate(){throw Error("not implemented")}async relinquishCertificate(){throw Error("not implemented")}async discoverByIdentityKey(){throw Error("not implemented")}async discoverByAttributes(){throw Error("not implemented")}async getHeight(){throw Error("not implemented")}async getHeaderForHeight(){throw Error("not implemented")}}e.s(["CompletedProtoWallet",()=>r2],38877),e.s([],84188);class r3{sessionNonceToSession;identityKeyToNonces;constructor(){this.sessionNonceToSession=new Map,this.identityKeyToNonces=new Map}addSession(e){if("string"!=typeof e.sessionNonce)throw Error("Invalid session: sessionNonce is required to add a session.");if(this.sessionNonceToSession.set(e.sessionNonce,e),"string"==typeof e.peerIdentityKey){let t=this.identityKeyToNonces.get(e.peerIdentityKey);null==t&&(t=new Set,this.identityKeyToNonces.set(e.peerIdentityKey,t)),t.add(e.sessionNonce)}}updateSession(e){this.removeSession(e),this.addSession(e)}getSession(e){let t,r=this.sessionNonceToSession.get(e);if(null!=r)return r;let i=this.identityKeyToNonces.get(e);if(null!=i&&0!==i.size){for(let e of i){let r=this.sessionNonceToSession.get(e);null!=r&&(null==t?t=r:(r.lastUpdate??0)>(t.lastUpdate??0)&&(t=r))}return t}}removeSession(e){if("string"==typeof e.sessionNonce&&this.sessionNonceToSession.delete(e.sessionNonce),"string"==typeof e.peerIdentityKey){let t=this.identityKeyToNonces.get(e.peerIdentityKey);null!=t&&(t.delete(e.sessionNonce??""),0===t.size&&this.identityKeyToNonces.delete(e.peerIdentityKey))}}hasSession(e){if(this.sessionNonceToSession.has(e))return!0;let t=this.identityKeyToNonces.get(e);return null!=t&&t.size>0}}async function r6(e,t,r="self"){let i=eI(e,"base64"),n=i.slice(0,16),a=i.slice(16),{valid:o}=await t.verifyHmac({data:n,hmac:a,protocolID:[2,"server hmac"],keyID:eO(n),counterparty:r});return o}async function r8(e,t="self"){let r=eJ(16),{hmac:i}=await e.createHmac({protocolID:[2,"server hmac"],keyID:eO(r),data:r,counterparty:t});return eR([...r,...i])}e.s(["SessionManager",()=>r3],40291),e.s(["verifyNonce",()=>r6],2152),e.s(["createNonce",()=>r8],63951);let r4=async(e,t,r)=>{let i=await e.listCertificates({certifiers:t.certifiers,types:Object.keys(t.types)});return await Promise.all(i.certificates.map(async i=>{let{keyringForVerifier:n}=await e.proveCertificate({certificate:i,fieldsToReveal:t.types[i.type],verifier:r});return new r1(i.type,i.serialNumber,i.subject,i.certifier,i.revocationOutpoint,i.fields,n,i.signature)}))};e.s(["getVerifiableCertificates",0,r4],15262);let r5=async(e,t,r)=>{if(null==t.certificates||0===t.certificates.length)throw Error("No certificates were provided in the AuthMessage.");await Promise.all(t.certificates.map(async i=>{if(i.subject!==t.identityKey)throw Error(`The subject of one of your certificates ("${i.subject}") is not the same as the request sender ("${t.identityKey}").`);let n=new r1(i.type,i.serialNumber,i.subject,i.certifier,i.revocationOutpoint,i.fields,i.keyring,i.signature);if(!await n.verify())throw Error(`The signature for the certificate with serial number ${n.serialNumber} is invalid!`);if(null!=r){let{certifiers:e,types:t}=r;if(!e.includes(n.certifier))throw Error(`Certificate with serial number ${n.serialNumber} has an unrequested certifier: ${n.certifier}`);if(null==t[n.type])throw Error(`Certificate with type ${n.type} was not requested`)}await n.decryptFields(e)}))};e.s(["validateCertificates",0,r5],20893),e.s([],57483);let r9="0.1";class r7{sessionManager;transport;wallet;certificatesToRequest;onGeneralMessageReceivedCallbacks=new Map;onCertificatesReceivedCallbacks=new Map;onCertificateRequestReceivedCallbacks=new Map;onInitialResponseReceivedCallbacks=new Map;callbackIdCounter=0;autoPersistLastSession=!0;lastInteractedWithPeer;constructor(e,t,r,i,n){this.wallet=e,this.transport=t,this.certificatesToRequest=r??{certifiers:[],types:{}},this.transport.onData(this.handleIncomingMessage.bind(this)).catch(e=>{throw e}),this.sessionManager=null!=i?i:new r3,!1===n?this.autoPersistLastSession=!1:this.autoPersistLastSession=!0}async toPeer(e,t,r){this.autoPersistLastSession&&"string"==typeof this.lastInteractedWithPeer&&"string"!=typeof t&&(t=this.lastInteractedWithPeer);let i=await this.getAuthenticatedSession(t,r),n=eR(eJ(32)),{signature:a}=await this.wallet.createSignature({data:e,protocolID:[2,"auth message signature"],keyID:`${n} ${i.peerNonce??""}`,counterparty:i.peerIdentityKey}),o={version:r9,messageType:"general",identityKey:(await this.wallet.getPublicKey({identityKey:!0})).publicKey,nonce:n,yourNonce:i.peerNonce,payload:e,signature:a};i.lastUpdate=Date.now(),this.sessionManager.updateSession(i);try{await this.transport.send(o)}catch(t){let e=Error(`Failed to send message to peer ${i.peerIdentityKey??"unknown"}: ${String(t.message)}`);throw e.stack=t.stack,e}}async requestCertificates(e,t,r=1e4){this.autoPersistLastSession&&"string"==typeof this.lastInteractedWithPeer&&"string"!=typeof t&&(t=this.lastInteractedWithPeer);let i=await this.getAuthenticatedSession(t,r),n=eR(eJ(32)),{signature:a}=await this.wallet.createSignature({data:eI(JSON.stringify(e),"utf8"),protocolID:[2,"auth message signature"],keyID:`${n} ${i.peerNonce??""}`,counterparty:i.peerIdentityKey}),o={version:r9,messageType:"certificateRequest",identityKey:(await this.wallet.getPublicKey({identityKey:!0})).publicKey,nonce:n,initialNonce:i.sessionNonce,yourNonce:i.peerNonce,requestedCertificates:e,signature:a};i.lastUpdate=Date.now(),this.sessionManager.updateSession(i);try{await this.transport.send(o)}catch(e){throw Error(`Failed to send certificate request message to peer ${i.peerIdentityKey??"unknown"}: ${String(e.message)}`)}}async getAuthenticatedSession(e,t){let r;if(void 0===this.transport)throw Error("Peer transport is not connected!");if("string"==typeof e&&(r=this.sessionManager.getSession(e)),null==r||!r.isAuthenticated){let i=await this.initiateHandshake(e,t);if(null==(r=this.sessionManager.getSession(i))||!r.isAuthenticated)throw Error("Unable to establish mutual authentication with peer!")}return r}listenForGeneralMessages(e){let t=this.callbackIdCounter++;return this.onGeneralMessageReceivedCallbacks.set(t,e),t}stopListeningForGeneralMessages(e){this.onGeneralMessageReceivedCallbacks.delete(e)}listenForCertificatesReceived(e){let t=this.callbackIdCounter++;return this.onCertificatesReceivedCallbacks.set(t,e),t}stopListeningForCertificatesReceived(e){this.onCertificatesReceivedCallbacks.delete(e)}listenForCertificatesRequested(e){let t=this.callbackIdCounter++;return this.onCertificateRequestReceivedCallbacks.set(t,e),t}stopListeningForCertificatesRequested(e){this.onCertificateRequestReceivedCallbacks.delete(e)}async initiateHandshake(e,t=1e4){let r=await r8(this.wallet),i=Date.now();this.sessionManager.addSession({isAuthenticated:!1,sessionNonce:r,peerIdentityKey:e,lastUpdate:i});let n={version:r9,messageType:"initialRequest",identityKey:(await this.wallet.getPublicKey({identityKey:!0})).publicKey,initialNonce:r,requestedCertificates:this.certificatesToRequest};return await this.transport.send(n),await this.waitForInitialResponse(r,t)}async waitForInitialResponse(e,t=1e4){return await new Promise((r,i)=>{let n=this.listenForInitialResponse(e,e=>{clearTimeout(a),this.stopListeningForInitialResponses(n),r(e)}),a=setTimeout(()=>{this.stopListeningForInitialResponses(n),i(Error("Initial response timed out."))},t)})}listenForInitialResponse(e,t){let r=this.callbackIdCounter++;return this.onInitialResponseReceivedCallbacks.set(r,{callback:t,sessionNonce:e}),r}stopListeningForInitialResponses(e){this.onInitialResponseReceivedCallbacks.delete(e)}async handleIncomingMessage(e){if("string"!=typeof e.version||e.version!==r9)throw Error(`Invalid or unsupported message auth version! Received: ${e.version}, expected: ${r9}`);switch(e.messageType){case"initialRequest":await this.processInitialRequest(e);break;case"initialResponse":await this.processInitialResponse(e);break;case"certificateRequest":await this.processCertificateRequest(e);break;case"certificateResponse":await this.processCertificateResponse(e);break;case"general":await this.processGeneralMessage(e);break;default:throw Error(`Unknown message type of ${String(e.messageType)} from ${String(e.identityKey)}`)}}async processInitialRequest(e){let t;if("string"!=typeof e.identityKey||"string"!=typeof e.initialNonce||""===e.initialNonce)throw Error("Missing required fields in initialRequest message.");let r=await r8(this.wallet),i=Date.now();this.sessionManager.addSession({isAuthenticated:!0,sessionNonce:r,peerNonce:e.initialNonce,peerIdentityKey:e.identityKey,lastUpdate:i}),null!=e.requestedCertificates&&Array.isArray(e.requestedCertificates.certifiers)&&e.requestedCertificates.certifiers.length>0&&(this.onCertificateRequestReceivedCallbacks.size>0?this.onCertificateRequestReceivedCallbacks.forEach(t=>{t(e.identityKey,e.requestedCertificates)}):t=await r4(this.wallet,e.requestedCertificates,e.identityKey));let{signature:n}=await this.wallet.createSignature({data:eI(e.initialNonce+r,"base64"),protocolID:[2,"auth message signature"],keyID:`${e.initialNonce} ${r}`,counterparty:e.identityKey}),a={version:r9,messageType:"initialResponse",identityKey:(await this.wallet.getPublicKey({identityKey:!0})).publicKey,initialNonce:r,yourNonce:e.initialNonce,certificates:t,requestedCertificates:this.certificatesToRequest,signature:n};void 0===this.lastInteractedWithPeer&&(this.lastInteractedWithPeer=e.identityKey),await this.transport.send(a)}async processInitialResponse(e){if(!await r6(e.yourNonce,this.wallet))throw Error(`Initial response nonce verification failed from peer: ${e.identityKey}`);let t=this.sessionManager.getSession(e.yourNonce);if(null==t)throw Error(`Peer session not found for peer: ${e.identityKey}`);let r=eI((t.sessionNonce??"")+(e.initialNonce??""),"base64"),{valid:i}=await this.wallet.verifySignature({data:r,signature:e.signature,protocolID:[2,"auth message signature"],keyID:`${t.sessionNonce??""} ${e.initialNonce??""}`,counterparty:e.identityKey});if(!i)throw Error(`Unable to verify initial response signature for peer: ${e.identityKey}`);if(t.peerNonce=e.initialNonce,t.peerIdentityKey=e.identityKey,t.isAuthenticated=!0,t.lastUpdate=Date.now(),this.sessionManager.updateSession(t),this.certificatesToRequest?.certifiers?.length>0&&e.certificates?.length>0&&(await r5(this.wallet,e,this.certificatesToRequest),this.onCertificatesReceivedCallbacks.forEach(t=>t(e.identityKey,e.certificates))),this.lastInteractedWithPeer=e.identityKey,this.onInitialResponseReceivedCallbacks.forEach(e=>{e.sessionNonce===t.sessionNonce&&e.callback(t.sessionNonce)}),null!=e.requestedCertificates&&Array.isArray(e.requestedCertificates.certifiers)&&e.requestedCertificates.certifiers.length>0)if(this.onCertificateRequestReceivedCallbacks.size>0)this.onCertificateRequestReceivedCallbacks.forEach(t=>{t(e.identityKey,e.requestedCertificates)});else{let t=await r4(this.wallet,e.requestedCertificates,e.identityKey);await this.sendCertificateResponse(e.identityKey,t)}}async processCertificateRequest(e){if(!await r6(e.yourNonce,this.wallet))throw Error(`Unable to verify nonce for certificate request message from: ${e.identityKey}`);let t=this.sessionManager.getSession(e.yourNonce);if(null==t)throw Error(`Session not found for nonce: ${e.yourNonce}`);let{valid:r}=await this.wallet.verifySignature({data:eI(JSON.stringify(e.requestedCertificates),"utf8"),signature:e.signature,protocolID:[2,"auth message signature"],keyID:`${e.nonce??""} ${t.sessionNonce??""}`,counterparty:t.peerIdentityKey});if(!r)throw Error(`Invalid signature in certificate request message from ${t.peerIdentityKey}`);if(t.lastUpdate=Date.now(),this.sessionManager.updateSession(t),null!=e.requestedCertificates&&Array.isArray(e.requestedCertificates.certifiers)&&e.requestedCertificates.certifiers.length>0)if(this.onCertificateRequestReceivedCallbacks.size>0)this.onCertificateRequestReceivedCallbacks.forEach(t=>{t(e.identityKey,e.requestedCertificates)});else{let t=await r4(this.wallet,e.requestedCertificates,e.identityKey);await this.sendCertificateResponse(e.identityKey,t)}}async sendCertificateResponse(e,t){let r=await this.getAuthenticatedSession(e),i=eR(eJ(32)),{signature:n}=await this.wallet.createSignature({data:eI(JSON.stringify(t),"utf8"),protocolID:[2,"auth message signature"],keyID:`${i} ${r.peerNonce??""}`,counterparty:r.peerIdentityKey}),a={version:r9,messageType:"certificateResponse",identityKey:(await this.wallet.getPublicKey({identityKey:!0})).publicKey,nonce:i,initialNonce:r.sessionNonce,yourNonce:r.peerNonce,certificates:t,signature:n};r.lastUpdate=Date.now(),this.sessionManager.updateSession(r);try{await this.transport.send(a)}catch(t){let e=t instanceof Error?t.message:String(t);throw Error(`Failed to send certificate response message to peer ${r.peerIdentityKey??"unknown"}: ${e}`)}}async processCertificateResponse(e){if(!await r6(e.yourNonce,this.wallet))throw Error(`Unable to verify nonce for certificate response from: ${e.identityKey}`);let t=this.sessionManager.getSession(e.yourNonce);if(null==t)throw Error(`Session not found for nonce: ${e.yourNonce}`);let{valid:r}=await this.wallet.verifySignature({data:eI(JSON.stringify(e.certificates),"utf8"),signature:e.signature,protocolID:[2,"auth message signature"],keyID:`${e.nonce??""} ${t.sessionNonce??""}`,counterparty:e.identityKey});if(!r)throw Error(`Unable to verify certificate response signature for peer: ${e.identityKey}`);await r5(this.wallet,e,e.requestedCertificates),this.onCertificatesReceivedCallbacks.forEach(t=>{t(e.identityKey,e.certificates??[])}),t.lastUpdate=Date.now(),this.sessionManager.updateSession(t)}async processGeneralMessage(e){if(!await r6(e.yourNonce,this.wallet))throw Error(`Unable to verify nonce for general message from: ${e.identityKey}`);let t=this.sessionManager.getSession(e.yourNonce);if(null==t)throw Error(`Session not found for nonce: ${e.yourNonce}`);let{valid:r}=await this.wallet.verifySignature({data:e.payload,signature:e.signature,protocolID:[2,"auth message signature"],keyID:`${e.nonce??""} ${t.sessionNonce??""}`,counterparty:t.peerIdentityKey});if(!r)throw Error(`Invalid signature in generalMessage from ${t.peerIdentityKey}`);t.lastUpdate=Date.now(),this.sessionManager.updateSession(t),this.lastInteractedWithPeer=e.identityKey,this.onGeneralMessageReceivedCallbacks.forEach(t=>{t(e.identityKey,e.payload??[])})}}e.s(["Peer",()=>r7],35244),e.s([],82439);let ie="undefined"!=typeof window?fetch.bind(window):fetch;class it{onDataCallback;fetchClient;baseUrl;constructor(e,t=ie){this.fetchClient=t,this.baseUrl=e}async send(e){if(!this.onDataCallback)throw Error("Listen before you start speaking. God gave you two ears and one mouth for a reason.");if("general"!==e.messageType)return new Promise(async(t,r)=>{try{let r=this.fetchClient(`${this.baseUrl}/.well-known/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});"initialRequest"!==e.messageType&&t();let i=await r;if(i.ok&&this.onDataCallback){let e=await i.json();this.onDataCallback(e)}else throw Error("HTTP server failed to authenticate");"initialRequest"===e.messageType&&t()}catch(e){r(e);return}});{let t=this.deserializeRequestPayload(e.payload),r=`${this.baseUrl}${t.urlPostfix}`,i=t;if("object"!=typeof t.headers&&(i.headers={}),i.headers["x-bsv-auth-version"]=e.version,i.headers["x-bsv-auth-identity-key"]=e.identityKey,i.headers["x-bsv-auth-nonce"]=e.nonce,i.headers["x-bsv-auth-your-nonce"]=e.yourNonce,i.headers["x-bsv-auth-signature"]=eE(e.signature),i.headers["x-bsv-auth-request-id"]=t.requestId,i.body){let e=i.headers;if(!e["content-type"])throw Error("Content-Type header is required for requests with a body.");let t=e["content-type"];t.includes("application/json")||t.includes("application/x-www-form-urlencoded")||t.includes("text/plain")?i.body=eO(i.body):i.body=new Uint8Array(i.body)}let n=await this.fetchClient(r,{method:i.method,headers:i.headers,body:i.body});if(500===n.status&&!n.headers.get("x-bsv-auth-request-id")){let e=await n.json();throw Error(`HTTP ${n.status} - ${JSON.stringify(e)}`)}let a=await n.arrayBuffer(),o=new eF;o.write(eI(n.headers.get("x-bsv-auth-request-id"),"base64")),o.writeVarIntNum(n.status);let s=[];n.headers.forEach((e,t)=>{let r=t.toLowerCase();(r.startsWith("x-bsv-")||"authorization"===r)&&!r.startsWith("x-bsv-auth")&&s.push([r,e])}),s.sort(([e],[t])=>e.localeCompare(t)),o.writeVarIntNum(s.length);for(let e=0;e<s.length;e++){let t=eI(s[e][0],"utf8");o.writeVarIntNum(t.length),o.write(t);let r=eI(s[e][1],"utf8");o.writeVarIntNum(r.length),o.write(r)}if(a){let e=Array.from(new Uint8Array(a));o.writeVarIntNum(e.length),o.write(e)}else o.writeVarIntNum(-1);let f={version:n.headers.get("x-bsv-auth-version"),messageType:"certificateRequest"===n.headers.get("x-bsv-auth-message-type")?"certificateRequest":"general",identityKey:n.headers.get("x-bsv-auth-identity-key"),nonce:n.headers.get("x-bsv-auth-nonce"),yourNonce:n.headers.get("x-bsv-auth-your-nonce"),requestedCertificates:JSON.parse(n.headers.get("x-bsv-auth-requested-certificates")),payload:o.toArray(),signature:eI(n.headers.get("x-bsv-auth-signature"),"hex")};if(!f.version)throw Error("HTTP server failed to authenticate");this.onDataCallback(f)}}async onData(e){this.onDataCallback=t=>{e(t)}}deserializeRequestPayload(e){let t,r=new eU(e),i=eR(r.read(32)),n=r.readVarIntNum(),a="GET";n>0&&(a=eO(r.read(n)));let o=r.readVarIntNum(),s="";o>0&&(s=eO(r.read(o)));let f=r.readVarIntNum(),c="";f>0&&(c=eO(r.read(f)));let u={},h=r.readVarIntNum();if(h>0)for(let e=0;e<h;e++){let e=r.readVarIntNum(),t=eO(r.read(e)),i=r.readVarIntNum(),n=eO(r.read(i));u[t]=n}let d=r.readVarIntNum();return d>0&&(t=r.read(d)),{urlPostfix:s+c,method:a,headers:u,body:t,requestId:i}}}e.s(["SimplifiedFetchTransport",()=>it],51452);let ir="1.0";class ii{sessionManager;wallet;callbacks={};certificatesReceived=[];requestedCertificates;peers={};constructor(e,t,r){this.wallet=e,this.requestedCertificates=t,this.sessionManager=r||new r3}async fetch(e,t={}){if("number"==typeof t.retryCounter){if(t.retryCounter<=0)throw Error("Request failed after maximum number of retries.");t.retryCounter--}let r=await new Promise(async(r,i)=>{try{let n,{method:a="GET",headers:o={},body:s}=t,f=new URL(e),c=f.origin;if(void 0===this.peers[c]){let e=new it(c);n={peer:new r7(this.wallet,e,this.requestedCertificates,this.sessionManager),pendingCertificateRequests:[]},this.peers[c]=n,this.peers[c].peer.listenForCertificatesReceived((e,t)=>{this.certificatesReceived.push(...t)}),this.peers[c].peer.listenForCertificatesRequested(async(e,t)=>{try{this.peers[c].pendingCertificateRequests.push(!0);let r=await r4(this.wallet,t,e);await this.peers[c].peer.sendCertificateResponse(e,r)}finally{await new Promise(e=>setTimeout(e,500)),this.peers[c].pendingCertificateRequests.shift()}})}else{if(!1===this.peers[c].supportsMutualAuth){try{let i=await this.handleFetchAndValidate(e,t,this.peers[c]);r(i)}catch(e){i(e)}return}n=this.peers[c]}let u=eJ(32),h=eR(u),d=await this.serializeRequest(a,o,s,f,u);this.callbacks[h]={resolve:r,reject:i};let l=n.peer.listenForGeneralMessages((e,t)=>{let r,i=new eU(t);if(eR(i.read(32))!==h)return;n.peer.stopListeningForGeneralMessages(l),this.peers[c].identityKey=e,this.peers[c].supportsMutualAuth=!0;let a=i.readVarIntNum(),o={},s=i.readVarIntNum();if(s>0)for(let e=0;e<s;e++){let e=i.readVarIntNum(),t=i.read(e),r=eO(t),n=i.readVarIntNum(),a=i.read(n),s=eO(a);o[r]=s}o["x-bsv-auth-identity-key"]=e;let f=i.readVarIntNum();f>0&&(r=i.read(f));let u=new Response(r?new Uint8Array(r):null,{status:a,statusText:`${a}`,headers:new Headers(o)});this.callbacks[h].resolve(u),delete this.callbacks[h]});n.pendingCertificateRequests.length>0&&await new Promise(e=>{setInterval(()=>{0===n.pendingCertificateRequests.length&&e()},100)}),await n.peer.toPeer(d.toArray(),n.identityKey).catch(async a=>{if(a.message.includes("Session not found for nonce")){delete this.peers[c],t.retryCounter??=3;let i=await this.fetch(e,t);r(i);return}if(a.message.includes("HTTP server failed to authenticate"))try{let i=await this.handleFetchAndValidate(e,t,n);r(i);return}catch(e){i(e)}else i(a)})}catch(e){i(e)}});return 402===r.status?await this.handlePaymentAndRetry(e,t,r):r}async sendCertificateRequest(e,t){let r,i=new URL(e).origin;if(void 0!==this.peers[i])r={peer:this.peers[i].peer};else{let e=new it(i);r={peer:new r7(this.wallet,e,this.requestedCertificates,this.sessionManager)},this.peers[i]=r}return await new Promise(async(e,i)=>{let n=r.peer.listenForCertificatesReceived((t,i)=>{r.peer.stopListeningForCertificatesReceived(n),this.certificatesReceived.push(...i),e(i)});try{await r.peer.requestCertificates(t,r.identityKey)}catch(e){r.peer.stopListeningForCertificatesReceived(n),i(e)}})}consumeReceivedCertificates(){return this.certificatesReceived.splice(0)}async serializeRequest(e,t,r,i,n){let a=new eF;if(a.write(n),a.writeVarIntNum(e.length),a.write(eI(e)),i.pathname.length>0){let e=eI(i.pathname);a.writeVarIntNum(e.length),a.write(e)}else a.writeVarIntNum(-1);if(i.search.length>0){let e=eI(i.search);a.writeVarIntNum(e.length),a.write(e)}else a.writeVarIntNum(-1);let o=[];for(let[e,r]of Object.entries(t))if((e=e.toLowerCase()).startsWith("x-bsv-")||"authorization"===e){if(e.startsWith("x-bsv-auth"))throw Error("No BSV auth headers allowed here!");o.push([e,r])}else if(e.startsWith("content-type"))r=r.split(";")[0].trim(),o.push([e,r]);else throw Error("Unsupported header in the simplified fetch implementation. Only content-type, authorization, and x-bsv-* headers are supported.");o.sort(([e],[t])=>e.localeCompare(t)),a.writeVarIntNum(o.length);for(let e=0;e<o.length;e++){let t=eI(o[e][0],"utf8");a.writeVarIntNum(t.length),a.write(t);let r=eI(o[e][1],"utf8");a.writeVarIntNum(r.length),a.write(r)}if(["POST","PUT","PATCH","DELETE"].includes(e.toUpperCase())&&void 0===r){let e=o.find(([e])=>"content-type"===e);r=e&&e[1].includes("application/json")?"{}":""}if(r){let e=await this.normalizeBodyToNumberArray(r);a.writeVarIntNum(e.length),a.write(e)}else a.writeVarIntNum(-1);return a}async handleFetchAndValidate(e,t,r){let i=await fetch(e,t);if(i.headers.forEach(e=>{if(e.toLocaleLowerCase().startsWith("x-bsv"))throw Error("The server is trying to claim it has been authenticated when it has not!")}),i.ok)return r.supportsMutualAuth=!1,i;throw Error(`Request failed with status: ${i.status}`)}async handlePaymentAndRetry(e,t={},r){let i=r.headers.get("x-bsv-payment-version");if(!i||i!==ir)throw Error(`Unsupported x-bsv-payment-version response header. Client version: ${ir}, Server version: ${i}`);let n=r.headers.get("x-bsv-payment-satoshis-required");if(!n)throw Error("Missing x-bsv-payment-satoshis-required response header.");let a=parseInt(n);if(isNaN(a)||a<=0)throw Error("Invalid x-bsv-payment-satoshis-required response header value.");let o=r.headers.get("x-bsv-auth-identity-key");if(!o)throw Error("Missing x-bsv-auth-identity-key response header.");let s=r.headers.get("x-bsv-payment-derivation-prefix");if("string"!=typeof s||s.length<1)throw Error("Missing x-bsv-payment-derivation-prefix response header.");let f=await r8(this.wallet),{publicKey:c}=await this.wallet.getPublicKey({protocolID:[2,"3241645161d8"],keyID:`${s} ${f}`,counterparty:o}),u=new tL().lock(eG.fromString(c).toAddress()).toHex(),{tx:h}=await this.wallet.createAction({description:`Payment for request to ${new URL(e).origin}`,outputs:[{satoshis:a,lockingScript:u,customInstructions:JSON.stringify({derivationPrefix:s,derivationSuffix:f,payee:o}),outputDescription:"HTTP request payment"}],options:{randomizeOutputs:!1}});return t.headers=t.headers||{},t.headers["x-bsv-payment"]=JSON.stringify({derivationPrefix:s,derivationSuffix:f,transaction:eR(h)}),t.retryCounter??=3,this.fetch(e,t)}async normalizeBodyToNumberArray(e){if(null==e)return[];if("object"==typeof e)return eI(JSON.stringify(e,"utf8"));if(Array.isArray(e)&&e.every(e=>"number"==typeof e))return e;if("string"==typeof e)return eI(e,"utf8");if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Array.from(new Uint8Array(e instanceof ArrayBuffer?e:e.buffer));if(e instanceof Blob)return Array.from(new Uint8Array(await e.arrayBuffer()));if(e instanceof FormData){let t=[];return e.forEach((e,r)=>{t.push([r,e.toString()])}),eI(new URLSearchParams(t).toString(),"utf8")}if(e instanceof URLSearchParams)return eI(e.toString(),"utf8");if(e instanceof ReadableStream)throw Error("ReadableStream cannot be directly converted to number[].");throw Error("Unsupported body type in this SimplifiedFetch implementation.")}}e.s(["AuthFetch",()=>ii],87402),e.s([],68973),e.s([],84771),e.s([],19942);var tH=tH;class ia{pushDrop;static decode(e){let t=t$.decode(e);if(t.fields.length<4)throw Error("Invalid SHIP/SLAP advertisement!");let r=tH.toUTF8(t.fields[0]);if("SHIP"!==r&&"SLAP"!==r)throw Error("Invalid protocol type!");let i=tH.toHex(t.fields[1]);return{protocol:r,identityKey:i,domain:tH.toUTF8(t.fields[2]),topicOrService:tH.toUTF8(t.fields[3])}}constructor(e){this.pushDrop=new t$(e)}async lock(e,t,r){let{publicKey:i}=await this.pushDrop.wallet.getPublicKey({identityKey:!0});return await this.pushDrop.lock([tH.toArray(e,"utf8"),tH.toArray(i,"hex"),tH.toArray(t,"utf8"),tH.toArray(r,"utf8")],[2,"SHIP"===e?"Service Host Interconnect":"Service Lookup Availability"],"1","self")}unlock(e){return this.pushDrop.unlock([2,"SHIP"===e?"Service Host Interconnect":"Service Lookup Availability"],"1","self")}}e.s(["default",()=>ia],45046);let io=["https://users.bapp.dev"],is=["https://testnet-users.bapp.dev"],ic=5e3;class iu{fetchClient;allowHTTP;constructor(e=fetch,t=!1){this.fetchClient=e,this.allowHTTP=t}async lookup(e,t,r=5e3){if(!e.startsWith("https:")&&!this.allowHTTP)throw Error('HTTPS facilitator can only use URLs that start with "https:"');let i=new Promise((e,t)=>setTimeout(()=>t(Error("Request timed out")),r)),n=fetch(`${e}/lookup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:t.service,query:t.query})}),a=await Promise.race([n,i]);if(a.ok)return await a.json();throw Error("Failed to facilitate lookup")}}class ih{facilitator;slapTrackers;hostOverrides;additionalHosts;networkPreset;constructor(e={}){this.networkPreset=e.networkPreset??"mainnet",this.facilitator=e.facilitator??new iu(void 0,"local"===this.networkPreset),this.slapTrackers=e.slapTrackers??("mainnet"===this.networkPreset?io:is),this.hostOverrides=e.hostOverrides??{},this.additionalHosts=e.additionalHosts??{}}async query(e,t){let r=[];if(r="ls_slap"===e.service?"local"===this.networkPreset?["http://localhost:8080"]:this.slapTrackers:null!=this.hostOverrides[e.service]?this.hostOverrides[e.service]:"local"===this.networkPreset?["http://localhost:8080"]:await this.findCompetentHosts(e.service),this.additionalHosts[e.service]?.length>0&&(r=[...r,...this.additionalHosts[e.service]]),r.length<1)throw Error(`No competent ${this.networkPreset} hosts found by the SLAP trackers for lookup service: ${e.service}`);let i=(await Promise.allSettled(r.map(async r=>await this.facilitator.lookup(r,e,t)))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if(0===i.length)throw Error("No successful responses from any hosts");if("freeform"===i[0].type)return i[0];let n=new Map;for(let e of i)if("output-list"===e.type)try{for(let t of e.outputs)try{let e=String(re.fromBEEF(t.beef).id("hex"));if(""!==e){let r=`${String(e)}.${String(t.outputIndex)}`;n.set(r,t)}else console.warn("Invalid transaction ID:",e)}catch{continue}}catch(e){}return{type:"output-list",outputs:Array.from(n.values())}}async findCompetentHosts(e){let t={service:"ls_slap",query:{service:e}},r=await Promise.allSettled(this.slapTrackers.map(async e=>await this.facilitator.lookup(e,t,ic))),i=new Set;for(let t of r)if("fulfilled"!==t.status)continue;else{let r=t.value;if("output-list"!==r.type)continue;for(let t of r.outputs)try{let r=re.fromBEEF(t.beef).outputs[t.outputIndex].lockingScript,n=ia.decode(r);if(n.topicOrService!==e||"SLAP"!==n.protocol)continue;i.add(n.domain)}catch{continue}}return[...i]}}e.s(["DEFAULT_SLAP_TRACKERS",0,io,"DEFAULT_TESTNET_SLAP_TRACKERS",0,is,"HTTPSOverlayLookupFacilitator",()=>iu,"default",()=>ih],78647);let id=5e3;class il{httpClient;allowHTTP;constructor(e=fetch,t=!1){this.httpClient=e,this.allowHTTP=t}async send(e,t){if(console.log(e),!e.startsWith("https:")&&!this.allowHTTP)throw Error('HTTPS facilitator can only use URLs that start with "https:"');let r=await fetch(`${e}/submit`,{method:"POST",headers:{"Content-Type":"application/octet-stream","X-Topics":JSON.stringify(t.topics)},body:new Uint8Array(t.beef)});if(r.ok)return await r.json();throw Error("Failed to facilitate broadcast")}}class ip{topics;facilitator;resolver;requireAcknowledgmentFromAllHostsForTopics;requireAcknowledgmentFromAnyHostForTopics;requireAcknowledgmentFromSpecificHostsForTopics;networkPreset;constructor(e,t={}){if(0===e.length)throw Error("At least one topic is required for broadcast.");if(e.some(e=>!e.startsWith("tm_")))throw Error('Every topic must start with "tm_".');this.topics=e,this.networkPreset=t.networkPreset??"mainnet",this.facilitator=t.facilitator??new il(void 0,"local"===this.networkPreset),this.resolver=t.resolver??new ih({networkPreset:this.networkPreset}),this.requireAcknowledgmentFromAllHostsForTopics=t.requireAcknowledgmentFromAllHostsForTopics??[],this.requireAcknowledgmentFromAnyHostForTopics=t.requireAcknowledgmentFromAnyHostForTopics??"all",this.requireAcknowledgmentFromSpecificHostsForTopics=t.requireAcknowledgmentFromSpecificHostsForTopics??{}}async broadcast(e){let t,r,i,n,a;console.log(e);try{t=e.toBEEF()}catch(e){throw Error("Transactions sent via SHIP to Overlay Services must be serializable to BEEF format.")}let o=await this.findInterestedHosts();if(console.log(o),0===Object.keys(o).length)return{status:"error",code:"ERR_NO_HOSTS_INTERESTED",description:`No ${this.networkPreset} hosts are interested in receiving this transaction.`};let s=Object.entries(o).map(async([e,r])=>{try{let i=await this.facilitator.send(e,{beef:t,topics:[...r]});if(null==i||0===Object.keys(i).length)throw Error("Steak has no topics.");return{host:e,success:!0,steak:i}}catch(t){return console.error(t),{host:e,success:!1,error:t}}}),f=(await Promise.all(s)).filter(e=>e.success);if(0===f.length)return{status:"error",code:"ERR_ALL_HOSTS_REJECTED",description:`All ${this.networkPreset} topical hosts have rejected the transaction.`};let c={};for(let e of f){let t=e.host,r=e.steak,i=new Set;for(let[e,t]of Object.entries(r)){let r=t.outputsToAdmit,n=t.coinsToRetain,a=t.coinsRemoved;(r?.length>0||n?.length>0||a?.length>0)&&i.add(e)}c[t]=i}return("all"===this.requireAcknowledgmentFromAllHostsForTopics?(r=this.topics,i="all"):"any"===this.requireAcknowledgmentFromAllHostsForTopics?(r=this.topics,i="any"):(r=Array.isArray(this.requireAcknowledgmentFromAllHostsForTopics)?this.requireAcknowledgmentFromAllHostsForTopics:this.topics,i="all"),r.length>0&&!this.checkAcknowledgmentFromAllHosts(c,r,i))?{status:"error",code:"ERR_REQUIRE_ACK_FROM_ALL_HOSTS_FAILED",description:"Not all hosts acknowledged the required topics."}:("all"===this.requireAcknowledgmentFromAnyHostForTopics?(n=this.topics,a="all"):"any"===this.requireAcknowledgmentFromAnyHostForTopics?(n=this.topics,a="any"):(n=Array.isArray(this.requireAcknowledgmentFromAnyHostForTopics)?this.requireAcknowledgmentFromAnyHostForTopics:[],a="all"),n.length>0&&!this.checkAcknowledgmentFromAnyHost(c,n,a))?{status:"error",code:"ERR_REQUIRE_ACK_FROM_ANY_HOST_FAILED",description:"No host acknowledged the required topics."}:Object.keys(this.requireAcknowledgmentFromSpecificHostsForTopics).length>0&&!this.checkAcknowledgmentFromSpecificHosts(c,this.requireAcknowledgmentFromSpecificHostsForTopics)?{status:"error",code:"ERR_REQUIRE_ACK_FROM_SPECIFIC_HOSTS_FAILED",description:"Specific hosts did not acknowledge the required topics."}:{status:"success",txid:e.id("hex"),message:`Sent to ${f.length} Overlay Services ${1===f.length?"host":"hosts"}.`}}checkAcknowledgmentFromAllHosts(e,t,r){for(let i of Object.values(e))if("all"===r){for(let e of t)if(!i.has(e))return!1}else if("any"===r){let e=!1;for(let r of t)if(i.has(r)){e=!0;break}if(!e)return!1}return!0}checkAcknowledgmentFromAnyHost(e,t,r){if("all"===r){for(let r of Object.values(e)){let e=!0;for(let i of t)if(!r.has(i)){e=!1;break}if(e)return!0}return!1}for(let r of Object.values(e))for(let e of t)if(r.has(e))return!0;return!1}checkAcknowledgmentFromSpecificHosts(e,t){for(let[r,i]of Object.entries(t)){let t,n,a=e[r];if(null==a)return!1;if("all"===i||"any"===i)n=i,t=this.topics;else{if(!Array.isArray(i))continue;t=i,n="all"}if("all"===n){for(let e of t)if(!a.has(e))return!1}else if("any"===n){let e=!1;for(let r of t)if(a.has(r)){e=!0;break}if(!e)return!1}}return!0}async findInterestedHosts(){if("local"===this.networkPreset){let e=new Set;for(let t=0;t<this.topics.length;t++)e.add(this.topics[t]);return{"http://localhost:8080":e}}let e={},t=await this.resolver.query({service:"ls_ship",query:{topics:this.topics}},id);if("output-list"!==t.type)throw Error("SHIP answer is not an output list.");for(let r of t.outputs)try{let t=re.fromBEEF(r.beef).outputs[r.outputIndex].lockingScript,i=ia.decode(t);if(!this.topics.includes(i.topicOrService)||"SHIP"!==i.protocol)continue;void 0===e[i.domain]&&(e[i.domain]=new Set),e[i.domain].add(i.topicOrService)}catch(e){continue}return e}}e.s(["HTTPSOverlayBroadcastFacilitator",()=>il,"default",()=>ip],88489),e.s([],94735),e.s([],51130);let ib=e=>(e.toLowerCase().startsWith("uhrp:")&&(e=e.slice(5)),e.startsWith("//")&&(e=e.slice(2)),e),iy=e=>{if(32!==e.length)throw Error("Hash length must be 32 bytes (sha256)");return eD(e,eI("ce00","hex"))},ig=e=>iy(eg(e)),im=e=>{let{data:t,prefix:r}=eL(e=ib(e),void 0,2);if(32!==t.length)throw Error("Invalid length!");if("ce00"!==eE(r))throw Error("Bad prefix");return t},iw=e=>{try{return im(e),!0}catch(e){return!1}};e.s(["getHashFromURL",0,im,"getURLForFile",0,ig,"getURLForHash",0,iy,"isValidURL",0,iw,"normalizeURL",0,ib],67827);class iv{authFetch;baseURL;constructor(e){this.baseURL=e.storageURL,this.authFetch=new ii(e.wallet)}async getUploadInfo(e,t){let r=`${this.baseURL}/upload`,i={fileSize:e,retentionPeriod:t},n=await this.authFetch.fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!n.ok)throw Error(`Upload info request failed: HTTP ${n.status}`);let a=await n.json();if("error"===a.status)throw Error("Upload route returned an error.");return{uploadURL:a.uploadURL,requiredHeaders:a.requiredHeaders,amount:a.amount}}async uploadFile(e,t,r){let i=Uint8Array.from(t.data),n=await fetch(e,{method:"PUT",body:i,headers:{"Content-Type":t.type,...r}});if(!n.ok)throw Error(`File upload failed: HTTP ${n.status}`);return{published:!0,uhrpURL:await ig(t.data)}}async publishFile(e){let{file:t,retentionPeriod:r}=e,i=t.data.length,{uploadURL:n,requiredHeaders:a}=await this.getUploadInfo(i,r);return await this.uploadFile(n,t,a)}async findFile(e){let t=new URL(`${this.baseURL}/find`);t.searchParams.set("uhrpUrl",e);let r=await this.authFetch.fetch(t.toString(),{method:"GET"});if(!r.ok)throw Error(`findFile request failed: HTTP ${r.status}`);let i=await r.json();if("error"===i.status){let e=i.code??"unknown-code",t=i.description??"no-description";throw Error(`findFile returned an error: ${e} - ${t}`)}return i.data}async listUploads(){let e=`${this.baseURL}/list`,t=await this.authFetch.fetch(e,{method:"GET"});if(!t.ok)throw Error(`listUploads request failed: HTTP ${t.status}`);let r=await t.json();if("error"===r.status){let e=r.code??"unknown-code",t=r.description??"no-description";throw Error(`listUploads returned an error: ${e} - ${t}`)}return r.uploads}async renewFile(e,t){let r=`${this.baseURL}/renew`,i={uhrpUrl:e,additionalMinutes:t},n=await this.authFetch.fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!n.ok)throw Error(`renewFile request failed: HTTP ${n.status}`);let a=await n.json();if("error"===a.status){let e=a.code??"unknown-code",t=a.description??"no-description";throw Error(`renewFile returned an error: ${e} - ${t}`)}return{status:a.status,prevExpiryTime:a.prevExpiryTime,newExpiryTime:a.newExpiryTime,amount:a.amount}}}e.s(["StorageUploader",()=>iv],62047),e.s(["StorageDownloader",()=>ix],8882);var i_=e.i(67827),i_=i_,tK=tK,tH=tH;class ix{networkPreset="mainnet";constructor(e){this.networkPreset=e?.networkPreset}async resolve(e){let t=new ih({networkPreset:this.networkPreset}),r=await t.query({service:"ls_uhrp",query:{uhrpUrl:e}});if("output-list"!==r.type)throw Error("Lookup answer must be an output list");let i=[],n=Math.floor(Date.now()/1e3);for(let e=0;e<r.outputs.length;e++){let t=re.fromBEEF(r.outputs[e].beef),{fields:a}=t$.decode(t.outputs[r.outputs[e].outputIndex].lockingScript);new tH.Reader(a[3]).readVarIntNum()<n||i.push(tH.toUTF8(a[2]))}return i}async download(e){if(!i_.isValidURL(e))throw Error("Invalid parameter UHRP url");let t=i_.getHashFromURL(e),r=await this.resolve(e);if(!Array.isArray(r)||0===r.length)throw Error("No one currently hosts this file!");for(let e=0;e<r.length;e++)try{let i=await fetch(r[e],{method:"GET"});if(!i.ok||i.status>=400)continue;let n=await i.arrayBuffer(),a=[...new Uint8Array(n)],o=tK.sha256(a);for(let e=0;e<o.length;++e)if(o[e]!==t[e])throw Error("Value of content does not match hash of the url given");return{data:a,mimeType:i.headers.get("Content-Type")}}catch(e){continue}throw Error(`Unable to download content from ${e}`)}}let iS={name:"Unknown Identity",avatarURL:"XUUB8bbn9fEthk15Ge3zTQXypUShfC94vFjp65v7u5CQ8qkpxzst",identityKey:"",abbreviatedKey:"",badgeIconURL:"XUUV39HVPkpmMzYNTx7rpKzJvXfeiVyQWg2vfSpjBAuhunTCA9uG",badgeLabel:"Not verified by anyone you trust.",badgeClickURL:"https://projectbabbage.com/docs/unknown-identity"},ik={protocolID:[1,"identity"],keyID:"1",tokenAmount:1,outputIndex:0},iE={identiCert:"z40BOInXkI8m7f/wBrv4MJ09bZfzZbTj2fJqCtONqCY=",discordCert:"2TgqRC35B1zehGmB21xveZNc7i5iqHc0uxMb+1NMPW4=",phoneCert:"mffUklUzxbHr65xLohn0hRL0Tq2GjW1GYF/OPfzqJ6A=",xCert:"vdDWvftf1H+5+ZprUw123kjHlywH+v20aPQTuXgMpNc=",registrant:"YoPsbfR6YQczjzPdHCoGC7nJsOdPQR50+SYqcWpJ0y0=",emailCert:"exOl3KM0dIJ04EW5pZgbZmPag6MdJXd3/a1enmUU/BA=",anyone:"mfkOMfLDQmrr3SBxBQ5WeE+6Hy3VJRFq6w4A5Ljtlis=",self:"Hkge6X5JRxt1cWXtHLCrSTg6dCVTxjQJJ48iOYd7n3g=",coolCert:"AGfk/WrT1eBDXpz3mcw386Zww2HmqcIn3uY6x4Af1eo="};e.s(["DEFAULT_IDENTITY_CLIENT_OPTIONS",0,ik,"KNOWN_IDENTITY_TYPES",0,iE,"defaultIdentity",0,iS],31191),e.i(87188),e.s(["P2PKH",()=>tL,"PushDrop",()=>t$,"RPuzzle",()=>tF],75496);var tH=tH;class iI{options;originator;authClient;wallet;constructor(e,t=ik,r){this.options=t,this.originator=r,this.wallet=e??new rZ,this.authClient=new ii(this.wallet)}async publiclyRevealAttributes(e,t){if(0===Object.keys(e.fields).length)throw Error("Public reveal failed: Certificate has no fields to reveal!");if(0===t.length)throw Error("Public reveal failed: You must reveal at least one field!");try{let t=new rH(e.type,e.serialNumber,e.subject,e.certifier,e.revocationOutpoint,e.fields,e.signature);await t.verify()}catch(e){throw Error("Public reveal failed: Certificate verification failed!")}let{keyringForVerifier:r}=await this.wallet.proveCertificate({certificate:e,fieldsToReveal:t,verifier:new e1(1).toPublicKey().toString()}),i=await new t$(this.wallet).lock([tH.toArray(JSON.stringify({...e,keyring:r}))],this.options.protocolID,this.options.keyID,"anyone",!0,!0),{tx:n}=await this.wallet.createAction({description:"Create a new Identity Token",outputs:[{satoshis:this.options.tokenAmount,lockingScript:i.toHex(),outputDescription:"Identity Token"}],options:{randomizeOutputs:!1}});if(void 0!==n){let e=new ip(["tm_identity"],{networkPreset:(await this.wallet.getNetwork({})).network});return await e.broadcast(re.fromAtomicBEEF(n))}throw Error("Public reveal failed: failed to create action!")}async resolveByIdentityKey(e){let{certificates:t}=await this.wallet.discoverByIdentityKey(e,this.originator);return t.map(e=>iI.parseIdentity(e))}async resolveByAttributes(e){let{certificates:t}=await this.wallet.discoverByAttributes(e,this.originator);return t.map(e=>iI.parseIdentity(e))}static parseIdentity(e){let t,r,i,n,a,{type:o,decryptedFields:s,certifierInfo:f}=e;switch(o){case iE.xCert:t=s.userName,r=s.profilePhoto,i=`X account certified by ${f.name}`,n=f.iconUrl,a="https://socialcert.net";break;case iE.discordCert:t=s.userName,r=s.profilePhoto,i=`Discord account certified by ${f.name}`,n=f.iconUrl,a="https://socialcert.net";break;case iE.emailCert:t=s.email,r="XUTZxep7BBghAJbSBwTjNfmcsDdRFs5EaGEgkESGSgjJVYgMEizu",i=`Email certified by ${f.name}`,n=f.iconUrl,a="https://socialcert.net";break;case iE.phoneCert:t=s.phoneNumber,r="XUTLxtX3ELNUwRhLwL7kWNGbdnFM8WG2eSLv84J7654oH8HaJWrU",i=`Phone certified by ${f.name}`,n=f.iconUrl,a="https://socialcert.net";break;case iE.identiCert:t=`${s.firstName} ${s.lastName}`,r=s.profilePhoto,i=`Government ID certified by ${f.name}`,n=f.iconUrl,a="https://identicert.me";break;case iE.registrant:t=s.name,r=s.icon,i=`Entity certified by ${f.name}`,n=f.iconUrl,a="https://projectbabbage.com/docs/registrant";break;case iE.coolCert:t="true"===s.cool?"Cool Person!":"Not cool!";break;case iE.anyone:t="Anyone",r="XUT4bpQ6cpBaXi1oMzZsXfpkWGbtp2JTUYAoN7PzhStFJ6wLfoeR",i="Represents the ability for anyone to access this information.",n="XUUV39HVPkpmMzYNTx7rpKzJvXfeiVyQWg2vfSpjBAuhunTCA9uG",a="https://projectbabbage.com/docs/anyone-identity";break;case iE.self:t="You",r="XUT9jHGk2qace148jeCX5rDsMftkSGYKmigLwU2PLLBc7Hm63VYR",i="Represents your ability to access this information.",n="XUUV39HVPkpmMzYNTx7rpKzJvXfeiVyQWg2vfSpjBAuhunTCA9uG",a="https://projectbabbage.com/docs/self-identity";break;default:t=iS.name,r=s.profilePhoto,i=iS.badgeLabel,n=iS.badgeIconURL,a=iS.badgeClickURL}return{name:t,avatarURL:r,abbreviatedKey:e.subject.length>0?`${e.subject.substring(0,10)}...`:"",identityKey:e.subject,badgeIconURL:n,badgeLabel:i,badgeClickURL:a}}}e.s(["IdentityClient",()=>iI],85611),e.s([],44039);var tH=tH;let iA=1;class iM{wallet;network;constructor(e=new rZ){this.wallet=e}async registerDefinition(e){let t=(await this.wallet.getPublicKey({identityKey:!0})).publicKey,r=new t$(this.wallet),i=this.buildPushDropFields(e,t),n=this.mapDefinitionTypeToWalletProtocol(e.definitionType),a=await r.lock(i,n,"1","anyone",!0),{tx:o}=await this.wallet.createAction({description:`Register a new ${e.definitionType} item`,outputs:[{satoshis:iA,lockingScript:a.toHex(),outputDescription:`New ${e.definitionType} registration token`,basket:this.mapDefinitionTypeToBasketName(e.definitionType)}],options:{randomizeOutputs:!1}});if(void 0===o)throw Error(`Failed to create ${e.definitionType} registration transaction!`);let s=new ip([this.mapDefinitionTypeToTopic(e.definitionType)],{networkPreset:this.network??=(await this.wallet.getNetwork({})).network});return await s.broadcast(re.fromAtomicBEEF(o))}async resolve(e,t){let r=new ih,i=this.mapDefinitionTypeToServiceName(e),n=await r.query({service:i,query:t});if("output-list"!==n.type)return[];let a=[];for(let t of n.outputs)try{let r=re.fromBEEF(t.beef).outputs[t.outputIndex].lockingScript,i=await this.parseLockingScript(e,r);a.push(i)}catch{}return a}async listOwnRegistryEntries(e){let t=this.mapDefinitionTypeToBasketName(e),{outputs:r,BEEF:i}=await this.wallet.listOutputs({basket:t,include:"entire transactions"}),n=[];for(let t of r)if(t.spendable)try{let[r,a]=t.outpoint.split("."),o=re.fromBEEF(i).outputs[a].lockingScript,s=await this.parseLockingScript(e,o);n.push({...s,txid:r,outputIndex:Number(a),satoshis:t.satoshis,lockingScript:o.toHex(),beef:i})}catch{}return n}async revokeOwnRegistryEntry(e){if(void 0===e.txid||void 0===e.outputIndex||void 0===e.lockingScript)throw Error("Invalid registry record. Missing txid, outputIndex, or lockingScript.");let t=(await this.wallet.getPublicKey({identityKey:!0})).publicKey;if(e.registryOperator!==t)throw Error("This registry token does not belong to the current wallet.");let r="basket"===e.definitionType?e.basketID:"protocol"===e.definitionType?e.name:"certificate"===e.definitionType?void 0!==e.name?e.name:e.type:"unknown",i=`${e.txid}.${e.outputIndex}`,{signableTransaction:n}=await this.wallet.createAction({description:`Revoke ${e.definitionType} item: ${r}`,inputBEEF:e.beef,inputs:[{outpoint:i,unlockingScriptLength:73,inputDescription:`Revoking ${e.definitionType} token`}]});if(void 0===n)throw Error("Failed to create signable transaction.");let a=re.fromBEEF(n.tx),o=new t$(this.wallet),s=await o.unlock(this.mapDefinitionTypeToWalletProtocol(e.definitionType),"1","anyone","all",!1,e.satoshis,t_.fromHex(e.lockingScript)),f=await s.sign(a,e.outputIndex),{tx:c}=await this.wallet.signAction({reference:n.reference,spends:{[e.outputIndex]:{unlockingScript:f.toHex()}},options:{acceptDelayedBroadcast:!1}});if(void 0===c)throw Error("Failed to finalize the transaction signature.");let u=new ip([this.mapDefinitionTypeToTopic(e.definitionType)],{networkPreset:this.network??=(await this.wallet.getNetwork({})).network});return await u.broadcast(re.fromAtomicBEEF(c))}buildPushDropFields(e,t){let r;switch(e.definitionType){case"basket":r=[e.basketID,e.name,e.iconURL,e.description,e.documentationURL];break;case"protocol":r=[JSON.stringify(e.protocolID),e.name,e.iconURL,e.description,e.documentationURL];break;case"certificate":r=[e.type,e.name,e.iconURL,e.description,e.documentationURL,JSON.stringify(e.fields)];break;default:throw Error("Unsupported definition type")}return r.push(t),r.map(e=>tH.toArray(e))}async parseLockingScript(e,t){let r,i,n=t$.decode(t);if(0===n.fields.length)throw Error("Not a valid registry pushdrop script.");switch(e){case"basket":{if(7!==n.fields.length)throw Error("Unexpected field count for basket type.");let[e,t,a,o,s,f]=n.fields;r=tH.toUTF8(f),i={definitionType:"basket",basketID:tH.toUTF8(e),name:tH.toUTF8(t),iconURL:tH.toUTF8(a),description:tH.toUTF8(o),documentationURL:tH.toUTF8(s)};break}case"protocol":{if(7!==n.fields.length)throw Error("Unexpected field count for protocol type.");let[e,t,a,o,s,f]=n.fields;r=tH.toUTF8(f),i={definitionType:"protocol",protocolID:iP(tH.toUTF8(e)),name:tH.toUTF8(t),iconURL:tH.toUTF8(a),description:tH.toUTF8(o),documentationURL:tH.toUTF8(s)};break}case"certificate":{if(8!==n.fields.length)throw Error("Unexpected field count for certificate type.");let[e,t,a,o,s,f,c]=n.fields;r=tH.toUTF8(c);let u={};try{u=JSON.parse(tH.toUTF8(f))}catch{}i={definitionType:"certificate",type:tH.toUTF8(e),name:tH.toUTF8(t),iconURL:tH.toUTF8(a),description:tH.toUTF8(o),documentationURL:tH.toUTF8(s),fields:u};break}default:throw Error(`Unsupported definition type: ${e}`)}return{...i,registryOperator:r}}mapDefinitionTypeToWalletProtocol(e){switch(e){case"basket":return[1,"basketmap"];case"protocol":return[1,"protomap"];case"certificate":return[1,"certmap"];default:throw Error(`Unknown definition type: ${e}`)}}mapDefinitionTypeToBasketName(e){switch(e){case"basket":return"basketmap";case"protocol":return"protomap";case"certificate":return"certmap";default:throw Error(`Unknown definition type: ${e}`)}}mapDefinitionTypeToTopic(e){switch(e){case"basket":return"tm_basketmap";case"protocol":return"tm_protomap";case"certificate":return"tm_certmap";default:throw Error(`Unknown definition type: ${e}`)}}mapDefinitionTypeToServiceName(e){switch(e){case"basket":return"ls_basketmap";case"protocol":return"ls_protomap";case"certificate":return"ls_certmap";default:throw Error(`Unknown definition type: ${e}`)}}}function iP(e){let t=JSON.parse(e);if(!Array.isArray(t)||2!==t.length)throw Error("Invalid wallet protocol format.");let[r,i]=t;if(![0,1,2].includes(r))throw Error("Invalid security level.");if("string"!=typeof i)throw Error("Invalid protocolID");return[r,i]}e.s(["RegistryClient",()=>iM,"deserializeWalletProtocol",()=>iP],11116),e.s([],79105),e.s([],29381);class iO{wallet;context;encrypt;originator;constructor(e=new rZ,t="kvstore default",r=!0,i){if("string"!=typeof t||t.length<1)throw Error("A context in which to operate is required.");this.wallet=e,this.context=t,this.encrypt=r,this.originator=i}getProtocol(e){return{protocolID:[2,this.context],keyID:e}}async getOutputs(e,t){return await this.wallet.listOutputs({basket:this.context,tags:[e],tagQueryMode:"all",include:"entire transactions",limit:t})}async get(e,t){return(await this.lookupValue(e,t,5)).value}getLockingScript(e,t){let[r,i]=e.outpoint.split("."),n=t.findTxid(r)?.tx;if(null==n)throw Error(`beef must contain txid ${r}`);return n.outputs[Number(i)].lockingScript}async lookupValue(e,t,r){let i,n=await this.getOutputs(e,r),a={value:t,outpoint:void 0,lor:n},{outputs:o}=n;if(0===o.length)return a;let s=o.slice(-1)[0];a.outpoint=s.outpoint;try{if(void 0===n.BEEF)throw Error("entire transactions listOutputs option must return valid BEEF");let e=this.getLockingScript(s,t7.fromBinary(n.BEEF)),t=t$.decode(e);if(t.fields.length<1||t.fields.length>2)throw Error("Invalid token.");i=t.fields[0]}catch(e){throw Error(`Invalid value found. You need to call set to collapse the corrupted state (or relinquish the corrupted ${o[0].outpoint} output from the ${this.context} basket) before you can get this value again.`)}if(this.encrypt){let{plaintext:t}=await this.wallet.decrypt({...this.getProtocol(e),ciphertext:i});a.value=eO(t)}else a.value=eO(i);return a}getInputs(e){let t=[];for(let r=0;r<e.length;r++)t.push({outpoint:e[r].outpoint,unlockingScriptLength:74,inputDescription:"Previous key-value token"});return t}async getSpends(e,t,r,i){let n=this.getProtocol(e),a=re.fromAtomicBEEF(i),o={};for(let e=0;e<t.length;e++){let t=r.unlock(n.protocolID,n.keyID,"self"),i=await t.sign(a,e);o[e]={unlockingScript:i.toHex()}}return o}async set(e,t){let r,i=await this.lookupValue(e,void 0,10);if(i.value===t){if(void 0===i.outpoint)throw Error("outpoint must be valid when value is valid and unchanged");return i.outpoint}let n=this.getProtocol(e),a=eI(t,"utf8");if(this.encrypt){let{ciphertext:e}=await this.wallet.encrypt({...n,plaintext:a});a=e}let o=new t$(this.wallet,this.originator),s=await o.lock([a],n.protocolID,n.keyID,"self"),{outputs:f,BEEF:c}=i.lor;try{let t=this.getInputs(f),{txid:i,signableTransaction:n}=await this.wallet.createAction({description:`Update ${e} in ${this.context}`,inputBEEF:c,inputs:t,outputs:[{basket:this.context,tags:[e],lockingScript:s.toHex(),satoshis:1,outputDescription:"Key-value token"}],options:{acceptDelayedBroadcast:!1,randomizeOutputs:!1}});if(f.length>0&&"object"!=typeof n)throw Error("Wallet did not return a signable transaction when expected.");if(null==n)r=`${i}.0`;else{let t=await this.getSpends(e,f,o,n.tx),{txid:i}=await this.wallet.signAction({reference:n.reference,spends:t});r=`${i}.0`}}catch(t){throw Error(`There are ${f.length} outputs with tag ${e} that cannot be unlocked.`)}return r}async remove(e){let t=[];for(;;){let{outputs:r,BEEF:i,totalOutputs:n}=await this.getOutputs(e);if(r.length>0){let a=new t$(this.wallet,this.originator);try{let n=this.getInputs(r),{signableTransaction:o}=await this.wallet.createAction({description:`Remove ${e} in ${this.context}`,inputBEEF:i,inputs:n,options:{acceptDelayedBroadcast:!1}});if("object"!=typeof o)throw Error("Wallet did not return a signable transaction when expected.");let s=await this.getSpends(e,r,a,o.tx),{txid:f}=await this.wallet.signAction({reference:o.reference,spends:s});if(void 0===f)throw Error("signAction must return a valid txid");t.push(f)}catch(t){throw Error(`There are ${n} outputs with tag ${e} that cannot be unlocked.`)}}if(r.length===n)break}return t}}e.s(["default",()=>iO],52879),e.s([],43006),e.s([],51185),e.i(2430);var iN=rD,iR=tH,iT=tK;e.s(["BigNumber",()=>r,"Curve",()=>eV,"DRBG",()=>eK,"ECDSA",0,iN,"Hash",0,iT,"KeyShares",()=>e0,"Point",()=>eq,"PointInFiniteField",()=>eZ,"Polynomial",()=>eQ,"PrivateKey",()=>e1,"PublicKey",()=>eG,"Random",0,eJ,"Schnorr",()=>tg,"Signature",()=>eH,"SymmetricKey",()=>tb,"TransactionSignature",()=>ty,"Utils",0,iR],34421)}]);