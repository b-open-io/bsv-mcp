{"version":3,"sources":["turbopack:///[project]/node_modules/bytes/index.js","turbopack:///[project]/node_modules/depd/index.js","turbopack:///[project]/node_modules/setprototypeof/index.js","turbopack:///[project]/node_modules/statuses/codes.json","turbopack:///[project]/node_modules/statuses/index.js","turbopack:///[project]/node_modules/inherits/inherits_browser.js","turbopack:///[project]/node_modules/inherits/inherits.js","turbopack:///[project]/node_modules/toidentifier/index.js","turbopack:///[project]/node_modules/http-errors/index.js","turbopack:///[project]/node_modules/safer-buffer/safer.js","turbopack:///[project]/node_modules/iconv-lite/lib/bom-handling.js","turbopack:///[project]/node_modules/iconv-lite/encodings/internal.js","turbopack:///[project]/node_modules/iconv-lite/encodings/utf32.js","turbopack:///[project]/node_modules/iconv-lite/encodings/utf16.js","turbopack:///[project]/node_modules/iconv-lite/encodings/utf7.js","turbopack:///[project]/node_modules/iconv-lite/encodings/sbcs-codec.js","turbopack:///[project]/node_modules/iconv-lite/encodings/sbcs-data.js","turbopack:///[project]/node_modules/iconv-lite/encodings/sbcs-data-generated.js","turbopack:///[project]/node_modules/iconv-lite/encodings/dbcs-codec.js","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/shiftjis.json","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/eucjp.json","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/cp936.json","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/gbk-added.json","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/gb18030-ranges.json","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/cp949.json","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/cp950.json","turbopack:///[project]/node_modules/iconv-lite/encodings/tables/big5-added.json","turbopack:///[project]/node_modules/iconv-lite/encodings/dbcs-data.js","turbopack:///[project]/node_modules/iconv-lite/encodings/index.js","turbopack:///[project]/node_modules/iconv-lite/lib/streams.js","turbopack:///[project]/node_modules/iconv-lite/lib/index.js","turbopack:///[project]/node_modules/unpipe/index.js","turbopack:///[project]/node_modules/raw-body/index.js","turbopack:///[project]/node_modules/content-type/index.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/APPEND.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BITCOUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BITFIELD_RO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BITFIELD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/generic-transformers.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BITOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BITPOS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BLMOVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LMPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BLMPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BLPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BRPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BRPOPLPUSH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZMPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BZMPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BZPOPMAX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BZPOPMIN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/COPY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/DECR.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/DECRBY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/DEL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/DUMP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EVAL_RO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EVAL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EVALSHA_RO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EVALSHA.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EXISTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EXPIRE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EXPIREAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/EXPIRETIME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FCALL_RO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FCALL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEOADD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEODIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEOHASH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEOPOS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUS_RO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUS_RO_WITH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUS_WITH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUSBYMEMBER_RO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUSBYMEMBER_RO_WITH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUSBYMEMBER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUSBYMEMBER_WITH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUSBYMEMBERSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEORADIUSSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEOSEARCH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEOSEARCH_WITH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GEOSEARCHSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GETBIT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GETDEL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GETEX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GETRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/GETSET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HDEL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HEXISTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HEXPIRE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HEXPIREAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HEXPIRETIME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HGET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HGETALL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HINCRBY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HINCRBYFLOAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HKEYS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HLEN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HMGET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HPERSIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HPEXPIRE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HPEXPIREAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HPEXPIRETIME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HPTTL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HRANDFIELD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HRANDFIELD_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HRANDFIELD_COUNT_WITHVALUES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HSCAN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HSCAN_NOVALUES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HSET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HSETNX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HSTRLEN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HTTL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HVALS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/INCR.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/INCRBY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/INCRBYFLOAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LCS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LCS_IDX_WITHMATCHLEN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LCS_IDX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LCS_LEN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LINDEX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LINSERT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LLEN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LMOVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LPOP_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LPOS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LPOS_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LPUSH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LPUSHX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LREM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LSET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LTRIM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MGET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MIGRATE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MSET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MSETNX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/OBJECT_ENCODING.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/OBJECT_FREQ.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/OBJECT_IDLETIME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/OBJECT_REFCOUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PERSIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PEXPIRE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PEXPIREAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PEXPIRETIME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PFADD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PFCOUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PFMERGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PSETEX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PTTL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PUBLISH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RENAME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RENAMENX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RESTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RPOP_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RPOPLPUSH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RPUSH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RPUSHX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SADD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SCARD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SDIFF.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SDIFFSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SETBIT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SETEX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SETNX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SETRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SINTER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SINTERCARD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SINTERSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SISMEMBER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SMEMBERS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SMISMEMBER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SMOVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SORT_RO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SORT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SORT_STORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SPOP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SPUBLISH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SRANDMEMBER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SRANDMEMBER_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SREM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SSCAN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/STRLEN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SUNION.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SUNIONSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/TOUCH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/TTL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/TYPE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/UNLINK.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/WATCH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XACK.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XADD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XAUTOCLAIM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XAUTOCLAIM_JUSTID.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XCLAIM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XCLAIM_JUSTID.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XDEL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XGROUP_CREATE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XGROUP_CREATECONSUMER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XGROUP_DELCONSUMER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XGROUP_DESTROY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XGROUP_SETID.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XINFO_CONSUMERS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XINFO_GROUPS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XINFO_STREAM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XLEN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XPENDING_RANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XPENDING.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XREAD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XREADGROUP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XREVRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XSETID.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/XTRIM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZADD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZCARD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZCOUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZDIFF.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZDIFF_WITHSCORES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZDIFFSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZINCRBY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZINTER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZINTER_WITHSCORES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZINTERCARD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZINTERSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZLEXCOUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZMSCORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZPOPMAX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZPOPMAX_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZPOPMIN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZPOPMIN_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANDMEMBER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANDMEMBER_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANDMEMBER_COUNT_WITHSCORES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANGE_WITHSCORES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANGEBYLEX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANGEBYSCORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANGEBYSCORE_WITHSCORES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANGESTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZRANK.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZREM.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZREMRANGEBYLEX.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZREMRANGEBYRANK.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZREMRANGEBYSCORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZREVRANK.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZSCAN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZSCORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZUNION.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZUNION_WITHSCORES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ZUNIONSTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/cluster/commands.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_CAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_DELUSER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_DRYRUN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_GENPASS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_GETUSER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_LIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_LOAD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_LOG_RESET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_LOG.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_SAVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_SETUSER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_USERS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ACL_WHOAMI.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ASKING.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/AUTH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BGREWRITEAOF.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/BGSAVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_CACHING.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_GETNAME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_GETREDIR.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_ID.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_KILL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_INFO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_LIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_NO-EVICT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_NO-TOUCH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_PAUSE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_SETNAME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_TRACKING.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_TRACKINGINFO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLIENT_UNPAUSE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_ADDSLOTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_ADDSLOTSRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_BUMPEPOCH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_COUNT-FAILURE-REPORTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_COUNTKEYSINSLOT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_DELSLOTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_DELSLOTSRANGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_FAILOVER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_FLUSHSLOTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_FORGET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_GETKEYSINSLOT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_INFO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_KEYSLOT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_LINKS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_MEET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_MYID.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_MYSHARDID.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_NODES.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_REPLICAS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_REPLICATE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_RESET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_SAVECONFIG.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_SET-CONFIG-EPOCH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_SETSLOT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CLUSTER_SLOTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/COMMAND_COUNT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/COMMAND_GETKEYS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/COMMAND_GETKEYSANDFLAGS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/COMMAND_INFO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/COMMAND_LIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/COMMAND.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CONFIG_GET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CONFIG_RESETSTAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CONFIG_REWRITE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/CONFIG_SET.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/DBSIZE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/DISCARD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ECHO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FAILOVER.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FLUSHALL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FLUSHDB.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_DELETE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_DUMP.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_FLUSH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_KILL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_LIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_LIST_WITHCODE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_LOAD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_RESTORE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/FUNCTION_STATS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/HELLO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/INFO.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/KEYS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LASTSAVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LATENCY_DOCTOR.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LATENCY_GRAPH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LATENCY_HISTORY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LATENCY_LATEST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/LOLWUT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MEMORY_DOCTOR.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MEMORY_MALLOC-STATS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MEMORY_PURGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MEMORY_STATS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MEMORY_USAGE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MODULE_LIST.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MODULE_LOAD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MODULE_UNLOAD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/MOVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PING.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PUBSUB_CHANNELS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PUBSUB_NUMPAT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PUBSUB_NUMSUB.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PUBSUB_SHARDCHANNELS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/PUBSUB_SHARDNUMSUB.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RANDOMKEY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/READONLY.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/READWRITE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/REPLICAOF.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/RESTORE-ASKING.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/ROLE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SAVE.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SCAN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SCRIPT_DEBUG.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SCRIPT_EXISTS.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SCRIPT_FLUSH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SCRIPT_KILL.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SCRIPT_LOAD.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SHUTDOWN.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/SWAPDB.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/TIME.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/UNWATCH.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commands/WAIT.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/commands.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/errors.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/utils.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/socket.js","turbopack:///[project]/node_modules/yallist/iterator.js","turbopack:///[project]/node_modules/yallist/yallist.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/RESP2/composers/buffer.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/RESP2/composers/string.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/RESP2/decoder.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/RESP2/encoder.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/pub-sub.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/commands-queue.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/command-options.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/commander.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/multi-command.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/multi-command.js","turbopack:///[project]/node_modules/generic-pool/lib/factoryValidator.js","turbopack:///[project]/node_modules/generic-pool/lib/PoolDefaults.js","turbopack:///[project]/node_modules/generic-pool/lib/PoolOptions.js","turbopack:///[project]/node_modules/generic-pool/lib/Deferred.js","turbopack:///[project]/node_modules/generic-pool/lib/errors.js","turbopack:///[project]/node_modules/generic-pool/lib/ResourceRequest.js","turbopack:///[project]/node_modules/generic-pool/lib/ResourceLoan.js","turbopack:///[project]/node_modules/generic-pool/lib/PooledResourceStateEnum.js","turbopack:///[project]/node_modules/generic-pool/lib/PooledResource.js","turbopack:///[project]/node_modules/generic-pool/lib/DefaultEvictor.js","turbopack:///[project]/node_modules/generic-pool/lib/DoublyLinkedList.js","turbopack:///[project]/node_modules/generic-pool/lib/DoublyLinkedListIterator.js","turbopack:///[project]/node_modules/generic-pool/lib/DequeIterator.js","turbopack:///[project]/node_modules/generic-pool/lib/Deque.js","turbopack:///[project]/node_modules/generic-pool/lib/Queue.js","turbopack:///[project]/node_modules/generic-pool/lib/PriorityQueue.js","turbopack:///[project]/node_modules/generic-pool/lib/utils.js","turbopack:///[project]/node_modules/generic-pool/lib/Pool.js","turbopack:///[project]/node_modules/generic-pool/index.js","turbopack:///[project]/node_modules/@redis/client/dist/package.json","turbopack:///[project]/node_modules/@redis/client/dist/lib/client/index.js","turbopack:///[project]/node_modules/cluster-key-slot/lib/index.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/cluster/cluster-slots.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/cluster/multi-command.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/cluster/index.js","turbopack:///[project]/node_modules/@redis/client/dist/lib/lua-script.js","turbopack:///[project]/node_modules/@redis/client/dist/index.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/ADD.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/CARD.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/EXISTS.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/INFO.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/INSERT.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/LOADCHUNK.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/MADD.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/MEXISTS.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/RESERVE.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/SCANDUMP.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/bloom/index.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/count-min-sketch/INCRBY.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/count-min-sketch/INFO.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/count-min-sketch/INITBYDIM.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/count-min-sketch/INITBYPROB.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/count-min-sketch/MERGE.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/count-min-sketch/QUERY.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/count-min-sketch/index.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/ADD.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/ADDNX.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/COUNT.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/DEL.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/EXISTS.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/INFO.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/INSERT.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/INSERTNX.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/LOADCHUNK.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/RESERVE.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/SCANDUMP.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/cuckoo/index.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/ADD.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/BYRANK.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/BYREVRANK.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/CDF.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/CREATE.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/INFO.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/MAX.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/MERGE.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/MIN.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/QUANTILE.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/RANK.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/RESET.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/REVRANK.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/TRIMMED_MEAN.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/t-digest/index.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/ADD.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/COUNT.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/INCRBY.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/INFO.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/LIST_WITHCOUNT.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/LIST.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/QUERY.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/RESERVE.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/top-k/index.js","turbopack:///[project]/node_modules/@redis/bloom/dist/commands/index.js","turbopack:///[project]/node_modules/@redis/bloom/dist/index.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/CONFIG_GET.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/CONFIG_SET.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/DELETE.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/EXPLAIN.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/LIST.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/PROFILE.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/QUERY.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/RO_QUERY.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/SLOWLOG.js","turbopack:///[project]/node_modules/@redis/graph/dist/commands/index.js","turbopack:///[project]/node_modules/@redis/graph/dist/graph.js","turbopack:///[project]/node_modules/@redis/graph/dist/index.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/ARRAPPEND.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/ARRINDEX.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/ARRINSERT.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/ARRLEN.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/ARRPOP.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/ARRTRIM.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/DEBUG_MEMORY.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/DEL.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/FORGET.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/GET.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/MERGE.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/MGET.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/MSET.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/NUMINCRBY.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/NUMMULTBY.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/OBJKEYS.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/OBJLEN.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/RESP.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/SET.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/STRAPPEND.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/STRLEN.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/TYPE.js","turbopack:///[project]/node_modules/@redis/json/dist/commands/index.js","turbopack:///[project]/node_modules/@redis/json/dist/index.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/_LIST.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/ALTER.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/AGGREGATE.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/AGGREGATE_WITHCURSOR.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/ALIASADD.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/ALIASDEL.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/ALIASUPDATE.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/CONFIG_GET.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/CONFIG_SET.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/CREATE.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/CURSOR_DEL.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/CURSOR_READ.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/DICTADD.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/DICTDEL.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/DICTDUMP.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/DROPINDEX.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/EXPLAIN.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/EXPLAINCLI.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/INFO.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SEARCH.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/PROFILE_SEARCH.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/PROFILE_AGGREGATE.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SEARCH_NOCONTENT.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SPELLCHECK.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SUGADD.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SUGDEL.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SUGGET.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SUGGET_WITHPAYLOADS.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SUGGET_WITHSCORES_WITHPAYLOADS.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SUGGET_WITHSCORES.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SUGLEN.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SYNDUMP.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/SYNUPDATE.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/TAGVALS.js","turbopack:///[project]/node_modules/@redis/search/dist/commands/index.js","turbopack:///[project]/node_modules/@redis/search/dist/index.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/ADD.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/ALTER.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/CREATE.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/CREATERULE.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/DECRBY.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/DEL.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/DELETERULE.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/GET.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/INCRBY.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/INFO.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/INFO_DEBUG.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/MADD.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/MGET.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/MGET_WITHLABELS.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/QUERYINDEX.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/RANGE.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/REVRANGE.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/MRANGE.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/MRANGE_WITHLABELS.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/MREVRANGE.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/MREVRANGE_WITHLABELS.js","turbopack:///[project]/node_modules/@redis/time-series/dist/commands/index.js","turbopack:///[project]/node_modules/@redis/time-series/dist/index.js","turbopack:///[project]/node_modules/redis/dist/index.js","turbopack:///[project]/node_modules/mcp-handler/dist/chunk-FF57VHLH.mjs","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/index.js","turbopack:///[project]/node_modules/next/dist/esm/build/templates/app-route.js","turbopack:///[project]/node_modules/zod/dist/esm/v3/index.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/any.js","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/helpers/util.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/boolean.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/enum.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/literal.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/nativeEnum.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/never.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/null.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/undefined.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/unknown.js","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/helpers/errorUtil.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/Options.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/errorMessages.js","turbopack:///[project]/node_modules/zod/dist/esm/v3/helpers/util.js","turbopack:///[project]/node_modules/zod/dist/esm/v3/helpers/errorUtil.js","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/shared/uriTemplate.ts","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/string.js","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/errors.js","turbopack:///[project]/node_modules/zod/dist/esm/v3/errors.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/intersection.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/tuple.js","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/ZodError.js","turbopack:///[project]/node_modules/zod/dist/esm/v3/ZodError.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/promise.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/branded.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/catch.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/Refs.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/date.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/default.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/effects.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/bigint.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/readonly.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/union.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/number.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/optional.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/pipeline.js","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/AESGCM.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/MerklePath.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/certificates/Certificate.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/PublicKey.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Polynomial.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Schnorr.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/WalletWireProcessor.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/WalletWireTransceiver.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/utils.ts","turbopack:///[project]/node_modules/next/dist/src/build/templates/app-route.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/broadcasters/DefaultBroadcaster.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/script/templates/PushDrop.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/compat/HD.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/ProtoWallet.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/overlay-tools/LookupResolver.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/compat/Mnemonic.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/script/Script.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/identity/IdentityClient.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/broadcasters/index.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/Peer.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/server/index.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/storage/StorageUtils.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/locales/en.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/zodToJsonSchema.js","turbopack:///[project]/node_modules/zod/dist/esm/v3/locales/en.js","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/server/completable.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/helpers/parseUtil.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/map.js","turbopack:///[project]/node_modules/zod/dist/esm/v3/helpers/parseUtil.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/nullable.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/object.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/set.js","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parseDef.js","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/HTTPWalletJSON.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/index.js","turbopack:///[project]/node_modules/zod/dist/esm/index.js","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/WalletError.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/index.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/messages/EncryptedMessage.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/overlay-tools/index.ts","turbopack:///[project]/app/api/mcp/route.ts","turbopack:///[project]/node_modules/mcp-handler/dist/index.mjs","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/array.js","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/transports/SimplifiedFetchTransport.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/WalletClient.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/registry/RegistryClient.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/certificates/__tests/CompletedProtoWallet.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/server/mcp.ts","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/parsers/record.js","turbopack:///[project]/node_modules/@bsv/sdk/src/script/OP.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/Broadcaster.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Random.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Hash.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/server/auth/errors.ts","turbopack:///[project]/node_modules/zod/dist/esm/v3/types.js","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/node_modules/zod/dist/esm/v3/types.js","turbopack:///[project]/node_modules/@bsv/sdk/src/overlay-tools/SHIPBroadcaster.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/script/Spend.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/identity/types/index.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Curve.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/HTTPWalletWire.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/Beef.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/PrivateKey.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/clients/AuthFetch.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/window.CWI.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/utils/createNonce.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/utils/verifyNonce.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/WalletWireCalls.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/TransactionSignature.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/utils/getVerifiableCertificates.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/utils/validateCertificates.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/storage/StorageUploader.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/BasePoint.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/script/LockingScript.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/http/NodejsHttpClient.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/certificates/VerifiableCertificate.ts","turbopack:///[project]/node_modules/mcp-handler/src/handler/mcp-api-handler.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/script/templates/RPuzzle.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/SymmetricKey.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/ReductionContext.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/K256.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Mersenne.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/certificates/MasterCertificate.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/types.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/http/FetchHttpClient.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/compat/ECIES.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/totp/totp.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/Wallet.interfaces.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/compat/BSM.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/XDM.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/http/DefaultHttpClient.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/index.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/BigNumber.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/substrates/ReactNativeWebView.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Point.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/Signature.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/JacobianPoint.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/chaintrackers/WhatsOnChain.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/broadcasters/ARC.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/BeefTx.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/WERR_REVIEW_ACTIONS.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/http/BinaryFetchClient.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/shared/protocol.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/overlay-tools/OverlayAdminTokenTemplate.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/CachedKeyDeriver.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/fee-models/SatoshisPerKilobyte.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/storage/StorageDownloader.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/ECDSA.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/messages/SignedMessage.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/broadcasters/WhatsOnChainBroadcaster.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/server/sse.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/compat/Utxo.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/wallet/KeyDeriver.ts","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/selectParser.js","turbopack:///[project]/node_modules/@bsv/sdk/src/compat/bip-39-wordlist-en.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/broadcasters/Teranode.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/auth/SessionManager.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/MontgomoryMethod.ts","turbopack:///[project]/node_modules/zod-to-json-schema/dist/esm/index.js","turbopack:///[project]/node_modules/@bsv/sdk/src/kvstore/LocalKVStore.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/BeefParty.ts","turbopack:///[project]/node_modules/@modelcontextprotocol/sdk/src/server/streamableHttp.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/transaction/Transaction.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/primitives/DRBG.ts","turbopack:///[project]/node_modules/@bsv/sdk/src/script/templates/P2PKH.ts","turbopack:///[project]/node_modules/mcp-handler/src/lib/event-emitter.ts","turbopack:///[project]/node_modules/mcp-handler/src/handler/server-response-adapter.ts","turbopack:///[project]/node_modules/mcp-handler/src/handler/index.ts","turbopack:///[project]/node_modules/mcp-handler/src/auth/auth-wrapper.ts","turbopack:///[project]/node_modules/mcp-handler/src/auth/auth-metadata.ts"],"sourcesContent":["/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","/*!\n * depd\n * Copyright(c) 2014-2018 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + stack[i].toString()\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if event emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction eehaslisteners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eehaslisteners(process, 'deprecation')\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + stack[i].toString()\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + stack[i].toString() + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n  // eslint-disable-next-line no-new-func\n  var deprecatedfn = new Function('fn', 'log', 'deprecate', 'message', 'site',\n    '\"use strict\"\\n' +\n    'return function (' + args + ') {' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '}')(fn, log, this, message, site)\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","{\"100\":\"Continue\",\"101\":\"Switching Protocols\",\"102\":\"Processing\",\"103\":\"Early Hints\",\"200\":\"OK\",\"201\":\"Created\",\"202\":\"Accepted\",\"203\":\"Non-Authoritative Information\",\"204\":\"No Content\",\"205\":\"Reset Content\",\"206\":\"Partial Content\",\"207\":\"Multi-Status\",\"208\":\"Already Reported\",\"226\":\"IM Used\",\"300\":\"Multiple Choices\",\"301\":\"Moved Permanently\",\"302\":\"Found\",\"303\":\"See Other\",\"304\":\"Not Modified\",\"305\":\"Use Proxy\",\"307\":\"Temporary Redirect\",\"308\":\"Permanent Redirect\",\"400\":\"Bad Request\",\"401\":\"Unauthorized\",\"402\":\"Payment Required\",\"403\":\"Forbidden\",\"404\":\"Not Found\",\"405\":\"Method Not Allowed\",\"406\":\"Not Acceptable\",\"407\":\"Proxy Authentication Required\",\"408\":\"Request Timeout\",\"409\":\"Conflict\",\"410\":\"Gone\",\"411\":\"Length Required\",\"412\":\"Precondition Failed\",\"413\":\"Payload Too Large\",\"414\":\"URI Too Long\",\"415\":\"Unsupported Media Type\",\"416\":\"Range Not Satisfiable\",\"417\":\"Expectation Failed\",\"418\":\"I'm a Teapot\",\"421\":\"Misdirected Request\",\"422\":\"Unprocessable Entity\",\"423\":\"Locked\",\"424\":\"Failed Dependency\",\"425\":\"Too Early\",\"426\":\"Upgrade Required\",\"428\":\"Precondition Required\",\"429\":\"Too Many Requests\",\"431\":\"Request Header Fields Too Large\",\"451\":\"Unavailable For Legal Reasons\",\"500\":\"Internal Server Error\",\"501\":\"Not Implemented\",\"502\":\"Bad Gateway\",\"503\":\"Service Unavailable\",\"504\":\"Gateway Timeout\",\"505\":\"HTTP Version Not Supported\",\"506\":\"Variant Also Negotiates\",\"507\":\"Insufficient Storage\",\"508\":\"Loop Detected\",\"509\":\"Bandwidth Limit Exceeded\",\"510\":\"Not Extended\",\"511\":\"Network Authentication Required\"}","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.message = codes\n\n// status message (lower-case) to code map\nstatus.code = createMessageToStatusCodeMap(codes)\n\n// array of status codes\nstatus.codes = createStatusCodeList(codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Create a map of message to status code.\n * @private\n */\n\nfunction createMessageToStatusCodeMap (codes) {\n  var map = {}\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // populate map\n    map[message.toLowerCase()] = status\n  })\n\n  return map\n}\n\n/**\n * Create a list of all status codes.\n * @private\n */\n\nfunction createStatusCodeList (codes) {\n  return Object.keys(codes).map(function mapCode (code) {\n    return Number(code)\n  })\n}\n\n/**\n * Get the status code for given message.\n * @private\n */\n\nfunction getStatusCode (message) {\n  var msg = message.toLowerCase()\n\n  if (!Object.prototype.hasOwnProperty.call(status.code, msg)) {\n    throw new Error('invalid status message: \"' + message + '\"')\n  }\n\n  return status.code[msg]\n}\n\n/**\n * Get the status message for given code.\n * @private\n */\n\nfunction getStatusMessage (code) {\n  if (!Object.prototype.hasOwnProperty.call(status.message, code)) {\n    throw new Error('invalid status code: ' + code)\n  }\n\n  return status.message[code]\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    return getStatusMessage(code)\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    return getStatusMessage(n)\n  }\n\n  return getStatusCode(code)\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\nmodule.exports.isHttpError = createIsHttpErrorFunction(module.exports.HttpError)\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    var type = typeof arg\n    if (type === 'object' && arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n    } else if (type === 'number' && i === 0) {\n      status = arg\n    } else if (type === 'string') {\n      msg = arg\n    } else if (type === 'object') {\n      props = arg\n    } else {\n      throw new TypeError('argument #' + (i + 1) + ' unsupported type ' + type)\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses.message[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses.message[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create function to test is a value is a HttpError.\n * @private\n */\n\nfunction createIsHttpErrorFunction (HttpError) {\n  return function isHttpError (val) {\n    if (!val || typeof val !== 'object') {\n      return false\n    }\n\n    if (val instanceof HttpError) {\n      return true\n    }\n\n    return val instanceof Error &&\n      typeof val.expose === 'boolean' &&\n      typeof val.statusCode === 'number' && val.status === val.statusCode\n  }\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = toClassName(name)\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses.message[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses.message[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n}\n\n/**\n * Get a class name from a name identifier.\n * @private\n */\n\nfunction toClassName (name) {\n  return name.substr(-5) !== 'Error'\n    ? name + 'Error'\n    : name\n}\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    this.decoder = new StringDecoder(codec.enc);\n}\n\nInternalDecoder.prototype.write = function(buf) {\n    if (!Buffer.isBuffer(buf)) {\n        buf = Buffer.from(buf);\n    }\n\n    return this.decoder.write(buf);\n}\n\nInternalDecoder.prototype.end = function() {\n    return this.decoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","'use strict';\n\nvar Buffer = require('safer-buffer').Buffer;\n\n// == UTF32-LE/BE codec. ==========================================================\n\nexports._utf32 = Utf32Codec;\n\nfunction Utf32Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n    this.bomAware = true;\n    this.isLE = codecOptions.isLE;\n}\n\nexports.utf32le = { type: '_utf32', isLE: true };\nexports.utf32be = { type: '_utf32', isLE: false };\n\n// Aliases\nexports.ucs4le = 'utf32le';\nexports.ucs4be = 'utf32be';\n\nUtf32Codec.prototype.encoder = Utf32Encoder;\nUtf32Codec.prototype.decoder = Utf32Decoder;\n\n// -- Encoding\n\nfunction Utf32Encoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.highSurrogate = 0;\n}\n\nUtf32Encoder.prototype.write = function(str) {\n    var src = Buffer.from(str, 'ucs2');\n    var dst = Buffer.alloc(src.length * 2);\n    var write32 = this.isLE ? dst.writeUInt32LE : dst.writeUInt32BE;\n    var offset = 0;\n\n    for (var i = 0; i < src.length; i += 2) {\n        var code = src.readUInt16LE(i);\n        var isHighSurrogate = (0xD800 <= code && code < 0xDC00);\n        var isLowSurrogate = (0xDC00 <= code && code < 0xE000);\n\n        if (this.highSurrogate) {\n            if (isHighSurrogate || !isLowSurrogate) {\n                // There shouldn't be two high surrogates in a row, nor a high surrogate which isn't followed by a low\n                // surrogate. If this happens, keep the pending high surrogate as a stand-alone semi-invalid character\n                // (technically wrong, but expected by some applications, like Windows file names).\n                write32.call(dst, this.highSurrogate, offset);\n                offset += 4;\n            }\n            else {\n                // Create 32-bit value from high and low surrogates;\n                var codepoint = (((this.highSurrogate - 0xD800) << 10) | (code - 0xDC00)) + 0x10000;\n\n                write32.call(dst, codepoint, offset);\n                offset += 4;\n                this.highSurrogate = 0;\n\n                continue;\n            }\n        }\n\n        if (isHighSurrogate)\n            this.highSurrogate = code;\n        else {\n            // Even if the current character is a low surrogate, with no previous high surrogate, we'll\n            // encode it as a semi-invalid stand-alone character for the same reasons expressed above for\n            // unpaired high surrogates.\n            write32.call(dst, code, offset);\n            offset += 4;\n            this.highSurrogate = 0;\n        }\n    }\n\n    if (offset < dst.length)\n        dst = dst.slice(0, offset);\n\n    return dst;\n};\n\nUtf32Encoder.prototype.end = function() {\n    // Treat any leftover high surrogate as a semi-valid independent character.\n    if (!this.highSurrogate)\n        return;\n\n    var buf = Buffer.alloc(4);\n\n    if (this.isLE)\n        buf.writeUInt32LE(this.highSurrogate, 0);\n    else\n        buf.writeUInt32BE(this.highSurrogate, 0);\n\n    this.highSurrogate = 0;\n\n    return buf;\n};\n\n// -- Decoding\n\nfunction Utf32Decoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.badChar = codec.iconv.defaultCharUnicode.charCodeAt(0);\n    this.overflow = [];\n}\n\nUtf32Decoder.prototype.write = function(src) {\n    if (src.length === 0)\n        return '';\n\n    var i = 0;\n    var codepoint = 0;\n    var dst = Buffer.alloc(src.length + 4);\n    var offset = 0;\n    var isLE = this.isLE;\n    var overflow = this.overflow;\n    var badChar = this.badChar;\n\n    if (overflow.length > 0) {\n        for (; i < src.length && overflow.length < 4; i++)\n            overflow.push(src[i]);\n        \n        if (overflow.length === 4) {\n            // NOTE: codepoint is a signed int32 and can be negative.\n            // NOTE: We copied this block from below to help V8 optimize it (it works with array, not buffer).\n            if (isLE) {\n                codepoint = overflow[i] | (overflow[i+1] << 8) | (overflow[i+2] << 16) | (overflow[i+3] << 24);\n            } else {\n                codepoint = overflow[i+3] | (overflow[i+2] << 8) | (overflow[i+1] << 16) | (overflow[i] << 24);\n            }\n            overflow.length = 0;\n\n            offset = _writeCodepoint(dst, offset, codepoint, badChar);\n        }\n    }\n\n    // Main loop. Should be as optimized as possible.\n    for (; i < src.length - 3; i += 4) {\n        // NOTE: codepoint is a signed int32 and can be negative.\n        if (isLE) {\n            codepoint = src[i] | (src[i+1] << 8) | (src[i+2] << 16) | (src[i+3] << 24);\n        } else {\n            codepoint = src[i+3] | (src[i+2] << 8) | (src[i+1] << 16) | (src[i] << 24);\n        }\n        offset = _writeCodepoint(dst, offset, codepoint, badChar);\n    }\n\n    // Keep overflowing bytes.\n    for (; i < src.length; i++) {\n        overflow.push(src[i]);\n    }\n\n    return dst.slice(0, offset).toString('ucs2');\n};\n\nfunction _writeCodepoint(dst, offset, codepoint, badChar) {\n    // NOTE: codepoint is signed int32 and can be negative. We keep it that way to help V8 with optimizations.\n    if (codepoint < 0 || codepoint > 0x10FFFF) {\n        // Not a valid Unicode codepoint\n        codepoint = badChar;\n    } \n\n    // Ephemeral Planes: Write high surrogate.\n    if (codepoint >= 0x10000) {\n        codepoint -= 0x10000;\n\n        var high = 0xD800 | (codepoint >> 10);\n        dst[offset++] = high & 0xff;\n        dst[offset++] = high >> 8;\n\n        // Low surrogate is written below.\n        var codepoint = 0xDC00 | (codepoint & 0x3FF);\n    }\n\n    // Write BMP char or low surrogate.\n    dst[offset++] = codepoint & 0xff;\n    dst[offset++] = codepoint >> 8;\n\n    return offset;\n};\n\nUtf32Decoder.prototype.end = function() {\n    this.overflow.length = 0;\n};\n\n// == UTF-32 Auto codec =============================================================\n// Decoder chooses automatically from UTF-32LE and UTF-32BE using BOM and space-based heuristic.\n// Defaults to UTF-32LE. http://en.wikipedia.org/wiki/UTF-32\n// Encoder/decoder default can be changed: iconv.decode(buf, 'utf32', {defaultEncoding: 'utf-32be'});\n\n// Encoder prepends BOM (which can be overridden with (addBOM: false}).\n\nexports.utf32 = Utf32AutoCodec;\nexports.ucs4 = 'utf32';\n\nfunction Utf32AutoCodec(options, iconv) {\n    this.iconv = iconv;\n}\n\nUtf32AutoCodec.prototype.encoder = Utf32AutoEncoder;\nUtf32AutoCodec.prototype.decoder = Utf32AutoDecoder;\n\n// -- Encoding\n\nfunction Utf32AutoEncoder(options, codec) {\n    options = options || {};\n\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n\n    this.encoder = codec.iconv.getEncoder(options.defaultEncoding || 'utf-32le', options);\n}\n\nUtf32AutoEncoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n};\n\nUtf32AutoEncoder.prototype.end = function() {\n    return this.encoder.end();\n};\n\n// -- Decoding\n\nfunction Utf32AutoDecoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf32AutoDecoder.prototype.write = function(buf) {\n    if (!this.decoder) { \n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n\n        if (this.initialBufsLen < 32) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n};\n\nUtf32AutoDecoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.end();\n};\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var invalidLE = 0, invalidBE = 0;   // Number of invalid chars when decoded as LE or BE.\n    var bmpCharsLE = 0, bmpCharsBE = 0; // Number of BMP chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 4) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE && b[2] === 0 && b[3] === 0) {\n                        return 'utf-32le';\n                    }\n                    if (b[0] === 0 && b[1] === 0 && b[2] === 0xFE && b[3] === 0xFF) {\n                        return 'utf-32be';\n                    }\n                }\n\n                if (b[0] !== 0 || b[1] > 0x10) invalidBE++;\n                if (b[3] !== 0 || b[2] > 0x10) invalidLE++;\n\n                if (b[0] === 0 && b[1] === 0 && (b[2] !== 0 || b[3] !== 0)) bmpCharsBE++;\n                if ((b[0] !== 0 || b[1] !== 0) && b[2] === 0 && b[3] === 0) bmpCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    if (bmpCharsBE - invalidBE > bmpCharsLE - invalidLE)  return 'utf-32be';\n    if (bmpCharsBE - invalidBE < bmpCharsLE - invalidLE)  return 'utf-32le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-32le';\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n    this.overflowByte = -1;\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n        \n        if (this.initialBufsLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var asciiCharsLE = 0, asciiCharsBE = 0; // Number of ASCII chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 2) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE) return 'utf-16le';\n                    if (b[0] === 0xFE && b[1] === 0xFF) return 'utf-16be';\n                }\n\n                if (b[0] === 0 && b[1] !== 0) asciiCharsBE++;\n                if (b[0] !== 0 && b[1] === 0) asciiCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n    // So, we count ASCII as if it was LE or BE, and decide from that.\n    if (asciiCharsBE > asciiCharsLE) return 'utf-16be';\n    if (asciiCharsBE < asciiCharsLE) return 'utf-16le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-16le';\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\");\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\");\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\").replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\").replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"cp720\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\\x80\\x81\\x84\\x86\\x8d\\x8e\\x8f\\x90\\u0651\\u0652\\u064b\\u064c\\u064d\\u064e\\u064f\\u0650\\u00a0\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 common decode nodes.\n        var commonThirdByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        var commonFourthByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        // Fill out the tree\n        var firstByteNode = this.decodeTables[0];\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNode = this.decodeTables[NODE_START - firstByteNode[i]];\n            for (var j = 0x30; j <= 0x39; j++) {\n                if (secondByteNode[j] === UNASSIGNED) {\n                    secondByteNode[j] = NODE_START - commonThirdByteNodeIdx;\n                } else if (secondByteNode[j] > NODE_START) {\n                    throw new Error(\"gb18030 decode tables conflict at byte 2\");\n                }\n\n                var thirdByteNode = this.decodeTables[NODE_START - secondByteNode[j]];\n                for (var k = 0x81; k <= 0xFE; k++) {\n                    if (thirdByteNode[k] === UNASSIGNED) {\n                        thirdByteNode[k] = NODE_START - commonFourthByteNodeIdx;\n                    } else if (thirdByteNode[k] === NODE_START - commonFourthByteNodeIdx) {\n                        continue;\n                    } else if (thirdByteNode[k] > NODE_START) {\n                        throw new Error(\"gb18030 decode tables conflict at byte 3\");\n                    }\n\n                    var fourthByteNode = this.decodeTables[NODE_START - thirdByteNode[k]];\n                    for (var l = 0x30; l <= 0x39; l++) {\n                        if (fourthByteNode[l] === UNASSIGNED)\n                            fourthByteNode[l] = GB18030_CODE;\n                    }\n                }\n            }\n        }\n    }\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    var hasValues = false;\n    var subNodeEmpty = {};\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0) {\n            this._setEncodeChar(uCode, mbCode);\n            hasValues = true;\n        } else if (uCode <= NODE_START) {\n            var subNodeIdx = NODE_START - uCode;\n            if (!subNodeEmpty[subNodeIdx]) {  // Skip empty subtrees (they are too large in gb18030).\n                var newPrefix = (mbCode << 8) >>> 0;  // NOTE: '>>> 0' keeps 32-bit num positive.\n                if (this._fillEncodeTable(subNodeIdx, newPrefix, skipEncodeChars))\n                    hasValues = true;\n                else\n                    subNodeEmpty[subNodeIdx] = true;\n            }\n        } else if (uCode <= SEQ_START) {\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n            hasValues = true;\n        }\n    }\n    return hasValues;\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else if (dbcsCode < 0x1000000) {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        } else {\n            newBuf[j++] = dbcsCode >>> 24;\n            newBuf[j++] = (dbcsCode >>> 16) & 0xFF;\n            newBuf[j++] = (dbcsCode >>> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBytes = [];\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBytes = this.prevBytes, prevOffset = this.prevBytes.length,\n        seqStart = -this.prevBytes.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBytes[i + prevOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n            i = seqStart; // Skip one byte ('i' will be incremented by the for loop) and try to parse again.\n        }\n        else if (uCode === GB18030_CODE) {\n            if (i >= 3) {\n                var ptr = (buf[i-3]-0x81)*12600 + (buf[i-2]-0x30)*1260 + (buf[i-1]-0x81)*10 + (curByte-0x30);\n            } else {\n                var ptr = (prevBytes[i-3+prevOffset]-0x81)*12600 + \n                          (((i-2 >= 0) ? buf[i-2] : prevBytes[i-2+prevOffset])-0x30)*1260 + \n                          (((i-1 >= 0) ? buf[i-1] : prevBytes[i-1+prevOffset])-0x81)*10 + \n                          (curByte-0x30);\n            }\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode >= 0x10000) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 | (uCode >> 10);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 | (uCode & 0x3FF);\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBytes = (seqStart >= 0)\n        ? Array.prototype.slice.call(buf, seqStart)\n        : prevBytes.slice(seqStart + prevOffset).concat(Array.prototype.slice.call(buf));\n\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBytes.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var bytesArr = this.prevBytes.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBytes = [];\n        this.nodeIdx = 0;\n        if (bytesArr.length > 0)\n            ret += this.write(bytesArr);\n    }\n\n    this.prevBytes = [];\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + ((r-l+1) >> 1);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","[[\"0\",\"\\u0000\",128],[\"a1\",\"\",62],[\"8140\",\"\",9,\"\"],[\"8180\",\"\"],[\"81b8\",\"\"],[\"81c8\",\"\"],[\"81da\",\"\"],[\"81f0\",\"\"],[\"81fc\",\"\"],[\"824f\",\"\",9],[\"8260\",\"\",25],[\"8281\",\"\",25],[\"829f\",\"\",82],[\"8340\",\"\",62],[\"8380\",\"\",22],[\"839f\",\"\",16,\"\",6],[\"83bf\",\"\",16,\"\",6],[\"8440\",\"\",5,\"\",25],[\"8470\",\"\",5,\"\",7],[\"8480\",\"\",17],[\"849f\",\"\"],[\"8740\",\"\",19,\"\",9],[\"875f\",\"\"],[\"877e\",\"\"],[\"8780\",\"\",4,\"\"],[\"889f\",\"\"],[\"8940\",\"\"],[\"8980\",\"\"],[\"8a40\",\"\"],[\"8a80\",\"\"],[\"8b40\",\"\"],[\"8b80\",\"\"],[\"8c40\",\"\"],[\"8c80\",\"\"],[\"8d40\",\"\"],[\"8d80\",\"\"],[\"8e40\",\"\"],[\"8e80\",\"\"],[\"8f40\",\"\"],[\"8f80\",\"\"],[\"9040\",\"\"],[\"9080\",\"\"],[\"9140\",\"\"],[\"9180\",\"\"],[\"9240\",\"\"],[\"9280\",\"\"],[\"9340\",\"\"],[\"9380\",\"\"],[\"9440\",\"\"],[\"9480\",\"\"],[\"9540\",\"\"],[\"9580\",\"\"],[\"9640\",\"\"],[\"9680\",\"\"],[\"9740\",\"\"],[\"9780\",\"\"],[\"9840\",\"\"],[\"989f\",\"\"],[\"9940\",\"\"],[\"9980\",\"\"],[\"9a40\",\"\"],[\"9a80\",\"\"],[\"9b40\",\"\"],[\"9b80\",\"\"],[\"9c40\",\"\"],[\"9c80\",\"\"],[\"9d40\",\"\"],[\"9d80\",\"\"],[\"9e40\",\"\"],[\"9e80\",\"\"],[\"9f40\",\"\"],[\"9f80\",\"\"],[\"e040\",\"\"],[\"e080\",\"\"],[\"e140\",\"\"],[\"e180\",\"\"],[\"e240\",\"\"],[\"e280\",\"\"],[\"e340\",\"\"],[\"e380\",\"\"],[\"e440\",\"\"],[\"e480\",\"\"],[\"e540\",\"\"],[\"e580\",\"\"],[\"e640\",\"\"],[\"e680\",\"\"],[\"e740\",\"\"],[\"e780\",\"\"],[\"e840\",\"\"],[\"e880\",\"\"],[\"e940\",\"\"],[\"e980\",\"\"],[\"ea40\",\"\"],[\"ea80\",\"\"],[\"ed40\",\"\"],[\"ed80\",\"\"],[\"ee40\",\"\"],[\"ee80\",\"\"],[\"eeef\",\"\",9,\"\"],[\"f040\",\"\",62],[\"f080\",\"\",124],[\"f140\",\"\",62],[\"f180\",\"\",124],[\"f240\",\"\",62],[\"f280\",\"\",124],[\"f340\",\"\",62],[\"f380\",\"\",124],[\"f440\",\"\",62],[\"f480\",\"\",124],[\"f540\",\"\",62],[\"f580\",\"\",124],[\"f640\",\"\",62],[\"f680\",\"\",124],[\"f740\",\"\",62],[\"f780\",\"\",124],[\"f840\",\"\",62],[\"f880\",\"\",124],[\"f940\",\"\"],[\"fa40\",\"\",9,\"\",9,\"\"],[\"fa80\",\"\"],[\"fb40\",\"\"],[\"fb80\",\"\"],[\"fc40\",\"\"]]","[[\"0\",\"\\u0000\",127],[\"8ea1\",\"\",62],[\"a1a1\",\"\",9,\"\"],[\"a2a1\",\"\"],[\"a2ba\",\"\"],[\"a2ca\",\"\"],[\"a2dc\",\"\"],[\"a2f2\",\"\"],[\"a2fe\",\"\"],[\"a3b0\",\"\",9],[\"a3c1\",\"\",25],[\"a3e1\",\"\",25],[\"a4a1\",\"\",82],[\"a5a1\",\"\",85],[\"a6a1\",\"\",16,\"\",6],[\"a6c1\",\"\",16,\"\",6],[\"a7a1\",\"\",5,\"\",25],[\"a7d1\",\"\",5,\"\",25],[\"a8a1\",\"\"],[\"ada1\",\"\",19,\"\",9],[\"adc0\",\"\"],[\"addf\",\"\",4,\"\"],[\"b0a1\",\"\"],[\"b1a1\",\"\"],[\"b2a1\",\"\"],[\"b3a1\",\"\"],[\"b4a1\",\"\"],[\"b5a1\",\"\"],[\"b6a1\",\"\"],[\"b7a1\",\"\"],[\"b8a1\",\"\"],[\"b9a1\",\"\"],[\"baa1\",\"\"],[\"bba1\",\"\"],[\"bca1\",\"\"],[\"bda1\",\"\"],[\"bea1\",\"\"],[\"bfa1\",\"\"],[\"c0a1\",\"\"],[\"c1a1\",\"\"],[\"c2a1\",\"\"],[\"c3a1\",\"\"],[\"c4a1\",\"\"],[\"c5a1\",\"\"],[\"c6a1\",\"\"],[\"c7a1\",\"\"],[\"c8a1\",\"\"],[\"c9a1\",\"\"],[\"caa1\",\"\"],[\"cba1\",\"\"],[\"cca1\",\"\"],[\"cda1\",\"\"],[\"cea1\",\"\"],[\"cfa1\",\"\"],[\"d0a1\",\"\"],[\"d1a1\",\"\"],[\"d2a1\",\"\"],[\"d3a1\",\"\"],[\"d4a1\",\"\"],[\"d5a1\",\"\"],[\"d6a1\",\"\"],[\"d7a1\",\"\"],[\"d8a1\",\"\"],[\"d9a1\",\"\"],[\"daa1\",\"\"],[\"dba1\",\"\"],[\"dca1\",\"\"],[\"dda1\",\"\"],[\"dea1\",\"\"],[\"dfa1\",\"\"],[\"e0a1\",\"\"],[\"e1a1\",\"\"],[\"e2a1\",\"\"],[\"e3a1\",\"\"],[\"e4a1\",\"\"],[\"e5a1\",\"\"],[\"e6a1\",\"\"],[\"e7a1\",\"\"],[\"e8a1\",\"\"],[\"e9a1\",\"\"],[\"eaa1\",\"\"],[\"eba1\",\"\"],[\"eca1\",\"\"],[\"eda1\",\"\"],[\"eea1\",\"\"],[\"efa1\",\"\"],[\"f0a1\",\"\"],[\"f1a1\",\"\"],[\"f2a1\",\"\"],[\"f3a1\",\"\"],[\"f4a1\",\"\"],[\"f9a1\",\"\"],[\"faa1\",\"\"],[\"fba1\",\"\"],[\"fca1\",\"\"],[\"fcf1\",\"\",9,\"\"],[\"8fa2af\",\"\"],[\"8fa2c2\",\"\"],[\"8fa2eb\",\"\"],[\"8fa6e1\",\"\"],[\"8fa6e7\",\"\"],[\"8fa6e9\",\"\"],[\"8fa6ec\",\"\"],[\"8fa6f1\",\"\"],[\"8fa7c2\",\"\",10,\"\"],[\"8fa7f2\",\"\",10,\"\"],[\"8fa9a1\",\"\"],[\"8fa9a4\",\"\"],[\"8fa9a6\",\"\"],[\"8fa9a8\",\"\"],[\"8fa9ab\",\"\"],[\"8fa9af\",\"\"],[\"8fa9c1\",\"\"],[\"8faaa1\",\"\"],[\"8faaba\",\"\"],[\"8faba1\",\"\"],[\"8fabbd\",\"\"],[\"8fabc5\",\"\"],[\"8fb0a1\",\"\"],[\"8fb1a1\",\"\"],[\"8fb2a1\",\"\",4,\"\"],[\"8fb3a1\",\"\"],[\"8fb4a1\",\"\"],[\"8fb5a1\",\"\"],[\"8fb6a1\",\"\",5,\"\",4,\"\"],[\"8fb7a1\",\"\",4,\"\"],[\"8fb8a1\",\"\"],[\"8fb9a1\",\"\"],[\"8fbaa1\",\"\",4,\"\"],[\"8fbba1\",\"\"],[\"8fbca1\",\"\",4,\"\"],[\"8fbda1\",\"\",4,\"\"],[\"8fbea1\",\"\",4,\"\"],[\"8fbfa1\",\"\"],[\"8fc0a1\",\"\"],[\"8fc1a1\",\"\"],[\"8fc2a1\",\"\"],[\"8fc3a1\",\"\",4,\"\"],[\"8fc4a1\",\"\"],[\"8fc5a1\",\"\"],[\"8fc6a1\",\"\"],[\"8fc7a1\",\"\"],[\"8fc8a1\",\"\"],[\"8fc9a1\",\"\",4,\"\",4,\"\"],[\"8fcaa1\",\"\"],[\"8fcba1\",\"\"],[\"8fcca1\",\"\",9,\"\"],[\"8fcda1\",\"\",5,\"\"],[\"8fcea1\",\"\",6,\"\"],[\"8fcfa1\",\"\"],[\"8fd0a1\",\"\"],[\"8fd1a1\",\"\"],[\"8fd2a1\",\"\",5],[\"8fd3a1\",\"\"],[\"8fd4a1\",\"\",4,\"\"],[\"8fd5a1\",\"\"],[\"8fd6a1\",\"\"],[\"8fd7a1\",\"\"],[\"8fd8a1\",\"\"],[\"8fd9a1\",\"\",4,\"\",6,\"\"],[\"8fdaa1\",\"\",4,\"\"],[\"8fdba1\",\"\",6,\"\"],[\"8fdca1\",\"\",4,\"\"],[\"8fdda1\",\"\",4,\"\"],[\"8fdea1\",\"\",4,\"\"],[\"8fdfa1\",\"\"],[\"8fe0a1\",\"\"],[\"8fe1a1\",\"\",4,\"\"],[\"8fe2a1\",\"\"],[\"8fe3a1\",\"\",5,\"\",4,\"\"],[\"8fe4a1\",\"\",4,\"\"],[\"8fe5a1\",\"\",4,\"\"],[\"8fe6a1\",\"\"],[\"8fe7a1\",\"\"],[\"8fe8a1\",\"\",4,\"\"],[\"8fe9a1\",\"\",4],[\"8feaa1\",\"\",4,\"\"],[\"8feba1\",\"\",4,\"\"],[\"8feca1\",\"\"],[\"8feda1\",\"\",4,\"\",4,\"\"]]","[[\"0\",\"\\u0000\",127,\"\"],[\"8140\",\"\",5,\"\",9,\"\",6,\"\"],[\"8180\",\"\",6,\"\",4,\"\",4,\"\",5,\"\"],[\"8240\",\"\",4,\"\",8,\"\",4,\"\",11],[\"8280\",\"\",10,\"\",4,\"\",7,\"\",5,\"\",8,\"\",20,\"\",4,\"\",6,\"\"],[\"8340\",\"\",17,\"\",5,\"\",10,\"\",4,\"\",9,\"\"],[\"8380\",\"\",5,\"\",13,\"\",28,\"\",4,\"\",4,\"\",5],[\"8440\",\"\",5,\"\",5,\"\"],[\"8480\",\"\",9,\"\",4,\"\",6,\"\",6,\"\",9,\"\",5,\"\",10,\"\",7,\"\"],[\"8540\",\"\",9,\"\"],[\"8580\",\"\",4,\"\",6,\"\",4,\"\",4,\"\",7,\"\"],[\"8640\",\"\",4,\"\",5,\"\",4,\"\",5,\"\"],[\"8680\",\"\",4,\"\",4,\"\",5,\"\",6,\"\",8,\"\",4,\"\",4,\"\",4,\"\"],[\"8740\",\"\",7,\"\",11,\"\",4,\"\",4],[\"8780\",\"\",7,\"\",6,\"\",14,\"\",10,\"\",6,\"\",12,\"\",8,\"\",5,\"\",6],[\"8840\",\"\",9,\"\",4,\"\",4,\"\"],[\"8880\",\"\",4,\"\",6,\"\",8,\"\",6,\"\",7,\"\",4,\"\",4,\"\",7],[\"8940\",\"\",5,\"\",6,\"\",4,\"\",5,\"\",4,\"\",16,\"\"],[\"8980\",\"\",4,\"\",4,\"\",7,\"\",17,\"\",10,\"\",13,\"\",5,\"\",7,\"\",4,\"\"],[\"8a40\",\"\",4,\"\",12,\"\"],[\"8a80\",\"\",5,\"\",6,\"\",4,\"\",11,\"\",6,\"\",4,\"\",4,\"\",9,\"\",5],[\"8b40\",\"\",8,\"\",17,\"\",6,\"\",13,\"\"],[\"8b80\",\"\",4,\"\",4,\"\",5,\"\",4,\"\",4,\"\",22,\"\",11,\"\",25,\"\",7,\"\",6],[\"8c40\",\"\",7,\"\"],[\"8c80\",\"\",8,\"\",4,\"\",6,\"\",6,\"\",6,\"\",4,\"\",4,\"\",4],[\"8d40\",\"\",5,\"\",5,\"\",5,\"\",6,\"\",9,\"\",4],[\"8d80\",\"\",5,\"\",4,\"\",4,\"\",4,\"\",7,\"\",7,\"\",10,\"\",10,\"\",12,\"\",21,\"\"],[\"8e40\",\"\",21,\"\",12,\"\",6,\"\",12,\"\"],[\"8e80\",\"\",4,\"\",7,\"\",4,\"\",4,\"\",5,\"\",6,\"\",4,\"\",14,\"\",4,\"\",4,\"\",6],[\"8f40\",\"\",5,\"\",11,\"\",8,\"\"],[\"8f80\",\"\",6,\"\",14,\"\",5,\"\",5,\"\",4,\"\"],[\"9040\",\"\",4,\"\",4,\"\",6,\"\"],[\"9080\",\"\",7,\"\",4,\"\",4,\"\",4,\"\",4,\"\",18,\"\",6],[\"9140\",\"\",6,\"\",6,\"\",18,\"\",4,\"\"],[\"9180\",\"\",6,\"\",8,\"\",9,\"\",5,\"\",4,\"\",4,\"\",16,\"\",13,\"\",8,\"\",5,\"\",4,\"\"],[\"9240\",\"\",6,\"\",5,\"\"],[\"9280\",\"\",5,\"\",7,\"\",6,\"\"],[\"9340\",\"\",6,\"\",4,\"\",4,\"\",5,\"\"],[\"9380\",\"\",5,\"\",4,\"\",6,\"\",4,\"\",7,\"\",9,\"\",6,\"\",8,\"\",4,\"\",6,\"\"],[\"9440\",\"\",24,\"\",7,\"\",7,\"\",4,\"\",8],[\"9480\",\"\",4,\"\",4,\"\",14,\"\",7,\"\",7,\"\"],[\"9540\",\"\",4,\"\",4,\"\",6,\"\"],[\"9580\",\"\",4,\"\",4,\"\",8,\"\",4,\"\",4,\"\",25,\"\",7,\"\",5,\"\"],[\"9640\",\"\",5,\"\",4,\"\"],[\"9680\",\"\",7,\"\",9,\"\",7,\"\",4,\"\",6,\"\",6,\"\",5],[\"9740\",\"\",7,\"\",8,\"\",7,\"\",9,\"\"],[\"9780\",\"\",6,\"\",5,\"\",4,\"\",9,\"\",4,\"\",11,\"\",7,\"\",16,\"\"],[\"9840\",\"\",4,\"\",5,\"\",9,\"\"],[\"9880\",\"\",7,\"\",5,\"\",11,\"\",9,\"\",9,\"\",11,\"\",5,\"\",5,\"\",6,\"\",4,\"\",7,\"\",6,\"\"],[\"9940\",\"\",4,\"\",10,\"\",6,\"\",8,\"\",4,\"\",7,\"\",5],[\"9980\",\"\",114,\"\",6],[\"9a40\",\"\",11,\"\",7,\"\",13,\"\"],[\"9a80\",\"\",4,\"\",7,\"\",7,\"\",6,\"\",4,\"\",4,\"\",7,\"\",6,\"\",4,\"\",4,\"\"],[\"9b40\",\"\",4,\"\"],[\"9b80\",\"\",5,\"\",4,\"\",4,\"\",5,\"\"],[\"9c40\",\"\",7,\"\"],[\"9c80\",\"\",7,\"\",7,\"\",10,\"\",14,\"\",4,\"\",6,\"\",5],[\"9d40\",\"\",7,\"\",4,\"\",9,\"\",6,\"\"],[\"9d80\",\"\",9,\"\",5,\"\",6,\"\",12,\"\",4,\"\",10,\"\",5,\"\",5,\"\",6,\"\",10,\"\"],[\"9e40\",\"\",7,\"\",32,\"\",7,\"\",6,\"\",6],[\"9e80\",\"\",9,\"\",17,\"\",13,\"\",11,\"\",12,\"\",12,\"\"],[\"9f40\",\"\",6,\"\",10,\"\",4,\"\",10,\"\",7,\"\"],[\"9f80\",\"\",13,\"\",12,\"\",4,\"\",4,\"\",5,\"\",4,\"\",4,\"\",6,\"\",5,\"\",8,\"\",9,\"\",4],[\"a040\",\"\",9,\"\",5,\"\",9,\"\",11,\"\",19],[\"a080\",\"\",9,\"\",6,\"\",4,\"\",11,\"\",11,\"\",6,\"\"],[\"a1a1\",\"\",7,\"\"],[\"a2a1\",\"\",9],[\"a2b1\",\"\",19,\"\",19,\"\",9],[\"a2e5\",\"\",9],[\"a2f1\",\"\",11],[\"a3a1\",\"\",88,\"\"],[\"a4a1\",\"\",82],[\"a5a1\",\"\",85],[\"a6a1\",\"\",16,\"\",6],[\"a6c1\",\"\",16,\"\",6],[\"a6e0\",\"\"],[\"a6ee\",\"\"],[\"a6f4\",\"\"],[\"a7a1\",\"\",5,\"\",25],[\"a7d1\",\"\",5,\"\",25],[\"a840\",\"\",35,\"\",6],[\"a880\",\"\",7,\"\"],[\"a8a1\",\"\"],[\"a8bd\",\"\"],[\"a8c0\",\"\"],[\"a8c5\",\"\",36],[\"a940\",\"\",8,\"\"],[\"a959\",\"\"],[\"a95c\",\"\"],[\"a960\",\"\",9,\"\",8],[\"a980\",\"\",4,\"\"],[\"a996\",\"\"],[\"a9a4\",\"\",75],[\"aa40\",\"\",5,\"\",5,\"\",8],[\"aa80\",\"\",7,\"\",10,\"\"],[\"ab40\",\"\",11,\"\",4,\"\",5,\"\",4],[\"ab80\",\"\",6,\"\",4],[\"ac40\",\"\",10,\"\",8,\"\",5,\"\",4,\"\",11],[\"ac80\",\"\",6,\"\",12,\"\",4,\"\"],[\"ad40\",\"\",10,\"\",7,\"\",15,\"\",12],[\"ad80\",\"\",9,\"\",8,\"\",6,\"\"],[\"ae40\",\"\",6,\"\",7,\"\",4,\"\"],[\"ae80\",\"\",7,\"\",6,\"\",4,\"\"],[\"af40\",\"\",4,\"\"],[\"af80\",\"\"],[\"b040\",\"\",6,\"\",5,\"\",4,\"\",6,\"\",7,\"\"],[\"b080\",\"\",7,\"\",8,\"\",9,\"\"],[\"b140\",\"\",4,\"\",7,\"\",10,\"\"],[\"b180\",\"\",4,\"\",7,\"\",7,\"\"],[\"b240\",\"\",11,\"\",5,\"\",11,\"\",4],[\"b280\",\"\",12,\"\",8,\"\",4,\"\"],[\"b340\",\"\",5,\"\"],[\"b380\",\"\",11,\"\",7,\"\",6,\"\"],[\"b440\",\"\",7,\"\",9],[\"b480\",\"\",4,\"\",5,\"\",6,\"\"],[\"b540\",\"\",5,\"\",9,\"\",4,\"\",14,\"\",4,\"\",8,\"\"],[\"b580\",\"\",6,\"\",4,\"\"],[\"b640\",\"\",6,\"\",11,\"\",10,\"\",4,\"\",5,\"\"],[\"b680\",\"\",6,\"\",4,\"\"],[\"b740\",\"\",14,\"\",5,\"\",9,\"\",4,\"\",16],[\"b780\",\"\",6,\"\"],[\"b840\",\"\",4,\"\",10,\"\",10,\"\",9,\"\",5,\"\"],[\"b880\",\"\",4,\"\"],[\"b940\",\"\",5,\"\",10,\"\",6,\"\"],[\"b980\",\"\",7,\"\"],[\"ba40\",\"\",4,\"\",4,\"\",7,\"\",5,\"\"],[\"ba80\",\"\",4,\"\",5,\"\",12,\"\",5,\"\"],[\"bb40\",\"\",9,\"\",36,\"\",5,\"\",9],[\"bb80\",\"\",6,\"\",4,\"\"],[\"bc40\",\"\",6,\"\",6,\"\",5,\"\",7,\"\",13,\"\",5],[\"bc80\",\"\",14,\"\",6,\"\"],[\"bd40\",\"\",54,\"\",7],[\"bd80\",\"\",32,\"\"],[\"be40\",\"\",12,\"\",6,\"\",42],[\"be80\",\"\",32,\"\"],[\"bf40\",\"\",62],[\"bf80\",\"\",4,\"\",4,\"\",21,\"\"],[\"c040\",\"\",35,\"\",23,\"\"],[\"c080\",\"\",6,\"\",9,\"\"],[\"c140\",\"\",4,\"\",7,\"\",4,\"\",4,\"\",6,\"\"],[\"c180\",\"\",4,\"\",4,\"\",5,\"\"],[\"c240\",\"\",6,\"\",5,\"\"],[\"c280\",\"\",13,\"\",5,\"\",11,\"\"],[\"c340\",\"\",5,\"\",4,\"\",6,\"\"],[\"c380\",\"\",12,\"\",4,\"\"],[\"c440\",\"\",5,\"\",4,\"\",4,\"\",5,\"\",4,\"\"],[\"c480\",\"\",7,\"\",5,\"\",6,\"\"],[\"c540\",\"\",14,\"\",4,\"\",5,\"\",4,\"\",5,\"\"],[\"c580\",\"\",7,\"\",7,\"\"],[\"c640\",\"\"],[\"c680\",\"\",4,\"\",9,\"\"],[\"c740\",\"\",4,\"\",4,\"\",6,\"\",6,\"\",6,\"\"],[\"c780\",\"\"],[\"c840\",\"\",4,\"\",5,\"\",5,\"\",7,\"\",5,\"\",7,\"\"],[\"c880\",\"\",6,\"\",4,\"\",4,\"\"],[\"c940\",\"\",4,\"\",7,\"\",12,\"\"],[\"c980\",\"\",4,\"\",4,\"\",10,\"\"],[\"ca40\",\"\",8,\"\",8,\"\",9,\"\",4,\"\",10],[\"ca80\",\"\",4,\"\",8,\"\"],[\"cb40\",\"\",6,\"\",10,\"\",6,\"\",5,\"\",6,\"\",6,\"\",4,\"\"],[\"cb80\",\"\",5,\"\",6,\"\",14,\"\"],[\"cc40\",\"\",4,\"\",10,\"\",15,\"\",13,\"\"],[\"cc80\",\"\",11,\"\",4,\"\",7,\"\"],[\"cd40\",\"\",6,\"\",6,\"\",4,\"\",5,\"\",4,\"\",4,\"\"],[\"cd80\",\"\"],[\"ce40\",\"\",6,\"\",5,\"\",7,\"\"],[\"ce80\",\"\",4,\"\",6,\"\",4,\"\"],[\"cf40\",\"\",4,\"\",4,\"\",6,\"\",9],[\"cf80\",\"\",5,\"\",7,\"\",4,\"\"],[\"d040\",\"\",13,\"\",5,\"\",5,\"\",5,\"\",6,\"\"],[\"d080\",\"\",4,\"\",4,\"\",5,\"\"],[\"d140\",\"\",4,\"\",4,\"\",6,\"\",5],[\"d180\",\"\",4,\"\",4,\"\",4,\"\"],[\"d240\",\"\",8,\"\",24,\"\",5,\"\",19,\"\"],[\"d280\",\"\",26,\"\"],[\"d340\",\"\",30,\"\",6],[\"d380\",\"\",4,\"\",5,\"\",21,\"\"],[\"d440\",\"\",31,\"\",8,\"\",21],[\"d480\",\"\",25,\"\",6,\"\"],[\"d540\",\"\",7,\"\",7,\"\",46],[\"d580\",\"\",32,\"\"],[\"d640\",\"\",34,\"\",27],[\"d680\",\"\",30,\"\"],[\"d740\",\"\",31,\"\",4,\"\",25],[\"d780\",\"\",24,\"\"],[\"d840\",\"\",8,\"\",7,\"\",5,\"\",6,\"\",6,\"\",6,\"\"],[\"d880\",\"\",6,\"\",20,\"\"],[\"d940\",\"\",62],[\"d980\",\"\",32,\"\"],[\"da40\",\"\",14,\"\",8,\"\",4,\"\",9,\"\"],[\"da80\",\"\",12,\"\"],[\"db40\",\"\",6,\"\",7,\"\",4,\"\"],[\"db80\",\"\",4,\"\",5,\"\",11,\"\"],[\"dc40\",\"\",4,\"\",6,\"\",6,\"\",11,\"\",6,\"\",7],[\"dc80\",\"\",10,\"\",21,\"\"],[\"dd40\",\"\",62],[\"dd80\",\"\",32,\"\"],[\"de40\",\"\",32,\"\"],[\"de80\",\"\",4,\"\"],[\"df40\",\"\",5,\"\",4,\"\",4,\"\",5,\"\",4,\"\",6,\"\"],[\"df80\",\"\",4,\"\"],[\"e040\",\"\",19,\"\"],[\"e080\",\"\",10,\"\",6,\"\",8,\"\"],[\"e140\",\"\",4,\"\",6,\"\",5,\"\",5,\"\"],[\"e180\",\"\",10,\"\",9,\"\",8,\"\"],[\"e240\",\"\",62],[\"e280\",\"\",32,\"\",5,\"\"],[\"e340\",\"\",45,\"\",16],[\"e380\",\"\",7,\"\",24,\"\"],[\"e440\",\"\",5,\"\",24,\"\",31],[\"e480\",\"\",32,\"\"],[\"e540\",\"\",51,\"\",10],[\"e580\",\"\",31,\"\"],[\"e640\",\"\",34,\"\",27],[\"e680\",\"\",29,\"\"],[\"e740\",\"\",7,\"\",54],[\"e780\",\"\",32,\"\",6,\"\",4,\"\"],[\"e840\",\"\",14,\"\",43,\"\"],[\"e880\",\"\",20,\"\"],[\"e940\",\"\",7,\"\",42],[\"e980\",\"\",32,\"\"],[\"ea40\",\"\",27,\"\",6,\"\"],[\"ea80\",\"\",4,\"\",12,\"\"],[\"eb40\",\"\",9,\"\",7,\"\",9,\"\",6,\"\"],[\"eb80\",\"\",4,\"\"],[\"ec40\",\"\",8,\"\",4,\"\",18,\"\",7],[\"ec80\",\"\",4,\"\",7,\"\",4,\"\",4,\"\"],[\"ed40\",\"\",6,\"\",46],[\"ed80\",\"\",4,\"\",23,\"\"],[\"ee40\",\"\",62],[\"ee80\",\"\",32,\"\",4,\"\",6,\"\"],[\"ef40\",\"\",5,\"\",37,\"\",4],[\"ef80\",\"\",30,\"\",4,\"\",8,\"\"],[\"f040\",\"\",4,\"\",28,\"\",26],[\"f080\",\"\",9,\"\",12,\"\",4,\"\",6,\"\"],[\"f140\",\"\",10,\"\",47],[\"f180\",\"\",32,\"\"],[\"f240\",\"\",62],[\"f280\",\"\",32,\"\"],[\"f340\",\"\",17,\"\",6,\"\",4,\"\"],[\"f380\",\"\",8,\"\",6,\"\"],[\"f440\",\"\",5,\"\",10,\"\",10,\"\",7,\"\",5],[\"f480\",\"\",32,\"\"],[\"f540\",\"\",62],[\"f580\",\"\",32,\"\"],[\"f640\",\"\",62],[\"f680\",\"\",32,\"\",5,\"\",5,\"\",4,\"\",7,\"\"],[\"f740\",\"\",62],[\"f780\",\"\",4,\"\",4,\"\"],[\"f840\",\"\",62],[\"f880\",\"\",32],[\"f940\",\"\",62],[\"f980\",\"\",32],[\"fa40\",\"\",62],[\"fa80\",\"\",32],[\"fb40\",\"\",27,\"\",9,\"\"],[\"fb80\",\"\",5,\"\",8,\"\",5,\"\"],[\"fc40\",\"\",8,\"\",4,\"\",8,\"\",6],[\"fc80\",\"\",4,\"\",5,\"\",8,\"\"],[\"fd40\",\"\",4,\"\",4,\"\",10,\"\",38],[\"fd80\",\"\",5,\"\",11,\"\",4,\"\"],[\"fe40\",\"\"]]","[[\"a140\",\"\",62],[\"a180\",\"\",32],[\"a240\",\"\",62],[\"a280\",\"\",32],[\"a2ab\",\"\",5],[\"a2e3\",\"\"],[\"a2ef\",\"\"],[\"a2fd\",\"\"],[\"a340\",\"\",62],[\"a380\",\"\",31,\"\"],[\"a440\",\"\",62],[\"a480\",\"\",32],[\"a4f4\",\"\",10],[\"a540\",\"\",62],[\"a580\",\"\",32],[\"a5f7\",\"\",7],[\"a640\",\"\",62],[\"a680\",\"\",32],[\"a6b9\",\"\",7],[\"a6d9\",\"\",6],[\"a6ec\",\"\"],[\"a6f3\",\"\"],[\"a6f6\",\"\",8],[\"a740\",\"\",62],[\"a780\",\"\",32],[\"a7c2\",\"\",14],[\"a7f2\",\"\",12],[\"a896\",\"\",10],[\"a8bc\",\"\"],[\"a8bf\",\"\"],[\"a8c1\",\"\"],[\"a8ea\",\"\",20],[\"a958\",\"\"],[\"a95b\",\"\"],[\"a95d\",\"\"],[\"a989\",\"\",11],[\"a997\",\"\",12],[\"a9f0\",\"\",14],[\"aaa1\",\"\",93],[\"aba1\",\"\",93],[\"aca1\",\"\",93],[\"ada1\",\"\",93],[\"aea1\",\"\",93],[\"afa1\",\"\",93],[\"d7fa\",\"\",4],[\"f8a1\",\"\",93],[\"f9a1\",\"\",93],[\"faa1\",\"\",93],[\"fba1\",\"\",93],[\"fca1\",\"\",93],[\"fda1\",\"\",93],[\"fe50\",\"\"],[\"fe80\",\"\",6,\"\",93],[\"8135f437\",\"\"]]","{\"uChars\":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],\"gbChars\":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}","[[\"0\",\"\\u0000\",127],[\"8141\",\"\",4,\"\",6,\"\"],[\"8161\",\"\",9,\"\",5,\"\"],[\"8181\",\"\",18,\"\",4,\"\",6,\"\",5,\"\",6,\"\",7,\"\",7,\"\",4,\"\",4,\"\"],[\"8241\",\"\",7,\"\",5],[\"8261\",\"\",6,\"\",5,\"\"],[\"8281\",\"\",7,\"\",7,\"\",4,\"\",10,\"\",5,\"\",17,\"\",7,\"\",6,\"\",7,\"\",18],[\"8341\",\"\",5,\"\",5,\"\",7],[\"8361\",\"\",18,\"\"],[\"8381\",\"\",4,\"\",6,\"\",5,\"\",5,\"\",46,\"\",6,\"\",5,\"\",8],[\"8441\",\"\",5,\"\",8],[\"8461\",\"\",18],[\"8481\",\"\",7,\"\",6,\"\",5,\"\",10,\"\",5,\"\",18,\"\",5,\"\",6,\"\",5,\"\",26,\"\"],[\"8541\",\"\",5,\"\",4,\"\",6,\"\",4],[\"8561\",\"\",5,\"\",5,\"\",6,\"\"],[\"8581\",\"\",6,\"\",6,\"\",9,\"\",26,\"\",29,\"\",6,\"\",5,\"\"],[\"8641\",\"\",6,\"\",5,\"\"],[\"8661\",\"\",6,\"\",10],[\"8681\",\"\",22,\"\",4,\"\",6,\"\",5,\"\",6,\"\",22,\"\",4,\"\"],[\"8741\",\"\",9,\"\",15],[\"8761\",\"\",18,\"\"],[\"8781\",\"\",5,\"\",7,\"\",7,\"\",5,\"\",6,\"\",5,\"\",18,\"\",6,\"\",26,\"\",6,\"\",4],[\"8841\",\"\",4,\"\",5,\"\",6,\"\",4],[\"8861\",\"\",4,\"\"],[\"8881\",\"\",15,\"\",4,\"\",6,\"\",5,\"\",54,\"\"],[\"8941\",\"\",6,\"\",5,\"\"],[\"8961\",\"\",10,\"\",5,\"\"],[\"8981\",\"\",21,\"\",18,\"\",18,\"\",6,\"\",6,\"\",7,\"\",15],[\"8a41\",\"\",10,\"\",6,\"\"],[\"8a61\",\"\",4,\"\",18,\"\"],[\"8a81\",\"\",4,\"\",19,\"\",5,\"\",7,\"\",5,\"\",6,\"\",5,\"\",4,\"\",5,\"\",26,\"\"],[\"8b41\",\"\",5,\"\",4,\"\",6,\"\"],[\"8b61\",\"\",6,\"\",8],[\"8b81\",\"\",52,\"\",4,\"\",6,\"\",5,\"\",18,\"\",18],[\"8c41\",\"\",15,\"\",4],[\"8c61\",\"\",6,\"\",5,\"\",6,\"\",5],[\"8c81\",\"\",12,\"\",26,\"\",50,\"\",5,\"\",16],[\"8d41\",\"\",16,\"\",8],[\"8d61\",\"\",17,\"\"],[\"8d81\",\"\",4,\"\",33,\"\",6,\"\",7,\"\",6,\"\",9,\"\",6,\"\",5,\"\",6,\"\"],[\"8e41\",\"\",6,\"\",5,\"\",8],[\"8e61\",\"\",4,\"\",19],[\"8e81\",\"\",13,\"\",6,\"\",4,\"\",6,\"\",5,\"\",6,\"\",5,\"\",11,\"\",7,\"\",6,\"\",5,\"\",7],[\"8f41\",\"\",7,\"\",17],[\"8f61\",\"\",7,\"\",6,\"\",4],[\"8f81\",\"\",5,\"\",7,\"\",5,\"\",6,\"\",5,\"\",18,\"\",6,\"\",26,\"\",6,\"\",5],[\"9041\",\"\",6,\"\",5,\"\"],[\"9061\",\"\",5,\"\",15],[\"9081\",\"\",12,\"\",6,\"\",5,\"\",4,\"\",6,\"\",4,\"\",5,\"\",11,\"\",33,\"\"],[\"9141\",\"\",6,\"\",5],[\"9161\",\"\",9,\"\",5],[\"9181\",\"\",20,\"\",4,\"\",5,\"\",14,\"\",33,\"\",7,\"\",5,\"\",6],[\"9241\",\"\",7,\"\",4,\"\"],[\"9261\",\"\",7,\"\",7,\"\",4],[\"9281\",\"\",21,\"\",18,\"\",6,\"\",7,\"\",6,\"\",35,\"\"],[\"9341\",\"\",4,\"\"],[\"9361\",\"\",6,\"\",8],[\"9381\",\"\",37,\"\",4,\"\",4,\"\",6,\"\",5,\"\",7,\"\",22,\"\"],[\"9441\",\"\",5,\"\",5,\"\",8],[\"9461\",\"\",5,\"\",6,\"\",12],[\"9481\",\"\",5,\"\",6,\"\",6,\"\",9,\"\",22,\"\",4,\"\",6,\"\",10,\"\",6,\"\",24],[\"9541\",\"\",11,\"\",5,\"\"],[\"9561\",\"\",6,\"\",5,\"\"],[\"9581\",\"\",6,\"\",35,\"\",4,\"\",4,\"\",4,\"\",6,\"\",5,\"\",13,\"\",14],[\"9641\",\"\",23,\"\"],[\"9661\",\"\",6,\"\",5,\"\",8],[\"9681\",\"\",10,\"\",5,\"\",13,\"\",33,\"\",6,\"\",44],[\"9741\",\"\",16,\"\",8],[\"9761\",\"\",17,\"\",7],[\"9781\",\"\",11,\"\",5,\"\",6,\"\",89,\"\"],[\"9841\",\"\",16,\"\",5,\"\"],[\"9861\",\"\",6,\"\",15],[\"9881\",\"\",21,\"\",6,\"\",5,\"\",4,\"\",6,\"\",5,\"\",6,\"\",5,\"\",6,\"\",5,\"\"],[\"9941\",\"\",6,\"\",5,\"\"],[\"9961\",\"\",6,\"\",5,\"\"],[\"9981\",\"\",8,\"\",5,\"\",4,\"\",11,\"\",5,\"\",6,\"\",6,\"\",6,\"\",7,\"\",6,\"\",5,\"\"],[\"9a41\",\"\",16],[\"9a61\",\"\",6,\"\",6,\"\"],[\"9a81\",\"\",4,\"\",6,\"\",5,\"\",5,\"\",6,\"\",5,\"\",5,\"\",33,\"\",5,\"\",6,\"\"],[\"9b41\",\"\",6,\"\",8],[\"9b61\",\"\",17,\"\",7],[\"9b81\",\"\",25,\"\",4,\"\",5,\"\",50,\"\",22,\"\"],[\"9c41\",\"\",4,\"\",5,\"\",5],[\"9c61\",\"\",8,\"\",6,\"\",9],[\"9c81\",\"\",8,\"\",6,\"\",6,\"\",9,\"\",26,\"\",6,\"\",5,\"\",18,\"\",6,\"\",12],[\"9d41\",\"\",13,\"\",8],[\"9d61\",\"\",25],[\"9d81\",\"\",8,\"\",5,\"\",9,\"\",6,\"\",10,\"\",6,\"\",5,\"\",6,\"\",5,\"\"],[\"9e41\",\"\",7,\"\",9,\"\"],[\"9e61\",\"\",4,\"\",6,\"\"],[\"9e81\",\"\",6,\"\",6,\"\",6,\"\",5,\"\",10,\"\",5,\"\",6,\"\",5,\"\",6,\"\"],[\"9f41\",\"\",5,\"\",4,\"\",5,\"\"],[\"9f61\",\"\",6,\"\",5,\"\"],[\"9f81\",\"\",4,\"\",5,\"\",6,\"\",5,\"\",6,\"\",4,\"\",6,\"\",7,\"\",4,\"\",4,\"\"],[\"a041\",\"\",5,\"\",6,\"\"],[\"a061\",\"\",5,\"\",13],[\"a081\",\"\",4,\"\",4,\"\",4,\"\",6,\"\",5,\"\",6,\"\",5,\"\",26,\"\",4,\"\",5,\"\",7,\"\"],[\"a141\",\"\",18,\"\"],[\"a161\",\"\",6,\"\",5,\"\"],[\"a181\",\"\",14,\"\",5,\"\",4,\"\",9,\"\"],[\"a241\",\"\",5,\"\",18],[\"a261\",\"\",6,\"\",18],[\"a281\",\"\",7,\"\",6,\"\",7,\"\"],[\"a341\",\"\",6,\"\",10,\"\"],[\"a361\",\"\",6,\"\",16],[\"a381\",\"\",16,\"\",4,\"\",58,\"\",32,\"\"],[\"a441\",\"\",5,\"\"],[\"a461\",\"\",5,\"\",12],[\"a481\",\"\",28,\"\",93],[\"a541\",\"\",4,\"\",6,\"\",5,\"\"],[\"a561\",\"\",17,\"\",5,\"\"],[\"a581\",\"\",16,\"\",14,\"\",9],[\"a5b0\",\"\",9],[\"a5c1\",\"\",16,\"\",6],[\"a5e1\",\"\",16,\"\",6],[\"a641\",\"\",19,\"\"],[\"a661\",\"\",5,\"\",5,\"\",6],[\"a681\",\"\",6,\"\",18,\"\",7],[\"a741\",\"\",4,\"\",6,\"\",7],[\"a761\",\"\",22,\"\"],[\"a781\",\"\",6,\"\",5,\"\",7,\"\",9,\"\",9,\"\",4,\"\",5,\"\",4,\"\"],[\"a841\",\"\",10,\"\",14],[\"a861\",\"\",18,\"\",6],[\"a881\",\"\",19,\"\",11,\"\"],[\"a8a6\",\"\"],[\"a8a8\",\"\"],[\"a8b1\",\"\",27,\"\",25,\"\",14,\"\"],[\"a941\",\"\",14,\"\",10],[\"a961\",\"\",18],[\"a981\",\"\",14,\"\",6,\"\",27,\"\",25,\"\",14,\"\"],[\"aa41\",\"\",6,\"\",4,\"\"],[\"aa61\",\"\",4,\"\",5,\"\",6,\"\"],[\"aa81\",\"\",29,\"\",82],[\"ab41\",\"\",6,\"\",5,\"\"],[\"ab61\",\"\",6,\"\",5,\"\",5],[\"ab81\",\"\",8,\"\",6,\"\",12,\"\",85],[\"ac41\",\"\",5,\"\",6,\"\"],[\"ac61\",\"\",11,\"\",4],[\"ac81\",\"\",28,\"\",5,\"\",25],[\"acd1\",\"\",5,\"\",25],[\"ad41\",\"\",6,\"\",5,\"\",7],[\"ad61\",\"\",6,\"\",10,\"\"],[\"ad81\",\"\",5,\"\",18,\"\"],[\"ae41\",\"\",5,\"\",16],[\"ae61\",\"\",5,\"\",6,\"\",4],[\"ae81\",\"\",6,\"\",5,\"\"],[\"af41\",\"\",19],[\"af61\",\"\",13,\"\",5,\"\"],[\"af81\",\"\",5,\"\",6,\"\",5,\"\"],[\"b041\",\"\",5,\"\",5,\"\",12],[\"b061\",\"\",5,\"\",19],[\"b081\",\"\",13,\"\",6,\"\",5,\"\",7,\"\",4,\"\"],[\"b141\",\"\",6,\"\",5,\"\"],[\"b161\",\"\",6,\"\",5,\"\",11],[\"b181\",\"\",14,\"\",6,\"\"],[\"b241\",\"\",6,\"\",5,\"\"],[\"b261\",\"\",18,\"\",5,\"\"],[\"b281\",\"\",5,\"\",18,\"\",6,\"\"],[\"b341\",\"\",19,\"\"],[\"b361\",\"\",5,\"\",5,\"\",5],[\"b381\",\"\",5,\"\",5,\"\",19,\"\",4,\"\"],[\"b441\",\"\",5,\"\",6,\"\",5],[\"b461\",\"\",6,\"\",10,\"\"],[\"b481\",\"\",6,\"\",18,\"\",4,\"\",4,\"\"],[\"b541\",\"\",14,\"\",5],[\"b561\",\"\",5,\"\",5,\"\",4],[\"b581\",\"\",6,\"\",5,\"\",11,\"\"],[\"b641\",\"\",7,\"\",17],[\"b661\",\"\",15,\"\"],[\"b681\",\"\",5,\"\",6,\"\",5,\"\"],[\"b741\",\"\",13,\"\",6,\"\"],[\"b761\",\"\",20,\"\"],[\"b781\",\"\",6,\"\",14,\"\"],[\"b841\",\"\",7,\"\",17],[\"b861\",\"\",8,\"\",13],[\"b881\",\"\",5,\"\",24,\"\",4,\"\"],[\"b941\",\"\",6,\"\",5,\"\"],[\"b961\",\"\",14,\"\",6,\"\"],[\"b981\",\"\",22,\"\",4,\"\",4,\"\"],[\"ba41\",\"\",5,\"\",6,\"\"],[\"ba61\",\"\",5,\"\",4,\"\",5],[\"ba81\",\"\",6,\"\",9,\"\"],[\"bb41\",\"\",4,\"\",5,\"\",4,\"\"],[\"bb61\",\"\",6,\"\",5,\"\"],[\"bb81\",\"\",31,\"\"],[\"bc41\",\"\",17,\"\"],[\"bc61\",\"\",5,\"\",6,\"\"],[\"bc81\",\"\",4,\"\",6,\"\",5,\"\",5,\"\",4,\"\"],[\"bd41\",\"\",7,\"\",7,\"\"],[\"bd61\",\"\",5,\"\",13],[\"bd81\",\"\",5,\"\",25,\"\"],[\"be41\",\"\",7,\"\",14],[\"be61\",\"\",7,\"\",7,\"\"],[\"be81\",\"\",4,\"\",4,\"\",5,\"\",8,\"\",6,\"\"],[\"bf41\",\"\",10,\"\",14],[\"bf61\",\"\",18,\"\"],[\"bf81\",\"\",5,\"\",7,\"\",6,\"\",5,\"\"],[\"c041\",\"\",5,\"\",6,\"\",5],[\"c061\",\"\",25],[\"c081\",\"\",6,\"\",5,\"\",7,\"\"],[\"c141\",\"\",5,\"\",6,\"\"],[\"c161\",\"\",19,\"\"],[\"c181\",\"\",31,\"\"],[\"c241\",\"\",4,\"\",5,\"\"],[\"c261\",\"\",4,\"\",5,\"\",6,\"\"],[\"c281\",\"\",5,\"\",7,\"\",9,\"\"],[\"c341\",\"\",4],[\"c361\",\"\",4,\"\",5,\"\",11],[\"c381\",\"\",5,\"\",7,\"\",5,\"\"],[\"c441\",\"\",7,\"\",7,\"\"],[\"c461\",\"\",5,\"\",4],[\"c481\",\"\",5,\"\",11,\"\"],[\"c541\",\"\",6,\"\",5,\"\"],[\"c561\",\"\",6,\"\",5,\"\",4],[\"c581\",\"\",6,\"\",5,\"\"],[\"c641\",\"\",6,\"\",5],[\"c6a1\",\"\"],[\"c7a1\",\"\"],[\"c8a1\",\"\"],[\"caa1\",\"\"],[\"cba1\",\"\"],[\"cca1\",\"\"],[\"cda1\",\"\"],[\"cea1\",\"\"],[\"cfa1\",\"\"],[\"d0a1\",\"\"],[\"d1a1\",\"\",5,\"\",4,\"\"],[\"d2a1\",\"\",4,\"\",5,\"\",10,\"\",7,\"\",5,\"\"],[\"d3a1\",\"\"],[\"d4a1\",\"\"],[\"d5a1\",\"\"],[\"d6a1\",\"\"],[\"d7a1\",\"\"],[\"d8a1\",\"\"],[\"d9a1\",\"\"],[\"daa1\",\"\"],[\"dba1\",\"\"],[\"dca1\",\"\"],[\"dda1\",\"\"],[\"dea1\",\"\"],[\"dfa1\",\"\"],[\"e0a1\",\"\"],[\"e1a1\",\"\"],[\"e2a1\",\"\"],[\"e3a1\",\"\"],[\"e4a1\",\"\"],[\"e5a1\",\"\"],[\"e6a1\",\"\"],[\"e7a1\",\"\"],[\"e8a1\",\"\"],[\"e9a1\",\"\"],[\"eaa1\",\"\"],[\"eba1\",\"\"],[\"eca1\",\"\"],[\"eda1\",\"\"],[\"eea1\",\"\"],[\"efa1\",\"\"],[\"f0a1\",\"\"],[\"f1a1\",\"\"],[\"f2a1\",\"\"],[\"f3a1\",\"\"],[\"f4a1\",\"\"],[\"f5a1\",\"\"],[\"f6a1\",\"\"],[\"f7a1\",\"\"],[\"f8a1\",\"\"],[\"f9a1\",\"\"],[\"faa1\",\"\"],[\"fba1\",\"\"],[\"fca1\",\"\"],[\"fda1\",\"\"]]","[[\"0\",\"\\u0000\",127],[\"a140\",\"\"],[\"a1a1\",\"\",4,\"\"],[\"a240\",\"\",7,\"\"],[\"a2a1\",\"\",9,\"\",9,\"\",8,\"\",25,\"\",21],[\"a340\",\"\",16,\"\",6,\"\",16,\"\",6,\"\",10],[\"a3a1\",\"\",25,\"\"],[\"a3e1\",\"\"],[\"a440\",\"\"],[\"a4a1\",\"\"],[\"a540\",\"\"],[\"a5a1\",\"\"],[\"a640\",\"\"],[\"a6a1\",\"\"],[\"a740\",\"\"],[\"a7a1\",\"\"],[\"a840\",\"\"],[\"a8a1\",\"\"],[\"a940\",\"\"],[\"a9a1\",\"\"],[\"aa40\",\"\"],[\"aaa1\",\"\"],[\"ab40\",\"\"],[\"aba1\",\"\"],[\"ac40\",\"\"],[\"aca1\",\"\"],[\"ad40\",\"\"],[\"ada1\",\"\"],[\"ae40\",\"\"],[\"aea1\",\"\"],[\"af40\",\"\"],[\"afa1\",\"\"],[\"b040\",\"\"],[\"b0a1\",\"\"],[\"b140\",\"\"],[\"b1a1\",\"\"],[\"b240\",\"\"],[\"b2a1\",\"\"],[\"b340\",\"\"],[\"b3a1\",\"\"],[\"b440\",\"\"],[\"b4a1\",\"\"],[\"b540\",\"\"],[\"b5a1\",\"\"],[\"b640\",\"\"],[\"b6a1\",\"\"],[\"b740\",\"\"],[\"b7a1\",\"\"],[\"b840\",\"\"],[\"b8a1\",\"\"],[\"b940\",\"\"],[\"b9a1\",\"\"],[\"ba40\",\"\"],[\"baa1\",\"\"],[\"bb40\",\"\"],[\"bba1\",\"\"],[\"bc40\",\"\"],[\"bca1\",\"\"],[\"bd40\",\"\"],[\"bda1\",\"\"],[\"be40\",\"\"],[\"bea1\",\"\"],[\"bf40\",\"\"],[\"bfa1\",\"\"],[\"c040\",\"\"],[\"c0a1\",\"\"],[\"c140\",\"\"],[\"c1a1\",\"\"],[\"c240\",\"\"],[\"c2a1\",\"\"],[\"c340\",\"\"],[\"c3a1\",\"\"],[\"c440\",\"\"],[\"c4a1\",\"\"],[\"c540\",\"\"],[\"c5a1\",\"\"],[\"c640\",\"\"],[\"c940\",\"\"],[\"c9a1\",\"\"],[\"ca40\",\"\"],[\"caa1\",\"\"],[\"cb40\",\"\"],[\"cba1\",\"\"],[\"cc40\",\"\"],[\"cca1\",\"\"],[\"cd40\",\"\"],[\"cda1\",\"\"],[\"ce40\",\"\"],[\"cea1\",\"\"],[\"cf40\",\"\"],[\"cfa1\",\"\"],[\"d040\",\"\"],[\"d0a1\",\"\"],[\"d140\",\"\"],[\"d1a1\",\"\"],[\"d240\",\"\"],[\"d2a1\",\"\"],[\"d340\",\"\"],[\"d3a1\",\"\"],[\"d440\",\"\"],[\"d4a1\",\"\"],[\"d540\",\"\"],[\"d5a1\",\"\"],[\"d640\",\"\"],[\"d6a1\",\"\"],[\"d740\",\"\"],[\"d7a1\",\"\"],[\"d840\",\"\"],[\"d8a1\",\"\"],[\"d940\",\"\"],[\"d9a1\",\"\"],[\"da40\",\"\"],[\"daa1\",\"\"],[\"db40\",\"\"],[\"dba1\",\"\"],[\"dc40\",\"\"],[\"dca1\",\"\"],[\"dd40\",\"\"],[\"dda1\",\"\"],[\"de40\",\"\"],[\"dea1\",\"\"],[\"df40\",\"\"],[\"dfa1\",\"\"],[\"e040\",\"\"],[\"e0a1\",\"\"],[\"e140\",\"\"],[\"e1a1\",\"\"],[\"e240\",\"\"],[\"e2a1\",\"\"],[\"e340\",\"\"],[\"e3a1\",\"\"],[\"e440\",\"\"],[\"e4a1\",\"\"],[\"e540\",\"\"],[\"e5a1\",\"\"],[\"e640\",\"\"],[\"e6a1\",\"\"],[\"e740\",\"\"],[\"e7a1\",\"\"],[\"e840\",\"\"],[\"e8a1\",\"\"],[\"e940\",\"\"],[\"e9a1\",\"\"],[\"ea40\",\"\"],[\"eaa1\",\"\"],[\"eb40\",\"\"],[\"eba1\",\"\"],[\"ec40\",\"\"],[\"eca1\",\"\"],[\"ed40\",\"\"],[\"eda1\",\"\"],[\"ee40\",\"\"],[\"eea1\",\"\"],[\"ef40\",\"\"],[\"efa1\",\"\"],[\"f040\",\"\"],[\"f0a1\",\"\"],[\"f140\",\"\"],[\"f1a1\",\"\"],[\"f240\",\"\"],[\"f2a1\",\"\"],[\"f340\",\"\"],[\"f3a1\",\"\"],[\"f440\",\"\"],[\"f4a1\",\"\"],[\"f540\",\"\"],[\"f5a1\",\"\"],[\"f640\",\"\"],[\"f6a1\",\"\"],[\"f740\",\"\"],[\"f7a1\",\"\"],[\"f840\",\"\"],[\"f8a1\",\"\"],[\"f940\",\"\"],[\"f9a1\",\"\"]]","[[\"8740\",\"\"],[\"8767\",\"\"],[\"87a1\",\"\"],[\"8840\",\"\",4,\"\"],[\"88a1\",\"\"],[\"8940\",\"\"],[\"8943\",\"\"],[\"8946\",\"\"],[\"894c\",\"\"],[\"89a1\",\"\"],[\"89ab\",\"\"],[\"89b0\",\"\"],[\"89b5\",\"\"],[\"89c1\",\"\"],[\"89c5\",\"\"],[\"8a40\",\"\"],[\"8a43\",\"\"],[\"8a64\",\"\"],[\"8a76\",\"\"],[\"8aa1\",\"\"],[\"8aac\",\"\"],[\"8ab2\",\"\"],[\"8abb\",\"\"],[\"8ac9\",\"\"],[\"8ace\",\"\"],[\"8adf\",\"\"],[\"8af6\",\"\"],[\"8b40\",\"\"],[\"8b55\",\"\"],[\"8ba1\",\"\"],[\"8bde\",\"\"],[\"8c40\",\"\"],[\"8ca1\",\"\"],[\"8ca7\",\"\"],[\"8cc9\",\"\"],[\"8cce\",\"\"],[\"8ce6\",\"\"],[\"8d40\",\"\"],[\"8d42\",\"\"],[\"8da1\",\"\"],[\"8e40\",\"\"],[\"8ea1\",\"\"],[\"8f40\",\"\"],[\"8fa1\",\"\"],[\"9040\",\"\"],[\"90a1\",\"\"],[\"9140\",\"\"],[\"91a1\",\"\"],[\"9240\",\"\"],[\"92a1\",\"\"],[\"9340\",\"\"],[\"93a1\",\"\"],[\"9440\",\"\"],[\"94a1\",\"\"],[\"9540\",\"\"],[\"95a1\",\"\"],[\"9640\",\"\"],[\"96a1\",\"\"],[\"9740\",\"\"],[\"97a1\",\"\"],[\"9840\",\"\"],[\"98a1\",\"\"],[\"9940\",\"\"],[\"99a1\",\"\"],[\"9a40\",\"\"],[\"9aa1\",\"\"],[\"9b40\",\"\"],[\"9b62\",\"\"],[\"9ba1\",\"\"],[\"9c40\",\"\"],[\"9ca1\",\"\"],[\"9d40\",\"\"],[\"9da1\",\"\"],[\"9e40\",\"\"],[\"9ea1\",\"\"],[\"9ead\",\"\"],[\"9ec5\",\"\"],[\"9ef5\",\"\"],[\"9f40\",\"\"],[\"9f4f\",\"\"],[\"9fa1\",\"\"],[\"9fae\",\"\"],[\"9fb2\",\"\"],[\"9fc1\",\"\"],[\"9fc9\",\"\"],[\"9fdb\",\"\"],[\"9fe7\",\"\"],[\"9feb\",\"\"],[\"9ff0\",\"\"],[\"a040\",\"\"],[\"a055\",\"\"],[\"a058\",\"\"],[\"a05b\",\"\"],[\"a063\",\"\"],[\"a073\",\"\"],[\"a0a1\",\"\"],[\"a0a6\",\"\"],[\"a0ae\",\"\"],[\"a0b0\",\"\"],[\"a0d4\",\"\"],[\"a0e2\",\"\"],[\"a3c0\",\"\",31,\"\"],[\"c6a1\",\"\",9,\"\",9,\"\",9,\"\",23],[\"c740\",\"\",58,\"\"],[\"c7a1\",\"\",81,\"\",5,\"\",4],[\"c840\",\"\",26,\"\",25,\"\"],[\"c8a1\",\"\"],[\"c8cd\",\"\"],[\"c8f5\",\"\"],[\"f9fe\",\"\"],[\"fa40\",\"\"],[\"faa1\",\"\"],[\"fb40\",\"\"],[\"fba1\",\"\"],[\"fc40\",\"\"],[\"fca1\",\"\"],[\"fd40\",\"\"],[\"fda1\",\"\"],[\"fe40\",\"\"],[\"fea1\",\"\"]]","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [\n            // Although Encoding Standard says we should avoid encoding to HKSCS area (See Step 1 of\n            // https://encoding.spec.whatwg.org/#index-big5-pointer), we still do it to increase compatibility with ICU.\n            // But if a single unicode point can be encoded both as HKSCS and regular Big5, we prefer the latter.\n            0x8e69, 0x8e6f, 0x8e7e, 0x8eab, 0x8eb4, 0x8ecd, 0x8ed0, 0x8f57, 0x8f69, 0x8f6e, 0x8fcb, 0x8ffe,\n            0x906d, 0x907a, 0x90c4, 0x90dc, 0x90f1, 0x91bf, 0x92af, 0x92b0, 0x92b1, 0x92b2, 0x92d1, 0x9447, 0x94ca,\n            0x95d9, 0x96fc, 0x9975, 0x9b76, 0x9b78, 0x9b7b, 0x9bc6, 0x9bde, 0x9bec, 0x9bf6, 0x9c42, 0x9c53, 0x9c62,\n            0x9c68, 0x9c6b, 0x9c77, 0x9cbc, 0x9cbd, 0x9cd0, 0x9d57, 0x9d5a, 0x9dc4, 0x9def, 0x9dfb, 0x9ea9, 0x9eef,\n            0x9efd, 0x9f60, 0x9fcb, 0xa077, 0xa0dc, 0xa0df, 0x8fcc, 0x92c8, 0x9644, 0x96ed,\n\n            // Step 2 of https://encoding.spec.whatwg.org/#index-big5-pointer: Use last pointer for U+2550, U+255E, U+2561, U+256A, U+5341, or U+5345\n            0xa2a4, 0xa2a5, 0xa2a7, 0xa2a6, 0xa2cc, 0xa2ce,\n        ],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf32\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it.\nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments), \n// we opt to dependency-inject it instead of creating a hard dependency.\nmodule.exports = function(stream_module) {\n    var Transform = stream_module.Transform;\n\n    // == Encoder stream =======================================================\n\n    function IconvLiteEncoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n        Transform.call(this, options);\n    }\n\n    IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteEncoderStream }\n    });\n\n    IconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (typeof chunk != 'string')\n            return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype.collect = function(cb) {\n        var chunks = [];\n        this.on('error', cb);\n        this.on('data', function(chunk) { chunks.push(chunk); });\n        this.on('end', function() {\n            cb(null, Buffer.concat(chunks));\n        });\n        return this;\n    }\n\n\n    // == Decoder stream =======================================================\n\n    function IconvLiteDecoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.encoding = this.encoding = 'utf8'; // We output strings.\n        Transform.call(this, options);\n    }\n\n    IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteDecoderStream }\n    });\n\n    IconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array))\n            return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res, this.encoding);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res, this.encoding);                \n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype.collect = function(cb) {\n        var res = '';\n        this.on('error', cb);\n        this.on('data', function(chunk) { res += chunk; });\n        this.on('end', function() {\n            cb(null, res);\n        });\n        return this;\n    }\n\n    return {\n        IconvLiteEncoderStream: IconvLiteEncoderStream,\n        IconvLiteDecoderStream: IconvLiteDecoderStream,\n    };\n};\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n// Streaming API\n// NOTE: Streaming API naturally depends on 'stream' module from Node.js. Unfortunately in browser environments this module can add\n// up to 100Kb to the output bundle. To avoid unnecessary code bloat, we don't enable Streaming API in browser by default.\n// If you would like to enable it explicitly, please add the following code to your app:\n// > iconv.enableStreamingAPI(require('stream'));\niconv.enableStreamingAPI = function enableStreamingAPI(stream_module) {\n    if (iconv.supportsStreams)\n        return;\n\n    // Dependency-inject stream module to create IconvLite stream classes.\n    var streams = require(\"./streams\")(stream_module);\n\n    // Not public API yet, but expose the stream classes.\n    iconv.IconvLiteEncoderStream = streams.IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = streams.IconvLiteDecoderStream;\n\n    // Streaming API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new iconv.IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new iconv.IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n}\n\n// Enable Streaming API automatically if 'stream' module is available and non-empty (the majority of environments).\nvar stream_module;\ntry {\n    stream_module = require(\"stream\");\n} catch (e) {}\n\nif (stream_module && stream_module.Transform) {\n    iconv.enableStreamingAPI(stream_module);\n\n} else {\n    // In rare cases where 'stream' module is not available by default, throw a helpful exception.\n    iconv.encodeStream = iconv.decodeStream = function() {\n        throw new Error(\"iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.\");\n    };\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: js files use non-utf8 encoding. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","/*!\n * unpipe\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = unpipe\n\n/**\n * Determine if there are Node.js pipe-like data listeners.\n * @private\n */\n\nfunction hasPipeDataListeners(stream) {\n  var listeners = stream.listeners('data')\n\n  for (var i = 0; i < listeners.length; i++) {\n    if (listeners[i].name === 'ondata') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Unpipe a stream from all destinations.\n *\n * @param {object} stream\n * @public\n */\n\nfunction unpipe(stream) {\n  if (!stream) {\n    throw new TypeError('argument stream is required')\n  }\n\n  if (typeof stream.unpipe === 'function') {\n    // new-style\n    stream.unpipe()\n    return\n  }\n\n  // Node.js 0.8 hack\n  if (!hasPipeDataListeners(stream)) {\n    return\n  }\n\n  var listener\n  var listeners = stream.listeners('close')\n\n  for (var i = 0; i < listeners.length; i++) {\n    listener = listeners[i]\n\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\n      continue\n    }\n\n    // invoke the listener\n    listener.call(stream)\n  }\n}\n","/*!\n * raw-body\n * Copyright(c) 2013-2014 Jonathan Ong\n * Copyright(c) 2014-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar asyncHooks = tryRequireAsyncHooks()\nvar bytes = require('bytes')\nvar createError = require('http-errors')\nvar iconv = require('iconv-lite')\nvar unpipe = require('unpipe')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getRawBody\n\n/**\n * Module variables.\n * @private\n */\n\nvar ICONV_ENCODING_MESSAGE_REGEXP = /^Encoding not recognized: /\n\n/**\n * Get the decoder for a given encoding.\n *\n * @param {string} encoding\n * @private\n */\n\nfunction getDecoder (encoding) {\n  if (!encoding) return null\n\n  try {\n    return iconv.getDecoder(encoding)\n  } catch (e) {\n    // error getting decoder\n    if (!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message)) throw e\n\n    // the encoding was not found\n    throw createError(415, 'specified encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n}\n\n/**\n * Get the raw body of a stream (typically HTTP).\n *\n * @param {object} stream\n * @param {object|string|function} [options]\n * @param {function} [callback]\n * @public\n */\n\nfunction getRawBody (stream, options, callback) {\n  var done = callback\n  var opts = options || {}\n\n  // light validation\n  if (stream === undefined) {\n    throw new TypeError('argument stream is required')\n  } else if (typeof stream !== 'object' || stream === null || typeof stream.on !== 'function') {\n    throw new TypeError('argument stream must be a stream')\n  }\n\n  if (options === true || typeof options === 'string') {\n    // short cut for encoding\n    opts = {\n      encoding: options\n    }\n  }\n\n  if (typeof options === 'function') {\n    done = options\n    opts = {}\n  }\n\n  // validate callback is a function, if provided\n  if (done !== undefined && typeof done !== 'function') {\n    throw new TypeError('argument callback must be a function')\n  }\n\n  // require the callback without promises\n  if (!done && !global.Promise) {\n    throw new TypeError('argument callback is required')\n  }\n\n  // get encoding\n  var encoding = opts.encoding !== true\n    ? opts.encoding\n    : 'utf-8'\n\n  // convert the limit to an integer\n  var limit = bytes.parse(opts.limit)\n\n  // convert the expected length to an integer\n  var length = opts.length != null && !isNaN(opts.length)\n    ? parseInt(opts.length, 10)\n    : null\n\n  if (done) {\n    // classic callback style\n    return readStream(stream, encoding, length, limit, wrap(done))\n  }\n\n  return new Promise(function executor (resolve, reject) {\n    readStream(stream, encoding, length, limit, function onRead (err, buf) {\n      if (err) return reject(err)\n      resolve(buf)\n    })\n  })\n}\n\n/**\n * Halt a stream.\n *\n * @param {Object} stream\n * @private\n */\n\nfunction halt (stream) {\n  // unpipe everything from the stream\n  unpipe(stream)\n\n  // pause stream\n  if (typeof stream.pause === 'function') {\n    stream.pause()\n  }\n}\n\n/**\n * Read the data from the stream.\n *\n * @param {object} stream\n * @param {string} encoding\n * @param {number} length\n * @param {number} limit\n * @param {function} callback\n * @public\n */\n\nfunction readStream (stream, encoding, length, limit, callback) {\n  var complete = false\n  var sync = true\n\n  // check the length and limit options.\n  // note: we intentionally leave the stream paused,\n  // so users should handle the stream themselves.\n  if (limit !== null && length !== null && length > limit) {\n    return done(createError(413, 'request entity too large', {\n      expected: length,\n      length: length,\n      limit: limit,\n      type: 'entity.too.large'\n    }))\n  }\n\n  // streams1: assert request encoding is buffer.\n  // streams2+: assert the stream encoding is buffer.\n  //   stream._decoder: streams1\n  //   state.encoding: streams2\n  //   state.decoder: streams2, specifically < 0.10.6\n  var state = stream._readableState\n  if (stream._decoder || (state && (state.encoding || state.decoder))) {\n    // developer error\n    return done(createError(500, 'stream encoding should not be set', {\n      type: 'stream.encoding.set'\n    }))\n  }\n\n  if (typeof stream.readable !== 'undefined' && !stream.readable) {\n    return done(createError(500, 'stream is not readable', {\n      type: 'stream.not.readable'\n    }))\n  }\n\n  var received = 0\n  var decoder\n\n  try {\n    decoder = getDecoder(encoding)\n  } catch (err) {\n    return done(err)\n  }\n\n  var buffer = decoder\n    ? ''\n    : []\n\n  // attach listeners\n  stream.on('aborted', onAborted)\n  stream.on('close', cleanup)\n  stream.on('data', onData)\n  stream.on('end', onEnd)\n  stream.on('error', onEnd)\n\n  // mark sync section complete\n  sync = false\n\n  function done () {\n    var args = new Array(arguments.length)\n\n    // copy arguments\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    // mark complete\n    complete = true\n\n    if (sync) {\n      process.nextTick(invokeCallback)\n    } else {\n      invokeCallback()\n    }\n\n    function invokeCallback () {\n      cleanup()\n\n      if (args[0]) {\n        // halt the stream on error\n        halt(stream)\n      }\n\n      callback.apply(null, args)\n    }\n  }\n\n  function onAborted () {\n    if (complete) return\n\n    done(createError(400, 'request aborted', {\n      code: 'ECONNABORTED',\n      expected: length,\n      length: length,\n      received: received,\n      type: 'request.aborted'\n    }))\n  }\n\n  function onData (chunk) {\n    if (complete) return\n\n    received += chunk.length\n\n    if (limit !== null && received > limit) {\n      done(createError(413, 'request entity too large', {\n        limit: limit,\n        received: received,\n        type: 'entity.too.large'\n      }))\n    } else if (decoder) {\n      buffer += decoder.write(chunk)\n    } else {\n      buffer.push(chunk)\n    }\n  }\n\n  function onEnd (err) {\n    if (complete) return\n    if (err) return done(err)\n\n    if (length !== null && received !== length) {\n      done(createError(400, 'request size did not match content length', {\n        expected: length,\n        length: length,\n        received: received,\n        type: 'request.size.invalid'\n      }))\n    } else {\n      var string = decoder\n        ? buffer + (decoder.end() || '')\n        : Buffer.concat(buffer)\n      done(null, string)\n    }\n  }\n\n  function cleanup () {\n    buffer = null\n\n    stream.removeListener('aborted', onAborted)\n    stream.removeListener('data', onData)\n    stream.removeListener('end', onEnd)\n    stream.removeListener('error', onEnd)\n    stream.removeListener('close', cleanup)\n  }\n}\n\n/**\n * Try to require async_hooks\n * @private\n */\n\nfunction tryRequireAsyncHooks () {\n  try {\n    return require('async_hooks')\n  } catch (e) {\n    return {}\n  }\n}\n\n/**\n * Wrap function with async resource, if possible.\n * AsyncResource.bind static method backported.\n * @private\n */\n\nfunction wrap (fn) {\n  var res\n\n  // create anonymous resource\n  if (asyncHooks.AsyncResource) {\n    res = new asyncHooks.AsyncResource(fn.name || 'bound-anonymous-fn')\n  }\n\n  // incompatible node.js\n  if (!res || !res.runInAsyncScope) {\n    return fn\n  }\n\n  // return bound function\n  return res.runInAsyncScope.bind(res, fn, null)\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/ // eslint-disable-line no-control-regex\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.slice(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value.charCodeAt(0) === 0x22 /* \" */) {\n        // remove quotes\n        value = value.slice(1, -1)\n\n        // remove escapes\n        if (value.indexOf('\\\\') !== -1) {\n          value = value.replace(QESC_REGEXP, '$1')\n        }\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, value) {\n    return ['APPEND', key, value];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, range) {\n    const args = ['BITCOUNT', key];\n    if (range) {\n        args.push(range.start.toString(), range.end.toString());\n        if (range.mode) {\n            args.push(range.mode);\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, operations) {\n    const args = ['BITFIELD_RO', key];\n    for (const operation of operations) {\n        args.push('GET', operation.encoding, operation.offset.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, operations) {\n    const args = ['BITFIELD', key];\n    for (const options of operations) {\n        switch (options.operation) {\n            case 'GET':\n                args.push('GET', options.encoding, options.offset.toString());\n                break;\n            case 'SET':\n                args.push('SET', options.encoding, options.offset.toString(), options.value.toString());\n                break;\n            case 'INCRBY':\n                args.push('INCRBY', options.encoding, options.offset.toString(), options.increment.toString());\n                break;\n            case 'OVERFLOW':\n                args.push('OVERFLOW', options.behavior);\n                break;\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformRangeReply = exports.pushSlotRangesArguments = exports.pushSortArguments = exports.transformFunctionListItemReply = exports.RedisFunctionFlags = exports.transformCommandReply = exports.CommandCategories = exports.CommandFlags = exports.pushOptionalVerdictArgument = exports.pushVerdictArgument = exports.pushVerdictNumberArguments = exports.pushVerdictArguments = exports.pushEvalArguments = exports.evalFirstKeyIndex = exports.transformPXAT = exports.transformEXAT = exports.transformGeoMembersWithReply = exports.GeoReplyWith = exports.pushGeoRadiusStoreArguments = exports.pushGeoRadiusArguments = exports.pushGeoSearchArguments = exports.pushGeoCountArgument = exports.transformLMPopArguments = exports.transformZMPopArguments = exports.transformSortedSetWithScoresReply = exports.transformSortedSetMemberReply = exports.transformSortedSetMemberNullReply = exports.transformStreamsMessagesReply = exports.transformStreamMessagesNullReply = exports.transformStreamMessagesReply = exports.transformStreamMessageNullReply = exports.transformStreamMessageReply = exports.transformTuplesReply = exports.transformStringNumberInfinityArgument = exports.transformNumberInfinityArgument = exports.transformNumberInfinityNullArrayReply = exports.transformNumberInfinityNullReply = exports.transformNumberInfinityReply = exports.pushScanArguments = exports.transformBooleanArrayReply = exports.transformBooleanReply = void 0;\nfunction transformBooleanReply(reply) {\n    return reply === 1;\n}\nexports.transformBooleanReply = transformBooleanReply;\nfunction transformBooleanArrayReply(reply) {\n    return reply.map(transformBooleanReply);\n}\nexports.transformBooleanArrayReply = transformBooleanArrayReply;\nfunction pushScanArguments(args, cursor, options) {\n    args.push(cursor.toString());\n    if (options?.MATCH) {\n        args.push('MATCH', options.MATCH);\n    }\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.pushScanArguments = pushScanArguments;\nfunction transformNumberInfinityReply(reply) {\n    switch (reply.toString()) {\n        case '+inf':\n            return Infinity;\n        case '-inf':\n            return -Infinity;\n        default:\n            return Number(reply);\n    }\n}\nexports.transformNumberInfinityReply = transformNumberInfinityReply;\nfunction transformNumberInfinityNullReply(reply) {\n    if (reply === null)\n        return null;\n    return transformNumberInfinityReply(reply);\n}\nexports.transformNumberInfinityNullReply = transformNumberInfinityNullReply;\nfunction transformNumberInfinityNullArrayReply(reply) {\n    return reply.map(transformNumberInfinityNullReply);\n}\nexports.transformNumberInfinityNullArrayReply = transformNumberInfinityNullArrayReply;\nfunction transformNumberInfinityArgument(num) {\n    switch (num) {\n        case Infinity:\n            return '+inf';\n        case -Infinity:\n            return '-inf';\n        default:\n            return num.toString();\n    }\n}\nexports.transformNumberInfinityArgument = transformNumberInfinityArgument;\nfunction transformStringNumberInfinityArgument(num) {\n    if (typeof num !== 'number')\n        return num;\n    return transformNumberInfinityArgument(num);\n}\nexports.transformStringNumberInfinityArgument = transformStringNumberInfinityArgument;\nfunction transformTuplesReply(reply) {\n    const message = Object.create(null);\n    for (let i = 0; i < reply.length; i += 2) {\n        message[reply[i].toString()] = reply[i + 1];\n    }\n    return message;\n}\nexports.transformTuplesReply = transformTuplesReply;\nfunction transformStreamMessageReply([id, message]) {\n    return {\n        id,\n        message: transformTuplesReply(message)\n    };\n}\nexports.transformStreamMessageReply = transformStreamMessageReply;\nfunction transformStreamMessageNullReply(reply) {\n    if (reply === null)\n        return null;\n    return transformStreamMessageReply(reply);\n}\nexports.transformStreamMessageNullReply = transformStreamMessageNullReply;\nfunction transformStreamMessagesReply(reply) {\n    return reply.map(transformStreamMessageReply);\n}\nexports.transformStreamMessagesReply = transformStreamMessagesReply;\nfunction transformStreamMessagesNullReply(reply) {\n    return reply.map(transformStreamMessageNullReply);\n}\nexports.transformStreamMessagesNullReply = transformStreamMessagesNullReply;\nfunction transformStreamsMessagesReply(reply) {\n    if (reply === null)\n        return null;\n    return reply.map(([name, rawMessages]) => ({\n        name,\n        messages: transformStreamMessagesReply(rawMessages)\n    }));\n}\nexports.transformStreamsMessagesReply = transformStreamsMessagesReply;\nfunction transformSortedSetMemberNullReply(reply) {\n    if (!reply.length)\n        return null;\n    return transformSortedSetMemberReply(reply);\n}\nexports.transformSortedSetMemberNullReply = transformSortedSetMemberNullReply;\nfunction transformSortedSetMemberReply(reply) {\n    return {\n        value: reply[0],\n        score: transformNumberInfinityReply(reply[1])\n    };\n}\nexports.transformSortedSetMemberReply = transformSortedSetMemberReply;\nfunction transformSortedSetWithScoresReply(reply) {\n    const members = [];\n    for (let i = 0; i < reply.length; i += 2) {\n        members.push({\n            value: reply[i],\n            score: transformNumberInfinityReply(reply[i + 1])\n        });\n    }\n    return members;\n}\nexports.transformSortedSetWithScoresReply = transformSortedSetWithScoresReply;\nfunction transformZMPopArguments(args, keys, side, options) {\n    pushVerdictArgument(args, keys);\n    args.push(side);\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.transformZMPopArguments = transformZMPopArguments;\nfunction transformLMPopArguments(args, keys, side, options) {\n    pushVerdictArgument(args, keys);\n    args.push(side);\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.transformLMPopArguments = transformLMPopArguments;\nfunction pushGeoCountArgument(args, count) {\n    if (typeof count === 'number') {\n        args.push('COUNT', count.toString());\n    }\n    else if (count) {\n        args.push('COUNT', count.value.toString());\n        if (count.ANY) {\n            args.push('ANY');\n        }\n    }\n    return args;\n}\nexports.pushGeoCountArgument = pushGeoCountArgument;\nfunction pushGeoSearchArguments(args, key, from, by, options) {\n    args.push(key);\n    if (typeof from === 'string') {\n        args.push('FROMMEMBER', from);\n    }\n    else {\n        args.push('FROMLONLAT', from.longitude.toString(), from.latitude.toString());\n    }\n    if ('radius' in by) {\n        args.push('BYRADIUS', by.radius.toString());\n    }\n    else {\n        args.push('BYBOX', by.width.toString(), by.height.toString());\n    }\n    args.push(by.unit);\n    if (options?.SORT) {\n        args.push(options.SORT);\n    }\n    pushGeoCountArgument(args, options?.COUNT);\n    return args;\n}\nexports.pushGeoSearchArguments = pushGeoSearchArguments;\nfunction pushGeoRadiusArguments(args, key, from, radius, unit, options) {\n    args.push(key);\n    if (typeof from === 'string') {\n        args.push(from);\n    }\n    else {\n        args.push(from.longitude.toString(), from.latitude.toString());\n    }\n    args.push(radius.toString(), unit);\n    if (options?.SORT) {\n        args.push(options.SORT);\n    }\n    pushGeoCountArgument(args, options?.COUNT);\n    return args;\n}\nexports.pushGeoRadiusArguments = pushGeoRadiusArguments;\nfunction pushGeoRadiusStoreArguments(args, key, from, radius, unit, destination, options) {\n    pushGeoRadiusArguments(args, key, from, radius, unit, options);\n    if (options?.STOREDIST) {\n        args.push('STOREDIST', destination);\n    }\n    else {\n        args.push('STORE', destination);\n    }\n    return args;\n}\nexports.pushGeoRadiusStoreArguments = pushGeoRadiusStoreArguments;\nvar GeoReplyWith;\n(function (GeoReplyWith) {\n    GeoReplyWith[\"DISTANCE\"] = \"WITHDIST\";\n    GeoReplyWith[\"HASH\"] = \"WITHHASH\";\n    GeoReplyWith[\"COORDINATES\"] = \"WITHCOORD\";\n})(GeoReplyWith || (exports.GeoReplyWith = GeoReplyWith = {}));\nfunction transformGeoMembersWithReply(reply, replyWith) {\n    const replyWithSet = new Set(replyWith);\n    let index = 0;\n    const distanceIndex = replyWithSet.has(GeoReplyWith.DISTANCE) && ++index, hashIndex = replyWithSet.has(GeoReplyWith.HASH) && ++index, coordinatesIndex = replyWithSet.has(GeoReplyWith.COORDINATES) && ++index;\n    return reply.map(member => {\n        const transformedMember = {\n            member: member[0]\n        };\n        if (distanceIndex) {\n            transformedMember.distance = member[distanceIndex];\n        }\n        if (hashIndex) {\n            transformedMember.hash = member[hashIndex];\n        }\n        if (coordinatesIndex) {\n            const [longitude, latitude] = member[coordinatesIndex];\n            transformedMember.coordinates = {\n                longitude,\n                latitude\n            };\n        }\n        return transformedMember;\n    });\n}\nexports.transformGeoMembersWithReply = transformGeoMembersWithReply;\nfunction transformEXAT(EXAT) {\n    return (typeof EXAT === 'number' ? EXAT : Math.floor(EXAT.getTime() / 1000)).toString();\n}\nexports.transformEXAT = transformEXAT;\nfunction transformPXAT(PXAT) {\n    return (typeof PXAT === 'number' ? PXAT : PXAT.getTime()).toString();\n}\nexports.transformPXAT = transformPXAT;\nfunction evalFirstKeyIndex(options) {\n    return options?.keys?.[0];\n}\nexports.evalFirstKeyIndex = evalFirstKeyIndex;\nfunction pushEvalArguments(args, options) {\n    if (options?.keys) {\n        args.push(options.keys.length.toString(), ...options.keys);\n    }\n    else {\n        args.push('0');\n    }\n    if (options?.arguments) {\n        args.push(...options.arguments);\n    }\n    return args;\n}\nexports.pushEvalArguments = pushEvalArguments;\nfunction pushVerdictArguments(args, value) {\n    if (Array.isArray(value)) {\n        // https://github.com/redis/node-redis/pull/2160\n        args = args.concat(value);\n    }\n    else {\n        args.push(value);\n    }\n    return args;\n}\nexports.pushVerdictArguments = pushVerdictArguments;\nfunction pushVerdictNumberArguments(args, value) {\n    if (Array.isArray(value)) {\n        for (const item of value) {\n            args.push(item.toString());\n        }\n    }\n    else {\n        args.push(value.toString());\n    }\n    return args;\n}\nexports.pushVerdictNumberArguments = pushVerdictNumberArguments;\nfunction pushVerdictArgument(args, value) {\n    if (Array.isArray(value)) {\n        args.push(value.length.toString(), ...value);\n    }\n    else {\n        args.push('1', value);\n    }\n    return args;\n}\nexports.pushVerdictArgument = pushVerdictArgument;\nfunction pushOptionalVerdictArgument(args, name, value) {\n    if (value === undefined)\n        return args;\n    args.push(name);\n    return pushVerdictArgument(args, value);\n}\nexports.pushOptionalVerdictArgument = pushOptionalVerdictArgument;\nvar CommandFlags;\n(function (CommandFlags) {\n    CommandFlags[\"WRITE\"] = \"write\";\n    CommandFlags[\"READONLY\"] = \"readonly\";\n    CommandFlags[\"DENYOOM\"] = \"denyoom\";\n    CommandFlags[\"ADMIN\"] = \"admin\";\n    CommandFlags[\"PUBSUB\"] = \"pubsub\";\n    CommandFlags[\"NOSCRIPT\"] = \"noscript\";\n    CommandFlags[\"RANDOM\"] = \"random\";\n    CommandFlags[\"SORT_FOR_SCRIPT\"] = \"sort_for_script\";\n    CommandFlags[\"LOADING\"] = \"loading\";\n    CommandFlags[\"STALE\"] = \"stale\";\n    CommandFlags[\"SKIP_MONITOR\"] = \"skip_monitor\";\n    CommandFlags[\"ASKING\"] = \"asking\";\n    CommandFlags[\"FAST\"] = \"fast\";\n    CommandFlags[\"MOVABLEKEYS\"] = \"movablekeys\"; // keys have no pre-determined position. You must discover keys yourself.\n})(CommandFlags || (exports.CommandFlags = CommandFlags = {}));\nvar CommandCategories;\n(function (CommandCategories) {\n    CommandCategories[\"KEYSPACE\"] = \"@keyspace\";\n    CommandCategories[\"READ\"] = \"@read\";\n    CommandCategories[\"WRITE\"] = \"@write\";\n    CommandCategories[\"SET\"] = \"@set\";\n    CommandCategories[\"SORTEDSET\"] = \"@sortedset\";\n    CommandCategories[\"LIST\"] = \"@list\";\n    CommandCategories[\"HASH\"] = \"@hash\";\n    CommandCategories[\"STRING\"] = \"@string\";\n    CommandCategories[\"BITMAP\"] = \"@bitmap\";\n    CommandCategories[\"HYPERLOGLOG\"] = \"@hyperloglog\";\n    CommandCategories[\"GEO\"] = \"@geo\";\n    CommandCategories[\"STREAM\"] = \"@stream\";\n    CommandCategories[\"PUBSUB\"] = \"@pubsub\";\n    CommandCategories[\"ADMIN\"] = \"@admin\";\n    CommandCategories[\"FAST\"] = \"@fast\";\n    CommandCategories[\"SLOW\"] = \"@slow\";\n    CommandCategories[\"BLOCKING\"] = \"@blocking\";\n    CommandCategories[\"DANGEROUS\"] = \"@dangerous\";\n    CommandCategories[\"CONNECTION\"] = \"@connection\";\n    CommandCategories[\"TRANSACTION\"] = \"@transaction\";\n    CommandCategories[\"SCRIPTING\"] = \"@scripting\";\n})(CommandCategories || (exports.CommandCategories = CommandCategories = {}));\nfunction transformCommandReply([name, arity, flags, firstKeyIndex, lastKeyIndex, step, categories]) {\n    return {\n        name,\n        arity,\n        flags: new Set(flags),\n        firstKeyIndex,\n        lastKeyIndex,\n        step,\n        categories: new Set(categories)\n    };\n}\nexports.transformCommandReply = transformCommandReply;\nvar RedisFunctionFlags;\n(function (RedisFunctionFlags) {\n    RedisFunctionFlags[\"NO_WRITES\"] = \"no-writes\";\n    RedisFunctionFlags[\"ALLOW_OOM\"] = \"allow-oom\";\n    RedisFunctionFlags[\"ALLOW_STALE\"] = \"allow-stale\";\n    RedisFunctionFlags[\"NO_CLUSTER\"] = \"no-cluster\";\n})(RedisFunctionFlags || (exports.RedisFunctionFlags = RedisFunctionFlags = {}));\nfunction transformFunctionListItemReply(reply) {\n    return {\n        libraryName: reply[1],\n        engine: reply[3],\n        functions: reply[5].map(fn => ({\n            name: fn[1],\n            description: fn[3],\n            flags: fn[5]\n        }))\n    };\n}\nexports.transformFunctionListItemReply = transformFunctionListItemReply;\nfunction pushSortArguments(args, options) {\n    if (options?.BY) {\n        args.push('BY', options.BY);\n    }\n    if (options?.LIMIT) {\n        args.push('LIMIT', options.LIMIT.offset.toString(), options.LIMIT.count.toString());\n    }\n    if (options?.GET) {\n        for (const pattern of (typeof options.GET === 'string' ? [options.GET] : options.GET)) {\n            args.push('GET', pattern);\n        }\n    }\n    if (options?.DIRECTION) {\n        args.push(options.DIRECTION);\n    }\n    if (options?.ALPHA) {\n        args.push('ALPHA');\n    }\n    return args;\n}\nexports.pushSortArguments = pushSortArguments;\nfunction pushSlotRangeArguments(args, range) {\n    args.push(range.start.toString(), range.end.toString());\n}\nfunction pushSlotRangesArguments(args, ranges) {\n    if (Array.isArray(ranges)) {\n        for (const range of ranges) {\n            pushSlotRangeArguments(args, range);\n        }\n    }\n    else {\n        pushSlotRangeArguments(args, ranges);\n    }\n    return args;\n}\nexports.pushSlotRangesArguments = pushSlotRangesArguments;\nfunction transformRangeReply([start, end]) {\n    return {\n        start,\n        end\n    };\n}\nexports.transformRangeReply = transformRangeReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(operation, destKey, key) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['BITOP', operation, destKey], key);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, bit, start, end, mode) {\n    const args = ['BITPOS', key, bit.toString()];\n    if (typeof start === 'number') {\n        args.push(start.toString());\n    }\n    if (typeof end === 'number') {\n        args.push(end.toString());\n    }\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(source, destination, sourceDirection, destinationDirection, timeout) {\n    return [\n        'BLMOVE',\n        source,\n        destination,\n        sourceDirection,\n        destinationDirection,\n        timeout.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(keys, side, options) {\n    return (0, generic_transformers_1.transformLMPopArguments)(['LMPOP'], keys, side, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 3;\nfunction transformArguments(timeout, keys, side, options) {\n    return (0, generic_transformers_1.transformLMPopArguments)(['BLMPOP', timeout.toString()], keys, side, options);\n}\nexports.transformArguments = transformArguments;\nvar LMPOP_1 = require(\"./LMPOP\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return LMPOP_1.transformReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(keys, timeout) {\n    const args = (0, generic_transformers_1.pushVerdictArguments)(['BLPOP'], keys);\n    args.push(timeout.toString());\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    if (reply === null)\n        return null;\n    return {\n        key: reply[0],\n        element: reply[1]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, timeout) {\n    const args = (0, generic_transformers_1.pushVerdictArguments)(['BRPOP'], key);\n    args.push(timeout.toString());\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar BLPOP_1 = require(\"./BLPOP\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return BLPOP_1.transformReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(source, destination, timeout) {\n    return ['BRPOPLPUSH', source, destination, timeout.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(keys, side, options) {\n    return (0, generic_transformers_1.transformZMPopArguments)(['ZMPOP'], keys, side, options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply === null ? null : {\n        key: reply[0],\n        elements: reply[1].map(generic_transformers_1.transformSortedSetMemberReply)\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 3;\nfunction transformArguments(timeout, keys, side, options) {\n    return (0, generic_transformers_1.transformZMPopArguments)(['BZMPOP', timeout.toString()], keys, side, options);\n}\nexports.transformArguments = transformArguments;\nvar ZMPOP_1 = require(\"./ZMPOP\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return ZMPOP_1.transformReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, timeout) {\n    const args = (0, generic_transformers_1.pushVerdictArguments)(['BZPOPMAX'], key);\n    args.push(timeout.toString());\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    if (!reply)\n        return null;\n    return {\n        key: reply[0],\n        value: reply[1],\n        score: (0, generic_transformers_1.transformNumberInfinityReply)(reply[2])\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, timeout) {\n    const args = (0, generic_transformers_1.pushVerdictArguments)(['BZPOPMIN'], key);\n    args.push(timeout.toString());\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar BZPOPMAX_1 = require(\"./BZPOPMAX\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return BZPOPMAX_1.transformReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(source, destination, options) {\n    const args = ['COPY', source, destination];\n    if (options?.destinationDb) {\n        args.push('DB', options.destinationDb.toString());\n    }\n    if (options?.replace) {\n        args.push('REPLACE');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['DECR', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, decrement) {\n    return ['DECRBY', key, decrement.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['DEL'], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['DUMP', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = generic_transformers_1.evalFirstKeyIndex;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(script, options) {\n    return (0, generic_transformers_1.pushEvalArguments)(['EVAL_RO', script], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = generic_transformers_1.evalFirstKeyIndex;\nfunction transformArguments(script, options) {\n    return (0, generic_transformers_1.pushEvalArguments)(['EVAL', script], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = generic_transformers_1.evalFirstKeyIndex;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(sha1, options) {\n    return (0, generic_transformers_1.pushEvalArguments)(['EVALSHA_RO', sha1], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = generic_transformers_1.evalFirstKeyIndex;\nfunction transformArguments(sha1, options) {\n    return (0, generic_transformers_1.pushEvalArguments)(['EVALSHA', sha1], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['EXISTS'], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, seconds, mode) {\n    const args = ['EXPIRE', key, seconds.toString()];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, timestamp, mode) {\n    const args = [\n        'EXPIREAT',\n        key,\n        (0, generic_transformers_1.transformEXAT)(timestamp)\n    ];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['EXPIRETIME', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = generic_transformers_1.evalFirstKeyIndex;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(fn, options) {\n    return (0, generic_transformers_1.pushEvalArguments)(['FCALL_RO', fn], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = generic_transformers_1.evalFirstKeyIndex;\nfunction transformArguments(fn, options) {\n    return (0, generic_transformers_1.pushEvalArguments)(['FCALL', fn], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, toAdd, options) {\n    const args = ['GEOADD', key];\n    if (options?.NX) {\n        args.push('NX');\n    }\n    else if (options?.XX) {\n        args.push('XX');\n    }\n    if (options?.CH) {\n        args.push('CH');\n    }\n    for (const { longitude, latitude, member } of (Array.isArray(toAdd) ? toAdd : [toAdd])) {\n        args.push(longitude.toString(), latitude.toString(), member);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member1, member2, unit) {\n    const args = ['GEODIST', key, member1, member2];\n    if (unit) {\n        args.push(unit);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply === null ? null : Number(reply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['GEOHASH', key], member);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['GEOPOS', key], member);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(coordinates => coordinates === null ? null : {\n        longitude: coordinates[0],\n        latitude: coordinates[1]\n    });\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, coordinates, radius, unit, options) {\n    return (0, generic_transformers_1.pushGeoRadiusArguments)(['GEORADIUS_RO'], key, coordinates, radius, unit, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst GEORADIUS_RO_1 = require(\"./GEORADIUS_RO\");\nvar GEORADIUS_RO_2 = require(\"./GEORADIUS_RO\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEORADIUS_RO_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEORADIUS_RO_2.IS_READ_ONLY; } });\nfunction transformArguments(key, coordinates, radius, unit, replyWith, options) {\n    const args = (0, GEORADIUS_RO_1.transformArguments)(key, coordinates, radius, unit, options);\n    args.push(...replyWith);\n    args.preserve = replyWith;\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformGeoMembersWithReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, coordinates, radius, unit, options) {\n    return (0, generic_transformers_1.pushGeoRadiusArguments)(['GEORADIUS'], key, coordinates, radius, unit, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst GEORADIUS_1 = require(\"./GEORADIUS\");\nvar GEORADIUS_2 = require(\"./GEORADIUS\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEORADIUS_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEORADIUS_2.IS_READ_ONLY; } });\nfunction transformArguments(key, coordinates, radius, unit, replyWith, options) {\n    const args = (0, GEORADIUS_1.transformArguments)(key, coordinates, radius, unit, options);\n    args.push(...replyWith);\n    args.preserve = replyWith;\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformGeoMembersWithReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member, radius, unit, options) {\n    return (0, generic_transformers_1.pushGeoRadiusArguments)(['GEORADIUSBYMEMBER_RO'], key, member, radius, unit, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst GEORADIUSBYMEMBER_RO_1 = require(\"./GEORADIUSBYMEMBER_RO\");\nvar GEORADIUSBYMEMBER_RO_2 = require(\"./GEORADIUSBYMEMBER_RO\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEORADIUSBYMEMBER_RO_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEORADIUSBYMEMBER_RO_2.IS_READ_ONLY; } });\nfunction transformArguments(key, member, radius, unit, replyWith, options) {\n    const args = (0, GEORADIUSBYMEMBER_RO_1.transformArguments)(key, member, radius, unit, options);\n    args.push(...replyWith);\n    args.preserve = replyWith;\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformGeoMembersWithReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member, radius, unit, options) {\n    return (0, generic_transformers_1.pushGeoRadiusArguments)(['GEORADIUSBYMEMBER'], key, member, radius, unit, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst GEORADIUSBYMEMBER_1 = require(\"./GEORADIUSBYMEMBER\");\nvar GEORADIUSBYMEMBER_2 = require(\"./GEORADIUSBYMEMBER\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEORADIUSBYMEMBER_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEORADIUSBYMEMBER_2.IS_READ_ONLY; } });\nfunction transformArguments(key, member, radius, unit, replyWith, options) {\n    const args = (0, GEORADIUSBYMEMBER_1.transformArguments)(key, member, radius, unit, options);\n    args.push(...replyWith);\n    args.preserve = replyWith;\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformGeoMembersWithReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nvar GEORADIUSBYMEMBER_1 = require(\"./GEORADIUSBYMEMBER\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEORADIUSBYMEMBER_1.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEORADIUSBYMEMBER_1.IS_READ_ONLY; } });\nfunction transformArguments(key, member, radius, unit, destination, options) {\n    return (0, generic_transformers_1.pushGeoRadiusStoreArguments)(['GEORADIUSBYMEMBER'], key, member, radius, unit, destination, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nvar GEORADIUS_1 = require(\"./GEORADIUS\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEORADIUS_1.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEORADIUS_1.IS_READ_ONLY; } });\nfunction transformArguments(key, coordinates, radius, unit, destination, options) {\n    return (0, generic_transformers_1.pushGeoRadiusStoreArguments)(['GEORADIUS'], key, coordinates, radius, unit, destination, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, from, by, options) {\n    return (0, generic_transformers_1.pushGeoSearchArguments)(['GEOSEARCH'], key, from, by, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst GEOSEARCH_1 = require(\"./GEOSEARCH\");\nvar GEOSEARCH_2 = require(\"./GEOSEARCH\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEOSEARCH_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEOSEARCH_2.IS_READ_ONLY; } });\nfunction transformArguments(key, from, by, replyWith, options) {\n    const args = (0, GEOSEARCH_1.transformArguments)(key, from, by, options);\n    args.push(...replyWith);\n    args.preserve = replyWith;\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformGeoMembersWithReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nvar GEOSEARCH_1 = require(\"./GEOSEARCH\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return GEOSEARCH_1.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return GEOSEARCH_1.IS_READ_ONLY; } });\nfunction transformArguments(destination, source, from, by, options) {\n    const args = (0, generic_transformers_1.pushGeoSearchArguments)(['GEOSEARCHSTORE', destination], source, from, by, options);\n    if (options?.STOREDIST) {\n        args.push('STOREDIST');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    if (typeof reply !== 'number') {\n        throw new TypeError(`https://github.com/redis/redis/issues/9261`);\n    }\n    return reply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['GET', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, offset) {\n    return ['GETBIT', key, offset.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['GETDEL', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, mode) {\n    const args = ['GETEX', key];\n    if ('EX' in mode) {\n        args.push('EX', mode.EX.toString());\n    }\n    else if ('PX' in mode) {\n        args.push('PX', mode.PX.toString());\n    }\n    else if ('EXAT' in mode) {\n        args.push('EXAT', (0, generic_transformers_1.transformEXAT)(mode.EXAT));\n    }\n    else if ('PXAT' in mode) {\n        args.push('PXAT', (0, generic_transformers_1.transformPXAT)(mode.PXAT));\n    }\n    else { // PERSIST\n        args.push('PERSIST');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, start, end) {\n    return ['GETRANGE', key, start.toString(), end.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, value) {\n    return ['GETSET', key, value];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, field) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['HDEL', key], field);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, field) {\n    return ['HEXISTS', key, field];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = exports.HASH_EXPIRATION = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\n/**\n * @readonly\n * @enum {number}\n */\nexports.HASH_EXPIRATION = {\n    /** @property {number} */\n    /** The field does not exist */\n    FIELD_NOT_EXISTS: -2,\n    /** @property {number} */\n    /** Specified NX | XX | GT | LT condition not met */\n    CONDITION_NOT_MET: 0,\n    /** @property {number} */\n    /** Expiration time was set or updated */\n    UPDATED: 1,\n    /** @property {number} */\n    /** Field deleted because the specified expiration time is in the past */\n    DELETED: 2\n};\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, fields, seconds, mode) {\n    const args = ['HEXPIRE', key, seconds.toString()];\n    if (mode) {\n        args.push(mode);\n    }\n    args.push('FIELDS');\n    return (0, generic_transformers_1.pushVerdictArgument)(args, fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, fields, timestamp, mode) {\n    const args = [\n        'HEXPIREAT',\n        key,\n        (0, generic_transformers_1.transformEXAT)(timestamp)\n    ];\n    if (mode) {\n        args.push(mode);\n    }\n    args.push('FIELDS');\n    return (0, generic_transformers_1.pushVerdictArgument)(args, fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = exports.HASH_EXPIRATION_TIME = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.HASH_EXPIRATION_TIME = {\n    /** @property {number} */\n    /** The field does not exist */\n    FIELD_NOT_EXISTS: -2,\n    /** @property {number} */\n    /** The field exists but has no associated expire */\n    NO_EXPIRATION: -1,\n};\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fields) {\n    return (0, generic_transformers_1.pushVerdictArgument)(['HEXPIRETIME', key, 'FIELDS'], fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, field) {\n    return ['HGET', key, field];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.TRANSFORM_LEGACY_REPLY = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nexports.TRANSFORM_LEGACY_REPLY = true;\nfunction transformArguments(key) {\n    return ['HGETALL', key];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformTuplesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, field, increment) {\n    return ['HINCRBY', key, field, increment.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, field, increment) {\n    return ['HINCRBYFLOAT', key, field, increment.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['HKEYS', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['HLEN', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fields) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['HMGET', key], fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, fields) {\n    return (0, generic_transformers_1.pushVerdictArgument)(['HPERSIST', key, 'FIELDS'], fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, fields, ms, mode) {\n    const args = ['HPEXPIRE', key, ms.toString()];\n    if (mode) {\n        args.push(mode);\n    }\n    args.push('FIELDS');\n    return (0, generic_transformers_1.pushVerdictArgument)(args, fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fields, timestamp, mode) {\n    const args = ['HPEXPIREAT', key, (0, generic_transformers_1.transformPXAT)(timestamp)];\n    if (mode) {\n        args.push(mode);\n    }\n    args.push('FIELDS');\n    return (0, generic_transformers_1.pushVerdictArgument)(args, fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fields) {\n    return (0, generic_transformers_1.pushVerdictArgument)(['HPEXPIRETIME', key, 'FIELDS'], fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fields) {\n    return (0, generic_transformers_1.pushVerdictArgument)(['HPTTL', key, 'FIELDS'], fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['HRANDFIELD', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst HRANDFIELD_1 = require(\"./HRANDFIELD\");\nvar HRANDFIELD_2 = require(\"./HRANDFIELD\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return HRANDFIELD_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return HRANDFIELD_2.IS_READ_ONLY; } });\nfunction transformArguments(key, count) {\n    return [\n        ...(0, HRANDFIELD_1.transformArguments)(key),\n        count.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst HRANDFIELD_COUNT_1 = require(\"./HRANDFIELD_COUNT\");\nvar HRANDFIELD_COUNT_2 = require(\"./HRANDFIELD_COUNT\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return HRANDFIELD_COUNT_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return HRANDFIELD_COUNT_2.IS_READ_ONLY; } });\nfunction transformArguments(key, count) {\n    return [\n        ...(0, HRANDFIELD_COUNT_1.transformArguments)(key, count),\n        'WITHVALUES'\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformTuplesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, cursor, options) {\n    return (0, generic_transformers_1.pushScanArguments)([\n        'HSCAN',\n        key\n    ], cursor, options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply([cursor, rawTuples]) {\n    const parsedTuples = [];\n    for (let i = 0; i < rawTuples.length; i += 2) {\n        parsedTuples.push({\n            field: rawTuples[i],\n            value: rawTuples[i + 1]\n        });\n    }\n    return {\n        cursor: Number(cursor),\n        tuples: parsedTuples\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst HSCAN_1 = require(\"./HSCAN\");\nvar HSCAN_2 = require(\"./HSCAN\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return HSCAN_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return HSCAN_2.IS_READ_ONLY; } });\nfunction transformArguments(key, cursor, options) {\n    const args = (0, HSCAN_1.transformArguments)(key, cursor, options);\n    args.push('NOVALUES');\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply([cursor, rawData]) {\n    return {\n        cursor: Number(cursor),\n        keys: rawData\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(...[key, value, fieldValue]) {\n    const args = ['HSET', key];\n    if (typeof value === 'string' || typeof value === 'number' || Buffer.isBuffer(value)) {\n        args.push(convertValue(value), convertValue(fieldValue));\n    }\n    else if (value instanceof Map) {\n        pushMap(args, value);\n    }\n    else if (Array.isArray(value)) {\n        pushTuples(args, value);\n    }\n    else {\n        pushObject(args, value);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction pushMap(args, map) {\n    for (const [key, value] of map.entries()) {\n        args.push(convertValue(key), convertValue(value));\n    }\n}\nfunction pushTuples(args, tuples) {\n    for (const tuple of tuples) {\n        if (Array.isArray(tuple)) {\n            pushTuples(args, tuple);\n            continue;\n        }\n        args.push(convertValue(tuple));\n    }\n}\nfunction pushObject(args, object) {\n    for (const key of Object.keys(object)) {\n        args.push(convertValue(key), convertValue(object[key]));\n    }\n}\nfunction convertValue(value) {\n    return typeof value === 'number' ?\n        value.toString() :\n        value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, field, value) {\n    return ['HSETNX', key, field, value];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, field) {\n    return ['HSTRLEN', key, field];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fields) {\n    return (0, generic_transformers_1.pushVerdictArgument)(['HTTL', key, 'FIELDS'], fields);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['HVALS', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['INCR', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, increment) {\n    return ['INCRBY', key, increment.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, increment) {\n    return ['INCRBYFLOAT', key, increment.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key1, key2) {\n    return [\n        'LCS',\n        key1,\n        key2\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nconst LCS_1 = require(\"./LCS\");\nvar LCS_2 = require(\"./LCS\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return LCS_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return LCS_2.IS_READ_ONLY; } });\nfunction transformArguments(key1, key2) {\n    const args = (0, LCS_1.transformArguments)(key1, key2);\n    args.push('IDX', 'WITHMATCHLEN');\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        matches: reply[1].map(([key1, key2, length]) => ({\n            key1: (0, generic_transformers_1.transformRangeReply)(key1),\n            key2: (0, generic_transformers_1.transformRangeReply)(key2),\n            length\n        })),\n        length: reply[3]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nconst LCS_1 = require(\"./LCS\");\nvar LCS_2 = require(\"./LCS\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return LCS_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return LCS_2.IS_READ_ONLY; } });\nfunction transformArguments(key1, key2) {\n    const args = (0, LCS_1.transformArguments)(key1, key2);\n    args.push('IDX');\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        matches: reply[1].map(([key1, key2]) => ({\n            key1: (0, generic_transformers_1.transformRangeReply)(key1),\n            key2: (0, generic_transformers_1.transformRangeReply)(key2)\n        })),\n        length: reply[3]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst LCS_1 = require(\"./LCS\");\nvar LCS_2 = require(\"./LCS\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return LCS_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return LCS_2.IS_READ_ONLY; } });\nfunction transformArguments(key1, key2) {\n    const args = (0, LCS_1.transformArguments)(key1, key2);\n    args.push('LEN');\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, index) {\n    return ['LINDEX', key, index.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, position, pivot, element) {\n    return [\n        'LINSERT',\n        key,\n        position,\n        pivot,\n        element\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['LLEN', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(source, destination, sourceSide, destinationSide) {\n    return [\n        'LMOVE',\n        source,\n        destination,\n        sourceSide,\n        destinationSide,\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, count) {\n    return ['LPOP', key, count.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['LPOP', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, element, options) {\n    const args = ['LPOS', key, element];\n    if (typeof options?.RANK === 'number') {\n        args.push('RANK', options.RANK.toString());\n    }\n    if (typeof options?.MAXLEN === 'number') {\n        args.push('MAXLEN', options.MAXLEN.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nvar LPOS_1 = require(\"./LPOS\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return LPOS_1.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return LPOS_1.IS_READ_ONLY; } });\nfunction transformArguments(key, element, count, options) {\n    const args = ['LPOS', key, element];\n    if (typeof options?.RANK === 'number') {\n        args.push('RANK', options.RANK.toString());\n    }\n    args.push('COUNT', count.toString());\n    if (typeof options?.MAXLEN === 'number') {\n        args.push('MAXLEN', options.MAXLEN.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, elements) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['LPUSH', key], elements);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, element) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['LPUSHX', key], element);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, start, stop) {\n    return [\n        'LRANGE',\n        key,\n        start.toString(),\n        stop.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, count, element) {\n    return [\n        'LREM',\n        key,\n        count.toString(),\n        element\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, index, element) {\n    return [\n        'LSET',\n        key,\n        index.toString(),\n        element\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, start, stop) {\n    return [\n        'LTRIM',\n        key,\n        start.toString(),\n        stop.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys) {\n    return ['MGET', ...keys];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(host, port, key, destinationDb, timeout, options) {\n    const args = ['MIGRATE', host, port.toString()], isKeyArray = Array.isArray(key);\n    if (isKeyArray) {\n        args.push('');\n    }\n    else {\n        args.push(key);\n    }\n    args.push(destinationDb.toString(), timeout.toString());\n    if (options?.COPY) {\n        args.push('COPY');\n    }\n    if (options?.REPLACE) {\n        args.push('REPLACE');\n    }\n    if (options?.AUTH) {\n        if (options.AUTH.username) {\n            args.push('AUTH2', options.AUTH.username, options.AUTH.password);\n        }\n        else {\n            args.push('AUTH', options.AUTH.password);\n        }\n    }\n    if (isKeyArray) {\n        args.push('KEYS', ...key);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(toSet) {\n    const args = ['MSET'];\n    if (Array.isArray(toSet)) {\n        args.push(...toSet.flat());\n    }\n    else {\n        for (const key of Object.keys(toSet)) {\n            args.push(key, toSet[key]);\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(toSet) {\n    const args = ['MSETNX'];\n    if (Array.isArray(toSet)) {\n        args.push(...toSet.flat());\n    }\n    else {\n        for (const key of Object.keys(toSet)) {\n            args.push(key, toSet[key]);\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['OBJECT', 'ENCODING', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['OBJECT', 'FREQ', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['OBJECT', 'IDLETIME', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['OBJECT', 'REFCOUNT', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['PERSIST', key];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, milliseconds, mode) {\n    const args = ['PEXPIRE', key, milliseconds.toString()];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, millisecondsTimestamp, mode) {\n    const args = [\n        'PEXPIREAT',\n        key,\n        (0, generic_transformers_1.transformPXAT)(millisecondsTimestamp)\n    ];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['PEXPIRETIME', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, element) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['PFADD', key], element);\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['PFCOUNT'], key);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destination, source) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['PFMERGE', destination], source);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, milliseconds, value) {\n    return [\n        'PSETEX',\n        key,\n        milliseconds.toString(),\n        value\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['PTTL', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(channel, message) {\n    return ['PUBLISH', channel, message];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, newKey) {\n    return ['RENAME', key, newKey];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, newKey) {\n    return ['RENAMENX', key, newKey];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, ttl, serializedValue, options) {\n    const args = ['RESTORE', key, ttl.toString(), serializedValue];\n    if (options?.REPLACE) {\n        args.push('REPLACE');\n    }\n    if (options?.ABSTTL) {\n        args.push('ABSTTL');\n    }\n    if (options?.IDLETIME) {\n        args.push('IDLETIME', options.IDLETIME.toString());\n    }\n    if (options?.FREQ) {\n        args.push('FREQ', options.FREQ.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, count) {\n    return ['RPOP', key, count.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['RPOP', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(source, destination) {\n    return ['RPOPLPUSH', source, destination];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, element) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['RPUSH', key], element);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, element) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['RPUSHX', key], element);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, members) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SADD', key], members);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['SCARD', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SDIFF'], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destination, keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SDIFFSTORE', destination], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, value, options) {\n    const args = [\n        'SET',\n        key,\n        typeof value === 'number' ? value.toString() : value\n    ];\n    if (options?.EX !== undefined) {\n        args.push('EX', options.EX.toString());\n    }\n    else if (options?.PX !== undefined) {\n        args.push('PX', options.PX.toString());\n    }\n    else if (options?.EXAT !== undefined) {\n        args.push('EXAT', options.EXAT.toString());\n    }\n    else if (options?.PXAT !== undefined) {\n        args.push('PXAT', options.PXAT.toString());\n    }\n    else if (options?.KEEPTTL) {\n        args.push('KEEPTTL');\n    }\n    if (options?.NX) {\n        args.push('NX');\n    }\n    else if (options?.XX) {\n        args.push('XX');\n    }\n    if (options?.GET) {\n        args.push('GET');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, offset, value) {\n    return ['SETBIT', key, offset.toString(), value.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, seconds, value) {\n    return [\n        'SETEX',\n        key,\n        seconds.toString(),\n        value\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, value) {\n    return ['SETNX', key, value];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, offset, value) {\n    return ['SETRANGE', key, offset.toString(), value];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SINTER'], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys, limit) {\n    const args = (0, generic_transformers_1.pushVerdictArgument)(['SINTERCARD'], keys);\n    if (limit) {\n        args.push('LIMIT', limit.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destination, keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SINTERSTORE', destination], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, member) {\n    return ['SISMEMBER', key, member];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['SMEMBERS', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, members) {\n    return ['SMISMEMBER', key, ...members];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(source, destination, member) {\n    return ['SMOVE', source, destination, member];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, options) {\n    return (0, generic_transformers_1.pushSortArguments)(['SORT_RO', key], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, options) {\n    return (0, generic_transformers_1.pushSortArguments)(['SORT', key], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst SORT_1 = require(\"./SORT\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(source, destination, options) {\n    const args = (0, SORT_1.transformArguments)(source, options);\n    args.push('STORE', destination);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, count) {\n    const args = ['SPOP', key];\n    if (typeof count === 'number') {\n        args.push(count.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(channel, message) {\n    return ['SPUBLISH', channel, message];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['SRANDMEMBER', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst SRANDMEMBER_1 = require(\"./SRANDMEMBER\");\nvar SRANDMEMBER_2 = require(\"./SRANDMEMBER\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return SRANDMEMBER_2.FIRST_KEY_INDEX; } });\nfunction transformArguments(key, count) {\n    return [\n        ...(0, SRANDMEMBER_1.transformArguments)(key),\n        count.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, members) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SREM', key], members);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, cursor, options) {\n    return (0, generic_transformers_1.pushScanArguments)([\n        'SSCAN',\n        key,\n    ], cursor, options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply([cursor, members]) {\n    return {\n        cursor: Number(cursor),\n        members\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['STRLEN', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SUNION'], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destination, keys) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SUNIONSTORE', destination], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['TOUCH'], key);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['TTL', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['TYPE', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['UNLINK'], key);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['WATCH'], key);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, group, id) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['XACK', key, group], id);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, id, message, options) {\n    const args = ['XADD', key];\n    if (options?.NOMKSTREAM) {\n        args.push('NOMKSTREAM');\n    }\n    if (options?.TRIM) {\n        if (options.TRIM.strategy) {\n            args.push(options.TRIM.strategy);\n        }\n        if (options.TRIM.strategyModifier) {\n            args.push(options.TRIM.strategyModifier);\n        }\n        args.push(options.TRIM.threshold.toString());\n        if (options.TRIM.limit) {\n            args.push('LIMIT', options.TRIM.limit.toString());\n        }\n    }\n    args.push(id);\n    for (const [key, value] of Object.entries(message)) {\n        args.push(key, value);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, group, consumer, minIdleTime, start, options) {\n    const args = ['XAUTOCLAIM', key, group, consumer, minIdleTime.toString(), start];\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        nextId: reply[0],\n        messages: (0, generic_transformers_1.transformStreamMessagesNullReply)(reply[1])\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst XAUTOCLAIM_1 = require(\"./XAUTOCLAIM\");\nvar XAUTOCLAIM_2 = require(\"./XAUTOCLAIM\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return XAUTOCLAIM_2.FIRST_KEY_INDEX; } });\nfunction transformArguments(...args) {\n    return [\n        ...(0, XAUTOCLAIM_1.transformArguments)(...args),\n        'JUSTID'\n    ];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        nextId: reply[0],\n        messages: reply[1]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, group, consumer, minIdleTime, id, options) {\n    const args = (0, generic_transformers_1.pushVerdictArguments)(['XCLAIM', key, group, consumer, minIdleTime.toString()], id);\n    if (options?.IDLE) {\n        args.push('IDLE', options.IDLE.toString());\n    }\n    if (options?.TIME) {\n        args.push('TIME', (typeof options.TIME === 'number' ? options.TIME : options.TIME.getTime()).toString());\n    }\n    if (options?.RETRYCOUNT) {\n        args.push('RETRYCOUNT', options.RETRYCOUNT.toString());\n    }\n    if (options?.FORCE) {\n        args.push('FORCE');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformStreamMessagesNullReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst XCLAIM_1 = require(\"./XCLAIM\");\nvar XCLAIM_2 = require(\"./XCLAIM\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return XCLAIM_2.FIRST_KEY_INDEX; } });\nfunction transformArguments(...args) {\n    return [\n        ...(0, XCLAIM_1.transformArguments)(...args),\n        'JUSTID'\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, id) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['XDEL', key], id);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(key, group, id, options) {\n    const args = ['XGROUP', 'CREATE', key, group, id];\n    if (options?.MKSTREAM) {\n        args.push('MKSTREAM');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(key, group, consumer) {\n    return ['XGROUP', 'CREATECONSUMER', key, group, consumer];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(key, group, consumer) {\n    return ['XGROUP', 'DELCONSUMER', key, group, consumer];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(key, group) {\n    return ['XGROUP', 'DESTROY', key, group];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(key, group, id) {\n    return ['XGROUP', 'SETID', key, group, id];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, group) {\n    return ['XINFO', 'CONSUMERS', key, group];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    return rawReply.map(consumer => ({\n        name: consumer[1],\n        pending: consumer[3],\n        idle: consumer[5],\n        inactive: consumer[7]\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['XINFO', 'GROUPS', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    return rawReply.map(group => ({\n        name: group[1],\n        consumers: group[3],\n        pending: group[5],\n        lastDeliveredId: group[7]\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['XINFO', 'STREAM', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    const parsedReply = {};\n    for (let i = 0; i < rawReply.length; i += 2) {\n        switch (rawReply[i]) {\n            case 'length':\n                parsedReply.length = rawReply[i + 1];\n                break;\n            case 'radix-tree-keys':\n                parsedReply.radixTreeKeys = rawReply[i + 1];\n                break;\n            case 'radix-tree-nodes':\n                parsedReply.radixTreeNodes = rawReply[i + 1];\n                break;\n            case 'groups':\n                parsedReply.groups = rawReply[i + 1];\n                break;\n            case 'last-generated-id':\n                parsedReply.lastGeneratedId = rawReply[i + 1];\n                break;\n            case 'first-entry':\n                parsedReply.firstEntry = rawReply[i + 1] ? {\n                    id: rawReply[i + 1][0],\n                    message: (0, generic_transformers_1.transformTuplesReply)(rawReply[i + 1][1])\n                } : null;\n                break;\n            case 'last-entry':\n                parsedReply.lastEntry = rawReply[i + 1] ? {\n                    id: rawReply[i + 1][0],\n                    message: (0, generic_transformers_1.transformTuplesReply)(rawReply[i + 1][1])\n                } : null;\n                break;\n        }\n    }\n    return parsedReply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['XLEN', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, group, start, end, count, options) {\n    const args = ['XPENDING', key, group];\n    if (options?.IDLE) {\n        args.push('IDLE', options.IDLE.toString());\n    }\n    args.push(start, end, count.toString());\n    if (options?.consumer) {\n        args.push(options.consumer);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(([id, owner, millisecondsSinceLastDelivery, deliveriesCounter]) => ({\n        id,\n        owner,\n        millisecondsSinceLastDelivery,\n        deliveriesCounter\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, group) {\n    return ['XPENDING', key, group];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        pending: reply[0],\n        firstId: reply[1],\n        lastId: reply[2],\n        consumers: reply[3] === null ? null : reply[3].map(([name, deliveriesCounter]) => ({\n            name,\n            deliveriesCounter: Number(deliveriesCounter)\n        }))\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, start, end, options) {\n    const args = ['XRANGE', key, start, end];\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformStreamMessagesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst FIRST_KEY_INDEX = (streams) => {\n    return Array.isArray(streams) ? streams[0].key : streams.key;\n};\nexports.FIRST_KEY_INDEX = FIRST_KEY_INDEX;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(streams, options) {\n    const args = ['XREAD'];\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    if (typeof options?.BLOCK === 'number') {\n        args.push('BLOCK', options.BLOCK.toString());\n    }\n    args.push('STREAMS');\n    const streamsArray = Array.isArray(streams) ? streams : [streams], argsLength = args.length;\n    for (let i = 0; i < streamsArray.length; i++) {\n        const stream = streamsArray[i];\n        args[argsLength + i] = stream.key;\n        args[argsLength + streamsArray.length + i] = stream.id;\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformStreamsMessagesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst FIRST_KEY_INDEX = (_group, _consumer, streams) => {\n    return Array.isArray(streams) ? streams[0].key : streams.key;\n};\nexports.FIRST_KEY_INDEX = FIRST_KEY_INDEX;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(group, consumer, streams, options) {\n    const args = ['XREADGROUP', 'GROUP', group, consumer];\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    if (typeof options?.BLOCK === 'number') {\n        args.push('BLOCK', options.BLOCK.toString());\n    }\n    if (options?.NOACK) {\n        args.push('NOACK');\n    }\n    args.push('STREAMS');\n    const streamsArray = Array.isArray(streams) ? streams : [streams], argsLength = args.length;\n    for (let i = 0; i < streamsArray.length; i++) {\n        const stream = streamsArray[i];\n        args[argsLength + i] = stream.key;\n        args[argsLength + streamsArray.length + i] = stream.id;\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformStreamsMessagesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, start, end, options) {\n    const args = ['XREVRANGE', key, start, end];\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformStreamMessagesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, lastId, options) {\n    const args = ['XSETID', key, lastId];\n    if (options?.ENTRIESADDED) {\n        args.push('ENTRIESADDED', options.ENTRIESADDED.toString());\n    }\n    if (options?.MAXDELETEDID) {\n        args.push('MAXDELETEDID', options.MAXDELETEDID);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, strategy, threshold, options) {\n    const args = ['XTRIM', key, strategy];\n    if (options?.strategyModifier) {\n        args.push(options.strategyModifier);\n    }\n    args.push(threshold.toString());\n    if (options?.LIMIT) {\n        args.push('LIMIT', options.LIMIT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, members, options) {\n    const args = ['ZADD', key];\n    if (options?.NX) {\n        args.push('NX');\n    }\n    else {\n        if (options?.XX) {\n            args.push('XX');\n        }\n        if (options?.GT) {\n            args.push('GT');\n        }\n        else if (options?.LT) {\n            args.push('LT');\n        }\n    }\n    if (options?.CH) {\n        args.push('CH');\n    }\n    if (options?.INCR) {\n        args.push('INCR');\n    }\n    for (const { score, value } of (Array.isArray(members) ? members : [members])) {\n        args.push((0, generic_transformers_1.transformNumberInfinityArgument)(score), value);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformNumberInfinityReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['ZCARD', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, min, max) {\n    return [\n        'ZCOUNT',\n        key,\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(min),\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(max)\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys) {\n    return (0, generic_transformers_1.pushVerdictArgument)(['ZDIFF'], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst ZDIFF_1 = require(\"./ZDIFF\");\nvar ZDIFF_2 = require(\"./ZDIFF\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZDIFF_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return ZDIFF_2.IS_READ_ONLY; } });\nfunction transformArguments(...args) {\n    return [\n        ...(0, ZDIFF_1.transformArguments)(...args),\n        'WITHSCORES'\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destination, keys) {\n    return (0, generic_transformers_1.pushVerdictArgument)(['ZDIFFSTORE', destination], keys);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, increment, member) {\n    return [\n        'ZINCRBY',\n        key,\n        (0, generic_transformers_1.transformNumberInfinityArgument)(increment),\n        member\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformNumberInfinityReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys, options) {\n    const args = (0, generic_transformers_1.pushVerdictArgument)(['ZINTER'], keys);\n    if (options?.WEIGHTS) {\n        args.push('WEIGHTS', ...options.WEIGHTS.map(weight => weight.toString()));\n    }\n    if (options?.AGGREGATE) {\n        args.push('AGGREGATE', options.AGGREGATE);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst ZINTER_1 = require(\"./ZINTER\");\nvar ZINTER_2 = require(\"./ZINTER\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZINTER_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return ZINTER_2.IS_READ_ONLY; } });\nfunction transformArguments(...args) {\n    return [\n        ...(0, ZINTER_1.transformArguments)(...args),\n        'WITHSCORES'\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys, limit) {\n    const args = (0, generic_transformers_1.pushVerdictArgument)(['ZINTERCARD'], keys);\n    if (limit) {\n        args.push('LIMIT', limit.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destination, keys, options) {\n    const args = (0, generic_transformers_1.pushVerdictArgument)(['ZINTERSTORE', destination], keys);\n    if (options?.WEIGHTS) {\n        args.push('WEIGHTS', ...options.WEIGHTS.map(weight => weight.toString()));\n    }\n    if (options?.AGGREGATE) {\n        args.push('AGGREGATE', options.AGGREGATE);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, min, max) {\n    return [\n        'ZLEXCOUNT',\n        key,\n        min,\n        max\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['ZMSCORE', key], member);\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformNumberInfinityNullArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return [\n        'ZPOPMAX',\n        key\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetMemberNullReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst ZPOPMAX_1 = require(\"./ZPOPMAX\");\nvar ZPOPMAX_2 = require(\"./ZPOPMAX\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZPOPMAX_2.FIRST_KEY_INDEX; } });\nfunction transformArguments(key, count) {\n    return [\n        ...(0, ZPOPMAX_1.transformArguments)(key),\n        count.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return [\n        'ZPOPMIN',\n        key\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetMemberNullReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst ZPOPMIN_1 = require(\"./ZPOPMIN\");\nvar ZPOPMIN_2 = require(\"./ZPOPMIN\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZPOPMIN_2.FIRST_KEY_INDEX; } });\nfunction transformArguments(key, count) {\n    return [\n        ...(0, ZPOPMIN_1.transformArguments)(key),\n        count.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['ZRANDMEMBER', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst ZRANDMEMBER_1 = require(\"./ZRANDMEMBER\");\nvar ZRANDMEMBER_2 = require(\"./ZRANDMEMBER\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZRANDMEMBER_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return ZRANDMEMBER_2.IS_READ_ONLY; } });\nfunction transformArguments(key, count) {\n    return [\n        ...(0, ZRANDMEMBER_1.transformArguments)(key),\n        count.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst ZRANDMEMBER_COUNT_1 = require(\"./ZRANDMEMBER_COUNT\");\nvar ZRANDMEMBER_COUNT_2 = require(\"./ZRANDMEMBER_COUNT\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZRANDMEMBER_COUNT_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return ZRANDMEMBER_COUNT_2.IS_READ_ONLY; } });\nfunction transformArguments(...args) {\n    return [\n        ...(0, ZRANDMEMBER_COUNT_1.transformArguments)(...args),\n        'WITHSCORES'\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, min, max, options) {\n    const args = [\n        'ZRANGE',\n        key,\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(min),\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(max)\n    ];\n    switch (options?.BY) {\n        case 'SCORE':\n            args.push('BYSCORE');\n            break;\n        case 'LEX':\n            args.push('BYLEX');\n            break;\n    }\n    if (options?.REV) {\n        args.push('REV');\n    }\n    if (options?.LIMIT) {\n        args.push('LIMIT', options.LIMIT.offset.toString(), options.LIMIT.count.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst ZRANGE_1 = require(\"./ZRANGE\");\nvar ZRANGE_2 = require(\"./ZRANGE\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZRANGE_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return ZRANGE_2.IS_READ_ONLY; } });\nfunction transformArguments(...args) {\n    return [\n        ...(0, ZRANGE_1.transformArguments)(...args),\n        'WITHSCORES'\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, min, max, options) {\n    const args = [\n        'ZRANGEBYLEX',\n        key,\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(min),\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(max)\n    ];\n    if (options?.LIMIT) {\n        args.push('LIMIT', options.LIMIT.offset.toString(), options.LIMIT.count.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, min, max, options) {\n    const args = [\n        'ZRANGEBYSCORE',\n        key,\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(min),\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(max)\n    ];\n    if (options?.LIMIT) {\n        args.push('LIMIT', options.LIMIT.offset.toString(), options.LIMIT.count.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst ZRANGEBYSCORE_1 = require(\"./ZRANGEBYSCORE\");\nvar ZRANGEBYSCORE_2 = require(\"./ZRANGEBYSCORE\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZRANGEBYSCORE_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return ZRANGEBYSCORE_2.IS_READ_ONLY; } });\nfunction transformArguments(key, min, max, options) {\n    return [\n        ...(0, ZRANGEBYSCORE_1.transformArguments)(key, min, max, options),\n        'WITHSCORES'\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(dst, src, min, max, options) {\n    const args = [\n        'ZRANGESTORE',\n        dst,\n        src,\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(min),\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(max)\n    ];\n    switch (options?.BY) {\n        case 'SCORE':\n            args.push('BYSCORE');\n            break;\n        case 'LEX':\n            args.push('BYLEX');\n            break;\n    }\n    if (options?.REV) {\n        args.push('REV');\n    }\n    if (options?.LIMIT) {\n        args.push('LIMIT', options.LIMIT.offset.toString(), options.LIMIT.count.toString());\n    }\n    if (options?.WITHSCORES) {\n        args.push('WITHSCORES');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    if (typeof reply !== 'number') {\n        throw new TypeError(`Upgrade to Redis 6.2.5 and up (https://github.com/redis/redis/pull/9089)`);\n    }\n    return reply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member) {\n    return ['ZRANK', key, member];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, member) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['ZREM', key], member);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, min, max) {\n    return [\n        'ZREMRANGEBYLEX',\n        key,\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(min),\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(max)\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, start, stop) {\n    return ['ZREMRANGEBYRANK', key, start.toString(), stop.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, min, max) {\n    return [\n        'ZREMRANGEBYSCORE',\n        key,\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(min),\n        (0, generic_transformers_1.transformStringNumberInfinityArgument)(max)\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member) {\n    return ['ZREVRANK', key, member];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, cursor, options) {\n    return (0, generic_transformers_1.pushScanArguments)([\n        'ZSCAN',\n        key\n    ], cursor, options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply([cursor, rawMembers]) {\n    const parsedMembers = [];\n    for (let i = 0; i < rawMembers.length; i += 2) {\n        parsedMembers.push({\n            value: rawMembers[i],\n            score: (0, generic_transformers_1.transformNumberInfinityReply)(rawMembers[i + 1])\n        });\n    }\n    return {\n        cursor: Number(cursor),\n        members: parsedMembers\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, member) {\n    return ['ZSCORE', key, member];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformNumberInfinityNullReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 2;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys, options) {\n    const args = (0, generic_transformers_1.pushVerdictArgument)(['ZUNION'], keys);\n    if (options?.WEIGHTS) {\n        args.push('WEIGHTS', ...options.WEIGHTS.map(weight => weight.toString()));\n    }\n    if (options?.AGGREGATE) {\n        args.push('AGGREGATE', options.AGGREGATE);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst ZUNION_1 = require(\"./ZUNION\");\nvar ZUNION_2 = require(\"./ZUNION\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return ZUNION_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return ZUNION_2.IS_READ_ONLY; } });\nfunction transformArguments(...args) {\n    return [\n        ...(0, ZUNION_1.transformArguments)(...args),\n        'WITHSCORES'\n    ];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformSortedSetWithScoresReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destination, keys, options) {\n    const args = (0, generic_transformers_1.pushVerdictArgument)(['ZUNIONSTORE', destination], keys);\n    if (options?.WEIGHTS) {\n        args.push('WEIGHTS', ...options.WEIGHTS.map(weight => weight.toString()));\n    }\n    if (options?.AGGREGATE) {\n        args.push('AGGREGATE', options.AGGREGATE);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst APPEND = require(\"../commands/APPEND\");\nconst BITCOUNT = require(\"../commands/BITCOUNT\");\nconst BITFIELD_RO = require(\"../commands/BITFIELD_RO\");\nconst BITFIELD = require(\"../commands/BITFIELD\");\nconst BITOP = require(\"../commands/BITOP\");\nconst BITPOS = require(\"../commands/BITPOS\");\nconst BLMOVE = require(\"../commands/BLMOVE\");\nconst BLMPOP = require(\"../commands/BLMPOP\");\nconst BLPOP = require(\"../commands/BLPOP\");\nconst BRPOP = require(\"../commands/BRPOP\");\nconst BRPOPLPUSH = require(\"../commands/BRPOPLPUSH\");\nconst BZMPOP = require(\"../commands/BZMPOP\");\nconst BZPOPMAX = require(\"../commands/BZPOPMAX\");\nconst BZPOPMIN = require(\"../commands/BZPOPMIN\");\nconst COPY = require(\"../commands/COPY\");\nconst DECR = require(\"../commands/DECR\");\nconst DECRBY = require(\"../commands/DECRBY\");\nconst DEL = require(\"../commands/DEL\");\nconst DUMP = require(\"../commands/DUMP\");\nconst EVAL_RO = require(\"../commands/EVAL_RO\");\nconst EVAL = require(\"../commands/EVAL\");\nconst EVALSHA_RO = require(\"../commands/EVALSHA_RO\");\nconst EVALSHA = require(\"../commands/EVALSHA\");\nconst EXISTS = require(\"../commands/EXISTS\");\nconst EXPIRE = require(\"../commands/EXPIRE\");\nconst EXPIREAT = require(\"../commands/EXPIREAT\");\nconst EXPIRETIME = require(\"../commands/EXPIRETIME\");\nconst FCALL_RO = require(\"../commands/FCALL_RO\");\nconst FCALL = require(\"../commands/FCALL\");\nconst GEOADD = require(\"../commands/GEOADD\");\nconst GEODIST = require(\"../commands/GEODIST\");\nconst GEOHASH = require(\"../commands/GEOHASH\");\nconst GEOPOS = require(\"../commands/GEOPOS\");\nconst GEORADIUS_RO_WITH = require(\"../commands/GEORADIUS_RO_WITH\");\nconst GEORADIUS_RO = require(\"../commands/GEORADIUS_RO\");\nconst GEORADIUS_WITH = require(\"../commands/GEORADIUS_WITH\");\nconst GEORADIUS = require(\"../commands/GEORADIUS\");\nconst GEORADIUSBYMEMBER_RO_WITH = require(\"../commands/GEORADIUSBYMEMBER_RO_WITH\");\nconst GEORADIUSBYMEMBER_RO = require(\"../commands/GEORADIUSBYMEMBER_RO\");\nconst GEORADIUSBYMEMBER_WITH = require(\"../commands/GEORADIUSBYMEMBER_WITH\");\nconst GEORADIUSBYMEMBER = require(\"../commands/GEORADIUSBYMEMBER\");\nconst GEORADIUSBYMEMBERSTORE = require(\"../commands/GEORADIUSBYMEMBERSTORE\");\nconst GEORADIUSSTORE = require(\"../commands/GEORADIUSSTORE\");\nconst GEOSEARCH_WITH = require(\"../commands/GEOSEARCH_WITH\");\nconst GEOSEARCH = require(\"../commands/GEOSEARCH\");\nconst GEOSEARCHSTORE = require(\"../commands/GEOSEARCHSTORE\");\nconst GET = require(\"../commands/GET\");\nconst GETBIT = require(\"../commands/GETBIT\");\nconst GETDEL = require(\"../commands/GETDEL\");\nconst GETEX = require(\"../commands/GETEX\");\nconst GETRANGE = require(\"../commands/GETRANGE\");\nconst GETSET = require(\"../commands/GETSET\");\nconst HDEL = require(\"../commands/HDEL\");\nconst HEXISTS = require(\"../commands/HEXISTS\");\nconst HEXPIRE = require(\"../commands/HEXPIRE\");\nconst HEXPIREAT = require(\"../commands/HEXPIREAT\");\nconst HEXPIRETIME = require(\"../commands/HEXPIRETIME\");\nconst HGET = require(\"../commands/HGET\");\nconst HGETALL = require(\"../commands/HGETALL\");\nconst HINCRBY = require(\"../commands/HINCRBY\");\nconst HINCRBYFLOAT = require(\"../commands/HINCRBYFLOAT\");\nconst HKEYS = require(\"../commands/HKEYS\");\nconst HLEN = require(\"../commands/HLEN\");\nconst HMGET = require(\"../commands/HMGET\");\nconst HPERSIST = require(\"../commands/HPERSIST\");\nconst HPEXPIRE = require(\"../commands/HPEXPIRE\");\nconst HPEXPIREAT = require(\"../commands/HPEXPIREAT\");\nconst HPEXPIRETIME = require(\"../commands/HPEXPIRETIME\");\nconst HPTTL = require(\"../commands/HPTTL\");\nconst HRANDFIELD_COUNT_WITHVALUES = require(\"../commands/HRANDFIELD_COUNT_WITHVALUES\");\nconst HRANDFIELD_COUNT = require(\"../commands/HRANDFIELD_COUNT\");\nconst HRANDFIELD = require(\"../commands/HRANDFIELD\");\nconst HSCAN = require(\"../commands/HSCAN\");\nconst HSCAN_NOVALUES = require(\"../commands/HSCAN_NOVALUES\");\nconst HSET = require(\"../commands/HSET\");\nconst HSETNX = require(\"../commands/HSETNX\");\nconst HSTRLEN = require(\"../commands/HSTRLEN\");\nconst HTTL = require(\"../commands/HTTL\");\nconst HVALS = require(\"../commands/HVALS\");\nconst INCR = require(\"../commands/INCR\");\nconst INCRBY = require(\"../commands/INCRBY\");\nconst INCRBYFLOAT = require(\"../commands/INCRBYFLOAT\");\nconst LCS_IDX_WITHMATCHLEN = require(\"../commands/LCS_IDX_WITHMATCHLEN\");\nconst LCS_IDX = require(\"../commands/LCS_IDX\");\nconst LCS_LEN = require(\"../commands/LCS_LEN\");\nconst LCS = require(\"../commands/LCS\");\nconst LINDEX = require(\"../commands/LINDEX\");\nconst LINSERT = require(\"../commands/LINSERT\");\nconst LLEN = require(\"../commands/LLEN\");\nconst LMOVE = require(\"../commands/LMOVE\");\nconst LMPOP = require(\"../commands/LMPOP\");\nconst LPOP_COUNT = require(\"../commands/LPOP_COUNT\");\nconst LPOP = require(\"../commands/LPOP\");\nconst LPOS_COUNT = require(\"../commands/LPOS_COUNT\");\nconst LPOS = require(\"../commands/LPOS\");\nconst LPUSH = require(\"../commands/LPUSH\");\nconst LPUSHX = require(\"../commands/LPUSHX\");\nconst LRANGE = require(\"../commands/LRANGE\");\nconst LREM = require(\"../commands/LREM\");\nconst LSET = require(\"../commands/LSET\");\nconst LTRIM = require(\"../commands/LTRIM\");\nconst MGET = require(\"../commands/MGET\");\nconst MIGRATE = require(\"../commands/MIGRATE\");\nconst MSET = require(\"../commands/MSET\");\nconst MSETNX = require(\"../commands/MSETNX\");\nconst OBJECT_ENCODING = require(\"../commands/OBJECT_ENCODING\");\nconst OBJECT_FREQ = require(\"../commands/OBJECT_FREQ\");\nconst OBJECT_IDLETIME = require(\"../commands/OBJECT_IDLETIME\");\nconst OBJECT_REFCOUNT = require(\"../commands/OBJECT_REFCOUNT\");\nconst PERSIST = require(\"../commands/PERSIST\");\nconst PEXPIRE = require(\"../commands/PEXPIRE\");\nconst PEXPIREAT = require(\"../commands/PEXPIREAT\");\nconst PEXPIRETIME = require(\"../commands/PEXPIRETIME\");\nconst PFADD = require(\"../commands/PFADD\");\nconst PFCOUNT = require(\"../commands/PFCOUNT\");\nconst PFMERGE = require(\"../commands/PFMERGE\");\nconst PSETEX = require(\"../commands/PSETEX\");\nconst PTTL = require(\"../commands/PTTL\");\nconst PUBLISH = require(\"../commands/PUBLISH\");\nconst RENAME = require(\"../commands/RENAME\");\nconst RENAMENX = require(\"../commands/RENAMENX\");\nconst RESTORE = require(\"../commands/RESTORE\");\nconst RPOP_COUNT = require(\"../commands/RPOP_COUNT\");\nconst RPOP = require(\"../commands/RPOP\");\nconst RPOPLPUSH = require(\"../commands/RPOPLPUSH\");\nconst RPUSH = require(\"../commands/RPUSH\");\nconst RPUSHX = require(\"../commands/RPUSHX\");\nconst SADD = require(\"../commands/SADD\");\nconst SCARD = require(\"../commands/SCARD\");\nconst SDIFF = require(\"../commands/SDIFF\");\nconst SDIFFSTORE = require(\"../commands/SDIFFSTORE\");\nconst SET = require(\"../commands/SET\");\nconst SETBIT = require(\"../commands/SETBIT\");\nconst SETEX = require(\"../commands/SETEX\");\nconst SETNX = require(\"../commands/SETNX\");\nconst SETRANGE = require(\"../commands/SETRANGE\");\nconst SINTER = require(\"../commands/SINTER\");\nconst SINTERCARD = require(\"../commands/SINTERCARD\");\nconst SINTERSTORE = require(\"../commands/SINTERSTORE\");\nconst SISMEMBER = require(\"../commands/SISMEMBER\");\nconst SMEMBERS = require(\"../commands/SMEMBERS\");\nconst SMISMEMBER = require(\"../commands/SMISMEMBER\");\nconst SMOVE = require(\"../commands/SMOVE\");\nconst SORT_RO = require(\"../commands/SORT_RO\");\nconst SORT_STORE = require(\"../commands/SORT_STORE\");\nconst SORT = require(\"../commands/SORT\");\nconst SPOP = require(\"../commands/SPOP\");\nconst SPUBLISH = require(\"../commands/SPUBLISH\");\nconst SRANDMEMBER_COUNT = require(\"../commands/SRANDMEMBER_COUNT\");\nconst SRANDMEMBER = require(\"../commands/SRANDMEMBER\");\nconst SREM = require(\"../commands/SREM\");\nconst SSCAN = require(\"../commands/SSCAN\");\nconst STRLEN = require(\"../commands/STRLEN\");\nconst SUNION = require(\"../commands/SUNION\");\nconst SUNIONSTORE = require(\"../commands/SUNIONSTORE\");\nconst TOUCH = require(\"../commands/TOUCH\");\nconst TTL = require(\"../commands/TTL\");\nconst TYPE = require(\"../commands/TYPE\");\nconst UNLINK = require(\"../commands/UNLINK\");\nconst WATCH = require(\"../commands/WATCH\");\nconst XACK = require(\"../commands/XACK\");\nconst XADD = require(\"../commands/XADD\");\nconst XAUTOCLAIM_JUSTID = require(\"../commands/XAUTOCLAIM_JUSTID\");\nconst XAUTOCLAIM = require(\"../commands/XAUTOCLAIM\");\nconst XCLAIM_JUSTID = require(\"../commands/XCLAIM_JUSTID\");\nconst XCLAIM = require(\"../commands/XCLAIM\");\nconst XDEL = require(\"../commands/XDEL\");\nconst XGROUP_CREATE = require(\"../commands/XGROUP_CREATE\");\nconst XGROUP_CREATECONSUMER = require(\"../commands/XGROUP_CREATECONSUMER\");\nconst XGROUP_DELCONSUMER = require(\"../commands/XGROUP_DELCONSUMER\");\nconst XGROUP_DESTROY = require(\"../commands/XGROUP_DESTROY\");\nconst XGROUP_SETID = require(\"../commands/XGROUP_SETID\");\nconst XINFO_CONSUMERS = require(\"../commands/XINFO_CONSUMERS\");\nconst XINFO_GROUPS = require(\"../commands/XINFO_GROUPS\");\nconst XINFO_STREAM = require(\"../commands/XINFO_STREAM\");\nconst XLEN = require(\"../commands/XLEN\");\nconst XPENDING_RANGE = require(\"../commands/XPENDING_RANGE\");\nconst XPENDING = require(\"../commands/XPENDING\");\nconst XRANGE = require(\"../commands/XRANGE\");\nconst XREAD = require(\"../commands/XREAD\");\nconst XREADGROUP = require(\"../commands/XREADGROUP\");\nconst XREVRANGE = require(\"../commands/XREVRANGE\");\nconst XSETID = require(\"../commands/XSETID\");\nconst XTRIM = require(\"../commands/XTRIM\");\nconst ZADD = require(\"../commands/ZADD\");\nconst ZCARD = require(\"../commands/ZCARD\");\nconst ZCOUNT = require(\"../commands/ZCOUNT\");\nconst ZDIFF_WITHSCORES = require(\"../commands/ZDIFF_WITHSCORES\");\nconst ZDIFF = require(\"../commands/ZDIFF\");\nconst ZDIFFSTORE = require(\"../commands/ZDIFFSTORE\");\nconst ZINCRBY = require(\"../commands/ZINCRBY\");\nconst ZINTER_WITHSCORES = require(\"../commands/ZINTER_WITHSCORES\");\nconst ZINTER = require(\"../commands/ZINTER\");\nconst ZINTERCARD = require(\"../commands/ZINTERCARD\");\nconst ZINTERSTORE = require(\"../commands/ZINTERSTORE\");\nconst ZLEXCOUNT = require(\"../commands/ZLEXCOUNT\");\nconst ZMPOP = require(\"../commands/ZMPOP\");\nconst ZMSCORE = require(\"../commands/ZMSCORE\");\nconst ZPOPMAX_COUNT = require(\"../commands/ZPOPMAX_COUNT\");\nconst ZPOPMAX = require(\"../commands/ZPOPMAX\");\nconst ZPOPMIN_COUNT = require(\"../commands/ZPOPMIN_COUNT\");\nconst ZPOPMIN = require(\"../commands/ZPOPMIN\");\nconst ZRANDMEMBER_COUNT_WITHSCORES = require(\"../commands/ZRANDMEMBER_COUNT_WITHSCORES\");\nconst ZRANDMEMBER_COUNT = require(\"../commands/ZRANDMEMBER_COUNT\");\nconst ZRANDMEMBER = require(\"../commands/ZRANDMEMBER\");\nconst ZRANGE_WITHSCORES = require(\"../commands/ZRANGE_WITHSCORES\");\nconst ZRANGE = require(\"../commands/ZRANGE\");\nconst ZRANGEBYLEX = require(\"../commands/ZRANGEBYLEX\");\nconst ZRANGEBYSCORE_WITHSCORES = require(\"../commands/ZRANGEBYSCORE_WITHSCORES\");\nconst ZRANGEBYSCORE = require(\"../commands/ZRANGEBYSCORE\");\nconst ZRANGESTORE = require(\"../commands/ZRANGESTORE\");\nconst ZRANK = require(\"../commands/ZRANK\");\nconst ZREM = require(\"../commands/ZREM\");\nconst ZREMRANGEBYLEX = require(\"../commands/ZREMRANGEBYLEX\");\nconst ZREMRANGEBYRANK = require(\"../commands/ZREMRANGEBYRANK\");\nconst ZREMRANGEBYSCORE = require(\"../commands/ZREMRANGEBYSCORE\");\nconst ZREVRANK = require(\"../commands/ZREVRANK\");\nconst ZSCAN = require(\"../commands/ZSCAN\");\nconst ZSCORE = require(\"../commands/ZSCORE\");\nconst ZUNION_WITHSCORES = require(\"../commands/ZUNION_WITHSCORES\");\nconst ZUNION = require(\"../commands/ZUNION\");\nconst ZUNIONSTORE = require(\"../commands/ZUNIONSTORE\");\nexports.default = {\n    APPEND,\n    append: APPEND,\n    BITCOUNT,\n    bitCount: BITCOUNT,\n    BITFIELD_RO,\n    bitFieldRo: BITFIELD_RO,\n    BITFIELD,\n    bitField: BITFIELD,\n    BITOP,\n    bitOp: BITOP,\n    BITPOS,\n    bitPos: BITPOS,\n    BLMOVE,\n    blMove: BLMOVE,\n    BLMPOP,\n    blmPop: BLMPOP,\n    BLPOP,\n    blPop: BLPOP,\n    BRPOP,\n    brPop: BRPOP,\n    BRPOPLPUSH,\n    brPopLPush: BRPOPLPUSH,\n    BZMPOP,\n    bzmPop: BZMPOP,\n    BZPOPMAX,\n    bzPopMax: BZPOPMAX,\n    BZPOPMIN,\n    bzPopMin: BZPOPMIN,\n    COPY,\n    copy: COPY,\n    DECR,\n    decr: DECR,\n    DECRBY,\n    decrBy: DECRBY,\n    DEL,\n    del: DEL,\n    DUMP,\n    dump: DUMP,\n    EVAL_RO,\n    evalRo: EVAL_RO,\n    EVAL,\n    eval: EVAL,\n    EVALSHA,\n    evalSha: EVALSHA,\n    EVALSHA_RO,\n    evalShaRo: EVALSHA_RO,\n    EXISTS,\n    exists: EXISTS,\n    EXPIRE,\n    expire: EXPIRE,\n    EXPIREAT,\n    expireAt: EXPIREAT,\n    EXPIRETIME,\n    expireTime: EXPIRETIME,\n    FCALL_RO,\n    fCallRo: FCALL_RO,\n    FCALL,\n    fCall: FCALL,\n    GEOADD,\n    geoAdd: GEOADD,\n    GEODIST,\n    geoDist: GEODIST,\n    GEOHASH,\n    geoHash: GEOHASH,\n    GEOPOS,\n    geoPos: GEOPOS,\n    GEORADIUS_RO_WITH,\n    geoRadiusRoWith: GEORADIUS_RO_WITH,\n    GEORADIUS_RO,\n    geoRadiusRo: GEORADIUS_RO,\n    GEORADIUS_WITH,\n    geoRadiusWith: GEORADIUS_WITH,\n    GEORADIUS,\n    geoRadius: GEORADIUS,\n    GEORADIUSBYMEMBER_RO_WITH,\n    geoRadiusByMemberRoWith: GEORADIUSBYMEMBER_RO_WITH,\n    GEORADIUSBYMEMBER_RO,\n    geoRadiusByMemberRo: GEORADIUSBYMEMBER_RO,\n    GEORADIUSBYMEMBER_WITH,\n    geoRadiusByMemberWith: GEORADIUSBYMEMBER_WITH,\n    GEORADIUSBYMEMBER,\n    geoRadiusByMember: GEORADIUSBYMEMBER,\n    GEORADIUSBYMEMBERSTORE,\n    geoRadiusByMemberStore: GEORADIUSBYMEMBERSTORE,\n    GEORADIUSSTORE,\n    geoRadiusStore: GEORADIUSSTORE,\n    GEOSEARCH_WITH,\n    geoSearchWith: GEOSEARCH_WITH,\n    GEOSEARCH,\n    geoSearch: GEOSEARCH,\n    GEOSEARCHSTORE,\n    geoSearchStore: GEOSEARCHSTORE,\n    GET,\n    get: GET,\n    GETBIT,\n    getBit: GETBIT,\n    GETDEL,\n    getDel: GETDEL,\n    GETEX,\n    getEx: GETEX,\n    GETRANGE,\n    getRange: GETRANGE,\n    GETSET,\n    getSet: GETSET,\n    HDEL,\n    hDel: HDEL,\n    HEXISTS,\n    hExists: HEXISTS,\n    HEXPIRE,\n    hExpire: HEXPIRE,\n    HEXPIREAT,\n    hExpireAt: HEXPIREAT,\n    HEXPIRETIME,\n    hExpireTime: HEXPIRETIME,\n    HGET,\n    hGet: HGET,\n    HGETALL,\n    hGetAll: HGETALL,\n    HINCRBY,\n    hIncrBy: HINCRBY,\n    HINCRBYFLOAT,\n    hIncrByFloat: HINCRBYFLOAT,\n    HKEYS,\n    hKeys: HKEYS,\n    HLEN,\n    hLen: HLEN,\n    HMGET,\n    hmGet: HMGET,\n    HPERSIST,\n    hPersist: HPERSIST,\n    HPEXPIRE,\n    hpExpire: HPEXPIRE,\n    HPEXPIREAT,\n    hpExpireAt: HPEXPIREAT,\n    HPEXPIRETIME,\n    hpExpireTime: HPEXPIRETIME,\n    HPTTL,\n    hpTTL: HPTTL,\n    HRANDFIELD_COUNT_WITHVALUES,\n    hRandFieldCountWithValues: HRANDFIELD_COUNT_WITHVALUES,\n    HRANDFIELD_COUNT,\n    hRandFieldCount: HRANDFIELD_COUNT,\n    HRANDFIELD,\n    hRandField: HRANDFIELD,\n    HSCAN,\n    hScan: HSCAN,\n    HSCAN_NOVALUES,\n    hScanNoValues: HSCAN_NOVALUES,\n    HSET,\n    hSet: HSET,\n    HSETNX,\n    hSetNX: HSETNX,\n    HSTRLEN,\n    hStrLen: HSTRLEN,\n    HTTL,\n    hTTL: HTTL,\n    HVALS,\n    hVals: HVALS,\n    INCR,\n    incr: INCR,\n    INCRBY,\n    incrBy: INCRBY,\n    INCRBYFLOAT,\n    incrByFloat: INCRBYFLOAT,\n    LCS_IDX_WITHMATCHLEN,\n    lcsIdxWithMatchLen: LCS_IDX_WITHMATCHLEN,\n    LCS_IDX,\n    lcsIdx: LCS_IDX,\n    LCS_LEN,\n    lcsLen: LCS_LEN,\n    LCS,\n    lcs: LCS,\n    LINDEX,\n    lIndex: LINDEX,\n    LINSERT,\n    lInsert: LINSERT,\n    LLEN,\n    lLen: LLEN,\n    LMOVE,\n    lMove: LMOVE,\n    LMPOP,\n    lmPop: LMPOP,\n    LPOP_COUNT,\n    lPopCount: LPOP_COUNT,\n    LPOP,\n    lPop: LPOP,\n    LPOS_COUNT,\n    lPosCount: LPOS_COUNT,\n    LPOS,\n    lPos: LPOS,\n    LPUSH,\n    lPush: LPUSH,\n    LPUSHX,\n    lPushX: LPUSHX,\n    LRANGE,\n    lRange: LRANGE,\n    LREM,\n    lRem: LREM,\n    LSET,\n    lSet: LSET,\n    LTRIM,\n    lTrim: LTRIM,\n    MGET,\n    mGet: MGET,\n    MIGRATE,\n    migrate: MIGRATE,\n    MSET,\n    mSet: MSET,\n    MSETNX,\n    mSetNX: MSETNX,\n    OBJECT_ENCODING,\n    objectEncoding: OBJECT_ENCODING,\n    OBJECT_FREQ,\n    objectFreq: OBJECT_FREQ,\n    OBJECT_IDLETIME,\n    objectIdleTime: OBJECT_IDLETIME,\n    OBJECT_REFCOUNT,\n    objectRefCount: OBJECT_REFCOUNT,\n    PERSIST,\n    persist: PERSIST,\n    PEXPIRE,\n    pExpire: PEXPIRE,\n    PEXPIREAT,\n    pExpireAt: PEXPIREAT,\n    PEXPIRETIME,\n    pExpireTime: PEXPIRETIME,\n    PFADD,\n    pfAdd: PFADD,\n    PFCOUNT,\n    pfCount: PFCOUNT,\n    PFMERGE,\n    pfMerge: PFMERGE,\n    PSETEX,\n    pSetEx: PSETEX,\n    PTTL,\n    pTTL: PTTL,\n    PUBLISH,\n    publish: PUBLISH,\n    RENAME,\n    rename: RENAME,\n    RENAMENX,\n    renameNX: RENAMENX,\n    RESTORE,\n    restore: RESTORE,\n    RPOP_COUNT,\n    rPopCount: RPOP_COUNT,\n    RPOP,\n    rPop: RPOP,\n    RPOPLPUSH,\n    rPopLPush: RPOPLPUSH,\n    RPUSH,\n    rPush: RPUSH,\n    RPUSHX,\n    rPushX: RPUSHX,\n    SADD,\n    sAdd: SADD,\n    SCARD,\n    sCard: SCARD,\n    SDIFF,\n    sDiff: SDIFF,\n    SDIFFSTORE,\n    sDiffStore: SDIFFSTORE,\n    SINTER,\n    sInter: SINTER,\n    SINTERCARD,\n    sInterCard: SINTERCARD,\n    SINTERSTORE,\n    sInterStore: SINTERSTORE,\n    SET,\n    set: SET,\n    SETBIT,\n    setBit: SETBIT,\n    SETEX,\n    setEx: SETEX,\n    SETNX,\n    setNX: SETNX,\n    SETRANGE,\n    setRange: SETRANGE,\n    SISMEMBER,\n    sIsMember: SISMEMBER,\n    SMEMBERS,\n    sMembers: SMEMBERS,\n    SMISMEMBER,\n    smIsMember: SMISMEMBER,\n    SMOVE,\n    sMove: SMOVE,\n    SORT_RO,\n    sortRo: SORT_RO,\n    SORT_STORE,\n    sortStore: SORT_STORE,\n    SORT,\n    sort: SORT,\n    SPOP,\n    sPop: SPOP,\n    SPUBLISH,\n    sPublish: SPUBLISH,\n    SRANDMEMBER_COUNT,\n    sRandMemberCount: SRANDMEMBER_COUNT,\n    SRANDMEMBER,\n    sRandMember: SRANDMEMBER,\n    SREM,\n    sRem: SREM,\n    SSCAN,\n    sScan: SSCAN,\n    STRLEN,\n    strLen: STRLEN,\n    SUNION,\n    sUnion: SUNION,\n    SUNIONSTORE,\n    sUnionStore: SUNIONSTORE,\n    TOUCH,\n    touch: TOUCH,\n    TTL,\n    ttl: TTL,\n    TYPE,\n    type: TYPE,\n    UNLINK,\n    unlink: UNLINK,\n    WATCH,\n    watch: WATCH,\n    XACK,\n    xAck: XACK,\n    XADD,\n    xAdd: XADD,\n    XAUTOCLAIM_JUSTID,\n    xAutoClaimJustId: XAUTOCLAIM_JUSTID,\n    XAUTOCLAIM,\n    xAutoClaim: XAUTOCLAIM,\n    XCLAIM,\n    xClaim: XCLAIM,\n    XCLAIM_JUSTID,\n    xClaimJustId: XCLAIM_JUSTID,\n    XDEL,\n    xDel: XDEL,\n    XGROUP_CREATE,\n    xGroupCreate: XGROUP_CREATE,\n    XGROUP_CREATECONSUMER,\n    xGroupCreateConsumer: XGROUP_CREATECONSUMER,\n    XGROUP_DELCONSUMER,\n    xGroupDelConsumer: XGROUP_DELCONSUMER,\n    XGROUP_DESTROY,\n    xGroupDestroy: XGROUP_DESTROY,\n    XGROUP_SETID,\n    xGroupSetId: XGROUP_SETID,\n    XINFO_CONSUMERS,\n    xInfoConsumers: XINFO_CONSUMERS,\n    XINFO_GROUPS,\n    xInfoGroups: XINFO_GROUPS,\n    XINFO_STREAM,\n    xInfoStream: XINFO_STREAM,\n    XLEN,\n    xLen: XLEN,\n    XPENDING_RANGE,\n    xPendingRange: XPENDING_RANGE,\n    XPENDING,\n    xPending: XPENDING,\n    XRANGE,\n    xRange: XRANGE,\n    XREAD,\n    xRead: XREAD,\n    XREADGROUP,\n    xReadGroup: XREADGROUP,\n    XREVRANGE,\n    xRevRange: XREVRANGE,\n    XSETID,\n    xSetId: XSETID,\n    XTRIM,\n    xTrim: XTRIM,\n    ZADD,\n    zAdd: ZADD,\n    ZCARD,\n    zCard: ZCARD,\n    ZCOUNT,\n    zCount: ZCOUNT,\n    ZDIFF_WITHSCORES,\n    zDiffWithScores: ZDIFF_WITHSCORES,\n    ZDIFF,\n    zDiff: ZDIFF,\n    ZDIFFSTORE,\n    zDiffStore: ZDIFFSTORE,\n    ZINCRBY,\n    zIncrBy: ZINCRBY,\n    ZINTER_WITHSCORES,\n    zInterWithScores: ZINTER_WITHSCORES,\n    ZINTER,\n    zInter: ZINTER,\n    ZINTERCARD,\n    zInterCard: ZINTERCARD,\n    ZINTERSTORE,\n    zInterStore: ZINTERSTORE,\n    ZLEXCOUNT,\n    zLexCount: ZLEXCOUNT,\n    ZMPOP,\n    zmPop: ZMPOP,\n    ZMSCORE,\n    zmScore: ZMSCORE,\n    ZPOPMAX_COUNT,\n    zPopMaxCount: ZPOPMAX_COUNT,\n    ZPOPMAX,\n    zPopMax: ZPOPMAX,\n    ZPOPMIN_COUNT,\n    zPopMinCount: ZPOPMIN_COUNT,\n    ZPOPMIN,\n    zPopMin: ZPOPMIN,\n    ZRANDMEMBER_COUNT_WITHSCORES,\n    zRandMemberCountWithScores: ZRANDMEMBER_COUNT_WITHSCORES,\n    ZRANDMEMBER_COUNT,\n    zRandMemberCount: ZRANDMEMBER_COUNT,\n    ZRANDMEMBER,\n    zRandMember: ZRANDMEMBER,\n    ZRANGE_WITHSCORES,\n    zRangeWithScores: ZRANGE_WITHSCORES,\n    ZRANGE,\n    zRange: ZRANGE,\n    ZRANGEBYLEX,\n    zRangeByLex: ZRANGEBYLEX,\n    ZRANGEBYSCORE_WITHSCORES,\n    zRangeByScoreWithScores: ZRANGEBYSCORE_WITHSCORES,\n    ZRANGEBYSCORE,\n    zRangeByScore: ZRANGEBYSCORE,\n    ZRANGESTORE,\n    zRangeStore: ZRANGESTORE,\n    ZRANK,\n    zRank: ZRANK,\n    ZREM,\n    zRem: ZREM,\n    ZREMRANGEBYLEX,\n    zRemRangeByLex: ZREMRANGEBYLEX,\n    ZREMRANGEBYRANK,\n    zRemRangeByRank: ZREMRANGEBYRANK,\n    ZREMRANGEBYSCORE,\n    zRemRangeByScore: ZREMRANGEBYSCORE,\n    ZREVRANK,\n    zRevRank: ZREVRANK,\n    ZSCAN,\n    zScan: ZSCAN,\n    ZSCORE,\n    zScore: ZSCORE,\n    ZUNION_WITHSCORES,\n    zUnionWithScores: ZUNION_WITHSCORES,\n    ZUNION,\n    zUnion: ZUNION,\n    ZUNIONSTORE,\n    zUnionStore: ZUNIONSTORE\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(categoryName) {\n    const args = ['ACL', 'CAT'];\n    if (categoryName) {\n        args.push(categoryName);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(username) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['ACL', 'DELUSER'], username);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(username, command) {\n    return [\n        'ACL',\n        'DRYRUN',\n        username,\n        ...command\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(bits) {\n    const args = ['ACL', 'GENPASS'];\n    if (bits) {\n        args.push(bits.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(username) {\n    return ['ACL', 'GETUSER', username];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        flags: reply[1],\n        passwords: reply[3],\n        commands: reply[5],\n        keys: reply[7],\n        channels: reply[9],\n        selectors: reply[11]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['ACL', 'LIST'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['ACL', 'LOAD'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['ACL', 'LOG', 'RESET'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(count) {\n    const args = ['ACL', 'LOG'];\n    if (count) {\n        args.push(count.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(log => ({\n        count: log[1],\n        reason: log[3],\n        context: log[5],\n        object: log[7],\n        username: log[9],\n        ageSeconds: Number(log[11]),\n        clientInfo: log[13]\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['ACL', 'SAVE'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(username, rule) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['ACL', 'SETUSER', username], rule);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['ACL', 'USERS'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['ACL', 'WHOAMI'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['ASKING'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments({ username, password }) {\n    if (!username) {\n        return ['AUTH', password];\n    }\n    return ['AUTH', username, password];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['BGREWRITEAOF'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(options) {\n    const args = ['BGSAVE'];\n    if (options?.SCHEDULE) {\n        args.push('SCHEDULE');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(value) {\n    return [\n        'CLIENT',\n        'CACHING',\n        value ? 'YES' : 'NO'\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLIENT', 'GETNAME'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLIENT', 'GETREDIR'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['CLIENT', 'ID'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.ClientKillFilters = void 0;\nvar ClientKillFilters;\n(function (ClientKillFilters) {\n    ClientKillFilters[\"ADDRESS\"] = \"ADDR\";\n    ClientKillFilters[\"LOCAL_ADDRESS\"] = \"LADDR\";\n    ClientKillFilters[\"ID\"] = \"ID\";\n    ClientKillFilters[\"TYPE\"] = \"TYPE\";\n    ClientKillFilters[\"USER\"] = \"USER\";\n    ClientKillFilters[\"SKIP_ME\"] = \"SKIPME\";\n    ClientKillFilters[\"MAXAGE\"] = \"MAXAGE\";\n})(ClientKillFilters || (exports.ClientKillFilters = ClientKillFilters = {}));\nfunction transformArguments(filters) {\n    const args = ['CLIENT', 'KILL'];\n    if (Array.isArray(filters)) {\n        for (const filter of filters) {\n            pushFilter(args, filter);\n        }\n    }\n    else {\n        pushFilter(args, filters);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction pushFilter(args, filter) {\n    if (filter === ClientKillFilters.SKIP_ME) {\n        args.push('SKIPME');\n        return;\n    }\n    args.push(filter.filter);\n    switch (filter.filter) {\n        case ClientKillFilters.ADDRESS:\n            args.push(filter.address);\n            break;\n        case ClientKillFilters.LOCAL_ADDRESS:\n            args.push(filter.localAddress);\n            break;\n        case ClientKillFilters.ID:\n            args.push(typeof filter.id === 'number' ?\n                filter.id.toString() :\n                filter.id);\n            break;\n        case ClientKillFilters.TYPE:\n            args.push(filter.type);\n            break;\n        case ClientKillFilters.USER:\n            args.push(filter.username);\n            break;\n        case ClientKillFilters.SKIP_ME:\n            args.push(filter.skipMe ? 'yes' : 'no');\n            break;\n        case ClientKillFilters.MAXAGE:\n            args.push(filter.maxAge.toString());\n            break;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['CLIENT', 'INFO'];\n}\nexports.transformArguments = transformArguments;\nconst CLIENT_INFO_REGEX = /([^\\s=]+)=([^\\s]*)/g;\nfunction transformReply(rawReply) {\n    const map = {};\n    for (const item of rawReply.matchAll(CLIENT_INFO_REGEX)) {\n        map[item[1]] = item[2];\n    }\n    const reply = {\n        id: Number(map.id),\n        addr: map.addr,\n        fd: Number(map.fd),\n        name: map.name,\n        age: Number(map.age),\n        idle: Number(map.idle),\n        flags: map.flags,\n        db: Number(map.db),\n        sub: Number(map.sub),\n        psub: Number(map.psub),\n        multi: Number(map.multi),\n        qbuf: Number(map.qbuf),\n        qbufFree: Number(map['qbuf-free']),\n        argvMem: Number(map['argv-mem']),\n        obl: Number(map.obl),\n        oll: Number(map.oll),\n        omem: Number(map.omem),\n        totMem: Number(map['tot-mem']),\n        events: map.events,\n        cmd: map.cmd,\n        user: map.user,\n        libName: map['lib-name'],\n        libVer: map['lib-ver'],\n    };\n    if (map.laddr !== undefined) {\n        reply.laddr = map.laddr;\n    }\n    if (map.redir !== undefined) {\n        reply.redir = Number(map.redir);\n    }\n    if (map.ssub !== undefined) {\n        reply.ssub = Number(map.ssub);\n    }\n    if (map['multi-mem'] !== undefined) {\n        reply.multiMem = Number(map['multi-mem']);\n    }\n    if (map.resp !== undefined) {\n        reply.resp = Number(map.resp);\n    }\n    return reply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nconst CLIENT_INFO_1 = require(\"./CLIENT_INFO\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(filter) {\n    let args = ['CLIENT', 'LIST'];\n    if (filter) {\n        if (filter.TYPE !== undefined) {\n            args.push('TYPE', filter.TYPE);\n        }\n        else {\n            args.push('ID');\n            args = (0, generic_transformers_1.pushVerdictArguments)(args, filter.ID);\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    const split = rawReply.split('\\n'), length = split.length - 1, reply = [];\n    for (let i = 0; i < length; i++) {\n        reply.push((0, CLIENT_INFO_1.transformReply)(split[i]));\n    }\n    return reply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(value) {\n    return [\n        'CLIENT',\n        'NO-EVICT',\n        value ? 'ON' : 'OFF'\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(value) {\n    return [\n        'CLIENT',\n        'NO-TOUCH',\n        value ? 'ON' : 'OFF'\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(timeout, mode) {\n    const args = [\n        'CLIENT',\n        'PAUSE',\n        timeout.toString()\n    ];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(name) {\n    return ['CLIENT', 'SETNAME', name];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(mode, options) {\n    const args = [\n        'CLIENT',\n        'TRACKING',\n        mode ? 'ON' : 'OFF'\n    ];\n    if (mode) {\n        if (options?.REDIRECT) {\n            args.push('REDIRECT', options.REDIRECT.toString());\n        }\n        if (isBroadcast(options)) {\n            args.push('BCAST');\n            if (options?.PREFIX) {\n                if (Array.isArray(options.PREFIX)) {\n                    for (const prefix of options.PREFIX) {\n                        args.push('PREFIX', prefix);\n                    }\n                }\n                else {\n                    args.push('PREFIX', options.PREFIX);\n                }\n            }\n        }\n        else if (isOptIn(options)) {\n            args.push('OPTIN');\n        }\n        else if (isOptOut(options)) {\n            args.push('OPTOUT');\n        }\n        if (options?.NOLOOP) {\n            args.push('NOLOOP');\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction isBroadcast(options) {\n    return options?.BCAST === true;\n}\nfunction isOptIn(options) {\n    return options?.OPTIN === true;\n}\nfunction isOptOut(options) {\n    return options?.OPTOUT === true;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLIENT', 'TRACKINGINFO'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        flags: new Set(reply[1]),\n        redirect: reply[3],\n        prefixes: reply[5]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLIENT', 'UNPAUSE'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(slots) {\n    return (0, generic_transformers_1.pushVerdictNumberArguments)(['CLUSTER', 'ADDSLOTS'], slots);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(ranges) {\n    return (0, generic_transformers_1.pushSlotRangesArguments)(['CLUSTER', 'ADDSLOTSRANGE'], ranges);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'BUMPEPOCH'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(nodeId) {\n    return ['CLUSTER', 'COUNT-FAILURE-REPORTS', nodeId];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(slot) {\n    return ['CLUSTER', 'COUNTKEYSINSLOT', slot.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(slots) {\n    return (0, generic_transformers_1.pushVerdictNumberArguments)(['CLUSTER', 'DELSLOTS'], slots);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(ranges) {\n    return (0, generic_transformers_1.pushSlotRangesArguments)(['CLUSTER', 'DELSLOTSRANGE'], ranges);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FailoverModes = void 0;\nvar FailoverModes;\n(function (FailoverModes) {\n    FailoverModes[\"FORCE\"] = \"FORCE\";\n    FailoverModes[\"TAKEOVER\"] = \"TAKEOVER\";\n})(FailoverModes || (exports.FailoverModes = FailoverModes = {}));\nfunction transformArguments(mode) {\n    const args = ['CLUSTER', 'FAILOVER'];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'FLUSHSLOTS'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(nodeId) {\n    return ['CLUSTER', 'FORGET', nodeId];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(slot, count) {\n    return ['CLUSTER', 'GETKEYSINSLOT', slot.toString(), count.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractLineValue = exports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'INFO'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    const lines = reply.split('\\r\\n');\n    return {\n        state: extractLineValue(lines[0]),\n        slots: {\n            assigned: Number(extractLineValue(lines[1])),\n            ok: Number(extractLineValue(lines[2])),\n            pfail: Number(extractLineValue(lines[3])),\n            fail: Number(extractLineValue(lines[4]))\n        },\n        knownNodes: Number(extractLineValue(lines[5])),\n        size: Number(extractLineValue(lines[6])),\n        currentEpoch: Number(extractLineValue(lines[7])),\n        myEpoch: Number(extractLineValue(lines[8])),\n        stats: {\n            messagesSent: Number(extractLineValue(lines[9])),\n            messagesReceived: Number(extractLineValue(lines[10]))\n        }\n    };\n}\nexports.transformReply = transformReply;\nfunction extractLineValue(line) {\n    return line.substring(line.indexOf(':') + 1);\n}\nexports.extractLineValue = extractLineValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(key) {\n    return ['CLUSTER', 'KEYSLOT', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'LINKS'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(peerLink => ({\n        direction: peerLink[1],\n        node: peerLink[3],\n        createTime: Number(peerLink[5]),\n        events: peerLink[7],\n        sendBufferAllocated: Number(peerLink[9]),\n        sendBufferUsed: Number(peerLink[11])\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(ip, port) {\n    return ['CLUSTER', 'MEET', ip, port.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'MYID'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['CLUSTER', 'MYSHARDID'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.RedisClusterNodeLinkStates = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'NODES'];\n}\nexports.transformArguments = transformArguments;\nvar RedisClusterNodeLinkStates;\n(function (RedisClusterNodeLinkStates) {\n    RedisClusterNodeLinkStates[\"CONNECTED\"] = \"connected\";\n    RedisClusterNodeLinkStates[\"DISCONNECTED\"] = \"disconnected\";\n})(RedisClusterNodeLinkStates || (exports.RedisClusterNodeLinkStates = RedisClusterNodeLinkStates = {}));\nfunction transformReply(reply) {\n    const lines = reply.split('\\n');\n    lines.pop(); // last line is empty\n    const mastersMap = new Map(), replicasMap = new Map();\n    for (const line of lines) {\n        const [id, address, flags, masterId, pingSent, pongRecv, configEpoch, linkState, ...slots] = line.split(' '), node = {\n            id,\n            address,\n            ...transformNodeAddress(address),\n            flags: flags.split(','),\n            pingSent: Number(pingSent),\n            pongRecv: Number(pongRecv),\n            configEpoch: Number(configEpoch),\n            linkState: linkState\n        };\n        if (masterId === '-') {\n            let replicas = replicasMap.get(id);\n            if (!replicas) {\n                replicas = [];\n                replicasMap.set(id, replicas);\n            }\n            mastersMap.set(id, {\n                ...node,\n                slots: slots.map(slot => {\n                    // TODO: importing & exporting (https://redis.io/commands/cluster-nodes#special-slot-entries)\n                    const [fromString, toString] = slot.split('-', 2), from = Number(fromString);\n                    return {\n                        from,\n                        to: toString ? Number(toString) : from\n                    };\n                }),\n                replicas\n            });\n        }\n        else {\n            const replicas = replicasMap.get(masterId);\n            if (!replicas) {\n                replicasMap.set(masterId, [node]);\n            }\n            else {\n                replicas.push(node);\n            }\n        }\n    }\n    return [...mastersMap.values()];\n}\nexports.transformReply = transformReply;\nfunction transformNodeAddress(address) {\n    const indexOfColon = address.lastIndexOf(':'), indexOfAt = address.indexOf('@', indexOfColon), host = address.substring(0, indexOfColon);\n    if (indexOfAt === -1) {\n        return {\n            host,\n            port: Number(address.substring(indexOfColon + 1)),\n            cport: null\n        };\n    }\n    return {\n        host: address.substring(0, indexOfColon),\n        port: Number(address.substring(indexOfColon + 1, indexOfAt)),\n        cport: Number(address.substring(indexOfAt + 1))\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(nodeId) {\n    return ['CLUSTER', 'REPLICAS', nodeId];\n}\nexports.transformArguments = transformArguments;\nvar CLUSTER_NODES_1 = require(\"./CLUSTER_NODES\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return CLUSTER_NODES_1.transformReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(nodeId) {\n    return ['CLUSTER', 'REPLICATE', nodeId];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(mode) {\n    const args = ['CLUSTER', 'RESET'];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'SAVECONFIG'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(configEpoch) {\n    return ['CLUSTER', 'SET-CONFIG-EPOCH', configEpoch.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.ClusterSlotStates = void 0;\nvar ClusterSlotStates;\n(function (ClusterSlotStates) {\n    ClusterSlotStates[\"IMPORTING\"] = \"IMPORTING\";\n    ClusterSlotStates[\"MIGRATING\"] = \"MIGRATING\";\n    ClusterSlotStates[\"STABLE\"] = \"STABLE\";\n    ClusterSlotStates[\"NODE\"] = \"NODE\";\n})(ClusterSlotStates || (exports.ClusterSlotStates = ClusterSlotStates = {}));\nfunction transformArguments(slot, state, nodeId) {\n    const args = ['CLUSTER', 'SETSLOT', slot.toString(), state];\n    if (nodeId) {\n        args.push(nodeId);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CLUSTER', 'SLOTS'];\n}\nexports.transformArguments = transformArguments;\n;\nfunction transformReply(reply) {\n    return reply.map(([from, to, master, ...replicas]) => {\n        return {\n            from,\n            to,\n            master: transformNode(master),\n            replicas: replicas.map(transformNode)\n        };\n    });\n}\nexports.transformReply = transformReply;\nfunction transformNode([ip, port, id]) {\n    return {\n        ip,\n        port,\n        id\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['COMMAND', 'COUNT'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(args) {\n    return ['COMMAND', 'GETKEYS', ...args];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(args) {\n    return ['COMMAND', 'GETKEYSANDFLAGS', ...args];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(([key, flags]) => ({\n        key,\n        flags\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(commands) {\n    return ['COMMAND', 'INFO', ...commands];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(command => command ? (0, generic_transformers_1.transformCommandReply)(command) : null);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FilterBy = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nvar FilterBy;\n(function (FilterBy) {\n    FilterBy[\"MODULE\"] = \"MODULE\";\n    FilterBy[\"ACLCAT\"] = \"ACLCAT\";\n    FilterBy[\"PATTERN\"] = \"PATTERN\";\n})(FilterBy || (exports.FilterBy = FilterBy = {}));\nfunction transformArguments(filter) {\n    const args = ['COMMAND', 'LIST'];\n    if (filter) {\n        args.push('FILTERBY', filter.filterBy, filter.value);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['COMMAND'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(generic_transformers_1.transformCommandReply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(parameter) {\n    return ['CONFIG', 'GET', parameter];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformTuplesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CONFIG', 'RESETSTAT'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['CONFIG', 'REWRITE'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(...[parameterOrConfig, value]) {\n    const args = ['CONFIG', 'SET'];\n    if (typeof parameterOrConfig === 'string') {\n        args.push(parameterOrConfig, value);\n    }\n    else {\n        for (const [key, value] of Object.entries(parameterOrConfig)) {\n            args.push(key, value);\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['DBSIZE'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['DISCARD'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(message) {\n    return ['ECHO', message];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(options) {\n    const args = ['FAILOVER'];\n    if (options?.TO) {\n        args.push('TO', options.TO.host, options.TO.port.toString());\n        if (options.TO.FORCE) {\n            args.push('FORCE');\n        }\n    }\n    if (options?.ABORT) {\n        args.push('ABORT');\n    }\n    if (options?.TIMEOUT) {\n        args.push('TIMEOUT', options.TIMEOUT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.RedisFlushModes = void 0;\nvar RedisFlushModes;\n(function (RedisFlushModes) {\n    RedisFlushModes[\"ASYNC\"] = \"ASYNC\";\n    RedisFlushModes[\"SYNC\"] = \"SYNC\";\n})(RedisFlushModes || (exports.RedisFlushModes = RedisFlushModes = {}));\nfunction transformArguments(mode) {\n    const args = ['FLUSHALL'];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(mode) {\n    const args = ['FLUSHDB'];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(library) {\n    return ['FUNCTION', 'DELETE', library];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['FUNCTION', 'DUMP'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(mode) {\n    const args = ['FUNCTION', 'FLUSH'];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['FUNCTION', 'KILL'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(pattern) {\n    const args = ['FUNCTION', 'LIST'];\n    if (pattern) {\n        args.push(pattern);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(generic_transformers_1.transformFunctionListItemReply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nconst FUNCTION_LIST_1 = require(\"./FUNCTION_LIST\");\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(pattern) {\n    const args = (0, FUNCTION_LIST_1.transformArguments)(pattern);\n    args.push('WITHCODE');\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(library => ({\n        ...(0, generic_transformers_1.transformFunctionListItemReply)(library),\n        libraryCode: library[7]\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(code, options) {\n    const args = ['FUNCTION', 'LOAD'];\n    if (options?.REPLACE) {\n        args.push('REPLACE');\n    }\n    args.push(code);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(dump, mode) {\n    const args = ['FUNCTION', 'RESTORE', dump];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['FUNCTION', 'STATS'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    const engines = Object.create(null);\n    for (let i = 0; i < reply[3].length; i++) {\n        engines[reply[3][i]] = {\n            librariesCount: reply[3][++i][1],\n            functionsCount: reply[3][i][3]\n        };\n    }\n    return {\n        runningScript: reply[1] === null ? null : {\n            name: reply[1][1],\n            command: reply[1][3],\n            durationMs: reply[1][5]\n        },\n        engines\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(options) {\n    const args = ['HELLO'];\n    if (options) {\n        args.push(options.protover.toString());\n        if (options.auth) {\n            args.push('AUTH', options.auth.username, options.auth.password);\n        }\n        if (options.clientName) {\n            args.push('SETNAME', options.clientName);\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        server: reply[1],\n        version: reply[3],\n        proto: reply[5],\n        id: reply[7],\n        mode: reply[9],\n        role: reply[11],\n        modules: reply[13]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(section) {\n    const args = ['INFO'];\n    if (section) {\n        args.push(section);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(pattern) {\n    return ['KEYS', pattern];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['LASTSAVE'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return new Date(reply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['LATENCY', 'DOCTOR'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(event) {\n    return ['LATENCY', 'GRAPH', event];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(event) {\n    return ['LATENCY', 'HISTORY', event];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['LATENCY', 'LATEST'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(version, ...optionalArguments) {\n    const args = ['LOLWUT'];\n    if (version) {\n        args.push('VERSION', version.toString(), ...optionalArguments.map(String));\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['MEMORY', 'DOCTOR'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['MEMORY', 'MALLOC-STATS'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['MEMORY', 'PURGE'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['MEMORY', 'STATS'];\n}\nexports.transformArguments = transformArguments;\nconst FIELDS_MAPPING = {\n    'peak.allocated': 'peakAllocated',\n    'total.allocated': 'totalAllocated',\n    'startup.allocated': 'startupAllocated',\n    'replication.backlog': 'replicationBacklog',\n    'clients.slaves': 'clientsReplicas',\n    'clients.normal': 'clientsNormal',\n    'aof.buffer': 'aofBuffer',\n    'lua.caches': 'luaCaches',\n    'overhead.total': 'overheadTotal',\n    'keys.count': 'keysCount',\n    'keys.bytes-per-key': 'keysBytesPerKey',\n    'dataset.bytes': 'datasetBytes',\n    'dataset.percentage': 'datasetPercentage',\n    'peak.percentage': 'peakPercentage',\n    'allocator.allocated': 'allocatorAllocated',\n    'allocator.active': 'allocatorActive',\n    'allocator.resident': 'allocatorResident',\n    'allocator-fragmentation.ratio': 'allocatorFragmentationRatio',\n    'allocator-fragmentation.bytes': 'allocatorFragmentationBytes',\n    'allocator-rss.ratio': 'allocatorRssRatio',\n    'allocator-rss.bytes': 'allocatorRssBytes',\n    'rss-overhead.ratio': 'rssOverheadRatio',\n    'rss-overhead.bytes': 'rssOverheadBytes',\n    'fragmentation': 'fragmentation',\n    'fragmentation.bytes': 'fragmentationBytes'\n}, DB_FIELDS_MAPPING = {\n    'overhead.hashtable.main': 'overheadHashtableMain',\n    'overhead.hashtable.expires': 'overheadHashtableExpires'\n};\nfunction transformReply(rawReply) {\n    const reply = {\n        db: {}\n    };\n    for (let i = 0; i < rawReply.length; i += 2) {\n        const key = rawReply[i];\n        if (key.startsWith('db.')) {\n            const dbTuples = rawReply[i + 1], db = {};\n            for (let j = 0; j < dbTuples.length; j += 2) {\n                db[DB_FIELDS_MAPPING[dbTuples[j]]] = dbTuples[j + 1];\n            }\n            reply.db[key.substring(3)] = db;\n            continue;\n        }\n        reply[FIELDS_MAPPING[key]] = Number(rawReply[i + 1]);\n    }\n    return reply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, options) {\n    const args = ['MEMORY', 'USAGE', key];\n    if (options?.SAMPLES) {\n        args.push('SAMPLES', options.SAMPLES.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['MODULE', 'LIST'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(path, moduleArgs) {\n    const args = ['MODULE', 'LOAD', path];\n    if (moduleArgs) {\n        args.push(...moduleArgs);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(name) {\n    return ['MODULE', 'UNLOAD', name];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, db) {\n    return ['MOVE', key, db.toString()];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(message) {\n    const args = ['PING'];\n    if (message) {\n        args.push(message);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(pattern) {\n    const args = ['PUBSUB', 'CHANNELS'];\n    if (pattern) {\n        args.push(pattern);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['PUBSUB', 'NUMPAT'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(channels) {\n    const args = ['PUBSUB', 'NUMSUB'];\n    if (channels)\n        return (0, generic_transformers_1.pushVerdictArguments)(args, channels);\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    const transformedReply = Object.create(null);\n    for (let i = 0; i < rawReply.length; i += 2) {\n        transformedReply[rawReply[i]] = rawReply[i + 1];\n    }\n    return transformedReply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(pattern) {\n    const args = ['PUBSUB', 'SHARDCHANNELS'];\n    if (pattern)\n        args.push(pattern);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(channels) {\n    const args = ['PUBSUB', 'SHARDNUMSUB'];\n    if (channels)\n        return (0, generic_transformers_1.pushVerdictArguments)(args, channels);\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    const transformedReply = Object.create(null);\n    for (let i = 0; i < rawReply.length; i += 2) {\n        transformedReply[rawReply[i]] = rawReply[i + 1];\n    }\n    return transformedReply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['RANDOMKEY'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['READONLY'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['READWRITE'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(host, port) {\n    return ['REPLICAOF', host, port.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['RESTORE-ASKING'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['ROLE'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    switch (reply[0]) {\n        case 'master':\n            return {\n                role: 'master',\n                replicationOffest: reply[1],\n                replicas: reply[2].map(([ip, port, replicationOffest]) => ({\n                    ip,\n                    port: Number(port),\n                    replicationOffest: Number(replicationOffest)\n                }))\n            };\n        case 'slave':\n            return {\n                role: 'slave',\n                master: {\n                    ip: reply[1],\n                    port: reply[2]\n                },\n                state: reply[3],\n                dataReceived: reply[4]\n            };\n        case 'sentinel':\n            return {\n                role: 'sentinel',\n                masterNames: reply[1]\n            };\n    }\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['SAVE'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(cursor, options) {\n    const args = (0, generic_transformers_1.pushScanArguments)(['SCAN'], cursor, options);\n    if (options?.TYPE) {\n        args.push('TYPE', options.TYPE);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply([cursor, keys]) {\n    return {\n        cursor: Number(cursor),\n        keys\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(mode) {\n    return ['SCRIPT', 'DEBUG', mode];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"./generic-transformers\");\nfunction transformArguments(sha1) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['SCRIPT', 'EXISTS'], sha1);\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"./generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformBooleanArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(mode) {\n    const args = ['SCRIPT', 'FLUSH'];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['SCRIPT', 'KILL'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(script) {\n    return ['SCRIPT', 'LOAD', script];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(mode) {\n    const args = ['SHUTDOWN'];\n    if (mode) {\n        args.push(mode);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(index1, index2) {\n    return ['SWAPDB', index1.toString(), index2.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['TIME'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    const seconds = Number(reply[0]), microseconds = Number(reply[1]), d = new Date(seconds * 1000 + microseconds / 1000);\n    d.microseconds = microseconds;\n    return d;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['UNWATCH'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(numberOfReplicas, timeout) {\n    return ['WAIT', numberOfReplicas.toString(), timeout.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commands_1 = require(\"../cluster/commands\");\nconst ACL_CAT = require(\"../commands/ACL_CAT\");\nconst ACL_DELUSER = require(\"../commands/ACL_DELUSER\");\nconst ACL_DRYRUN = require(\"../commands/ACL_DRYRUN\");\nconst ACL_GENPASS = require(\"../commands/ACL_GENPASS\");\nconst ACL_GETUSER = require(\"../commands/ACL_GETUSER\");\nconst ACL_LIST = require(\"../commands/ACL_LIST\");\nconst ACL_LOAD = require(\"../commands/ACL_LOAD\");\nconst ACL_LOG_RESET = require(\"../commands/ACL_LOG_RESET\");\nconst ACL_LOG = require(\"../commands/ACL_LOG\");\nconst ACL_SAVE = require(\"../commands/ACL_SAVE\");\nconst ACL_SETUSER = require(\"../commands/ACL_SETUSER\");\nconst ACL_USERS = require(\"../commands/ACL_USERS\");\nconst ACL_WHOAMI = require(\"../commands/ACL_WHOAMI\");\nconst ASKING = require(\"../commands/ASKING\");\nconst AUTH = require(\"../commands/AUTH\");\nconst BGREWRITEAOF = require(\"../commands/BGREWRITEAOF\");\nconst BGSAVE = require(\"../commands/BGSAVE\");\nconst CLIENT_CACHING = require(\"../commands/CLIENT_CACHING\");\nconst CLIENT_GETNAME = require(\"../commands/CLIENT_GETNAME\");\nconst CLIENT_GETREDIR = require(\"../commands/CLIENT_GETREDIR\");\nconst CLIENT_ID = require(\"../commands/CLIENT_ID\");\nconst CLIENT_KILL = require(\"../commands/CLIENT_KILL\");\nconst CLIENT_LIST = require(\"../commands/CLIENT_LIST\");\nconst CLIENT_NO_EVICT = require(\"../commands/CLIENT_NO-EVICT\");\nconst CLIENT_NO_TOUCH = require(\"../commands/CLIENT_NO-TOUCH\");\nconst CLIENT_PAUSE = require(\"../commands/CLIENT_PAUSE\");\nconst CLIENT_SETNAME = require(\"../commands/CLIENT_SETNAME\");\nconst CLIENT_TRACKING = require(\"../commands/CLIENT_TRACKING\");\nconst CLIENT_TRACKINGINFO = require(\"../commands/CLIENT_TRACKINGINFO\");\nconst CLIENT_UNPAUSE = require(\"../commands/CLIENT_UNPAUSE\");\nconst CLIENT_INFO = require(\"../commands/CLIENT_INFO\");\nconst CLUSTER_ADDSLOTS = require(\"../commands/CLUSTER_ADDSLOTS\");\nconst CLUSTER_ADDSLOTSRANGE = require(\"../commands/CLUSTER_ADDSLOTSRANGE\");\nconst CLUSTER_BUMPEPOCH = require(\"../commands/CLUSTER_BUMPEPOCH\");\nconst CLUSTER_COUNT_FAILURE_REPORTS = require(\"../commands/CLUSTER_COUNT-FAILURE-REPORTS\");\nconst CLUSTER_COUNTKEYSINSLOT = require(\"../commands/CLUSTER_COUNTKEYSINSLOT\");\nconst CLUSTER_DELSLOTS = require(\"../commands/CLUSTER_DELSLOTS\");\nconst CLUSTER_DELSLOTSRANGE = require(\"../commands/CLUSTER_DELSLOTSRANGE\");\nconst CLUSTER_FAILOVER = require(\"../commands/CLUSTER_FAILOVER\");\nconst CLUSTER_FLUSHSLOTS = require(\"../commands/CLUSTER_FLUSHSLOTS\");\nconst CLUSTER_FORGET = require(\"../commands/CLUSTER_FORGET\");\nconst CLUSTER_GETKEYSINSLOT = require(\"../commands/CLUSTER_GETKEYSINSLOT\");\nconst CLUSTER_INFO = require(\"../commands/CLUSTER_INFO\");\nconst CLUSTER_KEYSLOT = require(\"../commands/CLUSTER_KEYSLOT\");\nconst CLUSTER_LINKS = require(\"../commands/CLUSTER_LINKS\");\nconst CLUSTER_MEET = require(\"../commands/CLUSTER_MEET\");\nconst CLUSTER_MYID = require(\"../commands/CLUSTER_MYID\");\nconst CLUSTER_MYSHARDID = require(\"../commands/CLUSTER_MYSHARDID\");\nconst CLUSTER_NODES = require(\"../commands/CLUSTER_NODES\");\nconst CLUSTER_REPLICAS = require(\"../commands/CLUSTER_REPLICAS\");\nconst CLUSTER_REPLICATE = require(\"../commands/CLUSTER_REPLICATE\");\nconst CLUSTER_RESET = require(\"../commands/CLUSTER_RESET\");\nconst CLUSTER_SAVECONFIG = require(\"../commands/CLUSTER_SAVECONFIG\");\nconst CLUSTER_SET_CONFIG_EPOCH = require(\"../commands/CLUSTER_SET-CONFIG-EPOCH\");\nconst CLUSTER_SETSLOT = require(\"../commands/CLUSTER_SETSLOT\");\nconst CLUSTER_SLOTS = require(\"../commands/CLUSTER_SLOTS\");\nconst COMMAND_COUNT = require(\"../commands/COMMAND_COUNT\");\nconst COMMAND_GETKEYS = require(\"../commands/COMMAND_GETKEYS\");\nconst COMMAND_GETKEYSANDFLAGS = require(\"../commands/COMMAND_GETKEYSANDFLAGS\");\nconst COMMAND_INFO = require(\"../commands/COMMAND_INFO\");\nconst COMMAND_LIST = require(\"../commands/COMMAND_LIST\");\nconst COMMAND = require(\"../commands/COMMAND\");\nconst CONFIG_GET = require(\"../commands/CONFIG_GET\");\nconst CONFIG_RESETASTAT = require(\"../commands/CONFIG_RESETSTAT\");\nconst CONFIG_REWRITE = require(\"../commands/CONFIG_REWRITE\");\nconst CONFIG_SET = require(\"../commands/CONFIG_SET\");\nconst DBSIZE = require(\"../commands/DBSIZE\");\nconst DISCARD = require(\"../commands/DISCARD\");\nconst ECHO = require(\"../commands/ECHO\");\nconst FAILOVER = require(\"../commands/FAILOVER\");\nconst FLUSHALL = require(\"../commands/FLUSHALL\");\nconst FLUSHDB = require(\"../commands/FLUSHDB\");\nconst FUNCTION_DELETE = require(\"../commands/FUNCTION_DELETE\");\nconst FUNCTION_DUMP = require(\"../commands/FUNCTION_DUMP\");\nconst FUNCTION_FLUSH = require(\"../commands/FUNCTION_FLUSH\");\nconst FUNCTION_KILL = require(\"../commands/FUNCTION_KILL\");\nconst FUNCTION_LIST_WITHCODE = require(\"../commands/FUNCTION_LIST_WITHCODE\");\nconst FUNCTION_LIST = require(\"../commands/FUNCTION_LIST\");\nconst FUNCTION_LOAD = require(\"../commands/FUNCTION_LOAD\");\nconst FUNCTION_RESTORE = require(\"../commands/FUNCTION_RESTORE\");\nconst FUNCTION_STATS = require(\"../commands/FUNCTION_STATS\");\nconst HELLO = require(\"../commands/HELLO\");\nconst INFO = require(\"../commands/INFO\");\nconst KEYS = require(\"../commands/KEYS\");\nconst LASTSAVE = require(\"../commands/LASTSAVE\");\nconst LATENCY_DOCTOR = require(\"../commands/LATENCY_DOCTOR\");\nconst LATENCY_GRAPH = require(\"../commands/LATENCY_GRAPH\");\nconst LATENCY_HISTORY = require(\"../commands/LATENCY_HISTORY\");\nconst LATENCY_LATEST = require(\"../commands/LATENCY_LATEST\");\nconst LOLWUT = require(\"../commands/LOLWUT\");\nconst MEMORY_DOCTOR = require(\"../commands/MEMORY_DOCTOR\");\nconst MEMORY_MALLOC_STATS = require(\"../commands/MEMORY_MALLOC-STATS\");\nconst MEMORY_PURGE = require(\"../commands/MEMORY_PURGE\");\nconst MEMORY_STATS = require(\"../commands/MEMORY_STATS\");\nconst MEMORY_USAGE = require(\"../commands/MEMORY_USAGE\");\nconst MODULE_LIST = require(\"../commands/MODULE_LIST\");\nconst MODULE_LOAD = require(\"../commands/MODULE_LOAD\");\nconst MODULE_UNLOAD = require(\"../commands/MODULE_UNLOAD\");\nconst MOVE = require(\"../commands/MOVE\");\nconst PING = require(\"../commands/PING\");\nconst PUBSUB_CHANNELS = require(\"../commands/PUBSUB_CHANNELS\");\nconst PUBSUB_NUMPAT = require(\"../commands/PUBSUB_NUMPAT\");\nconst PUBSUB_NUMSUB = require(\"../commands/PUBSUB_NUMSUB\");\nconst PUBSUB_SHARDCHANNELS = require(\"../commands/PUBSUB_SHARDCHANNELS\");\nconst PUBSUB_SHARDNUMSUB = require(\"../commands/PUBSUB_SHARDNUMSUB\");\nconst RANDOMKEY = require(\"../commands/RANDOMKEY\");\nconst READONLY = require(\"../commands/READONLY\");\nconst READWRITE = require(\"../commands/READWRITE\");\nconst REPLICAOF = require(\"../commands/REPLICAOF\");\nconst RESTORE_ASKING = require(\"../commands/RESTORE-ASKING\");\nconst ROLE = require(\"../commands/ROLE\");\nconst SAVE = require(\"../commands/SAVE\");\nconst SCAN = require(\"../commands/SCAN\");\nconst SCRIPT_DEBUG = require(\"../commands/SCRIPT_DEBUG\");\nconst SCRIPT_EXISTS = require(\"../commands/SCRIPT_EXISTS\");\nconst SCRIPT_FLUSH = require(\"../commands/SCRIPT_FLUSH\");\nconst SCRIPT_KILL = require(\"../commands/SCRIPT_KILL\");\nconst SCRIPT_LOAD = require(\"../commands/SCRIPT_LOAD\");\nconst SHUTDOWN = require(\"../commands/SHUTDOWN\");\nconst SWAPDB = require(\"../commands/SWAPDB\");\nconst TIME = require(\"../commands/TIME\");\nconst UNWATCH = require(\"../commands/UNWATCH\");\nconst WAIT = require(\"../commands/WAIT\");\nexports.default = {\n    ...commands_1.default,\n    ACL_CAT,\n    aclCat: ACL_CAT,\n    ACL_DELUSER,\n    aclDelUser: ACL_DELUSER,\n    ACL_DRYRUN,\n    aclDryRun: ACL_DRYRUN,\n    ACL_GENPASS,\n    aclGenPass: ACL_GENPASS,\n    ACL_GETUSER,\n    aclGetUser: ACL_GETUSER,\n    ACL_LIST,\n    aclList: ACL_LIST,\n    ACL_LOAD,\n    aclLoad: ACL_LOAD,\n    ACL_LOG_RESET,\n    aclLogReset: ACL_LOG_RESET,\n    ACL_LOG,\n    aclLog: ACL_LOG,\n    ACL_SAVE,\n    aclSave: ACL_SAVE,\n    ACL_SETUSER,\n    aclSetUser: ACL_SETUSER,\n    ACL_USERS,\n    aclUsers: ACL_USERS,\n    ACL_WHOAMI,\n    aclWhoAmI: ACL_WHOAMI,\n    ASKING,\n    asking: ASKING,\n    AUTH,\n    auth: AUTH,\n    BGREWRITEAOF,\n    bgRewriteAof: BGREWRITEAOF,\n    BGSAVE,\n    bgSave: BGSAVE,\n    CLIENT_CACHING,\n    clientCaching: CLIENT_CACHING,\n    CLIENT_GETNAME,\n    clientGetName: CLIENT_GETNAME,\n    CLIENT_GETREDIR,\n    clientGetRedir: CLIENT_GETREDIR,\n    CLIENT_ID,\n    clientId: CLIENT_ID,\n    CLIENT_KILL,\n    clientKill: CLIENT_KILL,\n    'CLIENT_NO-EVICT': CLIENT_NO_EVICT,\n    clientNoEvict: CLIENT_NO_EVICT,\n    'CLIENT_NO-TOUCH': CLIENT_NO_TOUCH,\n    clientNoTouch: CLIENT_NO_TOUCH,\n    CLIENT_LIST,\n    clientList: CLIENT_LIST,\n    CLIENT_PAUSE,\n    clientPause: CLIENT_PAUSE,\n    CLIENT_SETNAME,\n    clientSetName: CLIENT_SETNAME,\n    CLIENT_TRACKING,\n    clientTracking: CLIENT_TRACKING,\n    CLIENT_TRACKINGINFO,\n    clientTrackingInfo: CLIENT_TRACKINGINFO,\n    CLIENT_UNPAUSE,\n    clientUnpause: CLIENT_UNPAUSE,\n    CLIENT_INFO,\n    clientInfo: CLIENT_INFO,\n    CLUSTER_ADDSLOTS,\n    clusterAddSlots: CLUSTER_ADDSLOTS,\n    CLUSTER_ADDSLOTSRANGE,\n    clusterAddSlotsRange: CLUSTER_ADDSLOTSRANGE,\n    CLUSTER_BUMPEPOCH,\n    clusterBumpEpoch: CLUSTER_BUMPEPOCH,\n    CLUSTER_COUNT_FAILURE_REPORTS,\n    clusterCountFailureReports: CLUSTER_COUNT_FAILURE_REPORTS,\n    CLUSTER_COUNTKEYSINSLOT,\n    clusterCountKeysInSlot: CLUSTER_COUNTKEYSINSLOT,\n    CLUSTER_DELSLOTS,\n    clusterDelSlots: CLUSTER_DELSLOTS,\n    CLUSTER_DELSLOTSRANGE,\n    clusterDelSlotsRange: CLUSTER_DELSLOTSRANGE,\n    CLUSTER_FAILOVER,\n    clusterFailover: CLUSTER_FAILOVER,\n    CLUSTER_FLUSHSLOTS,\n    clusterFlushSlots: CLUSTER_FLUSHSLOTS,\n    CLUSTER_FORGET,\n    clusterForget: CLUSTER_FORGET,\n    CLUSTER_GETKEYSINSLOT,\n    clusterGetKeysInSlot: CLUSTER_GETKEYSINSLOT,\n    CLUSTER_INFO,\n    clusterInfo: CLUSTER_INFO,\n    CLUSTER_KEYSLOT,\n    clusterKeySlot: CLUSTER_KEYSLOT,\n    CLUSTER_LINKS,\n    clusterLinks: CLUSTER_LINKS,\n    CLUSTER_MEET,\n    clusterMeet: CLUSTER_MEET,\n    CLUSTER_MYID,\n    clusterMyId: CLUSTER_MYID,\n    CLUSTER_MYSHARDID,\n    clusterMyShardId: CLUSTER_MYSHARDID,\n    CLUSTER_NODES,\n    clusterNodes: CLUSTER_NODES,\n    CLUSTER_REPLICAS,\n    clusterReplicas: CLUSTER_REPLICAS,\n    CLUSTER_REPLICATE,\n    clusterReplicate: CLUSTER_REPLICATE,\n    CLUSTER_RESET,\n    clusterReset: CLUSTER_RESET,\n    CLUSTER_SAVECONFIG,\n    clusterSaveConfig: CLUSTER_SAVECONFIG,\n    CLUSTER_SET_CONFIG_EPOCH,\n    clusterSetConfigEpoch: CLUSTER_SET_CONFIG_EPOCH,\n    CLUSTER_SETSLOT,\n    clusterSetSlot: CLUSTER_SETSLOT,\n    CLUSTER_SLOTS,\n    clusterSlots: CLUSTER_SLOTS,\n    COMMAND_COUNT,\n    commandCount: COMMAND_COUNT,\n    COMMAND_GETKEYS,\n    commandGetKeys: COMMAND_GETKEYS,\n    COMMAND_GETKEYSANDFLAGS,\n    commandGetKeysAndFlags: COMMAND_GETKEYSANDFLAGS,\n    COMMAND_INFO,\n    commandInfo: COMMAND_INFO,\n    COMMAND_LIST,\n    commandList: COMMAND_LIST,\n    COMMAND,\n    command: COMMAND,\n    CONFIG_GET,\n    configGet: CONFIG_GET,\n    CONFIG_RESETASTAT,\n    configResetStat: CONFIG_RESETASTAT,\n    CONFIG_REWRITE,\n    configRewrite: CONFIG_REWRITE,\n    CONFIG_SET,\n    configSet: CONFIG_SET,\n    DBSIZE,\n    dbSize: DBSIZE,\n    DISCARD,\n    discard: DISCARD,\n    ECHO,\n    echo: ECHO,\n    FAILOVER,\n    failover: FAILOVER,\n    FLUSHALL,\n    flushAll: FLUSHALL,\n    FLUSHDB,\n    flushDb: FLUSHDB,\n    FUNCTION_DELETE,\n    functionDelete: FUNCTION_DELETE,\n    FUNCTION_DUMP,\n    functionDump: FUNCTION_DUMP,\n    FUNCTION_FLUSH,\n    functionFlush: FUNCTION_FLUSH,\n    FUNCTION_KILL,\n    functionKill: FUNCTION_KILL,\n    FUNCTION_LIST_WITHCODE,\n    functionListWithCode: FUNCTION_LIST_WITHCODE,\n    FUNCTION_LIST,\n    functionList: FUNCTION_LIST,\n    FUNCTION_LOAD,\n    functionLoad: FUNCTION_LOAD,\n    FUNCTION_RESTORE,\n    functionRestore: FUNCTION_RESTORE,\n    FUNCTION_STATS,\n    functionStats: FUNCTION_STATS,\n    HELLO,\n    hello: HELLO,\n    INFO,\n    info: INFO,\n    KEYS,\n    keys: KEYS,\n    LASTSAVE,\n    lastSave: LASTSAVE,\n    LATENCY_DOCTOR,\n    latencyDoctor: LATENCY_DOCTOR,\n    LATENCY_GRAPH,\n    latencyGraph: LATENCY_GRAPH,\n    LATENCY_HISTORY,\n    latencyHistory: LATENCY_HISTORY,\n    LATENCY_LATEST,\n    latencyLatest: LATENCY_LATEST,\n    LOLWUT,\n    lolwut: LOLWUT,\n    MEMORY_DOCTOR,\n    memoryDoctor: MEMORY_DOCTOR,\n    'MEMORY_MALLOC-STATS': MEMORY_MALLOC_STATS,\n    memoryMallocStats: MEMORY_MALLOC_STATS,\n    MEMORY_PURGE,\n    memoryPurge: MEMORY_PURGE,\n    MEMORY_STATS,\n    memoryStats: MEMORY_STATS,\n    MEMORY_USAGE,\n    memoryUsage: MEMORY_USAGE,\n    MODULE_LIST,\n    moduleList: MODULE_LIST,\n    MODULE_LOAD,\n    moduleLoad: MODULE_LOAD,\n    MODULE_UNLOAD,\n    moduleUnload: MODULE_UNLOAD,\n    MOVE,\n    move: MOVE,\n    PING,\n    ping: PING,\n    PUBSUB_CHANNELS,\n    pubSubChannels: PUBSUB_CHANNELS,\n    PUBSUB_NUMPAT,\n    pubSubNumPat: PUBSUB_NUMPAT,\n    PUBSUB_NUMSUB,\n    pubSubNumSub: PUBSUB_NUMSUB,\n    PUBSUB_SHARDCHANNELS,\n    pubSubShardChannels: PUBSUB_SHARDCHANNELS,\n    PUBSUB_SHARDNUMSUB,\n    pubSubShardNumSub: PUBSUB_SHARDNUMSUB,\n    RANDOMKEY,\n    randomKey: RANDOMKEY,\n    READONLY,\n    readonly: READONLY,\n    READWRITE,\n    readwrite: READWRITE,\n    REPLICAOF,\n    replicaOf: REPLICAOF,\n    'RESTORE-ASKING': RESTORE_ASKING,\n    restoreAsking: RESTORE_ASKING,\n    ROLE,\n    role: ROLE,\n    SAVE,\n    save: SAVE,\n    SCAN,\n    scan: SCAN,\n    SCRIPT_DEBUG,\n    scriptDebug: SCRIPT_DEBUG,\n    SCRIPT_EXISTS,\n    scriptExists: SCRIPT_EXISTS,\n    SCRIPT_FLUSH,\n    scriptFlush: SCRIPT_FLUSH,\n    SCRIPT_KILL,\n    scriptKill: SCRIPT_KILL,\n    SCRIPT_LOAD,\n    scriptLoad: SCRIPT_LOAD,\n    SHUTDOWN,\n    shutdown: SHUTDOWN,\n    SWAPDB,\n    swapDb: SWAPDB,\n    TIME,\n    time: TIME,\n    UNWATCH,\n    unwatch: UNWATCH,\n    WAIT,\n    wait: WAIT\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiErrorReply = exports.ErrorReply = exports.ReconnectStrategyError = exports.RootNodesUnavailableError = exports.SocketClosedUnexpectedlyError = exports.DisconnectsClientError = exports.ClientOfflineError = exports.ClientClosedError = exports.ConnectionTimeoutError = exports.WatchError = exports.AbortError = void 0;\nclass AbortError extends Error {\n    constructor() {\n        super('The command was aborted');\n    }\n}\nexports.AbortError = AbortError;\nclass WatchError extends Error {\n    constructor() {\n        super('One (or more) of the watched keys has been changed');\n    }\n}\nexports.WatchError = WatchError;\nclass ConnectionTimeoutError extends Error {\n    constructor() {\n        super('Connection timeout');\n    }\n}\nexports.ConnectionTimeoutError = ConnectionTimeoutError;\nclass ClientClosedError extends Error {\n    constructor() {\n        super('The client is closed');\n    }\n}\nexports.ClientClosedError = ClientClosedError;\nclass ClientOfflineError extends Error {\n    constructor() {\n        super('The client is offline');\n    }\n}\nexports.ClientOfflineError = ClientOfflineError;\nclass DisconnectsClientError extends Error {\n    constructor() {\n        super('Disconnects client');\n    }\n}\nexports.DisconnectsClientError = DisconnectsClientError;\nclass SocketClosedUnexpectedlyError extends Error {\n    constructor() {\n        super('Socket closed unexpectedly');\n    }\n}\nexports.SocketClosedUnexpectedlyError = SocketClosedUnexpectedlyError;\nclass RootNodesUnavailableError extends Error {\n    constructor() {\n        super('All the root nodes are unavailable');\n    }\n}\nexports.RootNodesUnavailableError = RootNodesUnavailableError;\nclass ReconnectStrategyError extends Error {\n    constructor(originalError, socketError) {\n        super(originalError.message);\n        Object.defineProperty(this, \"originalError\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"socketError\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.originalError = originalError;\n        this.socketError = socketError;\n    }\n}\nexports.ReconnectStrategyError = ReconnectStrategyError;\nclass ErrorReply extends Error {\n    constructor(message) {\n        super(message);\n        this.stack = undefined;\n    }\n}\nexports.ErrorReply = ErrorReply;\nclass MultiErrorReply extends ErrorReply {\n    constructor(replies, errorIndexes) {\n        super(`${errorIndexes.length} commands failed, see .replies and .errorIndexes for more information`);\n        Object.defineProperty(this, \"replies\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"errorIndexes\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.replies = replies;\n        this.errorIndexes = errorIndexes;\n    }\n    *errors() {\n        for (const index of this.errorIndexes) {\n            yield this.replies[index];\n        }\n    }\n}\nexports.MultiErrorReply = MultiErrorReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.promiseTimeout = void 0;\nfunction promiseTimeout(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\nexports.promiseTimeout = promiseTimeout;\n","\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _RedisSocket_instances, _a, _RedisSocket_initiateOptions, _RedisSocket_isTlsSocket, _RedisSocket_initiator, _RedisSocket_options, _RedisSocket_socket, _RedisSocket_isOpen, _RedisSocket_isReady, _RedisSocket_writableNeedDrain, _RedisSocket_isSocketUnrefed, _RedisSocket_reconnectStrategy, _RedisSocket_shouldReconnect, _RedisSocket_connect, _RedisSocket_createSocket, _RedisSocket_createNetSocket, _RedisSocket_createTlsSocket, _RedisSocket_onSocketError, _RedisSocket_disconnect, _RedisSocket_isCorked;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nconst net = require(\"net\");\nconst tls = require(\"tls\");\nconst errors_1 = require(\"../errors\");\nconst utils_1 = require(\"../utils\");\nclass RedisSocket extends events_1.EventEmitter {\n    get isOpen() {\n        return __classPrivateFieldGet(this, _RedisSocket_isOpen, \"f\");\n    }\n    get isReady() {\n        return __classPrivateFieldGet(this, _RedisSocket_isReady, \"f\");\n    }\n    get writableNeedDrain() {\n        return __classPrivateFieldGet(this, _RedisSocket_writableNeedDrain, \"f\");\n    }\n    constructor(initiator, options) {\n        super();\n        _RedisSocket_instances.add(this);\n        _RedisSocket_initiator.set(this, void 0);\n        _RedisSocket_options.set(this, void 0);\n        _RedisSocket_socket.set(this, void 0);\n        _RedisSocket_isOpen.set(this, false);\n        _RedisSocket_isReady.set(this, false);\n        // `writable.writableNeedDrain` was added in v15.2.0 and therefore can't be used\n        // https://nodejs.org/api/stream.html#stream_writable_writableneeddrain\n        _RedisSocket_writableNeedDrain.set(this, false);\n        _RedisSocket_isSocketUnrefed.set(this, false);\n        _RedisSocket_isCorked.set(this, false);\n        __classPrivateFieldSet(this, _RedisSocket_initiator, initiator, \"f\");\n        __classPrivateFieldSet(this, _RedisSocket_options, __classPrivateFieldGet(_a, _a, \"m\", _RedisSocket_initiateOptions).call(_a, options), \"f\");\n    }\n    async connect() {\n        if (__classPrivateFieldGet(this, _RedisSocket_isOpen, \"f\")) {\n            throw new Error('Socket already opened');\n        }\n        __classPrivateFieldSet(this, _RedisSocket_isOpen, true, \"f\");\n        return __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_connect).call(this);\n    }\n    writeCommand(args) {\n        if (!__classPrivateFieldGet(this, _RedisSocket_socket, \"f\")) {\n            throw new errors_1.ClientClosedError();\n        }\n        for (const toWrite of args) {\n            __classPrivateFieldSet(this, _RedisSocket_writableNeedDrain, !__classPrivateFieldGet(this, _RedisSocket_socket, \"f\").write(toWrite), \"f\");\n        }\n    }\n    disconnect() {\n        if (!__classPrivateFieldGet(this, _RedisSocket_isOpen, \"f\")) {\n            throw new errors_1.ClientClosedError();\n        }\n        __classPrivateFieldSet(this, _RedisSocket_isOpen, false, \"f\");\n        __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_disconnect).call(this);\n    }\n    async quit(fn) {\n        if (!__classPrivateFieldGet(this, _RedisSocket_isOpen, \"f\")) {\n            throw new errors_1.ClientClosedError();\n        }\n        __classPrivateFieldSet(this, _RedisSocket_isOpen, false, \"f\");\n        const reply = await fn();\n        __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_disconnect).call(this);\n        return reply;\n    }\n    cork() {\n        if (!__classPrivateFieldGet(this, _RedisSocket_socket, \"f\") || __classPrivateFieldGet(this, _RedisSocket_isCorked, \"f\")) {\n            return;\n        }\n        __classPrivateFieldGet(this, _RedisSocket_socket, \"f\").cork();\n        __classPrivateFieldSet(this, _RedisSocket_isCorked, true, \"f\");\n        setImmediate(() => {\n            __classPrivateFieldGet(this, _RedisSocket_socket, \"f\")?.uncork();\n            __classPrivateFieldSet(this, _RedisSocket_isCorked, false, \"f\");\n        });\n    }\n    ref() {\n        __classPrivateFieldSet(this, _RedisSocket_isSocketUnrefed, false, \"f\");\n        __classPrivateFieldGet(this, _RedisSocket_socket, \"f\")?.ref();\n    }\n    unref() {\n        __classPrivateFieldSet(this, _RedisSocket_isSocketUnrefed, true, \"f\");\n        __classPrivateFieldGet(this, _RedisSocket_socket, \"f\")?.unref();\n    }\n}\n_a = RedisSocket, _RedisSocket_initiator = new WeakMap(), _RedisSocket_options = new WeakMap(), _RedisSocket_socket = new WeakMap(), _RedisSocket_isOpen = new WeakMap(), _RedisSocket_isReady = new WeakMap(), _RedisSocket_writableNeedDrain = new WeakMap(), _RedisSocket_isSocketUnrefed = new WeakMap(), _RedisSocket_isCorked = new WeakMap(), _RedisSocket_instances = new WeakSet(), _RedisSocket_initiateOptions = function _RedisSocket_initiateOptions(options) {\n    var _b, _c;\n    options ?? (options = {});\n    if (!options.path) {\n        (_b = options).port ?? (_b.port = 6379);\n        (_c = options).host ?? (_c.host = 'localhost');\n    }\n    options.connectTimeout ?? (options.connectTimeout = 5000);\n    options.keepAlive ?? (options.keepAlive = 5000);\n    options.noDelay ?? (options.noDelay = true);\n    return options;\n}, _RedisSocket_isTlsSocket = function _RedisSocket_isTlsSocket(options) {\n    return options.tls === true;\n}, _RedisSocket_reconnectStrategy = function _RedisSocket_reconnectStrategy(retries, cause) {\n    if (__classPrivateFieldGet(this, _RedisSocket_options, \"f\").reconnectStrategy === false) {\n        return false;\n    }\n    else if (typeof __classPrivateFieldGet(this, _RedisSocket_options, \"f\").reconnectStrategy === 'number') {\n        return __classPrivateFieldGet(this, _RedisSocket_options, \"f\").reconnectStrategy;\n    }\n    else if (__classPrivateFieldGet(this, _RedisSocket_options, \"f\").reconnectStrategy) {\n        try {\n            const retryIn = __classPrivateFieldGet(this, _RedisSocket_options, \"f\").reconnectStrategy(retries, cause);\n            if (retryIn !== false && !(retryIn instanceof Error) && typeof retryIn !== 'number') {\n                throw new TypeError(`Reconnect strategy should return \\`false | Error | number\\`, got ${retryIn} instead`);\n            }\n            return retryIn;\n        }\n        catch (err) {\n            this.emit('error', err);\n        }\n    }\n    return Math.min(retries * 50, 500);\n}, _RedisSocket_shouldReconnect = function _RedisSocket_shouldReconnect(retries, cause) {\n    const retryIn = __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_reconnectStrategy).call(this, retries, cause);\n    if (retryIn === false) {\n        __classPrivateFieldSet(this, _RedisSocket_isOpen, false, \"f\");\n        this.emit('error', cause);\n        return cause;\n    }\n    else if (retryIn instanceof Error) {\n        __classPrivateFieldSet(this, _RedisSocket_isOpen, false, \"f\");\n        this.emit('error', cause);\n        return new errors_1.ReconnectStrategyError(retryIn, cause);\n    }\n    return retryIn;\n}, _RedisSocket_connect = async function _RedisSocket_connect() {\n    let retries = 0;\n    do {\n        try {\n            __classPrivateFieldSet(this, _RedisSocket_socket, await __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_createSocket).call(this), \"f\");\n            __classPrivateFieldSet(this, _RedisSocket_writableNeedDrain, false, \"f\");\n            this.emit('connect');\n            try {\n                await __classPrivateFieldGet(this, _RedisSocket_initiator, \"f\").call(this);\n            }\n            catch (err) {\n                __classPrivateFieldGet(this, _RedisSocket_socket, \"f\").destroy();\n                __classPrivateFieldSet(this, _RedisSocket_socket, undefined, \"f\");\n                throw err;\n            }\n            __classPrivateFieldSet(this, _RedisSocket_isReady, true, \"f\");\n            this.emit('ready');\n        }\n        catch (err) {\n            const retryIn = __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_shouldReconnect).call(this, retries++, err);\n            if (typeof retryIn !== 'number') {\n                throw retryIn;\n            }\n            this.emit('error', err);\n            await (0, utils_1.promiseTimeout)(retryIn);\n            this.emit('reconnecting');\n        }\n    } while (__classPrivateFieldGet(this, _RedisSocket_isOpen, \"f\") && !__classPrivateFieldGet(this, _RedisSocket_isReady, \"f\"));\n}, _RedisSocket_createSocket = function _RedisSocket_createSocket() {\n    return new Promise((resolve, reject) => {\n        const { connectEvent, socket } = __classPrivateFieldGet(_a, _a, \"m\", _RedisSocket_isTlsSocket).call(_a, __classPrivateFieldGet(this, _RedisSocket_options, \"f\")) ?\n            __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_createTlsSocket).call(this) :\n            __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_createNetSocket).call(this);\n        if (__classPrivateFieldGet(this, _RedisSocket_options, \"f\").connectTimeout) {\n            socket.setTimeout(__classPrivateFieldGet(this, _RedisSocket_options, \"f\").connectTimeout, () => socket.destroy(new errors_1.ConnectionTimeoutError()));\n        }\n        if (__classPrivateFieldGet(this, _RedisSocket_isSocketUnrefed, \"f\")) {\n            socket.unref();\n        }\n        socket\n            .setNoDelay(__classPrivateFieldGet(this, _RedisSocket_options, \"f\").noDelay)\n            .once('error', reject)\n            .once(connectEvent, () => {\n            socket\n                .setTimeout(0)\n                // https://github.com/nodejs/node/issues/31663\n                .setKeepAlive(__classPrivateFieldGet(this, _RedisSocket_options, \"f\").keepAlive !== false, __classPrivateFieldGet(this, _RedisSocket_options, \"f\").keepAlive || 0)\n                .off('error', reject)\n                .once('error', (err) => __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_onSocketError).call(this, err))\n                .once('close', hadError => {\n                if (!hadError && __classPrivateFieldGet(this, _RedisSocket_isOpen, \"f\") && __classPrivateFieldGet(this, _RedisSocket_socket, \"f\") === socket) {\n                    __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_onSocketError).call(this, new errors_1.SocketClosedUnexpectedlyError());\n                }\n            })\n                .on('drain', () => {\n                __classPrivateFieldSet(this, _RedisSocket_writableNeedDrain, false, \"f\");\n                this.emit('drain');\n            })\n                .on('data', data => this.emit('data', data));\n            resolve(socket);\n        });\n    });\n}, _RedisSocket_createNetSocket = function _RedisSocket_createNetSocket() {\n    return {\n        connectEvent: 'connect',\n        socket: net.connect(__classPrivateFieldGet(this, _RedisSocket_options, \"f\")) // TODO\n    };\n}, _RedisSocket_createTlsSocket = function _RedisSocket_createTlsSocket() {\n    return {\n        connectEvent: 'secureConnect',\n        socket: tls.connect(__classPrivateFieldGet(this, _RedisSocket_options, \"f\")) // TODO\n    };\n}, _RedisSocket_onSocketError = function _RedisSocket_onSocketError(err) {\n    const wasReady = __classPrivateFieldGet(this, _RedisSocket_isReady, \"f\");\n    __classPrivateFieldSet(this, _RedisSocket_isReady, false, \"f\");\n    this.emit('error', err);\n    if (!wasReady || !__classPrivateFieldGet(this, _RedisSocket_isOpen, \"f\") || typeof __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_shouldReconnect).call(this, 0, err) !== 'number')\n        return;\n    this.emit('reconnecting');\n    __classPrivateFieldGet(this, _RedisSocket_instances, \"m\", _RedisSocket_connect).call(this).catch(() => {\n        // the error was already emitted, silently ignore it\n    });\n}, _RedisSocket_disconnect = function _RedisSocket_disconnect() {\n    __classPrivateFieldSet(this, _RedisSocket_isReady, false, \"f\");\n    if (__classPrivateFieldGet(this, _RedisSocket_socket, \"f\")) {\n        __classPrivateFieldGet(this, _RedisSocket_socket, \"f\").destroy();\n        __classPrivateFieldSet(this, _RedisSocket_socket, undefined, \"f\");\n    }\n    this.emit('end');\n};\nexports.default = RedisSocket;\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass BufferComposer {\n    constructor() {\n        Object.defineProperty(this, \"chunks\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: []\n        });\n    }\n    write(buffer) {\n        this.chunks.push(buffer);\n    }\n    end(buffer) {\n        this.write(buffer);\n        return Buffer.concat(this.chunks.splice(0));\n    }\n    reset() {\n        this.chunks = [];\n    }\n}\nexports.default = BufferComposer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst string_decoder_1 = require(\"string_decoder\");\nclass StringComposer {\n    constructor() {\n        Object.defineProperty(this, \"decoder\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new string_decoder_1.StringDecoder()\n        });\n        Object.defineProperty(this, \"string\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: ''\n        });\n    }\n    write(buffer) {\n        this.string += this.decoder.write(buffer);\n    }\n    end(buffer) {\n        const string = this.string + this.decoder.end(buffer);\n        this.string = '';\n        return string;\n    }\n    reset() {\n        this.string = '';\n    }\n}\nexports.default = StringComposer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst errors_1 = require(\"../../errors\");\nconst buffer_1 = require(\"./composers/buffer\");\nconst string_1 = require(\"./composers/string\");\n// RESP2 specification\n// https://redis.io/topics/protocol\nvar Types;\n(function (Types) {\n    Types[Types[\"SIMPLE_STRING\"] = 43] = \"SIMPLE_STRING\";\n    Types[Types[\"ERROR\"] = 45] = \"ERROR\";\n    Types[Types[\"INTEGER\"] = 58] = \"INTEGER\";\n    Types[Types[\"BULK_STRING\"] = 36] = \"BULK_STRING\";\n    Types[Types[\"ARRAY\"] = 42] = \"ARRAY\"; // *\n})(Types || (Types = {}));\nvar ASCII;\n(function (ASCII) {\n    ASCII[ASCII[\"CR\"] = 13] = \"CR\";\n    ASCII[ASCII[\"ZERO\"] = 48] = \"ZERO\";\n    ASCII[ASCII[\"MINUS\"] = 45] = \"MINUS\";\n})(ASCII || (ASCII = {}));\n// Using TypeScript `private` and not the build-in `#` to avoid __classPrivateFieldGet and __classPrivateFieldSet\nclass RESP2Decoder {\n    constructor(options) {\n        Object.defineProperty(this, \"options\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: options\n        });\n        Object.defineProperty(this, \"cursor\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 0\n        });\n        Object.defineProperty(this, \"type\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"bufferComposer\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new buffer_1.default()\n        });\n        Object.defineProperty(this, \"stringComposer\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new string_1.default()\n        });\n        Object.defineProperty(this, \"currentStringComposer\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.stringComposer\n        });\n        Object.defineProperty(this, \"integer\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 0\n        });\n        Object.defineProperty(this, \"isNegativeInteger\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"bulkStringRemainingLength\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"arraysInProcess\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: []\n        });\n        Object.defineProperty(this, \"initializeArray\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"arrayItemType\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n    }\n    reset() {\n        this.cursor = 0;\n        this.type = undefined;\n        this.bufferComposer.reset();\n        this.stringComposer.reset();\n        this.currentStringComposer = this.stringComposer;\n    }\n    write(chunk) {\n        while (this.cursor < chunk.length) {\n            if (!this.type) {\n                this.currentStringComposer = this.options.returnStringsAsBuffers() ?\n                    this.bufferComposer :\n                    this.stringComposer;\n                this.type = chunk[this.cursor];\n                if (++this.cursor >= chunk.length)\n                    break;\n            }\n            const reply = this.parseType(chunk, this.type);\n            if (reply === undefined)\n                break;\n            this.type = undefined;\n            this.options.onReply(reply);\n        }\n        this.cursor -= chunk.length;\n    }\n    parseType(chunk, type, arraysToKeep) {\n        switch (type) {\n            case Types.SIMPLE_STRING:\n                return this.parseSimpleString(chunk);\n            case Types.ERROR:\n                return this.parseError(chunk);\n            case Types.INTEGER:\n                return this.parseInteger(chunk);\n            case Types.BULK_STRING:\n                return this.parseBulkString(chunk);\n            case Types.ARRAY:\n                return this.parseArray(chunk, arraysToKeep);\n        }\n    }\n    compose(chunk, composer) {\n        for (let i = this.cursor; i < chunk.length; i++) {\n            if (chunk[i] === ASCII.CR) {\n                const reply = composer.end(chunk.subarray(this.cursor, i));\n                this.cursor = i + 2;\n                return reply;\n            }\n        }\n        const toWrite = chunk.subarray(this.cursor);\n        composer.write(toWrite);\n        this.cursor = chunk.length;\n    }\n    parseSimpleString(chunk) {\n        return this.compose(chunk, this.currentStringComposer);\n    }\n    parseError(chunk) {\n        const message = this.compose(chunk, this.stringComposer);\n        if (message !== undefined) {\n            return new errors_1.ErrorReply(message);\n        }\n    }\n    parseInteger(chunk) {\n        if (this.isNegativeInteger === undefined) {\n            this.isNegativeInteger = chunk[this.cursor] === ASCII.MINUS;\n            if (this.isNegativeInteger && ++this.cursor === chunk.length)\n                return;\n        }\n        do {\n            const byte = chunk[this.cursor];\n            if (byte === ASCII.CR) {\n                const integer = this.isNegativeInteger ? -this.integer : this.integer;\n                this.integer = 0;\n                this.isNegativeInteger = undefined;\n                this.cursor += 2;\n                return integer;\n            }\n            this.integer = this.integer * 10 + byte - ASCII.ZERO;\n        } while (++this.cursor < chunk.length);\n    }\n    parseBulkString(chunk) {\n        if (this.bulkStringRemainingLength === undefined) {\n            const length = this.parseInteger(chunk);\n            if (length === undefined)\n                return;\n            if (length === -1)\n                return null;\n            this.bulkStringRemainingLength = length;\n            if (this.cursor >= chunk.length)\n                return;\n        }\n        const end = this.cursor + this.bulkStringRemainingLength;\n        if (chunk.length >= end) {\n            const reply = this.currentStringComposer.end(chunk.subarray(this.cursor, end));\n            this.bulkStringRemainingLength = undefined;\n            this.cursor = end + 2;\n            return reply;\n        }\n        const toWrite = chunk.subarray(this.cursor);\n        this.currentStringComposer.write(toWrite);\n        this.bulkStringRemainingLength -= toWrite.length;\n        this.cursor = chunk.length;\n    }\n    parseArray(chunk, arraysToKeep = 0) {\n        if (this.initializeArray || this.arraysInProcess.length === arraysToKeep) {\n            const length = this.parseInteger(chunk);\n            if (length === undefined) {\n                this.initializeArray = true;\n                return undefined;\n            }\n            this.initializeArray = false;\n            this.arrayItemType = undefined;\n            if (length === -1) {\n                return this.returnArrayReply(null, arraysToKeep, chunk);\n            }\n            else if (length === 0) {\n                return this.returnArrayReply([], arraysToKeep, chunk);\n            }\n            this.arraysInProcess.push({\n                array: new Array(length),\n                pushCounter: 0\n            });\n        }\n        while (this.cursor < chunk.length) {\n            if (!this.arrayItemType) {\n                this.arrayItemType = chunk[this.cursor];\n                if (++this.cursor >= chunk.length)\n                    break;\n            }\n            const item = this.parseType(chunk, this.arrayItemType, arraysToKeep + 1);\n            if (item === undefined)\n                break;\n            this.arrayItemType = undefined;\n            const reply = this.pushArrayItem(item, arraysToKeep);\n            if (reply !== undefined)\n                return reply;\n        }\n    }\n    returnArrayReply(reply, arraysToKeep, chunk) {\n        if (this.arraysInProcess.length <= arraysToKeep)\n            return reply;\n        return this.pushArrayItem(reply, arraysToKeep, chunk);\n    }\n    pushArrayItem(item, arraysToKeep, chunk) {\n        const to = this.arraysInProcess[this.arraysInProcess.length - 1];\n        to.array[to.pushCounter] = item;\n        if (++to.pushCounter === to.array.length) {\n            return this.returnArrayReply(this.arraysInProcess.pop().array, arraysToKeep, chunk);\n        }\n        else if (chunk && chunk.length > this.cursor) {\n            return this.parseArray(chunk, arraysToKeep);\n        }\n    }\n}\nexports.default = RESP2Decoder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CRLF = '\\r\\n';\nfunction encodeCommand(args) {\n    const toWrite = [];\n    let strings = '*' + args.length + CRLF;\n    for (let i = 0; i < args.length; i++) {\n        const arg = args[i];\n        if (typeof arg === 'string') {\n            strings += '$' + Buffer.byteLength(arg) + CRLF + arg + CRLF;\n        }\n        else if (arg instanceof Buffer) {\n            toWrite.push(strings + '$' + arg.length.toString() + CRLF, arg);\n            strings = CRLF;\n        }\n        else {\n            throw new TypeError('Invalid argument type');\n        }\n    }\n    toWrite.push(strings);\n    return toWrite;\n}\nexports.default = encodeCommand;\n","\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _PubSub_instances, _a, _PubSub_channelsArray, _PubSub_listenersSet, _PubSub_subscribing, _PubSub_isActive, _PubSub_listeners, _PubSub_extendChannelListeners, _PubSub_unsubscribeCommand, _PubSub_updateIsActive, _PubSub_emitPubSubMessage;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PubSub = exports.PubSubType = void 0;\nvar PubSubType;\n(function (PubSubType) {\n    PubSubType[\"CHANNELS\"] = \"CHANNELS\";\n    PubSubType[\"PATTERNS\"] = \"PATTERNS\";\n    PubSubType[\"SHARDED\"] = \"SHARDED\";\n})(PubSubType || (exports.PubSubType = PubSubType = {}));\nconst COMMANDS = {\n    [PubSubType.CHANNELS]: {\n        subscribe: Buffer.from('subscribe'),\n        unsubscribe: Buffer.from('unsubscribe'),\n        message: Buffer.from('message')\n    },\n    [PubSubType.PATTERNS]: {\n        subscribe: Buffer.from('psubscribe'),\n        unsubscribe: Buffer.from('punsubscribe'),\n        message: Buffer.from('pmessage')\n    },\n    [PubSubType.SHARDED]: {\n        subscribe: Buffer.from('ssubscribe'),\n        unsubscribe: Buffer.from('sunsubscribe'),\n        message: Buffer.from('smessage')\n    }\n};\nclass PubSub {\n    constructor() {\n        _PubSub_instances.add(this);\n        _PubSub_subscribing.set(this, 0);\n        _PubSub_isActive.set(this, false);\n        _PubSub_listeners.set(this, {\n            [PubSubType.CHANNELS]: new Map(),\n            [PubSubType.PATTERNS]: new Map(),\n            [PubSubType.SHARDED]: new Map()\n        });\n    }\n    static isStatusReply(reply) {\n        return (COMMANDS[PubSubType.CHANNELS].subscribe.equals(reply[0]) ||\n            COMMANDS[PubSubType.CHANNELS].unsubscribe.equals(reply[0]) ||\n            COMMANDS[PubSubType.PATTERNS].subscribe.equals(reply[0]) ||\n            COMMANDS[PubSubType.PATTERNS].unsubscribe.equals(reply[0]) ||\n            COMMANDS[PubSubType.SHARDED].subscribe.equals(reply[0]));\n    }\n    static isShardedUnsubscribe(reply) {\n        return COMMANDS[PubSubType.SHARDED].unsubscribe.equals(reply[0]);\n    }\n    get isActive() {\n        return __classPrivateFieldGet(this, _PubSub_isActive, \"f\");\n    }\n    subscribe(type, channels, listener, returnBuffers) {\n        var _b;\n        const args = [COMMANDS[type].subscribe], channelsArray = __classPrivateFieldGet(_a, _a, \"m\", _PubSub_channelsArray).call(_a, channels);\n        for (const channel of channelsArray) {\n            let channelListeners = __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type].get(channel);\n            if (!channelListeners || channelListeners.unsubscribing) {\n                args.push(channel);\n            }\n        }\n        if (args.length === 1) {\n            // all channels are already subscribed, add listeners without issuing a command\n            for (const channel of channelsArray) {\n                __classPrivateFieldGet(_a, _a, \"m\", _PubSub_listenersSet).call(_a, __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type].get(channel), returnBuffers).add(listener);\n            }\n            return;\n        }\n        __classPrivateFieldSet(this, _PubSub_isActive, true, \"f\");\n        __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b++, _b), \"f\");\n        return {\n            args,\n            channelsCounter: args.length - 1,\n            resolve: () => {\n                var _b;\n                __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b--, _b), \"f\");\n                for (const channel of channelsArray) {\n                    let listeners = __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type].get(channel);\n                    if (!listeners) {\n                        listeners = {\n                            unsubscribing: false,\n                            buffers: new Set(),\n                            strings: new Set()\n                        };\n                        __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type].set(channel, listeners);\n                    }\n                    __classPrivateFieldGet(_a, _a, \"m\", _PubSub_listenersSet).call(_a, listeners, returnBuffers).add(listener);\n                }\n            },\n            reject: () => {\n                var _b;\n                __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b--, _b), \"f\");\n                __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_updateIsActive).call(this);\n            }\n        };\n    }\n    extendChannelListeners(type, channel, listeners) {\n        var _b;\n        if (!__classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_extendChannelListeners).call(this, type, channel, listeners))\n            return;\n        __classPrivateFieldSet(this, _PubSub_isActive, true, \"f\");\n        __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b++, _b), \"f\");\n        return {\n            args: [\n                COMMANDS[type].subscribe,\n                channel\n            ],\n            channelsCounter: 1,\n            resolve: () => { var _b, _c; return __classPrivateFieldSet(this, _PubSub_subscribing, (_c = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b = _c--, _c), \"f\"), _b; },\n            reject: () => {\n                var _b;\n                __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b--, _b), \"f\");\n                __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_updateIsActive).call(this);\n            }\n        };\n    }\n    extendTypeListeners(type, listeners) {\n        var _b;\n        const args = [COMMANDS[type].subscribe];\n        for (const [channel, channelListeners] of listeners) {\n            if (__classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_extendChannelListeners).call(this, type, channel, channelListeners)) {\n                args.push(channel);\n            }\n        }\n        if (args.length === 1)\n            return;\n        __classPrivateFieldSet(this, _PubSub_isActive, true, \"f\");\n        __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b++, _b), \"f\");\n        return {\n            args,\n            channelsCounter: args.length - 1,\n            resolve: () => { var _b, _c; return __classPrivateFieldSet(this, _PubSub_subscribing, (_c = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b = _c--, _c), \"f\"), _b; },\n            reject: () => {\n                var _b;\n                __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b--, _b), \"f\");\n                __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_updateIsActive).call(this);\n            }\n        };\n    }\n    unsubscribe(type, channels, listener, returnBuffers) {\n        const listeners = __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type];\n        if (!channels) {\n            return __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_unsubscribeCommand).call(this, [COMMANDS[type].unsubscribe], \n            // cannot use `this.#subscribed` because there might be some `SUBSCRIBE` commands in the queue\n            // cannot use `this.#subscribed + this.#subscribing` because some `SUBSCRIBE` commands might fail\n            NaN, () => listeners.clear());\n        }\n        const channelsArray = __classPrivateFieldGet(_a, _a, \"m\", _PubSub_channelsArray).call(_a, channels);\n        if (!listener) {\n            return __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_unsubscribeCommand).call(this, [COMMANDS[type].unsubscribe, ...channelsArray], channelsArray.length, () => {\n                for (const channel of channelsArray) {\n                    listeners.delete(channel);\n                }\n            });\n        }\n        const args = [COMMANDS[type].unsubscribe];\n        for (const channel of channelsArray) {\n            const sets = listeners.get(channel);\n            if (sets) {\n                let current, other;\n                if (returnBuffers) {\n                    current = sets.buffers;\n                    other = sets.strings;\n                }\n                else {\n                    current = sets.strings;\n                    other = sets.buffers;\n                }\n                const currentSize = current.has(listener) ? current.size - 1 : current.size;\n                if (currentSize !== 0 || other.size !== 0)\n                    continue;\n                sets.unsubscribing = true;\n            }\n            args.push(channel);\n        }\n        if (args.length === 1) {\n            // all channels has other listeners,\n            // delete the listeners without issuing a command\n            for (const channel of channelsArray) {\n                __classPrivateFieldGet(_a, _a, \"m\", _PubSub_listenersSet).call(_a, listeners.get(channel), returnBuffers).delete(listener);\n            }\n            return;\n        }\n        return __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_unsubscribeCommand).call(this, args, args.length - 1, () => {\n            for (const channel of channelsArray) {\n                const sets = listeners.get(channel);\n                if (!sets)\n                    continue;\n                (returnBuffers ? sets.buffers : sets.strings).delete(listener);\n                if (sets.buffers.size === 0 && sets.strings.size === 0) {\n                    listeners.delete(channel);\n                }\n            }\n        });\n    }\n    reset() {\n        __classPrivateFieldSet(this, _PubSub_isActive, false, \"f\");\n        __classPrivateFieldSet(this, _PubSub_subscribing, 0, \"f\");\n    }\n    resubscribe() {\n        var _b;\n        const commands = [];\n        for (const [type, listeners] of Object.entries(__classPrivateFieldGet(this, _PubSub_listeners, \"f\"))) {\n            if (!listeners.size)\n                continue;\n            __classPrivateFieldSet(this, _PubSub_isActive, true, \"f\");\n            __classPrivateFieldSet(this, _PubSub_subscribing, (_b = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b++, _b), \"f\");\n            const callback = () => { var _b, _c; return __classPrivateFieldSet(this, _PubSub_subscribing, (_c = __classPrivateFieldGet(this, _PubSub_subscribing, \"f\"), _b = _c--, _c), \"f\"), _b; };\n            commands.push({\n                args: [\n                    COMMANDS[type].subscribe,\n                    ...listeners.keys()\n                ],\n                channelsCounter: listeners.size,\n                resolve: callback,\n                reject: callback\n            });\n        }\n        return commands;\n    }\n    handleMessageReply(reply) {\n        if (COMMANDS[PubSubType.CHANNELS].message.equals(reply[0])) {\n            __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_emitPubSubMessage).call(this, PubSubType.CHANNELS, reply[2], reply[1]);\n            return true;\n        }\n        else if (COMMANDS[PubSubType.PATTERNS].message.equals(reply[0])) {\n            __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_emitPubSubMessage).call(this, PubSubType.PATTERNS, reply[3], reply[2], reply[1]);\n            return true;\n        }\n        else if (COMMANDS[PubSubType.SHARDED].message.equals(reply[0])) {\n            __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_emitPubSubMessage).call(this, PubSubType.SHARDED, reply[2], reply[1]);\n            return true;\n        }\n        return false;\n    }\n    removeShardedListeners(channel) {\n        const listeners = __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[PubSubType.SHARDED].get(channel);\n        __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[PubSubType.SHARDED].delete(channel);\n        __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_updateIsActive).call(this);\n        return listeners;\n    }\n    getTypeListeners(type) {\n        return __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type];\n    }\n}\nexports.PubSub = PubSub;\n_a = PubSub, _PubSub_subscribing = new WeakMap(), _PubSub_isActive = new WeakMap(), _PubSub_listeners = new WeakMap(), _PubSub_instances = new WeakSet(), _PubSub_channelsArray = function _PubSub_channelsArray(channels) {\n    return (Array.isArray(channels) ? channels : [channels]);\n}, _PubSub_listenersSet = function _PubSub_listenersSet(listeners, returnBuffers) {\n    return (returnBuffers ? listeners.buffers : listeners.strings);\n}, _PubSub_extendChannelListeners = function _PubSub_extendChannelListeners(type, channel, listeners) {\n    const existingListeners = __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type].get(channel);\n    if (!existingListeners) {\n        __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type].set(channel, listeners);\n        return true;\n    }\n    for (const listener of listeners.buffers) {\n        existingListeners.buffers.add(listener);\n    }\n    for (const listener of listeners.strings) {\n        existingListeners.strings.add(listener);\n    }\n    return false;\n}, _PubSub_unsubscribeCommand = function _PubSub_unsubscribeCommand(args, channelsCounter, removeListeners) {\n    return {\n        args,\n        channelsCounter,\n        resolve: () => {\n            removeListeners();\n            __classPrivateFieldGet(this, _PubSub_instances, \"m\", _PubSub_updateIsActive).call(this);\n        },\n        reject: undefined // use the same structure as `subscribe`\n    };\n}, _PubSub_updateIsActive = function _PubSub_updateIsActive() {\n    __classPrivateFieldSet(this, _PubSub_isActive, (__classPrivateFieldGet(this, _PubSub_listeners, \"f\")[PubSubType.CHANNELS].size !== 0 ||\n        __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[PubSubType.PATTERNS].size !== 0 ||\n        __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[PubSubType.SHARDED].size !== 0 ||\n        __classPrivateFieldGet(this, _PubSub_subscribing, \"f\") !== 0), \"f\");\n}, _PubSub_emitPubSubMessage = function _PubSub_emitPubSubMessage(type, message, channel, pattern) {\n    const keyString = (pattern ?? channel).toString(), listeners = __classPrivateFieldGet(this, _PubSub_listeners, \"f\")[type].get(keyString);\n    if (!listeners)\n        return;\n    for (const listener of listeners.buffers) {\n        listener(message, channel);\n    }\n    if (!listeners.strings.size)\n        return;\n    const channelString = pattern ? channel.toString() : keyString, messageString = channelString === '__redis__:invalidate' ?\n        // https://github.com/redis/redis/pull/7469\n        // https://github.com/redis/redis/issues/7463\n        (message === null ? null : message.map(x => x.toString())) :\n        message.toString();\n    for (const listener of listeners.strings) {\n        listener(messageString, channelString);\n    }\n};\n","\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _RedisCommandsQueue_instances, _a, _RedisCommandsQueue_flushQueue, _RedisCommandsQueue_maxLength, _RedisCommandsQueue_waitingToBeSent, _RedisCommandsQueue_waitingForReply, _RedisCommandsQueue_onShardedChannelMoved, _RedisCommandsQueue_pubSub, _RedisCommandsQueue_chainInExecution, _RedisCommandsQueue_decoder, _RedisCommandsQueue_pushPubSubCommand;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst LinkedList = require(\"yallist\");\nconst errors_1 = require(\"../errors\");\nconst decoder_1 = require(\"./RESP2/decoder\");\nconst encoder_1 = require(\"./RESP2/encoder\");\nconst pub_sub_1 = require(\"./pub-sub\");\nconst PONG = Buffer.from('pong');\nclass RedisCommandsQueue {\n    get isPubSubActive() {\n        return __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").isActive;\n    }\n    constructor(maxLength, onShardedChannelMoved) {\n        _RedisCommandsQueue_instances.add(this);\n        _RedisCommandsQueue_maxLength.set(this, void 0);\n        _RedisCommandsQueue_waitingToBeSent.set(this, new LinkedList());\n        _RedisCommandsQueue_waitingForReply.set(this, new LinkedList());\n        _RedisCommandsQueue_onShardedChannelMoved.set(this, void 0);\n        _RedisCommandsQueue_pubSub.set(this, new pub_sub_1.PubSub());\n        _RedisCommandsQueue_chainInExecution.set(this, void 0);\n        _RedisCommandsQueue_decoder.set(this, new decoder_1.default({\n            returnStringsAsBuffers: () => {\n                return !!__classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").head?.value.returnBuffers ||\n                    __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").isActive;\n            },\n            onReply: reply => {\n                if (__classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").isActive && Array.isArray(reply)) {\n                    if (__classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").handleMessageReply(reply))\n                        return;\n                    const isShardedUnsubscribe = pub_sub_1.PubSub.isShardedUnsubscribe(reply);\n                    if (isShardedUnsubscribe && !__classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").length) {\n                        const channel = reply[1].toString();\n                        __classPrivateFieldGet(this, _RedisCommandsQueue_onShardedChannelMoved, \"f\").call(this, channel, __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").removeShardedListeners(channel));\n                        return;\n                    }\n                    else if (isShardedUnsubscribe || pub_sub_1.PubSub.isStatusReply(reply)) {\n                        const head = __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").head.value;\n                        if ((Number.isNaN(head.channelsCounter) && reply[2] === 0) ||\n                            --head.channelsCounter === 0) {\n                            __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").shift().resolve();\n                        }\n                        return;\n                    }\n                    if (PONG.equals(reply[0])) {\n                        const { resolve, returnBuffers } = __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").shift(), buffer = (reply[1].length === 0 ? reply[0] : reply[1]);\n                        resolve(returnBuffers ? buffer : buffer.toString());\n                        return;\n                    }\n                }\n                const { resolve, reject } = __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").shift();\n                if (reply instanceof errors_1.ErrorReply) {\n                    reject(reply);\n                }\n                else {\n                    resolve(reply);\n                }\n            }\n        }));\n        __classPrivateFieldSet(this, _RedisCommandsQueue_maxLength, maxLength, \"f\");\n        __classPrivateFieldSet(this, _RedisCommandsQueue_onShardedChannelMoved, onShardedChannelMoved, \"f\");\n    }\n    addCommand(args, options) {\n        if (__classPrivateFieldGet(this, _RedisCommandsQueue_maxLength, \"f\") && __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").length + __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").length >= __classPrivateFieldGet(this, _RedisCommandsQueue_maxLength, \"f\")) {\n            return Promise.reject(new Error('The queue is full'));\n        }\n        else if (options?.signal?.aborted) {\n            return Promise.reject(new errors_1.AbortError());\n        }\n        return new Promise((resolve, reject) => {\n            const node = new LinkedList.Node({\n                args,\n                chainId: options?.chainId,\n                returnBuffers: options?.returnBuffers,\n                resolve,\n                reject\n            });\n            if (options?.signal) {\n                const listener = () => {\n                    __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").removeNode(node);\n                    node.value.reject(new errors_1.AbortError());\n                };\n                node.value.abort = {\n                    signal: options.signal,\n                    listener\n                };\n                // AbortSignal type is incorrent\n                options.signal.addEventListener('abort', listener, {\n                    once: true\n                });\n            }\n            if (options?.asap) {\n                __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").unshiftNode(node);\n            }\n            else {\n                __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").pushNode(node);\n            }\n        });\n    }\n    subscribe(type, channels, listener, returnBuffers) {\n        return __classPrivateFieldGet(this, _RedisCommandsQueue_instances, \"m\", _RedisCommandsQueue_pushPubSubCommand).call(this, __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").subscribe(type, channels, listener, returnBuffers));\n    }\n    unsubscribe(type, channels, listener, returnBuffers) {\n        return __classPrivateFieldGet(this, _RedisCommandsQueue_instances, \"m\", _RedisCommandsQueue_pushPubSubCommand).call(this, __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").unsubscribe(type, channels, listener, returnBuffers));\n    }\n    resubscribe() {\n        const commands = __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").resubscribe();\n        if (!commands.length)\n            return;\n        return Promise.all(commands.map(command => __classPrivateFieldGet(this, _RedisCommandsQueue_instances, \"m\", _RedisCommandsQueue_pushPubSubCommand).call(this, command)));\n    }\n    extendPubSubChannelListeners(type, channel, listeners) {\n        return __classPrivateFieldGet(this, _RedisCommandsQueue_instances, \"m\", _RedisCommandsQueue_pushPubSubCommand).call(this, __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").extendChannelListeners(type, channel, listeners));\n    }\n    extendPubSubListeners(type, listeners) {\n        return __classPrivateFieldGet(this, _RedisCommandsQueue_instances, \"m\", _RedisCommandsQueue_pushPubSubCommand).call(this, __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").extendTypeListeners(type, listeners));\n    }\n    getPubSubListeners(type) {\n        return __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").getTypeListeners(type);\n    }\n    getCommandToSend() {\n        const toSend = __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").shift();\n        if (!toSend)\n            return;\n        let encoded;\n        try {\n            encoded = (0, encoder_1.default)(toSend.args);\n        }\n        catch (err) {\n            toSend.reject(err);\n            return;\n        }\n        __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\").push({\n            resolve: toSend.resolve,\n            reject: toSend.reject,\n            channelsCounter: toSend.channelsCounter,\n            returnBuffers: toSend.returnBuffers\n        });\n        __classPrivateFieldSet(this, _RedisCommandsQueue_chainInExecution, toSend.chainId, \"f\");\n        return encoded;\n    }\n    onReplyChunk(chunk) {\n        __classPrivateFieldGet(this, _RedisCommandsQueue_decoder, \"f\").write(chunk);\n    }\n    flushWaitingForReply(err) {\n        __classPrivateFieldGet(this, _RedisCommandsQueue_decoder, \"f\").reset();\n        __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").reset();\n        __classPrivateFieldGet(_a, _a, \"m\", _RedisCommandsQueue_flushQueue).call(_a, __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\"), err);\n        if (!__classPrivateFieldGet(this, _RedisCommandsQueue_chainInExecution, \"f\"))\n            return;\n        while (__classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").head?.value.chainId === __classPrivateFieldGet(this, _RedisCommandsQueue_chainInExecution, \"f\")) {\n            __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").shift();\n        }\n        __classPrivateFieldSet(this, _RedisCommandsQueue_chainInExecution, undefined, \"f\");\n    }\n    flushAll(err) {\n        __classPrivateFieldGet(this, _RedisCommandsQueue_decoder, \"f\").reset();\n        __classPrivateFieldGet(this, _RedisCommandsQueue_pubSub, \"f\").reset();\n        __classPrivateFieldGet(_a, _a, \"m\", _RedisCommandsQueue_flushQueue).call(_a, __classPrivateFieldGet(this, _RedisCommandsQueue_waitingForReply, \"f\"), err);\n        __classPrivateFieldGet(_a, _a, \"m\", _RedisCommandsQueue_flushQueue).call(_a, __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\"), err);\n    }\n}\n_a = RedisCommandsQueue, _RedisCommandsQueue_maxLength = new WeakMap(), _RedisCommandsQueue_waitingToBeSent = new WeakMap(), _RedisCommandsQueue_waitingForReply = new WeakMap(), _RedisCommandsQueue_onShardedChannelMoved = new WeakMap(), _RedisCommandsQueue_pubSub = new WeakMap(), _RedisCommandsQueue_chainInExecution = new WeakMap(), _RedisCommandsQueue_decoder = new WeakMap(), _RedisCommandsQueue_instances = new WeakSet(), _RedisCommandsQueue_flushQueue = function _RedisCommandsQueue_flushQueue(queue, err) {\n    while (queue.length) {\n        queue.shift().reject(err);\n    }\n}, _RedisCommandsQueue_pushPubSubCommand = function _RedisCommandsQueue_pushPubSubCommand(command) {\n    if (command === undefined)\n        return;\n    return new Promise((resolve, reject) => {\n        __classPrivateFieldGet(this, _RedisCommandsQueue_waitingToBeSent, \"f\").push({\n            args: command.args,\n            channelsCounter: command.channelsCounter,\n            returnBuffers: true,\n            resolve: () => {\n                command.resolve();\n                resolve();\n            },\n            reject: err => {\n                command.reject?.();\n                reject(err);\n            }\n        });\n    });\n};\nexports.default = RedisCommandsQueue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isCommandOptions = exports.commandOptions = void 0;\nconst symbol = Symbol('Command Options');\nfunction commandOptions(options) {\n    options[symbol] = true;\n    return options;\n}\nexports.commandOptions = commandOptions;\nfunction isCommandOptions(options) {\n    return options?.[symbol] === true;\n}\nexports.isCommandOptions = isCommandOptions;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fCallArguments = exports.transformCommandReply = exports.transformLegacyCommandArguments = exports.transformCommandArguments = exports.attachExtensions = exports.attachCommands = void 0;\nconst command_options_1 = require(\"./command-options\");\nfunction attachCommands({ BaseClass, commands, executor }) {\n    for (const [name, command] of Object.entries(commands)) {\n        BaseClass.prototype[name] = function (...args) {\n            return executor.call(this, command, args, name);\n        };\n    }\n}\nexports.attachCommands = attachCommands;\nfunction attachExtensions(config) {\n    let Commander;\n    if (config.modules) {\n        Commander = attachWithNamespaces({\n            BaseClass: config.BaseClass,\n            namespaces: config.modules,\n            executor: config.modulesExecutor\n        });\n    }\n    if (config.functions) {\n        Commander = attachWithNamespaces({\n            BaseClass: Commander ?? config.BaseClass,\n            namespaces: config.functions,\n            executor: config.functionsExecutor\n        });\n    }\n    if (config.scripts) {\n        Commander ?? (Commander = class extends config.BaseClass {\n        });\n        attachCommands({\n            BaseClass: Commander,\n            commands: config.scripts,\n            executor: config.scriptsExecutor\n        });\n    }\n    return Commander ?? config.BaseClass;\n}\nexports.attachExtensions = attachExtensions;\nfunction attachWithNamespaces({ BaseClass, namespaces, executor }) {\n    const Commander = class extends BaseClass {\n        constructor(...args) {\n            super(...args);\n            for (const namespace of Object.keys(namespaces)) {\n                this[namespace] = Object.create(this[namespace], {\n                    self: {\n                        value: this\n                    }\n                });\n            }\n        }\n    };\n    for (const [namespace, commands] of Object.entries(namespaces)) {\n        Commander.prototype[namespace] = {};\n        for (const [name, command] of Object.entries(commands)) {\n            Commander.prototype[namespace][name] = function (...args) {\n                return executor.call(this.self, command, args, name);\n            };\n        }\n    }\n    return Commander;\n}\nfunction transformCommandArguments(command, args) {\n    let options;\n    if ((0, command_options_1.isCommandOptions)(args[0])) {\n        options = args[0];\n        args = args.slice(1);\n    }\n    return {\n        jsArgs: args,\n        args: command.transformArguments(...args),\n        options\n    };\n}\nexports.transformCommandArguments = transformCommandArguments;\nfunction transformLegacyCommandArguments(args) {\n    return args.flat().map(arg => {\n        return typeof arg === 'number' || arg instanceof Date ?\n            arg.toString() :\n            arg;\n    });\n}\nexports.transformLegacyCommandArguments = transformLegacyCommandArguments;\nfunction transformCommandReply(command, rawReply, preserved) {\n    if (!command.transformReply) {\n        return rawReply;\n    }\n    return command.transformReply(rawReply, preserved);\n}\nexports.transformCommandReply = transformCommandReply;\nfunction fCallArguments(name, fn, args) {\n    const actualArgs = [\n        fn.IS_READ_ONLY ? 'FCALL_RO' : 'FCALL',\n        name\n    ];\n    if (fn.NUMBER_OF_KEYS !== undefined) {\n        actualArgs.push(fn.NUMBER_OF_KEYS.toString());\n    }\n    actualArgs.push(...args);\n    return actualArgs;\n}\nexports.fCallArguments = fCallArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commander_1 = require(\"./commander\");\nconst errors_1 = require(\"./errors\");\nclass RedisMultiCommand {\n    constructor() {\n        Object.defineProperty(this, \"queue\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: []\n        });\n        Object.defineProperty(this, \"scriptsInUse\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Set()\n        });\n    }\n    static generateChainId() {\n        return Symbol('RedisMultiCommand Chain Id');\n    }\n    addCommand(args, transformReply) {\n        this.queue.push({\n            args,\n            transformReply\n        });\n    }\n    addFunction(name, fn, args) {\n        const transformedArguments = (0, commander_1.fCallArguments)(name, fn, fn.transformArguments(...args));\n        this.queue.push({\n            args: transformedArguments,\n            transformReply: fn.transformReply\n        });\n        return transformedArguments;\n    }\n    addScript(script, args) {\n        const transformedArguments = [];\n        if (this.scriptsInUse.has(script.SHA1)) {\n            transformedArguments.push('EVALSHA', script.SHA1);\n        }\n        else {\n            this.scriptsInUse.add(script.SHA1);\n            transformedArguments.push('EVAL', script.SCRIPT);\n        }\n        if (script.NUMBER_OF_KEYS !== undefined) {\n            transformedArguments.push(script.NUMBER_OF_KEYS.toString());\n        }\n        const scriptArguments = script.transformArguments(...args);\n        transformedArguments.push(...scriptArguments);\n        if (scriptArguments.preserve) {\n            transformedArguments.preserve = scriptArguments.preserve;\n        }\n        this.addCommand(transformedArguments, script.transformReply);\n        return transformedArguments;\n    }\n    handleExecReplies(rawReplies) {\n        const execReply = rawReplies[rawReplies.length - 1];\n        if (execReply === null) {\n            throw new errors_1.WatchError();\n        }\n        return this.transformReplies(execReply);\n    }\n    transformReplies(rawReplies) {\n        const errorIndexes = [], replies = rawReplies.map((reply, i) => {\n            if (reply instanceof errors_1.ErrorReply) {\n                errorIndexes.push(i);\n                return reply;\n            }\n            const { transformReply, args } = this.queue[i];\n            return transformReply ? transformReply(reply, args.preserve) : reply;\n        });\n        if (errorIndexes.length)\n            throw new errors_1.MultiErrorReply(replies, errorIndexes);\n        return replies;\n    }\n}\nexports.default = RedisMultiCommand;\n","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _RedisClientMultiCommand_instances, _RedisClientMultiCommand_multi, _RedisClientMultiCommand_executor, _RedisClientMultiCommand_selectedDB, _RedisClientMultiCommand_legacyMode, _RedisClientMultiCommand_defineLegacyCommand;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commands_1 = require(\"./commands\");\nconst multi_command_1 = require(\"../multi-command\");\nconst commander_1 = require(\"../commander\");\nclass RedisClientMultiCommand {\n    static extend(extensions) {\n        return (0, commander_1.attachExtensions)({\n            BaseClass: RedisClientMultiCommand,\n            modulesExecutor: RedisClientMultiCommand.prototype.commandsExecutor,\n            modules: extensions?.modules,\n            functionsExecutor: RedisClientMultiCommand.prototype.functionsExecutor,\n            functions: extensions?.functions,\n            scriptsExecutor: RedisClientMultiCommand.prototype.scriptsExecutor,\n            scripts: extensions?.scripts\n        });\n    }\n    constructor(executor, legacyMode = false) {\n        _RedisClientMultiCommand_instances.add(this);\n        _RedisClientMultiCommand_multi.set(this, new multi_command_1.default());\n        _RedisClientMultiCommand_executor.set(this, void 0);\n        Object.defineProperty(this, \"v4\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n        _RedisClientMultiCommand_selectedDB.set(this, void 0);\n        Object.defineProperty(this, \"select\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SELECT\n        });\n        Object.defineProperty(this, \"EXEC\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.exec\n        });\n        __classPrivateFieldSet(this, _RedisClientMultiCommand_executor, executor, \"f\");\n        if (legacyMode) {\n            __classPrivateFieldGet(this, _RedisClientMultiCommand_instances, \"m\", _RedisClientMultiCommand_legacyMode).call(this);\n        }\n    }\n    commandsExecutor(command, args) {\n        return this.addCommand(command.transformArguments(...args), command.transformReply);\n    }\n    SELECT(db, transformReply) {\n        __classPrivateFieldSet(this, _RedisClientMultiCommand_selectedDB, db, \"f\");\n        return this.addCommand(['SELECT', db.toString()], transformReply);\n    }\n    addCommand(args, transformReply) {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addCommand(args, transformReply);\n        return this;\n    }\n    functionsExecutor(fn, args, name) {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addFunction(name, fn, args);\n        return this;\n    }\n    scriptsExecutor(script, args) {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addScript(script, args);\n        return this;\n    }\n    async exec(execAsPipeline = false) {\n        if (execAsPipeline) {\n            return this.execAsPipeline();\n        }\n        return __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").handleExecReplies(await __classPrivateFieldGet(this, _RedisClientMultiCommand_executor, \"f\").call(this, __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").queue, __classPrivateFieldGet(this, _RedisClientMultiCommand_selectedDB, \"f\"), multi_command_1.default.generateChainId()));\n    }\n    async execAsPipeline() {\n        if (__classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").queue.length === 0)\n            return [];\n        return __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").transformReplies(await __classPrivateFieldGet(this, _RedisClientMultiCommand_executor, \"f\").call(this, __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").queue, __classPrivateFieldGet(this, _RedisClientMultiCommand_selectedDB, \"f\")));\n    }\n}\n_RedisClientMultiCommand_multi = new WeakMap(), _RedisClientMultiCommand_executor = new WeakMap(), _RedisClientMultiCommand_selectedDB = new WeakMap(), _RedisClientMultiCommand_instances = new WeakSet(), _RedisClientMultiCommand_legacyMode = function _RedisClientMultiCommand_legacyMode() {\n    var _a, _b;\n    this.v4.addCommand = this.addCommand.bind(this);\n    this.addCommand = (...args) => {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addCommand((0, commander_1.transformLegacyCommandArguments)(args));\n        return this;\n    };\n    this.v4.exec = this.exec.bind(this);\n    this.exec = (callback) => {\n        this.v4.exec()\n            .then((reply) => {\n            if (!callback)\n                return;\n            callback(null, reply);\n        })\n            .catch((err) => {\n            if (!callback) {\n                // this.emit('error', err);\n                return;\n            }\n            callback(err);\n        });\n    };\n    for (const [name, command] of Object.entries(commands_1.default)) {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_instances, \"m\", _RedisClientMultiCommand_defineLegacyCommand).call(this, name, command);\n        (_a = this)[_b = name.toLowerCase()] ?? (_a[_b] = this[name]);\n    }\n}, _RedisClientMultiCommand_defineLegacyCommand = function _RedisClientMultiCommand_defineLegacyCommand(name, command) {\n    this.v4[name] = this[name].bind(this.v4);\n    this[name] = command && command.TRANSFORM_LEGACY_REPLY && command.transformReply ?\n        (...args) => {\n            __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addCommand([name, ...(0, commander_1.transformLegacyCommandArguments)(args)], command.transformReply);\n            return this;\n        } :\n        (...args) => this.addCommand(name, ...args);\n};\nexports.default = RedisClientMultiCommand;\n(0, commander_1.attachCommands)({\n    BaseClass: RedisClientMultiCommand,\n    commands: commands_1.default,\n    executor: RedisClientMultiCommand.prototype.commandsExecutor\n});\n","module.exports = function(factory) {\n  if (typeof factory.create !== \"function\") {\n    throw new TypeError(\"factory.create must be a function\");\n  }\n\n  if (typeof factory.destroy !== \"function\") {\n    throw new TypeError(\"factory.destroy must be a function\");\n  }\n\n  if (\n    typeof factory.validate !== \"undefined\" &&\n    typeof factory.validate !== \"function\"\n  ) {\n    throw new TypeError(\"factory.validate must be a function\");\n  }\n};\n","\"use strict\";\n/**\n * Create the default settings used by the pool\n *\n * @class\n */\nclass PoolDefaults {\n  constructor() {\n    this.fifo = true;\n    this.priorityRange = 1;\n\n    this.testOnBorrow = false;\n    this.testOnReturn = false;\n\n    this.autostart = true;\n\n    this.evictionRunIntervalMillis = 0;\n    this.numTestsPerEvictionRun = 3;\n    this.softIdleTimeoutMillis = -1;\n    this.idleTimeoutMillis = 30000;\n\n    // FIXME: no defaults!\n    this.acquireTimeoutMillis = null;\n    this.destroyTimeoutMillis = null;\n    this.maxWaitingClients = null;\n\n    this.min = null;\n    this.max = null;\n    // FIXME: this seems odd?\n    this.Promise = Promise;\n  }\n}\n\nmodule.exports = PoolDefaults;\n","\"use strict\";\n\nconst PoolDefaults = require(\"./PoolDefaults\");\n\nclass PoolOptions {\n  /**\n   * @param {Object} opts\n   *   configuration for the pool\n   * @param {Number} [opts.max=null]\n   *   Maximum number of items that can exist at the same time.  Default: 1.\n   *   Any further acquire requests will be pushed to the waiting list.\n   * @param {Number} [opts.min=null]\n   *   Minimum number of items in pool (including in-use). Default: 0.\n   *   When the pool is created, or a resource destroyed, this minimum will\n   *   be checked. If the pool resource count is below the minimum, a new\n   *   resource will be created and added to the pool.\n   * @param {Number} [opts.maxWaitingClients=null]\n   *   maximum number of queued requests allowed after which acquire calls will be rejected\n   * @param {Boolean} [opts.testOnBorrow=false]\n   *   should the pool validate resources before giving them to clients. Requires that\n   *   `factory.validate` is specified.\n   * @param {Boolean} [opts.testOnReturn=false]\n   *   should the pool validate resources before returning them to the pool.\n   * @param {Number} [opts.acquireTimeoutMillis=null]\n   *   Delay in milliseconds after which the an `acquire` call will fail. optional.\n   *   Default: undefined. Should be positive and non-zero\n   * @param {Number} [opts.destroyTimeoutMillis=null]\n   *   Delay in milliseconds after which the an `destroy` call will fail, causing it to emit a factoryDestroyError event. optional.\n   *   Default: undefined. Should be positive and non-zero\n   * @param {Number} [opts.priorityRange=1]\n   *   The range from 1 to be treated as a valid priority\n   * @param {Boolean} [opts.fifo=true]\n   *   Sets whether the pool has LIFO (last in, first out) behaviour with respect to idle objects.\n   *   if false then pool has FIFO behaviour\n   * @param {Boolean} [opts.autostart=true]\n   *   Should the pool start creating resources etc once the constructor is called\n   * @param {Number} [opts.evictionRunIntervalMillis=0]\n   *   How often to run eviction checks.  Default: 0 (does not run).\n   * @param {Number} [opts.numTestsPerEvictionRun=3]\n   *   Number of resources to check each eviction run.  Default: 3.\n   * @param {Number} [opts.softIdleTimeoutMillis=-1]\n   *   amount of time an object may sit idle in the pool before it is eligible\n   *   for eviction by the idle object evictor (if any), with the extra condition\n   *   that at least \"min idle\" object instances remain in the pool. Default -1 (nothing can get evicted)\n   * @param {Number} [opts.idleTimeoutMillis=30000]\n   *   the minimum amount of time that an object may sit idle in the pool before it is eligible for eviction\n   *   due to idle time. Supercedes \"softIdleTimeoutMillis\" Default: 30000\n   * @param {typeof Promise} [opts.Promise=Promise]\n   *   What promise implementation should the pool use, defaults to native promises.\n   */\n  constructor(opts) {\n    const poolDefaults = new PoolDefaults();\n\n    opts = opts || {};\n\n    this.fifo = typeof opts.fifo === \"boolean\" ? opts.fifo : poolDefaults.fifo;\n    this.priorityRange = opts.priorityRange || poolDefaults.priorityRange;\n\n    this.testOnBorrow =\n      typeof opts.testOnBorrow === \"boolean\"\n        ? opts.testOnBorrow\n        : poolDefaults.testOnBorrow;\n    this.testOnReturn =\n      typeof opts.testOnReturn === \"boolean\"\n        ? opts.testOnReturn\n        : poolDefaults.testOnReturn;\n\n    this.autostart =\n      typeof opts.autostart === \"boolean\"\n        ? opts.autostart\n        : poolDefaults.autostart;\n\n    if (opts.acquireTimeoutMillis) {\n      // @ts-ignore\n      this.acquireTimeoutMillis = parseInt(opts.acquireTimeoutMillis, 10);\n    }\n\n    if (opts.destroyTimeoutMillis) {\n      // @ts-ignore\n      this.destroyTimeoutMillis = parseInt(opts.destroyTimeoutMillis, 10);\n    }\n\n    if (opts.maxWaitingClients !== undefined) {\n      // @ts-ignore\n      this.maxWaitingClients = parseInt(opts.maxWaitingClients, 10);\n    }\n\n    // @ts-ignore\n    this.max = parseInt(opts.max, 10);\n    // @ts-ignore\n    this.min = parseInt(opts.min, 10);\n\n    this.max = Math.max(isNaN(this.max) ? 1 : this.max, 1);\n    this.min = Math.min(isNaN(this.min) ? 0 : this.min, this.max);\n\n    this.evictionRunIntervalMillis =\n      opts.evictionRunIntervalMillis || poolDefaults.evictionRunIntervalMillis;\n    this.numTestsPerEvictionRun =\n      opts.numTestsPerEvictionRun || poolDefaults.numTestsPerEvictionRun;\n    this.softIdleTimeoutMillis =\n      opts.softIdleTimeoutMillis || poolDefaults.softIdleTimeoutMillis;\n    this.idleTimeoutMillis =\n      opts.idleTimeoutMillis || poolDefaults.idleTimeoutMillis;\n\n    this.Promise = opts.Promise != null ? opts.Promise : poolDefaults.Promise;\n  }\n}\n\nmodule.exports = PoolOptions;\n","\"use strict\";\n\n/**\n * This is apparently a bit like a Jquery deferred, hence the name\n */\n\nclass Deferred {\n  constructor(Promise) {\n    this._state = Deferred.PENDING;\n    this._resolve = undefined;\n    this._reject = undefined;\n\n    this._promise = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n      this._reject = reject;\n    });\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  get promise() {\n    return this._promise;\n  }\n\n  reject(reason) {\n    if (this._state !== Deferred.PENDING) {\n      return;\n    }\n    this._state = Deferred.REJECTED;\n    this._reject(reason);\n  }\n\n  resolve(value) {\n    if (this._state !== Deferred.PENDING) {\n      return;\n    }\n    this._state = Deferred.FULFILLED;\n    this._resolve(value);\n  }\n}\n\n// TODO: should these really live here? or be a seperate 'state' enum\nDeferred.PENDING = \"PENDING\";\nDeferred.FULFILLED = \"FULFILLED\";\nDeferred.REJECTED = \"REJECTED\";\n\nmodule.exports = Deferred;\n","\"use strict\";\n\nclass ExtendableError extends Error {\n  constructor(message) {\n    super(message);\n    // @ts-ignore\n    this.name = this.constructor.name;\n    this.message = message;\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = new Error(message).stack;\n    }\n  }\n}\n\n/* eslint-disable no-useless-constructor */\nclass TimeoutError extends ExtendableError {\n  constructor(m) {\n    super(m);\n  }\n}\n/* eslint-enable no-useless-constructor */\n\nmodule.exports = {\n  TimeoutError: TimeoutError\n};\n","\"use strict\";\n\nconst Deferred = require(\"./Deferred\");\nconst errors = require(\"./errors\");\n\nfunction fbind(fn, ctx) {\n  return function bound() {\n    return fn.apply(ctx, arguments);\n  };\n}\n\n/**\n * Wraps a users request for a resource\n * Basically a promise mashed in with a timeout\n * @private\n */\nclass ResourceRequest extends Deferred {\n  /**\n   * [constructor description]\n   * @param  {Number} ttl     timeout\n   */\n  constructor(ttl, Promise) {\n    super(Promise);\n    this._creationTimestamp = Date.now();\n    this._timeout = null;\n\n    if (ttl !== undefined) {\n      this.setTimeout(ttl);\n    }\n  }\n\n  setTimeout(delay) {\n    if (this._state !== ResourceRequest.PENDING) {\n      return;\n    }\n    const ttl = parseInt(delay, 10);\n\n    if (isNaN(ttl) || ttl <= 0) {\n      throw new Error(\"delay must be a positive int\");\n    }\n\n    const age = Date.now() - this._creationTimestamp;\n\n    if (this._timeout) {\n      this.removeTimeout();\n    }\n\n    this._timeout = setTimeout(\n      fbind(this._fireTimeout, this),\n      Math.max(ttl - age, 0)\n    );\n  }\n\n  removeTimeout() {\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n    }\n    this._timeout = null;\n  }\n\n  _fireTimeout() {\n    this.reject(new errors.TimeoutError(\"ResourceRequest timed out\"));\n  }\n\n  reject(reason) {\n    this.removeTimeout();\n    super.reject(reason);\n  }\n\n  resolve(value) {\n    this.removeTimeout();\n    super.resolve(value);\n  }\n}\n\nmodule.exports = ResourceRequest;\n","\"use strict\";\n\nconst Deferred = require(\"./Deferred\");\n\n/**\n * Plan is to maybe add tracking via Error objects\n * and other fun stuff!\n */\n\nclass ResourceLoan extends Deferred {\n  /**\n   *\n   * @param  {any} pooledResource the PooledResource this loan belongs to\n   * @return {any}                [description]\n   */\n  constructor(pooledResource, Promise) {\n    super(Promise);\n    this._creationTimestamp = Date.now();\n    this.pooledResource = pooledResource;\n  }\n\n  reject() {\n    /**\n     * Loans can only be resolved at the moment\n     */\n  }\n}\n\nmodule.exports = ResourceLoan;\n","\"use strict\";\n\nconst PooledResourceStateEnum = {\n  ALLOCATED: \"ALLOCATED\", // In use\n  IDLE: \"IDLE\", // In the queue, not in use.\n  INVALID: \"INVALID\", // Failed validation\n  RETURNING: \"RETURNING\", // Resource is in process of returning\n  VALIDATION: \"VALIDATION\" // Currently being tested\n};\n\nmodule.exports = PooledResourceStateEnum;\n","\"use strict\";\n\nconst PooledResourceStateEnum = require(\"./PooledResourceStateEnum\");\n\n/**\n * @class\n * @private\n */\nclass PooledResource {\n  constructor(resource) {\n    this.creationTime = Date.now();\n    this.lastReturnTime = null;\n    this.lastBorrowTime = null;\n    this.lastIdleTime = null;\n    this.obj = resource;\n    this.state = PooledResourceStateEnum.IDLE;\n  }\n\n  // mark the resource as \"allocated\"\n  allocate() {\n    this.lastBorrowTime = Date.now();\n    this.state = PooledResourceStateEnum.ALLOCATED;\n  }\n\n  // mark the resource as \"deallocated\"\n  deallocate() {\n    this.lastReturnTime = Date.now();\n    this.state = PooledResourceStateEnum.IDLE;\n  }\n\n  invalidate() {\n    this.state = PooledResourceStateEnum.INVALID;\n  }\n\n  test() {\n    this.state = PooledResourceStateEnum.VALIDATION;\n  }\n\n  idle() {\n    this.lastIdleTime = Date.now();\n    this.state = PooledResourceStateEnum.IDLE;\n  }\n\n  returning() {\n    this.state = PooledResourceStateEnum.RETURNING;\n  }\n}\n\nmodule.exports = PooledResource;\n","\"use strict\";\n\nclass DefaultEvictor {\n  evict(config, pooledResource, availableObjectsCount) {\n    const idleTime = Date.now() - pooledResource.lastIdleTime;\n\n    if (\n      config.softIdleTimeoutMillis > 0 &&\n      config.softIdleTimeoutMillis < idleTime &&\n      config.min < availableObjectsCount\n    ) {\n      return true;\n    }\n\n    if (config.idleTimeoutMillis < idleTime) {\n      return true;\n    }\n\n    return false;\n  }\n}\n\nmodule.exports = DefaultEvictor;\n","\"use strict\";\n\n/**\n * A Doubly Linked List, because there aren't enough in the world...\n * this is pretty much a direct JS port of the one wikipedia\n * https://en.wikipedia.org/wiki/Doubly_linked_list\n *\n * For most usage 'insertBeginning' and 'insertEnd' should be enough\n *\n * nodes are expected to something like a POJSO like\n * {\n *   prev: null,\n *   next: null,\n *   something: 'whatever you like'\n * }\n */\nclass DoublyLinkedList {\n  constructor() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  insertBeginning(node) {\n    if (this.head === null) {\n      this.head = node;\n      this.tail = node;\n      node.prev = null;\n      node.next = null;\n      this.length++;\n    } else {\n      this.insertBefore(this.head, node);\n    }\n  }\n\n  insertEnd(node) {\n    if (this.tail === null) {\n      this.insertBeginning(node);\n    } else {\n      this.insertAfter(this.tail, node);\n    }\n  }\n\n  insertAfter(node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next === null) {\n      this.tail = newNode;\n    } else {\n      node.next.prev = newNode;\n    }\n    node.next = newNode;\n    this.length++;\n  }\n\n  insertBefore(node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev === null) {\n      this.head = newNode;\n    } else {\n      node.prev.next = newNode;\n    }\n    node.prev = newNode;\n    this.length++;\n  }\n\n  remove(node) {\n    if (node.prev === null) {\n      this.head = node.next;\n    } else {\n      node.prev.next = node.next;\n    }\n    if (node.next === null) {\n      this.tail = node.prev;\n    } else {\n      node.next.prev = node.prev;\n    }\n    node.prev = null;\n    node.next = null;\n    this.length--;\n  }\n\n  // FIXME: this should not live here and has become a dumping ground...\n  static createNode(data) {\n    return {\n      prev: null,\n      next: null,\n      data: data\n    };\n  }\n}\n\nmodule.exports = DoublyLinkedList;\n","\"use strict\";\n\n/**\n * Creates an interator for a DoublyLinkedList starting at the given node\n * It's internal cursor will remains relative to the last \"iterated\" node as that\n * node moves through the list until it either iterates to the end of the list,\n * or the the node it's tracking is removed from the list. Until the first 'next'\n * call it tracks the head/tail of the linked list. This means that one can create\n * an iterator on an empty list, then add nodes, and then the iterator will follow\n * those nodes. Because the DoublyLinkedList nodes don't track their owning \"list\" and\n * it's highly inefficient to walk the list for every iteration, the iterator won't know\n * if the node has been detached from one List and added to another list, or if the iterator\n *\n * The created object is an es6 compatible iterator\n */\nclass DoublyLinkedListIterator {\n  /**\n   * @param  {Object} doublyLinkedList     a node that is part of a doublyLinkedList\n   * @param  {Boolean} [reverse=false]     is this a reverse iterator? default: false\n   */\n  constructor(doublyLinkedList, reverse) {\n    this._list = doublyLinkedList;\n    // NOTE: these key names are tied to the DoublyLinkedListIterator\n    this._direction = reverse === true ? \"prev\" : \"next\";\n    this._startPosition = reverse === true ? \"tail\" : \"head\";\n    this._started = false;\n    this._cursor = null;\n    this._done = false;\n  }\n\n  _start() {\n    this._cursor = this._list[this._startPosition];\n    this._started = true;\n  }\n\n  _advanceCursor() {\n    if (this._started === false) {\n      this._started = true;\n      this._cursor = this._list[this._startPosition];\n      return;\n    }\n    this._cursor = this._cursor[this._direction];\n  }\n\n  reset() {\n    this._done = false;\n    this._started = false;\n    this._cursor = null;\n  }\n\n  remove() {\n    if (\n      this._started === false ||\n      this._done === true ||\n      this._isCursorDetached()\n    ) {\n      return false;\n    }\n    this._list.remove(this._cursor);\n  }\n\n  next() {\n    if (this._done === true) {\n      return { done: true };\n    }\n\n    this._advanceCursor();\n\n    // if there is no node at the cursor or the node at the cursor is no longer part of\n    // a doubly linked list then we are done/finished/kaput\n    if (this._cursor === null || this._isCursorDetached()) {\n      this._done = true;\n      return { done: true };\n    }\n\n    return {\n      value: this._cursor,\n      done: false\n    };\n  }\n\n  /**\n   * Is the node detached from a list?\n   * NOTE: you can trick/bypass/confuse this check by removing a node from one DoublyLinkedList\n   * and adding it to another.\n   * TODO: We can make this smarter by checking the direction of travel and only checking\n   * the required next/prev/head/tail rather than all of them\n   * @return {Boolean}      [description]\n   */\n  _isCursorDetached() {\n    return (\n      this._cursor.prev === null &&\n      this._cursor.next === null &&\n      this._list.tail !== this._cursor &&\n      this._list.head !== this._cursor\n    );\n  }\n}\n\nmodule.exports = DoublyLinkedListIterator;\n","\"use strict\";\n\nconst DoublyLinkedListIterator = require(\"./DoublyLinkedListIterator\");\n/**\n * Thin wrapper around an underlying DDL iterator\n */\nclass DequeIterator extends DoublyLinkedListIterator {\n  next() {\n    const result = super.next();\n\n    // unwrap the node...\n    if (result.value) {\n      result.value = result.value.data;\n    }\n\n    return result;\n  }\n}\n\nmodule.exports = DequeIterator;\n","\"use strict\";\n\nconst DoublyLinkedList = require(\"./DoublyLinkedList\");\nconst DequeIterator = require(\"./DequeIterator\");\n/**\n * DoublyLinkedList backed double ended queue\n * implements just enough to keep the Pool\n */\nclass Deque {\n  constructor() {\n    this._list = new DoublyLinkedList();\n  }\n\n  /**\n   * removes and returns the first element from the queue\n   * @return {any} [description]\n   */\n  shift() {\n    if (this.length === 0) {\n      return undefined;\n    }\n\n    const node = this._list.head;\n    this._list.remove(node);\n\n    return node.data;\n  }\n\n  /**\n   * adds one elemts to the beginning of the queue\n   * @param  {any} element [description]\n   * @return {any}         [description]\n   */\n  unshift(element) {\n    const node = DoublyLinkedList.createNode(element);\n\n    this._list.insertBeginning(node);\n  }\n\n  /**\n   * adds one to the end of the queue\n   * @param  {any} element [description]\n   * @return {any}         [description]\n   */\n  push(element) {\n    const node = DoublyLinkedList.createNode(element);\n\n    this._list.insertEnd(node);\n  }\n\n  /**\n   * removes and returns the last element from the queue\n   */\n  pop() {\n    if (this.length === 0) {\n      return undefined;\n    }\n\n    const node = this._list.tail;\n    this._list.remove(node);\n\n    return node.data;\n  }\n\n  [Symbol.iterator]() {\n    return new DequeIterator(this._list);\n  }\n\n  iterator() {\n    return new DequeIterator(this._list);\n  }\n\n  reverseIterator() {\n    return new DequeIterator(this._list, true);\n  }\n\n  /**\n   * get a reference to the item at the head of the queue\n   * @return {any} [description]\n   */\n  get head() {\n    if (this.length === 0) {\n      return undefined;\n    }\n    const node = this._list.head;\n    return node.data;\n  }\n\n  /**\n   * get a reference to the item at the tail of the queue\n   * @return {any} [description]\n   */\n  get tail() {\n    if (this.length === 0) {\n      return undefined;\n    }\n    const node = this._list.tail;\n    return node.data;\n  }\n\n  get length() {\n    return this._list.length;\n  }\n}\n\nmodule.exports = Deque;\n","\"use strict\";\n\nconst DoublyLinkedList = require(\"./DoublyLinkedList\");\nconst Deque = require(\"./Deque\");\n\n/**\n * Sort of a internal queue for holding the waiting\n * resource requets for a given \"priority\".\n * Also handles managing timeouts rejections on items (is this the best place for this?)\n * This is the last point where we know which queue a resourceRequest is in\n *\n */\nclass Queue extends Deque {\n  /**\n   * Adds the obj to the end of the list for this slot\n   * we completely override the parent method because we need access to the\n   * node for our rejection handler\n   * @param {any} resourceRequest [description]\n   */\n  push(resourceRequest) {\n    const node = DoublyLinkedList.createNode(resourceRequest);\n    resourceRequest.promise.catch(this._createTimeoutRejectionHandler(node));\n    this._list.insertEnd(node);\n  }\n\n  _createTimeoutRejectionHandler(node) {\n    return reason => {\n      if (reason.name === \"TimeoutError\") {\n        this._list.remove(node);\n      }\n    };\n  }\n}\n\nmodule.exports = Queue;\n","\"use strict\";\n\nconst Queue = require(\"./Queue\");\n\n/**\n * @class\n * @private\n */\nclass PriorityQueue {\n  constructor(size) {\n    this._size = Math.max(+size | 0, 1);\n    /** @type {Queue[]} */\n    this._slots = [];\n    // initialize arrays to hold queue elements\n    for (let i = 0; i < this._size; i++) {\n      this._slots.push(new Queue());\n    }\n  }\n\n  get length() {\n    let _length = 0;\n    for (let i = 0, slots = this._slots.length; i < slots; i++) {\n      _length += this._slots[i].length;\n    }\n    return _length;\n  }\n\n  enqueue(obj, priority) {\n    // Convert to integer with a default value of 0.\n    priority = (priority && +priority | 0) || 0;\n\n    if (priority) {\n      if (priority < 0 || priority >= this._size) {\n        priority = this._size - 1;\n        // put obj at the end of the line\n      }\n    }\n    this._slots[priority].push(obj);\n  }\n\n  dequeue() {\n    for (let i = 0, sl = this._slots.length; i < sl; i += 1) {\n      if (this._slots[i].length) {\n        return this._slots[i].shift();\n      }\n    }\n    return;\n  }\n\n  get head() {\n    for (let i = 0, sl = this._slots.length; i < sl; i += 1) {\n      if (this._slots[i].length > 0) {\n        return this._slots[i].head;\n      }\n    }\n    return;\n  }\n\n  get tail() {\n    for (let i = this._slots.length - 1; i >= 0; i--) {\n      if (this._slots[i].length > 0) {\n        return this._slots[i].tail;\n      }\n    }\n    return;\n  }\n}\n\nmodule.exports = PriorityQueue;\n","\"use strict\";\n\nfunction noop() {}\n\n/**\n * Reflects a promise but does not expose any\n * underlying value or rejection from that promise.\n * @param  {Promise} promise [description]\n * @return {Promise}         [description]\n */\nexports.reflector = function(promise) {\n  return promise.then(noop, noop);\n};\n","\"use strict\";\n\nconst EventEmitter = require(\"events\").EventEmitter;\n\nconst factoryValidator = require(\"./factoryValidator\");\nconst PoolOptions = require(\"./PoolOptions\");\nconst ResourceRequest = require(\"./ResourceRequest\");\nconst ResourceLoan = require(\"./ResourceLoan\");\nconst PooledResource = require(\"./PooledResource\");\nconst DefaultEvictor = require(\"./DefaultEvictor\");\nconst Deque = require(\"./Deque\");\nconst Deferred = require(\"./Deferred\");\nconst PriorityQueue = require(\"./PriorityQueue\");\nconst DequeIterator = require(\"./DequeIterator\");\n\nconst reflector = require(\"./utils\").reflector;\n\n/**\n * TODO: move me\n */\nconst FACTORY_CREATE_ERROR = \"factoryCreateError\";\nconst FACTORY_DESTROY_ERROR = \"factoryDestroyError\";\n\nclass Pool extends EventEmitter {\n  /**\n   * Generate an Object pool with a specified `factory` and `config`.\n   *\n   * @param {typeof DefaultEvictor} Evictor\n   * @param {typeof Deque} Deque\n   * @param {typeof PriorityQueue} PriorityQueue\n   * @param {Object} factory\n   *   Factory to be used for generating and destroying the items.\n   * @param {Function} factory.create\n   *   Should create the item to be acquired,\n   *   and call it's first callback argument with the generated item as it's argument.\n   * @param {Function} factory.destroy\n   *   Should gently close any resources that the item is using.\n   *   Called before the items is destroyed.\n   * @param {Function} factory.validate\n   *   Test if a resource is still valid .Should return a promise that resolves to a boolean, true if resource is still valid and false\n   *   If it should be removed from pool.\n   * @param {Object} options\n   */\n  constructor(Evictor, Deque, PriorityQueue, factory, options) {\n    super();\n\n    factoryValidator(factory);\n\n    this._config = new PoolOptions(options);\n\n    // TODO: fix up this ugly glue-ing\n    this._Promise = this._config.Promise;\n\n    this._factory = factory;\n    this._draining = false;\n    this._started = false;\n    /**\n     * Holds waiting clients\n     * @type {PriorityQueue}\n     */\n    this._waitingClientsQueue = new PriorityQueue(this._config.priorityRange);\n\n    /**\n     * Collection of promises for resource creation calls made by the pool to factory.create\n     * @type {Set}\n     */\n    this._factoryCreateOperations = new Set();\n\n    /**\n     * Collection of promises for resource destruction calls made by the pool to factory.destroy\n     * @type {Set}\n     */\n    this._factoryDestroyOperations = new Set();\n\n    /**\n     * A queue/stack of pooledResources awaiting acquisition\n     * TODO: replace with LinkedList backed array\n     * @type {Deque}\n     */\n    this._availableObjects = new Deque();\n\n    /**\n     * Collection of references for any resource that are undergoing validation before being acquired\n     * @type {Set}\n     */\n    this._testOnBorrowResources = new Set();\n\n    /**\n     * Collection of references for any resource that are undergoing validation before being returned\n     * @type {Set}\n     */\n    this._testOnReturnResources = new Set();\n\n    /**\n     * Collection of promises for any validations currently in process\n     * @type {Set}\n     */\n    this._validationOperations = new Set();\n\n    /**\n     * All objects associated with this pool in any state (except destroyed)\n     * @type {Set}\n     */\n    this._allObjects = new Set();\n\n    /**\n     * Loans keyed by the borrowed resource\n     * @type {Map}\n     */\n    this._resourceLoans = new Map();\n\n    /**\n     * Infinitely looping iterator over available object\n     * @type {DequeIterator}\n     */\n    this._evictionIterator = this._availableObjects.iterator();\n\n    this._evictor = new Evictor();\n\n    /**\n     * handle for setTimeout for next eviction run\n     * @type {(number|null)}\n     */\n    this._scheduledEviction = null;\n\n    // create initial resources (if factory.min > 0)\n    if (this._config.autostart === true) {\n      this.start();\n    }\n  }\n\n  _destroy(pooledResource) {\n    // FIXME: do we need another state for \"in destruction\"?\n    pooledResource.invalidate();\n    this._allObjects.delete(pooledResource);\n    // NOTE: this maybe very bad promise usage?\n    const destroyPromise = this._factory.destroy(pooledResource.obj);\n    const wrappedDestroyPromise = this._config.destroyTimeoutMillis\n      ? this._Promise.resolve(this._applyDestroyTimeout(destroyPromise))\n      : this._Promise.resolve(destroyPromise);\n\n    this._trackOperation(\n      wrappedDestroyPromise,\n      this._factoryDestroyOperations\n    ).catch(reason => {\n      this.emit(FACTORY_DESTROY_ERROR, reason);\n    });\n\n    // TODO: maybe ensuring minimum pool size should live outside here\n    this._ensureMinimum();\n  }\n\n  _applyDestroyTimeout(promise) {\n    const timeoutPromise = new this._Promise((resolve, reject) => {\n      setTimeout(() => {\n        reject(new Error(\"destroy timed out\"));\n      }, this._config.destroyTimeoutMillis).unref();\n    });\n    return this._Promise.race([timeoutPromise, promise]);\n  }\n\n  /**\n   * Attempt to move an available resource into test and then onto a waiting client\n   * @return {Boolean} could we move an available resource into test\n   */\n  _testOnBorrow() {\n    if (this._availableObjects.length < 1) {\n      return false;\n    }\n\n    const pooledResource = this._availableObjects.shift();\n    // Mark the resource as in test\n    pooledResource.test();\n    this._testOnBorrowResources.add(pooledResource);\n    const validationPromise = this._factory.validate(pooledResource.obj);\n    const wrappedValidationPromise = this._Promise.resolve(validationPromise);\n\n    this._trackOperation(\n      wrappedValidationPromise,\n      this._validationOperations\n    ).then(isValid => {\n      this._testOnBorrowResources.delete(pooledResource);\n\n      if (isValid === false) {\n        pooledResource.invalidate();\n        this._destroy(pooledResource);\n        this._dispense();\n        return;\n      }\n      this._dispatchPooledResourceToNextWaitingClient(pooledResource);\n    });\n\n    return true;\n  }\n\n  /**\n   * Attempt to move an available resource to a waiting client\n   * @return {Boolean} [description]\n   */\n  _dispatchResource() {\n    if (this._availableObjects.length < 1) {\n      return false;\n    }\n\n    const pooledResource = this._availableObjects.shift();\n    this._dispatchPooledResourceToNextWaitingClient(pooledResource);\n    return false;\n  }\n\n  /**\n   * Attempt to resolve an outstanding resource request using an available resource from\n   * the pool, or creating new ones\n   *\n   * @private\n   */\n  _dispense() {\n    /**\n     * Local variables for ease of reading/writing\n     * these don't (shouldn't) change across the execution of this fn\n     */\n    const numWaitingClients = this._waitingClientsQueue.length;\n\n    // If there aren't any waiting requests then there is nothing to do\n    // so lets short-circuit\n    if (numWaitingClients < 1) {\n      return;\n    }\n\n    const resourceShortfall =\n      numWaitingClients - this._potentiallyAllocableResourceCount;\n\n    const actualNumberOfResourcesToCreate = Math.min(\n      this.spareResourceCapacity,\n      resourceShortfall\n    );\n    for (let i = 0; actualNumberOfResourcesToCreate > i; i++) {\n      this._createResource();\n    }\n\n    // If we are doing test-on-borrow see how many more resources need to be moved into test\n    // to help satisfy waitingClients\n    if (this._config.testOnBorrow === true) {\n      // how many available resources do we need to shift into test\n      const desiredNumberOfResourcesToMoveIntoTest =\n        numWaitingClients - this._testOnBorrowResources.size;\n      const actualNumberOfResourcesToMoveIntoTest = Math.min(\n        this._availableObjects.length,\n        desiredNumberOfResourcesToMoveIntoTest\n      );\n      for (let i = 0; actualNumberOfResourcesToMoveIntoTest > i; i++) {\n        this._testOnBorrow();\n      }\n    }\n\n    // if we aren't testing-on-borrow then lets try to allocate what we can\n    if (this._config.testOnBorrow === false) {\n      const actualNumberOfResourcesToDispatch = Math.min(\n        this._availableObjects.length,\n        numWaitingClients\n      );\n      for (let i = 0; actualNumberOfResourcesToDispatch > i; i++) {\n        this._dispatchResource();\n      }\n    }\n  }\n\n  /**\n   * Dispatches a pooledResource to the next waiting client (if any) else\n   * puts the PooledResource back on the available list\n   * @param  {PooledResource} pooledResource [description]\n   * @return {Boolean}                [description]\n   */\n  _dispatchPooledResourceToNextWaitingClient(pooledResource) {\n    const clientResourceRequest = this._waitingClientsQueue.dequeue();\n    if (\n      clientResourceRequest === undefined ||\n      clientResourceRequest.state !== Deferred.PENDING\n    ) {\n      // While we were away either all the waiting clients timed out\n      // or were somehow fulfilled. put our pooledResource back.\n      this._addPooledResourceToAvailableObjects(pooledResource);\n      // TODO: do need to trigger anything before we leave?\n      return false;\n    }\n    const loan = new ResourceLoan(pooledResource, this._Promise);\n    this._resourceLoans.set(pooledResource.obj, loan);\n    pooledResource.allocate();\n    clientResourceRequest.resolve(pooledResource.obj);\n    return true;\n  }\n\n  /**\n   * tracks on operation using given set\n   * handles adding/removing from the set and resolve/rejects the value/reason\n   * @param  {Promise} operation\n   * @param  {Set} set       Set holding operations\n   * @return {Promise}       Promise that resolves once operation has been removed from set\n   */\n  _trackOperation(operation, set) {\n    set.add(operation);\n\n    return operation.then(\n      v => {\n        set.delete(operation);\n        return this._Promise.resolve(v);\n      },\n      e => {\n        set.delete(operation);\n        return this._Promise.reject(e);\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createResource() {\n    // An attempt to create a resource\n    const factoryPromise = this._factory.create();\n    const wrappedFactoryPromise = this._Promise\n      .resolve(factoryPromise)\n      .then(resource => {\n        const pooledResource = new PooledResource(resource);\n        this._allObjects.add(pooledResource);\n        this._addPooledResourceToAvailableObjects(pooledResource);\n      });\n\n    this._trackOperation(wrappedFactoryPromise, this._factoryCreateOperations)\n      .then(() => {\n        this._dispense();\n        // Stop bluebird complaining about this side-effect only handler\n        // - a promise was created in a handler but was not returned from it\n        // https://goo.gl/rRqMUw\n        return null;\n      })\n      .catch(reason => {\n        this.emit(FACTORY_CREATE_ERROR, reason);\n        this._dispense();\n      });\n  }\n\n  /**\n   * @private\n   */\n  _ensureMinimum() {\n    if (this._draining === true) {\n      return;\n    }\n    const minShortfall = this._config.min - this._count;\n    for (let i = 0; i < minShortfall; i++) {\n      this._createResource();\n    }\n  }\n\n  _evict() {\n    const testsToRun = Math.min(\n      this._config.numTestsPerEvictionRun,\n      this._availableObjects.length\n    );\n    const evictionConfig = {\n      softIdleTimeoutMillis: this._config.softIdleTimeoutMillis,\n      idleTimeoutMillis: this._config.idleTimeoutMillis,\n      min: this._config.min\n    };\n    for (let testsHaveRun = 0; testsHaveRun < testsToRun; ) {\n      const iterationResult = this._evictionIterator.next();\n\n      // Safety check incase we could get stuck in infinite loop because we\n      // somehow emptied the array after checking its length.\n      if (iterationResult.done === true && this._availableObjects.length < 1) {\n        this._evictionIterator.reset();\n        return;\n      }\n      // If this happens it should just mean we reached the end of the\n      // list and can reset the cursor.\n      if (iterationResult.done === true && this._availableObjects.length > 0) {\n        this._evictionIterator.reset();\n        continue;\n      }\n\n      const resource = iterationResult.value;\n\n      const shouldEvict = this._evictor.evict(\n        evictionConfig,\n        resource,\n        this._availableObjects.length\n      );\n      testsHaveRun++;\n\n      if (shouldEvict === true) {\n        // take it out of the _availableObjects list\n        this._evictionIterator.remove();\n        this._destroy(resource);\n      }\n    }\n  }\n\n  _scheduleEvictorRun() {\n    // Start eviction if set\n    if (this._config.evictionRunIntervalMillis > 0) {\n      // @ts-ignore\n      this._scheduledEviction = setTimeout(() => {\n        this._evict();\n        this._scheduleEvictorRun();\n      }, this._config.evictionRunIntervalMillis).unref();\n    }\n  }\n\n  _descheduleEvictorRun() {\n    if (this._scheduledEviction) {\n      clearTimeout(this._scheduledEviction);\n    }\n    this._scheduledEviction = null;\n  }\n\n  start() {\n    if (this._draining === true) {\n      return;\n    }\n    if (this._started === true) {\n      return;\n    }\n    this._started = true;\n    this._scheduleEvictorRun();\n    this._ensureMinimum();\n  }\n\n  /**\n   * Request a new resource. The callback will be called,\n   * when a new resource is available, passing the resource to the callback.\n   * TODO: should we add a seperate \"acquireWithPriority\" function\n   *\n   * @param {Number} [priority=0]\n   *   Optional.  Integer between 0 and (priorityRange - 1).  Specifies the priority\n   *   of the caller if there are no available resources.  Lower numbers mean higher\n   *   priority.\n   *\n   * @returns {Promise}\n   */\n  acquire(priority) {\n    if (this._started === false && this._config.autostart === false) {\n      this.start();\n    }\n\n    if (this._draining) {\n      return this._Promise.reject(\n        new Error(\"pool is draining and cannot accept work\")\n      );\n    }\n\n    // TODO: should we defer this check till after this event loop incase \"the situation\" changes in the meantime\n    if (\n      this.spareResourceCapacity < 1 &&\n      this._availableObjects.length < 1 &&\n      this._config.maxWaitingClients !== undefined &&\n      this._waitingClientsQueue.length >= this._config.maxWaitingClients\n    ) {\n      return this._Promise.reject(\n        new Error(\"max waitingClients count exceeded\")\n      );\n    }\n\n    const resourceRequest = new ResourceRequest(\n      this._config.acquireTimeoutMillis,\n      this._Promise\n    );\n    this._waitingClientsQueue.enqueue(resourceRequest, priority);\n    this._dispense();\n\n    return resourceRequest.promise;\n  }\n\n  /**\n   * [use method, aquires a resource, passes the resource to a user supplied function and releases it]\n   * @param  {Function} fn [a function that accepts a resource and returns a promise that resolves/rejects once it has finished using the resource]\n   * @return {Promise}      [resolves once the resource is released to the pool]\n   */\n  use(fn, priority) {\n    return this.acquire(priority).then(resource => {\n      return fn(resource).then(\n        result => {\n          this.release(resource);\n          return result;\n        },\n        err => {\n          this.destroy(resource);\n          throw err;\n        }\n      );\n    });\n  }\n\n  /**\n   * Check if resource is currently on loan from the pool\n   *\n   * @param {Function} resource\n   *    Resource for checking.\n   *\n   * @returns {Boolean}\n   *  True if resource belongs to this pool and false otherwise\n   */\n  isBorrowedResource(resource) {\n    return this._resourceLoans.has(resource);\n  }\n\n  /**\n   * Return the resource to the pool when it is no longer required.\n   *\n   * @param {Object} resource\n   *   The acquired object to be put back to the pool.\n   */\n  release(resource) {\n    // check for an outstanding loan\n    const loan = this._resourceLoans.get(resource);\n\n    if (loan === undefined) {\n      return this._Promise.reject(\n        new Error(\"Resource not currently part of this pool\")\n      );\n    }\n\n    this._resourceLoans.delete(resource);\n    loan.resolve();\n    const pooledResource = loan.pooledResource;\n\n    pooledResource.deallocate();\n    this._addPooledResourceToAvailableObjects(pooledResource);\n\n    this._dispense();\n    return this._Promise.resolve();\n  }\n\n  /**\n   * Request the resource to be destroyed. The factory's destroy handler\n   * will also be called.\n   *\n   * This should be called within an acquire() block as an alternative to release().\n   *\n   * @param {Object} resource\n   *   The acquired resource to be destoyed.\n   */\n  destroy(resource) {\n    // check for an outstanding loan\n    const loan = this._resourceLoans.get(resource);\n\n    if (loan === undefined) {\n      return this._Promise.reject(\n        new Error(\"Resource not currently part of this pool\")\n      );\n    }\n\n    this._resourceLoans.delete(resource);\n    loan.resolve();\n    const pooledResource = loan.pooledResource;\n\n    pooledResource.deallocate();\n    this._destroy(pooledResource);\n\n    this._dispense();\n    return this._Promise.resolve();\n  }\n\n  _addPooledResourceToAvailableObjects(pooledResource) {\n    pooledResource.idle();\n    if (this._config.fifo === true) {\n      this._availableObjects.push(pooledResource);\n    } else {\n      this._availableObjects.unshift(pooledResource);\n    }\n  }\n\n  /**\n   * Disallow any new acquire calls and let the request backlog dissapate.\n   * The Pool will no longer attempt to maintain a \"min\" number of resources\n   * and will only make new resources on demand.\n   * Resolves once all resource requests are fulfilled and all resources are returned to pool and available...\n   * Should probably be called \"drain work\"\n   * @returns {Promise}\n   */\n  drain() {\n    this._draining = true;\n    return this.__allResourceRequestsSettled()\n      .then(() => {\n        return this.__allResourcesReturned();\n      })\n      .then(() => {\n        this._descheduleEvictorRun();\n      });\n  }\n\n  __allResourceRequestsSettled() {\n    if (this._waitingClientsQueue.length > 0) {\n      // wait for last waiting client to be settled\n      // FIXME: what if they can \"resolve\" out of order....?\n      return reflector(this._waitingClientsQueue.tail.promise);\n    }\n    return this._Promise.resolve();\n  }\n\n  // FIXME: this is a horrific mess\n  __allResourcesReturned() {\n    const ps = Array.from(this._resourceLoans.values())\n      .map(loan => loan.promise)\n      .map(reflector);\n    return this._Promise.all(ps);\n  }\n\n  /**\n   * Forcibly destroys all available resources regardless of timeout.  Intended to be\n   * invoked as part of a drain.  Does not prevent the creation of new\n   * resources as a result of subsequent calls to acquire.\n   *\n   * Note that if factory.min > 0 and the pool isn't \"draining\", the pool will destroy all idle resources\n   * in the pool, but replace them with newly created resources up to the\n   * specified factory.min value.  If this is not desired, set factory.min\n   * to zero before calling clear()\n   *\n   */\n  clear() {\n    const reflectedCreatePromises = Array.from(\n      this._factoryCreateOperations\n    ).map(reflector);\n\n    // wait for outstanding factory.create to complete\n    return this._Promise.all(reflectedCreatePromises).then(() => {\n      // Destroy existing resources\n      // @ts-ignore\n      for (const resource of this._availableObjects) {\n        this._destroy(resource);\n      }\n      const reflectedDestroyPromises = Array.from(\n        this._factoryDestroyOperations\n      ).map(reflector);\n      return reflector(this._Promise.all(reflectedDestroyPromises));\n    });\n  }\n\n  /**\n   * Waits until the pool is ready.\n   * We define ready by checking if the current resource number is at least\n   * the minimum number defined.\n   * @returns {Promise} that resolves when the minimum number is ready.\n   */\n  ready() {\n    return new this._Promise(resolve => {\n      const isReady = () => {\n        if (this.available >= this.min) {\n          resolve();\n        } else {\n          setTimeout(isReady, 100);\n        }\n      };\n\n      isReady();\n    });\n  }\n\n  /**\n   * How many resources are available to allocated\n   * (includes resources that have not been tested and may faul validation)\n   * NOTE: internal for now as the name is awful and might not be useful to anyone\n   * @return {Number} number of resources the pool has to allocate\n   */\n  get _potentiallyAllocableResourceCount() {\n    return (\n      this._availableObjects.length +\n      this._testOnBorrowResources.size +\n      this._testOnReturnResources.size +\n      this._factoryCreateOperations.size\n    );\n  }\n\n  /**\n   * The combined count of the currently created objects and those in the\n   * process of being created\n   * Does NOT include resources in the process of being destroyed\n   * sort of legacy...\n   * @return {Number}\n   */\n  get _count() {\n    return this._allObjects.size + this._factoryCreateOperations.size;\n  }\n\n  /**\n   * How many more resources does the pool have room for\n   * @return {Number} number of resources the pool could create before hitting any limits\n   */\n  get spareResourceCapacity() {\n    return (\n      this._config.max -\n      (this._allObjects.size + this._factoryCreateOperations.size)\n    );\n  }\n\n  /**\n   * see _count above\n   * @return {Number} [description]\n   */\n  get size() {\n    return this._count;\n  }\n\n  /**\n   * number of available resources\n   * @return {Number} [description]\n   */\n  get available() {\n    return this._availableObjects.length;\n  }\n\n  /**\n   * number of resources that are currently acquired\n   * @return {Number} [description]\n   */\n  get borrowed() {\n    return this._resourceLoans.size;\n  }\n\n  /**\n   * number of waiting acquire calls\n   * @return {Number} [description]\n   */\n  get pending() {\n    return this._waitingClientsQueue.length;\n  }\n\n  /**\n   * maximum size of the pool\n   * @return {Number} [description]\n   */\n  get max() {\n    return this._config.max;\n  }\n\n  /**\n   * minimum size of the pool\n   * @return {Number} [description]\n   */\n  get min() {\n    return this._config.min;\n  }\n}\n\nmodule.exports = Pool;\n","const Pool = require(\"./lib/Pool\");\nconst Deque = require(\"./lib/Deque\");\nconst PriorityQueue = require(\"./lib/PriorityQueue\");\nconst DefaultEvictor = require(\"./lib/DefaultEvictor\");\nmodule.exports = {\n  Pool: Pool,\n  Deque: Deque,\n  PriorityQueue: PriorityQueue,\n  DefaultEvictor: DefaultEvictor,\n  createPool: function(factory, config) {\n    return new Pool(DefaultEvictor, Deque, PriorityQueue, factory, config);\n  }\n};\n","{\"name\":\"@redis/client\",\"version\":\"1.6.0\",\"license\":\"MIT\",\"main\":\"./dist/index.js\",\"types\":\"./dist/index.d.ts\",\"files\":[\"dist/\"],\"scripts\":{\"test\":\"nyc -r text-summary -r lcov mocha -r source-map-support/register -r ts-node/register './lib/**/*.spec.ts'\",\"build\":\"tsc\",\"lint\":\"eslint ./*.ts ./lib/**/*.ts\",\"documentation\":\"typedoc\"},\"dependencies\":{\"cluster-key-slot\":\"1.1.2\",\"generic-pool\":\"3.9.0\",\"yallist\":\"4.0.0\"},\"devDependencies\":{\"@istanbuljs/nyc-config-typescript\":\"^1.0.2\",\"@redis/test-utils\":\"*\",\"@types/node\":\"^20.6.2\",\"@types/sinon\":\"^10.0.16\",\"@types/yallist\":\"^4.0.1\",\"@typescript-eslint/eslint-plugin\":\"^6.7.2\",\"@typescript-eslint/parser\":\"^6.7.2\",\"eslint\":\"^8.49.0\",\"nyc\":\"^15.1.0\",\"release-it\":\"^16.1.5\",\"sinon\":\"^16.0.0\",\"source-map-support\":\"^0.5.21\",\"ts-node\":\"^10.9.1\",\"typedoc\":\"^0.25.1\",\"typescript\":\"^5.2.2\"},\"engines\":{\"node\":\">=14\"},\"repository\":{\"type\":\"git\",\"url\":\"git://github.com/redis/node-redis.git\"},\"bugs\":{\"url\":\"https://github.com/redis/node-redis/issues\"},\"homepage\":\"https://github.com/redis/node-redis/tree/master/packages/client\",\"keywords\":[\"redis\"]}","\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _RedisClient_instances, _a, _RedisClient_options, _RedisClient_socket, _RedisClient_queue, _RedisClient_isolationPool, _RedisClient_v4, _RedisClient_selectedDB, _RedisClient_initiateOptions, _RedisClient_initiateQueue, _RedisClient_initiateSocket, _RedisClient_initiateIsolationPool, _RedisClient_legacyMode, _RedisClient_legacySendCommand, _RedisClient_defineLegacyCommand, _RedisClient_pingTimer, _RedisClient_setPingTimer, _RedisClient_sendCommand, _RedisClient_pubSubCommand, _RedisClient_tick, _RedisClient_addMultiCommands, _RedisClient_destroyIsolationPool;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commands_1 = require(\"./commands\");\nconst socket_1 = require(\"./socket\");\nconst commands_queue_1 = require(\"./commands-queue\");\nconst multi_command_1 = require(\"./multi-command\");\nconst events_1 = require(\"events\");\nconst command_options_1 = require(\"../command-options\");\nconst commander_1 = require(\"../commander\");\nconst generic_pool_1 = require(\"generic-pool\");\nconst errors_1 = require(\"../errors\");\nconst url_1 = require(\"url\");\nconst pub_sub_1 = require(\"./pub-sub\");\nconst package_json_1 = require(\"../../package.json\");\nclass RedisClient extends events_1.EventEmitter {\n    static commandOptions(options) {\n        return (0, command_options_1.commandOptions)(options);\n    }\n    static extend(extensions) {\n        const Client = (0, commander_1.attachExtensions)({\n            BaseClass: _a,\n            modulesExecutor: _a.prototype.commandsExecutor,\n            modules: extensions?.modules,\n            functionsExecutor: _a.prototype.functionsExecuter,\n            functions: extensions?.functions,\n            scriptsExecutor: _a.prototype.scriptsExecuter,\n            scripts: extensions?.scripts\n        });\n        if (Client !== _a) {\n            Client.prototype.Multi = multi_command_1.default.extend(extensions);\n        }\n        return Client;\n    }\n    static create(options) {\n        return new (_a.extend(options))(options);\n    }\n    static parseURL(url) {\n        // https://www.iana.org/assignments/uri-schemes/prov/redis\n        const { hostname, port, protocol, username, password, pathname } = new url_1.URL(url), parsed = {\n            socket: {\n                host: hostname\n            }\n        };\n        if (protocol === 'rediss:') {\n            parsed.socket.tls = true;\n        }\n        else if (protocol !== 'redis:') {\n            throw new TypeError('Invalid protocol');\n        }\n        if (port) {\n            parsed.socket.port = Number(port);\n        }\n        if (username) {\n            parsed.username = decodeURIComponent(username);\n        }\n        if (password) {\n            parsed.password = decodeURIComponent(password);\n        }\n        if (pathname.length > 1) {\n            const database = Number(pathname.substring(1));\n            if (isNaN(database)) {\n                throw new TypeError('Invalid pathname');\n            }\n            parsed.database = database;\n        }\n        return parsed;\n    }\n    get options() {\n        return __classPrivateFieldGet(this, _RedisClient_options, \"f\");\n    }\n    get isOpen() {\n        return __classPrivateFieldGet(this, _RedisClient_socket, \"f\").isOpen;\n    }\n    get isReady() {\n        return __classPrivateFieldGet(this, _RedisClient_socket, \"f\").isReady;\n    }\n    get isPubSubActive() {\n        return __classPrivateFieldGet(this, _RedisClient_queue, \"f\").isPubSubActive;\n    }\n    get v4() {\n        if (!__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.legacyMode) {\n            throw new Error('the client is not in \"legacy mode\"');\n        }\n        return __classPrivateFieldGet(this, _RedisClient_v4, \"f\");\n    }\n    constructor(options) {\n        super();\n        _RedisClient_instances.add(this);\n        Object.defineProperty(this, \"commandOptions\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: _a.commandOptions\n        });\n        _RedisClient_options.set(this, void 0);\n        _RedisClient_socket.set(this, void 0);\n        _RedisClient_queue.set(this, void 0);\n        _RedisClient_isolationPool.set(this, void 0);\n        _RedisClient_v4.set(this, {});\n        _RedisClient_selectedDB.set(this, 0);\n        _RedisClient_pingTimer.set(this, void 0);\n        Object.defineProperty(this, \"select\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SELECT\n        });\n        Object.defineProperty(this, \"subscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SUBSCRIBE\n        });\n        Object.defineProperty(this, \"unsubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.UNSUBSCRIBE\n        });\n        Object.defineProperty(this, \"pSubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.PSUBSCRIBE\n        });\n        Object.defineProperty(this, \"pUnsubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.PUNSUBSCRIBE\n        });\n        Object.defineProperty(this, \"sSubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SSUBSCRIBE\n        });\n        Object.defineProperty(this, \"sUnsubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SUNSUBSCRIBE\n        });\n        Object.defineProperty(this, \"quit\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.QUIT\n        });\n        Object.defineProperty(this, \"multi\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.MULTI\n        });\n        __classPrivateFieldSet(this, _RedisClient_options, __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_initiateOptions).call(this, options), \"f\");\n        __classPrivateFieldSet(this, _RedisClient_queue, __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_initiateQueue).call(this), \"f\");\n        __classPrivateFieldSet(this, _RedisClient_socket, __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_initiateSocket).call(this), \"f\");\n        // should be initiated in connect, not here\n        // TODO: consider breaking in v5\n        __classPrivateFieldSet(this, _RedisClient_isolationPool, __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_initiateIsolationPool).call(this), \"f\");\n        __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_legacyMode).call(this);\n    }\n    duplicate(overrides) {\n        return new (Object.getPrototypeOf(this).constructor)({\n            ...__classPrivateFieldGet(this, _RedisClient_options, \"f\"),\n            ...overrides\n        });\n    }\n    async connect() {\n        // see comment in constructor\n        __classPrivateFieldSet(this, _RedisClient_isolationPool, __classPrivateFieldGet(this, _RedisClient_isolationPool, \"f\") ?? __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_initiateIsolationPool).call(this), \"f\");\n        await __classPrivateFieldGet(this, _RedisClient_socket, \"f\").connect();\n        return this;\n    }\n    async commandsExecutor(command, args) {\n        const { args: redisArgs, options } = (0, commander_1.transformCommandArguments)(command, args);\n        return (0, commander_1.transformCommandReply)(command, await __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, redisArgs, options), redisArgs.preserve);\n    }\n    sendCommand(args, options) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, args, options);\n    }\n    async functionsExecuter(fn, args, name) {\n        const { args: redisArgs, options } = (0, commander_1.transformCommandArguments)(fn, args);\n        return (0, commander_1.transformCommandReply)(fn, await this.executeFunction(name, fn, redisArgs, options), redisArgs.preserve);\n    }\n    executeFunction(name, fn, args, options) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, (0, commander_1.fCallArguments)(name, fn, args), options);\n    }\n    async scriptsExecuter(script, args) {\n        const { args: redisArgs, options } = (0, commander_1.transformCommandArguments)(script, args);\n        return (0, commander_1.transformCommandReply)(script, await this.executeScript(script, redisArgs, options), redisArgs.preserve);\n    }\n    async executeScript(script, args, options) {\n        const redisArgs = ['EVALSHA', script.SHA1];\n        if (script.NUMBER_OF_KEYS !== undefined) {\n            redisArgs.push(script.NUMBER_OF_KEYS.toString());\n        }\n        redisArgs.push(...args);\n        try {\n            return await __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, redisArgs, options);\n        }\n        catch (err) {\n            if (!err?.message?.startsWith?.('NOSCRIPT')) {\n                throw err;\n            }\n            redisArgs[0] = 'EVAL';\n            redisArgs[1] = script.SCRIPT;\n            return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, redisArgs, options);\n        }\n    }\n    async SELECT(options, db) {\n        if (!(0, command_options_1.isCommandOptions)(options)) {\n            db = options;\n            options = null;\n        }\n        await __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, ['SELECT', db.toString()], options);\n        __classPrivateFieldSet(this, _RedisClient_selectedDB, db, \"f\");\n    }\n    SUBSCRIBE(channels, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").subscribe(pub_sub_1.PubSubType.CHANNELS, channels, listener, bufferMode));\n    }\n    UNSUBSCRIBE(channels, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").unsubscribe(pub_sub_1.PubSubType.CHANNELS, channels, listener, bufferMode));\n    }\n    PSUBSCRIBE(patterns, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").subscribe(pub_sub_1.PubSubType.PATTERNS, patterns, listener, bufferMode));\n    }\n    PUNSUBSCRIBE(patterns, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").unsubscribe(pub_sub_1.PubSubType.PATTERNS, patterns, listener, bufferMode));\n    }\n    SSUBSCRIBE(channels, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").subscribe(pub_sub_1.PubSubType.SHARDED, channels, listener, bufferMode));\n    }\n    SUNSUBSCRIBE(channels, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").unsubscribe(pub_sub_1.PubSubType.SHARDED, channels, listener, bufferMode));\n    }\n    getPubSubListeners(type) {\n        return __classPrivateFieldGet(this, _RedisClient_queue, \"f\").getPubSubListeners(type);\n    }\n    extendPubSubChannelListeners(type, channel, listeners) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").extendPubSubChannelListeners(type, channel, listeners));\n    }\n    extendPubSubListeners(type, listeners) {\n        return __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_pubSubCommand).call(this, __classPrivateFieldGet(this, _RedisClient_queue, \"f\").extendPubSubListeners(type, listeners));\n    }\n    QUIT() {\n        return __classPrivateFieldGet(this, _RedisClient_socket, \"f\").quit(async () => {\n            if (__classPrivateFieldGet(this, _RedisClient_pingTimer, \"f\"))\n                clearTimeout(__classPrivateFieldGet(this, _RedisClient_pingTimer, \"f\"));\n            const quitPromise = __classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(['QUIT']);\n            __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_tick).call(this);\n            const [reply] = await Promise.all([\n                quitPromise,\n                __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_destroyIsolationPool).call(this)\n            ]);\n            return reply;\n        });\n    }\n    executeIsolated(fn) {\n        if (!__classPrivateFieldGet(this, _RedisClient_isolationPool, \"f\"))\n            return Promise.reject(new errors_1.ClientClosedError());\n        return __classPrivateFieldGet(this, _RedisClient_isolationPool, \"f\").use(fn);\n    }\n    MULTI() {\n        return new this.Multi(this.multiExecutor.bind(this), __classPrivateFieldGet(this, _RedisClient_options, \"f\")?.legacyMode);\n    }\n    async multiExecutor(commands, selectedDB, chainId) {\n        if (!__classPrivateFieldGet(this, _RedisClient_socket, \"f\").isOpen) {\n            return Promise.reject(new errors_1.ClientClosedError());\n        }\n        const promise = chainId ?\n            // if `chainId` has a value, it's a `MULTI` (and not \"pipeline\") - need to add the `MULTI` and `EXEC` commands\n            Promise.all([\n                __classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(['MULTI'], { chainId }),\n                __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_addMultiCommands).call(this, commands, chainId),\n                __classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(['EXEC'], { chainId })\n            ]) :\n            __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_addMultiCommands).call(this, commands);\n        __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_tick).call(this);\n        const results = await promise;\n        if (selectedDB !== undefined) {\n            __classPrivateFieldSet(this, _RedisClient_selectedDB, selectedDB, \"f\");\n        }\n        return results;\n    }\n    async *scanIterator(options) {\n        let cursor = 0;\n        do {\n            const reply = await this.scan(cursor, options);\n            cursor = reply.cursor;\n            for (const key of reply.keys) {\n                yield key;\n            }\n        } while (cursor !== 0);\n    }\n    async *hScanIterator(key, options) {\n        let cursor = 0;\n        do {\n            const reply = await this.hScan(key, cursor, options);\n            cursor = reply.cursor;\n            for (const tuple of reply.tuples) {\n                yield tuple;\n            }\n        } while (cursor !== 0);\n    }\n    async *hScanNoValuesIterator(key, options) {\n        let cursor = 0;\n        do {\n            const reply = await this.hScanNoValues(key, cursor, options);\n            cursor = reply.cursor;\n            for (const k of reply.keys) {\n                yield k;\n            }\n        } while (cursor !== 0);\n    }\n    async *sScanIterator(key, options) {\n        let cursor = 0;\n        do {\n            const reply = await this.sScan(key, cursor, options);\n            cursor = reply.cursor;\n            for (const member of reply.members) {\n                yield member;\n            }\n        } while (cursor !== 0);\n    }\n    async *zScanIterator(key, options) {\n        let cursor = 0;\n        do {\n            const reply = await this.zScan(key, cursor, options);\n            cursor = reply.cursor;\n            for (const member of reply.members) {\n                yield member;\n            }\n        } while (cursor !== 0);\n    }\n    async disconnect() {\n        if (__classPrivateFieldGet(this, _RedisClient_pingTimer, \"f\"))\n            clearTimeout(__classPrivateFieldGet(this, _RedisClient_pingTimer, \"f\"));\n        __classPrivateFieldGet(this, _RedisClient_queue, \"f\").flushAll(new errors_1.DisconnectsClientError());\n        __classPrivateFieldGet(this, _RedisClient_socket, \"f\").disconnect();\n        await __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_destroyIsolationPool).call(this);\n    }\n    ref() {\n        __classPrivateFieldGet(this, _RedisClient_socket, \"f\").ref();\n    }\n    unref() {\n        __classPrivateFieldGet(this, _RedisClient_socket, \"f\").unref();\n    }\n}\n_a = RedisClient, _RedisClient_options = new WeakMap(), _RedisClient_socket = new WeakMap(), _RedisClient_queue = new WeakMap(), _RedisClient_isolationPool = new WeakMap(), _RedisClient_v4 = new WeakMap(), _RedisClient_selectedDB = new WeakMap(), _RedisClient_pingTimer = new WeakMap(), _RedisClient_instances = new WeakSet(), _RedisClient_initiateOptions = function _RedisClient_initiateOptions(options) {\n    if (options?.url) {\n        const parsed = _a.parseURL(options.url);\n        if (options.socket) {\n            parsed.socket = Object.assign(options.socket, parsed.socket);\n        }\n        Object.assign(options, parsed);\n    }\n    if (options?.database) {\n        __classPrivateFieldSet(this, _RedisClient_selectedDB, options.database, \"f\");\n    }\n    return options;\n}, _RedisClient_initiateQueue = function _RedisClient_initiateQueue() {\n    return new commands_queue_1.default(__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.commandsQueueMaxLength, (channel, listeners) => this.emit('sharded-channel-moved', channel, listeners));\n}, _RedisClient_initiateSocket = function _RedisClient_initiateSocket() {\n    const socketInitiator = async () => {\n        const promises = [];\n        if (__classPrivateFieldGet(this, _RedisClient_selectedDB, \"f\") !== 0) {\n            promises.push(__classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(['SELECT', __classPrivateFieldGet(this, _RedisClient_selectedDB, \"f\").toString()], { asap: true }));\n        }\n        if (__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.readonly) {\n            promises.push(__classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(commands_1.default.READONLY.transformArguments(), { asap: true }));\n        }\n        if (!__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.disableClientInfo) {\n            promises.push(__classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(['CLIENT', 'SETINFO', 'LIB-VER', package_json_1.version], { asap: true }).catch(err => {\n                if (!(err instanceof errors_1.ErrorReply)) {\n                    throw err;\n                }\n            }));\n            promises.push(__classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand([\n                'CLIENT', 'SETINFO', 'LIB-NAME',\n                __classPrivateFieldGet(this, _RedisClient_options, \"f\")?.clientInfoTag ? `node-redis(${__classPrivateFieldGet(this, _RedisClient_options, \"f\").clientInfoTag})` : 'node-redis'\n            ], { asap: true }).catch(err => {\n                if (!(err instanceof errors_1.ErrorReply)) {\n                    throw err;\n                }\n            }));\n        }\n        if (__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.name) {\n            promises.push(__classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(commands_1.default.CLIENT_SETNAME.transformArguments(__classPrivateFieldGet(this, _RedisClient_options, \"f\").name), { asap: true }));\n        }\n        if (__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.username || __classPrivateFieldGet(this, _RedisClient_options, \"f\")?.password) {\n            promises.push(__classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(commands_1.default.AUTH.transformArguments({\n                username: __classPrivateFieldGet(this, _RedisClient_options, \"f\").username,\n                password: __classPrivateFieldGet(this, _RedisClient_options, \"f\").password ?? ''\n            }), { asap: true }));\n        }\n        const resubscribePromise = __classPrivateFieldGet(this, _RedisClient_queue, \"f\").resubscribe();\n        if (resubscribePromise) {\n            promises.push(resubscribePromise);\n        }\n        if (promises.length) {\n            __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_tick).call(this, true);\n            await Promise.all(promises);\n        }\n    };\n    return new socket_1.default(socketInitiator, __classPrivateFieldGet(this, _RedisClient_options, \"f\")?.socket)\n        .on('data', chunk => __classPrivateFieldGet(this, _RedisClient_queue, \"f\").onReplyChunk(chunk))\n        .on('error', err => {\n        this.emit('error', err);\n        if (__classPrivateFieldGet(this, _RedisClient_socket, \"f\").isOpen && !__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.disableOfflineQueue) {\n            __classPrivateFieldGet(this, _RedisClient_queue, \"f\").flushWaitingForReply(err);\n        }\n        else {\n            __classPrivateFieldGet(this, _RedisClient_queue, \"f\").flushAll(err);\n        }\n    })\n        .on('connect', () => {\n        this.emit('connect');\n    })\n        .on('ready', () => {\n        this.emit('ready');\n        __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_setPingTimer).call(this);\n        __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_tick).call(this);\n    })\n        .on('reconnecting', () => this.emit('reconnecting'))\n        .on('drain', () => __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_tick).call(this))\n        .on('end', () => this.emit('end'));\n}, _RedisClient_initiateIsolationPool = function _RedisClient_initiateIsolationPool() {\n    return (0, generic_pool_1.createPool)({\n        create: async () => {\n            const duplicate = this.duplicate({\n                isolationPoolOptions: undefined\n            }).on('error', err => this.emit('error', err));\n            await duplicate.connect();\n            return duplicate;\n        },\n        destroy: client => client.disconnect()\n    }, __classPrivateFieldGet(this, _RedisClient_options, \"f\")?.isolationPoolOptions);\n}, _RedisClient_legacyMode = function _RedisClient_legacyMode() {\n    var _b, _c;\n    if (!__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.legacyMode)\n        return;\n    __classPrivateFieldGet(this, _RedisClient_v4, \"f\").sendCommand = __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).bind(this);\n    this.sendCommand = (...args) => {\n        const result = __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_legacySendCommand).call(this, ...args);\n        if (result) {\n            result.promise\n                .then(reply => result.callback(null, reply))\n                .catch(err => result.callback(err));\n        }\n    };\n    for (const [name, command] of Object.entries(commands_1.default)) {\n        __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, name, command);\n        (_b = this)[_c = name.toLowerCase()] ?? (_b[_c] = this[name]);\n    }\n    // hard coded commands\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'SELECT');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'select');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'SUBSCRIBE');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'subscribe');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'PSUBSCRIBE');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'pSubscribe');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'UNSUBSCRIBE');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'unsubscribe');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'PUNSUBSCRIBE');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'pUnsubscribe');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'QUIT');\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_defineLegacyCommand).call(this, 'quit');\n}, _RedisClient_legacySendCommand = function _RedisClient_legacySendCommand(...args) {\n    const callback = typeof args[args.length - 1] === 'function' ?\n        args.pop() :\n        undefined;\n    const promise = __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, (0, commander_1.transformLegacyCommandArguments)(args));\n    if (callback)\n        return {\n            promise,\n            callback\n        };\n    promise.catch(err => this.emit('error', err));\n}, _RedisClient_defineLegacyCommand = function _RedisClient_defineLegacyCommand(name, command) {\n    __classPrivateFieldGet(this, _RedisClient_v4, \"f\")[name] = this[name].bind(this);\n    this[name] = command && command.TRANSFORM_LEGACY_REPLY && command.transformReply ?\n        (...args) => {\n            const result = __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_legacySendCommand).call(this, name, ...args);\n            if (result) {\n                result.promise\n                    .then(reply => result.callback(null, command.transformReply(reply)))\n                    .catch(err => result.callback(err));\n            }\n        } :\n        (...args) => this.sendCommand(name, ...args);\n}, _RedisClient_setPingTimer = function _RedisClient_setPingTimer() {\n    if (!__classPrivateFieldGet(this, _RedisClient_options, \"f\")?.pingInterval || !__classPrivateFieldGet(this, _RedisClient_socket, \"f\").isReady)\n        return;\n    clearTimeout(__classPrivateFieldGet(this, _RedisClient_pingTimer, \"f\"));\n    __classPrivateFieldSet(this, _RedisClient_pingTimer, setTimeout(() => {\n        if (!__classPrivateFieldGet(this, _RedisClient_socket, \"f\").isReady)\n            return;\n        // using #sendCommand to support legacy mode\n        __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_sendCommand).call(this, ['PING'])\n            .then(reply => this.emit('ping-interval', reply))\n            .catch(err => this.emit('error', err))\n            .finally(() => __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_setPingTimer).call(this));\n    }, __classPrivateFieldGet(this, _RedisClient_options, \"f\").pingInterval), \"f\");\n}, _RedisClient_sendCommand = function _RedisClient_sendCommand(args, options) {\n    if (!__classPrivateFieldGet(this, _RedisClient_socket, \"f\").isOpen) {\n        return Promise.reject(new errors_1.ClientClosedError());\n    }\n    else if (options?.isolated) {\n        return this.executeIsolated(isolatedClient => isolatedClient.sendCommand(args, {\n            ...options,\n            isolated: false\n        }));\n    }\n    else if (!__classPrivateFieldGet(this, _RedisClient_socket, \"f\").isReady && __classPrivateFieldGet(this, _RedisClient_options, \"f\")?.disableOfflineQueue) {\n        return Promise.reject(new errors_1.ClientOfflineError());\n    }\n    const promise = __classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(args, options);\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_tick).call(this);\n    return promise;\n}, _RedisClient_pubSubCommand = function _RedisClient_pubSubCommand(promise) {\n    if (promise === undefined)\n        return Promise.resolve();\n    __classPrivateFieldGet(this, _RedisClient_instances, \"m\", _RedisClient_tick).call(this);\n    return promise;\n}, _RedisClient_tick = function _RedisClient_tick(force = false) {\n    if (__classPrivateFieldGet(this, _RedisClient_socket, \"f\").writableNeedDrain || (!force && !__classPrivateFieldGet(this, _RedisClient_socket, \"f\").isReady)) {\n        return;\n    }\n    __classPrivateFieldGet(this, _RedisClient_socket, \"f\").cork();\n    while (!__classPrivateFieldGet(this, _RedisClient_socket, \"f\").writableNeedDrain) {\n        const args = __classPrivateFieldGet(this, _RedisClient_queue, \"f\").getCommandToSend();\n        if (args === undefined)\n            break;\n        __classPrivateFieldGet(this, _RedisClient_socket, \"f\").writeCommand(args);\n    }\n}, _RedisClient_addMultiCommands = function _RedisClient_addMultiCommands(commands, chainId) {\n    return Promise.all(commands.map(({ args }) => __classPrivateFieldGet(this, _RedisClient_queue, \"f\").addCommand(args, { chainId })));\n}, _RedisClient_destroyIsolationPool = async function _RedisClient_destroyIsolationPool() {\n    await __classPrivateFieldGet(this, _RedisClient_isolationPool, \"f\").drain();\n    await __classPrivateFieldGet(this, _RedisClient_isolationPool, \"f\").clear();\n    __classPrivateFieldSet(this, _RedisClient_isolationPool, undefined, \"f\");\n};\nexports.default = RedisClient;\n(0, commander_1.attachCommands)({\n    BaseClass: RedisClient,\n    commands: commands_1.default,\n    executor: RedisClient.prototype.commandsExecutor\n});\nRedisClient.prototype.Multi = multi_command_1.default;\n","/*\n * Copyright 2001-2010 Georges Menie (www.menie.org)\n * Copyright 2010 Salvatore Sanfilippo (adapted to Redis coding style)\n * Copyright 2015 Zihua Li (http://zihua.li) (ported to JavaScript)\n * Copyright 2016 Mike Diarmid (http://github.com/salakar) (re-write for performance, ~700% perf inc)\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of the University of California, Berkeley nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE REGENTS AND CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* CRC16 implementation according to CCITT standards.\n *\n * Note by @antirez: this is actually the XMODEM CRC 16 algorithm, using the\n * following parameters:\n *\n * Name                       : \"XMODEM\", also known as \"ZMODEM\", \"CRC-16/ACORN\"\n * Width                      : 16 bit\n * Poly                       : 1021 (That is actually x^16 + x^12 + x^5 + 1)\n * Initialization             : 0000\n * Reflect Input byte         : False\n * Reflect Output CRC         : False\n * Xor constant to output CRC : 0000\n * Output for \"123456789\"     : 31C3\n */\n\nvar lookup = [\n  0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5, 0x60c6, 0x70e7,\n  0x8108, 0x9129, 0xa14a, 0xb16b, 0xc18c, 0xd1ad, 0xe1ce, 0xf1ef,\n  0x1231, 0x0210, 0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\n  0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c, 0xf3ff, 0xe3de,\n  0x2462, 0x3443, 0x0420, 0x1401, 0x64e6, 0x74c7, 0x44a4, 0x5485,\n  0xa56a, 0xb54b, 0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\n  0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6, 0x5695, 0x46b4,\n  0xb75b, 0xa77a, 0x9719, 0x8738, 0xf7df, 0xe7fe, 0xd79d, 0xc7bc,\n  0x48c4, 0x58e5, 0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\n  0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969, 0xa90a, 0xb92b,\n  0x5af5, 0x4ad4, 0x7ab7, 0x6a96, 0x1a71, 0x0a50, 0x3a33, 0x2a12,\n  0xdbfd, 0xcbdc, 0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\n  0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03, 0x0c60, 0x1c41,\n  0xedae, 0xfd8f, 0xcdec, 0xddcd, 0xad2a, 0xbd0b, 0x8d68, 0x9d49,\n  0x7e97, 0x6eb6, 0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\n  0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a, 0x9f59, 0x8f78,\n  0x9188, 0x81a9, 0xb1ca, 0xa1eb, 0xd10c, 0xc12d, 0xf14e, 0xe16f,\n  0x1080, 0x00a1, 0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\n  0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c, 0xe37f, 0xf35e,\n  0x02b1, 0x1290, 0x22f3, 0x32d2, 0x4235, 0x5214, 0x6277, 0x7256,\n  0xb5ea, 0xa5cb, 0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\n  0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447, 0x5424, 0x4405,\n  0xa7db, 0xb7fa, 0x8799, 0x97b8, 0xe75f, 0xf77e, 0xc71d, 0xd73c,\n  0x26d3, 0x36f2, 0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\n  0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9, 0xb98a, 0xa9ab,\n  0x5844, 0x4865, 0x7806, 0x6827, 0x18c0, 0x08e1, 0x3882, 0x28a3,\n  0xcb7d, 0xdb5c, 0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\n  0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0, 0x2ab3, 0x3a92,\n  0xfd2e, 0xed0f, 0xdd6c, 0xcd4d, 0xbdaa, 0xad8b, 0x9de8, 0x8dc9,\n  0x7c26, 0x6c07, 0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\n  0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba, 0x8fd9, 0x9ff8,\n  0x6e17, 0x7e36, 0x4e55, 0x5e74, 0x2e93, 0x3eb2, 0x0ed1, 0x1ef0\n];\n\n/**\n * Convert a string to a UTF8 array - faster than via buffer\n * @param str\n * @returns {Array}\n */\nvar toUTF8Array = function toUTF8Array(str) {\n  var char;\n  var i = 0;\n  var p = 0;\n  var utf8 = [];\n  var len = str.length;\n\n  for (; i < len; i++) {\n    char = str.charCodeAt(i);\n    if (char < 128) {\n      utf8[p++] = char;\n    } else if (char < 2048) {\n      utf8[p++] = (char >> 6) | 192;\n      utf8[p++] = (char & 63) | 128;\n    } else if (\n        ((char & 0xFC00) === 0xD800) && (i + 1) < str.length &&\n        ((str.charCodeAt(i + 1) & 0xFC00) === 0xDC00)) {\n      char = 0x10000 + ((char & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);\n      utf8[p++] = (char >> 18) | 240;\n      utf8[p++] = ((char >> 12) & 63) | 128;\n      utf8[p++] = ((char >> 6) & 63) | 128;\n      utf8[p++] = (char & 63) | 128;\n    } else {\n      utf8[p++] = (char >> 12) | 224;\n      utf8[p++] = ((char >> 6) & 63) | 128;\n      utf8[p++] = (char & 63) | 128;\n    }\n  }\n\n  return utf8;\n};\n\n/**\n * Convert a string into a redis slot hash.\n * @param str\n * @returns {number}\n */\nvar generate = module.exports = function generate(str) {\n  var char;\n  var i = 0;\n  var start = -1;\n  var result = 0;\n  var resultHash = 0;\n  var utf8 = typeof str === 'string' ? toUTF8Array(str) : str;\n  var len = utf8.length;\n\n  while (i < len) {\n    char = utf8[i++];\n    if (start === -1) {\n      if (char === 0x7B) {\n        start = i;\n      }\n    } else if (char !== 0x7D) {\n      resultHash = lookup[(char ^ (resultHash >> 8)) & 0xFF] ^ (resultHash << 8);\n    } else if (i - 1 !== start) {\n      return resultHash & 0x3FFF;\n    }\n\n    result = lookup[(char ^ (result >> 8)) & 0xFF] ^ (result << 8);\n  }\n\n  return result & 0x3FFF;\n};\n\n/**\n * Convert an array of multiple strings into a redis slot hash.\n * Returns -1 if one of the keys is not for the same slot as the others\n * @param keys\n * @returns {number}\n */\nmodule.exports.generateMulti = function generateMulti(keys) {\n  var i = 1;\n  var len = keys.length;\n  var base = generate(keys[0]);\n\n  while (i < len) {\n    if (generate(keys[i++]) !== base) return -1;\n  }\n\n  return base;\n};\n","\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _RedisClusterSlots_instances, _a, _RedisClusterSlots_SLOTS, _RedisClusterSlots_options, _RedisClusterSlots_Client, _RedisClusterSlots_emit, _RedisClusterSlots_isOpen, _RedisClusterSlots_discoverWithRootNodes, _RedisClusterSlots_resetSlots, _RedisClusterSlots_discover, _RedisClusterSlots_getShards, _RedisClusterSlots_getNodeAddress, _RedisClusterSlots_clientOptionsDefaults, _RedisClusterSlots_initiateSlotNode, _RedisClusterSlots_createClient, _RedisClusterSlots_createNodeClient, _RedisClusterSlots_runningRediscoverPromise, _RedisClusterSlots_rediscover, _RedisClusterSlots_destroy, _RedisClusterSlots_execOnNodeClient, _RedisClusterSlots_iterateAllNodes, _RedisClusterSlots_randomNodeIterator, _RedisClusterSlots_slotNodesIterator, _RedisClusterSlots_initiatePubSubClient, _RedisClusterSlots_initiateShardedPubSubClient;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst client_1 = require(\"../client\");\nconst errors_1 = require(\"../errors\");\nconst util_1 = require(\"util\");\nconst pub_sub_1 = require(\"../client/pub-sub\");\n// We need to use 'require', because it's not possible with Typescript to import\n// function that are exported as 'module.exports = function`, without esModuleInterop\n// set to true.\nconst calculateSlot = require('cluster-key-slot');\nclass RedisClusterSlots {\n    get isOpen() {\n        return __classPrivateFieldGet(this, _RedisClusterSlots_isOpen, \"f\");\n    }\n    constructor(options, emit) {\n        _RedisClusterSlots_instances.add(this);\n        _RedisClusterSlots_options.set(this, void 0);\n        _RedisClusterSlots_Client.set(this, void 0);\n        _RedisClusterSlots_emit.set(this, void 0);\n        Object.defineProperty(this, \"slots\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Array(__classPrivateFieldGet(_a, _a, \"f\", _RedisClusterSlots_SLOTS))\n        });\n        Object.defineProperty(this, \"shards\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Array()\n        });\n        Object.defineProperty(this, \"masters\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Array()\n        });\n        Object.defineProperty(this, \"replicas\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Array()\n        });\n        Object.defineProperty(this, \"nodeByAddress\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Map()\n        });\n        Object.defineProperty(this, \"pubSubNode\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        _RedisClusterSlots_isOpen.set(this, false);\n        _RedisClusterSlots_runningRediscoverPromise.set(this, void 0);\n        _RedisClusterSlots_randomNodeIterator.set(this, void 0);\n        __classPrivateFieldSet(this, _RedisClusterSlots_options, options, \"f\");\n        __classPrivateFieldSet(this, _RedisClusterSlots_Client, client_1.default.extend(options), \"f\");\n        __classPrivateFieldSet(this, _RedisClusterSlots_emit, emit, \"f\");\n    }\n    async connect() {\n        if (__classPrivateFieldGet(this, _RedisClusterSlots_isOpen, \"f\")) {\n            throw new Error('Cluster already open');\n        }\n        __classPrivateFieldSet(this, _RedisClusterSlots_isOpen, true, \"f\");\n        try {\n            await __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_discoverWithRootNodes).call(this);\n        }\n        catch (err) {\n            __classPrivateFieldSet(this, _RedisClusterSlots_isOpen, false, \"f\");\n            throw err;\n        }\n    }\n    nodeClient(node) {\n        return node.client ?? __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_createNodeClient).call(this, node);\n    }\n    async rediscover(startWith) {\n        __classPrivateFieldSet(this, _RedisClusterSlots_runningRediscoverPromise, __classPrivateFieldGet(this, _RedisClusterSlots_runningRediscoverPromise, \"f\") ?? __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_rediscover).call(this, startWith)\n            .finally(() => __classPrivateFieldSet(this, _RedisClusterSlots_runningRediscoverPromise, undefined, \"f\")), \"f\");\n        return __classPrivateFieldGet(this, _RedisClusterSlots_runningRediscoverPromise, \"f\");\n    }\n    quit() {\n        return __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_destroy).call(this, client => client.quit());\n    }\n    disconnect() {\n        return __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_destroy).call(this, client => client.disconnect());\n    }\n    getClient(firstKey, isReadonly) {\n        if (!firstKey) {\n            return this.nodeClient(this.getRandomNode());\n        }\n        const slotNumber = calculateSlot(firstKey);\n        if (!isReadonly) {\n            return this.nodeClient(this.slots[slotNumber].master);\n        }\n        return this.nodeClient(this.getSlotRandomNode(slotNumber));\n    }\n    getRandomNode() {\n        __classPrivateFieldSet(this, _RedisClusterSlots_randomNodeIterator, __classPrivateFieldGet(this, _RedisClusterSlots_randomNodeIterator, \"f\") ?? __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_iterateAllNodes).call(this), \"f\");\n        return __classPrivateFieldGet(this, _RedisClusterSlots_randomNodeIterator, \"f\").next().value;\n    }\n    getSlotRandomNode(slotNumber) {\n        const slot = this.slots[slotNumber];\n        if (!slot.replicas?.length) {\n            return slot.master;\n        }\n        slot.nodesIterator ?? (slot.nodesIterator = __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_slotNodesIterator).call(this, slot));\n        return slot.nodesIterator.next().value;\n    }\n    getMasterByAddress(address) {\n        const master = this.nodeByAddress.get(address);\n        if (!master)\n            return;\n        return this.nodeClient(master);\n    }\n    getPubSubClient() {\n        return this.pubSubNode ?\n            this.pubSubNode.client :\n            __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_initiatePubSubClient).call(this);\n    }\n    async executeUnsubscribeCommand(unsubscribe) {\n        const client = await this.getPubSubClient();\n        await unsubscribe(client);\n        if (!client.isPubSubActive && client.isOpen) {\n            await client.disconnect();\n            this.pubSubNode = undefined;\n        }\n    }\n    getShardedPubSubClient(channel) {\n        const { master } = this.slots[calculateSlot(channel)];\n        return master.pubSubClient ?? __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_initiateShardedPubSubClient).call(this, master);\n    }\n    async executeShardedUnsubscribeCommand(channel, unsubscribe) {\n        const { master } = this.slots[calculateSlot(channel)];\n        if (!master.pubSubClient)\n            return Promise.resolve();\n        const client = await master.pubSubClient;\n        await unsubscribe(client);\n        if (!client.isPubSubActive && client.isOpen) {\n            await client.disconnect();\n            master.pubSubClient = undefined;\n        }\n    }\n}\n_a = RedisClusterSlots, _RedisClusterSlots_options = new WeakMap(), _RedisClusterSlots_Client = new WeakMap(), _RedisClusterSlots_emit = new WeakMap(), _RedisClusterSlots_isOpen = new WeakMap(), _RedisClusterSlots_runningRediscoverPromise = new WeakMap(), _RedisClusterSlots_randomNodeIterator = new WeakMap(), _RedisClusterSlots_instances = new WeakSet(), _RedisClusterSlots_discoverWithRootNodes = async function _RedisClusterSlots_discoverWithRootNodes() {\n    let start = Math.floor(Math.random() * __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").rootNodes.length);\n    for (let i = start; i < __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").rootNodes.length; i++) {\n        if (await __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_discover).call(this, __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").rootNodes[i]))\n            return;\n    }\n    for (let i = 0; i < start; i++) {\n        if (await __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_discover).call(this, __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").rootNodes[i]))\n            return;\n    }\n    throw new errors_1.RootNodesUnavailableError();\n}, _RedisClusterSlots_resetSlots = function _RedisClusterSlots_resetSlots() {\n    this.slots = new Array(__classPrivateFieldGet(_a, _a, \"f\", _RedisClusterSlots_SLOTS));\n    this.shards = [];\n    this.masters = [];\n    this.replicas = [];\n    __classPrivateFieldSet(this, _RedisClusterSlots_randomNodeIterator, undefined, \"f\");\n}, _RedisClusterSlots_discover = async function _RedisClusterSlots_discover(rootNode) {\n    const addressesInUse = new Set();\n    try {\n        const shards = await __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_getShards).call(this, rootNode), promises = [], eagerConnect = __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").minimizeConnections !== true;\n        __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_resetSlots).call(this);\n        for (const { from, to, master, replicas } of shards) {\n            const shard = {\n                master: __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_initiateSlotNode).call(this, master, false, eagerConnect, addressesInUse, promises)\n            };\n            if (__classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").useReplicas) {\n                shard.replicas = replicas.map(replica => __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_initiateSlotNode).call(this, replica, true, eagerConnect, addressesInUse, promises));\n            }\n            this.shards.push(shard);\n            for (let i = from; i <= to; i++) {\n                this.slots[i] = shard;\n            }\n        }\n        if (this.pubSubNode && !addressesInUse.has(this.pubSubNode.address)) {\n            if (util_1.types.isPromise(this.pubSubNode.client)) {\n                promises.push(this.pubSubNode.client.then(client => client.disconnect()));\n                this.pubSubNode = undefined;\n            }\n            else {\n                promises.push(this.pubSubNode.client.disconnect());\n                const channelsListeners = this.pubSubNode.client.getPubSubListeners(pub_sub_1.PubSubType.CHANNELS), patternsListeners = this.pubSubNode.client.getPubSubListeners(pub_sub_1.PubSubType.PATTERNS);\n                if (channelsListeners.size || patternsListeners.size) {\n                    promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_initiatePubSubClient).call(this, {\n                        [pub_sub_1.PubSubType.CHANNELS]: channelsListeners,\n                        [pub_sub_1.PubSubType.PATTERNS]: patternsListeners\n                    }));\n                }\n            }\n        }\n        for (const [address, node] of this.nodeByAddress.entries()) {\n            if (addressesInUse.has(address))\n                continue;\n            if (node.client) {\n                promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_execOnNodeClient).call(this, node.client, client => client.disconnect()));\n            }\n            const { pubSubClient } = node;\n            if (pubSubClient) {\n                promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_execOnNodeClient).call(this, pubSubClient, client => client.disconnect()));\n            }\n            this.nodeByAddress.delete(address);\n        }\n        await Promise.all(promises);\n        return true;\n    }\n    catch (err) {\n        __classPrivateFieldGet(this, _RedisClusterSlots_emit, \"f\").call(this, 'error', err);\n        return false;\n    }\n}, _RedisClusterSlots_getShards = async function _RedisClusterSlots_getShards(rootNode) {\n    const client = new (__classPrivateFieldGet(this, _RedisClusterSlots_Client, \"f\"))(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_clientOptionsDefaults).call(this, rootNode, true));\n    client.on('error', err => __classPrivateFieldGet(this, _RedisClusterSlots_emit, \"f\").call(this, 'error', err));\n    await client.connect();\n    try {\n        // using `CLUSTER SLOTS` and not `CLUSTER SHARDS` to support older versions\n        return await client.clusterSlots();\n    }\n    finally {\n        await client.disconnect();\n    }\n}, _RedisClusterSlots_getNodeAddress = function _RedisClusterSlots_getNodeAddress(address) {\n    switch (typeof __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").nodeAddressMap) {\n        case 'object':\n            return __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").nodeAddressMap[address];\n        case 'function':\n            return __classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").nodeAddressMap(address);\n    }\n}, _RedisClusterSlots_clientOptionsDefaults = function _RedisClusterSlots_clientOptionsDefaults(options, disableReconnect) {\n    let result;\n    if (__classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").defaults) {\n        let socket;\n        if (__classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").defaults.socket) {\n            socket = {\n                ...__classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").defaults.socket,\n                ...options?.socket\n            };\n        }\n        else {\n            socket = options?.socket;\n        }\n        result = {\n            ...__classPrivateFieldGet(this, _RedisClusterSlots_options, \"f\").defaults,\n            ...options,\n            socket\n        };\n    }\n    else {\n        result = options;\n    }\n    if (disableReconnect) {\n        result ?? (result = {});\n        result.socket ?? (result.socket = {});\n        result.socket.reconnectStrategy = false;\n    }\n    return result;\n}, _RedisClusterSlots_initiateSlotNode = function _RedisClusterSlots_initiateSlotNode({ id, ip, port }, readonly, eagerConnent, addressesInUse, promises) {\n    const address = `${ip}:${port}`;\n    addressesInUse.add(address);\n    let node = this.nodeByAddress.get(address);\n    if (!node) {\n        node = {\n            id,\n            host: ip,\n            port,\n            address,\n            readonly,\n            client: undefined\n        };\n        if (eagerConnent) {\n            promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_createNodeClient).call(this, node));\n        }\n        this.nodeByAddress.set(address, node);\n    }\n    (readonly ? this.replicas : this.masters).push(node);\n    return node;\n}, _RedisClusterSlots_createClient = async function _RedisClusterSlots_createClient(node, readonly = node.readonly) {\n    const client = new (__classPrivateFieldGet(this, _RedisClusterSlots_Client, \"f\"))(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_clientOptionsDefaults).call(this, {\n        socket: __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_getNodeAddress).call(this, node.address) ?? {\n            host: node.host,\n            port: node.port\n        },\n        readonly\n    }));\n    client.on('error', err => __classPrivateFieldGet(this, _RedisClusterSlots_emit, \"f\").call(this, 'error', err));\n    await client.connect();\n    return client;\n}, _RedisClusterSlots_createNodeClient = function _RedisClusterSlots_createNodeClient(node) {\n    const promise = __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_createClient).call(this, node)\n        .then(client => {\n        node.client = client;\n        return client;\n    })\n        .catch(err => {\n        node.client = undefined;\n        throw err;\n    });\n    node.client = promise;\n    return promise;\n}, _RedisClusterSlots_rediscover = async function _RedisClusterSlots_rediscover(startWith) {\n    if (await __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_discover).call(this, startWith.options))\n        return;\n    return __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_discoverWithRootNodes).call(this);\n}, _RedisClusterSlots_destroy = async function _RedisClusterSlots_destroy(fn) {\n    __classPrivateFieldSet(this, _RedisClusterSlots_isOpen, false, \"f\");\n    const promises = [];\n    for (const { master, replicas } of this.shards) {\n        if (master.client) {\n            promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_execOnNodeClient).call(this, master.client, fn));\n        }\n        if (master.pubSubClient) {\n            promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_execOnNodeClient).call(this, master.pubSubClient, fn));\n        }\n        if (replicas) {\n            for (const { client } of replicas) {\n                if (client) {\n                    promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_execOnNodeClient).call(this, client, fn));\n                }\n            }\n        }\n    }\n    if (this.pubSubNode) {\n        promises.push(__classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_execOnNodeClient).call(this, this.pubSubNode.client, fn));\n        this.pubSubNode = undefined;\n    }\n    __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_resetSlots).call(this);\n    this.nodeByAddress.clear();\n    await Promise.allSettled(promises);\n}, _RedisClusterSlots_execOnNodeClient = function _RedisClusterSlots_execOnNodeClient(client, fn) {\n    return util_1.types.isPromise(client) ?\n        client.then(fn) :\n        fn(client);\n}, _RedisClusterSlots_iterateAllNodes = function* _RedisClusterSlots_iterateAllNodes() {\n    let i = Math.floor(Math.random() * (this.masters.length + this.replicas.length));\n    if (i < this.masters.length) {\n        do {\n            yield this.masters[i];\n        } while (++i < this.masters.length);\n        for (const replica of this.replicas) {\n            yield replica;\n        }\n    }\n    else {\n        i -= this.masters.length;\n        do {\n            yield this.replicas[i];\n        } while (++i < this.replicas.length);\n    }\n    while (true) {\n        for (const master of this.masters) {\n            yield master;\n        }\n        for (const replica of this.replicas) {\n            yield replica;\n        }\n    }\n}, _RedisClusterSlots_slotNodesIterator = function* _RedisClusterSlots_slotNodesIterator(slot) {\n    let i = Math.floor(Math.random() * (1 + slot.replicas.length));\n    if (i < slot.replicas.length) {\n        do {\n            yield slot.replicas[i];\n        } while (++i < slot.replicas.length);\n    }\n    while (true) {\n        yield slot.master;\n        for (const replica of slot.replicas) {\n            yield replica;\n        }\n    }\n}, _RedisClusterSlots_initiatePubSubClient = async function _RedisClusterSlots_initiatePubSubClient(toResubscribe) {\n    const index = Math.floor(Math.random() * (this.masters.length + this.replicas.length)), node = index < this.masters.length ?\n        this.masters[index] :\n        this.replicas[index - this.masters.length];\n    this.pubSubNode = {\n        address: node.address,\n        client: __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_createClient).call(this, node, false)\n            .then(async (client) => {\n            if (toResubscribe) {\n                await Promise.all([\n                    client.extendPubSubListeners(pub_sub_1.PubSubType.CHANNELS, toResubscribe[pub_sub_1.PubSubType.CHANNELS]),\n                    client.extendPubSubListeners(pub_sub_1.PubSubType.PATTERNS, toResubscribe[pub_sub_1.PubSubType.PATTERNS])\n                ]);\n            }\n            this.pubSubNode.client = client;\n            return client;\n        })\n            .catch(err => {\n            this.pubSubNode = undefined;\n            throw err;\n        })\n    };\n    return this.pubSubNode.client;\n}, _RedisClusterSlots_initiateShardedPubSubClient = function _RedisClusterSlots_initiateShardedPubSubClient(master) {\n    const promise = __classPrivateFieldGet(this, _RedisClusterSlots_instances, \"m\", _RedisClusterSlots_createClient).call(this, master, false)\n        .then(client => {\n        client.on('server-sunsubscribe', async (channel, listeners) => {\n            try {\n                await this.rediscover(client);\n                const redirectTo = await this.getShardedPubSubClient(channel);\n                redirectTo.extendPubSubChannelListeners(pub_sub_1.PubSubType.SHARDED, channel, listeners);\n            }\n            catch (err) {\n                __classPrivateFieldGet(this, _RedisClusterSlots_emit, \"f\").call(this, 'sharded-shannel-moved-error', err, channel, listeners);\n            }\n        });\n        master.pubSubClient = client;\n        return client;\n    })\n        .catch(err => {\n        master.pubSubClient = undefined;\n        throw err;\n    });\n    master.pubSubClient = promise;\n    return promise;\n};\n_RedisClusterSlots_SLOTS = { value: 16384 };\nexports.default = RedisClusterSlots;\n","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _RedisClusterMultiCommand_multi, _RedisClusterMultiCommand_executor, _RedisClusterMultiCommand_firstKey;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commands_1 = require(\"./commands\");\nconst multi_command_1 = require(\"../multi-command\");\nconst commander_1 = require(\"../commander\");\nconst _1 = require(\".\");\nclass RedisClusterMultiCommand {\n    static extend(extensions) {\n        return (0, commander_1.attachExtensions)({\n            BaseClass: RedisClusterMultiCommand,\n            modulesExecutor: RedisClusterMultiCommand.prototype.commandsExecutor,\n            modules: extensions?.modules,\n            functionsExecutor: RedisClusterMultiCommand.prototype.functionsExecutor,\n            functions: extensions?.functions,\n            scriptsExecutor: RedisClusterMultiCommand.prototype.scriptsExecutor,\n            scripts: extensions?.scripts\n        });\n    }\n    constructor(executor, firstKey) {\n        _RedisClusterMultiCommand_multi.set(this, new multi_command_1.default());\n        _RedisClusterMultiCommand_executor.set(this, void 0);\n        _RedisClusterMultiCommand_firstKey.set(this, void 0);\n        Object.defineProperty(this, \"EXEC\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.exec\n        });\n        __classPrivateFieldSet(this, _RedisClusterMultiCommand_executor, executor, \"f\");\n        __classPrivateFieldSet(this, _RedisClusterMultiCommand_firstKey, firstKey, \"f\");\n    }\n    commandsExecutor(command, args) {\n        const transformedArguments = command.transformArguments(...args);\n        __classPrivateFieldSet(this, _RedisClusterMultiCommand_firstKey, __classPrivateFieldGet(this, _RedisClusterMultiCommand_firstKey, \"f\") ?? _1.default.extractFirstKey(command, args, transformedArguments), \"f\");\n        return this.addCommand(undefined, transformedArguments, command.transformReply);\n    }\n    addCommand(firstKey, args, transformReply) {\n        __classPrivateFieldSet(this, _RedisClusterMultiCommand_firstKey, __classPrivateFieldGet(this, _RedisClusterMultiCommand_firstKey, \"f\") ?? firstKey, \"f\");\n        __classPrivateFieldGet(this, _RedisClusterMultiCommand_multi, \"f\").addCommand(args, transformReply);\n        return this;\n    }\n    functionsExecutor(fn, args, name) {\n        const transformedArguments = __classPrivateFieldGet(this, _RedisClusterMultiCommand_multi, \"f\").addFunction(name, fn, args);\n        __classPrivateFieldSet(this, _RedisClusterMultiCommand_firstKey, __classPrivateFieldGet(this, _RedisClusterMultiCommand_firstKey, \"f\") ?? _1.default.extractFirstKey(fn, args, transformedArguments), \"f\");\n        return this;\n    }\n    scriptsExecutor(script, args) {\n        const transformedArguments = __classPrivateFieldGet(this, _RedisClusterMultiCommand_multi, \"f\").addScript(script, args);\n        __classPrivateFieldSet(this, _RedisClusterMultiCommand_firstKey, __classPrivateFieldGet(this, _RedisClusterMultiCommand_firstKey, \"f\") ?? _1.default.extractFirstKey(script, args, transformedArguments), \"f\");\n        return this;\n    }\n    async exec(execAsPipeline = false) {\n        if (execAsPipeline) {\n            return this.execAsPipeline();\n        }\n        return __classPrivateFieldGet(this, _RedisClusterMultiCommand_multi, \"f\").handleExecReplies(await __classPrivateFieldGet(this, _RedisClusterMultiCommand_executor, \"f\").call(this, __classPrivateFieldGet(this, _RedisClusterMultiCommand_multi, \"f\").queue, __classPrivateFieldGet(this, _RedisClusterMultiCommand_firstKey, \"f\"), multi_command_1.default.generateChainId()));\n    }\n    async execAsPipeline() {\n        return __classPrivateFieldGet(this, _RedisClusterMultiCommand_multi, \"f\").transformReplies(await __classPrivateFieldGet(this, _RedisClusterMultiCommand_executor, \"f\").call(this, __classPrivateFieldGet(this, _RedisClusterMultiCommand_multi, \"f\").queue, __classPrivateFieldGet(this, _RedisClusterMultiCommand_firstKey, \"f\")));\n    }\n}\n_RedisClusterMultiCommand_multi = new WeakMap(), _RedisClusterMultiCommand_executor = new WeakMap(), _RedisClusterMultiCommand_firstKey = new WeakMap();\nexports.default = RedisClusterMultiCommand;\n(0, commander_1.attachCommands)({\n    BaseClass: RedisClusterMultiCommand,\n    commands: commands_1.default,\n    executor: RedisClusterMultiCommand.prototype.commandsExecutor\n});\n","\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _RedisCluster_instances, _RedisCluster_options, _RedisCluster_slots, _RedisCluster_Multi, _RedisCluster_execute;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commands_1 = require(\"./commands\");\nconst cluster_slots_1 = require(\"./cluster-slots\");\nconst commander_1 = require(\"../commander\");\nconst events_1 = require(\"events\");\nconst multi_command_1 = require(\"./multi-command\");\nconst errors_1 = require(\"../errors\");\nclass RedisCluster extends events_1.EventEmitter {\n    static extractFirstKey(command, originalArgs, redisArgs) {\n        if (command.FIRST_KEY_INDEX === undefined) {\n            return undefined;\n        }\n        else if (typeof command.FIRST_KEY_INDEX === 'number') {\n            return redisArgs[command.FIRST_KEY_INDEX];\n        }\n        return command.FIRST_KEY_INDEX(...originalArgs);\n    }\n    static create(options) {\n        return new ((0, commander_1.attachExtensions)({\n            BaseClass: RedisCluster,\n            modulesExecutor: RedisCluster.prototype.commandsExecutor,\n            modules: options?.modules,\n            functionsExecutor: RedisCluster.prototype.functionsExecutor,\n            functions: options?.functions,\n            scriptsExecutor: RedisCluster.prototype.scriptsExecutor,\n            scripts: options?.scripts\n        }))(options);\n    }\n    get slots() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").slots;\n    }\n    get shards() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").shards;\n    }\n    get masters() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").masters;\n    }\n    get replicas() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").replicas;\n    }\n    get nodeByAddress() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").nodeByAddress;\n    }\n    get pubSubNode() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").pubSubNode;\n    }\n    get isOpen() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").isOpen;\n    }\n    constructor(options) {\n        super();\n        _RedisCluster_instances.add(this);\n        _RedisCluster_options.set(this, void 0);\n        _RedisCluster_slots.set(this, void 0);\n        _RedisCluster_Multi.set(this, void 0);\n        Object.defineProperty(this, \"multi\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.MULTI\n        });\n        Object.defineProperty(this, \"subscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SUBSCRIBE\n        });\n        Object.defineProperty(this, \"unsubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.UNSUBSCRIBE\n        });\n        Object.defineProperty(this, \"pSubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.PSUBSCRIBE\n        });\n        Object.defineProperty(this, \"pUnsubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.PUNSUBSCRIBE\n        });\n        Object.defineProperty(this, \"sSubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SSUBSCRIBE\n        });\n        Object.defineProperty(this, \"sUnsubscribe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.SUNSUBSCRIBE\n        });\n        __classPrivateFieldSet(this, _RedisCluster_options, options, \"f\");\n        __classPrivateFieldSet(this, _RedisCluster_slots, new cluster_slots_1.default(options, this.emit.bind(this)), \"f\");\n        __classPrivateFieldSet(this, _RedisCluster_Multi, multi_command_1.default.extend(options), \"f\");\n    }\n    duplicate(overrides) {\n        return new (Object.getPrototypeOf(this).constructor)({\n            ...__classPrivateFieldGet(this, _RedisCluster_options, \"f\"),\n            ...overrides\n        });\n    }\n    connect() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").connect();\n    }\n    async commandsExecutor(command, args) {\n        const { jsArgs, args: redisArgs, options } = (0, commander_1.transformCommandArguments)(command, args);\n        return (0, commander_1.transformCommandReply)(command, await this.sendCommand(RedisCluster.extractFirstKey(command, jsArgs, redisArgs), command.IS_READ_ONLY, redisArgs, options), redisArgs.preserve);\n    }\n    async sendCommand(firstKey, isReadonly, args, options) {\n        return __classPrivateFieldGet(this, _RedisCluster_instances, \"m\", _RedisCluster_execute).call(this, firstKey, isReadonly, client => client.sendCommand(args, options));\n    }\n    async functionsExecutor(fn, args, name) {\n        const { args: redisArgs, options } = (0, commander_1.transformCommandArguments)(fn, args);\n        return (0, commander_1.transformCommandReply)(fn, await this.executeFunction(name, fn, args, redisArgs, options), redisArgs.preserve);\n    }\n    async executeFunction(name, fn, originalArgs, redisArgs, options) {\n        return __classPrivateFieldGet(this, _RedisCluster_instances, \"m\", _RedisCluster_execute).call(this, RedisCluster.extractFirstKey(fn, originalArgs, redisArgs), fn.IS_READ_ONLY, client => client.executeFunction(name, fn, redisArgs, options));\n    }\n    async scriptsExecutor(script, args) {\n        const { args: redisArgs, options } = (0, commander_1.transformCommandArguments)(script, args);\n        return (0, commander_1.transformCommandReply)(script, await this.executeScript(script, args, redisArgs, options), redisArgs.preserve);\n    }\n    async executeScript(script, originalArgs, redisArgs, options) {\n        return __classPrivateFieldGet(this, _RedisCluster_instances, \"m\", _RedisCluster_execute).call(this, RedisCluster.extractFirstKey(script, originalArgs, redisArgs), script.IS_READ_ONLY, client => client.executeScript(script, redisArgs, options));\n    }\n    MULTI(routing) {\n        return new (__classPrivateFieldGet(this, _RedisCluster_Multi, \"f\"))((commands, firstKey, chainId) => {\n            return __classPrivateFieldGet(this, _RedisCluster_instances, \"m\", _RedisCluster_execute).call(this, firstKey, false, client => client.multiExecutor(commands, undefined, chainId));\n        }, routing);\n    }\n    async SUBSCRIBE(channels, listener, bufferMode) {\n        return (await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getPubSubClient())\n            .SUBSCRIBE(channels, listener, bufferMode);\n    }\n    async UNSUBSCRIBE(channels, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").executeUnsubscribeCommand(client => client.UNSUBSCRIBE(channels, listener, bufferMode));\n    }\n    async PSUBSCRIBE(patterns, listener, bufferMode) {\n        return (await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getPubSubClient())\n            .PSUBSCRIBE(patterns, listener, bufferMode);\n    }\n    async PUNSUBSCRIBE(patterns, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").executeUnsubscribeCommand(client => client.PUNSUBSCRIBE(patterns, listener, bufferMode));\n    }\n    async SSUBSCRIBE(channels, listener, bufferMode) {\n        const maxCommandRedirections = __classPrivateFieldGet(this, _RedisCluster_options, \"f\").maxCommandRedirections ?? 16, firstChannel = Array.isArray(channels) ? channels[0] : channels;\n        let client = await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getShardedPubSubClient(firstChannel);\n        for (let i = 0;; i++) {\n            try {\n                return await client.SSUBSCRIBE(channels, listener, bufferMode);\n            }\n            catch (err) {\n                if (++i > maxCommandRedirections || !(err instanceof errors_1.ErrorReply)) {\n                    throw err;\n                }\n                if (err.message.startsWith('MOVED')) {\n                    await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").rediscover(client);\n                    client = await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getShardedPubSubClient(firstChannel);\n                    continue;\n                }\n                throw err;\n            }\n        }\n    }\n    SUNSUBSCRIBE(channels, listener, bufferMode) {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").executeShardedUnsubscribeCommand(Array.isArray(channels) ? channels[0] : channels, client => client.SUNSUBSCRIBE(channels, listener, bufferMode));\n    }\n    quit() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").quit();\n    }\n    disconnect() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").disconnect();\n    }\n    nodeClient(node) {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").nodeClient(node);\n    }\n    getRandomNode() {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getRandomNode();\n    }\n    getSlotRandomNode(slot) {\n        return __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getSlotRandomNode(slot);\n    }\n    /**\n     * @deprecated use `.masters` instead\n     */\n    getMasters() {\n        return this.masters;\n    }\n    /**\n     * @deprecated use `.slots[<SLOT>]` instead\n     */\n    getSlotMaster(slot) {\n        return this.slots[slot].master;\n    }\n}\n_RedisCluster_options = new WeakMap(), _RedisCluster_slots = new WeakMap(), _RedisCluster_Multi = new WeakMap(), _RedisCluster_instances = new WeakSet(), _RedisCluster_execute = async function _RedisCluster_execute(firstKey, isReadonly, executor) {\n    const maxCommandRedirections = __classPrivateFieldGet(this, _RedisCluster_options, \"f\").maxCommandRedirections ?? 16;\n    let client = await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getClient(firstKey, isReadonly);\n    for (let i = 0;; i++) {\n        try {\n            return await executor(client);\n        }\n        catch (err) {\n            if (++i > maxCommandRedirections || !(err instanceof errors_1.ErrorReply)) {\n                throw err;\n            }\n            if (err.message.startsWith('ASK')) {\n                const address = err.message.substring(err.message.lastIndexOf(' ') + 1);\n                let redirectTo = await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getMasterByAddress(address);\n                if (!redirectTo) {\n                    await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").rediscover(client);\n                    redirectTo = await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getMasterByAddress(address);\n                }\n                if (!redirectTo) {\n                    throw new Error(`Cannot find node ${address}`);\n                }\n                await redirectTo.asking();\n                client = redirectTo;\n                continue;\n            }\n            else if (err.message.startsWith('MOVED')) {\n                await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").rediscover(client);\n                client = await __classPrivateFieldGet(this, _RedisCluster_slots, \"f\").getClient(firstKey, isReadonly);\n                continue;\n            }\n            throw err;\n        }\n    }\n};\nexports.default = RedisCluster;\n(0, commander_1.attachCommands)({\n    BaseClass: RedisCluster,\n    commands: commands_1.default,\n    executor: RedisCluster.prototype.commandsExecutor\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.scriptSha1 = exports.defineScript = void 0;\nconst crypto_1 = require(\"crypto\");\nfunction defineScript(script) {\n    return {\n        ...script,\n        SHA1: scriptSha1(script.SCRIPT)\n    };\n}\nexports.defineScript = defineScript;\nfunction scriptSha1(script) {\n    return (0, crypto_1.createHash)('sha1').update(script).digest('hex');\n}\nexports.scriptSha1 = scriptSha1;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RedisFlushModes = exports.GeoReplyWith = exports.defineScript = exports.createCluster = exports.commandOptions = exports.createClient = void 0;\nconst client_1 = require(\"./lib/client\");\nconst cluster_1 = require(\"./lib/cluster\");\nexports.createClient = client_1.default.create;\nexports.commandOptions = client_1.default.commandOptions;\nexports.createCluster = cluster_1.default.create;\nvar lua_script_1 = require(\"./lib/lua-script\");\nObject.defineProperty(exports, \"defineScript\", { enumerable: true, get: function () { return lua_script_1.defineScript; } });\n__exportStar(require(\"./lib/errors\"), exports);\nvar generic_transformers_1 = require(\"./lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"GeoReplyWith\", { enumerable: true, get: function () { return generic_transformers_1.GeoReplyWith; } });\nvar FLUSHALL_1 = require(\"./lib/commands/FLUSHALL\");\nObject.defineProperty(exports, \"RedisFlushModes\", { enumerable: true, get: function () { return FLUSHALL_1.RedisFlushModes; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, item) {\n    return ['BF.ADD', key, item];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['BF.CARD', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, item) {\n    return ['BF.EXISTS', key, item];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['BF.INFO', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        capacity: reply[1],\n        size: reply[3],\n        numberOfFilters: reply[5],\n        numberOfInsertedItems: reply[7],\n        expansionRate: reply[9]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, items, options) {\n    const args = ['BF.INSERT', key];\n    if (options?.CAPACITY) {\n        args.push('CAPACITY', options.CAPACITY.toString());\n    }\n    if (options?.ERROR) {\n        args.push('ERROR', options.ERROR.toString());\n    }\n    if (options?.EXPANSION) {\n        args.push('EXPANSION', options.EXPANSION.toString());\n    }\n    if (options?.NOCREATE) {\n        args.push('NOCREATE');\n    }\n    if (options?.NONSCALING) {\n        args.push('NONSCALING');\n    }\n    args.push('ITEMS');\n    return (0, generic_transformers_1.pushVerdictArguments)(args, items);\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_2 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_2.transformBooleanArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, iteretor, chunk) {\n    return ['BF.LOADCHUNK', key, iteretor.toString(), chunk];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, items) {\n    return ['BF.MADD', key, ...items];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, items) {\n    return ['BF.MEXISTS', key, ...items];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, errorRate, capacity, options) {\n    const args = ['BF.RESERVE', key, errorRate.toString(), capacity.toString()];\n    if (options?.EXPANSION) {\n        args.push('EXPANSION', options.EXPANSION.toString());\n    }\n    if (options?.NONSCALING) {\n        args.push('NONSCALING');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, iterator) {\n    return ['BF.SCANDUMP', key, iterator.toString()];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply([iterator, chunk]) {\n    return {\n        iterator,\n        chunk\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ADD = require(\"./ADD\");\nconst CARD = require(\"./CARD\");\nconst EXISTS = require(\"./EXISTS\");\nconst INFO = require(\"./INFO\");\nconst INSERT = require(\"./INSERT\");\nconst LOADCHUNK = require(\"./LOADCHUNK\");\nconst MADD = require(\"./MADD\");\nconst MEXISTS = require(\"./MEXISTS\");\nconst RESERVE = require(\"./RESERVE\");\nconst SCANDUMP = require(\"./SCANDUMP\");\nexports.default = {\n    ADD,\n    add: ADD,\n    CARD,\n    card: CARD,\n    EXISTS,\n    exists: EXISTS,\n    INFO,\n    info: INFO,\n    INSERT,\n    insert: INSERT,\n    LOADCHUNK,\n    loadChunk: LOADCHUNK,\n    MADD,\n    mAdd: MADD,\n    MEXISTS,\n    mExists: MEXISTS,\n    RESERVE,\n    reserve: RESERVE,\n    SCANDUMP,\n    scanDump: SCANDUMP\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, items) {\n    const args = ['CMS.INCRBY', key];\n    if (Array.isArray(items)) {\n        for (const item of items) {\n            pushIncrByItem(args, item);\n        }\n    }\n    else {\n        pushIncrByItem(args, items);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction pushIncrByItem(args, { item, incrementBy }) {\n    args.push(item, incrementBy.toString());\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['CMS.INFO', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        width: reply[1],\n        depth: reply[3],\n        count: reply[5]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, width, depth) {\n    return ['CMS.INITBYDIM', key, width.toString(), depth.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, error, probability) {\n    return ['CMS.INITBYPROB', key, error.toString(), probability.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(dest, src) {\n    const args = [\n        'CMS.MERGE',\n        dest,\n        src.length.toString()\n    ];\n    if (isStringSketches(src)) {\n        args.push(...src);\n    }\n    else {\n        for (const sketch of src) {\n            args.push(sketch.name);\n        }\n        args.push('WEIGHTS');\n        for (const sketch of src) {\n            args.push(sketch.weight.toString());\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction isStringSketches(src) {\n    return typeof src[0] === 'string';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, items) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['CMS.QUERY', key], items);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst INCRBY = require(\"./INCRBY\");\nconst INFO = require(\"./INFO\");\nconst INITBYDIM = require(\"./INITBYDIM\");\nconst INITBYPROB = require(\"./INITBYPROB\");\nconst MERGE = require(\"./MERGE\");\nconst QUERY = require(\"./QUERY\");\nexports.default = {\n    INCRBY,\n    incrBy: INCRBY,\n    INFO,\n    info: INFO,\n    INITBYDIM,\n    initByDim: INITBYDIM,\n    INITBYPROB,\n    initByProb: INITBYPROB,\n    MERGE,\n    merge: MERGE,\n    QUERY,\n    query: QUERY\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, item) {\n    return ['CF.ADD', key, item];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, item) {\n    return ['CF.ADDNX', key, item];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, item) {\n    return ['CF.COUNT', key, item];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, item) {\n    return ['CF.DEL', key, item];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, item) {\n    return ['CF.EXISTS', key, item];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['CF.INFO', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        size: reply[1],\n        numberOfBuckets: reply[3],\n        numberOfFilters: reply[5],\n        numberOfInsertedItems: reply[7],\n        numberOfDeletedItems: reply[9],\n        bucketSize: reply[11],\n        expansionRate: reply[13],\n        maxIteration: reply[15]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, items, options) {\n    return (0, _1.pushInsertOptions)(['CF.INSERT', key], items, options);\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, items, options) {\n    return (0, _1.pushInsertOptions)(['CF.INSERTNX', key], items, options);\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanArrayReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, iterator, chunk) {\n    return ['CF.LOADCHUNK', key, iterator.toString(), chunk];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, capacity, options) {\n    const args = ['CF.RESERVE', key, capacity.toString()];\n    if (options?.BUCKETSIZE) {\n        args.push('BUCKETSIZE', options.BUCKETSIZE.toString());\n    }\n    if (options?.MAXITERATIONS) {\n        args.push('MAXITERATIONS', options.MAXITERATIONS.toString());\n    }\n    if (options?.EXPANSION) {\n        args.push('EXPANSION', options.EXPANSION.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, iterator) {\n    return ['CF.SCANDUMP', key, iterator.toString()];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply([iterator, chunk]) {\n    return {\n        iterator,\n        chunk\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pushInsertOptions = void 0;\nconst ADD = require(\"./ADD\");\nconst ADDNX = require(\"./ADDNX\");\nconst COUNT = require(\"./COUNT\");\nconst DEL = require(\"./DEL\");\nconst EXISTS = require(\"./EXISTS\");\nconst INFO = require(\"./INFO\");\nconst INSERT = require(\"./INSERT\");\nconst INSERTNX = require(\"./INSERTNX\");\nconst LOADCHUNK = require(\"./LOADCHUNK\");\nconst RESERVE = require(\"./RESERVE\");\nconst SCANDUMP = require(\"./SCANDUMP\");\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.default = {\n    ADD,\n    add: ADD,\n    ADDNX,\n    addNX: ADDNX,\n    COUNT,\n    count: COUNT,\n    DEL,\n    del: DEL,\n    EXISTS,\n    exists: EXISTS,\n    INFO,\n    info: INFO,\n    INSERT,\n    insert: INSERT,\n    INSERTNX,\n    insertNX: INSERTNX,\n    LOADCHUNK,\n    loadChunk: LOADCHUNK,\n    RESERVE,\n    reserve: RESERVE,\n    SCANDUMP,\n    scanDump: SCANDUMP\n};\nfunction pushInsertOptions(args, items, options) {\n    if (options?.CAPACITY) {\n        args.push('CAPACITY');\n        args.push(options.CAPACITY.toString());\n    }\n    if (options?.NOCREATE) {\n        args.push('NOCREATE');\n    }\n    args.push('ITEMS');\n    return (0, generic_transformers_1.pushVerdictArguments)(args, items);\n}\nexports.pushInsertOptions = pushInsertOptions;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, values) {\n    const args = ['TDIGEST.ADD', key];\n    for (const item of values) {\n        args.push(item.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, ranks) {\n    const args = ['TDIGEST.BYRANK', key];\n    for (const rank of ranks) {\n        args.push(rank.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformDoublesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, ranks) {\n    const args = ['TDIGEST.BYREVRANK', key];\n    for (const rank of ranks) {\n        args.push(rank.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformDoublesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, values) {\n    const args = ['TDIGEST.CDF', key];\n    for (const item of values) {\n        args.push(item.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformDoublesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, options) {\n    return (0, _1.pushCompressionArgument)(['TDIGEST.CREATE', key], options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return [\n        'TDIGEST.INFO',\n        key\n    ];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        comperssion: reply[1],\n        capacity: reply[3],\n        mergedNodes: reply[5],\n        unmergedNodes: reply[7],\n        mergedWeight: Number(reply[9]),\n        unmergedWeight: Number(reply[11]),\n        totalCompression: reply[13]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return [\n        'TDIGEST.MAX',\n        key\n    ];\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformDoubleReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(destKey, srcKeys, options) {\n    const args = (0, generic_transformers_1.pushVerdictArgument)(['TDIGEST.MERGE', destKey], srcKeys);\n    (0, _1.pushCompressionArgument)(args, options);\n    if (options?.OVERRIDE) {\n        args.push('OVERRIDE');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return [\n        'TDIGEST.MIN',\n        key\n    ];\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformDoubleReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, quantiles) {\n    const args = [\n        'TDIGEST.QUANTILE',\n        key\n    ];\n    for (const quantile of quantiles) {\n        args.push(quantile.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformDoublesReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, values) {\n    const args = ['TDIGEST.RANK', key];\n    for (const item of values) {\n        args.push(item.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['TDIGEST.RESET', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, values) {\n    const args = ['TDIGEST.REVRANK', key];\n    for (const item of values) {\n        args.push(item.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, lowCutPercentile, highCutPercentile) {\n    return [\n        'TDIGEST.TRIMMED_MEAN',\n        key,\n        lowCutPercentile.toString(),\n        highCutPercentile.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformDoubleReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformDoublesReply = exports.transformDoubleReply = exports.pushCompressionArgument = void 0;\nconst ADD = require(\"./ADD\");\nconst BYRANK = require(\"./BYRANK\");\nconst BYREVRANK = require(\"./BYREVRANK\");\nconst CDF = require(\"./CDF\");\nconst CREATE = require(\"./CREATE\");\nconst INFO = require(\"./INFO\");\nconst MAX = require(\"./MAX\");\nconst MERGE = require(\"./MERGE\");\nconst MIN = require(\"./MIN\");\nconst QUANTILE = require(\"./QUANTILE\");\nconst RANK = require(\"./RANK\");\nconst RESET = require(\"./RESET\");\nconst REVRANK = require(\"./REVRANK\");\nconst TRIMMED_MEAN = require(\"./TRIMMED_MEAN\");\nexports.default = {\n    ADD,\n    add: ADD,\n    BYRANK,\n    byRank: BYRANK,\n    BYREVRANK,\n    byRevRank: BYREVRANK,\n    CDF,\n    cdf: CDF,\n    CREATE,\n    create: CREATE,\n    INFO,\n    info: INFO,\n    MAX,\n    max: MAX,\n    MERGE,\n    merge: MERGE,\n    MIN,\n    min: MIN,\n    QUANTILE,\n    quantile: QUANTILE,\n    RANK,\n    rank: RANK,\n    RESET,\n    reset: RESET,\n    REVRANK,\n    revRank: REVRANK,\n    TRIMMED_MEAN,\n    trimmedMean: TRIMMED_MEAN\n};\nfunction pushCompressionArgument(args, options) {\n    if (options?.COMPRESSION) {\n        args.push('COMPRESSION', options.COMPRESSION.toString());\n    }\n    return args;\n}\nexports.pushCompressionArgument = pushCompressionArgument;\nfunction transformDoubleReply(reply) {\n    switch (reply) {\n        case 'inf':\n            return Infinity;\n        case '-inf':\n            return -Infinity;\n        case 'nan':\n            return NaN;\n        default:\n            return parseFloat(reply);\n    }\n}\nexports.transformDoubleReply = transformDoubleReply;\nfunction transformDoublesReply(reply) {\n    return reply.map(transformDoubleReply);\n}\nexports.transformDoublesReply = transformDoublesReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, items) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['TOPK.ADD', key], items);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, items) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['TOPK.COUNT', key], items);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, items) {\n    const args = ['TOPK.INCRBY', key];\n    if (Array.isArray(items)) {\n        for (const item of items) {\n            pushIncrByItem(args, item);\n        }\n    }\n    else {\n        pushIncrByItem(args, items);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction pushIncrByItem(args, { item, incrementBy }) {\n    args.push(item, incrementBy.toString());\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['TOPK.INFO', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        k: reply[1],\n        width: reply[3],\n        depth: reply[5],\n        decay: Number(reply[7])\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['TOPK.LIST', key, 'WITHCOUNT'];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    const reply = [];\n    for (let i = 0; i < rawReply.length; i++) {\n        reply.push({\n            item: rawReply[i],\n            count: rawReply[++i]\n        });\n    }\n    return reply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['TOPK.LIST', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, items) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['TOPK.QUERY', key], items);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, topK, options) {\n    const args = ['TOPK.RESERVE', key, topK.toString()];\n    if (options) {\n        args.push(options.width.toString(), options.depth.toString(), options.decay.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ADD = require(\"./ADD\");\nconst COUNT = require(\"./COUNT\");\nconst INCRBY = require(\"./INCRBY\");\nconst INFO = require(\"./INFO\");\nconst LIST_WITHCOUNT = require(\"./LIST_WITHCOUNT\");\nconst LIST = require(\"./LIST\");\nconst QUERY = require(\"./QUERY\");\nconst RESERVE = require(\"./RESERVE\");\nexports.default = {\n    ADD,\n    add: ADD,\n    COUNT,\n    count: COUNT,\n    INCRBY,\n    incrBy: INCRBY,\n    INFO,\n    info: INFO,\n    LIST_WITHCOUNT,\n    listWithCount: LIST_WITHCOUNT,\n    LIST,\n    list: LIST,\n    QUERY,\n    query: QUERY,\n    RESERVE,\n    reserve: RESERVE\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bloom_1 = require(\"./bloom\");\nconst count_min_sketch_1 = require(\"./count-min-sketch\");\nconst cuckoo_1 = require(\"./cuckoo\");\nconst t_digest_1 = require(\"./t-digest\");\nconst top_k_1 = require(\"./top-k\");\nexports.default = {\n    bf: bloom_1.default,\n    cms: count_min_sketch_1.default,\n    cf: cuckoo_1.default,\n    tDigest: t_digest_1.default,\n    topK: top_k_1.default\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar commands_1 = require(\"./commands\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return commands_1.default; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(configKey) {\n    return ['GRAPH.CONFIG', 'GET', configKey];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(configKey, value) {\n    return [\n        'GRAPH.CONFIG',\n        'SET',\n        configKey,\n        value.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['GRAPH.DELETE', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, query) {\n    return ['GRAPH.EXPLAIN', key, query];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments() {\n    return ['GRAPH.LIST'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, query) {\n    return ['GRAPH.PROFILE', key, query];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(graph, query, options, compact) {\n    return (0, _1.pushQueryArguments)(['GRAPH.QUERY'], graph, query, options, compact);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.length === 1 ? {\n        headers: undefined,\n        data: undefined,\n        metadata: reply[0]\n    } : {\n        headers: reply[0],\n        data: reply[1],\n        metadata: reply[2]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nvar QUERY_1 = require(\"./QUERY\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return QUERY_1.FIRST_KEY_INDEX; } });\nexports.IS_READ_ONLY = true;\nfunction transformArguments(graph, query, options, compact) {\n    return (0, _1.pushQueryArguments)(['GRAPH.RO_QUERY'], graph, query, options, compact);\n}\nexports.transformArguments = transformArguments;\nvar QUERY_2 = require(\"./QUERY\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return QUERY_2.transformReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key) {\n    return ['GRAPH.SLOWLOG', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(logs) {\n    return logs.map(([timestamp, command, query, took]) => ({\n        timestamp: new Date(Number(timestamp) * 1000),\n        command,\n        query,\n        took: Number(took)\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pushQueryArguments = void 0;\nconst CONFIG_GET = require(\"./CONFIG_GET\");\nconst CONFIG_SET = require(\"./CONFIG_SET\");\n;\nconst DELETE = require(\"./DELETE\");\nconst EXPLAIN = require(\"./EXPLAIN\");\nconst LIST = require(\"./LIST\");\nconst PROFILE = require(\"./PROFILE\");\nconst QUERY = require(\"./QUERY\");\nconst RO_QUERY = require(\"./RO_QUERY\");\nconst SLOWLOG = require(\"./SLOWLOG\");\nexports.default = {\n    CONFIG_GET,\n    configGet: CONFIG_GET,\n    CONFIG_SET,\n    configSet: CONFIG_SET,\n    DELETE,\n    delete: DELETE,\n    EXPLAIN,\n    explain: EXPLAIN,\n    LIST,\n    list: LIST,\n    PROFILE,\n    profile: PROFILE,\n    QUERY,\n    query: QUERY,\n    RO_QUERY,\n    roQuery: RO_QUERY,\n    SLOWLOG,\n    slowLog: SLOWLOG\n};\nfunction pushQueryArguments(args, graph, query, options, compact) {\n    args.push(graph);\n    if (typeof options === 'number') {\n        args.push(query);\n        pushTimeout(args, options);\n    }\n    else {\n        args.push(options?.params ?\n            `CYPHER ${queryParamsToString(options.params)} ${query}` :\n            query);\n        if (options?.TIMEOUT !== undefined) {\n            pushTimeout(args, options.TIMEOUT);\n        }\n    }\n    if (compact) {\n        args.push('--compact');\n    }\n    return args;\n}\nexports.pushQueryArguments = pushQueryArguments;\nfunction pushTimeout(args, timeout) {\n    args.push('TIMEOUT', timeout.toString());\n}\nfunction queryParamsToString(params) {\n    const parts = [];\n    for (const [key, value] of Object.entries(params)) {\n        parts.push(`${key}=${queryParamToString(value)}`);\n    }\n    return parts.join(' ');\n}\nfunction queryParamToString(param) {\n    if (param === null) {\n        return 'null';\n    }\n    switch (typeof param) {\n        case 'string':\n            return `\"${param.replace(/[\"\\\\]/g, '\\\\$&')}\"`;\n        case 'number':\n        case 'boolean':\n            return param.toString();\n    }\n    if (Array.isArray(param)) {\n        return `[${param.map(queryParamToString).join(',')}]`;\n    }\n    else if (typeof param === 'object') {\n        const body = [];\n        for (const [key, value] of Object.entries(param)) {\n            body.push(`${key}:${queryParamToString(value)}`);\n        }\n        return `{${body.join(',')}}`;\n    }\n    else {\n        throw new TypeError(`Unexpected param type ${typeof param} ${param}`);\n    }\n}\n","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Graph_instances, _Graph_client, _Graph_name, _Graph_metadata, _Graph_setMetadataPromise, _Graph_updateMetadata, _Graph_setMetadata, _Graph_cleanMetadataArray, _Graph_getMetadata, _Graph_getMetadataAsync, _Graph_parseReply, _Graph_parseValue, _Graph_parseEdge, _Graph_parseNode, _Graph_parseProperties;\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/RedisGraph/RedisGraph/blob/master/src/resultset/formatters/resultset_formatter.h#L20\nvar GraphValueTypes;\n(function (GraphValueTypes) {\n    GraphValueTypes[GraphValueTypes[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    GraphValueTypes[GraphValueTypes[\"NULL\"] = 1] = \"NULL\";\n    GraphValueTypes[GraphValueTypes[\"STRING\"] = 2] = \"STRING\";\n    GraphValueTypes[GraphValueTypes[\"INTEGER\"] = 3] = \"INTEGER\";\n    GraphValueTypes[GraphValueTypes[\"BOOLEAN\"] = 4] = \"BOOLEAN\";\n    GraphValueTypes[GraphValueTypes[\"DOUBLE\"] = 5] = \"DOUBLE\";\n    GraphValueTypes[GraphValueTypes[\"ARRAY\"] = 6] = \"ARRAY\";\n    GraphValueTypes[GraphValueTypes[\"EDGE\"] = 7] = \"EDGE\";\n    GraphValueTypes[GraphValueTypes[\"NODE\"] = 8] = \"NODE\";\n    GraphValueTypes[GraphValueTypes[\"PATH\"] = 9] = \"PATH\";\n    GraphValueTypes[GraphValueTypes[\"MAP\"] = 10] = \"MAP\";\n    GraphValueTypes[GraphValueTypes[\"POINT\"] = 11] = \"POINT\";\n})(GraphValueTypes || (GraphValueTypes = {}));\nclass Graph {\n    constructor(client, name) {\n        _Graph_instances.add(this);\n        _Graph_client.set(this, void 0);\n        _Graph_name.set(this, void 0);\n        _Graph_metadata.set(this, void 0);\n        _Graph_setMetadataPromise.set(this, void 0);\n        __classPrivateFieldSet(this, _Graph_client, client, \"f\");\n        __classPrivateFieldSet(this, _Graph_name, name, \"f\");\n    }\n    async query(query, options) {\n        return __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseReply).call(this, await __classPrivateFieldGet(this, _Graph_client, \"f\").graph.query(__classPrivateFieldGet(this, _Graph_name, \"f\"), query, options, true));\n    }\n    async roQuery(query, options) {\n        return __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseReply).call(this, await __classPrivateFieldGet(this, _Graph_client, \"f\").graph.roQuery(__classPrivateFieldGet(this, _Graph_name, \"f\"), query, options, true));\n    }\n}\n_Graph_client = new WeakMap(), _Graph_name = new WeakMap(), _Graph_metadata = new WeakMap(), _Graph_setMetadataPromise = new WeakMap(), _Graph_instances = new WeakSet(), _Graph_updateMetadata = function _Graph_updateMetadata() {\n    __classPrivateFieldSet(this, _Graph_setMetadataPromise, __classPrivateFieldGet(this, _Graph_setMetadataPromise, \"f\") ?? __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_setMetadata).call(this)\n        .finally(() => __classPrivateFieldSet(this, _Graph_setMetadataPromise, undefined, \"f\")), \"f\");\n    return __classPrivateFieldGet(this, _Graph_setMetadataPromise, \"f\");\n}, _Graph_setMetadata = \n// DO NOT use directly, use #updateMetadata instead\nasync function _Graph_setMetadata() {\n    const [labels, relationshipTypes, propertyKeys] = await Promise.all([\n        __classPrivateFieldGet(this, _Graph_client, \"f\").graph.roQuery(__classPrivateFieldGet(this, _Graph_name, \"f\"), 'CALL db.labels()'),\n        __classPrivateFieldGet(this, _Graph_client, \"f\").graph.roQuery(__classPrivateFieldGet(this, _Graph_name, \"f\"), 'CALL db.relationshipTypes()'),\n        __classPrivateFieldGet(this, _Graph_client, \"f\").graph.roQuery(__classPrivateFieldGet(this, _Graph_name, \"f\"), 'CALL db.propertyKeys()')\n    ]);\n    __classPrivateFieldSet(this, _Graph_metadata, {\n        labels: __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_cleanMetadataArray).call(this, labels.data),\n        relationshipTypes: __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_cleanMetadataArray).call(this, relationshipTypes.data),\n        propertyKeys: __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_cleanMetadataArray).call(this, propertyKeys.data)\n    }, \"f\");\n    return __classPrivateFieldGet(this, _Graph_metadata, \"f\");\n}, _Graph_cleanMetadataArray = function _Graph_cleanMetadataArray(arr) {\n    return arr.map(([value]) => value);\n}, _Graph_getMetadata = function _Graph_getMetadata(key, id) {\n    return __classPrivateFieldGet(this, _Graph_metadata, \"f\")?.[key][id] ?? __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_getMetadataAsync).call(this, key, id);\n}, _Graph_getMetadataAsync = \n// DO NOT use directly, use #getMetadata instead\nasync function _Graph_getMetadataAsync(key, id) {\n    const value = (await __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_updateMetadata).call(this))[key][id];\n    if (value === undefined)\n        throw new Error(`Cannot find value from ${key}[${id}]`);\n    return value;\n}, _Graph_parseReply = async function _Graph_parseReply(reply) {\n    if (!reply.data)\n        return reply;\n    const promises = [], parsed = {\n        metadata: reply.metadata,\n        data: reply.data.map((row) => {\n            const data = {};\n            for (let i = 0; i < row.length; i++) {\n                data[reply.headers[i][1]] = __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseValue).call(this, row[i], promises);\n            }\n            return data;\n        })\n    };\n    if (promises.length)\n        await Promise.all(promises);\n    return parsed;\n}, _Graph_parseValue = function _Graph_parseValue([valueType, value], promises) {\n    switch (valueType) {\n        case GraphValueTypes.NULL:\n            return null;\n        case GraphValueTypes.STRING:\n        case GraphValueTypes.INTEGER:\n            return value;\n        case GraphValueTypes.BOOLEAN:\n            return value === 'true';\n        case GraphValueTypes.DOUBLE:\n            return parseFloat(value);\n        case GraphValueTypes.ARRAY:\n            return value.map(x => __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseValue).call(this, x, promises));\n        case GraphValueTypes.EDGE:\n            return __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseEdge).call(this, value, promises);\n        case GraphValueTypes.NODE:\n            return __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseNode).call(this, value, promises);\n        case GraphValueTypes.PATH:\n            return {\n                nodes: value[0][1].map(([, node]) => __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseNode).call(this, node, promises)),\n                edges: value[1][1].map(([, edge]) => __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseEdge).call(this, edge, promises))\n            };\n        case GraphValueTypes.MAP:\n            const map = {};\n            for (let i = 0; i < value.length; i++) {\n                map[value[i++]] = __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseValue).call(this, value[i], promises);\n            }\n            return map;\n        case GraphValueTypes.POINT:\n            return {\n                latitude: parseFloat(value[0]),\n                longitude: parseFloat(value[1])\n            };\n        default:\n            throw new Error(`unknown scalar type: ${valueType}`);\n    }\n}, _Graph_parseEdge = function _Graph_parseEdge([id, relationshipTypeId, sourceId, destinationId, properties], promises) {\n    const edge = {\n        id,\n        sourceId,\n        destinationId,\n        properties: __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseProperties).call(this, properties, promises)\n    };\n    const relationshipType = __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_getMetadata).call(this, 'relationshipTypes', relationshipTypeId);\n    if (relationshipType instanceof Promise) {\n        promises.push(relationshipType.then(value => edge.relationshipType = value));\n    }\n    else {\n        edge.relationshipType = relationshipType;\n    }\n    return edge;\n}, _Graph_parseNode = function _Graph_parseNode([id, labelIds, properties], promises) {\n    const labels = new Array(labelIds.length);\n    for (let i = 0; i < labelIds.length; i++) {\n        const value = __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_getMetadata).call(this, 'labels', labelIds[i]);\n        if (value instanceof Promise) {\n            promises.push(value.then(value => labels[i] = value));\n        }\n        else {\n            labels[i] = value;\n        }\n    }\n    return {\n        id,\n        labels,\n        properties: __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseProperties).call(this, properties, promises)\n    };\n}, _Graph_parseProperties = function _Graph_parseProperties(raw, promises) {\n    const parsed = {};\n    for (const [id, type, value] of raw) {\n        const parsedValue = __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_parseValue).call(this, [type, value], promises), key = __classPrivateFieldGet(this, _Graph_instances, \"m\", _Graph_getMetadata).call(this, 'propertyKeys', id);\n        if (key instanceof Promise) {\n            promises.push(key.then(key => parsed[key] = parsedValue));\n        }\n        else {\n            parsed[key] = parsedValue;\n        }\n    }\n    return parsed;\n};\nexports.default = Graph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Graph = exports.default = void 0;\nvar commands_1 = require(\"./commands\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return commands_1.default; } });\nvar graph_1 = require(\"./graph\");\nObject.defineProperty(exports, \"Graph\", { enumerable: true, get: function () { return graph_1.default; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, ...jsons) {\n    const args = ['JSON.ARRAPPEND', key, path];\n    for (const json of jsons) {\n        args.push((0, _1.transformRedisJsonArgument)(json));\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, path, json, start, stop) {\n    const args = ['JSON.ARRINDEX', key, path, (0, _1.transformRedisJsonArgument)(json)];\n    if (start !== undefined && start !== null) {\n        args.push(start.toString());\n        if (stop !== undefined && stop !== null) {\n            args.push(stop.toString());\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, index, ...jsons) {\n    const args = ['JSON.ARRINSERT', key, path, index.toString()];\n    for (const json of jsons) {\n        args.push((0, _1.transformRedisJsonArgument)(json));\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, path) {\n    const args = ['JSON.ARRLEN', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, index) {\n    const args = ['JSON.ARRPOP', key];\n    if (path) {\n        args.push(path);\n        if (index !== undefined && index !== null) {\n            args.push(index.toString());\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    if (reply === null)\n        return null;\n    if (Array.isArray(reply)) {\n        return reply.map(_1.transformRedisJsonNullReply);\n    }\n    return (0, _1.transformRedisJsonNullReply)(reply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, start, stop) {\n    return ['JSON.ARRTRIM', key, path, start.toString(), stop.toString()];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 2;\nfunction transformArguments(key, path) {\n    const args = ['JSON.DEBUG', 'MEMORY', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path) {\n    const args = ['JSON.DEL', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path) {\n    const args = ['JSON.FORGET', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, options) {\n    let args = ['JSON.GET', key];\n    if (options?.path) {\n        args = (0, generic_transformers_1.pushVerdictArguments)(args, options.path);\n    }\n    if (options?.INDENT) {\n        args.push('INDENT', options.INDENT);\n    }\n    if (options?.NEWLINE) {\n        args.push('NEWLINE', options.NEWLINE);\n    }\n    if (options?.SPACE) {\n        args.push('SPACE', options.SPACE);\n    }\n    if (options?.NOESCAPE) {\n        args.push('NOESCAPE');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformRedisJsonNullReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, json) {\n    return ['JSON.MERGE', key, path, (0, _1.transformRedisJsonArgument)(json)];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(keys, path) {\n    return [\n        'JSON.MGET',\n        ...keys,\n        path\n    ];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(_1.transformRedisJsonNullReply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(items) {\n    const args = new Array(1 + items.length * 3);\n    args[0] = 'JSON.MSET';\n    let argsIndex = 1;\n    for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        args[argsIndex++] = item.key;\n        args[argsIndex++] = item.path;\n        args[argsIndex++] = (0, _1.transformRedisJsonArgument)(item.value);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, by) {\n    return ['JSON.NUMINCRBY', key, path, by.toString()];\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformNumbersReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, by) {\n    return ['JSON.NUMMULTBY', key, path, by.toString()];\n}\nexports.transformArguments = transformArguments;\nvar _1 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _1.transformNumbersReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path) {\n    const args = ['JSON.OBJKEYS', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path) {\n    const args = ['JSON.OBJLEN', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path) {\n    const args = ['JSON.RESP', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path, json, options) {\n    const args = ['JSON.SET', key, path, (0, _1.transformRedisJsonArgument)(json)];\n    if (options?.NX) {\n        args.push('NX');\n    }\n    else if (options?.XX) {\n        args.push('XX');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(...[key, pathOrAppend, append]) {\n    const args = ['JSON.STRAPPEND', key];\n    if (append !== undefined && append !== null) {\n        args.push(pathOrAppend, (0, _1.transformRedisJsonArgument)(append));\n    }\n    else {\n        args.push((0, _1.transformRedisJsonArgument)(pathOrAppend));\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, path) {\n    const args = ['JSON.STRLEN', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, path) {\n    const args = ['JSON.TYPE', key];\n    if (path) {\n        args.push(path);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformNumbersReply = exports.transformRedisJsonNullReply = exports.transformRedisJsonReply = exports.transformRedisJsonArgument = void 0;\nconst ARRAPPEND = require(\"./ARRAPPEND\");\nconst ARRINDEX = require(\"./ARRINDEX\");\nconst ARRINSERT = require(\"./ARRINSERT\");\nconst ARRLEN = require(\"./ARRLEN\");\nconst ARRPOP = require(\"./ARRPOP\");\nconst ARRTRIM = require(\"./ARRTRIM\");\nconst DEBUG_MEMORY = require(\"./DEBUG_MEMORY\");\nconst DEL = require(\"./DEL\");\nconst FORGET = require(\"./FORGET\");\nconst GET = require(\"./GET\");\nconst MERGE = require(\"./MERGE\");\nconst MGET = require(\"./MGET\");\nconst MSET = require(\"./MSET\");\nconst NUMINCRBY = require(\"./NUMINCRBY\");\nconst NUMMULTBY = require(\"./NUMMULTBY\");\nconst OBJKEYS = require(\"./OBJKEYS\");\nconst OBJLEN = require(\"./OBJLEN\");\nconst RESP = require(\"./RESP\");\nconst SET = require(\"./SET\");\nconst STRAPPEND = require(\"./STRAPPEND\");\nconst STRLEN = require(\"./STRLEN\");\nconst TYPE = require(\"./TYPE\");\nexports.default = {\n    ARRAPPEND,\n    arrAppend: ARRAPPEND,\n    ARRINDEX,\n    arrIndex: ARRINDEX,\n    ARRINSERT,\n    arrInsert: ARRINSERT,\n    ARRLEN,\n    arrLen: ARRLEN,\n    ARRPOP,\n    arrPop: ARRPOP,\n    ARRTRIM,\n    arrTrim: ARRTRIM,\n    DEBUG_MEMORY,\n    debugMemory: DEBUG_MEMORY,\n    DEL,\n    del: DEL,\n    FORGET,\n    forget: FORGET,\n    GET,\n    get: GET,\n    MERGE,\n    merge: MERGE,\n    MGET,\n    mGet: MGET,\n    MSET,\n    mSet: MSET,\n    NUMINCRBY,\n    numIncrBy: NUMINCRBY,\n    NUMMULTBY,\n    numMultBy: NUMMULTBY,\n    OBJKEYS,\n    objKeys: OBJKEYS,\n    OBJLEN,\n    objLen: OBJLEN,\n    RESP,\n    resp: RESP,\n    SET,\n    set: SET,\n    STRAPPEND,\n    strAppend: STRAPPEND,\n    STRLEN,\n    strLen: STRLEN,\n    TYPE,\n    type: TYPE\n};\nfunction transformRedisJsonArgument(json) {\n    return JSON.stringify(json);\n}\nexports.transformRedisJsonArgument = transformRedisJsonArgument;\nfunction transformRedisJsonReply(json) {\n    return JSON.parse(json);\n}\nexports.transformRedisJsonReply = transformRedisJsonReply;\nfunction transformRedisJsonNullReply(json) {\n    if (json === null)\n        return null;\n    return transformRedisJsonReply(json);\n}\nexports.transformRedisJsonNullReply = transformRedisJsonNullReply;\nfunction transformNumbersReply(reply) {\n    return JSON.parse(reply);\n}\nexports.transformNumbersReply = transformNumbersReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar commands_1 = require(\"./commands\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return commands_1.default; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['FT._LIST'];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst _1 = require(\".\");\nfunction transformArguments(index, schema) {\n    const args = ['FT.ALTER', index, 'SCHEMA', 'ADD'];\n    (0, _1.pushSchema)(args, schema);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.pushAggregatehOptions = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = exports.AggregateGroupByReducers = exports.AggregateSteps = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nconst _1 = require(\".\");\nvar AggregateSteps;\n(function (AggregateSteps) {\n    AggregateSteps[\"GROUPBY\"] = \"GROUPBY\";\n    AggregateSteps[\"SORTBY\"] = \"SORTBY\";\n    AggregateSteps[\"APPLY\"] = \"APPLY\";\n    AggregateSteps[\"LIMIT\"] = \"LIMIT\";\n    AggregateSteps[\"FILTER\"] = \"FILTER\";\n})(AggregateSteps || (exports.AggregateSteps = AggregateSteps = {}));\nvar AggregateGroupByReducers;\n(function (AggregateGroupByReducers) {\n    AggregateGroupByReducers[\"COUNT\"] = \"COUNT\";\n    AggregateGroupByReducers[\"COUNT_DISTINCT\"] = \"COUNT_DISTINCT\";\n    AggregateGroupByReducers[\"COUNT_DISTINCTISH\"] = \"COUNT_DISTINCTISH\";\n    AggregateGroupByReducers[\"SUM\"] = \"SUM\";\n    AggregateGroupByReducers[\"MIN\"] = \"MIN\";\n    AggregateGroupByReducers[\"MAX\"] = \"MAX\";\n    AggregateGroupByReducers[\"AVG\"] = \"AVG\";\n    AggregateGroupByReducers[\"STDDEV\"] = \"STDDEV\";\n    AggregateGroupByReducers[\"QUANTILE\"] = \"QUANTILE\";\n    AggregateGroupByReducers[\"TOLIST\"] = \"TOLIST\";\n    AggregateGroupByReducers[\"TO_LIST\"] = \"TOLIST\";\n    AggregateGroupByReducers[\"FIRST_VALUE\"] = \"FIRST_VALUE\";\n    AggregateGroupByReducers[\"RANDOM_SAMPLE\"] = \"RANDOM_SAMPLE\";\n})(AggregateGroupByReducers || (exports.AggregateGroupByReducers = AggregateGroupByReducers = {}));\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, query, options) {\n    return pushAggregatehOptions(['FT.AGGREGATE', index, query], options);\n}\nexports.transformArguments = transformArguments;\nfunction pushAggregatehOptions(args, options) {\n    if (options?.VERBATIM) {\n        args.push('VERBATIM');\n    }\n    if (options?.ADDSCORES) {\n        args.push('ADDSCORES');\n    }\n    if (options?.LOAD) {\n        args.push('LOAD');\n        (0, _1.pushArgumentsWithLength)(args, () => {\n            if (Array.isArray(options.LOAD)) {\n                for (const load of options.LOAD) {\n                    pushLoadField(args, load);\n                }\n            }\n            else {\n                pushLoadField(args, options.LOAD);\n            }\n        });\n    }\n    if (options?.STEPS) {\n        for (const step of options.STEPS) {\n            switch (step.type) {\n                case AggregateSteps.GROUPBY:\n                    args.push('GROUPBY');\n                    if (!step.properties) {\n                        args.push('0');\n                    }\n                    else {\n                        (0, generic_transformers_1.pushVerdictArgument)(args, step.properties);\n                    }\n                    if (Array.isArray(step.REDUCE)) {\n                        for (const reducer of step.REDUCE) {\n                            pushGroupByReducer(args, reducer);\n                        }\n                    }\n                    else {\n                        pushGroupByReducer(args, step.REDUCE);\n                    }\n                    break;\n                case AggregateSteps.SORTBY:\n                    (0, _1.pushSortByArguments)(args, 'SORTBY', step.BY);\n                    if (step.MAX) {\n                        args.push('MAX', step.MAX.toString());\n                    }\n                    break;\n                case AggregateSteps.APPLY:\n                    args.push('APPLY', step.expression, 'AS', step.AS);\n                    break;\n                case AggregateSteps.LIMIT:\n                    args.push('LIMIT', step.from.toString(), step.size.toString());\n                    break;\n                case AggregateSteps.FILTER:\n                    args.push('FILTER', step.expression);\n                    break;\n            }\n        }\n    }\n    (0, _1.pushParamsArgs)(args, options?.PARAMS);\n    if (options?.DIALECT) {\n        args.push('DIALECT', options.DIALECT.toString());\n    }\n    if (options?.TIMEOUT !== undefined) {\n        args.push('TIMEOUT', options.TIMEOUT.toString());\n    }\n    return args;\n}\nexports.pushAggregatehOptions = pushAggregatehOptions;\nfunction pushLoadField(args, toLoad) {\n    if (typeof toLoad === 'string') {\n        args.push(toLoad);\n    }\n    else {\n        args.push(toLoad.identifier);\n        if (toLoad.AS) {\n            args.push('AS', toLoad.AS);\n        }\n    }\n}\nfunction pushGroupByReducer(args, reducer) {\n    args.push('REDUCE', reducer.type);\n    switch (reducer.type) {\n        case AggregateGroupByReducers.COUNT:\n            args.push('0');\n            break;\n        case AggregateGroupByReducers.COUNT_DISTINCT:\n        case AggregateGroupByReducers.COUNT_DISTINCTISH:\n        case AggregateGroupByReducers.SUM:\n        case AggregateGroupByReducers.MIN:\n        case AggregateGroupByReducers.MAX:\n        case AggregateGroupByReducers.AVG:\n        case AggregateGroupByReducers.STDDEV:\n        case AggregateGroupByReducers.TOLIST:\n            args.push('1', reducer.property);\n            break;\n        case AggregateGroupByReducers.QUANTILE:\n            args.push('2', reducer.property, reducer.quantile.toString());\n            break;\n        case AggregateGroupByReducers.FIRST_VALUE: {\n            (0, _1.pushArgumentsWithLength)(args, () => {\n                args.push(reducer.property);\n                if (reducer.BY) {\n                    args.push('BY');\n                    if (typeof reducer.BY === 'string') {\n                        args.push(reducer.BY);\n                    }\n                    else {\n                        args.push(reducer.BY.property);\n                        if (reducer.BY.direction) {\n                            args.push(reducer.BY.direction);\n                        }\n                    }\n                }\n            });\n            break;\n        }\n        case AggregateGroupByReducers.RANDOM_SAMPLE:\n            args.push('2', reducer.property, reducer.sampleSize.toString());\n            break;\n    }\n    if (reducer.AS) {\n        args.push('AS', reducer.AS);\n    }\n}\nfunction transformReply(rawReply) {\n    const results = [];\n    for (let i = 1; i < rawReply.length; i++) {\n        results.push((0, generic_transformers_1.transformTuplesReply)(rawReply[i]));\n    }\n    return {\n        total: rawReply[0],\n        results\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst AGGREGATE_1 = require(\"./AGGREGATE\");\nvar AGGREGATE_2 = require(\"./AGGREGATE\");\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return AGGREGATE_2.FIRST_KEY_INDEX; } });\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return AGGREGATE_2.IS_READ_ONLY; } });\nfunction transformArguments(index, query, options) {\n    const args = (0, AGGREGATE_1.transformArguments)(index, query, options);\n    args.push('WITHCURSOR');\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        ...(0, AGGREGATE_1.transformReply)(reply[0]),\n        cursor: reply[1]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(name, index) {\n    return ['FT.ALIASADD', name, index];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(name, index) {\n    return ['FT.ALIASDEL', name, index];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(name, index) {\n    return ['FT.ALIASUPDATE', name, index];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(option) {\n    return ['FT.CONFIG', 'GET', option];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    const transformedReply = Object.create(null);\n    for (const [key, value] of rawReply) {\n        transformedReply[key] = value;\n    }\n    return transformedReply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(option, value) {\n    return ['FT.CONFIG', 'SET', option, value];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nconst _1 = require(\".\");\nfunction transformArguments(index, schema, options) {\n    const args = ['FT.CREATE', index];\n    if (options?.ON) {\n        args.push('ON', options.ON);\n    }\n    (0, generic_transformers_1.pushOptionalVerdictArgument)(args, 'PREFIX', options?.PREFIX);\n    if (options?.FILTER) {\n        args.push('FILTER', options.FILTER);\n    }\n    if (options?.LANGUAGE) {\n        args.push('LANGUAGE', options.LANGUAGE);\n    }\n    if (options?.LANGUAGE_FIELD) {\n        args.push('LANGUAGE_FIELD', options.LANGUAGE_FIELD);\n    }\n    if (options?.SCORE) {\n        args.push('SCORE', options.SCORE.toString());\n    }\n    if (options?.SCORE_FIELD) {\n        args.push('SCORE_FIELD', options.SCORE_FIELD);\n    }\n    // if (options?.PAYLOAD_FIELD) {\n    //     args.push('PAYLOAD_FIELD', options.PAYLOAD_FIELD);\n    // }\n    if (options?.MAXTEXTFIELDS) {\n        args.push('MAXTEXTFIELDS');\n    }\n    if (options?.TEMPORARY) {\n        args.push('TEMPORARY', options.TEMPORARY.toString());\n    }\n    if (options?.NOOFFSETS) {\n        args.push('NOOFFSETS');\n    }\n    if (options?.NOHL) {\n        args.push('NOHL');\n    }\n    if (options?.NOFIELDS) {\n        args.push('NOFIELDS');\n    }\n    if (options?.NOFREQS) {\n        args.push('NOFREQS');\n    }\n    if (options?.SKIPINITIALSCAN) {\n        args.push('SKIPINITIALSCAN');\n    }\n    (0, generic_transformers_1.pushOptionalVerdictArgument)(args, 'STOPWORDS', options?.STOPWORDS);\n    args.push('SCHEMA');\n    (0, _1.pushSchema)(args, schema);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(index, cursorId) {\n    return [\n        'FT.CURSOR',\n        'DEL',\n        index,\n        cursorId.toString()\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, cursor, options) {\n    const args = [\n        'FT.CURSOR',\n        'READ',\n        index,\n        cursor.toString()\n    ];\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nvar AGGREGATE_WITHCURSOR_1 = require(\"./AGGREGATE_WITHCURSOR\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return AGGREGATE_WITHCURSOR_1.transformReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nfunction transformArguments(dictionary, term) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['FT.DICTADD', dictionary], term);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nfunction transformArguments(dictionary, term) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['FT.DICTDEL', dictionary], term);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(dictionary) {\n    return ['FT.DICTDUMP', dictionary];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(index, options) {\n    const args = ['FT.DROPINDEX', index];\n    if (options?.DD) {\n        args.push('DD');\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, query, options) {\n    const args = ['FT.EXPLAIN', index, query];\n    (0, _1.pushParamsArgs)(args, options?.PARAMS);\n    if (options?.DIALECT) {\n        args.push('DIALECT', options.DIALECT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, query) {\n    return ['FT.EXPLAINCLI', index, query];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nfunction transformArguments(index) {\n    return ['FT.INFO', index];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    return {\n        indexName: rawReply[1],\n        indexOptions: rawReply[3],\n        indexDefinition: (0, generic_transformers_1.transformTuplesReply)(rawReply[5]),\n        attributes: rawReply[7].map(attribute => (0, generic_transformers_1.transformTuplesReply)(attribute)),\n        numDocs: rawReply[9],\n        maxDocId: rawReply[11],\n        numTerms: rawReply[13],\n        numRecords: rawReply[15],\n        invertedSzMb: rawReply[17],\n        vectorIndexSzMb: rawReply[19],\n        totalInvertedIndexBlocks: rawReply[21],\n        offsetVectorsSzMb: rawReply[23],\n        docTableSizeMb: rawReply[25],\n        sortableValuesSizeMb: rawReply[27],\n        keyTableSizeMb: rawReply[29],\n        recordsPerDocAvg: rawReply[31],\n        bytesPerRecordAvg: rawReply[33],\n        offsetsPerTermAvg: rawReply[35],\n        offsetBitsPerRecordAvg: rawReply[37],\n        hashIndexingFailures: rawReply[39],\n        indexing: rawReply[41],\n        percentIndexed: rawReply[43],\n        gcStats: {\n            bytesCollected: rawReply[45][1],\n            totalMsRun: rawReply[45][3],\n            totalCycles: rawReply[45][5],\n            averageCycleTimeMs: rawReply[45][7],\n            lastRunTimeMs: rawReply[45][9],\n            gcNumericTreesMissed: rawReply[45][11],\n            gcBlocksDenied: rawReply[45][13]\n        },\n        cursorStats: {\n            globalIdle: rawReply[47][1],\n            globalTotal: rawReply[47][3],\n            indexCapacity: rawReply[47][5],\n            idnexTotal: rawReply[47][7]\n        },\n        stopWords: rawReply[49]\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, query, options) {\n    return (0, _1.pushSearchOptions)(['FT.SEARCH', index, query], options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply, withoutDocuments) {\n    const documents = [];\n    let i = 1;\n    while (i < reply.length) {\n        documents.push({\n            id: reply[i++],\n            value: withoutDocuments ? Object.create(null) : documentValue(reply[i++])\n        });\n    }\n    return {\n        total: reply[0],\n        documents\n    };\n}\nexports.transformReply = transformReply;\nfunction documentValue(tuples) {\n    const message = Object.create(null);\n    let i = 0;\n    while (i < tuples.length) {\n        const key = tuples[i++], value = tuples[i++];\n        if (key === '$') { // might be a JSON reply\n            try {\n                Object.assign(message, JSON.parse(value));\n                continue;\n            }\n            catch {\n                // set as a regular property if not a valid JSON\n            }\n        }\n        message[key] = value;\n    }\n    return message;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst SEARCH_1 = require(\"./SEARCH\");\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, query, options) {\n    let args = ['FT.PROFILE', index, 'SEARCH'];\n    if (options?.LIMITED) {\n        args.push('LIMITED');\n    }\n    args.push('QUERY', query);\n    return (0, _1.pushSearchOptions)(args, options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply, withoutDocuments) {\n    return {\n        results: (0, SEARCH_1.transformReply)(reply[0], withoutDocuments),\n        profile: (0, _1.transformProfile)(reply[1])\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst AGGREGATE_1 = require(\"./AGGREGATE\");\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, query, options) {\n    const args = ['FT.PROFILE', index, 'AGGREGATE'];\n    if (options?.LIMITED) {\n        args.push('LIMITED');\n    }\n    args.push('QUERY', query);\n    (0, AGGREGATE_1.pushAggregatehOptions)(args, options);\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        results: (0, AGGREGATE_1.transformReply)(reply[0]),\n        profile: (0, _1.transformProfile)(reply[1])\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(index, query, options) {\n    return (0, _1.pushSearchOptions)(['FT.SEARCH', index, query, 'NOCONTENT'], options);\n}\nexports.transformArguments = transformArguments;\n;\nfunction transformReply(reply) {\n    return {\n        total: reply[0],\n        documents: reply.slice(1)\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(index, query, options) {\n    const args = ['FT.SPELLCHECK', index, query];\n    if (options?.DISTANCE) {\n        args.push('DISTANCE', options.DISTANCE.toString());\n    }\n    if (options?.TERMS) {\n        if (Array.isArray(options.TERMS)) {\n            for (const term of options.TERMS) {\n                pushTerms(args, term);\n            }\n        }\n        else {\n            pushTerms(args, options.TERMS);\n        }\n    }\n    if (options?.DIALECT) {\n        args.push('DIALECT', options.DIALECT.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction pushTerms(args, { mode, dictionary }) {\n    args.push('TERMS', mode, dictionary);\n}\nfunction transformReply(rawReply) {\n    return rawReply.map(([, term, suggestions]) => ({\n        term,\n        suggestions: suggestions.map(([score, suggestion]) => ({\n            score: Number(score),\n            suggestion\n        }))\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(key, string, score, options) {\n    const args = ['FT.SUGADD', key, string, score.toString()];\n    if (options?.INCR) {\n        args.push('INCR');\n    }\n    if (options?.PAYLOAD) {\n        args.push('PAYLOAD', options.PAYLOAD);\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(key, string) {\n    return ['FT.SUGDEL', key, string];\n}\nexports.transformArguments = transformArguments;\nvar generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return generic_transformers_1.transformBooleanReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, prefix, options) {\n    const args = ['FT.SUGGET', key, prefix];\n    if (options?.FUZZY) {\n        args.push('FUZZY');\n    }\n    if (options?.MAX) {\n        args.push('MAX', options.MAX.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst SUGGET_1 = require(\"./SUGGET\");\nvar SUGGET_2 = require(\"./SUGGET\");\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return SUGGET_2.IS_READ_ONLY; } });\nfunction transformArguments(key, prefix, options) {\n    return [\n        ...(0, SUGGET_1.transformArguments)(key, prefix, options),\n        'WITHPAYLOADS'\n    ];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    if (rawReply === null)\n        return null;\n    const transformedReply = [];\n    for (let i = 0; i < rawReply.length; i += 2) {\n        transformedReply.push({\n            suggestion: rawReply[i],\n            payload: rawReply[i + 1]\n        });\n    }\n    return transformedReply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst SUGGET_1 = require(\"./SUGGET\");\nvar SUGGET_2 = require(\"./SUGGET\");\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return SUGGET_2.IS_READ_ONLY; } });\nfunction transformArguments(key, prefix, options) {\n    return [\n        ...(0, SUGGET_1.transformArguments)(key, prefix, options),\n        'WITHSCORES',\n        'WITHPAYLOADS'\n    ];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    if (rawReply === null)\n        return null;\n    const transformedReply = [];\n    for (let i = 0; i < rawReply.length; i += 3) {\n        transformedReply.push({\n            suggestion: rawReply[i],\n            score: Number(rawReply[i + 1]),\n            payload: rawReply[i + 2]\n        });\n    }\n    return transformedReply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst SUGGET_1 = require(\"./SUGGET\");\nvar SUGGET_2 = require(\"./SUGGET\");\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return SUGGET_2.IS_READ_ONLY; } });\nfunction transformArguments(key, prefix, options) {\n    return [\n        ...(0, SUGGET_1.transformArguments)(key, prefix, options),\n        'WITHSCORES'\n    ];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    if (rawReply === null)\n        return null;\n    const transformedReply = [];\n    for (let i = 0; i < rawReply.length; i += 2) {\n        transformedReply.push({\n            suggestion: rawReply[i],\n            score: Number(rawReply[i + 1])\n        });\n    }\n    return transformedReply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['FT.SUGLEN', key];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(index) {\n    return ['FT.SYNDUMP', index];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nfunction transformArguments(index, groupId, terms, options) {\n    const args = ['FT.SYNUPDATE', index, groupId];\n    if (options?.SKIPINITIALSCAN) {\n        args.push('SKIPINITIALSCAN');\n    }\n    return (0, generic_transformers_1.pushVerdictArguments)(args, terms);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = void 0;\nfunction transformArguments(index, fieldName) {\n    return ['FT.TAGVALS', index, fieldName];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformProfile = exports.pushSearchOptions = exports.pushParamsArgs = exports.pushSchema = exports.SCHEMA_GEO_SHAPE_COORD_SYSTEM = exports.VectorAlgorithms = exports.SchemaTextFieldPhonetics = exports.SchemaFieldTypes = exports.pushArgumentsWithLength = exports.pushSortByArguments = exports.pushSortByProperty = exports.RedisSearchLanguages = void 0;\nconst _LIST = require(\"./_LIST\");\nconst ALTER = require(\"./ALTER\");\nconst AGGREGATE_WITHCURSOR = require(\"./AGGREGATE_WITHCURSOR\");\nconst AGGREGATE = require(\"./AGGREGATE\");\nconst ALIASADD = require(\"./ALIASADD\");\nconst ALIASDEL = require(\"./ALIASDEL\");\nconst ALIASUPDATE = require(\"./ALIASUPDATE\");\nconst CONFIG_GET = require(\"./CONFIG_GET\");\nconst CONFIG_SET = require(\"./CONFIG_SET\");\nconst CREATE = require(\"./CREATE\");\nconst CURSOR_DEL = require(\"./CURSOR_DEL\");\nconst CURSOR_READ = require(\"./CURSOR_READ\");\nconst DICTADD = require(\"./DICTADD\");\nconst DICTDEL = require(\"./DICTDEL\");\nconst DICTDUMP = require(\"./DICTDUMP\");\nconst DROPINDEX = require(\"./DROPINDEX\");\nconst EXPLAIN = require(\"./EXPLAIN\");\nconst EXPLAINCLI = require(\"./EXPLAINCLI\");\nconst INFO = require(\"./INFO\");\nconst PROFILESEARCH = require(\"./PROFILE_SEARCH\");\nconst PROFILEAGGREGATE = require(\"./PROFILE_AGGREGATE\");\nconst SEARCH = require(\"./SEARCH\");\nconst SEARCH_NOCONTENT = require(\"./SEARCH_NOCONTENT\");\nconst SPELLCHECK = require(\"./SPELLCHECK\");\nconst SUGADD = require(\"./SUGADD\");\nconst SUGDEL = require(\"./SUGDEL\");\nconst SUGGET_WITHPAYLOADS = require(\"./SUGGET_WITHPAYLOADS\");\nconst SUGGET_WITHSCORES_WITHPAYLOADS = require(\"./SUGGET_WITHSCORES_WITHPAYLOADS\");\nconst SUGGET_WITHSCORES = require(\"./SUGGET_WITHSCORES\");\nconst SUGGET = require(\"./SUGGET\");\nconst SUGLEN = require(\"./SUGLEN\");\nconst SYNDUMP = require(\"./SYNDUMP\");\nconst SYNUPDATE = require(\"./SYNUPDATE\");\nconst TAGVALS = require(\"./TAGVALS\");\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.default = {\n    _LIST,\n    _list: _LIST,\n    ALTER,\n    alter: ALTER,\n    AGGREGATE_WITHCURSOR,\n    aggregateWithCursor: AGGREGATE_WITHCURSOR,\n    AGGREGATE,\n    aggregate: AGGREGATE,\n    ALIASADD,\n    aliasAdd: ALIASADD,\n    ALIASDEL,\n    aliasDel: ALIASDEL,\n    ALIASUPDATE,\n    aliasUpdate: ALIASUPDATE,\n    CONFIG_GET,\n    configGet: CONFIG_GET,\n    CONFIG_SET,\n    configSet: CONFIG_SET,\n    CREATE,\n    create: CREATE,\n    CURSOR_DEL,\n    cursorDel: CURSOR_DEL,\n    CURSOR_READ,\n    cursorRead: CURSOR_READ,\n    DICTADD,\n    dictAdd: DICTADD,\n    DICTDEL,\n    dictDel: DICTDEL,\n    DICTDUMP,\n    dictDump: DICTDUMP,\n    DROPINDEX,\n    dropIndex: DROPINDEX,\n    EXPLAIN,\n    explain: EXPLAIN,\n    EXPLAINCLI,\n    explainCli: EXPLAINCLI,\n    INFO,\n    info: INFO,\n    PROFILESEARCH,\n    profileSearch: PROFILESEARCH,\n    PROFILEAGGREGATE,\n    profileAggregate: PROFILEAGGREGATE,\n    SEARCH,\n    search: SEARCH,\n    SEARCH_NOCONTENT,\n    searchNoContent: SEARCH_NOCONTENT,\n    SPELLCHECK,\n    spellCheck: SPELLCHECK,\n    SUGADD,\n    sugAdd: SUGADD,\n    SUGDEL,\n    sugDel: SUGDEL,\n    SUGGET_WITHPAYLOADS,\n    sugGetWithPayloads: SUGGET_WITHPAYLOADS,\n    SUGGET_WITHSCORES_WITHPAYLOADS,\n    sugGetWithScoresWithPayloads: SUGGET_WITHSCORES_WITHPAYLOADS,\n    SUGGET_WITHSCORES,\n    sugGetWithScores: SUGGET_WITHSCORES,\n    SUGGET,\n    sugGet: SUGGET,\n    SUGLEN,\n    sugLen: SUGLEN,\n    SYNDUMP,\n    synDump: SYNDUMP,\n    SYNUPDATE,\n    synUpdate: SYNUPDATE,\n    TAGVALS,\n    tagVals: TAGVALS\n};\nvar RedisSearchLanguages;\n(function (RedisSearchLanguages) {\n    RedisSearchLanguages[\"ARABIC\"] = \"Arabic\";\n    RedisSearchLanguages[\"BASQUE\"] = \"Basque\";\n    RedisSearchLanguages[\"CATALANA\"] = \"Catalan\";\n    RedisSearchLanguages[\"DANISH\"] = \"Danish\";\n    RedisSearchLanguages[\"DUTCH\"] = \"Dutch\";\n    RedisSearchLanguages[\"ENGLISH\"] = \"English\";\n    RedisSearchLanguages[\"FINNISH\"] = \"Finnish\";\n    RedisSearchLanguages[\"FRENCH\"] = \"French\";\n    RedisSearchLanguages[\"GERMAN\"] = \"German\";\n    RedisSearchLanguages[\"GREEK\"] = \"Greek\";\n    RedisSearchLanguages[\"HUNGARIAN\"] = \"Hungarian\";\n    RedisSearchLanguages[\"INDONESAIN\"] = \"Indonesian\";\n    RedisSearchLanguages[\"IRISH\"] = \"Irish\";\n    RedisSearchLanguages[\"ITALIAN\"] = \"Italian\";\n    RedisSearchLanguages[\"LITHUANIAN\"] = \"Lithuanian\";\n    RedisSearchLanguages[\"NEPALI\"] = \"Nepali\";\n    RedisSearchLanguages[\"NORWEIGAN\"] = \"Norwegian\";\n    RedisSearchLanguages[\"PORTUGUESE\"] = \"Portuguese\";\n    RedisSearchLanguages[\"ROMANIAN\"] = \"Romanian\";\n    RedisSearchLanguages[\"RUSSIAN\"] = \"Russian\";\n    RedisSearchLanguages[\"SPANISH\"] = \"Spanish\";\n    RedisSearchLanguages[\"SWEDISH\"] = \"Swedish\";\n    RedisSearchLanguages[\"TAMIL\"] = \"Tamil\";\n    RedisSearchLanguages[\"TURKISH\"] = \"Turkish\";\n    RedisSearchLanguages[\"CHINESE\"] = \"Chinese\";\n})(RedisSearchLanguages || (exports.RedisSearchLanguages = RedisSearchLanguages = {}));\nfunction pushSortByProperty(args, sortBy) {\n    if (typeof sortBy === 'string') {\n        args.push(sortBy);\n    }\n    else {\n        args.push(sortBy.BY);\n        if (sortBy.DIRECTION) {\n            args.push(sortBy.DIRECTION);\n        }\n    }\n}\nexports.pushSortByProperty = pushSortByProperty;\nfunction pushSortByArguments(args, name, sortBy) {\n    const lengthBefore = args.push(name, '' // will be overwritten\n    );\n    if (Array.isArray(sortBy)) {\n        for (const field of sortBy) {\n            pushSortByProperty(args, field);\n        }\n    }\n    else {\n        pushSortByProperty(args, sortBy);\n    }\n    args[lengthBefore - 1] = (args.length - lengthBefore).toString();\n    return args;\n}\nexports.pushSortByArguments = pushSortByArguments;\nfunction pushArgumentsWithLength(args, fn) {\n    const lengthIndex = args.push('') - 1;\n    fn(args);\n    args[lengthIndex] = (args.length - lengthIndex - 1).toString();\n    return args;\n}\nexports.pushArgumentsWithLength = pushArgumentsWithLength;\nvar SchemaFieldTypes;\n(function (SchemaFieldTypes) {\n    SchemaFieldTypes[\"TEXT\"] = \"TEXT\";\n    SchemaFieldTypes[\"NUMERIC\"] = \"NUMERIC\";\n    SchemaFieldTypes[\"GEO\"] = \"GEO\";\n    SchemaFieldTypes[\"TAG\"] = \"TAG\";\n    SchemaFieldTypes[\"VECTOR\"] = \"VECTOR\";\n    SchemaFieldTypes[\"GEOSHAPE\"] = \"GEOSHAPE\";\n})(SchemaFieldTypes || (exports.SchemaFieldTypes = SchemaFieldTypes = {}));\nfunction pushCommonFieldArguments(args, fieldOptions) {\n    if (fieldOptions.SORTABLE) {\n        args.push('SORTABLE');\n        if (fieldOptions.SORTABLE === 'UNF') {\n            args.push('UNF');\n        }\n    }\n    if (fieldOptions.NOINDEX) {\n        args.push('NOINDEX');\n    }\n}\nvar SchemaTextFieldPhonetics;\n(function (SchemaTextFieldPhonetics) {\n    SchemaTextFieldPhonetics[\"DM_EN\"] = \"dm:en\";\n    SchemaTextFieldPhonetics[\"DM_FR\"] = \"dm:fr\";\n    SchemaTextFieldPhonetics[\"FM_PT\"] = \"dm:pt\";\n    SchemaTextFieldPhonetics[\"DM_ES\"] = \"dm:es\";\n})(SchemaTextFieldPhonetics || (exports.SchemaTextFieldPhonetics = SchemaTextFieldPhonetics = {}));\nvar VectorAlgorithms;\n(function (VectorAlgorithms) {\n    VectorAlgorithms[\"FLAT\"] = \"FLAT\";\n    VectorAlgorithms[\"HNSW\"] = \"HNSW\";\n})(VectorAlgorithms || (exports.VectorAlgorithms = VectorAlgorithms = {}));\nexports.SCHEMA_GEO_SHAPE_COORD_SYSTEM = {\n    SPHERICAL: 'SPHERICAL',\n    FLAT: 'FLAT'\n};\nfunction pushSchema(args, schema) {\n    for (const [field, fieldOptions] of Object.entries(schema)) {\n        args.push(field);\n        if (typeof fieldOptions === 'string') {\n            args.push(fieldOptions);\n            continue;\n        }\n        if (fieldOptions.AS) {\n            args.push('AS', fieldOptions.AS);\n        }\n        args.push(fieldOptions.type);\n        switch (fieldOptions.type) {\n            case SchemaFieldTypes.TEXT:\n                if (fieldOptions.NOSTEM) {\n                    args.push('NOSTEM');\n                }\n                if (fieldOptions.WEIGHT) {\n                    args.push('WEIGHT', fieldOptions.WEIGHT.toString());\n                }\n                if (fieldOptions.PHONETIC) {\n                    args.push('PHONETIC', fieldOptions.PHONETIC);\n                }\n                if (fieldOptions.WITHSUFFIXTRIE) {\n                    args.push('WITHSUFFIXTRIE');\n                }\n                pushCommonFieldArguments(args, fieldOptions);\n                if (fieldOptions.INDEXEMPTY) {\n                    args.push('INDEXEMPTY');\n                }\n                break;\n            case SchemaFieldTypes.NUMERIC:\n            case SchemaFieldTypes.GEO:\n                pushCommonFieldArguments(args, fieldOptions);\n                break;\n            case SchemaFieldTypes.TAG:\n                if (fieldOptions.SEPARATOR) {\n                    args.push('SEPARATOR', fieldOptions.SEPARATOR);\n                }\n                if (fieldOptions.CASESENSITIVE) {\n                    args.push('CASESENSITIVE');\n                }\n                if (fieldOptions.WITHSUFFIXTRIE) {\n                    args.push('WITHSUFFIXTRIE');\n                }\n                pushCommonFieldArguments(args, fieldOptions);\n                if (fieldOptions.INDEXEMPTY) {\n                    args.push('INDEXEMPTY');\n                }\n                break;\n            case SchemaFieldTypes.VECTOR:\n                args.push(fieldOptions.ALGORITHM);\n                pushArgumentsWithLength(args, () => {\n                    args.push('TYPE', fieldOptions.TYPE, 'DIM', fieldOptions.DIM.toString(), 'DISTANCE_METRIC', fieldOptions.DISTANCE_METRIC);\n                    if (fieldOptions.INITIAL_CAP) {\n                        args.push('INITIAL_CAP', fieldOptions.INITIAL_CAP.toString());\n                    }\n                    switch (fieldOptions.ALGORITHM) {\n                        case VectorAlgorithms.FLAT:\n                            if (fieldOptions.BLOCK_SIZE) {\n                                args.push('BLOCK_SIZE', fieldOptions.BLOCK_SIZE.toString());\n                            }\n                            break;\n                        case VectorAlgorithms.HNSW:\n                            if (fieldOptions.M) {\n                                args.push('M', fieldOptions.M.toString());\n                            }\n                            if (fieldOptions.EF_CONSTRUCTION) {\n                                args.push('EF_CONSTRUCTION', fieldOptions.EF_CONSTRUCTION.toString());\n                            }\n                            if (fieldOptions.EF_RUNTIME) {\n                                args.push('EF_RUNTIME', fieldOptions.EF_RUNTIME.toString());\n                            }\n                            break;\n                    }\n                });\n                break;\n            case SchemaFieldTypes.GEOSHAPE:\n                if (fieldOptions.COORD_SYSTEM !== undefined) {\n                    args.push('COORD_SYSTEM', fieldOptions.COORD_SYSTEM);\n                }\n                pushCommonFieldArguments(args, fieldOptions);\n                break;\n        }\n        if (fieldOptions.INDEXMISSING) {\n            args.push('INDEXMISSING');\n        }\n    }\n}\nexports.pushSchema = pushSchema;\nfunction pushParamsArgs(args, params) {\n    if (params) {\n        const enrties = Object.entries(params);\n        args.push('PARAMS', (enrties.length * 2).toString());\n        for (const [key, value] of enrties) {\n            args.push(key, typeof value === 'number' ? value.toString() : value);\n        }\n    }\n    return args;\n}\nexports.pushParamsArgs = pushParamsArgs;\nfunction pushSearchOptions(args, options) {\n    if (options?.VERBATIM) {\n        args.push('VERBATIM');\n    }\n    if (options?.NOSTOPWORDS) {\n        args.push('NOSTOPWORDS');\n    }\n    // if (options?.WITHSCORES) {\n    //     args.push('WITHSCORES');\n    // }\n    // if (options?.WITHPAYLOADS) {\n    //     args.push('WITHPAYLOADS');\n    // }\n    (0, generic_transformers_1.pushOptionalVerdictArgument)(args, 'INKEYS', options?.INKEYS);\n    (0, generic_transformers_1.pushOptionalVerdictArgument)(args, 'INFIELDS', options?.INFIELDS);\n    (0, generic_transformers_1.pushOptionalVerdictArgument)(args, 'RETURN', options?.RETURN);\n    if (options?.SUMMARIZE) {\n        args.push('SUMMARIZE');\n        if (typeof options.SUMMARIZE === 'object') {\n            if (options.SUMMARIZE.FIELDS) {\n                args.push('FIELDS');\n                (0, generic_transformers_1.pushVerdictArgument)(args, options.SUMMARIZE.FIELDS);\n            }\n            if (options.SUMMARIZE.FRAGS) {\n                args.push('FRAGS', options.SUMMARIZE.FRAGS.toString());\n            }\n            if (options.SUMMARIZE.LEN) {\n                args.push('LEN', options.SUMMARIZE.LEN.toString());\n            }\n            if (options.SUMMARIZE.SEPARATOR) {\n                args.push('SEPARATOR', options.SUMMARIZE.SEPARATOR);\n            }\n        }\n    }\n    if (options?.HIGHLIGHT) {\n        args.push('HIGHLIGHT');\n        if (typeof options.HIGHLIGHT === 'object') {\n            if (options.HIGHLIGHT.FIELDS) {\n                args.push('FIELDS');\n                (0, generic_transformers_1.pushVerdictArgument)(args, options.HIGHLIGHT.FIELDS);\n            }\n            if (options.HIGHLIGHT.TAGS) {\n                args.push('TAGS', options.HIGHLIGHT.TAGS.open, options.HIGHLIGHT.TAGS.close);\n            }\n        }\n    }\n    if (options?.SLOP) {\n        args.push('SLOP', options.SLOP.toString());\n    }\n    if (options?.INORDER) {\n        args.push('INORDER');\n    }\n    if (options?.LANGUAGE) {\n        args.push('LANGUAGE', options.LANGUAGE);\n    }\n    if (options?.EXPANDER) {\n        args.push('EXPANDER', options.EXPANDER);\n    }\n    if (options?.SCORER) {\n        args.push('SCORER', options.SCORER);\n    }\n    // if (options?.EXPLAINSCORE) {\n    //     args.push('EXPLAINSCORE');\n    // }\n    // if (options?.PAYLOAD) {\n    //     args.push('PAYLOAD', options.PAYLOAD);\n    // }\n    if (options?.SORTBY) {\n        args.push('SORTBY');\n        pushSortByProperty(args, options.SORTBY);\n    }\n    // if (options?.MSORTBY) {\n    //     pushSortByArguments(args, 'MSORTBY', options.MSORTBY);\n    // }\n    if (options?.LIMIT) {\n        args.push('LIMIT', options.LIMIT.from.toString(), options.LIMIT.size.toString());\n    }\n    if (options?.PARAMS) {\n        pushParamsArgs(args, options.PARAMS);\n    }\n    if (options?.DIALECT) {\n        args.push('DIALECT', options.DIALECT.toString());\n    }\n    if (options?.RETURN?.length === 0) {\n        args.preserve = true;\n    }\n    if (options?.TIMEOUT !== undefined) {\n        args.push('TIMEOUT', options.TIMEOUT.toString());\n    }\n    return args;\n}\nexports.pushSearchOptions = pushSearchOptions;\nfunction transformProfile(reply) {\n    return {\n        totalProfileTime: reply[0][1],\n        parsingTime: reply[1][1],\n        pipelineCreationTime: reply[2][1],\n        iteratorsProfile: transformIterators(reply[3][1])\n    };\n}\nexports.transformProfile = transformProfile;\nfunction transformIterators(IteratorsProfile) {\n    var res = {};\n    for (let i = 0; i < IteratorsProfile.length; i += 2) {\n        const value = IteratorsProfile[i + 1];\n        switch (IteratorsProfile[i]) {\n            case 'Type':\n                res.type = value;\n                break;\n            case 'Counter':\n                res.counter = value;\n                break;\n            case 'Time':\n                res.time = value;\n                break;\n            case 'Query type':\n                res.queryType = value;\n                break;\n            case 'Child iterators':\n                res.childIterators = value.map(transformChildIterators);\n                break;\n        }\n    }\n    return res;\n}\nfunction transformChildIterators(IteratorsProfile) {\n    var res = {};\n    for (let i = 1; i < IteratorsProfile.length; i += 2) {\n        const value = IteratorsProfile[i + 1];\n        switch (IteratorsProfile[i]) {\n            case 'Type':\n                res.type = value;\n                break;\n            case 'Counter':\n                res.counter = value;\n                break;\n            case 'Time':\n                res.time = value;\n                break;\n            case 'Size':\n                res.size = value;\n                break;\n            case 'Term':\n                res.term = value;\n                break;\n            case 'Child iterators':\n                res.childIterators = value.map(transformChildIterators);\n                break;\n        }\n    }\n    return res;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AggregateSteps = exports.AggregateGroupByReducers = exports.VectorAlgorithms = exports.SchemaTextFieldPhonetics = exports.SchemaFieldTypes = exports.RedisSearchLanguages = exports.default = void 0;\nvar commands_1 = require(\"./commands\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return commands_1.default; } });\nvar commands_2 = require(\"./commands\");\nObject.defineProperty(exports, \"RedisSearchLanguages\", { enumerable: true, get: function () { return commands_2.RedisSearchLanguages; } });\nObject.defineProperty(exports, \"SchemaFieldTypes\", { enumerable: true, get: function () { return commands_2.SchemaFieldTypes; } });\nObject.defineProperty(exports, \"SchemaTextFieldPhonetics\", { enumerable: true, get: function () { return commands_2.SchemaTextFieldPhonetics; } });\nObject.defineProperty(exports, \"VectorAlgorithms\", { enumerable: true, get: function () { return commands_2.VectorAlgorithms; } });\nvar AGGREGATE_1 = require(\"./commands/AGGREGATE\");\nObject.defineProperty(exports, \"AggregateGroupByReducers\", { enumerable: true, get: function () { return AGGREGATE_1.AggregateGroupByReducers; } });\nObject.defineProperty(exports, \"AggregateSteps\", { enumerable: true, get: function () { return AGGREGATE_1.AggregateSteps; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, timestamp, value, options) {\n    const args = [\n        'TS.ADD',\n        key,\n        (0, _1.transformTimestampArgument)(timestamp),\n        value.toString()\n    ];\n    (0, _1.pushRetentionArgument)(args, options?.RETENTION);\n    (0, _1.pushEncodingArgument)(args, options?.ENCODING);\n    (0, _1.pushChunkSizeArgument)(args, options?.CHUNK_SIZE);\n    if (options?.ON_DUPLICATE) {\n        args.push('ON_DUPLICATE', options.ON_DUPLICATE);\n    }\n    (0, _1.pushLabelsArgument)(args, options?.LABELS);\n    (0, _1.pushIgnoreArgument)(args, options?.IGNORE);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, options) {\n    const args = ['TS.ALTER', key];\n    (0, _1.pushRetentionArgument)(args, options?.RETENTION);\n    (0, _1.pushChunkSizeArgument)(args, options?.CHUNK_SIZE);\n    (0, _1.pushDuplicatePolicy)(args, options?.DUPLICATE_POLICY);\n    (0, _1.pushLabelsArgument)(args, options?.LABELS);\n    (0, _1.pushIgnoreArgument)(args, options?.IGNORE);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, options) {\n    const args = ['TS.CREATE', key];\n    (0, _1.pushRetentionArgument)(args, options?.RETENTION);\n    (0, _1.pushEncodingArgument)(args, options?.ENCODING);\n    (0, _1.pushChunkSizeArgument)(args, options?.CHUNK_SIZE);\n    (0, _1.pushDuplicatePolicy)(args, options?.DUPLICATE_POLICY);\n    (0, _1.pushLabelsArgument)(args, options?.LABELS);\n    (0, _1.pushIgnoreArgument)(args, options?.IGNORE);\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(sourceKey, destinationKey, aggregationType, bucketDuration, alignTimestamp) {\n    const args = [\n        'TS.CREATERULE',\n        sourceKey,\n        destinationKey,\n        'AGGREGATION',\n        aggregationType,\n        bucketDuration.toString()\n    ];\n    if (alignTimestamp) {\n        args.push(alignTimestamp.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, value, options) {\n    return (0, _1.transformIncrDecrArguments)('TS.DECRBY', key, value, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRTS_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRTS_KEY_INDEX = 1;\nfunction transformArguments(key, fromTimestamp, toTimestamp) {\n    return [\n        'TS.DEL',\n        key,\n        (0, _1.transformTimestampArgument)(fromTimestamp),\n        (0, _1.transformTimestampArgument)(toTimestamp)\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(sourceKey, destinationKey) {\n    return [\n        'TS.DELETERULE',\n        sourceKey,\n        destinationKey\n    ];\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, options) {\n    return (0, _1.pushLatestArgument)(['TS.GET', key], options?.LATEST);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    if (reply.length === 0)\n        return null;\n    return (0, _1.transformSampleReply)(reply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(key, value, options) {\n    return (0, _1.transformIncrDecrArguments)('TS.INCRBY', key, value, options);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key) {\n    return ['TS.INFO', key];\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return {\n        totalSamples: reply[1],\n        memoryUsage: reply[3],\n        firstTimestamp: reply[5],\n        lastTimestamp: reply[7],\n        retentionTime: reply[9],\n        chunkCount: reply[11],\n        chunkSize: reply[13],\n        chunkType: reply[15],\n        duplicatePolicy: reply[17],\n        labels: reply[19].map(([name, value]) => ({\n            name,\n            value\n        })),\n        sourceKey: reply[21],\n        rules: reply[23].map(([key, timeBucket, aggregationType]) => ({\n            key,\n            timeBucket,\n            aggregationType\n        }))\n    };\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.FIRST_KEY_INDEX = exports.IS_READ_ONLY = void 0;\nconst INFO_1 = require(\"./INFO\");\nvar INFO_2 = require(\"./INFO\");\nObject.defineProperty(exports, \"IS_READ_ONLY\", { enumerable: true, get: function () { return INFO_2.IS_READ_ONLY; } });\nObject.defineProperty(exports, \"FIRST_KEY_INDEX\", { enumerable: true, get: function () { return INFO_2.FIRST_KEY_INDEX; } });\nfunction transformArguments(key) {\n    const args = (0, INFO_1.transformArguments)(key);\n    args.push('DEBUG');\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(rawReply) {\n    const reply = (0, INFO_1.transformReply)(rawReply);\n    reply.keySelfName = rawReply[25];\n    reply.chunks = rawReply[27].map(chunk => ({\n        startTimestamp: chunk[1],\n        endTimestamp: chunk[3],\n        samples: chunk[5],\n        size: chunk[7],\n        bytesPerSample: chunk[9]\n    }));\n    return reply;\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nfunction transformArguments(toAdd) {\n    const args = ['TS.MADD'];\n    for (const { key, timestamp, value } of toAdd) {\n        args.push(key, (0, _1.transformTimestampArgument)(timestamp), value.toString());\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(filter, options) {\n    const args = (0, _1.pushLatestArgument)(['TS.MGET'], options?.LATEST);\n    return (0, _1.pushFilterArgument)(args, filter);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return reply.map(([key, _, sample]) => ({\n        key,\n        sample: (0, _1.transformSampleReply)(sample)\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(filter, options) {\n    const args = (0, _1.pushWithLabelsArgument)(['TS.MGET'], options?.SELECTED_LABELS);\n    return (0, _1.pushFilterArgument)(args, filter);\n}\nexports.transformArguments = transformArguments;\n;\nfunction transformReply(reply) {\n    return reply.map(([key, labels, sample]) => ({\n        key,\n        labels: (0, _1.transformLablesReply)(labels),\n        sample: (0, _1.transformSampleReply)(sample)\n    }));\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(filter) {\n    return (0, generic_transformers_1.pushVerdictArguments)(['TS.QUERYINDEX'], filter);\n}\nexports.transformArguments = transformArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fromTimestamp, toTimestamp, options) {\n    return (0, _1.pushRangeArguments)(['TS.RANGE', key], fromTimestamp, toTimestamp, options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return (0, _1.transformRangeReply)(reply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = exports.FIRST_KEY_INDEX = void 0;\nconst _1 = require(\".\");\nexports.FIRST_KEY_INDEX = 1;\nexports.IS_READ_ONLY = true;\nfunction transformArguments(key, fromTimestamp, toTimestamp, options) {\n    return (0, _1.pushRangeArguments)(['TS.REVRANGE', key], fromTimestamp, toTimestamp, options);\n}\nexports.transformArguments = transformArguments;\nfunction transformReply(reply) {\n    return (0, _1.transformRangeReply)(reply);\n}\nexports.transformReply = transformReply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(fromTimestamp, toTimestamp, filters, options) {\n    return (0, _1.pushMRangeArguments)(['TS.MRANGE'], fromTimestamp, toTimestamp, filters, options);\n}\nexports.transformArguments = transformArguments;\nvar _2 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _2.transformMRangeReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(fromTimestamp, toTimestamp, filters, options) {\n    return (0, _1.pushMRangeWithLabelsArguments)(['TS.MRANGE'], fromTimestamp, toTimestamp, filters, options);\n}\nexports.transformArguments = transformArguments;\nvar _2 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _2.transformMRangeWithLabelsReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(fromTimestamp, toTimestamp, filters, options) {\n    return (0, _1.pushMRangeArguments)(['TS.MREVRANGE'], fromTimestamp, toTimestamp, filters, options);\n}\nexports.transformArguments = transformArguments;\nvar _2 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _2.transformMRangeReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = exports.IS_READ_ONLY = void 0;\nconst _1 = require(\".\");\nexports.IS_READ_ONLY = true;\nfunction transformArguments(fromTimestamp, toTimestamp, filters, options) {\n    return (0, _1.pushMRangeWithLabelsArguments)(['TS.MREVRANGE'], fromTimestamp, toTimestamp, filters, options);\n}\nexports.transformArguments = transformArguments;\nvar _2 = require(\".\");\nObject.defineProperty(exports, \"transformReply\", { enumerable: true, get: function () { return _2.transformMRangeWithLabelsReply; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pushLatestArgument = exports.transformMRangeWithLabelsReply = exports.transformMRangeReply = exports.transformRangeReply = exports.pushMRangeWithLabelsArguments = exports.pushWithLabelsArgument = exports.pushMRangeArguments = exports.pushFilterArgument = exports.pushMRangeGroupByArguments = exports.pushRangeArguments = exports.TimeSeriesBucketTimestamp = exports.transformSampleReply = exports.transformIncrDecrArguments = exports.pushLabelsArgument = exports.transformLablesReply = exports.pushDuplicatePolicy = exports.pushChunkSizeArgument = exports.pushEncodingArgument = exports.TimeSeriesEncoding = exports.pushRetentionArgument = exports.pushIgnoreArgument = exports.transformTimestampArgument = exports.TimeSeriesReducers = exports.TimeSeriesDuplicatePolicies = exports.TimeSeriesAggregationType = void 0;\nconst ADD = require(\"./ADD\");\nconst ALTER = require(\"./ALTER\");\nconst CREATE = require(\"./CREATE\");\nconst CREATERULE = require(\"./CREATERULE\");\nconst DECRBY = require(\"./DECRBY\");\nconst DEL = require(\"./DEL\");\nconst DELETERULE = require(\"./DELETERULE\");\nconst GET = require(\"./GET\");\nconst INCRBY = require(\"./INCRBY\");\nconst INFO_DEBUG = require(\"./INFO_DEBUG\");\nconst INFO = require(\"./INFO\");\nconst MADD = require(\"./MADD\");\nconst MGET = require(\"./MGET\");\nconst MGET_WITHLABELS = require(\"./MGET_WITHLABELS\");\nconst QUERYINDEX = require(\"./QUERYINDEX\");\nconst RANGE = require(\"./RANGE\");\nconst REVRANGE = require(\"./REVRANGE\");\nconst MRANGE = require(\"./MRANGE\");\nconst MRANGE_WITHLABELS = require(\"./MRANGE_WITHLABELS\");\nconst MREVRANGE = require(\"./MREVRANGE\");\nconst MREVRANGE_WITHLABELS = require(\"./MREVRANGE_WITHLABELS\");\nconst generic_transformers_1 = require(\"@redis/client/dist/lib/commands/generic-transformers\");\nexports.default = {\n    ADD,\n    add: ADD,\n    ALTER,\n    alter: ALTER,\n    CREATE,\n    create: CREATE,\n    CREATERULE,\n    createRule: CREATERULE,\n    DECRBY,\n    decrBy: DECRBY,\n    DEL,\n    del: DEL,\n    DELETERULE,\n    deleteRule: DELETERULE,\n    GET,\n    get: GET,\n    INCRBY,\n    incrBy: INCRBY,\n    INFO_DEBUG,\n    infoDebug: INFO_DEBUG,\n    INFO,\n    info: INFO,\n    MADD,\n    mAdd: MADD,\n    MGET,\n    mGet: MGET,\n    MGET_WITHLABELS,\n    mGetWithLabels: MGET_WITHLABELS,\n    QUERYINDEX,\n    queryIndex: QUERYINDEX,\n    RANGE,\n    range: RANGE,\n    REVRANGE,\n    revRange: REVRANGE,\n    MRANGE,\n    mRange: MRANGE,\n    MRANGE_WITHLABELS,\n    mRangeWithLabels: MRANGE_WITHLABELS,\n    MREVRANGE,\n    mRevRange: MREVRANGE,\n    MREVRANGE_WITHLABELS,\n    mRevRangeWithLabels: MREVRANGE_WITHLABELS\n};\nvar TimeSeriesAggregationType;\n(function (TimeSeriesAggregationType) {\n    TimeSeriesAggregationType[\"AVG\"] = \"AVG\";\n    // @deprecated\n    TimeSeriesAggregationType[\"AVERAGE\"] = \"AVG\";\n    TimeSeriesAggregationType[\"FIRST\"] = \"FIRST\";\n    TimeSeriesAggregationType[\"LAST\"] = \"LAST\";\n    TimeSeriesAggregationType[\"MIN\"] = \"MIN\";\n    // @deprecated\n    TimeSeriesAggregationType[\"MINIMUM\"] = \"MIN\";\n    TimeSeriesAggregationType[\"MAX\"] = \"MAX\";\n    // @deprecated\n    TimeSeriesAggregationType[\"MAXIMUM\"] = \"MAX\";\n    TimeSeriesAggregationType[\"SUM\"] = \"SUM\";\n    TimeSeriesAggregationType[\"RANGE\"] = \"RANGE\";\n    TimeSeriesAggregationType[\"COUNT\"] = \"COUNT\";\n    TimeSeriesAggregationType[\"STD_P\"] = \"STD.P\";\n    TimeSeriesAggregationType[\"STD_S\"] = \"STD.S\";\n    TimeSeriesAggregationType[\"VAR_P\"] = \"VAR.P\";\n    TimeSeriesAggregationType[\"VAR_S\"] = \"VAR.S\";\n    TimeSeriesAggregationType[\"TWA\"] = \"TWA\";\n})(TimeSeriesAggregationType || (exports.TimeSeriesAggregationType = TimeSeriesAggregationType = {}));\nvar TimeSeriesDuplicatePolicies;\n(function (TimeSeriesDuplicatePolicies) {\n    TimeSeriesDuplicatePolicies[\"BLOCK\"] = \"BLOCK\";\n    TimeSeriesDuplicatePolicies[\"FIRST\"] = \"FIRST\";\n    TimeSeriesDuplicatePolicies[\"LAST\"] = \"LAST\";\n    TimeSeriesDuplicatePolicies[\"MIN\"] = \"MIN\";\n    TimeSeriesDuplicatePolicies[\"MAX\"] = \"MAX\";\n    TimeSeriesDuplicatePolicies[\"SUM\"] = \"SUM\";\n})(TimeSeriesDuplicatePolicies || (exports.TimeSeriesDuplicatePolicies = TimeSeriesDuplicatePolicies = {}));\nvar TimeSeriesReducers;\n(function (TimeSeriesReducers) {\n    TimeSeriesReducers[\"AVG\"] = \"AVG\";\n    TimeSeriesReducers[\"SUM\"] = \"SUM\";\n    TimeSeriesReducers[\"MIN\"] = \"MIN\";\n    // @deprecated\n    TimeSeriesReducers[\"MINIMUM\"] = \"MIN\";\n    TimeSeriesReducers[\"MAX\"] = \"MAX\";\n    // @deprecated\n    TimeSeriesReducers[\"MAXIMUM\"] = \"MAX\";\n    TimeSeriesReducers[\"RANGE\"] = \"range\";\n    TimeSeriesReducers[\"COUNT\"] = \"COUNT\";\n    TimeSeriesReducers[\"STD_P\"] = \"STD.P\";\n    TimeSeriesReducers[\"STD_S\"] = \"STD.S\";\n    TimeSeriesReducers[\"VAR_P\"] = \"VAR.P\";\n    TimeSeriesReducers[\"VAR_S\"] = \"VAR.S\";\n})(TimeSeriesReducers || (exports.TimeSeriesReducers = TimeSeriesReducers = {}));\nfunction transformTimestampArgument(timestamp) {\n    if (typeof timestamp === 'string')\n        return timestamp;\n    return (typeof timestamp === 'number' ?\n        timestamp :\n        timestamp.getTime()).toString();\n}\nexports.transformTimestampArgument = transformTimestampArgument;\nfunction pushIgnoreArgument(args, ignore) {\n    if (ignore !== undefined) {\n        args.push('IGNORE', ignore.MAX_TIME_DIFF.toString(), ignore.MAX_VAL_DIFF.toString());\n    }\n}\nexports.pushIgnoreArgument = pushIgnoreArgument;\nfunction pushRetentionArgument(args, retention) {\n    if (retention !== undefined) {\n        args.push('RETENTION', retention.toString());\n    }\n    return args;\n}\nexports.pushRetentionArgument = pushRetentionArgument;\nvar TimeSeriesEncoding;\n(function (TimeSeriesEncoding) {\n    TimeSeriesEncoding[\"COMPRESSED\"] = \"COMPRESSED\";\n    TimeSeriesEncoding[\"UNCOMPRESSED\"] = \"UNCOMPRESSED\";\n})(TimeSeriesEncoding || (exports.TimeSeriesEncoding = TimeSeriesEncoding = {}));\nfunction pushEncodingArgument(args, encoding) {\n    if (encoding !== undefined) {\n        args.push('ENCODING', encoding);\n    }\n    return args;\n}\nexports.pushEncodingArgument = pushEncodingArgument;\nfunction pushChunkSizeArgument(args, chunkSize) {\n    if (chunkSize !== undefined) {\n        args.push('CHUNK_SIZE', chunkSize.toString());\n    }\n    return args;\n}\nexports.pushChunkSizeArgument = pushChunkSizeArgument;\nfunction pushDuplicatePolicy(args, duplicatePolicy) {\n    if (duplicatePolicy !== undefined) {\n        args.push('DUPLICATE_POLICY', duplicatePolicy);\n    }\n    return args;\n}\nexports.pushDuplicatePolicy = pushDuplicatePolicy;\nfunction transformLablesReply(reply) {\n    const labels = {};\n    for (const [key, value] of reply) {\n        labels[key] = value;\n    }\n    return labels;\n}\nexports.transformLablesReply = transformLablesReply;\nfunction pushLabelsArgument(args, labels) {\n    if (labels) {\n        args.push('LABELS');\n        for (const [label, value] of Object.entries(labels)) {\n            args.push(label, value);\n        }\n    }\n    return args;\n}\nexports.pushLabelsArgument = pushLabelsArgument;\nfunction transformIncrDecrArguments(command, key, value, options) {\n    const args = [\n        command,\n        key,\n        value.toString()\n    ];\n    if (options?.TIMESTAMP !== undefined && options?.TIMESTAMP !== null) {\n        args.push('TIMESTAMP', transformTimestampArgument(options.TIMESTAMP));\n    }\n    pushRetentionArgument(args, options?.RETENTION);\n    if (options?.UNCOMPRESSED) {\n        args.push('UNCOMPRESSED');\n    }\n    pushChunkSizeArgument(args, options?.CHUNK_SIZE);\n    pushLabelsArgument(args, options?.LABELS);\n    return args;\n}\nexports.transformIncrDecrArguments = transformIncrDecrArguments;\nfunction transformSampleReply(reply) {\n    return {\n        timestamp: reply[0],\n        value: Number(reply[1])\n    };\n}\nexports.transformSampleReply = transformSampleReply;\nvar TimeSeriesBucketTimestamp;\n(function (TimeSeriesBucketTimestamp) {\n    TimeSeriesBucketTimestamp[\"LOW\"] = \"-\";\n    TimeSeriesBucketTimestamp[\"HIGH\"] = \"+\";\n    TimeSeriesBucketTimestamp[\"MID\"] = \"~\";\n})(TimeSeriesBucketTimestamp || (exports.TimeSeriesBucketTimestamp = TimeSeriesBucketTimestamp = {}));\nfunction pushRangeArguments(args, fromTimestamp, toTimestamp, options) {\n    args.push(transformTimestampArgument(fromTimestamp), transformTimestampArgument(toTimestamp));\n    pushLatestArgument(args, options?.LATEST);\n    if (options?.FILTER_BY_TS) {\n        args.push('FILTER_BY_TS');\n        for (const ts of options.FILTER_BY_TS) {\n            args.push(transformTimestampArgument(ts));\n        }\n    }\n    if (options?.FILTER_BY_VALUE) {\n        args.push('FILTER_BY_VALUE', options.FILTER_BY_VALUE.min.toString(), options.FILTER_BY_VALUE.max.toString());\n    }\n    if (options?.COUNT) {\n        args.push('COUNT', options.COUNT.toString());\n    }\n    if (options?.ALIGN) {\n        args.push('ALIGN', transformTimestampArgument(options.ALIGN));\n    }\n    if (options?.AGGREGATION) {\n        args.push('AGGREGATION', options.AGGREGATION.type, transformTimestampArgument(options.AGGREGATION.timeBucket));\n        if (options.AGGREGATION.BUCKETTIMESTAMP) {\n            args.push('BUCKETTIMESTAMP', options.AGGREGATION.BUCKETTIMESTAMP);\n        }\n        if (options.AGGREGATION.EMPTY) {\n            args.push('EMPTY');\n        }\n    }\n    return args;\n}\nexports.pushRangeArguments = pushRangeArguments;\nfunction pushMRangeGroupByArguments(args, groupBy) {\n    if (groupBy) {\n        args.push('GROUPBY', groupBy.label, 'REDUCE', groupBy.reducer);\n    }\n    return args;\n}\nexports.pushMRangeGroupByArguments = pushMRangeGroupByArguments;\nfunction pushFilterArgument(args, filter) {\n    args.push('FILTER');\n    return (0, generic_transformers_1.pushVerdictArguments)(args, filter);\n}\nexports.pushFilterArgument = pushFilterArgument;\nfunction pushMRangeArguments(args, fromTimestamp, toTimestamp, filter, options) {\n    args = pushRangeArguments(args, fromTimestamp, toTimestamp, options);\n    args = pushFilterArgument(args, filter);\n    return pushMRangeGroupByArguments(args, options?.GROUPBY);\n}\nexports.pushMRangeArguments = pushMRangeArguments;\nfunction pushWithLabelsArgument(args, selectedLabels) {\n    if (!selectedLabels) {\n        args.push('WITHLABELS');\n    }\n    else {\n        args.push('SELECTED_LABELS');\n        args = (0, generic_transformers_1.pushVerdictArguments)(args, selectedLabels);\n    }\n    return args;\n}\nexports.pushWithLabelsArgument = pushWithLabelsArgument;\nfunction pushMRangeWithLabelsArguments(args, fromTimestamp, toTimestamp, filter, options) {\n    args = pushRangeArguments(args, fromTimestamp, toTimestamp, options);\n    args = pushWithLabelsArgument(args, options?.SELECTED_LABELS);\n    args = pushFilterArgument(args, filter);\n    return pushMRangeGroupByArguments(args, options?.GROUPBY);\n}\nexports.pushMRangeWithLabelsArguments = pushMRangeWithLabelsArguments;\nfunction transformRangeReply(reply) {\n    return reply.map(transformSampleReply);\n}\nexports.transformRangeReply = transformRangeReply;\nfunction transformMRangeReply(reply) {\n    const args = [];\n    for (const [key, _, sample] of reply) {\n        args.push({\n            key,\n            samples: sample.map(transformSampleReply)\n        });\n    }\n    return args;\n}\nexports.transformMRangeReply = transformMRangeReply;\nfunction transformMRangeWithLabelsReply(reply) {\n    const args = [];\n    for (const [key, labels, samples] of reply) {\n        args.push({\n            key,\n            labels: transformLablesReply(labels),\n            samples: samples.map(transformSampleReply)\n        });\n    }\n    return args;\n}\nexports.transformMRangeWithLabelsReply = transformMRangeWithLabelsReply;\nfunction pushLatestArgument(args, latest) {\n    if (latest) {\n        args.push('LATEST');\n    }\n    return args;\n}\nexports.pushLatestArgument = pushLatestArgument;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeSeriesBucketTimestamp = exports.TimeSeriesReducers = exports.TimeSeriesAggregationType = exports.TimeSeriesEncoding = exports.TimeSeriesDuplicatePolicies = exports.default = void 0;\nvar commands_1 = require(\"./commands\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return commands_1.default; } });\nvar commands_2 = require(\"./commands\");\nObject.defineProperty(exports, \"TimeSeriesDuplicatePolicies\", { enumerable: true, get: function () { return commands_2.TimeSeriesDuplicatePolicies; } });\nObject.defineProperty(exports, \"TimeSeriesEncoding\", { enumerable: true, get: function () { return commands_2.TimeSeriesEncoding; } });\nObject.defineProperty(exports, \"TimeSeriesAggregationType\", { enumerable: true, get: function () { return commands_2.TimeSeriesAggregationType; } });\nObject.defineProperty(exports, \"TimeSeriesReducers\", { enumerable: true, get: function () { return commands_2.TimeSeriesReducers; } });\nObject.defineProperty(exports, \"TimeSeriesBucketTimestamp\", { enumerable: true, get: function () { return commands_2.TimeSeriesBucketTimestamp; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createCluster = exports.createClient = void 0;\nconst client_1 = require(\"@redis/client\");\nconst bloom_1 = require(\"@redis/bloom\");\nconst graph_1 = require(\"@redis/graph\");\nconst json_1 = require(\"@redis/json\");\nconst search_1 = require(\"@redis/search\");\nconst time_series_1 = require(\"@redis/time-series\");\n__exportStar(require(\"@redis/client\"), exports);\n__exportStar(require(\"@redis/bloom\"), exports);\n__exportStar(require(\"@redis/graph\"), exports);\n__exportStar(require(\"@redis/json\"), exports);\n__exportStar(require(\"@redis/search\"), exports);\n__exportStar(require(\"@redis/time-series\"), exports);\nconst modules = {\n    ...bloom_1.default,\n    graph: graph_1.default,\n    json: json_1.default,\n    ft: search_1.default,\n    ts: time_series_1.default\n};\nfunction createClient(options) {\n    return (0, client_1.createClient)({\n        ...options,\n        modules: {\n            ...modules,\n            ...options?.modules\n        }\n    });\n}\nexports.createClient = createClient;\nfunction createCluster(options) {\n    return (0, client_1.createCluster)({\n        ...options,\n        modules: {\n            ...modules,\n            ...options?.modules\n        }\n    });\n}\nexports.createCluster = createCluster;\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nexport { __async, __commonJS, __objRest, __spreadProps, __spreadValues };\n//# sourceMappingURL=out.js.map\n//# sourceMappingURL=chunk-FF57VHLH.mjs.map","import * as z from \"./external.js\";\nexport * from \"./external.js\";\nexport { z };\nexport default z;\n","import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { addRequestMeta, getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { setReferenceManifestsSingleton } from \"next/dist/esm/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/esm/server/app-render/action-utils\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/mcp/route\",\n        pathname: \"/api/mcp\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/app/api/mcp/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/mcp/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setReferenceManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: createServerModuleMap({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean(process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n","import * as z from \"./external.js\";\nexport * from \"./external.js\";\nexport { z };\nexport default z;\n","export function parseAnyDef() {\n    return {};\n}\n","export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n","export function parseBooleanDef() {\n    return {\n        type: \"boolean\",\n    };\n}\n","export function parseEnumDef(def) {\n    return {\n        type: \"string\",\n        enum: Array.from(def.values),\n    };\n}\n","export function parseLiteralDef(def, refs) {\n    const parsedType = typeof def.value;\n    if (parsedType !== \"bigint\" &&\n        parsedType !== \"number\" &&\n        parsedType !== \"boolean\" &&\n        parsedType !== \"string\") {\n        return {\n            type: Array.isArray(def.value) ? \"array\" : \"object\",\n        };\n    }\n    if (refs.target === \"openApi3\") {\n        return {\n            type: parsedType === \"bigint\" ? \"integer\" : parsedType,\n            enum: [def.value],\n        };\n    }\n    return {\n        type: parsedType === \"bigint\" ? \"integer\" : parsedType,\n        const: def.value,\n    };\n}\n","export function parseNativeEnumDef(def) {\n    const object = def.values;\n    const actualKeys = Object.keys(def.values).filter((key) => {\n        return typeof object[object[key]] !== \"number\";\n    });\n    const actualValues = actualKeys.map((key) => object[key]);\n    const parsedTypes = Array.from(new Set(actualValues.map((values) => typeof values)));\n    return {\n        type: parsedTypes.length === 1\n            ? parsedTypes[0] === \"string\"\n                ? \"string\"\n                : \"number\"\n            : [\"string\", \"number\"],\n        enum: actualValues,\n    };\n}\n","export function parseNeverDef() {\n    return {\n        not: {},\n    };\n}\n","export function parseNullDef(refs) {\n    return refs.target === \"openApi3\"\n        ? {\n            enum: [\"null\"],\n            nullable: true,\n        }\n        : {\n            type: \"null\",\n        };\n}\n","export function parseUndefinedDef() {\n    return {\n        not: {},\n    };\n}\n","export function parseUnknownDef() {\n    return {};\n}\n","export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n","export const ignoreOverride = Symbol(\"Let zodToJsonSchema decide on which parser to use\");\nexport const jsonDescription = (jsonSchema, def) => {\n    if (def.description) {\n        try {\n            return {\n                ...jsonSchema,\n                ...JSON.parse(def.description),\n            };\n        }\n        catch { }\n    }\n    return jsonSchema;\n};\nexport const defaultOptions = {\n    name: undefined,\n    $refStrategy: \"root\",\n    basePath: [\"#\"],\n    effectStrategy: \"input\",\n    pipeStrategy: \"all\",\n    dateStrategy: \"format:date-time\",\n    mapStrategy: \"entries\",\n    removeAdditionalStrategy: \"passthrough\",\n    allowedAdditionalProperties: true,\n    rejectedAdditionalProperties: false,\n    definitionPath: \"definitions\",\n    target: \"jsonSchema7\",\n    strictUnions: false,\n    definitions: {},\n    errorMessages: false,\n    markdownDescription: false,\n    patternStrategy: \"escape\",\n    applyRegexFlags: false,\n    emailStrategy: \"format:email\",\n    base64Strategy: \"contentEncoding:base64\",\n    nameStrategy: \"ref\",\n};\nexport const getDefaultOptions = (options) => (typeof options === \"string\"\n    ? {\n        ...defaultOptions,\n        name: options,\n    }\n    : {\n        ...defaultOptions,\n        ...options,\n    });\n","export function addErrorMessage(res, key, errorMessage, refs) {\n    if (!refs?.errorMessages)\n        return;\n    if (errorMessage) {\n        res.errorMessage = {\n            ...res.errorMessage,\n            [key]: errorMessage,\n        };\n    }\n}\nexport function setResponseValueAndErrors(res, key, value, errorMessage, refs) {\n    res[key] = value;\n    addErrorMessage(res, key, errorMessage, refs);\n}\n","export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n","export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/shared/uriTemplate.ts","import { setResponseValueAndErrors } from \"../errorMessages.js\";\nlet emojiRegex = undefined;\n/**\n * Generated from the regular expressions found here as of 2024-05-22:\n * https://github.com/colinhacks/zod/blob/master/src/types.ts.\n *\n * Expressions with /i flag have been changed accordingly.\n */\nexport const zodPatterns = {\n    /**\n     * `c` was changed to `[cC]` to replicate /i flag\n     */\n    cuid: /^[cC][^\\s-]{8,}$/,\n    cuid2: /^[0-9a-z]+$/,\n    ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,\n    /**\n     * `a-z` was added to replicate /i flag\n     */\n    email: /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,\n    /**\n     * Constructed a valid Unicode RegExp\n     *\n     * Lazily instantiate since this type of regex isn't supported\n     * in all envs (e.g. React Native).\n     *\n     * See:\n     * https://github.com/colinhacks/zod/issues/2433\n     * Fix in Zod:\n     * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b\n     */\n    emoji: () => {\n        if (emojiRegex === undefined) {\n            emojiRegex = RegExp(\"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\", \"u\");\n        }\n        return emojiRegex;\n    },\n    /**\n     * Unused\n     */\n    uuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n    /**\n     * Unused\n     */\n    ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,\n    ipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,\n    /**\n     * Unused\n     */\n    ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,\n    ipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,\n    base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,\n    base64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,\n    nanoid: /^[a-zA-Z0-9_-]{21}$/,\n    jwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/,\n};\nexport function parseStringDef(def, refs) {\n    const res = {\n        type: \"string\",\n    };\n    if (def.checks) {\n        for (const check of def.checks) {\n            switch (check.kind) {\n                case \"min\":\n                    setResponseValueAndErrors(res, \"minLength\", typeof res.minLength === \"number\"\n                        ? Math.max(res.minLength, check.value)\n                        : check.value, check.message, refs);\n                    break;\n                case \"max\":\n                    setResponseValueAndErrors(res, \"maxLength\", typeof res.maxLength === \"number\"\n                        ? Math.min(res.maxLength, check.value)\n                        : check.value, check.message, refs);\n                    break;\n                case \"email\":\n                    switch (refs.emailStrategy) {\n                        case \"format:email\":\n                            addFormat(res, \"email\", check.message, refs);\n                            break;\n                        case \"format:idn-email\":\n                            addFormat(res, \"idn-email\", check.message, refs);\n                            break;\n                        case \"pattern:zod\":\n                            addPattern(res, zodPatterns.email, check.message, refs);\n                            break;\n                    }\n                    break;\n                case \"url\":\n                    addFormat(res, \"uri\", check.message, refs);\n                    break;\n                case \"uuid\":\n                    addFormat(res, \"uuid\", check.message, refs);\n                    break;\n                case \"regex\":\n                    addPattern(res, check.regex, check.message, refs);\n                    break;\n                case \"cuid\":\n                    addPattern(res, zodPatterns.cuid, check.message, refs);\n                    break;\n                case \"cuid2\":\n                    addPattern(res, zodPatterns.cuid2, check.message, refs);\n                    break;\n                case \"startsWith\":\n                    addPattern(res, RegExp(`^${escapeLiteralCheckValue(check.value, refs)}`), check.message, refs);\n                    break;\n                case \"endsWith\":\n                    addPattern(res, RegExp(`${escapeLiteralCheckValue(check.value, refs)}$`), check.message, refs);\n                    break;\n                case \"datetime\":\n                    addFormat(res, \"date-time\", check.message, refs);\n                    break;\n                case \"date\":\n                    addFormat(res, \"date\", check.message, refs);\n                    break;\n                case \"time\":\n                    addFormat(res, \"time\", check.message, refs);\n                    break;\n                case \"duration\":\n                    addFormat(res, \"duration\", check.message, refs);\n                    break;\n                case \"length\":\n                    setResponseValueAndErrors(res, \"minLength\", typeof res.minLength === \"number\"\n                        ? Math.max(res.minLength, check.value)\n                        : check.value, check.message, refs);\n                    setResponseValueAndErrors(res, \"maxLength\", typeof res.maxLength === \"number\"\n                        ? Math.min(res.maxLength, check.value)\n                        : check.value, check.message, refs);\n                    break;\n                case \"includes\": {\n                    addPattern(res, RegExp(escapeLiteralCheckValue(check.value, refs)), check.message, refs);\n                    break;\n                }\n                case \"ip\": {\n                    if (check.version !== \"v6\") {\n                        addFormat(res, \"ipv4\", check.message, refs);\n                    }\n                    if (check.version !== \"v4\") {\n                        addFormat(res, \"ipv6\", check.message, refs);\n                    }\n                    break;\n                }\n                case \"base64url\":\n                    addPattern(res, zodPatterns.base64url, check.message, refs);\n                    break;\n                case \"jwt\":\n                    addPattern(res, zodPatterns.jwt, check.message, refs);\n                    break;\n                case \"cidr\": {\n                    if (check.version !== \"v6\") {\n                        addPattern(res, zodPatterns.ipv4Cidr, check.message, refs);\n                    }\n                    if (check.version !== \"v4\") {\n                        addPattern(res, zodPatterns.ipv6Cidr, check.message, refs);\n                    }\n                    break;\n                }\n                case \"emoji\":\n                    addPattern(res, zodPatterns.emoji(), check.message, refs);\n                    break;\n                case \"ulid\": {\n                    addPattern(res, zodPatterns.ulid, check.message, refs);\n                    break;\n                }\n                case \"base64\": {\n                    switch (refs.base64Strategy) {\n                        case \"format:binary\": {\n                            addFormat(res, \"binary\", check.message, refs);\n                            break;\n                        }\n                        case \"contentEncoding:base64\": {\n                            setResponseValueAndErrors(res, \"contentEncoding\", \"base64\", check.message, refs);\n                            break;\n                        }\n                        case \"pattern:zod\": {\n                            addPattern(res, zodPatterns.base64, check.message, refs);\n                            break;\n                        }\n                    }\n                    break;\n                }\n                case \"nanoid\": {\n                    addPattern(res, zodPatterns.nanoid, check.message, refs);\n                }\n                case \"toLowerCase\":\n                case \"toUpperCase\":\n                case \"trim\":\n                    break;\n                default:\n                    /* c8 ignore next */\n                    ((_) => { })(check);\n            }\n        }\n    }\n    return res;\n}\nfunction escapeLiteralCheckValue(literal, refs) {\n    return refs.patternStrategy === \"escape\"\n        ? escapeNonAlphaNumeric(literal)\n        : literal;\n}\nconst ALPHA_NUMERIC = new Set(\"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789\");\nfunction escapeNonAlphaNumeric(source) {\n    let result = \"\";\n    for (let i = 0; i < source.length; i++) {\n        if (!ALPHA_NUMERIC.has(source[i])) {\n            result += \"\\\\\";\n        }\n        result += source[i];\n    }\n    return result;\n}\n// Adds a \"format\" keyword to the schema. If a format exists, both formats will be joined in an allOf-node, along with subsequent ones.\nfunction addFormat(schema, value, message, refs) {\n    if (schema.format || schema.anyOf?.some((x) => x.format)) {\n        if (!schema.anyOf) {\n            schema.anyOf = [];\n        }\n        if (schema.format) {\n            schema.anyOf.push({\n                format: schema.format,\n                ...(schema.errorMessage &&\n                    refs.errorMessages && {\n                    errorMessage: { format: schema.errorMessage.format },\n                }),\n            });\n            delete schema.format;\n            if (schema.errorMessage) {\n                delete schema.errorMessage.format;\n                if (Object.keys(schema.errorMessage).length === 0) {\n                    delete schema.errorMessage;\n                }\n            }\n        }\n        schema.anyOf.push({\n            format: value,\n            ...(message &&\n                refs.errorMessages && { errorMessage: { format: message } }),\n        });\n    }\n    else {\n        setResponseValueAndErrors(schema, \"format\", value, message, refs);\n    }\n}\n// Adds a \"pattern\" keyword to the schema. If a pattern exists, both patterns will be joined in an allOf-node, along with subsequent ones.\nfunction addPattern(schema, regex, message, refs) {\n    if (schema.pattern || schema.allOf?.some((x) => x.pattern)) {\n        if (!schema.allOf) {\n            schema.allOf = [];\n        }\n        if (schema.pattern) {\n            schema.allOf.push({\n                pattern: schema.pattern,\n                ...(schema.errorMessage &&\n                    refs.errorMessages && {\n                    errorMessage: { pattern: schema.errorMessage.pattern },\n                }),\n            });\n            delete schema.pattern;\n            if (schema.errorMessage) {\n                delete schema.errorMessage.pattern;\n                if (Object.keys(schema.errorMessage).length === 0) {\n                    delete schema.errorMessage;\n                }\n            }\n        }\n        schema.allOf.push({\n            pattern: stringifyRegExpWithFlags(regex, refs),\n            ...(message &&\n                refs.errorMessages && { errorMessage: { pattern: message } }),\n        });\n    }\n    else {\n        setResponseValueAndErrors(schema, \"pattern\", stringifyRegExpWithFlags(regex, refs), message, refs);\n    }\n}\n// Mutate z.string.regex() in a best attempt to accommodate for regex flags when applyRegexFlags is true\nfunction stringifyRegExpWithFlags(regex, refs) {\n    if (!refs.applyRegexFlags || !regex.flags) {\n        return regex.source;\n    }\n    // Currently handled flags\n    const flags = {\n        i: regex.flags.includes(\"i\"),\n        m: regex.flags.includes(\"m\"),\n        s: regex.flags.includes(\"s\"), // `.` matches newlines\n    };\n    // The general principle here is to step through each character, one at a time, applying mutations as flags require. We keep track when the current character is escaped, and when it's inside a group /like [this]/ or (also) a range like /[a-z]/. The following is fairly brittle imperative code; edit at your peril!\n    const source = flags.i ? regex.source.toLowerCase() : regex.source;\n    let pattern = \"\";\n    let isEscaped = false;\n    let inCharGroup = false;\n    let inCharRange = false;\n    for (let i = 0; i < source.length; i++) {\n        if (isEscaped) {\n            pattern += source[i];\n            isEscaped = false;\n            continue;\n        }\n        if (flags.i) {\n            if (inCharGroup) {\n                if (source[i].match(/[a-z]/)) {\n                    if (inCharRange) {\n                        pattern += source[i];\n                        pattern += `${source[i - 2]}-${source[i]}`.toUpperCase();\n                        inCharRange = false;\n                    }\n                    else if (source[i + 1] === \"-\" && source[i + 2]?.match(/[a-z]/)) {\n                        pattern += source[i];\n                        inCharRange = true;\n                    }\n                    else {\n                        pattern += `${source[i]}${source[i].toUpperCase()}`;\n                    }\n                    continue;\n                }\n            }\n            else if (source[i].match(/[a-z]/)) {\n                pattern += `[${source[i]}${source[i].toUpperCase()}]`;\n                continue;\n            }\n        }\n        if (flags.m) {\n            if (source[i] === \"^\") {\n                pattern += `(^|(?<=[\\r\\n]))`;\n                continue;\n            }\n            else if (source[i] === \"$\") {\n                pattern += `($|(?=[\\r\\n]))`;\n                continue;\n            }\n        }\n        if (flags.s && source[i] === \".\") {\n            pattern += inCharGroup ? `${source[i]}\\r\\n` : `[${source[i]}\\r\\n]`;\n            continue;\n        }\n        pattern += source[i];\n        if (source[i] === \"\\\\\") {\n            isEscaped = true;\n        }\n        else if (inCharGroup && source[i] === \"]\") {\n            inCharGroup = false;\n        }\n        else if (!inCharGroup && source[i] === \"[\") {\n            inCharGroup = true;\n        }\n    }\n    try {\n        new RegExp(pattern);\n    }\n    catch {\n        console.warn(`Could not convert regex pattern at ${refs.currentPath.join(\"/\")} to a flag-independent form! Falling back to the flag-ignorant source`);\n        return regex.source;\n    }\n    return pattern;\n}\n","import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n","import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n","import { parseDef } from \"../parseDef.js\";\nconst isJsonSchema7AllOfType = (type) => {\n    if (\"type\" in type && type.type === \"string\")\n        return false;\n    return \"allOf\" in type;\n};\nexport function parseIntersectionDef(def, refs) {\n    const allOf = [\n        parseDef(def.left._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"allOf\", \"0\"],\n        }),\n        parseDef(def.right._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"allOf\", \"1\"],\n        }),\n    ].filter((x) => !!x);\n    let unevaluatedProperties = refs.target === \"jsonSchema2019-09\"\n        ? { unevaluatedProperties: false }\n        : undefined;\n    const mergedAllOf = [];\n    // If either of the schemas is an allOf, merge them into a single allOf\n    allOf.forEach((schema) => {\n        if (isJsonSchema7AllOfType(schema)) {\n            mergedAllOf.push(...schema.allOf);\n            if (schema.unevaluatedProperties === undefined) {\n                // If one of the schemas has no unevaluatedProperties set,\n                // the merged schema should also have no unevaluatedProperties set\n                unevaluatedProperties = undefined;\n            }\n        }\n        else {\n            let nestedSchema = schema;\n            if (\"additionalProperties\" in schema &&\n                schema.additionalProperties === false) {\n                const { additionalProperties, ...rest } = schema;\n                nestedSchema = rest;\n            }\n            else {\n                // As soon as one of the schemas has additionalProperties set not to false, we allow unevaluatedProperties\n                unevaluatedProperties = undefined;\n            }\n            mergedAllOf.push(nestedSchema);\n        }\n    });\n    return mergedAllOf.length\n        ? {\n            allOf: mergedAllOf,\n            ...unevaluatedProperties,\n        }\n        : undefined;\n}\n","import { parseDef } from \"../parseDef.js\";\nexport function parseTupleDef(def, refs) {\n    if (def.rest) {\n        return {\n            type: \"array\",\n            minItems: def.items.length,\n            items: def.items\n                .map((x, i) => parseDef(x._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"items\", `${i}`],\n            }))\n                .reduce((acc, x) => (x === undefined ? acc : [...acc, x]), []),\n            additionalItems: parseDef(def.rest._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"additionalItems\"],\n            }),\n        };\n    }\n    else {\n        return {\n            type: \"array\",\n            minItems: def.items.length,\n            maxItems: def.items.length,\n            items: def.items\n                .map((x, i) => parseDef(x._def, {\n                ...refs,\n                currentPath: [...refs.currentPath, \"items\", `${i}`],\n            }))\n                .reduce((acc, x) => (x === undefined ? acc : [...acc, x]), []),\n        };\n    }\n}\n","import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n","import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n","import { parseDef } from \"../parseDef.js\";\nexport function parsePromiseDef(def, refs) {\n    return parseDef(def.type._def, refs);\n}\n","import { parseDef } from \"../parseDef.js\";\nexport function parseBrandedDef(_def, refs) {\n    return parseDef(_def.type._def, refs);\n}\n","import { parseDef } from \"../parseDef.js\";\nexport const parseCatchDef = (def, refs) => {\n    return parseDef(def.innerType._def, refs);\n};\n","import { getDefaultOptions } from \"./Options.js\";\nexport const getRefs = (options) => {\n    const _options = getDefaultOptions(options);\n    const currentPath = _options.name !== undefined\n        ? [..._options.basePath, _options.definitionPath, _options.name]\n        : _options.basePath;\n    return {\n        ..._options,\n        currentPath: currentPath,\n        propertyPath: undefined,\n        seen: new Map(Object.entries(_options.definitions).map(([name, def]) => [\n            def._def,\n            {\n                def: def._def,\n                path: [..._options.basePath, _options.definitionPath, name],\n                // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.\n                jsonSchema: undefined,\n            },\n        ])),\n    };\n};\n","import { setResponseValueAndErrors } from \"../errorMessages.js\";\nexport function parseDateDef(def, refs, overrideDateStrategy) {\n    const strategy = overrideDateStrategy ?? refs.dateStrategy;\n    if (Array.isArray(strategy)) {\n        return {\n            anyOf: strategy.map((item, i) => parseDateDef(def, refs, item)),\n        };\n    }\n    switch (strategy) {\n        case \"string\":\n        case \"format:date-time\":\n            return {\n                type: \"string\",\n                format: \"date-time\",\n            };\n        case \"format:date\":\n            return {\n                type: \"string\",\n                format: \"date\",\n            };\n        case \"integer\":\n            return integerDateParser(def, refs);\n    }\n}\nconst integerDateParser = (def, refs) => {\n    const res = {\n        type: \"integer\",\n        format: \"unix-time\",\n    };\n    if (refs.target === \"openApi3\") {\n        return res;\n    }\n    for (const check of def.checks) {\n        switch (check.kind) {\n            case \"min\":\n                setResponseValueAndErrors(res, \"minimum\", check.value, // This is in milliseconds\n                check.message, refs);\n                break;\n            case \"max\":\n                setResponseValueAndErrors(res, \"maximum\", check.value, // This is in milliseconds\n                check.message, refs);\n                break;\n        }\n    }\n    return res;\n};\n","import { parseDef } from \"../parseDef.js\";\nexport function parseDefaultDef(_def, refs) {\n    return {\n        ...parseDef(_def.innerType._def, refs),\n        default: _def.defaultValue(),\n    };\n}\n","import { parseDef } from \"../parseDef.js\";\nexport function parseEffectsDef(_def, refs) {\n    return refs.effectStrategy === \"input\"\n        ? parseDef(_def.schema._def, refs)\n        : {};\n}\n","import { setResponseValueAndErrors } from \"../errorMessages.js\";\nexport function parseBigintDef(def, refs) {\n    const res = {\n        type: \"integer\",\n        format: \"int64\",\n    };\n    if (!def.checks)\n        return res;\n    for (const check of def.checks) {\n        switch (check.kind) {\n            case \"min\":\n                if (refs.target === \"jsonSchema7\") {\n                    if (check.inclusive) {\n                        setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n                    }\n                    else {\n                        setResponseValueAndErrors(res, \"exclusiveMinimum\", check.value, check.message, refs);\n                    }\n                }\n                else {\n                    if (!check.inclusive) {\n                        res.exclusiveMinimum = true;\n                    }\n                    setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n                }\n                break;\n            case \"max\":\n                if (refs.target === \"jsonSchema7\") {\n                    if (check.inclusive) {\n                        setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n                    }\n                    else {\n                        setResponseValueAndErrors(res, \"exclusiveMaximum\", check.value, check.message, refs);\n                    }\n                }\n                else {\n                    if (!check.inclusive) {\n                        res.exclusiveMaximum = true;\n                    }\n                    setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n                }\n                break;\n            case \"multipleOf\":\n                setResponseValueAndErrors(res, \"multipleOf\", check.value, check.message, refs);\n                break;\n        }\n    }\n    return res;\n}\n","import { parseDef } from \"../parseDef.js\";\nexport const parseReadonlyDef = (def, refs) => {\n    return parseDef(def.innerType._def, refs);\n};\n","import { parseDef } from \"../parseDef.js\";\nexport const primitiveMappings = {\n    ZodString: \"string\",\n    ZodNumber: \"number\",\n    ZodBigInt: \"integer\",\n    ZodBoolean: \"boolean\",\n    ZodNull: \"null\",\n};\nexport function parseUnionDef(def, refs) {\n    if (refs.target === \"openApi3\")\n        return asAnyOf(def, refs);\n    const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;\n    // This blocks tries to look ahead a bit to produce nicer looking schemas with type array instead of anyOf.\n    if (options.every((x) => x._def.typeName in primitiveMappings &&\n        (!x._def.checks || !x._def.checks.length))) {\n        // all types in union are primitive and lack checks, so might as well squash into {type: [...]}\n        const types = options.reduce((types, x) => {\n            const type = primitiveMappings[x._def.typeName]; //Can be safely casted due to row 43\n            return type && !types.includes(type) ? [...types, type] : types;\n        }, []);\n        return {\n            type: types.length > 1 ? types : types[0],\n        };\n    }\n    else if (options.every((x) => x._def.typeName === \"ZodLiteral\" && !x.description)) {\n        // all options literals\n        const types = options.reduce((acc, x) => {\n            const type = typeof x._def.value;\n            switch (type) {\n                case \"string\":\n                case \"number\":\n                case \"boolean\":\n                    return [...acc, type];\n                case \"bigint\":\n                    return [...acc, \"integer\"];\n                case \"object\":\n                    if (x._def.value === null)\n                        return [...acc, \"null\"];\n                case \"symbol\":\n                case \"undefined\":\n                case \"function\":\n                default:\n                    return acc;\n            }\n        }, []);\n        if (types.length === options.length) {\n            // all the literals are primitive, as far as null can be considered primitive\n            const uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);\n            return {\n                type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],\n                enum: options.reduce((acc, x) => {\n                    return acc.includes(x._def.value) ? acc : [...acc, x._def.value];\n                }, []),\n            };\n        }\n    }\n    else if (options.every((x) => x._def.typeName === \"ZodEnum\")) {\n        return {\n            type: \"string\",\n            enum: options.reduce((acc, x) => [\n                ...acc,\n                ...x._def.values.filter((x) => !acc.includes(x)),\n            ], []),\n        };\n    }\n    return asAnyOf(def, refs);\n}\nconst asAnyOf = (def, refs) => {\n    const anyOf = (def.options instanceof Map\n        ? Array.from(def.options.values())\n        : def.options)\n        .map((x, i) => parseDef(x._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"anyOf\", `${i}`],\n    }))\n        .filter((x) => !!x &&\n        (!refs.strictUnions ||\n            (typeof x === \"object\" && Object.keys(x).length > 0)));\n    return anyOf.length ? { anyOf } : undefined;\n};\n","import { addErrorMessage, setResponseValueAndErrors, } from \"../errorMessages.js\";\nexport function parseNumberDef(def, refs) {\n    const res = {\n        type: \"number\",\n    };\n    if (!def.checks)\n        return res;\n    for (const check of def.checks) {\n        switch (check.kind) {\n            case \"int\":\n                res.type = \"integer\";\n                addErrorMessage(res, \"type\", check.message, refs);\n                break;\n            case \"min\":\n                if (refs.target === \"jsonSchema7\") {\n                    if (check.inclusive) {\n                        setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n                    }\n                    else {\n                        setResponseValueAndErrors(res, \"exclusiveMinimum\", check.value, check.message, refs);\n                    }\n                }\n                else {\n                    if (!check.inclusive) {\n                        res.exclusiveMinimum = true;\n                    }\n                    setResponseValueAndErrors(res, \"minimum\", check.value, check.message, refs);\n                }\n                break;\n            case \"max\":\n                if (refs.target === \"jsonSchema7\") {\n                    if (check.inclusive) {\n                        setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n                    }\n                    else {\n                        setResponseValueAndErrors(res, \"exclusiveMaximum\", check.value, check.message, refs);\n                    }\n                }\n                else {\n                    if (!check.inclusive) {\n                        res.exclusiveMaximum = true;\n                    }\n                    setResponseValueAndErrors(res, \"maximum\", check.value, check.message, refs);\n                }\n                break;\n            case \"multipleOf\":\n                setResponseValueAndErrors(res, \"multipleOf\", check.value, check.message, refs);\n                break;\n        }\n    }\n    return res;\n}\n","import { parseDef } from \"../parseDef.js\";\nexport const parseOptionalDef = (def, refs) => {\n    if (refs.currentPath.toString() === refs.propertyPath?.toString()) {\n        return parseDef(def.innerType._def, refs);\n    }\n    const innerSchema = parseDef(def.innerType._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"anyOf\", \"1\"],\n    });\n    return innerSchema\n        ? {\n            anyOf: [\n                {\n                    not: {},\n                },\n                innerSchema,\n            ],\n        }\n        : {};\n};\n","import { parseDef } from \"../parseDef.js\";\nexport const parsePipelineDef = (def, refs) => {\n    if (refs.pipeStrategy === \"input\") {\n        return parseDef(def.in._def, refs);\n    }\n    else if (refs.pipeStrategy === \"output\") {\n        return parseDef(def.out._def, refs);\n    }\n    const a = parseDef(def.in._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"allOf\", \"0\"],\n    });\n    const b = parseDef(def.out._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"allOf\", a ? \"1\" : \"0\"],\n    });\n    return {\n        allOf: [a, b].filter((x) => x !== undefined),\n    };\n};\n","\n// @ts-nocheck\nconst SBox = new Uint8Array([\n  0x63, 0x7c, 0x77, 0x7b, 0xf2, 0x6b, 0x6f, 0xc5, 0x30, 0x01, 0x67, 0x2b, 0xfe, 0xd7, 0xab, 0x76,\n  0xca, 0x82, 0xc9, 0x7d, 0xfa, 0x59, 0x47, 0xf0, 0xad, 0xd4, 0xa2, 0xaf, 0x9c, 0xa4, 0x72, 0xc0,\n  0xb7, 0xfd, 0x93, 0x26, 0x36, 0x3f, 0xf7, 0xcc, 0x34, 0xa5, 0xe5, 0xf1, 0x71, 0xd8, 0x31, 0x15,\n  0x04, 0xc7, 0x23, 0xc3, 0x18, 0x96, 0x05, 0x9a, 0x07, 0x12, 0x80, 0xe2, 0xeb, 0x27, 0xb2, 0x75,\n  0x09, 0x83, 0x2c, 0x1a, 0x1b, 0x6e, 0x5a, 0xa0, 0x52, 0x3b, 0xd6, 0xb3, 0x29, 0xe3, 0x2f, 0x84,\n  0x53, 0xd1, 0x00, 0xed, 0x20, 0xfc, 0xb1, 0x5b, 0x6a, 0xcb, 0xbe, 0x39, 0x4a, 0x4c, 0x58, 0xcf,\n  0xd0, 0xef, 0xaa, 0xfb, 0x43, 0x4d, 0x33, 0x85, 0x45, 0xf9, 0x02, 0x7f, 0x50, 0x3c, 0x9f, 0xa8,\n  0x51, 0xa3, 0x40, 0x8f, 0x92, 0x9d, 0x38, 0xf5, 0xbc, 0xb6, 0xda, 0x21, 0x10, 0xff, 0xf3, 0xd2,\n  0xcd, 0x0c, 0x13, 0xec, 0x5f, 0x97, 0x44, 0x17, 0xc4, 0xa7, 0x7e, 0x3d, 0x64, 0x5d, 0x19, 0x73,\n  0x60, 0x81, 0x4f, 0xdc, 0x22, 0x2a, 0x90, 0x88, 0x46, 0xee, 0xb8, 0x14, 0xde, 0x5e, 0x0b, 0xdb,\n  0xe0, 0x32, 0x3a, 0x0a, 0x49, 0x06, 0x24, 0x5c, 0xc2, 0xd3, 0xac, 0x62, 0x91, 0x95, 0xe4, 0x79,\n  0xe7, 0xc8, 0x37, 0x6d, 0x8d, 0xd5, 0x4e, 0xa9, 0x6c, 0x56, 0xf4, 0xea, 0x65, 0x7a, 0xae, 0x08,\n  0xba, 0x78, 0x25, 0x2e, 0x1c, 0xa6, 0xb4, 0xc6, 0xe8, 0xdd, 0x74, 0x1f, 0x4b, 0xbd, 0x8b, 0x8a,\n  0x70, 0x3e, 0xb5, 0x66, 0x48, 0x03, 0xf6, 0x0e, 0x61, 0x35, 0x57, 0xb9, 0x86, 0xc1, 0x1d, 0x9e,\n  0xe1, 0xf8, 0x98, 0x11, 0x69, 0xd9, 0x8e, 0x94, 0x9b, 0x1e, 0x87, 0xe9, 0xce, 0x55, 0x28, 0xdf,\n  0x8c, 0xa1, 0x89, 0x0d, 0xbf, 0xe6, 0x42, 0x68, 0x41, 0x99, 0x2d, 0x0f, 0xb0, 0x54, 0xbb, 0x16\n])\nconst Rcon = [\n  [0x00, 0x00, 0x00, 0x00], [0x01, 0x00, 0x00, 0x00], [0x02, 0x00, 0x00, 0x00], [0x04, 0x00, 0x00, 0x00],\n  [0x08, 0x00, 0x00, 0x00], [0x10, 0x00, 0x00, 0x00], [0x20, 0x00, 0x00, 0x00], [0x40, 0x00, 0x00, 0x00],\n  [0x80, 0x00, 0x00, 0x00], [0x1b, 0x00, 0x00, 0x00], [0x36, 0x00, 0x00, 0x00]\n].map(v => new Uint8Array(v))\n\nconst mul2 = new Uint8Array(256)\nconst mul3 = new Uint8Array(256)\nfor (let i = 0; i < 256; i++) {\n  const m2 = ((i << 1) ^ ((i & 0x80) !== 0 ? 0x1b : 0)) & 0xff\n  mul2[i] = m2\n  mul3[i] = m2 ^ i\n}\n\nfunction addRoundKey (\n  state: number[][],\n  roundKeyArray: number[][],\n  offset: number\n): void {\n  for (let c = 0; c < 4; c++) {\n    const keyCol = roundKeyArray[offset + c]\n    for (let r = 0; r < 4; r++) {\n      state[r][c] ^= keyCol[r]\n    }\n  }\n}\n\nfunction subBytes (state: number[][]): void {\n  for (let r = 0; r < 4; r++) {\n    for (let c = 0; c < 4; c++) {\n      state[r][c] = SBox[state[r][c]]\n    }\n  }\n}\n\nfunction subWord (value: number[]): void {\n  for (let i = 0; i < 4; i++) {\n    value[i] = SBox[value[i]]\n  }\n}\n\nfunction rotWord (value: number[]): void {\n  const temp = value[0]\n\n  value[0] = value[1]\n  value[1] = value[2]\n  value[2] = value[3]\n  value[3] = temp\n}\n\nfunction shiftRows (state: number[][]): void {\n  let tmp = state[1][0]\n  state[1][0] = state[1][1]\n  state[1][1] = state[1][2]\n  state[1][2] = state[1][3]\n  state[1][3] = tmp\n\n  tmp = state[2][0]\n  const tmp2 = state[2][1]\n  state[2][0] = state[2][2]\n  state[2][1] = state[2][3]\n  state[2][2] = tmp\n  state[2][3] = tmp2\n\n  tmp = state[3][3]\n  state[3][3] = state[3][2]\n  state[3][2] = state[3][1]\n  state[3][1] = state[3][0]\n  state[3][0] = tmp\n}\n\nfunction mixColumns (state: number[][]): void {\n  for (let c = 0; c < 4; c++) {\n    const s0 = state[0][c]\n    const s1 = state[1][c]\n    const s2 = state[2][c]\n    const s3 = state[3][c]\n\n    state[0][c] = mul2[s0] ^ mul3[s1] ^ s2 ^ s3\n    state[1][c] = s0 ^ mul2[s1] ^ mul3[s2] ^ s3\n    state[2][c] = s0 ^ s1 ^ mul2[s2] ^ mul3[s3]\n    state[3][c] = mul3[s0] ^ s1 ^ s2 ^ mul2[s3]\n  }\n}\n\nfunction keyExpansion (roundLimit: number, key: number[]): number[][] {\n  const nK = key.length / 4\n  const result: number[][] = []\n\n  for (let i = 0; i < key.length; i++) {\n    if (i % 4 === 0) result.push([])\n    result[i >> 2].push(key[i])\n  }\n\n  for (let i = nK; i < 4 * roundLimit; i++) {\n    result[i] = []\n    const temp = result[i - 1].slice()\n\n    if (i % nK === 0) {\n      rotWord(temp)\n      subWord(temp)\n      const r = Rcon[i / nK]\n      for (let j = 0; j < 4; j++) {\n        temp[j] ^= r[j]\n      }\n    } else if (nK > 6 && (i % nK) === 4) {\n      subWord(temp)\n    }\n\n    for (let j = 0; j < 4; j++) {\n      result[i][j] = result[i - nK][j] ^ temp[j]\n    }\n  }\n\n  return result\n}\n\nexport function AES (input: number[], key: number[]): number[] {\n  let i\n  let j\n  let round: number\n  let roundLimit\n  const state = [[], [], [], []]\n  const output = []\n\n  // Since the BigNumber representation of keys ignores big endian zeroes,\n  // extend incoming key arrays with zeros to the smallest standard key size.\n  const ekey = Array.from(key)\n  if (ekey.length <= 16) {\n    while (ekey.length < 16) ekey.unshift(0)\n    roundLimit = 11\n  } else if (ekey.length <= 24) {\n    while (ekey.length < 24) ekey.unshift(0)\n    roundLimit = 13\n  } else if (key.length <= 32) {\n    while (ekey.length < 32) ekey.unshift(0)\n    roundLimit = 15\n  } else {\n    throw new Error('Illegal key length: ' + String(key.length))\n  }\n\n  const w = keyExpansion(roundLimit, ekey)\n\n  for (let c = 0; c < 4; c++) {\n    state[0][c] = input[c * 4]\n    state[1][c] = input[c * 4 + 1]\n    state[2][c] = input[c * 4 + 2]\n    state[3][c] = input[c * 4 + 3]\n  }\n\n  addRoundKey(state, w, 0)\n  for (round = 1; round < roundLimit; round++) {\n    subBytes(state)\n    shiftRows(state)\n\n    if (round + 1 < roundLimit) {\n      mixColumns(state)\n    }\n\n    addRoundKey(state, w, round * 4)\n  }\n\n  for (i = 0; i < 4; i++) {\n    for (j = 0; j < 4; j++) {\n      output.push(state[j][i])\n    }\n  }\n\n  return output\n}\n\nexport const checkBit = function (\n  byteArray: number[],\n  byteIndex: number,\n  bitIndex: number\n): 1 | 0 {\n  return (byteArray[byteIndex] & (0x01 << bitIndex)) !== 0 ? 1 : 0\n}\n\nexport const getBytes = function (numericValue: number): number[] {\n  return [\n    (numericValue & 0xFF000000) >>> 24,\n    (numericValue & 0x00FF0000) >> 16,\n    (numericValue & 0x0000FF00) >> 8,\n    numericValue & 0x000000FF\n  ]\n}\n\nconst createZeroBlock = function (length: number): number[] {\n  return new Array(length).fill(0)\n}\n\nconst R = [0xe1].concat(createZeroBlock(15))\n\nexport const exclusiveOR = function (block0: number[], block1: number[]): number[] {\n  const len = block0.length\n  const result = new Array(len)\n  for (let i = 0; i < len; i++) {\n    result[i] = block0[i] ^ block1[i]\n  }\n  return result\n}\n\nconst xorInto = function (target: number[], block: number[]): void {\n  for (let i = 0; i < target.length; i++) {\n    target[i] ^= block[i]\n  }\n}\n\nexport const rightShift = function (block: number[]): number[] {\n  let i: number\n  let carry = 0\n  let oldCarry = 0\n\n  for (i = 0; i < block.length; i++) {\n    oldCarry = carry\n    carry = block[i] & 0x01\n    block[i] = block[i] >> 1\n\n    if (oldCarry !== 0) {\n      block[i] = block[i] | 0x80\n    }\n  }\n\n  return block\n}\n\nexport const multiply = function (block0: number[], block1: number[]): number[] {\n  const v = block1.slice()\n  const z = createZeroBlock(16)\n\n  for (let i = 0; i < 16; i++) {\n    for (let j = 7; j >= 0; j--) {\n      if ((block0[i] & (1 << j)) !== 0) {\n        xorInto(z, v)\n      }\n\n      if ((v[15] & 1) !== 0) {\n        rightShift(v)\n        xorInto(v, R)\n      } else {\n        rightShift(v)\n      }\n    }\n  }\n\n  return z\n}\n\nexport const incrementLeastSignificantThirtyTwoBits = function (\n  block: number[]\n): number[] {\n  let i\n  const result = block.slice()\n  for (i = 15; i !== 11; i--) {\n    result[i] = result[i] + 1\n\n    if (result[i] === 256) {\n      result[i] = 0\n    } else {\n      break\n    }\n  }\n\n  return result\n}\n\nexport function ghash (input: number[], hashSubKey: number[]): number[] {\n  let result = createZeroBlock(16)\n\n  for (let i = 0; i < input.length; i += 16) {\n    const block = result.slice()\n    for (let j = 0; j < 16; j++) {\n      block[j] ^= input[i + j] ?? 0\n    }\n    result = multiply(block, hashSubKey)\n  }\n\n  return result\n}\n\nfunction gctr (\n  input: number[],\n  initialCounterBlock: number[],\n  key: number[]\n): number[] {\n  if (input.length === 0) return []\n\n  const output = new Array(input.length)\n  let counterBlock = initialCounterBlock\n  let pos = 0\n  const n = Math.ceil(input.length / 16)\n\n  for (let i = 0; i < n; i++) {\n    const counter = AES(counterBlock, key)\n    const chunk = Math.min(16, input.length - pos)\n    for (let j = 0; j < chunk; j++) {\n      output[pos] = input[pos] ^ counter[j]\n      pos++\n    }\n\n    if (i + 1 < n) {\n      counterBlock = incrementLeastSignificantThirtyTwoBits(counterBlock)\n    }\n  }\n\n  return output\n}\n\nexport function AESGCM (\n  plainText: number[],\n  additionalAuthenticatedData: number[],\n  initializationVector: number[],\n  key: number[]\n): { result: number[], authenticationTag: number[] } {\n  let preCounterBlock\n  let plainTag\n  const hashSubKey = AES(createZeroBlock(16), key)\n  preCounterBlock = [...initializationVector]\n  if (initializationVector.length === 12) {\n    preCounterBlock = preCounterBlock.concat(createZeroBlock(3)).concat([0x01])\n  } else {\n    if (initializationVector.length % 16 !== 0) {\n      preCounterBlock = preCounterBlock.concat(\n        createZeroBlock(16 - (initializationVector.length % 16))\n      )\n    }\n\n    preCounterBlock = preCounterBlock.concat(createZeroBlock(8))\n\n    preCounterBlock = ghash(preCounterBlock.concat(createZeroBlock(4))\n      .concat(getBytes(initializationVector.length * 8)), hashSubKey)\n  }\n\n  const cipherText = gctr(plainText, incrementLeastSignificantThirtyTwoBits(preCounterBlock), key)\n\n  plainTag = additionalAuthenticatedData.slice()\n\n  if (additionalAuthenticatedData.length === 0) {\n    plainTag = plainTag.concat(createZeroBlock(16))\n  } else if (additionalAuthenticatedData.length % 16 !== 0) {\n    plainTag = plainTag.concat(createZeroBlock(16 - (additionalAuthenticatedData.length % 16)))\n  }\n\n  plainTag = plainTag.concat(cipherText)\n\n  if (cipherText.length === 0) {\n    plainTag = plainTag.concat(createZeroBlock(16))\n  } else if (cipherText.length % 16 !== 0) {\n    plainTag = plainTag.concat(createZeroBlock(16 - (cipherText.length % 16)))\n  }\n\n  plainTag = plainTag.concat(createZeroBlock(4))\n    .concat(getBytes(additionalAuthenticatedData.length * 8))\n    .concat(createZeroBlock(4)).concat(getBytes(cipherText.length * 8))\n\n  return {\n    result: cipherText,\n    authenticationTag: gctr(ghash(plainTag, hashSubKey), preCounterBlock, key)\n  }\n}\n\nexport function AESGCMDecrypt (\n  cipherText: number[],\n  additionalAuthenticatedData: number[],\n  initializationVector: number[],\n  authenticationTag: number[],\n  key: number[]\n): number[] | null {\n  let preCounterBlock\n  let compareTag\n\n  // Generate the hash subkey\n  const hashSubKey = AES(createZeroBlock(16), key)\n\n  preCounterBlock = [...initializationVector]\n  if (initializationVector.length === 12) {\n    preCounterBlock = preCounterBlock.concat(createZeroBlock(3)).concat([0x01])\n  } else {\n    if (initializationVector.length % 16 !== 0) {\n      preCounterBlock = preCounterBlock.concat(createZeroBlock(16 - (initializationVector.length % 16)))\n    }\n\n    preCounterBlock = preCounterBlock.concat(createZeroBlock(8))\n\n    preCounterBlock = ghash(preCounterBlock.concat(createZeroBlock(4)).concat(getBytes(initializationVector.length * 8)), hashSubKey)\n  }\n\n  // Decrypt to obtain the plain text\n  const plainText = gctr(cipherText, incrementLeastSignificantThirtyTwoBits(preCounterBlock), key)\n\n  compareTag = additionalAuthenticatedData.slice()\n\n  if (additionalAuthenticatedData.length === 0) {\n    compareTag = compareTag.concat(createZeroBlock(16))\n  } else if (additionalAuthenticatedData.length % 16 !== 0) {\n    compareTag = compareTag.concat(createZeroBlock(16 - (additionalAuthenticatedData.length % 16)))\n  }\n\n  compareTag = compareTag.concat(cipherText)\n\n  if (cipherText.length === 0) {\n    compareTag = compareTag.concat(createZeroBlock(16))\n  } else if (cipherText.length % 16 !== 0) {\n    compareTag = compareTag.concat(createZeroBlock(16 - (cipherText.length % 16)))\n  }\n\n  compareTag = compareTag.concat(createZeroBlock(4))\n    .concat(getBytes(additionalAuthenticatedData.length * 8))\n    .concat(createZeroBlock(4)).concat(getBytes(cipherText.length * 8))\n\n  // Generate the authentication tag\n  const calculatedTag = gctr(ghash(compareTag, hashSubKey), preCounterBlock, key)\n\n  // If the calculated tag does not match the provided tag, return null - the decryption failed.\n  if (calculatedTag.join() !== authenticationTag.join()) {\n    return null\n  }\n\n  return plainText\n}\n","\nimport { Reader, Writer, toHex, toArray } from '../primitives/utils.js'\nimport { hash256 } from '../primitives/Hash.js'\nimport ChainTracker from './ChainTracker.js'\n\nexport interface MerklePathLeaf {\n  offset: number\n  hash?: string\n  txid?: boolean\n  duplicate?: boolean\n}\n\n/**\n * Represents a Merkle Path, which is used to provide a compact proof of inclusion for a\n * transaction in a block. This class encapsulates all the details required for creating\n * and verifying Merkle Proofs.\n *\n * @class MerklePath\n * @property {number} blockHeight - The height of the block in which the transaction is included.\n * @property {Array<Array<{offset: number, hash?: string, txid?: boolean, duplicate?: boolean}>>} path -\n *           A tree structure representing the Merkle Path, with each level containing information\n *           about the nodes involved in constructing the proof.\n *\n * @example\n * // Creating and verifying a Merkle Path\n * const merklePath = MerklePath.fromHex('...');\n * const isValid = merklePath.verify(txid, chainTracker);\n *\n * @description\n * The MerklePath class is useful for verifying transactions in a lightweight and efficient manner without\n * needing the entire block data. This class offers functionalities for creating, converting,\n * and verifying these proofs.\n */\nexport default class MerklePath {\n  blockHeight: number\n  path: Array<\n  Array<{\n    offset: number\n    hash?: string\n    txid?: boolean\n    duplicate?: boolean\n  }>\n  >\n\n  /**\n   * Creates a MerklePath instance from a hexadecimal string.\n   *\n   * @static\n   * @param {string} hex - The hexadecimal string representation of the Merkle Path.\n   * @returns {MerklePath} - A new MerklePath instance.\n   */\n  static fromHex (hex: string): MerklePath {\n    return MerklePath.fromBinary(toArray(hex, 'hex'))\n  }\n\n  static fromReader (\n    reader: Reader,\n    legalOffsetsOnly: boolean = true\n  ): MerklePath {\n    const blockHeight = reader.readVarIntNum()\n    const treeHeight = reader.readUInt8()\n    // Explicitly define the type of path as an array of arrays of leaf objects\n    const path: Array<Array<{ offset: number, hash?: string, txid?: boolean, duplicate?: boolean }>> = Array(treeHeight)\n      .fill(null)\n      .map(() => [])\n    let flags: number, offset: number, nLeavesAtThisHeight: number\n    for (let level = 0; level < treeHeight; level++) {\n      nLeavesAtThisHeight = reader.readVarIntNum()\n      while (nLeavesAtThisHeight > 0) {\n        offset = reader.readVarIntNum()\n        flags = reader.readUInt8()\n        const leaf: {\n          offset: number\n          hash?: string\n          txid?: boolean\n          duplicate?: boolean\n        } = { offset }\n        if ((flags & 1) !== 0) {\n          leaf.duplicate = true\n        } else {\n          if ((flags & 2) !== 0) {\n            leaf.txid = true\n          }\n          leaf.hash = toHex(reader.read(32).reverse())\n        }\n        // Ensure path[level] exists before pushing\n        if (!Array.isArray(path[level]) || path[level].length === 0) {\n          path[level] = []\n        }\n        path[level].push(leaf)\n        nLeavesAtThisHeight--\n      }\n      // Sort the array based on the offset property\n      path[level].sort((a, b) => a.offset - b.offset)\n    }\n    return new MerklePath(blockHeight, path, legalOffsetsOnly)\n  }\n\n  /**\n   * Creates a MerklePath instance from a binary array.\n   *\n   * @static\n   * @param {number[]} bump - The binary array representation of the Merkle Path.\n   * @returns {MerklePath} - A new MerklePath instance.\n   */\n  static fromBinary (bump: number[]): MerklePath {\n    const reader = new Reader(bump)\n    return MerklePath.fromReader(reader)\n  }\n\n  /**\n   *\n   * @static fromCoinbaseTxid\n   *\n   * Creates a MerklePath instance for a coinbase transaction in an empty block.\n   * This edge case is difficult to retrieve from standard APIs.\n   *\n   * @param {string} txid - The coinbase txid.\n   * @param {number} height - The height of the block.\n   * @returns {MerklePath} - A new MerklePath instance which assumes the tx is in a block with no other transactions.\n   */\n  static fromCoinbaseTxidAndHeight (txid: string, height: number): MerklePath {\n    return new MerklePath(height, [[{ offset: 0, hash: txid, txid: true }]])\n  }\n\n  constructor (\n    blockHeight: number,\n    path: Array<\n    Array<{\n      offset: number\n      hash?: string\n      txid?: boolean\n      duplicate?: boolean\n    }>\n    >,\n    legalOffsetsOnly: boolean = true\n  ) {\n    this.blockHeight = blockHeight\n    this.path = path\n\n    // store all of the legal offsets which we expect given the txid indices.\n    const legalOffsets = Array(this.path.length)\n      .fill(0)\n      .map(() => new Set())\n    this.path.forEach((leaves, height) => {\n      if (leaves.length === 0 && height === 0) {\n        throw new Error(`Empty level at height: ${height}`)\n      }\n      const offsetsAtThisHeight = new Set()\n      leaves.forEach((leaf) => {\n        if (offsetsAtThisHeight.has(leaf.offset)) {\n          throw new Error(\n            `Duplicate offset: ${leaf.offset}, at height: ${height}`\n          )\n        }\n        offsetsAtThisHeight.add(leaf.offset)\n        if (height === 0) {\n          if (leaf.duplicate !== true) {\n            for (let h = 1; h < this.path.length; h++) {\n              legalOffsets[h].add((leaf.offset >> h) ^ 1)\n            }\n          }\n        } else {\n          if (legalOffsetsOnly && !legalOffsets[height].has(leaf.offset)) {\n            throw new Error(\n              `Invalid offset: ${leaf.offset}, at height: ${height}, with legal offsets: ${Array.from(legalOffsets[height]).join(', ')}`\n            )\n          }\n        }\n      })\n    })\n\n    // every txid must calculate to the same root.\n    let root: string\n    this.path[0].forEach((leaf, idx) => {\n      if (idx === 0) root = this.computeRoot(leaf.hash)\n      if (root !== this.computeRoot(leaf.hash)) {\n        throw new Error('Mismatched roots')\n      }\n    })\n  }\n\n  /**\n   * Converts the MerklePath to a binary array format.\n   *\n   * @returns {number[]} - The binary array representation of the Merkle Path.\n   */\n  toBinary (): number[] {\n    const writer = new Writer()\n    writer.writeVarIntNum(this.blockHeight)\n    const treeHeight = this.path.length\n    writer.writeUInt8(treeHeight)\n    for (let level = 0; level < treeHeight; level++) {\n      const nLeaves = Object.keys(this.path[level]).length\n      writer.writeVarIntNum(nLeaves)\n      for (const leaf of this.path[level]) {\n        writer.writeVarIntNum(leaf.offset)\n        let flags = 0\n        if (leaf?.duplicate === true) {\n          flags |= 1\n        }\n        if (leaf?.txid !== undefined && leaf.txid !== null) {\n          flags |= 2\n        }\n        writer.writeUInt8(flags)\n        if ((flags & 1) === 0) {\n          writer.write(toArray(leaf.hash, 'hex').reverse())\n        }\n      }\n    }\n    return writer.toArray()\n  }\n\n  /**\n   * Converts the MerklePath to a hexadecimal string format.\n   *\n   * @returns {string} - The hexadecimal string representation of the Merkle Path.\n   */\n  toHex (): string {\n    return toHex(this.toBinary())\n  }\n\n  //\n  private indexOf (txid: string): number {\n    const leaf = this.path[0].find((l) => l.hash === txid)\n    if (leaf === null || leaf === undefined) {\n      throw new Error(`Transaction ID ${txid} not found in the Merkle Path`)\n    }\n    return leaf.offset\n  }\n\n  /**\n   * Computes the Merkle root from the provided transaction ID.\n   *\n   * @param {string} txid - The transaction ID to compute the Merkle root for. If not provided, the root will be computed from an unspecified branch, and not all branches will be validated!\n   * @returns {string} - The computed Merkle root as a hexadecimal string.\n   * @throws {Error} - If the transaction ID is not part of the Merkle Path.\n   */\n  computeRoot (txid?: string): string {\n    if (typeof txid !== 'string') {\n      const foundLeaf = this.path[0].find((leaf) => Boolean(leaf?.hash))\n      if (foundLeaf === null || foundLeaf === undefined) {\n        throw new Error('No valid leaf found in the Merkle Path')\n      }\n      txid = foundLeaf.hash\n    }\n    // Find the index of the txid at the lowest level of the Merkle tree\n    if (typeof txid !== 'string') {\n      throw new Error('Transaction ID is undefined')\n    }\n    const index = this.indexOf(txid)\n    if (typeof index !== 'number') {\n      throw new Error(`This proof does not contain the txid: ${txid ?? 'undefined'}`)\n    }\n    // Calculate the root using the index as a way to determine which direction to concatenate.\n    const hash = (m: string): string =>\n      toHex(hash256(toArray(m, 'hex').reverse()).reverse())\n    let workingHash = txid\n\n    // special case for blocks with only one transaction\n    if (this.path.length === 1 && this.path[0].length === 1) return workingHash\n\n    for (let height = 0; height < this.path.length; height++) {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const leaves = this.path[height]\n      const offset = (index >> height) ^ 1\n      const leaf = this.findOrComputeLeaf(height, offset)\n      if (typeof leaf !== 'object') {\n        throw new Error(`Missing hash for index ${index} at height ${height}`)\n      }\n      if (leaf.duplicate === true) {\n        workingHash = hash((workingHash ?? '') + (workingHash ?? ''))\n      } else if (offset % 2 !== 0) {\n        workingHash = hash((leaf.hash ?? '') + (workingHash ?? ''))\n      } else {\n        workingHash = hash((workingHash ?? '') + (leaf.hash ?? ''))\n      }\n    }\n    return workingHash\n  }\n\n  /**\n   * Find leaf with `offset` at `height` or compute from level below, recursively.\n   *\n   * Does not add computed leaves to path.\n   *\n   * @param height\n   * @param offset\n   */\n  findOrComputeLeaf (\n    height: number,\n    offset: number\n  ): MerklePathLeaf | undefined {\n    const hash = (m: string): string =>\n      toHex(hash256(toArray(m, 'hex').reverse()).reverse())\n\n    let leaf: MerklePathLeaf | undefined = this.path[height].find(\n      (l) => l.offset === offset\n    )\n\n    if (leaf != null) return leaf\n\n    if (height === 0) return undefined\n\n    const h = height - 1\n    const l = offset << 1\n\n    const leaf0 = this.findOrComputeLeaf(h, l)\n    if (leaf0 == null || leaf0.hash == null || leaf0.hash === '') return undefined\n\n    const leaf1 = this.findOrComputeLeaf(h, l + 1)\n    if (leaf1 == null) return undefined\n\n    let workinghash: string\n    if (leaf1.duplicate === true) {\n      workinghash = hash(leaf0.hash + leaf0.hash)\n    } else {\n      workinghash = hash((leaf1.hash ?? '') + (leaf0.hash ?? ''))\n    }\n    leaf = {\n      offset,\n      hash: workinghash\n    }\n\n    return leaf\n  }\n\n  /**\n   * Verifies if the given transaction ID is part of the Merkle tree at the specified block height.\n   *\n   * @param {string} txid - The transaction ID to verify.\n   * @param {ChainTracker} chainTracker - The ChainTracker instance used to verify the Merkle root.\n   * @returns {boolean} - True if the transaction ID is valid within the Merkle Path at the specified block height.\n   */\n  async verify (txid: string, chainTracker: ChainTracker): Promise<boolean> {\n    const root = this.computeRoot(txid)\n    if (this.indexOf(txid) === 0) {\n      // Coinbase transaction outputs can only be spent once they're 100 blocks deep.\n      const height = await chainTracker.currentHeight()\n      if (this.blockHeight + 100 < height) {\n        return false\n      }\n    }\n    // Use the chain tracker to determine whether this is a valid merkle root at the given block height\n    return await chainTracker.isValidRootForHeight(root, this.blockHeight)\n  }\n\n  /**\n   * Combines this MerklePath with another to create a compound proof.\n   *\n   * @param {MerklePath} other - Another MerklePath to combine with this path.\n   * @throws {Error} - If the paths have different block heights or roots.\n   */\n  combine (other: MerklePath): void {\n    if (this.blockHeight !== other.blockHeight) {\n      throw new Error(\n        'You cannot combine paths which do not have the same block height.'\n      )\n    }\n    const root1 = this.computeRoot()\n    const root2 = other.computeRoot()\n    if (root1 !== root2) {\n      throw new Error(\n        'You cannot combine paths which do not have the same root.'\n      )\n    }\n    const combinedPath: Array<Array<{ offset: number, hash?: string, txid?: boolean, duplicate?: boolean }>> = []\n    for (let h = 0; h < this.path.length; h++) {\n      combinedPath.push([])\n      for (let l = 0; l < this.path[h].length; l++) {\n        combinedPath[h].push(this.path[h][l])\n      }\n      for (let l = 0; l < other.path[h].length; l++) {\n        if (\n          combinedPath[h].find(\n            (leaf) => leaf.offset === other.path[h][l].offset\n          ) === undefined\n        ) {\n          combinedPath[h].push(other.path[h][l])\n        } else {\n          // Ensure that any elements which appear in both are not downgraded to a non txid.\n          if (other.path[h][l]?.txid !== undefined && other.path[h][l]?.txid !== null) {\n            const target = combinedPath[h].find(\n              (leaf) => leaf.offset === other.path[h][l].offset\n            )\n            if (target !== null && target !== undefined) {\n              target.txid = true\n            }\n          }\n        }\n      }\n    }\n    this.path = combinedPath\n    this.trim()\n  }\n\n  /**\n   * Remove all internal nodes that are not required by level zero txid nodes.\n   * Assumes that at least all required nodes are present.\n   * Leaves all levels sorted by increasing offset.\n   */\n  trim (): void {\n    const pushIfNew = (v: number, a: number[]): void => {\n      if (a.length === 0 || a.slice(-1)[0] !== v) {\n        a.push(v)\n      }\n    }\n\n    const dropOffsetsFromLevel = (dropOffsets: number[], level: number): void => {\n      for (let i = dropOffsets.length; i >= 0; i--) {\n        const l = this.path[level].findIndex(\n          (n) => n.offset === dropOffsets[i]\n        )\n        if (l >= 0) {\n          this.path[level].splice(l, 1)\n        }\n      }\n    }\n\n    const nextComputedOffsets = (cos: number[]): number[] => {\n      const ncos: number[] = []\n      for (const o of cos) {\n        pushIfNew(o >> 1, ncos)\n      }\n      return ncos\n    }\n\n    let computedOffsets: number[] = [] // in next level\n    let dropOffsets: number[] = []\n    for (let h = 0; h < this.path.length; h++) {\n      // Sort each level by increasing offset order\n      this.path[h].sort((a, b) => a.offset - b.offset)\n    }\n    for (let l = 0; l < this.path[0].length; l++) {\n      const n = this.path[0][l]\n      if (n.txid === true) {\n        // level 0 must enable computing level 1 for txid nodes\n        pushIfNew(n.offset >> 1, computedOffsets)\n      } else {\n        const isOdd = n.offset % 2 === 1\n        const peer = this.path[0][l + (isOdd ? -1 : 1)]\n        if (peer.txid === undefined || peer.txid === null || !peer.txid) {\n          // drop non-txid level 0 nodes without a txid peer\n          pushIfNew(peer.offset, dropOffsets)\n        }\n      }\n    }\n    dropOffsetsFromLevel(dropOffsets, 0)\n    for (let h = 1; h < this.path.length; h++) {\n      dropOffsets = computedOffsets\n      computedOffsets = nextComputedOffsets(computedOffsets)\n      dropOffsetsFromLevel(dropOffsets, h)\n    }\n  }\n}\n","import {\n  Base64String,\n  PubKeyHex,\n  HexString,\n  OutpointString,\n  CertificateFieldNameUnder50Bytes,\n  WalletProtocol\n} from '../../wallet/Wallet.interfaces.js'\nimport * as Utils from '../../primitives/utils.js'\nimport ProtoWallet from '../../wallet/ProtoWallet.js'\nimport Signature from '../../primitives/Signature.js'\n\n/**\n * Represents an Identity Certificate as per the Wallet interface specifications.\n *\n * This class provides methods to serialize and deserialize certificates, as well as signing and verifying the certificate's signature.\n */\nexport default class Certificate {\n  /**\n   * Type identifier for the certificate, base64 encoded string, 32 bytes.\n   */\n  type: Base64String\n\n  /**\n   * Unique serial number of the certificate, base64 encoded string, 32 bytes.\n   */\n  serialNumber: Base64String\n\n  /**\n   * The public key belonging to the certificate's subject, compressed public key hex string.\n   */\n  subject: PubKeyHex\n\n  /**\n   * Public key of the certifier who issued the certificate, compressed public key hex string.\n   */\n  certifier: PubKeyHex\n\n  /**\n   * The outpoint used to confirm that the certificate has not been revoked (TXID.OutputIndex), as a string.\n   */\n  revocationOutpoint: OutpointString\n\n  /**\n   * All the fields present in the certificate, with field names as keys and encrypted field values as Base64 strings.\n   */\n  fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n\n  /**\n   * Certificate signature by the certifier's private key, DER encoded hex string.\n   */\n  signature?: HexString\n\n  /**\n   * Constructs a new Certificate.\n   *\n   * @param {Base64String} type - Type identifier for the certificate, base64 encoded string, 32 bytes.\n   * @param {Base64String} serialNumber - Unique serial number of the certificate, base64 encoded string, 32 bytes.\n   * @param {PubKeyHex} subject - The public key belonging to the certificate's subject, compressed public key hex string.\n   * @param {PubKeyHex} certifier - Public key of the certifier who issued the certificate, compressed public key hex string.\n   * @param {OutpointString} revocationOutpoint - The outpoint used to confirm that the certificate has not been revoked (TXID.OutputIndex), as a string.\n   * @param {Record<CertificateFieldNameUnder50Bytes, string>} fields - All the fields present in the certificate.\n   * @param {HexString} signature - Certificate signature by the certifier's private key, DER encoded hex string.\n   */\n  constructor(\n    type: Base64String,\n    serialNumber: Base64String,\n    subject: PubKeyHex,\n    certifier: PubKeyHex,\n    revocationOutpoint: OutpointString,\n    fields: Record<CertificateFieldNameUnder50Bytes, string>,\n    signature?: HexString\n  ) {\n    this.type = type\n    this.serialNumber = serialNumber\n    this.subject = subject\n    this.certifier = certifier\n    this.revocationOutpoint = revocationOutpoint\n    this.fields = fields\n    this.signature = signature\n  }\n\n  /**\n   * Serializes the certificate into binary format, with or without a signature.\n   *\n   * @param {boolean} [includeSignature=true] - Whether to include the signature in the serialization.\n   * @returns {number[]} - The serialized certificate in binary format.\n   */\n  toBinary(includeSignature: boolean = true): number[] {\n    const writer = new Utils.Writer()\n\n    // Write type (Base64String, 32 bytes)\n    const typeBytes = Utils.toArray(this.type, 'base64')\n    writer.write(typeBytes)\n\n    // Write serialNumber (Base64String, 32 bytes)\n    const serialNumberBytes = Utils.toArray(this.serialNumber, 'base64')\n    writer.write(serialNumberBytes)\n\n    // Write subject (33 bytes compressed PubKeyHex)\n    const subjectBytes = Utils.toArray(this.subject, 'hex')\n    writer.write(subjectBytes)\n\n    // Write certifier (33 bytes compressed PubKeyHex)\n    const certifierBytes = Utils.toArray(this.certifier, 'hex')\n    writer.write(certifierBytes)\n\n    // Write revocationOutpoint (TXID + OutputIndex)\n    const [txid, outputIndex] = this.revocationOutpoint.split('.')\n    const txidBytes = Utils.toArray(txid, 'hex')\n    writer.write(txidBytes)\n    writer.writeVarIntNum(Number(outputIndex))\n\n    // Write fields\n    // Sort field names lexicographically\n    const fieldNames = Object.keys(this.fields).sort()\n    writer.writeVarIntNum(fieldNames.length)\n    for (const fieldName of fieldNames) {\n      const fieldValue = this.fields[fieldName]\n\n      // Field name\n      const fieldNameBytes = Utils.toArray(fieldName, 'utf8')\n      writer.writeVarIntNum(fieldNameBytes.length)\n      writer.write(fieldNameBytes)\n\n      // Field value\n      const fieldValueBytes = Utils.toArray(fieldValue, 'utf8')\n      writer.writeVarIntNum(fieldValueBytes.length)\n      writer.write(fieldValueBytes)\n    }\n\n    // Write signature if included\n    if (includeSignature && (this.signature ?? '').length > 0) { //  Explicitly handle nullish signature\n      const signatureBytes = Utils.toArray(this.signature as string, 'hex') //  Type assertion ensures it's a string\n      writer.write(signatureBytes)\n    }\n\n    return writer.toArray()\n  }\n\n  /**\n   * Deserializes a certificate from binary format.\n   *\n   * @param {number[]} bin - The binary data representing the certificate.\n   * @returns {Certificate} - The deserialized Certificate object.\n   */\n  static fromBinary(bin: number[]): Certificate {\n    const reader = new Utils.Reader(bin)\n\n    // Read type\n    const typeBytes = reader.read(32)\n    const type = Utils.toBase64(typeBytes)\n\n    // Read serialNumber\n    const serialNumberBytes = reader.read(32)\n    const serialNumber = Utils.toBase64(serialNumberBytes)\n\n    // Read subject (33 bytes)\n    const subjectBytes = reader.read(33)\n    const subject = Utils.toHex(subjectBytes)\n\n    // Read certifier (33 bytes)\n    const certifierBytes = reader.read(33)\n    const certifier = Utils.toHex(certifierBytes)\n\n    // Read revocationOutpoint\n    const txidBytes = reader.read(32)\n    const txid = Utils.toHex(txidBytes)\n    const outputIndex = reader.readVarIntNum()\n    const revocationOutpoint = `${txid}.${outputIndex}`\n\n    // Read fields\n    const numFields = reader.readVarIntNum()\n    const fields: Record<CertificateFieldNameUnder50Bytes, string> = {}\n    for (let i = 0; i < numFields; i++) {\n      // Field name\n      const fieldNameLength = reader.readVarIntNum()\n      const fieldNameBytes = reader.read(fieldNameLength)\n      const fieldName = Utils.toUTF8(fieldNameBytes)\n\n      // Field value\n      const fieldValueLength = reader.readVarIntNum()\n      const fieldValueBytes = reader.read(fieldValueLength)\n      const fieldValue = Utils.toUTF8(fieldValueBytes)\n\n      fields[fieldName] = fieldValue\n    }\n\n    // Read signature if present\n    let signature: string | undefined\n    if (!reader.eof()) {\n      const signatureBytes = reader.read()\n      const sig = Signature.fromDER(signatureBytes)\n      signature = sig.toString('hex') as string\n    }\n\n    return new Certificate(\n      type,\n      serialNumber,\n      subject,\n      certifier,\n      revocationOutpoint,\n      fields,\n      signature\n    )\n  }\n\n  /**\n   * Verifies the certificate's signature.\n   *\n   * @returns {Promise<boolean>} - A promise that resolves to true if the signature is valid.\n   */\n  async verify(): Promise<boolean> {\n    // A verifier can be any wallet capable of verifying signatures\n    const verifier = new ProtoWallet('anyone')\n    const verificationData = this.toBinary(false) // Exclude the signature from the verification data\n\n    const signatureHex = this.signature ?? '' // Provide a fallback value (empty string)\n\n    const { valid } = await verifier.verifySignature({\n      signature: Utils.toArray(signatureHex, 'hex'), // Now it is always a string\n      data: verificationData,\n      protocolID: [2, 'certificate signature'],\n      keyID: `${this.type} ${this.serialNumber}`,\n      counterparty: this.certifier // The certifier is the one who signed the certificate\n    })\n\n    return valid\n  }\n\n  /**\n * Signs the certificate using the provided certifier wallet.\n *\n * @param {Wallet} certifierWallet - The wallet representing the certifier.\n * @returns {Promise<void>}\n */\n  async sign(certifierWallet: ProtoWallet): Promise<void> {\n    if (this.signature != null && this.signature.length > 0) { //  Explicitly checking for null/undefined\n      throw new Error(\n        `Certificate has already been signed! Signature present: ${this.signature}`\n      )\n    }\n\n    // Ensure the certifier declared is the one actually signing\n    this.certifier = (\n      await certifierWallet.getPublicKey({ identityKey: true })\n    ).publicKey\n\n    const preimage = this.toBinary(false) // Exclude the signature when signing\n    const { signature } = await certifierWallet.createSignature({\n      data: preimage,\n      protocolID: [2, 'certificate signature'],\n      keyID: `${this.type} ${this.serialNumber}`\n    })\n    this.signature = Utils.toHex(signature)\n  }\n\n  /**\n   * Helper function which retrieves the protocol ID and key ID for certificate field encryption.\n   *\n   * For master certificate creation, no serial number is provided because entropy is required\n   * from both the client and the certifier. In this case, the `keyID` is simply the `fieldName`.\n   *\n   * For VerifiableCertificates verifier keyring creation, both the serial number and field name are available,\n   * so the `keyID` is formed by concatenating the `serialNumber` and `fieldName`.\n   *\n   * @param fieldName - The name of the field within the certificate to be encrypted.\n   * @param serialNumber - (Optional) The serial number of the certificate.\n   * @returns An object containing:\n   *   - `protocolID` (WalletProtocol): The protocol ID for certificate field encryption.\n   *   - `keyID` (string): A unique key identifier. It is the `fieldName` if `serialNumber` is undefined,\n   *     otherwise it is a combination of `serialNumber` and `fieldName`.\n   */\n  static getCertificateFieldEncryptionDetails(\n    fieldName: string,\n    serialNumber?: string\n  ): { protocolID: WalletProtocol, keyID: string } {\n    return {\n      protocolID: [2, 'certificate field encryption'],\n      keyID: serialNumber ? `${serialNumber} ${fieldName}` : fieldName\n    }\n  }\n}\n","import Point from './Point.js'\nimport PrivateKey from './PrivateKey.js'\nimport Curve from './Curve.js'\nimport { verify } from './ECDSA.js'\nimport BigNumber from './BigNumber.js'\nimport { sha256, sha256hmac, hash160 } from './Hash.js'\nimport Signature from './Signature.js'\nimport { toArray, toBase58Check, toHex } from './utils.js'\n\n/**\n * The PublicKey class extends the Point class. It is used in public-key cryptography to derive shared secret, verify message signatures, and encode the public key in the DER format.\n * The class comes with static methods to generate PublicKey instances from private keys or from strings.\n *\n * @extends {Point}\n * @see {@link Point} for more information on Point.\n */\nexport default class PublicKey extends Point {\n  /**\n   * Static factory method to derive a public key from a private key.\n   * It multiplies the generator point 'g' on the elliptic curve by the private key.\n   *\n   * @static\n   * @method fromPrivateKey\n   *\n   * @param key - The private key from which to derive the public key.\n   *\n   * @returns Returns the PublicKey derived from the given PrivateKey.\n   *\n   * @example\n   * const myPrivKey = new PrivateKey(...)\n   * const myPubKey = PublicKey.fromPrivateKey(myPrivKey)\n   */\n  static fromPrivateKey (key: PrivateKey): PublicKey {\n    const c = new Curve()\n    const p = c.g.mul(key)\n    return new PublicKey(p.x, p.y)\n  }\n\n  /**\n   * Static factory method to create a PublicKey instance from a string.\n   *\n   * @param str - A string representing a public key.\n   *\n   * @returns Returns the PublicKey created from the string.\n   *\n   * @example\n   * const myPubKey = PublicKey.fromString(\"03....\")\n   */\n  static fromString (str: string): PublicKey {\n    const p = Point.fromString(str)\n    return new PublicKey(p.x, p.y)\n  }\n\n  /**\n   * Static factory method to create a PublicKey instance from a number array.\n   *\n   * @param bytes - A number array representing a public key.\n   *\n   * @returns Returns the PublicKey created from the number array.\n   *\n   * @example\n   * const myPubKey = PublicKey.fromString(\"03....\")\n   */\n  static fromDER (bytes: number[]): PublicKey {\n    const p = Point.fromDER(bytes)\n    return new PublicKey(p.x, p.y)\n  }\n\n  /**\n   * @constructor\n   * @param x - A point or the x-coordinate of the point. May be a number, a BigNumber, a string (which will be interpreted as hex), a number array, or null. If null, an \"Infinity\" point is constructed.\n   * @param y - If x is not a point, the y-coordinate of the point, similar to x.\n   * @param isRed - A boolean indicating if the point is a member of the field of integers modulo the k256 prime. Default is true.\n   *\n   * @example\n   * new PublicKey(point1);\n   * new PublicKey('abc123', 'def456');\n   */\n  constructor (\n    x: Point | BigNumber | number | number[] | string | null,\n    y: BigNumber | number | number[] | string | null = null,\n    isRed: boolean = true\n  ) {\n    if (x instanceof Point) {\n      super(x.getX(), x.getY())\n    } else {\n      // Common gotcha: constructing PublicKey with a DER value when you should use .fromString()\n      if (y === null && isRed && typeof x === 'string') {\n        if (x.length === 66 || x.length === 130) {\n          throw new Error(\n            'You are using the \"new PublicKey()\" constructor with a DER hex string. You need to use \"PublicKey.fromString()\" instead.'\n          )\n        }\n      }\n      super(x, y, isRed)\n    }\n  }\n\n  /**\n   * Derive a shared secret from a public key and a private key for use in symmetric encryption.\n   * This method multiplies the public key (an instance of Point) with a private key.\n   *\n   * @param priv - The private key to use in deriving the shared secret.\n   *\n   * @returns Returns the Point representing the shared secret.\n   *\n   * @throws Will throw an error if the public key is not valid for ECDH secret derivation.\n   *\n   * @example\n   * const myPrivKey = new PrivateKey(...)\n   * const sharedSecret = myPubKey.deriveSharedSecret(myPrivKey)\n   */\n  deriveSharedSecret (priv: PrivateKey): Point {\n    if (!this.validate()) {\n      throw new Error('Public key not valid for ECDH secret derivation')\n    }\n    return this.mul(priv)\n  }\n\n  /**\n   * Verify a signature of a message using this public key.\n   *\n   * @param msg - The message to verify. It can be a string or an array of numbers.\n   * @param sig - The Signature of the message that needs verification.\n   * @param enc - The encoding of the message. It defaults to 'utf8'.\n   *\n   * @returns Returns true if the signature is verified successfully, otherwise false.\n   *\n   * @example\n   * const myMessage = \"Hello, world!\"\n   * const mySignature = new Signature(...)\n   * const isVerified = myPubKey.verify(myMessage, mySignature)\n   */\n  verify (\n    msg: number[] | string,\n    sig: Signature,\n    enc?: 'hex' | 'utf8'\n  ): boolean {\n    const msgHash = new BigNumber(sha256(msg, enc), 16)\n    return verify(msgHash, sig, this)\n  }\n\n  /**\n   * Encode the public key to DER (Distinguished Encoding Rules) format.\n   *\n   * @returns Returns the DER-encoded public key in number array or string.\n   *\n   * @param enc - The encoding of the DER string. undefined = number array, 'hex' = hex string.\n   *\n   * @example\n   * const derPublicKey = myPubKey.toDER()\n   */\n  toDER (enc?: 'hex' | undefined): number[] | string {\n    if (enc === 'hex') return this.encode(true, enc) as string\n    return this.encode(true) as number[]\n  }\n\n  /**\n   * Hash sha256 and ripemd160 of the public key.\n   *\n   * @returns Returns the hash of the public key.\n   *\n   * @example\n   * const publicKeyHash = pubkey.toHash()\n   */\n  toHash (enc?: 'hex'): number[] | string {\n    const pkh = hash160(this.encode(true))\n    if (enc === 'hex') {\n      return toHex(pkh)\n    }\n    return pkh\n  }\n\n  /**\n   * Base58Check encodes the hash of the public key with a prefix to indicate locking script type.\n   * Defaults to P2PKH for mainnet, otherwise known as a \"Bitcoin Address\".\n   *\n   * @param prefix defaults to [0x00] for mainnet, set to [0x6f] for testnet or use the strings 'mainnet' or 'testnet'\n   *\n   * @returns Returns the address encoding associated with the hash of the public key.\n   *\n   * @example\n   * const address = pubkey.toAddress()\n   * const address = pubkey.toAddress('mainnet')\n   * const testnetAddress = pubkey.toAddress([0x6f])\n   * const testnetAddress = pubkey.toAddress('testnet')\n   */\n  toAddress (prefix: number[] | string = [0x00]): string {\n    if (typeof prefix === 'string') {\n      if (prefix === 'testnet' || prefix === 'test') {\n        prefix = [0x6f]\n      } else if (prefix === 'mainnet' || prefix === 'main') {\n        prefix = [0x00]\n      } else {\n        throw new Error(`Invalid prefix ${prefix}`)\n      }\n    }\n    return toBase58Check(this.toHash() as number[], prefix)\n  }\n\n  /**\n   * Derives a child key with BRC-42.\n   * @param privateKey The private key of the other party\n   * @param invoiceNumber The invoice number used to derive the child key\n   * @returns The derived child key.\n   */\n  deriveChild (privateKey: PrivateKey, invoiceNumber: string): PublicKey {\n    const sharedSecret = this.deriveSharedSecret(privateKey)\n    const invoiceNumberBin = toArray(invoiceNumber, 'utf8')\n    const hmac = sha256hmac(sharedSecret.encode(true), invoiceNumberBin)\n    const curve = new Curve()\n    const point = curve.g.mul(new BigNumber(hmac))\n    const finalPoint = this.add(point)\n    return new PublicKey(finalPoint.x, finalPoint.y)\n  }\n\n  /**\n   * Takes an array of numbers or a string and returns a new PublicKey instance.\n   * This method will throw an error if the Compact encoding is invalid.\n   * If a string is provided, it is assumed to represent a hexadecimal sequence.\n   * compactByte value 27-30 means uncompressed public key.\n   * 31-34 means compressed public key.\n   * The range represents the recovery param which can be 0,1,2,3.\n   *\n   * @static\n   * @method fromMsgHashAndCompactSignature\n   * @param msgHash - The message hash which was signed.\n   * @param signature - The signature in compact format.\n   * @param enc - The encoding of the signature string.\n   * @returns A PublicKey instance derived from the message hash and compact signature.\n   * @example\n   * const publicKey = Signature.fromMsgHashAndCompactSignature(msgHash, 'IMOl2mVKfDgsSsHT4uIYBNN4e...', 'base64');\n   */\n  static fromMsgHashAndCompactSignature (\n    msgHash: BigNumber,\n    signature: number[] | string,\n    enc?: 'hex' | 'base64'\n  ): PublicKey {\n    const data = toArray(signature, enc)\n    if (data.length !== 65) {\n      throw new Error('Invalid Compact Signature')\n    }\n    const compactByte = data[0]\n    if (compactByte < 27 || compactByte >= 35) {\n      throw new Error('Invalid Compact Byte')\n    }\n    let r = data[0] - 27\n    // NOTE: We don't use uncompressed pubkeys in this library,\n    // but whether the key is compressed is captured in the recovery param.\n    // Code below is commented out for reference of how you could capture this.\n    // let compressed = false\n    if (r > 3) {\n      // compressed = true\n      r -= 4\n    }\n    const s = new Signature(\n      new BigNumber(data.slice(1, 33)),\n      new BigNumber(data.slice(33, 65))\n    )\n    return s.RecoverPublicKey(r, msgHash)\n  }\n}\n","import PrivateKey from './PrivateKey.js'\nimport BigNumber from './BigNumber.js'\nimport Curve from './Curve.js'\nimport Random from './Random.js'\nimport { fromBase58, toBase58 } from './utils.js'\n\nexport class PointInFiniteField {\n  x: BigNumber\n  y: BigNumber\n\n  constructor (x: BigNumber, y: BigNumber) {\n    const P = new Curve().p // arithmetic is mod P\n    this.x = x.umod(P)\n    this.y = y.umod(P)\n  }\n\n  toString (): string {\n    return toBase58(this.x.toArray()) + '.' + toBase58(this.y.toArray())\n  }\n\n  static fromString (str: string): PointInFiniteField {\n    const [x, y] = str.split('.')\n    return new PointInFiniteField(\n      new BigNumber(fromBase58(x)),\n      new BigNumber(fromBase58(y))\n    )\n  }\n}\n\n/**\n * Polynomial class\n *\n * This class is used to create a polynomial with a given threshold and a private key.\n * The polynomial is used to create shares of the private key.\n *\n * @param key - The private key to split\n * @param threshold - The number of shares required to recombine the private key\n *\n * @example\n * const key = new PrivateKey()\n * const threshold = 2\n * const polynomial = new Polynomial(key, threshold)\n *\n */\nexport default class Polynomial {\n  readonly points: PointInFiniteField[]\n  readonly threshold: number\n\n  constructor (points: PointInFiniteField[], threshold?: number) {\n    this.points = points\n    this.threshold = threshold ?? points.length //  Handles undefined safely\n  }\n\n  static fromPrivateKey (key: PrivateKey, threshold: number): Polynomial {\n    const P = new Curve().p // arithmetic is mod P\n    // The key is the y-intercept of the polynomial where x=0.\n    const points = [\n      new PointInFiniteField(new BigNumber(0), new BigNumber(key.toArray()))\n    ]\n\n    // The other values are random\n    for (let i = 1; i < threshold; i++) {\n      const randomX = new BigNumber(Random(32)).umod(P)\n      const randomY = new BigNumber(Random(32)).umod(P)\n      points.push(new PointInFiniteField(randomX, randomY))\n    }\n\n    return new Polynomial(points)\n  }\n\n  // Evaluate the polynomial at x by using Lagrange interpolation\n  valueAt (x: BigNumber): BigNumber {\n    const P = new Curve().p // arithmetic is mod P\n    let y = new BigNumber(0)\n    for (let i = 0; i < this.threshold; i++) {\n      let term = this.points[i].y\n      for (let j = 0; j < this.threshold; j++) {\n        if (i !== j) {\n          const xj = this.points[j].x\n          const xi = this.points[i].x\n\n          const numerator = x.sub(xj).umod(P)\n          const denominator = xi.sub(xj).umod(P)\n          const denominatorInverse = denominator.invm(P)\n\n          const fraction = numerator.mul(denominatorInverse).umod(P)\n          term = term.mul(fraction).umod(P)\n        }\n      }\n      y = y.add(term).umod(P)\n    }\n    return y\n  }\n}\n","import BigNumber from './BigNumber.js'\nimport Curve from './Curve.js'\nimport Point from './Point.js'\nimport { sha256 } from './Hash.js'\nimport { PrivateKey, PublicKey } from './index.js'\n\n/**\n * Class representing the Schnorr Zero-Knowledge Proof (ZKP) protocol.\n *\n * This class provides methods to generate and verify proofs that demonstrate knowledge of a secret without revealing it.\n * Specifically, it allows one party to prove to another that they know the private key corresponding to a public key\n * and have correctly computed a shared secret, without disclosing the private key itself.\n *\n * The protocol involves two main methods:\n * - `generateProof`: Generates a proof linking a public key `A` and a shared secret `S`, proving knowledge of the corresponding private key `a`.\n * - `verifyProof`: Verifies the provided proof, ensuring its validity without revealing any secret information.\n *\n * The class utilizes elliptic curve cryptography (ECC) and the SHA-256 hash function to compute challenges within the proof.\n *\n * @example\n * ```typescript\n * const schnorr = new Schnorr();\n * const a = PrivateKey.fromRandom(); // Prover's private key\n * const A = a.toPublicKey();         // Prover's public key\n * const b = PrivateKey.fromRandom(); // Other party's private key\n * const B = b.toPublicKey();         // Other party's public key\n * const S = B.mul(a);                // Shared secret\n *\n * // Prover generates the proof\n * const proof = schnorr.generateProof(a, A, B, S);\n *\n * // Verifier verifies the proof\n * const isValid = schnorr.verifyProof(A.point, B.point, S.point, proof);\n * console.log(`Proof is valid: ${isValid}`);\n * ```\n */\nexport default class Schnorr {\n  private readonly curve: Curve\n\n  constructor () {\n    this.curve = new Curve()\n  }\n\n  /**\n   * Generates a proof that demonstrates the link between public key A and shared secret S\n   * @param a Private key corresponding to public key A\n   * @param A Public key\n   * @param B Other party's public key\n   * @param S Shared secret\n   * @returns Proof (R, S', z)\n   */\n  generateProof (\n    aArg: PrivateKey,\n    AArg: PublicKey,\n    BArg: PublicKey,\n    S: Point\n  ): { R: Point, SPrime: Point, z: BigNumber } {\n    const r = PrivateKey.fromRandom()\n    const R = r.toPublicKey()\n    const SPrime = BArg.mul(r)\n    const e = this.computeChallenge(AArg, BArg, S, SPrime, R)\n    const z = r.add(e.mul(aArg)).umod(this.curve.n)\n    return { R, SPrime, z }\n  }\n\n  /**\n   * Verifies the proof of the link between public key A and shared secret S\n   * @param A Public key\n   * @param B Other party's public key\n   * @param S Shared secret\n   * @param proof Proof (R, S', z)\n   * @returns True if the proof is valid, false otherwise\n   */\n  verifyProof (\n    A: Point,\n    B: Point,\n    S: Point,\n    proof: { R: Point, SPrime: Point, z: BigNumber }\n  ): boolean {\n    const { R, SPrime, z } = proof\n    const e = this.computeChallenge(A, B, S, SPrime, R)\n\n    // Check zG = R + eA\n    const zG = this.curve.g.mul(z)\n    const RpluseA = R.add(A.mul(e))\n    if (!zG.eq(RpluseA)) {\n      return false\n    }\n\n    // Check zB = S' + eS\n    const zB = B.mul(z)\n    const SprimeeS = SPrime.add(S.mul(e))\n    if (!zB.eq(SprimeeS)) {\n      return false\n    }\n\n    return true\n  }\n\n  private computeChallenge (\n    A: Point,\n    B: Point,\n    S: Point,\n    SPrime: Point,\n    R: Point\n  ): BigNumber {\n    const message = [\n      ...A.encode(true),\n      ...B.encode(true),\n      ...S.encode(true),\n      ...SPrime.encode(true),\n      ...R.encode(true)\n    ] as number[]\n    const hash = sha256(message)\n    return new BigNumber(hash).umod(this.curve.n)\n  }\n}\n","import { WalletInterface, SecurityLevel } from '../Wallet.interfaces.js'\nimport WalletWire from './WalletWire.js'\nimport * as Utils from '../../primitives/utils.js'\nimport calls from './WalletWireCalls.js'\nimport Certificate from '../../auth/certificates/Certificate.js'\n\n/**\n * Processes incoming wallet calls received over a wallet wire, with a given wallet.\n */\nexport default class WalletWireProcessor implements WalletWire {\n  wallet: WalletInterface\n\n  constructor(wallet: WalletInterface) {\n    this.wallet = wallet\n  }\n\n  private decodeOutpoint(reader: Utils.Reader): string {\n    const txidBytes = reader.read(32)\n    const txid = Utils.toHex(txidBytes)\n    const index = reader.readVarIntNum()\n    return `${txid}.${index}`\n  }\n\n  private encodeOutpoint(outpoint: string): number[] {\n    const writer = new Utils.Writer()\n    const [txid, index] = outpoint.split('.')\n    writer.write(Utils.toArray(txid, 'hex'))\n    writer.writeVarIntNum(Number(index))\n    return writer.toArray()\n  }\n\n  async transmitToWallet(message: number[]): Promise<number[]> {\n    const messageReader = new Utils.Reader(message)\n    try {\n      // Read call code\n      const callCode = messageReader.readUInt8()\n\n      // Map call code to call name\n      const callName = calls[callCode] // calls is enum\n      if (callName === undefined || callName === '') {\n        // Invalid call code\n        throw new Error(`Invalid call code: ${callCode}`)\n      }\n\n      // Read originator length\n      const originatorLength = messageReader.readUInt8()\n      const originatorBytes = messageReader.read(originatorLength)\n      const originator = Utils.toUTF8(originatorBytes)\n\n      // Read parameters\n      const paramsReader = messageReader // Remaining bytes\n\n      switch (callName) {\n        case 'createAction': {\n          // Deserialize parameters from paramsReader\n          const args: any = {}\n\n          // Read description\n          const descriptionLength = paramsReader.readVarIntNum()\n          const descriptionBytes = paramsReader.read(descriptionLength)\n          args.description = Utils.toUTF8(descriptionBytes)\n\n          // tx\n          const inputBeefLength = paramsReader.readVarIntNum()\n          if (inputBeefLength >= 0) {\n            args.inputBEEF = paramsReader.read(inputBeefLength) // BEEF (Byte[])\n          } else {\n            args.inputBEEF = undefined\n          }\n\n          // Read inputs\n          const inputsLength = paramsReader.readVarIntNum()\n          if (inputsLength >= 0) {\n            args.inputs = []\n            for (let i = 0; i < inputsLength; i++) {\n              const input: any = {}\n\n              // outpoint\n              input.outpoint = this.decodeOutpoint(paramsReader)\n\n              // unlockingScript / unlockingScriptLength\n              const unlockingScriptLength = paramsReader.readVarIntNum()\n              if (unlockingScriptLength >= 0) {\n                const unlockingScriptBytes = paramsReader.read(\n                  unlockingScriptLength\n                )\n                input.unlockingScript = Utils.toHex(unlockingScriptBytes)\n              } else {\n                input.unlockingScript = undefined\n                const unlockingScriptLengthValue = paramsReader.readVarIntNum()\n                input.unlockingScriptLength = unlockingScriptLengthValue\n              }\n\n              // inputDescription\n              const inputDescriptionLength = paramsReader.readVarIntNum()\n              const inputDescriptionBytes = paramsReader.read(\n                inputDescriptionLength\n              )\n              input.inputDescription = Utils.toUTF8(inputDescriptionBytes)\n\n              // sequenceNumber\n              const sequenceNumber = paramsReader.readVarIntNum()\n              if (sequenceNumber >= 0) {\n                input.sequenceNumber = sequenceNumber\n              } else {\n                input.sequenceNumber = undefined\n              }\n\n              args.inputs.push(input)\n            }\n          } else {\n            args.inputs = undefined\n          }\n\n          // Read outputs\n          const outputsLength = paramsReader.readVarIntNum()\n          if (outputsLength >= 0) {\n            args.outputs = []\n            for (let i = 0; i < outputsLength; i++) {\n              const output: any = {}\n\n              // lockingScript\n              const lockingScriptLength = paramsReader.readVarIntNum()\n              const lockingScriptBytes = paramsReader.read(lockingScriptLength)\n              output.lockingScript = Utils.toHex(lockingScriptBytes)\n\n              // satoshis\n              output.satoshis = paramsReader.readVarIntNum()\n\n              // outputDescription\n              const outputDescriptionLength = paramsReader.readVarIntNum()\n              const outputDescriptionBytes = paramsReader.read(\n                outputDescriptionLength\n              )\n              output.outputDescription = Utils.toUTF8(outputDescriptionBytes)\n\n              // basket\n              const basketLength = paramsReader.readVarIntNum()\n              if (basketLength >= 0) {\n                const basketBytes = paramsReader.read(basketLength)\n                output.basket = Utils.toUTF8(basketBytes)\n              } else {\n                output.basket = undefined\n              }\n\n              // customInstructions\n              const customInstructionsLength = paramsReader.readVarIntNum()\n              if (customInstructionsLength >= 0) {\n                const customInstructionsBytes = paramsReader.read(\n                  customInstructionsLength\n                )\n                output.customInstructions = Utils.toUTF8(\n                  customInstructionsBytes\n                )\n              } else {\n                output.customInstructions = undefined\n              }\n\n              // tags\n              const tagsLength = paramsReader.readVarIntNum()\n              if (tagsLength >= 0) {\n                output.tags = []\n                for (let j = 0; j < tagsLength; j++) {\n                  const tagLength = paramsReader.readVarIntNum()\n                  const tagBytes = paramsReader.read(tagLength)\n                  const tag = Utils.toUTF8(tagBytes)\n                  output.tags.push(tag)\n                }\n              } else {\n                output.tags = undefined\n              }\n\n              args.outputs.push(output)\n            }\n          } else {\n            args.outputs = undefined\n          }\n\n          // lockTime\n          const lockTime = paramsReader.readVarIntNum()\n          if (lockTime >= 0) {\n            args.lockTime = lockTime\n          } else {\n            args.lockTime = undefined\n          }\n\n          // version\n          const version = paramsReader.readVarIntNum()\n          if (version >= 0) {\n            args.version = version\n          } else {\n            args.version = undefined\n          }\n\n          // labels\n          const labelsLength = paramsReader.readVarIntNum()\n          if (labelsLength >= 0) {\n            args.labels = []\n            for (let i = 0; i < labelsLength; i++) {\n              const labelLength = paramsReader.readVarIntNum()\n              const labelBytes = paramsReader.read(labelLength)\n              const label = Utils.toUTF8(labelBytes)\n              args.labels.push(label)\n            }\n          } else {\n            args.labels = undefined\n          }\n\n          // options\n          const optionsPresent = paramsReader.readInt8()\n          if (optionsPresent === 1) {\n            args.options = {}\n\n            // signAndProcess\n            const signAndProcessFlag = paramsReader.readInt8()\n            if (signAndProcessFlag === -1) {\n              args.options.signAndProcess = undefined\n            } else {\n              args.options.signAndProcess = signAndProcessFlag === 1\n            }\n\n            // acceptDelayedBroadcast\n            const acceptDelayedBroadcastFlag = paramsReader.readInt8()\n            if (acceptDelayedBroadcastFlag === -1) {\n              args.options.acceptDelayedBroadcast = undefined\n            } else {\n              args.options.acceptDelayedBroadcast =\n                acceptDelayedBroadcastFlag === 1\n            }\n\n            // trustSelf\n            const trustSelfFlag = paramsReader.readInt8()\n            if (trustSelfFlag === -1) {\n              args.options.trustSelf = undefined\n            } else if (trustSelfFlag === 1) {\n              args.options.trustSelf = 'known'\n            }\n\n            // knownTxids\n            const knownTxidsLength = paramsReader.readVarIntNum()\n            if (knownTxidsLength >= 0) {\n              args.options.knownTxids = []\n              for (let i = 0; i < knownTxidsLength; i++) {\n                const txidBytes = paramsReader.read(32)\n                const txid = Utils.toHex(txidBytes)\n                args.options.knownTxids.push(txid)\n              }\n            } else {\n              args.options.knownTxids = undefined\n            }\n\n            // returnTXIDOnly\n            const returnTXIDOnlyFlag = paramsReader.readInt8()\n            if (returnTXIDOnlyFlag === -1) {\n              args.options.returnTXIDOnly = undefined\n            } else {\n              args.options.returnTXIDOnly = returnTXIDOnlyFlag === 1\n            }\n\n            // noSend\n            const noSendFlag = paramsReader.readInt8()\n            if (noSendFlag === -1) {\n              args.options.noSend = undefined\n            } else {\n              args.options.noSend = noSendFlag === 1\n            }\n\n            // noSendChange\n            const noSendChangeLength = paramsReader.readVarIntNum()\n            if (noSendChangeLength >= 0) {\n              args.options.noSendChange = []\n              for (let i = 0; i < noSendChangeLength; i++) {\n                const outpoint = this.decodeOutpoint(paramsReader)\n                args.options.noSendChange.push(outpoint)\n              }\n            } else {\n              args.options.noSendChange = undefined\n            }\n\n            // sendWith\n            const sendWithLength = paramsReader.readVarIntNum()\n            if (sendWithLength >= 0) {\n              args.options.sendWith = []\n              for (let i = 0; i < sendWithLength; i++) {\n                const txidBytes = paramsReader.read(32)\n                const txid = Utils.toHex(txidBytes)\n                args.options.sendWith.push(txid)\n              }\n            } else {\n              args.options.sendWith = undefined\n            }\n\n            // randomizeOutputs\n            const randomizeOutputsFlag = paramsReader.readInt8()\n            if (randomizeOutputsFlag === -1) {\n              args.options.randomizeOutputs = undefined\n            } else {\n              args.options.randomizeOutputs = randomizeOutputsFlag === 1\n            }\n          } else {\n            args.options = undefined\n          }\n\n          // Call the method\n          const createActionResult = await this.wallet.createAction(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const resultWriter = new Utils.Writer()\n\n          // txid\n          if (createActionResult.txid != null && createActionResult.txid !== '') {\n            resultWriter.writeInt8(1)\n            resultWriter.write(Utils.toArray(createActionResult.txid, 'hex'))\n          } else {\n            resultWriter.writeInt8(0)\n          }\n\n          // tx\n          if (createActionResult.tx != null) {\n            resultWriter.writeInt8(1)\n            resultWriter.writeVarIntNum(createActionResult.tx.length)\n            resultWriter.write(createActionResult.tx)\n          } else {\n            resultWriter.writeInt8(0)\n          }\n\n          // noSendChange\n          if (createActionResult.noSendChange != null) {\n            resultWriter.writeVarIntNum(createActionResult.noSendChange.length)\n            for (const outpoint of createActionResult.noSendChange) {\n              resultWriter.write(this.encodeOutpoint(outpoint))\n            }\n          } else {\n            resultWriter.writeVarIntNum(-1)\n          }\n\n          // sendWithResults\n          if (createActionResult.sendWithResults != null) {\n            resultWriter.writeVarIntNum(\n              createActionResult.sendWithResults.length\n            )\n            for (const result of createActionResult.sendWithResults) {\n              resultWriter.write(Utils.toArray(result.txid, 'hex'))\n              let statusCode\n              if (result.status === 'unproven') statusCode = 1\n              else if (result.status === 'sending') statusCode = 2\n              else if (result.status === 'failed') statusCode = 3\n              resultWriter.writeInt8(statusCode)\n            }\n          } else {\n            resultWriter.writeVarIntNum(-1)\n          }\n\n          // signableTransaction\n          if (createActionResult.signableTransaction != null) {\n            resultWriter.writeInt8(1)\n            resultWriter.writeVarIntNum(\n              createActionResult.signableTransaction.tx.length\n            )\n            resultWriter.write(createActionResult.signableTransaction.tx)\n            const referenceBytes = Utils.toArray(\n              createActionResult.signableTransaction.reference,\n              'base64'\n            )\n            resultWriter.writeVarIntNum(referenceBytes.length)\n            resultWriter.write(referenceBytes)\n          } else {\n            resultWriter.writeInt8(0)\n          }\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n        case 'signAction': {\n          const args: any = {}\n\n          // Deserialize spends\n          const spendCount = paramsReader.readVarIntNum()\n          args.spends = {}\n          for (let i = 0; i < spendCount; i++) {\n            const inputIndex = paramsReader.readVarIntNum()\n            const spend: any = {}\n\n            // unlockingScript\n            const unlockingScriptLength = paramsReader.readVarIntNum()\n            const unlockingScriptBytes = paramsReader.read(\n              unlockingScriptLength\n            )\n            spend.unlockingScript = Utils.toHex(unlockingScriptBytes)\n\n            // sequenceNumber\n            const sequenceNumber = paramsReader.readVarIntNum()\n            if (sequenceNumber >= 0) {\n              spend.sequenceNumber = sequenceNumber\n            } else {\n              spend.sequenceNumber = undefined\n            }\n\n            args.spends[inputIndex] = spend\n          }\n\n          // Deserialize reference\n          const referenceLength = paramsReader.readVarIntNum()\n          const referenceBytes = paramsReader.read(referenceLength)\n          args.reference = Utils.toBase64(referenceBytes)\n\n          // Deserialize options\n          const optionsPresent = paramsReader.readInt8()\n          if (optionsPresent === 1) {\n            args.options = {}\n\n            // acceptDelayedBroadcast\n            const acceptDelayedBroadcastFlag = paramsReader.readInt8()\n            if (acceptDelayedBroadcastFlag === -1) {\n              args.options.acceptDelayedBroadcast = undefined\n            } else {\n              args.options.acceptDelayedBroadcast =\n                acceptDelayedBroadcastFlag === 1\n            }\n\n            // returnTXIDOnly\n            const returnTXIDOnlyFlag = paramsReader.readInt8()\n            if (returnTXIDOnlyFlag === -1) {\n              args.options.returnTXIDOnly = undefined\n            } else {\n              args.options.returnTXIDOnly = returnTXIDOnlyFlag === 1\n            }\n\n            // noSend\n            const noSendFlag = paramsReader.readInt8()\n            if (noSendFlag === -1) {\n              args.options.noSend = undefined\n            } else {\n              args.options.noSend = noSendFlag === 1\n            }\n\n            // sendWith\n            const sendWithLength = paramsReader.readVarIntNum()\n            if (sendWithLength >= 0) {\n              args.options.sendWith = []\n              for (let i = 0; i < sendWithLength; i++) {\n                const txidBytes = paramsReader.read(32)\n                const txid = Utils.toHex(txidBytes)\n                args.options.sendWith.push(txid)\n              }\n            } else {\n              args.options.sendWith = undefined\n            }\n          } else {\n            args.options = undefined\n          }\n\n          // Call the method\n          const signActionResult = await this.wallet.signAction(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const resultWriter = new Utils.Writer()\n\n          // txid\n          if (signActionResult.txid != null && signActionResult.txid !== '') {\n            resultWriter.writeInt8(1)\n            resultWriter.write(Utils.toArray(signActionResult.txid, 'hex'))\n          } else {\n            resultWriter.writeInt8(0)\n          }\n\n          // tx\n          if (signActionResult.tx != null) {\n            resultWriter.writeInt8(1)\n            resultWriter.writeVarIntNum(signActionResult.tx.length)\n            resultWriter.write(signActionResult.tx)\n          } else {\n            resultWriter.writeInt8(0)\n          }\n\n          // sendWithResults\n          if (signActionResult.sendWithResults != null) {\n            resultWriter.writeVarIntNum(\n              signActionResult.sendWithResults.length\n            )\n            for (const result of signActionResult.sendWithResults) {\n              resultWriter.write(Utils.toArray(result.txid, 'hex'))\n              let statusCode\n              if (result.status === 'unproven') statusCode = 1\n              else if (result.status === 'sending') statusCode = 2\n              else if (result.status === 'failed') statusCode = 3\n              resultWriter.writeInt8(statusCode)\n            }\n          } else {\n            resultWriter.writeVarIntNum(-1)\n          }\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n        case 'abortAction': {\n          // Deserialize reference\n          const referenceBytes = paramsReader.read()\n          const reference = Utils.toBase64(referenceBytes)\n\n          // Call the method\n          await this.wallet.abortAction({ reference }, originator)\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          return responseWriter.toArray()\n        }\n        case 'listActions': {\n          const args: any = {}\n\n          // Deserialize labels\n          const labelsLength = paramsReader.readVarIntNum()\n          args.labels = []\n          for (let i = 0; i < labelsLength; i++) {\n            const labelLength = paramsReader.readVarIntNum()\n            const labelBytes = paramsReader.read(labelLength)\n            args.labels.push(Utils.toUTF8(labelBytes))\n          }\n\n          // Deserialize labelQueryMode\n          const labelQueryModeFlag = paramsReader.readInt8()\n          if (labelQueryModeFlag === -1) {\n            args.labelQueryMode = undefined\n          } else if (labelQueryModeFlag === 1) {\n            args.labelQueryMode = 'any'\n          } else if (labelQueryModeFlag === 2) {\n            args.labelQueryMode = 'all'\n          }\n\n          // Deserialize include options\n          const includeOptionsNames = [\n            'includeLabels',\n            'includeInputs',\n            'includeInputSourceLockingScripts',\n            'includeInputUnlockingScripts',\n            'includeOutputs',\n            'includeOutputLockingScripts'\n          ]\n          for (const optionName of includeOptionsNames) {\n            const optionFlag = paramsReader.readInt8()\n            if (optionFlag === -1) {\n              args[optionName] = undefined\n            } else {\n              args[optionName] = optionFlag === 1\n            }\n          }\n\n          // Deserialize limit\n          const limit = paramsReader.readVarIntNum()\n          if (limit >= 0) {\n            args.limit = limit\n          } else {\n            args.limit = undefined\n          }\n\n          // Deserialize offset\n          const offset = paramsReader.readVarIntNum()\n          if (offset >= 0) {\n            args.offset = offset\n          } else {\n            args.offset = undefined\n          }\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const listActionsResult = await this.wallet.listActions(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const resultWriter = new Utils.Writer()\n\n          // totalActions\n          resultWriter.writeVarIntNum(listActionsResult.totalActions)\n\n          // actions\n          for (const action of listActionsResult.actions) {\n            // txid\n            resultWriter.write(Utils.toArray(action.txid, 'hex'))\n\n            // satoshis\n            resultWriter.writeVarIntNum(action.satoshis)\n\n            // status\n            let statusCode\n            switch (action.status) {\n              case 'completed':\n                statusCode = 1\n                break\n              case 'unprocessed':\n                statusCode = 2\n                break\n              case 'sending':\n                statusCode = 3\n                break\n              case 'unproven':\n                statusCode = 4\n                break\n              case 'unsigned':\n                statusCode = 5\n                break\n              case 'nosend':\n                statusCode = 6\n                break\n              case 'nonfinal':\n                statusCode = 7\n                break\n              case 'failed':\n                statusCode = 8\n                break\n              default:\n                statusCode = -1\n                break\n            }\n            resultWriter.writeInt8(statusCode)\n\n            // isOutgoing\n            resultWriter.writeInt8(action.isOutgoing ? 1 : 0)\n\n            // description\n            const descriptionBytes = Utils.toArray(action.description, 'utf8')\n            resultWriter.writeVarIntNum(descriptionBytes.length)\n            resultWriter.write(descriptionBytes)\n\n            // labels\n            if (action.labels !== undefined) {\n              resultWriter.writeVarIntNum(action.labels.length)\n              for (const label of action.labels) {\n                const labelBytes = Utils.toArray(label, 'utf8')\n                resultWriter.writeVarIntNum(labelBytes.length)\n                resultWriter.write(labelBytes)\n              }\n            } else {\n              resultWriter.writeVarIntNum(-1)\n            }\n\n            // version\n            resultWriter.writeVarIntNum(action.version)\n\n            // lockTime\n            resultWriter.writeVarIntNum(action.lockTime)\n\n            // inputs\n            if (action.inputs !== undefined) {\n              resultWriter.writeVarIntNum(action.inputs.length)\n              for (const input of action.inputs) {\n                // sourceOutpoint\n                resultWriter.write(this.encodeOutpoint(input.sourceOutpoint))\n\n                // sourceSatoshis\n                resultWriter.writeVarIntNum(input.sourceSatoshis)\n\n                // sourceLockingScript\n                if (input.sourceLockingScript !== undefined) {\n                  const sourceLockingScriptBytes = Utils.toArray(\n                    input.sourceLockingScript,\n                    'hex'\n                  )\n                  resultWriter.writeVarIntNum(sourceLockingScriptBytes.length)\n                  resultWriter.write(sourceLockingScriptBytes)\n                } else {\n                  resultWriter.writeVarIntNum(-1)\n                }\n\n                // unlockingScript\n                if (input.unlockingScript !== undefined) {\n                  const unlockingScriptBytes = Utils.toArray(\n                    input.unlockingScript,\n                    'hex'\n                  )\n                  resultWriter.writeVarIntNum(unlockingScriptBytes.length)\n                  resultWriter.write(unlockingScriptBytes)\n                } else {\n                  resultWriter.writeVarIntNum(-1)\n                }\n\n                // inputDescription\n                const inputDescriptionBytes = Utils.toArray(\n                  input.inputDescription,\n                  'utf8'\n                )\n                resultWriter.writeVarIntNum(inputDescriptionBytes.length)\n                resultWriter.write(inputDescriptionBytes)\n\n                // sequenceNumber\n                resultWriter.writeVarIntNum(input.sequenceNumber)\n              }\n            } else {\n              resultWriter.writeVarIntNum(-1)\n            }\n\n            // outputs\n            if (action.outputs !== undefined) {\n              resultWriter.writeVarIntNum(action.outputs.length)\n              for (const output of action.outputs) {\n                // outputIndex\n                resultWriter.writeVarIntNum(output.outputIndex)\n\n                // satoshis\n                resultWriter.writeVarIntNum(output.satoshis)\n\n                // lockingScript\n                if (output.lockingScript !== undefined) {\n                  const lockingScriptBytes = Utils.toArray(\n                    output.lockingScript,\n                    'hex'\n                  )\n                  resultWriter.writeVarIntNum(lockingScriptBytes.length)\n                  resultWriter.write(lockingScriptBytes)\n                } else {\n                  resultWriter.writeVarIntNum(-1)\n                }\n\n                // spendable\n                resultWriter.writeInt8(output.spendable ? 1 : 0)\n\n                // outputDescription\n                const outputDescriptionBytes = Utils.toArray(\n                  output.outputDescription,\n                  'utf8'\n                )\n                resultWriter.writeVarIntNum(outputDescriptionBytes.length)\n                resultWriter.write(outputDescriptionBytes)\n\n                // basket\n                if (output.basket !== undefined) {\n                  const basketBytes = Utils.toArray(output.basket, 'utf8')\n                  resultWriter.writeVarIntNum(basketBytes.length)\n                  resultWriter.write(basketBytes)\n                } else {\n                  resultWriter.writeVarIntNum(-1)\n                }\n\n                // tags\n                if (output.tags !== undefined) {\n                  resultWriter.writeVarIntNum(output.tags.length)\n                  for (const tag of output.tags) {\n                    const tagBytes = Utils.toArray(tag, 'utf8')\n                    resultWriter.writeVarIntNum(tagBytes.length)\n                    resultWriter.write(tagBytes)\n                  }\n                } else {\n                  resultWriter.writeVarIntNum(-1)\n                }\n\n                // customInstructions\n                if (output.customInstructions !== undefined) {\n                  const customInstructionsBytes = Utils.toArray(\n                    output.customInstructions,\n                    'utf8'\n                  )\n                  resultWriter.writeVarIntNum(customInstructionsBytes.length)\n                  resultWriter.write(customInstructionsBytes)\n                } else {\n                  resultWriter.writeVarIntNum(-1)\n                }\n              }\n            } else {\n              resultWriter.writeVarIntNum(-1)\n            }\n          }\n\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n        case 'internalizeAction': {\n          const args: any = {}\n\n          // Read tx\n          const txLength = paramsReader.readVarIntNum()\n          args.tx = paramsReader.read(txLength)\n\n          // Read outputs\n          const outputsLength = paramsReader.readVarIntNum()\n          args.outputs = []\n          for (let i = 0; i < outputsLength; i++) {\n            const output: any = {}\n\n            // outputIndex\n            output.outputIndex = paramsReader.readVarIntNum()\n\n            // protocol\n            const protocolFlag = paramsReader.readUInt8()\n            if (protocolFlag === 1) {\n              output.protocol = 'wallet payment'\n              output.paymentRemittance = {}\n\n              // senderIdentityKey\n              const senderIdentityKeyBytes = paramsReader.read(33)\n              output.paymentRemittance.senderIdentityKey = Utils.toHex(\n                senderIdentityKeyBytes\n              )\n\n              // derivationPrefix\n              const derivationPrefixLength = paramsReader.readVarIntNum()\n              const derivationPrefixBytes = paramsReader.read(\n                derivationPrefixLength\n              )\n              output.paymentRemittance.derivationPrefix = Utils.toBase64(\n                derivationPrefixBytes\n              )\n\n              // derivationSuffix\n              const derivationSuffixLength = paramsReader.readVarIntNum()\n              const derivationSuffixBytes = paramsReader.read(\n                derivationSuffixLength\n              )\n              output.paymentRemittance.derivationSuffix = Utils.toBase64(\n                derivationSuffixBytes\n              )\n            } else if (protocolFlag === 2) {\n              output.protocol = 'basket insertion'\n              output.insertionRemittance = {}\n\n              // basket\n              const basketLength = paramsReader.readVarIntNum()\n              const basketBytes = paramsReader.read(basketLength)\n              output.insertionRemittance.basket = Utils.toUTF8(basketBytes)\n\n              // customInstructions\n              const customInstructionsLength = paramsReader.readVarIntNum()\n              if (customInstructionsLength >= 0) {\n                const customInstructionsBytes = paramsReader.read(\n                  customInstructionsLength\n                )\n                output.insertionRemittance.customInstructions = Utils.toUTF8(\n                  customInstructionsBytes\n                )\n              }\n\n              // tags\n              const tagsLength = paramsReader.readVarIntNum()\n              if (tagsLength > 0) {\n                output.insertionRemittance.tags = []\n                for (let j = 0; j < tagsLength; j++) {\n                  const tagLength = paramsReader.readVarIntNum()\n                  const tagBytes = paramsReader.read(tagLength)\n                  output.insertionRemittance.tags.push(Utils.toUTF8(tagBytes))\n                }\n              } else {\n                output.insertionRemittance.tags = []\n              }\n            }\n\n            args.outputs.push(output)\n          }\n\n          const numberOfLabels = paramsReader.readVarIntNum()\n          if (numberOfLabels >= 0) {\n            args.labels = []\n            for (let i = 0; i < numberOfLabels; i++) {\n              const labelLength = paramsReader.readVarIntNum()\n              args.labels.push(Utils.toUTF8(paramsReader.read(labelLength)))\n            }\n          }\n\n          const descriptionLength = paramsReader.readVarIntNum()\n          args.description = Utils.toUTF8(paramsReader.read(descriptionLength))\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          await this.wallet.internalizeAction(args, originator)\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          return responseWriter.toArray()\n        }\n\n        case 'listOutputs': {\n          const args: any = {}\n\n          // Deserialize basket\n          const basketLength = paramsReader.readVarIntNum()\n          const basketBytes = paramsReader.read(basketLength)\n          args.basket = Utils.toUTF8(basketBytes)\n\n          // Deserialize tags\n          const tagsLength = paramsReader.readVarIntNum()\n          if (tagsLength > 0) {\n            args.tags = []\n            for (let i = 0; i < tagsLength; i++) {\n              const tagLength = paramsReader.readVarIntNum()\n              const tagBytes = paramsReader.read(tagLength)\n              args.tags.push(Utils.toUTF8(tagBytes))\n            }\n          } else {\n            args.tags = undefined\n          }\n\n          // Deserialize tagQueryMode\n          const tagQueryModeFlag = paramsReader.readInt8()\n          if (tagQueryModeFlag === 1) {\n            args.tagQueryMode = 'all'\n          } else if (tagQueryModeFlag === 2) {\n            args.tagQueryMode = 'any'\n          } else {\n            args.tagQueryMode = undefined\n          }\n\n          // Deserialize include\n          const includeFlag = paramsReader.readInt8()\n          if (includeFlag === 1) {\n            args.include = 'locking scripts'\n          } else if (includeFlag === 2) {\n            args.include = 'entire transactions'\n          } else {\n            args.include = undefined\n          }\n\n          // Deserialize includeCustomInstructions\n          const includeCustomInstructionsFlag = paramsReader.readInt8()\n          if (includeCustomInstructionsFlag === -1) {\n            args.includeCustomInstructions = undefined\n          } else {\n            args.includeCustomInstructions =\n              includeCustomInstructionsFlag === 1\n          }\n\n          // Deserialize includeTags\n          const includeTagsFlag = paramsReader.readInt8()\n          if (includeTagsFlag === -1) {\n            args.includeTags = undefined\n          } else {\n            args.includeTags = includeTagsFlag === 1\n          }\n\n          // Deserialize includeLabels\n          const includeLabelsFlag = paramsReader.readInt8()\n          if (includeLabelsFlag === -1) {\n            args.includeLabels = undefined\n          } else {\n            args.includeLabels = includeLabelsFlag === 1\n          }\n\n          // Deserialize limit\n          const limit = paramsReader.readVarIntNum()\n          if (limit >= 0) {\n            args.limit = limit\n          } else {\n            args.limit = undefined\n          }\n\n          // Deserialize offset\n          const offset = paramsReader.readVarIntNum()\n          if (offset >= 0) {\n            args.offset = offset\n          } else {\n            args.offset = undefined\n          }\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const listOutputsResult = await this.wallet.listOutputs(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const resultWriter = new Utils.Writer()\n\n          // totalOutputs\n          resultWriter.writeVarIntNum(listOutputsResult.totalOutputs)\n\n          // BEEF length and BEEF or -1\n          if (listOutputsResult.BEEF != null) {\n            resultWriter.writeVarIntNum(listOutputsResult.BEEF.length)\n            resultWriter.write(listOutputsResult.BEEF)\n          } else {\n            resultWriter.writeVarIntNum(-1)\n          }\n\n          // outputs\n          for (const output of listOutputsResult.outputs) {\n            // outpoint\n            resultWriter.write(this.encodeOutpoint(output.outpoint))\n\n            // satoshis\n            resultWriter.writeVarIntNum(output.satoshis)\n\n            // lockingScript\n            if (output.lockingScript !== undefined) {\n              const lockingScriptBytes = Utils.toArray(\n                output.lockingScript,\n                'hex'\n              )\n              resultWriter.writeVarIntNum(lockingScriptBytes.length)\n              resultWriter.write(lockingScriptBytes)\n            } else {\n              resultWriter.writeVarIntNum(-1)\n            }\n\n            // customInstructions\n            if (output.customInstructions !== undefined) {\n              const customInstructionsBytes = Utils.toArray(\n                output.customInstructions,\n                'utf8'\n              )\n              resultWriter.writeVarIntNum(customInstructionsBytes.length)\n              resultWriter.write(customInstructionsBytes)\n            } else {\n              resultWriter.writeVarIntNum(-1)\n            }\n\n            // tags\n            if (output.tags !== undefined) {\n              resultWriter.writeVarIntNum(output.tags.length)\n              for (const tag of output.tags) {\n                const tagBytes = Utils.toArray(tag, 'utf8')\n                resultWriter.writeVarIntNum(tagBytes.length)\n                resultWriter.write(tagBytes)\n              }\n            } else {\n              resultWriter.writeVarIntNum(-1)\n            }\n\n            // labels\n            if (output.labels !== undefined) {\n              resultWriter.writeVarIntNum(output.labels.length)\n              for (const label of output.labels) {\n                const labelBytes = Utils.toArray(label, 'utf8')\n                resultWriter.writeVarIntNum(labelBytes.length)\n                resultWriter.write(labelBytes)\n              }\n            } else {\n              resultWriter.writeVarIntNum(-1)\n            }\n          }\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n\n        case 'relinquishOutput': {\n          const args: any = {}\n\n          // Deserialize basket\n          const basketLength = paramsReader.readVarIntNum()\n          const basketBytes = paramsReader.read(basketLength)\n          args.basket = Utils.toUTF8(basketBytes)\n\n          // Deserialize outpoint\n          args.output = this.decodeOutpoint(paramsReader)\n\n          // Call the method\n          await this.wallet.relinquishOutput(args, originator)\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          return responseWriter.toArray()\n        }\n\n        case 'getPublicKey': {\n          const args: any = {}\n\n          // Deserialize identityKey flag\n          const identityKeyFlag = paramsReader.readUInt8()\n          args.identityKey = identityKeyFlag === 1\n\n          if (args.identityKey !== true) {\n            // Deserialize protocolID\n            args.protocolID = this.decodeProtocolID(paramsReader)\n\n            // Deserialize keyID\n            args.keyID = this.decodeString(paramsReader)\n\n            // Deserialize counterparty\n            args.counterparty = this.decodeCounterparty(paramsReader)\n\n            // Deserialize privilege parameters\n            const privilegedFlag = paramsReader.readInt8()\n            if (privilegedFlag === -1) {\n              args.privileged = undefined\n            } else {\n              args.privileged = privilegedFlag === 1\n            }\n\n            const privilegedReasonLength = paramsReader.readInt8()\n            if (privilegedReasonLength !== -1) {\n              const privilegedReasonBytes = paramsReader.read(\n                privilegedReasonLength\n              )\n              args.privilegedReason = Utils.toUTF8(privilegedReasonBytes)\n            } else {\n              args.privilegedReason = undefined\n            }\n\n            // Deserialize forSelf\n            const forSelfFlag = paramsReader.readInt8()\n            if (forSelfFlag === -1) {\n              args.forSelf = undefined\n            } else {\n              args.forSelf = forSelfFlag === 1\n            }\n          } else {\n            // Deserialize privilege parameters\n            const privilegedFlag = paramsReader.readInt8()\n            if (privilegedFlag === -1) {\n              args.privileged = undefined\n            } else {\n              args.privileged = privilegedFlag === 1\n            }\n\n            const privilegedReasonLength = paramsReader.readInt8()\n            if (privilegedReasonLength !== -1) {\n              const privilegedReasonBytes = paramsReader.read(\n                privilegedReasonLength\n              )\n              args.privilegedReason = Utils.toUTF8(privilegedReasonBytes)\n            } else {\n              args.privilegedReason = undefined\n            }\n          }\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const getPublicKeyResult = await this.wallet.getPublicKey(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          const publicKeyBytes = Utils.toArray(\n            getPublicKeyResult.publicKey,\n            'hex'\n          )\n          responseWriter.write(publicKeyBytes)\n          return responseWriter.toArray()\n        }\n\n        case 'encrypt': {\n          const args: any = this.decodeKeyRelatedParams(paramsReader)\n\n          // Deserialize plaintext\n          const plaintextLength = paramsReader.readVarIntNum()\n          args.plaintext = paramsReader.read(plaintextLength)\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const encryptResult = await this.wallet.encrypt(args, originator)\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(encryptResult.ciphertext)\n          return responseWriter.toArray()\n        }\n\n        case 'decrypt': {\n          const args: any = this.decodeKeyRelatedParams(paramsReader)\n\n          // Deserialize ciphertext\n          const ciphertextLength = paramsReader.readVarIntNum()\n          args.ciphertext = paramsReader.read(ciphertextLength)\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const decryptResult = await this.wallet.decrypt(args, originator)\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(decryptResult.plaintext)\n          return responseWriter.toArray()\n        }\n\n        case 'createHmac': {\n          const args: any = this.decodeKeyRelatedParams(paramsReader)\n\n          // Deserialize data\n          const dataLength = paramsReader.readVarIntNum()\n          args.data = paramsReader.read(dataLength)\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const createHmacResult = await this.wallet.createHmac(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(createHmacResult.hmac)\n          return responseWriter.toArray()\n        }\n\n        case 'verifyHmac': {\n          const args: any = this.decodeKeyRelatedParams(paramsReader)\n\n          // Deserialize hmac\n          args.hmac = paramsReader.read(32)\n\n          // Deserialize data\n          const dataLength = paramsReader.readVarIntNum()\n          args.data = paramsReader.read(dataLength)\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          await this.wallet.verifyHmac(args, originator)\n\n          // Serialize the result (no data to return)\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          return responseWriter.toArray()\n        }\n\n        case 'createSignature': {\n          const args: any = this.decodeKeyRelatedParams(paramsReader)\n\n          // Deserialize data or hashToDirectlySign\n          const dataTypeFlag = paramsReader.readUInt8()\n          if (dataTypeFlag === 1) {\n            const dataLength = paramsReader.readVarIntNum()\n            args.data = paramsReader.read(dataLength)\n          } else if (dataTypeFlag === 2) {\n            args.hashToDirectlySign = paramsReader.read(32)\n          }\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const createSignatureResult = await this.wallet.createSignature(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(createSignatureResult.signature)\n          return responseWriter.toArray()\n        }\n\n        case 'verifySignature': {\n          const args: any = this.decodeKeyRelatedParams(paramsReader)\n\n          // Deserialize forSelf\n          const forSelfFlag = paramsReader.readInt8()\n          if (forSelfFlag === -1) {\n            args.forSelf = undefined\n          } else {\n            args.forSelf = forSelfFlag === 1\n          }\n\n          // Deserialize signature\n          const signatureLength = paramsReader.readVarIntNum()\n          args.signature = paramsReader.read(signatureLength)\n\n          // Deserialize data or hashToDirectlyVerify\n          const dataTypeFlag = paramsReader.readUInt8()\n          if (dataTypeFlag === 1) {\n            const dataLength = paramsReader.readVarIntNum()\n            args.data = paramsReader.read(dataLength)\n          } else if (dataTypeFlag === 2) {\n            args.hashToDirectlyVerify = paramsReader.read(32)\n          }\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          await this.wallet.verifySignature(args, originator)\n\n          // Serialize the result (no data to return)\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          return responseWriter.toArray()\n        }\n\n        case 'isAuthenticated': {\n          // No parameters to deserialize\n\n          // Call the method\n          const isAuthenticatedResult = await this.wallet.isAuthenticated(\n            {},\n            originator\n          )\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.writeUInt8(\n            isAuthenticatedResult.authenticated ? 1 : 0\n          )\n          return responseWriter.toArray()\n        }\n\n        case 'waitForAuthentication': {\n          // No parameters to deserialize\n\n          // Call the method\n          await this.wallet.waitForAuthentication({}, originator)\n\n          // Serialize the result (authenticated is always true)\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          return responseWriter.toArray()\n        }\n\n        case 'getHeight': {\n          // No parameters to deserialize\n\n          // Call the method\n          const getHeightResult = await this.wallet.getHeight({}, originator)\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.writeVarIntNum(getHeightResult.height)\n          return responseWriter.toArray()\n        }\n\n        case 'getHeaderForHeight': {\n          const args: any = {}\n\n          // Deserialize height\n          args.height = paramsReader.readVarIntNum()\n\n          // Call the method\n          const getHeaderResult = await this.wallet.getHeaderForHeight(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          const headerBytes = Utils.toArray(getHeaderResult.header, 'hex')\n          responseWriter.write(headerBytes)\n          return responseWriter.toArray()\n        }\n\n        case 'getNetwork': {\n          // No parameters to deserialize\n\n          // Call the method\n          const getNetworkResult = await this.wallet.getNetwork({}, originator)\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.writeUInt8(\n            getNetworkResult.network === 'mainnet' ? 0 : 1\n          )\n          return responseWriter.toArray()\n        }\n\n        case 'getVersion': {\n          // No parameters to deserialize\n\n          // Call the method\n          const getVersionResult = await this.wallet.getVersion({}, originator)\n\n          // Serialize the result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          const versionBytes = Utils.toArray(getVersionResult.version, 'utf8')\n          responseWriter.write(versionBytes)\n          return responseWriter.toArray()\n        }\n\n        case 'revealCounterpartyKeyLinkage': {\n          const args: any = {}\n\n          // Read privileged parameters\n          const privilegedFlag = paramsReader.readInt8()\n          if (privilegedFlag === -1) {\n            args.privileged = undefined\n          } else {\n            args.privileged = privilegedFlag === 1\n          }\n\n          const privilegedReasonLength = paramsReader.readInt8()\n          if (privilegedReasonLength === -1) {\n            args.privilegedReason = undefined\n          } else {\n            const privilegedReasonBytes = paramsReader.read(\n              privilegedReasonLength\n            )\n            args.privilegedReason = Utils.toUTF8(privilegedReasonBytes)\n          }\n\n          // Read counterparty public key\n          const counterpartyBytes = paramsReader.read(33)\n          args.counterparty = Utils.toHex(counterpartyBytes)\n\n          // Read verifier public key\n          const verifierBytes = paramsReader.read(33)\n          args.verifier = Utils.toHex(verifierBytes)\n\n          // Call the method\n          const revealResult = await this.wallet.revealCounterpartyKeyLinkage(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const resultWriter = new Utils.Writer()\n\n          // Write prover\n          resultWriter.write(Utils.toArray(revealResult.prover, 'hex'))\n\n          // Write verifier\n          resultWriter.write(Utils.toArray(revealResult.verifier, 'hex'))\n\n          // Write counterparty\n          resultWriter.write(Utils.toArray(revealResult.counterparty, 'hex'))\n\n          // Write revelationTime\n          const revelationTimeBytes = Utils.toArray(\n            revealResult.revelationTime,\n            'utf8'\n          )\n          resultWriter.writeVarIntNum(revelationTimeBytes.length)\n          resultWriter.write(revelationTimeBytes)\n\n          // Write encryptedLinkage\n          resultWriter.writeVarIntNum(revealResult.encryptedLinkage.length)\n          resultWriter.write(revealResult.encryptedLinkage)\n\n          // Write encryptedLinkageProof\n          resultWriter.writeVarIntNum(\n            revealResult.encryptedLinkageProof.length\n          )\n          resultWriter.write(revealResult.encryptedLinkageProof)\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n\n        case 'revealSpecificKeyLinkage': {\n          // Deserialize key-related parameters and privileged parameters\n          const args = this.decodeKeyRelatedParams(paramsReader)\n\n          // Read verifier public key\n          const verifierBytes = paramsReader.read(33)\n          args.verifier = Utils.toHex(verifierBytes)\n\n          // Call the method\n          const revealResult = await this.wallet.revealSpecificKeyLinkage(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const resultWriter = new Utils.Writer()\n\n          // Write prover\n          resultWriter.write(Utils.toArray(revealResult.prover, 'hex'))\n\n          // Write verifier\n          resultWriter.write(Utils.toArray(revealResult.verifier, 'hex'))\n\n          // Write counterparty\n          resultWriter.write(Utils.toArray(revealResult.counterparty, 'hex'))\n\n          // Write securityLevel\n          resultWriter.writeUInt8(revealResult.protocolID[0])\n\n          // Write protocol string\n          const protocolBytesOut = Utils.toArray(\n            revealResult.protocolID[1],\n            'utf8'\n          )\n          resultWriter.writeVarIntNum(protocolBytesOut.length)\n          resultWriter.write(protocolBytesOut)\n\n          // Write keyID\n          const keyIDBytesOut = Utils.toArray(revealResult.keyID, 'utf8')\n          resultWriter.writeVarIntNum(keyIDBytesOut.length)\n          resultWriter.write(keyIDBytesOut)\n\n          // Write encryptedLinkage\n          resultWriter.writeVarIntNum(revealResult.encryptedLinkage.length)\n          resultWriter.write(revealResult.encryptedLinkage)\n\n          // Write encryptedLinkageProof\n          resultWriter.writeVarIntNum(\n            revealResult.encryptedLinkageProof.length\n          )\n          resultWriter.write(revealResult.encryptedLinkageProof)\n\n          // Write proofType\n          resultWriter.writeUInt8(revealResult.proofType)\n\n          // Return success code and result\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n\n        case 'acquireCertificate': {\n          const args: any = {}\n\n          // Read args.type\n          const typeBytes = paramsReader.read(32)\n          args.type = Utils.toBase64(typeBytes)\n\n          // args.certifier\n          const certifierBytes = paramsReader.read(33)\n          args.certifier = Utils.toHex(certifierBytes)\n\n          // Read fields\n          const fieldsLength = paramsReader.readVarIntNum()\n          args.fields = {}\n          for (let i = 0; i < fieldsLength; i++) {\n            const fieldNameLength = paramsReader.readVarIntNum()\n            const fieldNameBytes = paramsReader.read(fieldNameLength)\n            const fieldName = Utils.toUTF8(fieldNameBytes)\n\n            const fieldValueLength = paramsReader.readVarIntNum()\n            const fieldValueBytes = paramsReader.read(fieldValueLength)\n            const fieldValue = Utils.toUTF8(fieldValueBytes)\n\n            args.fields[fieldName] = fieldValue\n          }\n\n          // Read privileged parameters\n          const privilegedFlag = paramsReader.readInt8()\n          if (privilegedFlag === -1) {\n            args.privileged = undefined\n          } else {\n            args.privileged = privilegedFlag === 1\n          }\n\n          const privilegedReasonLength = paramsReader.readInt8()\n          if (privilegedReasonLength === -1) {\n            args.privilegedReason = undefined\n          } else {\n            const privilegedReasonBytes = paramsReader.read(\n              privilegedReasonLength\n            )\n            args.privilegedReason = Utils.toUTF8(privilegedReasonBytes)\n          }\n\n          // Read acquisitionProtocol\n          const acquisitionProtocolFlag = paramsReader.readUInt8()\n          args.acquisitionProtocol =\n            acquisitionProtocolFlag === 1 ? 'direct' : 'issuance'\n\n          if (args.acquisitionProtocol === 'direct') {\n            // args.serialNumber\n            const serialNumberBytes = paramsReader.read(32)\n            args.serialNumber = Utils.toBase64(serialNumberBytes)\n\n            // args.revocationOutpoint\n            args.revocationOutpoint = this.decodeOutpoint(paramsReader)\n\n            // args.signature\n            const signatureLength = paramsReader.readVarIntNum()\n            const signatureBytes = paramsReader.read(signatureLength)\n            args.signature = Utils.toHex(signatureBytes)\n\n            // args.keyringRevealer\n            const keyringRevealerIdentifier = paramsReader.readUInt8()\n            if (keyringRevealerIdentifier === 11) {\n              args.keyringRevealer = 'certifier'\n            } else {\n              const keyringRevealerBytes = [keyringRevealerIdentifier].concat(\n                paramsReader.read(32)\n              )\n              args.keyringRevealer = Utils.toHex(keyringRevealerBytes)\n            }\n\n            // args.keyringForSubject\n            const keyringEntriesLength = paramsReader.readVarIntNum()\n            args.keyringForSubject = {}\n            for (let i = 0; i < keyringEntriesLength; i++) {\n              const fieldKeyLength = paramsReader.readVarIntNum()\n              const fieldKeyBytes = paramsReader.read(fieldKeyLength)\n              const fieldKey = Utils.toUTF8(fieldKeyBytes)\n\n              const fieldValueLength = paramsReader.readVarIntNum()\n              const fieldValueBytes = paramsReader.read(fieldValueLength)\n              const fieldValue = Utils.toBase64(fieldValueBytes)\n\n              args.keyringForSubject[fieldKey] = fieldValue\n            }\n          } else {\n            // args.certifierUrl\n            const certifierUrlLength = paramsReader.readVarIntNum()\n            const certifierUrlBytes = paramsReader.read(certifierUrlLength)\n            args.certifierUrl = Utils.toUTF8(certifierUrlBytes)\n          }\n\n          // Call the method\n          const acquireResult = await this.wallet.acquireCertificate(\n            args,\n            originator\n          )\n\n          // Serialize the certificate (assuming Certificate class is available)\n          const cert = new Certificate(\n            acquireResult.type,\n            acquireResult.serialNumber,\n            acquireResult.subject,\n            acquireResult.certifier,\n            acquireResult.revocationOutpoint,\n            acquireResult.fields,\n            acquireResult.signature\n          )\n          const certBin = cert.toBinary()\n\n          // Return success code and certificate binary\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(certBin)\n          return responseWriter.toArray()\n        }\n\n        case 'listCertificates': {\n          const args: any = {}\n\n          // Read certifiers\n          const certifiersLength = paramsReader.readVarIntNum()\n          args.certifiers = []\n          for (let i = 0; i < certifiersLength; i++) {\n            const certifierBytes = paramsReader.read(33)\n            args.certifiers.push(Utils.toHex(certifierBytes))\n          }\n\n          // Read types\n          const typesLength = paramsReader.readVarIntNum()\n          args.types = []\n          for (let i = 0; i < typesLength; i++) {\n            const typeBytes = paramsReader.read(32)\n            args.types.push(Utils.toBase64(typeBytes))\n          }\n\n          // Read limit and offset\n          const limit = paramsReader.readVarIntNum()\n          if (limit >= 0) {\n            args.limit = limit\n          } else {\n            args.limit = undefined\n          }\n\n          const offset = paramsReader.readVarIntNum()\n          if (offset >= 0) {\n            args.offset = offset\n          } else {\n            args.offset = undefined\n          }\n\n          // Read privileged parameters\n          const privilegedFlag = paramsReader.readInt8()\n          if (privilegedFlag === -1) {\n            args.privileged = undefined\n          } else {\n            args.privileged = privilegedFlag === 1\n          }\n\n          const privilegedReasonLength = paramsReader.readInt8()\n          if (privilegedReasonLength === -1) {\n            args.privilegedReason = undefined\n          } else {\n            const privilegedReasonBytes = paramsReader.read(\n              privilegedReasonLength\n            )\n            args.privilegedReason = Utils.toUTF8(privilegedReasonBytes)\n          }\n\n          // Call the method\n          const listResult = await this.wallet.listCertificates(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const resultWriter = new Utils.Writer()\n\n          // totalCertificates\n          resultWriter.writeVarIntNum(listResult.totalCertificates)\n\n          // certificates\n          for (const cert of listResult.certificates) {\n            const certificate = new Certificate(\n              cert.type,\n              cert.serialNumber,\n              cert.subject,\n              cert.certifier,\n              cert.revocationOutpoint,\n              cert.fields,\n              cert.signature\n            )\n            const certBin = certificate.toBinary()\n\n            // Write certificate binary length and data\n            resultWriter.writeVarIntNum(certBin.length)\n            resultWriter.write(certBin)\n          }\n\n          // Return the response\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n\n        case 'proveCertificate': {\n          const args: any = {}\n\n          // Read certificate\n          const cert: any = {}\n\n          // Read type\n          const typeBytes = paramsReader.read(32)\n          cert.type = Utils.toBase64(typeBytes)\n\n          // Read subject\n          const subjectBytes = paramsReader.read(33)\n          cert.subject = Utils.toHex(subjectBytes)\n\n          // Read serialNumber\n          const serialNumberBytes = paramsReader.read(32)\n          cert.serialNumber = Utils.toBase64(serialNumberBytes)\n\n          // Read certifier\n          const certifierBytes = paramsReader.read(33)\n          cert.certifier = Utils.toHex(certifierBytes)\n\n          // Read revocationOutpoint\n          cert.revocationOutpoint = this.decodeOutpoint(paramsReader)\n\n          // Read signature\n          const signatureLength = paramsReader.readVarIntNum()\n          const signatureBytes = paramsReader.read(signatureLength)\n          cert.signature = Utils.toHex(signatureBytes)\n\n          // Read fields\n          const fieldsLength = paramsReader.readVarIntNum()\n          cert.fields = {}\n          for (let i = 0; i < fieldsLength; i++) {\n            const fieldNameLength = paramsReader.readVarIntNum()\n            const fieldNameBytes = paramsReader.read(fieldNameLength)\n            const fieldName = Utils.toUTF8(fieldNameBytes)\n\n            const fieldValueLength = paramsReader.readVarIntNum()\n            const fieldValueBytes = paramsReader.read(fieldValueLength)\n            const fieldValue = Utils.toUTF8(fieldValueBytes)\n\n            cert.fields[fieldName] = fieldValue\n          }\n\n          args.certificate = cert\n\n          // Read fields to reveal\n          const fieldsToRevealLength = paramsReader.readVarIntNum()\n          args.fieldsToReveal = []\n          for (let i = 0; i < fieldsToRevealLength; i++) {\n            const fieldNameLength = paramsReader.readVarIntNum()\n            const fieldNameBytes = paramsReader.read(fieldNameLength)\n            const fieldName = Utils.toUTF8(fieldNameBytes)\n            args.fieldsToReveal.push(fieldName)\n          }\n\n          // Read verifier\n          const verifierBytes = paramsReader.read(33)\n          args.verifier = Utils.toHex(verifierBytes)\n\n          // Read privileged parameters\n          const privilegedFlag = paramsReader.readInt8()\n          if (privilegedFlag === -1) {\n            args.privileged = undefined\n          } else {\n            args.privileged = privilegedFlag === 1\n          }\n\n          const privilegedReasonLength = paramsReader.readInt8()\n          if (privilegedReasonLength === -1) {\n            args.privilegedReason = undefined\n          } else {\n            const privilegedReasonBytes = paramsReader.read(\n              privilegedReasonLength\n            )\n            args.privilegedReason = Utils.toUTF8(privilegedReasonBytes)\n          }\n\n          // Call the method\n          const proveResult = await this.wallet.proveCertificate(\n            args,\n            originator\n          )\n\n          // Serialize keyringForVerifier\n          const resultWriter = new Utils.Writer()\n\n          const keyringEntries = Object.entries(proveResult.keyringForVerifier)\n          resultWriter.writeVarIntNum(keyringEntries.length)\n          for (const [fieldName, fieldValue] of keyringEntries) {\n            const fieldNameBytes = Utils.toArray(fieldName, 'utf8')\n            resultWriter.writeVarIntNum(fieldNameBytes.length)\n            resultWriter.write(fieldNameBytes)\n\n            const fieldValueBytes = Utils.toArray(fieldValue, 'base64')\n            resultWriter.writeVarIntNum(fieldValueBytes.length)\n            resultWriter.write(fieldValueBytes)\n          }\n\n          // Return the response\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(resultWriter.toArray())\n          return responseWriter.toArray()\n        }\n\n        case 'relinquishCertificate': {\n          const args: any = {}\n\n          // Read type\n          const typeBytes = paramsReader.read(32)\n          args.type = Utils.toBase64(typeBytes)\n\n          // Read serialNumber\n          const serialNumberBytes = paramsReader.read(32)\n          args.serialNumber = Utils.toBase64(serialNumberBytes)\n\n          // Read certifier\n          const certifierBytes = paramsReader.read(33)\n          args.certifier = Utils.toHex(certifierBytes)\n\n          // Call the method\n          await this.wallet.relinquishCertificate(args, originator)\n\n          // Return success code\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          return responseWriter.toArray()\n        }\n\n        case 'discoverByIdentityKey': {\n          const args: any = {}\n\n          // Read identityKey\n          const identityKeyBytes = paramsReader.read(33)\n          args.identityKey = Utils.toHex(identityKeyBytes)\n\n          // Read limit and offset\n          const limit = paramsReader.readVarIntNum()\n          if (limit >= 0) {\n            args.limit = limit\n          } else {\n            args.limit = undefined\n          }\n\n          const offset = paramsReader.readVarIntNum()\n          if (offset >= 0) {\n            args.offset = offset\n          } else {\n            args.offset = undefined\n          }\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const discoverResult = await this.wallet.discoverByIdentityKey(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const result = this.serializeDiscoveryResult(discoverResult)\n\n          // Return the response\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(result)\n          return responseWriter.toArray()\n        }\n\n        case 'discoverByAttributes': {\n          const args: any = {}\n\n          // Read attributes\n          const attributesLength = paramsReader.readVarIntNum()\n          args.attributes = {}\n          for (let i = 0; i < attributesLength; i++) {\n            const fieldKeyLength = paramsReader.readVarIntNum()\n            const fieldKeyBytes = paramsReader.read(fieldKeyLength)\n            const fieldKey = Utils.toUTF8(fieldKeyBytes)\n\n            const fieldValueLength = paramsReader.readVarIntNum()\n            const fieldValueBytes = paramsReader.read(fieldValueLength)\n            const fieldValue = Utils.toUTF8(fieldValueBytes)\n\n            args.attributes[fieldKey] = fieldValue\n          }\n\n          // Read limit and offset\n          const limit = paramsReader.readVarIntNum()\n          if (limit >= 0) {\n            args.limit = limit\n          } else {\n            args.limit = undefined\n          }\n\n          const offset = paramsReader.readVarIntNum()\n          if (offset >= 0) {\n            args.offset = offset\n          } else {\n            args.offset = undefined\n          }\n\n          // Deserialize seekPermission\n          const seekPermission = paramsReader.readInt8()\n          if (seekPermission >= 0) {\n            args.seekPermission = seekPermission === 1\n          } else {\n            args.seekPermission = undefined\n          }\n\n          // Call the method\n          const discoverResult = await this.wallet.discoverByAttributes(\n            args,\n            originator\n          )\n\n          // Serialize the result\n          const result = this.serializeDiscoveryResult(discoverResult)\n\n          // Return the response\n          const responseWriter = new Utils.Writer()\n          responseWriter.writeUInt8(0) // errorByte = 0\n          responseWriter.write(result)\n          return responseWriter.toArray()\n        }\n\n        default:\n          throw new Error(`Method ${callName} not implemented`)\n      }\n    } catch (err) {\n      const responseWriter = new Utils.Writer()\n      responseWriter.writeUInt8(typeof err.code === 'number' ? err.code : 1) // errorCode = 1 (generic error)\n\n      // Serialize the error message\n      const errorMessage = typeof err.message === 'string' ? err.message : 'Unknown error'\n      const errorMessageBytes = Utils.toArray(errorMessage, 'utf8')\n      responseWriter.writeVarIntNum(errorMessageBytes.length)\n      responseWriter.write(errorMessageBytes)\n\n      // Serialize the stack trace\n      const stackTrace = typeof err.stack === 'string' ? err.stack : ''\n      const stackTraceBytes = Utils.toArray(stackTrace, 'utf8')\n      responseWriter.writeVarIntNum(stackTraceBytes.length)\n      responseWriter.write(stackTraceBytes)\n\n      return responseWriter.toArray()\n    }\n  }\n\n  private decodeProtocolID(reader: Utils.Reader): [SecurityLevel, string] {\n    const securityLevel = reader.readUInt8() as SecurityLevel\n    const protocolLength = reader.readVarIntNum()\n    const protocolBytes = reader.read(protocolLength)\n    const protocolString = Utils.toUTF8(protocolBytes)\n    return [securityLevel, protocolString]\n  }\n\n  private decodeString(reader: Utils.Reader): string {\n    const length = reader.readVarIntNum()\n    const bytes = reader.read(length)\n    return Utils.toUTF8(bytes)\n  }\n\n  private decodeCounterparty(\n    reader: Utils.Reader\n  ): string | 'self' | 'anyone' | undefined {\n    const counterpartyFlag = reader.readUInt8()\n    if (counterpartyFlag === 11) {\n      return 'self'\n    } else if (counterpartyFlag === 12) {\n      return 'anyone'\n    } else if (counterpartyFlag === 0) {\n      return undefined\n    } else {\n      const counterpartyRemainingBytes = reader.read(32)\n      return Utils.toHex([counterpartyFlag, ...counterpartyRemainingBytes])\n    }\n  }\n\n  private serializeDiscoveryResult(discoverResult: any): number[] {\n    const resultWriter = new Utils.Writer()\n\n    // totalCertificates\n    resultWriter.writeVarIntNum(discoverResult.totalCertificates)\n\n    // certificates\n    for (const cert of discoverResult.certificates) {\n      // Serialize certificate binary\n      const certificate = new Certificate(\n        cert.type,\n        cert.serialNumber,\n        cert.subject,\n        cert.certifier,\n        cert.revocationOutpoint,\n        cert.fields,\n        cert.signaturre\n      )\n      const certBin = certificate.toBinary()\n\n      // Write certificate binary length and data\n      resultWriter.writeVarIntNum(certBin.length)\n      resultWriter.write(certBin)\n\n      // Serialize certifierInfo\n      const nameBytes = Utils.toArray(cert.certifierInfo.name, 'utf8')\n      resultWriter.writeVarIntNum(nameBytes.length)\n      resultWriter.write(nameBytes)\n\n      const iconUrlBytes = Utils.toArray(cert.certifierInfo.iconUrl, 'utf8')\n      resultWriter.writeVarIntNum(iconUrlBytes.length)\n      resultWriter.write(iconUrlBytes)\n\n      const descriptionBytes = Utils.toArray(\n        cert.certifierInfo.description,\n        'utf8'\n      )\n      resultWriter.writeVarIntNum(descriptionBytes.length)\n      resultWriter.write(descriptionBytes)\n\n      resultWriter.writeUInt8(cert.certifierInfo.trust)\n\n      // Serialize publiclyRevealedKeyring\n      const publicKeyringEntries = Object.entries(cert.publiclyRevealedKeyring)\n      resultWriter.writeVarIntNum(publicKeyringEntries.length)\n      for (const [fieldName, fieldValue] of publicKeyringEntries) {\n        const fieldNameBytes = Utils.toArray(fieldName, 'utf8')\n        resultWriter.writeVarIntNum(fieldNameBytes.length)\n        resultWriter.write(fieldNameBytes)\n\n        const fieldValueBytes = Utils.toArray(fieldValue, 'base64')\n        resultWriter.writeVarIntNum(fieldValueBytes.length)\n        resultWriter.write(fieldValueBytes)\n      }\n\n      // Serialize decryptedFields\n      const decryptedFieldEntries = Object.entries(cert.decryptedFields)\n      resultWriter.writeVarIntNum(decryptedFieldEntries.length)\n      for (const [fieldName, fieldValue] of decryptedFieldEntries) {\n        const fieldNameBytes = Utils.toArray(fieldName, 'utf8')\n        resultWriter.writeVarIntNum(fieldNameBytes.length)\n        resultWriter.write(fieldNameBytes)\n\n        const fieldValueBytes = Utils.toArray(fieldValue, 'utf8')\n        resultWriter.writeVarIntNum(fieldValueBytes.length)\n        resultWriter.write(fieldValueBytes)\n      }\n    }\n\n    return resultWriter.toArray()\n  }\n\n  private decodeKeyRelatedParams(paramsReader: Utils.Reader): any {\n    const args: any = {}\n\n    // Read protocolID\n    args.protocolID = this.decodeProtocolID(paramsReader)\n\n    // Read keyID\n    const keyIDLength = paramsReader.readVarIntNum()\n    const keyIDBytes = paramsReader.read(keyIDLength)\n    args.keyID = Utils.toUTF8(keyIDBytes)\n\n    // Read counterparty\n    args.counterparty = this.decodeCounterparty(paramsReader)\n\n    // Read privileged parameters\n    const privilegedFlag = paramsReader.readInt8()\n    if (privilegedFlag === -1) {\n      args.privileged = undefined\n    } else {\n      args.privileged = privilegedFlag === 1\n    }\n\n    const privilegedReasonLength = paramsReader.readInt8()\n    if (privilegedReasonLength === -1) {\n      args.privilegedReason = undefined\n    } else {\n      const privilegedReasonBytes = paramsReader.read(privilegedReasonLength)\n      args.privilegedReason = Utils.toUTF8(privilegedReasonBytes)\n    }\n\n    return args\n  }\n}\n","\nimport {\n  AcquireCertificateArgs,\n  AcquireCertificateResult,\n  SecurityLevel,\n  SecurityLevels,\n  Base64String,\n  BasketStringUnder300Bytes,\n  BEEF,\n  BooleanDefaultFalse,\n  BooleanDefaultTrue,\n  Byte,\n  CertificateFieldNameUnder50Bytes,\n  CreateActionArgs,\n  CreateActionResult,\n  DescriptionString5to50Bytes,\n  DiscoverCertificatesResult,\n  EntityIconURLStringMax500Bytes,\n  EntityNameStringMax100Bytes,\n  HexString,\n  InternalizeActionArgs,\n  ISOTimestampString,\n  KeyIDStringUnder800Bytes,\n  LabelStringUnder300Bytes,\n  ListActionsArgs,\n  ListActionsResult,\n  ListCertificatesResult,\n  ListOutputsArgs,\n  ListOutputsResult,\n  OriginatorDomainNameStringUnder250Bytes,\n  OutpointString,\n  OutputTagStringUnder300Bytes,\n  PositiveInteger,\n  PositiveIntegerDefault10Max10000,\n  PositiveIntegerMax10,\n  PositiveIntegerOrZero,\n  ProtocolString5To400Bytes,\n  ProveCertificateArgs,\n  ProveCertificateResult,\n  PubKeyHex,\n  SatoshiValue,\n  SignActionArgs,\n  SignActionResult,\n  TXIDHexString,\n  VersionString7To30Bytes,\n  WalletInterface,\n  ActionStatus\n} from '../Wallet.interfaces.js'\nimport WalletWire from './WalletWire.js'\nimport Certificate from '../../auth/certificates/Certificate.js'\nimport * as Utils from '../../primitives/utils.js'\nimport calls, { CallType } from './WalletWireCalls.js'\nimport { WalletError } from '../WalletError.js'\n\n/**\n * A way to make remote calls to a wallet over a wallet wire.\n */\nexport default class WalletWireTransceiver implements WalletInterface {\n  wire: WalletWire\n\n  constructor(wire: WalletWire) {\n    this.wire = wire\n  }\n\n  private async transmit(\n    call: CallType,\n    originator: OriginatorDomainNameStringUnder250Bytes = '',\n    params: number[] = []\n  ): Promise<number[]> {\n    const frameWriter = new Utils.Writer()\n    frameWriter.writeUInt8(calls[call])\n    const originatorArray = Utils.toArray(originator, 'utf8')\n    frameWriter.writeUInt8(originatorArray.length)\n    frameWriter.write(originatorArray)\n    if (params.length > 0) {\n      frameWriter.write(params)\n    }\n    const frame = frameWriter.toArray()\n    const result = await this.wire.transmitToWallet(frame)\n    const resultReader = new Utils.Reader(result)\n    const errorByte = resultReader.readUInt8()\n    if (errorByte === 0) {\n      const resultFrame = resultReader.read()\n      return resultFrame\n    } else {\n      // Deserialize the error message length\n      const errorMessageLength = resultReader.readVarIntNum()\n      const errorMessageBytes = resultReader.read(errorMessageLength)\n      const errorMessage = Utils.toUTF8(errorMessageBytes)\n\n      // Deserialize the stack trace length\n      const stackTraceLength = resultReader.readVarIntNum()\n      const stackTraceBytes = resultReader.read(stackTraceLength)\n      const stackTrace = Utils.toUTF8(stackTraceBytes)\n\n      // Construct a custom wallet error\n      const e = new WalletError(errorMessage, errorByte, stackTrace)\n      throw e\n    }\n  }\n\n  async createAction(\n    args: CreateActionArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<CreateActionResult> {\n    const paramWriter = new Utils.Writer()\n\n    // Serialize description\n    const descriptionBytes = Utils.toArray(args.description, 'utf8')\n    paramWriter.writeVarIntNum(descriptionBytes.length)\n    paramWriter.write(descriptionBytes)\n\n    // input BEEF\n    if (args.inputBEEF != null) {\n      paramWriter.writeVarIntNum(args.inputBEEF.length)\n      paramWriter.write(args.inputBEEF)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize inputs\n    if (args.inputs != null) {\n      paramWriter.writeVarIntNum(args.inputs.length)\n      for (const input of args.inputs) {\n        // outpoint\n        paramWriter.write(this.encodeOutpoint(input.outpoint))\n\n        // unlockingScript / unlockingScriptLength\n        if (input.unlockingScript != null && input.unlockingScript !== '') {\n          const unlockingScriptBytes = Utils.toArray(\n            input.unlockingScript,\n            'hex'\n          )\n          paramWriter.writeVarIntNum(unlockingScriptBytes.length)\n          paramWriter.write(unlockingScriptBytes)\n        } else {\n          paramWriter.writeVarIntNum(-1)\n          paramWriter.writeVarIntNum(input.unlockingScriptLength ?? 0)\n        }\n\n        // inputDescription\n        const inputDescriptionBytes = Utils.toArray(\n          input.inputDescription,\n          'utf8'\n        )\n        paramWriter.writeVarIntNum(inputDescriptionBytes.length)\n        paramWriter.write(inputDescriptionBytes)\n\n        // sequenceNumber\n        if (typeof input.sequenceNumber === 'number') {\n          paramWriter.writeVarIntNum(input.sequenceNumber)\n        } else {\n          paramWriter.writeVarIntNum(-1)\n        }\n      }\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize outputs\n    if (args.outputs != null) {\n      paramWriter.writeVarIntNum(args.outputs.length)\n      for (const output of args.outputs) {\n        // lockingScript\n        const lockingScriptBytes = Utils.toArray(output.lockingScript, 'hex')\n        paramWriter.writeVarIntNum(lockingScriptBytes.length)\n        paramWriter.write(lockingScriptBytes)\n\n        // satoshis\n        paramWriter.writeVarIntNum(output.satoshis)\n\n        // outputDescription\n        const outputDescriptionBytes = Utils.toArray(\n          output.outputDescription,\n          'utf8'\n        )\n        paramWriter.writeVarIntNum(outputDescriptionBytes.length)\n        paramWriter.write(outputDescriptionBytes)\n\n        // basket\n        if (output.basket != null && output.basket !== '') {\n          const basketBytes = Utils.toArray(output.basket, 'utf8')\n          paramWriter.writeVarIntNum(basketBytes.length)\n          paramWriter.write(basketBytes)\n        } else {\n          paramWriter.writeVarIntNum(-1)\n        }\n\n        // customInstructions\n        if (output.customInstructions != null && output.customInstructions !== '') {\n          const customInstructionsBytes = Utils.toArray(\n            output.customInstructions,\n            'utf8'\n          )\n          paramWriter.writeVarIntNum(customInstructionsBytes.length)\n          paramWriter.write(customInstructionsBytes)\n        } else {\n          paramWriter.writeVarIntNum(-1)\n        }\n\n        // tags\n        if (output.tags != null) {\n          paramWriter.writeVarIntNum(output.tags.length)\n          for (const tag of output.tags) {\n            const tagBytes = Utils.toArray(tag, 'utf8')\n            paramWriter.writeVarIntNum(tagBytes.length)\n            paramWriter.write(tagBytes)\n          }\n        } else {\n          paramWriter.writeVarIntNum(-1)\n        }\n      }\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize lockTime\n    if (typeof args.lockTime === 'number') {\n      paramWriter.writeVarIntNum(args.lockTime)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize version\n    if (typeof args.version === 'number') {\n      paramWriter.writeVarIntNum(args.version)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize labels\n    if (args.labels != null) {\n      paramWriter.writeVarIntNum(args.labels.length)\n      for (const label of args.labels) {\n        const labelBytes = Utils.toArray(label, 'utf8')\n        paramWriter.writeVarIntNum(labelBytes.length)\n        paramWriter.write(labelBytes)\n      }\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize options\n    if (args.options != null) {\n      paramWriter.writeInt8(1) // options present\n\n      // signAndProcess\n      if (typeof args.options.signAndProcess === 'boolean') {\n        paramWriter.writeInt8(args.options.signAndProcess ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // acceptDelayedBroadcast\n      if (typeof args.options.acceptDelayedBroadcast === 'boolean') {\n        paramWriter.writeInt8(args.options.acceptDelayedBroadcast ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // trustSelf\n      if (args.options.trustSelf === 'known') {\n        paramWriter.writeInt8(1)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // knownTxids\n      if (args.options.knownTxids != null) {\n        paramWriter.writeVarIntNum(args.options.knownTxids.length)\n        for (const txid of args.options.knownTxids) {\n          const txidBytes = Utils.toArray(txid, 'hex')\n          paramWriter.write(txidBytes)\n        }\n      } else {\n        paramWriter.writeVarIntNum(-1)\n      }\n\n      // returnTXIDOnly\n      if (typeof args.options.returnTXIDOnly === 'boolean') {\n        paramWriter.writeInt8(args.options.returnTXIDOnly ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // noSend\n      if (typeof args.options.noSend === 'boolean') {\n        paramWriter.writeInt8(args.options.noSend ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // noSendChange\n      if (args.options.noSendChange != null) {\n        paramWriter.writeVarIntNum(args.options.noSendChange.length)\n        for (const outpoint of args.options.noSendChange) {\n          paramWriter.write(this.encodeOutpoint(outpoint))\n        }\n      } else {\n        paramWriter.writeVarIntNum(-1)\n      }\n\n      // sendWith\n      if (args.options.sendWith != null) {\n        paramWriter.writeVarIntNum(args.options.sendWith.length)\n        for (const txid of args.options.sendWith) {\n          const txidBytes = Utils.toArray(txid, 'hex')\n          paramWriter.write(txidBytes)\n        }\n      } else {\n        paramWriter.writeVarIntNum(-1)\n      }\n\n      // randomizeOutputs\n      if (typeof args.options.randomizeOutputs === 'boolean') {\n        paramWriter.writeInt8(args.options.randomizeOutputs ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n    } else {\n      paramWriter.writeInt8(0) // options not present\n    }\n\n    // Transmit and parse response\n    const result = await this.transmit(\n      'createAction',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n\n    const response: {\n      txid?: TXIDHexString\n      tx?: BEEF\n      noSendChange?: OutpointString[]\n      sendWithResults?: Array<{\n        txid: TXIDHexString\n        status: 'unproven' | 'sending' | 'failed'\n      }>\n      signableTransaction?: {\n        tx: BEEF\n        reference: Base64String\n      }\n    } = {}\n\n    // Parse txid\n    const txidFlag = resultReader.readInt8()\n    if (txidFlag === 1) {\n      const txidBytes = resultReader.read(32)\n      response.txid = Utils.toHex(txidBytes)\n    }\n\n    // Parse tx\n    const txFlag = resultReader.readInt8()\n    if (txFlag === 1) {\n      const txLength = resultReader.readVarIntNum()\n      response.tx = resultReader.read(txLength)\n    }\n\n    // Parse noSendChange\n    const noSendChangeLength = resultReader.readVarIntNum()\n    if (noSendChangeLength >= 0) {\n      response.noSendChange = []\n      for (let i = 0; i < noSendChangeLength; i++) {\n        const outpoint = this.readOutpoint(resultReader)\n        response.noSendChange.push(outpoint)\n      }\n    }\n\n    // Parse sendWithResults\n    const sendWithResultsLength = resultReader.readVarIntNum()\n    if (sendWithResultsLength >= 0) {\n      response.sendWithResults = []\n      for (let i = 0; i < sendWithResultsLength; i++) {\n        const txidBytes = resultReader.read(32)\n        const txid = Utils.toHex(txidBytes)\n        const statusCode = resultReader.readInt8()\n        let status: 'unproven' | 'sending' | 'failed' = 'unproven'\n        if (statusCode === 1) status = 'unproven'\n        else if (statusCode === 2) status = 'sending'\n        else if (statusCode === 3) status = 'failed'\n        response.sendWithResults.push({ txid, status })\n      }\n    }\n\n    // Parse signableTransaction\n    const signableTransactionFlag = resultReader.readInt8()\n    if (signableTransactionFlag === 1) {\n      const txLength = resultReader.readVarIntNum()\n      const tx = resultReader.read(txLength)\n      const referenceLength = resultReader.readVarIntNum()\n      const referenceBytes = resultReader.read(referenceLength)\n      response.signableTransaction = {\n        tx,\n        reference: Utils.toBase64(referenceBytes)\n      }\n    }\n\n    return response\n  }\n\n  async signAction(\n    args: SignActionArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<SignActionResult> {\n    const paramWriter = new Utils.Writer()\n\n    // Serialize spends\n    const spendIndexes = Object.keys(args.spends)\n    paramWriter.writeVarIntNum(spendIndexes.length)\n    for (const index of spendIndexes) {\n      paramWriter.writeVarIntNum(Number(index))\n      const spend = args.spends[Number(index)]\n      // unlockingScript\n      const unlockingScriptBytes = Utils.toArray(spend.unlockingScript, 'hex')\n      paramWriter.writeVarIntNum(unlockingScriptBytes.length)\n      paramWriter.write(unlockingScriptBytes)\n      // sequenceNumber\n      if (typeof spend.sequenceNumber === 'number') {\n        paramWriter.writeVarIntNum(spend.sequenceNumber)\n      } else {\n        paramWriter.writeVarIntNum(-1)\n      }\n    }\n\n    // Serialize reference\n    const referenceBytes = Utils.toArray(args.reference, 'base64')\n    paramWriter.writeVarIntNum(referenceBytes.length)\n    paramWriter.write(referenceBytes)\n\n    // Serialize options\n    if (args.options != null) {\n      paramWriter.writeInt8(1) // options present\n\n      // acceptDelayedBroadcast\n      if (typeof args.options.acceptDelayedBroadcast === 'boolean') {\n        paramWriter.writeInt8(args.options.acceptDelayedBroadcast ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // returnTXIDOnly\n      if (typeof args.options.returnTXIDOnly === 'boolean') {\n        paramWriter.writeInt8(args.options.returnTXIDOnly ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // noSend\n      if (typeof args.options.noSend === 'boolean') {\n        paramWriter.writeInt8(args.options.noSend ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n\n      // sendWith\n      if (args.options.sendWith != null) {\n        paramWriter.writeVarIntNum(args.options.sendWith.length)\n        for (const txid of args.options.sendWith) {\n          const txidBytes = Utils.toArray(txid, 'hex')\n          paramWriter.write(txidBytes)\n        }\n      } else {\n        paramWriter.writeVarIntNum(-1)\n      }\n    } else {\n      paramWriter.writeInt8(0) // options not present\n    }\n\n    // Transmit and parse response\n    const result = await this.transmit(\n      'signAction',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n\n    const response: {\n      txid?: TXIDHexString\n      tx?: BEEF\n      noSendChange?: OutpointString[]\n      sendWithResults?: Array<{\n        txid: TXIDHexString\n        status: 'unproven' | 'sending' | 'failed'\n      }>\n    } = {}\n\n    // Parse txid\n    const txidFlag = resultReader.readInt8()\n    if (txidFlag === 1) {\n      const txidBytes = resultReader.read(32)\n      response.txid = Utils.toHex(txidBytes)\n    }\n\n    // Parse tx\n    const txFlag = resultReader.readInt8()\n    if (txFlag === 1) {\n      const txLength = resultReader.readVarIntNum()\n      response.tx = resultReader.read(txLength)\n    }\n\n    // Parse sendWithResults\n    const sendWithResultsLength = resultReader.readVarIntNum()\n    if (sendWithResultsLength >= 0) {\n      response.sendWithResults = []\n      for (let i = 0; i < sendWithResultsLength; i++) {\n        const txidBytes = resultReader.read(32)\n        const txid = Utils.toHex(txidBytes)\n        const statusCode = resultReader.readInt8()\n        let status: 'unproven' | 'sending' | 'failed' = 'unproven'\n        if (statusCode === 1) status = 'unproven'\n        else if (statusCode === 2) status = 'sending'\n        else if (statusCode === 3) status = 'failed'\n        response.sendWithResults.push({ txid, status })\n      }\n    }\n\n    return response\n  }\n\n  async abortAction(\n    args: { reference: Base64String },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ aborted: true }> {\n    await this.transmit(\n      'abortAction',\n      originator,\n      Utils.toArray(args.reference, 'base64')\n    )\n    return { aborted: true }\n  }\n\n  async listActions(\n    args: ListActionsArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<ListActionsResult> {\n    const paramWriter = new Utils.Writer()\n\n    // Serialize labels\n    paramWriter.writeVarIntNum(args.labels.length)\n    for (const label of args.labels) {\n      const labelBytes = Utils.toArray(label, 'utf8')\n      paramWriter.writeVarIntNum(labelBytes.length)\n      paramWriter.write(labelBytes)\n    }\n\n    // Serialize labelQueryMode\n    if (args.labelQueryMode === 'any') {\n      paramWriter.writeInt8(1)\n    } else if (args.labelQueryMode === 'all') {\n      paramWriter.writeInt8(2)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n\n    // Serialize include options\n    const includeOptions = [\n      args.includeLabels,\n      args.includeInputs,\n      args.includeInputSourceLockingScripts,\n      args.includeInputUnlockingScripts,\n      args.includeOutputs,\n      args.includeOutputLockingScripts\n    ]\n    for (const option of includeOptions) {\n      if (typeof option === 'boolean') {\n        paramWriter.writeInt8(option ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n    }\n\n    // Serialize limit and offset\n    if (typeof args.limit === 'number') {\n      paramWriter.writeVarIntNum(args.limit)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    if (typeof args.offset === 'number') {\n      paramWriter.writeVarIntNum(args.offset)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n\n    // Transmit and parse response\n    const result = await this.transmit(\n      'listActions',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n\n    const totalActions = resultReader.readVarIntNum()\n    const actions: Array<{\n      txid: TXIDHexString\n      satoshis: SatoshiValue\n      status: ActionStatus\n      isOutgoing: boolean\n      description: DescriptionString5to50Bytes\n      labels?: LabelStringUnder300Bytes[]\n      version: PositiveIntegerOrZero\n      lockTime: PositiveIntegerOrZero\n      inputs?: Array<{\n        sourceOutpoint: OutpointString\n        sourceSatoshis: SatoshiValue\n        sourceLockingScript?: HexString\n        unlockingScript?: HexString\n        inputDescription: DescriptionString5to50Bytes\n        sequenceNumber: PositiveIntegerOrZero\n      }>\n      outputs?: Array<{\n        outputIndex: PositiveIntegerOrZero\n        satoshis: SatoshiValue\n        lockingScript?: HexString\n        spendable: boolean\n        outputDescription: DescriptionString5to50Bytes\n        basket: BasketStringUnder300Bytes\n        tags: OutputTagStringUnder300Bytes[]\n        customInstructions?: string\n      }>\n    }> = []\n\n    for (let i = 0; i < totalActions; i++) {\n      // Parse action fields\n      const txidBytes = resultReader.read(32)\n      const txid = Utils.toHex(txidBytes)\n\n      const satoshis = resultReader.readVarIntNum()\n\n      const statusCode = resultReader.readInt8()\n      let status: ActionStatus\n      switch (statusCode) {\n        case 1:\n          status = 'completed'\n          break\n        case 2:\n          status = 'unprocessed'\n          break\n        case 3:\n          status = 'sending'\n          break\n        case 4:\n          status = 'unproven'\n          break\n        case 5:\n          status = 'unsigned'\n          break\n        case 6:\n          status = 'nosend'\n          break\n        case 7:\n          status = 'nonfinal'\n          break\n        case 8:\n          status = 'failed'\n          break\n        default:\n          throw new Error(`Unknown status code: ${statusCode}`)\n      }\n\n      const isOutgoing = resultReader.readInt8() === 1\n\n      const descriptionLength = resultReader.readVarIntNum()\n      const descriptionBytes = resultReader.read(descriptionLength)\n      const description = Utils.toUTF8(descriptionBytes)\n\n      const action: any = {\n        txid,\n        satoshis,\n        status,\n        isOutgoing,\n        description,\n        version: 0,\n        lockTime: 0\n      }\n\n      // Parse labels\n      const labelsLength = resultReader.readVarIntNum()\n      if (labelsLength >= 0) {\n        action.labels = []\n        for (let j = 0; j < labelsLength; j++) {\n          const labelLength = resultReader.readVarIntNum()\n          const labelBytes = resultReader.read(labelLength)\n          action.labels.push(Utils.toUTF8(labelBytes))\n        }\n      }\n\n      // Parse version and lockTime\n      action.version = resultReader.readVarIntNum()\n      action.lockTime = resultReader.readVarIntNum()\n\n      // Parse inputs\n      const inputsLength = resultReader.readVarIntNum()\n      if (inputsLength >= 0) {\n        action.inputs = []\n        for (let k = 0; k < inputsLength; k++) {\n          const sourceOutpoint = this.readOutpoint(resultReader)\n          const sourceSatoshis = resultReader.readVarIntNum()\n\n          // sourceLockingScript\n          const sourceLockingScriptLength = resultReader.readVarIntNum()\n          let sourceLockingScript: string | undefined\n          if (sourceLockingScriptLength >= 0) {\n            const sourceLockingScriptBytes = resultReader.read(\n              sourceLockingScriptLength\n            )\n            sourceLockingScript = Utils.toHex(sourceLockingScriptBytes)\n          }\n\n          // unlockingScript\n          const unlockingScriptLength = resultReader.readVarIntNum()\n          let unlockingScript: string | undefined\n          if (unlockingScriptLength >= 0) {\n            const unlockingScriptBytes = resultReader.read(\n              unlockingScriptLength\n            )\n            unlockingScript = Utils.toHex(unlockingScriptBytes)\n          }\n\n          // inputDescription\n          const inputDescriptionLength = resultReader.readVarIntNum()\n          const inputDescriptionBytes = resultReader.read(\n            inputDescriptionLength\n          )\n          const inputDescription = Utils.toUTF8(inputDescriptionBytes)\n\n          // sequenceNumber\n          const sequenceNumber = resultReader.readVarIntNum()\n\n          action.inputs.push({\n            sourceOutpoint,\n            sourceSatoshis,\n            sourceLockingScript,\n            unlockingScript,\n            inputDescription,\n            sequenceNumber\n          })\n        }\n      }\n\n      // Parse outputs\n      const outputsLength = resultReader.readVarIntNum()\n      if (outputsLength >= 0) {\n        action.outputs = []\n        for (let l = 0; l < outputsLength; l++) {\n          const outputIndex = resultReader.readVarIntNum()\n          const satoshis = resultReader.readVarIntNum()\n\n          // lockingScript\n          const lockingScriptLength = resultReader.readVarIntNum()\n          let lockingScript: string | undefined\n          if (lockingScriptLength >= 0) {\n            const lockingScriptBytes = resultReader.read(lockingScriptLength)\n            lockingScript = Utils.toHex(lockingScriptBytes)\n          }\n\n          const spendable = resultReader.readInt8() === 1\n\n          // outputDescription\n          const outputDescriptionLength = resultReader.readVarIntNum()\n          const outputDescriptionBytes = resultReader.read(\n            outputDescriptionLength\n          )\n          const outputDescription = Utils.toUTF8(outputDescriptionBytes)\n\n          // basket\n          const basketLength = resultReader.readVarIntNum()\n          let basket: string | undefined\n          if (basketLength >= 0) {\n            const basketBytes = resultReader.read(basketLength)\n            basket = Utils.toUTF8(basketBytes)\n          }\n\n          // tags\n          const tagsLength = resultReader.readVarIntNum()\n          const tags: string[] = []\n          if (tagsLength >= 0) {\n            for (let m = 0; m < tagsLength; m++) {\n              const tagLength = resultReader.readVarIntNum()\n              const tagBytes = resultReader.read(tagLength)\n              tags.push(Utils.toUTF8(tagBytes))\n            }\n          }\n\n          // customInstructions\n          const customInstructionsLength = resultReader.readVarIntNum()\n          let customInstructions: string | undefined\n          if (customInstructionsLength >= 0) {\n            const customInstructionsBytes = resultReader.read(\n              customInstructionsLength\n            )\n            customInstructions = Utils.toUTF8(customInstructionsBytes)\n          }\n\n          action.outputs.push({\n            outputIndex,\n            satoshis,\n            lockingScript,\n            spendable,\n            outputDescription,\n            basket,\n            tags,\n            customInstructions\n          })\n        }\n      }\n\n      actions.push(action)\n    }\n\n    return {\n      totalActions,\n      actions\n    }\n  }\n\n  async internalizeAction(\n    args: InternalizeActionArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ accepted: true }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.writeVarIntNum(args.tx.length)\n    paramWriter.write(args.tx)\n    paramWriter.writeVarIntNum(args.outputs.length)\n    for (const out of args.outputs) {\n      paramWriter.writeVarIntNum(out.outputIndex)\n      if (out.protocol === 'wallet payment') {\n        if (out.paymentRemittance == null) {\n          throw new Error('Payment remittance is required for wallet payment')\n        }\n        paramWriter.writeUInt8(1)\n        paramWriter.write(\n          Utils.toArray(out.paymentRemittance.senderIdentityKey, 'hex')\n        )\n        const derivationPrefixAsArray = Utils.toArray(\n          out.paymentRemittance.derivationPrefix,\n          'base64'\n        )\n        paramWriter.writeVarIntNum(derivationPrefixAsArray.length)\n        paramWriter.write(derivationPrefixAsArray)\n        const derivationSuffixAsArray = Utils.toArray(\n          out.paymentRemittance.derivationSuffix,\n          'base64'\n        )\n        paramWriter.writeVarIntNum(derivationSuffixAsArray.length)\n        paramWriter.write(derivationSuffixAsArray)\n      } else {\n        paramWriter.writeUInt8(2)\n        const basketAsArray = Utils.toArray(\n          out.insertionRemittance?.basket,\n          'utf8'\n        )\n        paramWriter.writeVarIntNum(basketAsArray.length)\n        paramWriter.write(basketAsArray)\n        if (typeof out.insertionRemittance?.customInstructions === 'string' && out.insertionRemittance.customInstructions !== '') {\n          const customInstructionsAsArray = Utils.toArray(\n            out.insertionRemittance.customInstructions,\n            'utf8'\n          )\n          paramWriter.writeVarIntNum(customInstructionsAsArray.length)\n          paramWriter.write(customInstructionsAsArray)\n        } else {\n          paramWriter.writeVarIntNum(-1)\n        }\n        if (typeof out.insertionRemittance?.tags === 'object') {\n          paramWriter.writeVarIntNum(out.insertionRemittance.tags.length)\n          for (const tag of out.insertionRemittance.tags) {\n            const tagAsArray = Utils.toArray(tag, 'utf8')\n            paramWriter.writeVarIntNum(tagAsArray.length)\n            paramWriter.write(tagAsArray)\n          }\n        } else {\n          paramWriter.writeVarIntNum(0)\n        }\n      }\n    }\n    if (typeof args.labels === 'object') {\n      paramWriter.writeVarIntNum(args.labels.length)\n      for (const l of args.labels) {\n        const labelAsArray = Utils.toArray(l, 'utf8')\n        paramWriter.writeVarIntNum(labelAsArray.length)\n        paramWriter.write(labelAsArray)\n      }\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    const descriptionAsArray = Utils.toArray(args.description)\n    paramWriter.writeVarIntNum(descriptionAsArray.length)\n    paramWriter.write(descriptionAsArray)\n\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n\n    await this.transmit('internalizeAction', originator, paramWriter.toArray())\n    return { accepted: true }\n  }\n\n  async listOutputs(\n    args: ListOutputsArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<ListOutputsResult> {\n    const paramWriter = new Utils.Writer()\n    const basketAsArray = Utils.toArray(args.basket, 'utf8')\n    paramWriter.writeVarIntNum(basketAsArray.length)\n    paramWriter.write(basketAsArray)\n    if (typeof args.tags === 'object') {\n      paramWriter.writeVarIntNum(args.tags.length)\n      for (const tag of args.tags) {\n        const tagAsArray = Utils.toArray(tag, 'utf8')\n        paramWriter.writeVarIntNum(tagAsArray.length)\n        paramWriter.write(tagAsArray)\n      }\n    } else {\n      paramWriter.writeVarIntNum(0)\n    }\n    if (args.tagQueryMode === 'all') {\n      paramWriter.writeInt8(1)\n    } else if (args.tagQueryMode === 'any') {\n      paramWriter.writeInt8(2)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    if (args.include === 'locking scripts') {\n      paramWriter.writeInt8(1)\n    } else if (args.include === 'entire transactions') {\n      paramWriter.writeInt8(2)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    if (typeof args.includeCustomInstructions === 'boolean') {\n      paramWriter.writeInt8(args.includeCustomInstructions ? 1 : 0)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    if (typeof args.includeTags === 'boolean') {\n      paramWriter.writeInt8(args.includeTags ? 1 : 0)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    if (typeof args.includeLabels === 'boolean') {\n      paramWriter.writeInt8(args.includeLabels ? 1 : 0)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    if (typeof args.limit === 'number') {\n      paramWriter.writeVarIntNum(args.limit)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    if (typeof args.offset === 'number') {\n      paramWriter.writeVarIntNum(args.offset)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n\n    const result = await this.transmit(\n      'listOutputs',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n    const totalOutputs = resultReader.readVarIntNum()\n    const beefLength = resultReader.readVarIntNum()\n    let BEEF\n    if (beefLength >= 0) {\n      BEEF = resultReader.read(beefLength)\n    }\n    const outputs: Array<{\n      outpoint: OutpointString\n      satoshis: SatoshiValue\n      lockingScript?: HexString\n      tx?: BEEF\n      spendable: true\n      customInstructions?: string\n      tags?: OutputTagStringUnder300Bytes[]\n      labels?: LabelStringUnder300Bytes[]\n    }> = []\n    for (let i = 0; i < totalOutputs; i++) {\n      const outpoint = this.readOutpoint(resultReader)\n      const satoshis = resultReader.readVarIntNum()\n      const output: {\n        outpoint: OutpointString\n        satoshis: SatoshiValue\n        lockingScript?: HexString\n        tx?: BEEF\n        spendable: true\n        customInstructions?: string\n        tags?: OutputTagStringUnder300Bytes[]\n        labels?: LabelStringUnder300Bytes[]\n      } = {\n        spendable: true,\n        outpoint,\n        satoshis\n      }\n      const scriptLength = resultReader.readVarIntNum()\n      if (scriptLength >= 0) {\n        output.lockingScript = Utils.toHex(resultReader.read(scriptLength))\n      }\n      const customInstructionsLength = resultReader.readVarIntNum()\n      if (customInstructionsLength >= 0) {\n        output.customInstructions = Utils.toUTF8(\n          resultReader.read(customInstructionsLength)\n        )\n      }\n      const tagsLength = resultReader.readVarIntNum()\n      if (tagsLength !== -1) {\n        const tags: OutputTagStringUnder300Bytes[] = []\n        for (let i = 0; i < tagsLength; i++) {\n          const tagLength = resultReader.readVarIntNum()\n          tags.push(Utils.toUTF8(resultReader.read(tagLength)))\n        }\n        output.tags = tags\n      }\n      const labelsLength = resultReader.readVarIntNum()\n      if (labelsLength !== -1) {\n        const labels: LabelStringUnder300Bytes[] = []\n        for (let i = 0; i < labelsLength; i++) {\n          const labelLength = resultReader.readVarIntNum()\n          labels.push(Utils.toUTF8(resultReader.read(labelLength)))\n        }\n        output.labels = labels\n      }\n      outputs.push(output)\n    }\n    return {\n      totalOutputs,\n      BEEF,\n      outputs\n    }\n  }\n\n  async relinquishOutput(\n    args: { basket: BasketStringUnder300Bytes, output: OutpointString },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ relinquished: true }> {\n    const paramWriter = new Utils.Writer()\n    const basketAsArray = Utils.toArray(args.basket, 'utf8')\n    paramWriter.writeVarIntNum(basketAsArray.length)\n    paramWriter.write(basketAsArray)\n    paramWriter.write(this.encodeOutpoint(args.output))\n    await this.transmit('relinquishOutput', originator, paramWriter.toArray())\n    return { relinquished: true }\n  }\n\n  private encodeOutpoint(outpoint: OutpointString): number[] {\n    const writer = new Utils.Writer()\n    const [txid, index] = outpoint.split('.')\n    writer.write(Utils.toArray(txid, 'hex'))\n    writer.writeVarIntNum(Number(index))\n    return writer.toArray()\n  }\n\n  private readOutpoint(reader: Utils.Reader): OutpointString {\n    const txid = Utils.toHex(reader.read(32))\n    const index = reader.readVarIntNum()\n    return `${txid}.${index}`\n  }\n\n  async getPublicKey(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      identityKey?: true\n      protocolID?: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID?: KeyIDStringUnder800Bytes\n      privileged?: BooleanDefaultFalse\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      forSelf?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ publicKey: PubKeyHex }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.writeUInt8(args.identityKey ? 1 : 0)\n    if (!args.identityKey) {\n      paramWriter.write(\n        this.encodeKeyRelatedParams(\n          args.protocolID ??= [SecurityLevels.Silent, 'default'],\n          args.keyID ??= '',\n          args.counterparty,\n          args.privileged,\n          args.privilegedReason\n        )\n      )\n      if (typeof args.forSelf === 'boolean') {\n        paramWriter.writeInt8(args.forSelf ? 1 : 0)\n      } else {\n        paramWriter.writeInt8(-1)\n      }\n    } else {\n      paramWriter.write(\n        this.encodePrivilegedParams(args.privileged, args.privilegedReason)\n      )\n    }\n\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n\n    const result = await this.transmit(\n      'getPublicKey',\n      originator,\n      paramWriter.toArray()\n    )\n    return {\n      publicKey: Utils.toHex(result)\n    }\n  }\n\n  async revealCounterpartyKeyLinkage(\n    args: {\n      counterparty: PubKeyHex\n      verifier: PubKeyHex\n      privilegedReason?: DescriptionString5to50Bytes\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    revelationTime: ISOTimestampString\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: number[]\n  }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodePrivilegedParams(args.privileged, args.privilegedReason)\n    )\n    paramWriter.write(Utils.toArray(args.counterparty, 'hex'))\n    paramWriter.write(Utils.toArray(args.verifier, 'hex'))\n    const result = await this.transmit(\n      'revealCounterpartyKeyLinkage',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n    const prover = Utils.toHex(resultReader.read(33))\n    const verifier = Utils.toHex(resultReader.read(33))\n    const counterparty = Utils.toHex(resultReader.read(33))\n    const revelationTimeLength = resultReader.readVarIntNum()\n    const revelationTime = Utils.toUTF8(\n      resultReader.read(revelationTimeLength)\n    )\n    const encryptedLinkageLength = resultReader.readVarIntNum()\n    const encryptedLinkage = resultReader.read(encryptedLinkageLength)\n    const encryptedLinkageProofLength = resultReader.readVarIntNum()\n    const encryptedLinkageProof = resultReader.read(\n      encryptedLinkageProofLength\n    )\n    return {\n      prover,\n      verifier,\n      counterparty,\n      revelationTime,\n      encryptedLinkage,\n      encryptedLinkageProof\n    }\n  }\n\n  async revealSpecificKeyLinkage(\n    args: {\n      counterparty: PubKeyHex\n      verifier: PubKeyHex\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n    proofType: Byte\n  }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodeKeyRelatedParams(\n        args.protocolID,\n        args.keyID,\n        args.counterparty,\n        args.privileged,\n        args.privilegedReason\n      )\n    )\n    paramWriter.write(Utils.toArray(args.verifier, 'hex'))\n    const result = await this.transmit(\n      'revealSpecificKeyLinkage',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n    const prover = Utils.toHex(resultReader.read(33))\n    const verifier = Utils.toHex(resultReader.read(33))\n    const counterparty = Utils.toHex(resultReader.read(33))\n    const securityLevel = resultReader.readUInt8()\n    const protocolLength = resultReader.readVarIntNum()\n    const protocol = Utils.toUTF8(resultReader.read(protocolLength))\n    const keyIDLength = resultReader.readVarIntNum()\n    const keyID = Utils.toUTF8(resultReader.read(keyIDLength))\n    const encryptedLinkageLength = resultReader.readVarIntNum()\n    const encryptedLinkage = resultReader.read(encryptedLinkageLength)\n    const encryptedLinkageProofLength = resultReader.readVarIntNum()\n    const encryptedLinkageProof = resultReader.read(\n      encryptedLinkageProofLength\n    )\n    const proofType = resultReader.readUInt8()\n    return {\n      prover,\n      verifier,\n      counterparty,\n      protocolID: [securityLevel as SecurityLevel, protocol],\n      keyID,\n      encryptedLinkage,\n      encryptedLinkageProof,\n      proofType\n    }\n  }\n\n  async encrypt(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      plaintext: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ ciphertext: Byte[] }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodeKeyRelatedParams(\n        args.protocolID,\n        args.keyID,\n        args.counterparty,\n        args.privileged,\n        args.privilegedReason\n      )\n    )\n    paramWriter.writeVarIntNum(args.plaintext.length)\n    paramWriter.write(args.plaintext)\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    return {\n      ciphertext: await this.transmit(\n        'encrypt',\n        originator,\n        paramWriter.toArray()\n      )\n    }\n  }\n\n  async decrypt(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      ciphertext: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ plaintext: Byte[] }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodeKeyRelatedParams(\n        args.protocolID,\n        args.keyID,\n        args.counterparty,\n        args.privileged,\n        args.privilegedReason\n      )\n    )\n    paramWriter.writeVarIntNum(args.ciphertext.length)\n    paramWriter.write(args.ciphertext)\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    return {\n      plaintext: await this.transmit(\n        'decrypt',\n        originator,\n        paramWriter.toArray()\n      )\n    }\n  }\n\n  async createHmac(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      data: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ hmac: Byte[] }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodeKeyRelatedParams(\n        args.protocolID,\n        args.keyID,\n        args.counterparty,\n        args.privileged,\n        args.privilegedReason\n      )\n    )\n    paramWriter.writeVarIntNum(args.data.length)\n    paramWriter.write(args.data)\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    return {\n      hmac: await this.transmit(\n        'createHmac',\n        originator,\n        paramWriter.toArray()\n      )\n    }\n  }\n\n  async verifyHmac(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      data: Byte[]\n      hmac: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ valid: true }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodeKeyRelatedParams(\n        args.protocolID,\n        args.keyID,\n        args.counterparty,\n        args.privileged,\n        args.privilegedReason\n      )\n    )\n    paramWriter.write(args.hmac)\n    paramWriter.writeVarIntNum(args.data.length)\n    paramWriter.write(args.data)\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    await this.transmit('verifyHmac', originator, paramWriter.toArray())\n    return { valid: true }\n  }\n\n  async createSignature(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      data?: Byte[]\n      hashToDirectlySign?: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ signature: Byte[] }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodeKeyRelatedParams(\n        args.protocolID,\n        args.keyID,\n        args.counterparty,\n        args.privileged,\n        args.privilegedReason\n      )\n    )\n    if (typeof args.data === 'object') {\n      paramWriter.writeUInt8(1)\n      paramWriter.writeVarIntNum(args.data.length)\n      paramWriter.write(args.data)\n    } else {\n      paramWriter.writeUInt8(2)\n      paramWriter.write(args.hashToDirectlySign ??= [])\n    }\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    return {\n      signature: await this.transmit(\n        'createSignature',\n        originator,\n        paramWriter.toArray()\n      )\n    }\n  }\n\n  async verifySignature(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      data?: Byte[]\n      hashToDirectlyVerify?: Byte[]\n      signature: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      forSelf?: BooleanDefaultFalse\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ valid: true }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(\n      this.encodeKeyRelatedParams(\n        args.protocolID,\n        args.keyID,\n        args.counterparty,\n        args.privileged,\n        args.privilegedReason\n      )\n    )\n    if (typeof args.forSelf === 'boolean') {\n      paramWriter.writeInt8(args.forSelf ? 1 : 0)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    paramWriter.writeVarIntNum(args.signature.length)\n    paramWriter.write(args.signature)\n    if (typeof args.data === 'object') {\n      paramWriter.writeUInt8(1)\n      paramWriter.writeVarIntNum(args.data.length)\n      paramWriter.write(args.data)\n    } else {\n      paramWriter.writeUInt8(2)\n      paramWriter.write(args.hashToDirectlyVerify ?? [])\n    }\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    await this.transmit('verifySignature', originator, paramWriter.toArray())\n    return { valid: true }\n  }\n\n  private encodeKeyRelatedParams(\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes],\n    keyID: KeyIDStringUnder800Bytes,\n    counterparty?: PubKeyHex | 'self' | 'anyone',\n    privileged?: boolean,\n    privilegedReason?: string\n  ): number[] {\n    const paramWriter = new Utils.Writer()\n    paramWriter.writeUInt8(protocolID[0])\n    const protocolAsArray = Utils.toArray(protocolID[1], 'utf8')\n    paramWriter.writeVarIntNum(protocolAsArray.length)\n    paramWriter.write(protocolAsArray)\n    const keyIDAsArray = Utils.toArray(keyID, 'utf8')\n    paramWriter.writeVarIntNum(keyIDAsArray.length)\n    paramWriter.write(keyIDAsArray)\n    if (typeof counterparty !== 'string') {\n      paramWriter.writeUInt8(0)\n    } else if (counterparty === 'self') {\n      paramWriter.writeUInt8(11)\n    } else if (counterparty === 'anyone') {\n      paramWriter.writeUInt8(12)\n    } else {\n      paramWriter.write(Utils.toArray(counterparty, 'hex'))\n    }\n    paramWriter.write(\n      this.encodePrivilegedParams(privileged, privilegedReason)\n    )\n    return paramWriter.toArray()\n  }\n\n  async acquireCertificate(\n    args: AcquireCertificateArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<AcquireCertificateResult> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(Utils.toArray(args.type, 'base64'))\n    paramWriter.write(Utils.toArray(args.certifier, 'hex'))\n\n    const fieldEntries = Object.entries(args.fields)\n    paramWriter.writeVarIntNum(fieldEntries.length)\n    for (const [key, value] of fieldEntries) {\n      const keyAsArray = Utils.toArray(key, 'utf8')\n      const valueAsArray = Utils.toArray(value, 'utf8')\n\n      paramWriter.writeVarIntNum(keyAsArray.length)\n      paramWriter.write(keyAsArray)\n\n      paramWriter.writeVarIntNum(valueAsArray.length)\n      paramWriter.write(valueAsArray)\n    }\n\n    paramWriter.write(\n      this.encodePrivilegedParams(args.privileged, args.privilegedReason)\n    )\n    paramWriter.writeUInt8(args.acquisitionProtocol === 'direct' ? 1 : 2)\n\n    if (args.acquisitionProtocol === 'direct') {\n      paramWriter.write(Utils.toArray(args.serialNumber, 'base64'))\n      paramWriter.write(this.encodeOutpoint(args.revocationOutpoint ?? ''))\n      const signatureAsArray = Utils.toArray(args.signature, 'hex')\n      paramWriter.writeVarIntNum(signatureAsArray.length)\n      paramWriter.write(signatureAsArray)\n\n      const keyringRevealerAsArray =\n        args.keyringRevealer !== 'certifier'\n          ? Utils.toArray(args.keyringRevealer, 'hex')\n          : [11]\n      paramWriter.write(keyringRevealerAsArray)\n\n      const keyringKeys = Object.keys(args.keyringForSubject ?? {})\n      paramWriter.writeVarIntNum(keyringKeys.length)\n      for (let i = 0; i < keyringKeys.length; i++) {\n        const keyringKeysAsArray = Utils.toArray(keyringKeys[i], 'utf8')\n        paramWriter.writeVarIntNum(keyringKeysAsArray.length)\n        paramWriter.write(keyringKeysAsArray)\n        const keyringForSubjectAsArray = Utils.toArray(\n          args.keyringForSubject?.[keyringKeys[i]],\n          'base64'\n        )\n        paramWriter.writeVarIntNum(keyringForSubjectAsArray.length)\n        paramWriter.write(keyringForSubjectAsArray)\n      }\n    } else {\n      const certifierUrlAsArray = Utils.toArray(args.certifierUrl, 'utf8')\n      paramWriter.writeVarIntNum(certifierUrlAsArray.length)\n      paramWriter.write(certifierUrlAsArray)\n    }\n\n    const result = await this.transmit(\n      'acquireCertificate',\n      originator,\n      paramWriter.toArray()\n    )\n    const cert = Certificate.fromBinary(result)\n    return {\n      ...cert,\n      signature: cert.signature as string\n    }\n  }\n\n  private encodePrivilegedParams(\n    privileged?: boolean,\n    privilegedReason?: string\n  ): number[] {\n    const paramWriter = new Utils.Writer()\n    if (typeof privileged === 'boolean') {\n      paramWriter.writeInt8(privileged ? 1 : 0)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    if (typeof privilegedReason === 'string') {\n      const privilegedReasonAsArray = Utils.toArray(privilegedReason, 'utf8')\n      paramWriter.writeInt8(privilegedReasonAsArray.length)\n      paramWriter.write(privilegedReasonAsArray)\n    } else {\n      paramWriter.writeInt8(-1)\n    }\n    return paramWriter.toArray()\n  }\n\n  async listCertificates(\n    args: {\n      certifiers: PubKeyHex[]\n      types: Base64String[]\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n      privileged?: BooleanDefaultFalse\n      privilegedReason?: DescriptionString5to50Bytes\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<ListCertificatesResult> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.writeVarIntNum(args.certifiers.length)\n    for (let i = 0; i < args.certifiers.length; i++) {\n      paramWriter.write(Utils.toArray(args.certifiers[i], 'hex'))\n    }\n\n    paramWriter.writeVarIntNum(args.types.length)\n    for (let i = 0; i < args.types.length; i++) {\n      paramWriter.write(Utils.toArray(args.types[i], 'base64'))\n    }\n    if (typeof args.limit === 'number') {\n      paramWriter.writeVarIntNum(args.limit)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    if (typeof args.offset === 'number') {\n      paramWriter.writeVarIntNum(args.offset)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    paramWriter.write(\n      this.encodePrivilegedParams(args.privileged, args.privilegedReason)\n    )\n    const result = await this.transmit(\n      'listCertificates',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n    const totalCertificates = resultReader.readVarIntNum()\n    const certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n    }> = []\n    for (let i = 0; i < totalCertificates; i++) {\n      const certificateLength = resultReader.readVarIntNum()\n      const certificateBin = resultReader.read(certificateLength)\n      const cert = Certificate.fromBinary(certificateBin)\n      certificates.push({\n        ...cert,\n        signature: cert.signature as string\n      })\n    }\n    return {\n      totalCertificates,\n      certificates\n    }\n  }\n\n  async proveCertificate(\n    args: ProveCertificateArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<ProveCertificateResult> {\n    const paramWriter = new Utils.Writer()\n    const typeAsArray = Utils.toArray(args.certificate.type, 'base64')\n    paramWriter.write(typeAsArray)\n    const subjectAsArray = Utils.toArray(args.certificate.subject, 'hex')\n    paramWriter.write(subjectAsArray)\n    const serialNumberAsArray = Utils.toArray(\n      args.certificate.serialNumber,\n      'base64'\n    )\n    paramWriter.write(serialNumberAsArray)\n    const certifierAsArray = Utils.toArray(args.certificate.certifier, 'hex')\n    paramWriter.write(certifierAsArray)\n    const revocationOutpointAsArray = this.encodeOutpoint(\n      args.certificate.revocationOutpoint ?? ''\n    )\n    paramWriter.write(revocationOutpointAsArray)\n    const signatureAsArray = Utils.toArray(args.certificate.signature, 'hex')\n    paramWriter.writeVarIntNum(signatureAsArray.length)\n    paramWriter.write(signatureAsArray)\n    const fieldEntries = Object.entries(args.certificate.fields ?? {})\n    paramWriter.writeVarIntNum(fieldEntries.length)\n    for (const [key, value] of fieldEntries) {\n      const keyAsArray = Utils.toArray(key, 'utf8')\n      const valueAsArray = Utils.toArray(value, 'utf8')\n      paramWriter.writeVarIntNum(keyAsArray.length)\n      paramWriter.write(keyAsArray)\n      paramWriter.writeVarIntNum(valueAsArray.length)\n      paramWriter.write(valueAsArray)\n    }\n    paramWriter.writeVarIntNum(args.fieldsToReveal.length)\n    for (const field of args.fieldsToReveal) {\n      const fieldAsArray = Utils.toArray(field, 'utf8')\n      paramWriter.writeVarIntNum(fieldAsArray.length)\n      paramWriter.write(fieldAsArray)\n    }\n    paramWriter.write(Utils.toArray(args.verifier, 'hex'))\n    paramWriter.write(\n      this.encodePrivilegedParams(args.privileged, args.privilegedReason)\n    )\n    const result = await this.transmit(\n      'proveCertificate',\n      originator,\n      paramWriter.toArray()\n    )\n    const resultReader = new Utils.Reader(result)\n    const numFields = resultReader.readVarIntNum()\n    const keyringForVerifier: Record<string, string> = {}\n    for (let i = 0; i < numFields; i++) {\n      const fieldKeyLength = resultReader.readVarIntNum()\n      const fieldKey = Utils.toUTF8(resultReader.read(fieldKeyLength))\n      const fieldValueLength = resultReader.readVarIntNum()\n      keyringForVerifier[fieldKey] = Utils.toBase64(\n        resultReader.read(fieldValueLength)\n      )\n    }\n    return {\n      keyringForVerifier\n    }\n  }\n\n  async relinquishCertificate(\n    args: {\n      type: Base64String\n      serialNumber: Base64String\n      certifier: PubKeyHex\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ relinquished: true }> {\n    const paramWriter = new Utils.Writer()\n    const typeAsArray = Utils.toArray(args.type, 'base64')\n    paramWriter.write(typeAsArray)\n    const serialNumberAsArray = Utils.toArray(args.serialNumber, 'base64')\n    paramWriter.write(serialNumberAsArray)\n    const certifierAsArray = Utils.toArray(args.certifier, 'hex')\n    paramWriter.write(certifierAsArray)\n    await this.transmit(\n      'relinquishCertificate',\n      originator,\n      paramWriter.toArray()\n    )\n    return { relinquished: true }\n  }\n\n  private parseDiscoveryResult(result: number[]): {\n    totalCertificates: number\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  } {\n    const resultReader = new Utils.Reader(result)\n    const totalCertificates = resultReader.readVarIntNum()\n    const certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }> = []\n    for (let i = 0; i < totalCertificates; i++) {\n      const certBinLen = resultReader.readVarIntNum()\n      const certBin = resultReader.read(certBinLen)\n      const cert = Certificate.fromBinary(certBin)\n      const nameLength = resultReader.readVarIntNum()\n      const name = Utils.toUTF8(resultReader.read(nameLength))\n      const iconUrlLength = resultReader.readVarIntNum()\n      const iconUrl = Utils.toUTF8(resultReader.read(iconUrlLength))\n      const descriptionLength = resultReader.readVarIntNum()\n      const description = Utils.toUTF8(resultReader.read(descriptionLength))\n      const trust = resultReader.readUInt8()\n      const publiclyRevealedKeyring = {}\n      const numPublicKeyringEntries = resultReader.readVarIntNum()\n      for (let j = 0; j < numPublicKeyringEntries; j++) {\n        const fieldKeyLen = resultReader.readVarIntNum()\n        const fieldKey = Utils.toUTF8(resultReader.read(fieldKeyLen))\n        const fieldValueLen = resultReader.readVarIntNum()\n        publiclyRevealedKeyring[fieldKey] = resultReader.read(fieldValueLen)\n      }\n      const decryptedFields = {}\n      const numDecryptedFields = resultReader.readVarIntNum()\n      for (let k = 0; k < numDecryptedFields; k++) {\n        const fieldKeyLen = resultReader.readVarIntNum()\n        const fieldKey = Utils.toUTF8(resultReader.read(fieldKeyLen))\n        const fieldValueLen = resultReader.readVarIntNum()\n        decryptedFields[fieldKey] = Utils.toUTF8(\n          resultReader.read(fieldValueLen)\n        )\n      }\n      certificates.push({\n        ...cert,\n        signature: cert.signature as string,\n        certifierInfo: { iconUrl, name, description, trust },\n        publiclyRevealedKeyring,\n        decryptedFields\n      })\n    }\n    return {\n      totalCertificates,\n      certificates\n    }\n  }\n\n  async discoverByIdentityKey(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      identityKey: PubKeyHex\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<DiscoverCertificatesResult> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.write(Utils.toArray(args.identityKey, 'hex'))\n    if (typeof args.limit === 'number') {\n      paramWriter.writeVarIntNum(args.limit)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    if (typeof args.offset === 'number') {\n      paramWriter.writeVarIntNum(args.offset)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    const result = await this.transmit(\n      'discoverByIdentityKey',\n      originator,\n      paramWriter.toArray()\n    )\n    return this.parseDiscoveryResult(result)\n  }\n\n  async discoverByAttributes(\n    args: {\n      seekPermission?: BooleanDefaultTrue\n      attributes: Record<CertificateFieldNameUnder50Bytes, string>\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<DiscoverCertificatesResult> {\n    const paramWriter = new Utils.Writer()\n    const attributeKeys = Object.keys(args.attributes)\n    paramWriter.writeVarIntNum(attributeKeys.length)\n    for (let i = 0; i < attributeKeys.length; i++) {\n      paramWriter.writeVarIntNum(attributeKeys[i].length)\n      paramWriter.write(Utils.toArray(attributeKeys[i], 'utf8'))\n      paramWriter.writeVarIntNum(args.attributes[attributeKeys[i]].length)\n      paramWriter.write(\n        Utils.toArray(args.attributes[attributeKeys[i]], 'utf8')\n      )\n    }\n    if (typeof args.limit === 'number') {\n      paramWriter.writeVarIntNum(args.limit)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    if (typeof args.offset === 'number') {\n      paramWriter.writeVarIntNum(args.offset)\n    } else {\n      paramWriter.writeVarIntNum(-1)\n    }\n    // Serialize seekPermission\n    paramWriter.writeInt8(\n      typeof args.seekPermission === 'boolean'\n        ? args.seekPermission\n          ? 1\n          : 0\n        : -1\n    )\n    const result = await this.transmit(\n      'discoverByAttributes',\n      originator,\n      paramWriter.toArray()\n    )\n    return this.parseDiscoveryResult(result)\n  }\n\n  async isAuthenticated(\n    args: {},\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ authenticated: true }> {\n    const result = await this.transmit('isAuthenticated', originator)\n    // @ts-expect-error\n    return { authenticated: result[0] === 1 }\n  }\n\n  async waitForAuthentication(\n    args: {},\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ authenticated: true }> {\n    await this.transmit('waitForAuthentication', originator)\n    return { authenticated: true }\n  }\n\n  async getHeight(\n    args: {},\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ height: PositiveInteger }> {\n    const result = await this.transmit('getHeight', originator)\n    const resultReader = new Utils.Reader(result)\n    return {\n      height: resultReader.readVarIntNum()\n    }\n  }\n\n  async getHeaderForHeight(\n    args: { height: PositiveInteger },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ header: HexString }> {\n    const paramWriter = new Utils.Writer()\n    paramWriter.writeVarIntNum(args.height)\n    const header = await this.transmit(\n      'getHeaderForHeight',\n      originator,\n      paramWriter.toArray()\n    )\n    return {\n      header: Utils.toHex(header)\n    }\n  }\n\n  async getNetwork(\n    args: {},\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ network: 'mainnet' | 'testnet' }> {\n    const net = await this.transmit('getNetwork', originator)\n    return {\n      network: net[0] === 0 ? 'mainnet' : 'testnet'\n    }\n  }\n\n  async getVersion(\n    args: {},\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ version: VersionString7To30Bytes }> {\n    const version = await this.transmit('getVersion', originator)\n    return {\n      version: Utils.toUTF8(version)\n    }\n  }\n}\n","import BigNumber from './BigNumber.js'\nimport { hash256 } from './Hash.js'\n\n/**\n * Prepends a '0' to an odd character length word to ensure it has an even number of characters.\n * @param {string} word - The input word.\n * @returns {string} - The word with a leading '0' if it's an odd character length; otherwise, the original word.\n */\nexport const zero2 = (word: string): string => {\n  if (word.length % 2 === 1) {\n    return '0' + word\n  } else {\n    return word\n  }\n}\n\n/**\n * Converts an array of numbers to a hexadecimal string representation.\n * @param {number[]} msg - The input array of numbers.\n * @returns {string} - The hexadecimal string representation of the input array.\n */\nexport const toHex = (msg: number[]): string => {\n  let res = ''\n  for (const num of msg) {\n    res += zero2(num.toString(16))\n  }\n  return res\n}\n\n/**\n * Converts various message formats into an array of numbers.\n * Supports arrays, hexadecimal strings, base64 strings, and UTF-8 strings.\n *\n * @param {any} msg - The input message (array or string).\n * @param {('hex' | 'utf8' | 'base64')} enc - Specifies the string encoding, if applicable.\n * @returns {any[]} - Array representation of the input.\n */\nexport const toArray = (msg: any, enc?: 'hex' | 'utf8' | 'base64'): any[] => {\n  if (Array.isArray(msg)) return msg.slice()\n  if (msg === undefined) return []\n\n  if (typeof msg !== 'string') {\n    return Array.from(msg, (item: any) => item | 0)\n  }\n\n  switch (enc) {\n    case 'hex':\n      return hexToArray(msg)\n    case 'base64':\n      return base64ToArray(msg)\n    default:\n      return utf8ToArray(msg)\n  }\n}\n\nconst hexToArray = (msg: string): number[] => {\n  msg = msg.replace(/[^a-z0-9]+/gi, '')\n  if (msg.length % 2 !== 0) msg = '0' + msg\n  const res: number[] = []\n  for (let i = 0; i < msg.length; i += 2) {\n    res.push(parseInt(msg[i] + msg[i + 1], 16))\n  }\n  return res\n}\n\nconst base64ToArray = (msg: string): number[] => {\n  const base64Chars =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  const result: number[] = []\n  let currentBit = 0\n  let currentByte = 0\n\n  for (const char of msg.replace(/=+$/, '')) {\n    currentBit = (currentBit << 6) | base64Chars.indexOf(char)\n    currentByte += 6\n\n    if (currentByte >= 8) {\n      currentByte -= 8\n      result.push((currentBit >> currentByte) & 0xff)\n      currentBit &= (1 << currentByte) - 1\n    }\n  }\n\n  return result\n}\n\n/**\n * Encodes a string into an array of bytes representing its UTF-8 encoding.\n * Any lone surrogates are replaced with the Unicode replacement character (U+FFFD).\n *\n * @param str - The string to encode.\n * @returns An array of numbers, each representing a byte in the UTF-8 encoded string.\n */\nfunction utf8ToArray (str: string): number[] {\n  const result: number[] = []\n\n  for (let i = 0; i < str.length; i++) {\n    const cp = str.codePointAt(i)\n    if (cp === undefined) {\n      // Should never be out of range.\n      throw new Error(`Index out of range: ${i}`)\n    }\n    let codePoint = cp\n\n    if (codePoint > 0xFFFF) {\n      // Valid surrogate pair => skip the next code unit because codePointAt\n      // has already combined them into a single code point.\n      i++\n    } else {\n      // Check if codePoint is a lone (unpaired) high surrogate or low surrogate.\n      if (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n        // Replace with the replacement character (U+FFFD).\n        codePoint = 0xFFFD\n      }\n    }\n\n    // Encode according to the UTF-8 standard\n    if (codePoint <= 0x7F) {\n      result.push(codePoint)\n    } else if (codePoint <= 0x7FF) {\n      result.push(\n        0xC0 | (codePoint >> 6),\n        0x80 | (codePoint & 0x3F)\n      )\n    } else if (codePoint <= 0xFFFF) {\n      result.push(\n        0xE0 | (codePoint >> 12),\n        0x80 | ((codePoint >> 6) & 0x3F),\n        0x80 | (codePoint & 0x3F)\n      )\n    } else {\n      result.push(\n        0xF0 | (codePoint >> 18),\n        0x80 | ((codePoint >> 12) & 0x3F),\n        0x80 | ((codePoint >> 6) & 0x3F),\n        0x80 | (codePoint & 0x3F)\n      )\n    }\n  }\n\n  return result\n}\n\n/**\n * Converts an array of numbers to a UTF-8 encoded string.\n * @param {number[]} arr - The input array of numbers.\n * @returns {string} - The UTF-8 encoded string.\n */\nexport const toUTF8 = (arr: number[]): string => {\n  let result = ''\n  let skip = 0\n\n  for (let i = 0; i < arr.length; i++) {\n    const byte = arr[i]\n\n    // this byte is part of a multi-byte sequence, skip it\n    // added to avoid modifying i within the loop which is considered unsafe.\n    if (skip > 0) {\n      skip--\n      continue\n    }\n\n    // 1-byte sequence (0xxxxxxx)\n    if (byte <= 0x7f) {\n      result += String.fromCharCode(byte)\n    } else if (byte >= 0xc0 && byte <= 0xdf) {\n      // 2-byte sequence (110xxxxx 10xxxxxx)\n      const byte2 = arr[i + 1]\n      skip = 1\n      const codePoint = ((byte & 0x1f) << 6) | (byte2 & 0x3f)\n      result += String.fromCharCode(codePoint)\n    } else if (byte >= 0xe0 && byte <= 0xef) {\n      // 3-byte sequence (1110xxxx 10xxxxxx 10xxxxxx)\n      const byte2 = arr[i + 1]\n      const byte3 = arr[i + 2]\n      skip = 2\n      const codePoint =\n        ((byte & 0x0f) << 12) | ((byte2 & 0x3f) << 6) | (byte3 & 0x3f)\n      result += String.fromCharCode(codePoint)\n    } else if (byte >= 0xf0 && byte <= 0xf7) {\n      // 4-byte sequence (11110xxx 10xxxxxx 10xxxxxx 10xxxxxx)\n      const byte2 = arr[i + 1]\n      const byte3 = arr[i + 2]\n      const byte4 = arr[i + 3]\n      skip = 3\n      const codePoint =\n        ((byte & 0x07) << 18) |\n        ((byte2 & 0x3f) << 12) |\n        ((byte3 & 0x3f) << 6) |\n        (byte4 & 0x3f)\n\n      // Convert to UTF-16 surrogate pair\n      const surrogate1 = 0xd800 + ((codePoint - 0x10000) >> 10)\n      const surrogate2 = 0xdc00 + ((codePoint - 0x10000) & 0x3ff)\n      result += String.fromCharCode(surrogate1, surrogate2)\n    }\n  }\n\n  return result\n}\n\n/**\n * Encodes an array of numbers into a specified encoding ('hex' or 'utf8'). If no encoding is provided, returns the original array.\n * @param {number[]} arr - The input array of numbers.\n * @param {('hex' | 'utf8')} enc - The desired encoding.\n * @returns {string | number[]} - The encoded message as a string (for 'hex' and 'utf8') or the original array.\n */\nexport const encode = (\n  arr: number[],\n  enc?: 'hex' | 'utf8'\n): string | number[] => {\n  switch (enc) {\n    case 'hex':\n      return toHex(arr)\n    case 'utf8':\n      return toUTF8(arr)\n    // If no encoding is provided, return the original array\n    default:\n      return arr\n  }\n}\n\n/**\n * Converts an array of bytes (each between 0 and 255) into a base64 encoded string.\n *\n * @param {number[]} byteArray - An array of numbers where each number is a byte (0-255).\n * @returns {string} The base64 encoded string.\n *\n * @example\n * const bytes = [72, 101, 108, 108, 111]; // Represents the string \"Hello\"\n * console.log(toBase64(bytes)); // Outputs: SGVsbG8=\n */\nexport function toBase64 (byteArray: number[]): string {\n  const base64Chars =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  let result = ''\n  let i: number\n\n  for (i = 0; i < byteArray.length; i += 3) {\n    const byte1 = byteArray[i]\n    const byte2 = i + 1 < byteArray.length ? byteArray[i + 1] : 0\n    const byte3 = i + 2 < byteArray.length ? byteArray[i + 2] : 0\n\n    const encoded1 = byte1 >> 2\n    const encoded2 = ((byte1 & 0x03) << 4) | (byte2 >> 4)\n    const encoded3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6)\n    const encoded4 = byte3 & 0x3f\n\n    result += base64Chars.charAt(encoded1) + base64Chars.charAt(encoded2)\n    result += i + 1 < byteArray.length ? base64Chars.charAt(encoded3) : '='\n    result += i + 2 < byteArray.length ? base64Chars.charAt(encoded4) : '='\n  }\n\n  return result\n}\n\nconst base58chars =\n  '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\n/**\n * Converts a string from base58 to a binary array\n * @param str - The string representation\n * @returns The binary representation\n */\nexport const fromBase58 = (str: string): number[] => {\n  if (str === '' || typeof str !== 'string') {\n    throw new Error(`Expected base58 string but got ${str}`)\n  }\n  const match: string[] | null = str.match(/[IOl0]/gmu)\n\n  if (match !== null) {\n    throw new Error(`Invalid base58 character ${match.join('')}`)\n  }\n  const lz = str.match(/^1+/gmu)\n  const psz: number = (lz !== null) ? lz[0].length : 0\n  const size = ((str.length - psz) * (Math.log(58) / Math.log(256)) + 1) >>> 0\n\n  const uint8 = new Uint8Array([\n    ...new Uint8Array(psz),\n    ...(\n      str.match(/./gmu) ?? [] //  Safe Fix: If null, use []\n    )\n      .map((i) => base58chars.indexOf(i))\n      .reduce((acc, i) => {\n        acc = acc.map((j) => {\n          const x = j * 58 + i\n          i = x >> 8\n          return x\n        })\n        return acc\n      }, new Uint8Array(size))\n      .reverse()\n      .filter(\n        (\n          (lastValue) => (value) =>\n            // @ts-expect-error\n            (lastValue = lastValue || value)\n        )(false)\n      )\n  ])\n  return [...uint8]\n}\n\n/**\n * Converts a binary array into a base58 string\n * @param bin - The binary array to convert to base58\n * @returns The base58 string representation\n */\nexport const toBase58 = (bin: number[]): string => {\n  const base58Map = Array(256).fill(-1)\n  for (let i = 0; i < base58chars.length; ++i) {\n    base58Map[base58chars.charCodeAt(i)] = i\n  }\n\n  const result: number[] = []\n\n  for (const byte of bin) {\n    let carry = byte\n    for (let j = 0; j < result.length; ++j) {\n      const x = (base58Map[result[j]] << 8) + carry\n      result[j] = base58chars.charCodeAt(x % 58)\n      carry = (x / 58) | 0\n    }\n    while (carry !== 0) {\n      result.push(base58chars.charCodeAt(carry % 58))\n      carry = (carry / 58) | 0\n    }\n  }\n\n  for (const byte of bin) {\n    if (byte !== 0) break\n    else result.push('1'.charCodeAt(0))\n  }\n\n  result.reverse()\n\n  return String.fromCharCode(...result)\n}\n\n/**\n * Converts a binary array into a base58check string with a checksum\n * @param bin - The binary array to convert to base58check\n * @returns The base58check string representation\n */\nexport const toBase58Check = (bin: number[], prefix: number[] = [0]): string => {\n  let hash = hash256([...prefix, ...bin])\n  hash = [...prefix, ...bin, ...hash.slice(0, 4)]\n  return toBase58(hash)\n}\n\n/**\n * Converts a base58check string into a binary array after validating the checksum\n * @param str - The base58check string to convert to binary\n * @param enc - If hex, the return values will be hex strings, arrays of numbers otherwise\n * @param prefixLength - The length of the prefix. Optional, defaults to 1.\n * @returns The binary array representation\n */\nexport const fromBase58Check = (\n  str: string,\n  enc?: 'hex',\n  prefixLength: number = 1\n): { data: number[] | string, prefix: number[] | string } => {\n  const bin = fromBase58(str)\n  let prefix: string | number[] = bin.slice(0, prefixLength)\n  let data: string | number[] = bin.slice(prefixLength, -4)\n  let hash = [...prefix, ...data]\n  hash = hash256(hash)\n  bin.slice(-4).forEach((check, index) => {\n    if (check !== hash[index]) {\n      throw new Error('Invalid checksum')\n    }\n  })\n  if (enc === 'hex') {\n    prefix = toHex(prefix)\n    data = toHex(data)\n  }\n  return { prefix, data }\n}\n\nexport class Writer {\n  public bufs: number[][]\n  private length: number\n\n  constructor (bufs?: number[][]) {\n    this.bufs = bufs !== undefined ? bufs : []\n    this.length = 0\n    for (const b of this.bufs) this.length += b.length\n  }\n\n  getLength (): number {\n    return this.length\n  }\n\n  toArray (): number[] {\n    const totalLength = this.length\n    const ret = new Array(totalLength)\n    let offset = 0\n    for (const buf of this.bufs) {\n      for (const value of buf) {\n        ret[offset++] = value\n      }\n    }\n    return ret\n  }\n\n  write (buf: number[]): this {\n    this.bufs.push(buf)\n    this.length += buf.length\n    return this\n  }\n\n  writeReverse (buf: number[]): this {\n    const buf2: number[] = new Array(buf.length)\n    for (let i = 0; i < buf2.length; i++) {\n      buf2[i] = buf[buf.length - 1 - i]\n    }\n    this.bufs.push(buf2)\n    this.length += buf2.length\n    return this\n  }\n\n  writeUInt8 (n: number): this {\n    const buf = new Array(1)\n    buf[0] = n\n    this.write(buf)\n    return this\n  }\n\n  writeInt8 (n: number): this {\n    const buf = new Array(1)\n    buf[0] = n & 0xff\n    this.write(buf)\n    return this\n  }\n\n  writeUInt16BE (n: number): this {\n    const buf = [\n      (n >> 8) & 0xff, // shift right 8 bits to get the high byte\n      n & 0xff // low byte is just the last 8 bits\n    ]\n    this.bufs.push(buf)\n    this.length += 2\n    return this\n  }\n\n  writeInt16BE (n: number): this {\n    return this.writeUInt16BE(n & 0xffff) // Mask with 0xFFFF to get the lower 16 bits\n  }\n\n  writeUInt16LE (n: number): this {\n    const buf = [\n      n & 0xff, // low byte is just the last 8 bits\n      (n >> 8) & 0xff // shift right 8 bits to get the high byte\n    ]\n    this.bufs.push(buf)\n    this.length += 2\n    return this\n  }\n\n  writeInt16LE (n: number): this {\n    return this.writeUInt16LE(n & 0xffff) // Mask with 0xFFFF to get the lower 16 bits\n  }\n\n  writeUInt32BE (n: number): this {\n    const buf = [\n      (n >> 24) & 0xff, // highest byte\n      (n >> 16) & 0xff,\n      (n >> 8) & 0xff,\n      n & 0xff // lowest byte\n    ]\n    this.bufs.push(buf)\n    this.length += 4\n    return this\n  }\n\n  writeInt32BE (n: number): this {\n    return this.writeUInt32BE(n >>> 0) // Using unsigned right shift to handle negative numbers\n  }\n\n  writeUInt32LE (n: number): this {\n    const buf = [\n      n & 0xff, // lowest byte\n      (n >> 8) & 0xff,\n      (n >> 16) & 0xff,\n      (n >> 24) & 0xff // highest byte\n    ]\n    this.bufs.push(buf)\n    this.length += 4\n    return this\n  }\n\n  writeInt32LE (n: number): this {\n    return this.writeUInt32LE(n >>> 0) // Using unsigned right shift to handle negative numbers\n  }\n\n  writeUInt64BEBn (bn: BigNumber): this {\n    const buf = bn.toArray('be', 8)\n    this.write(buf)\n    return this\n  }\n\n  writeUInt64LEBn (bn: BigNumber): this {\n    const buf = bn.toArray('be', 8)\n    this.writeReverse(buf)\n    return this\n  }\n\n  writeUInt64LE (n: number): this {\n    const buf = new BigNumber(n).toArray('be', 8)\n    this.writeReverse(buf)\n    return this\n  }\n\n  writeVarIntNum (n: number): this {\n    const buf = Writer.varIntNum(n)\n    this.write(buf)\n    return this\n  }\n\n  writeVarIntBn (bn: BigNumber): this {\n    const buf = Writer.varIntBn(bn)\n    this.write(buf)\n    return this\n  }\n\n  static varIntNum (n: number): number[] {\n    let buf: number[]\n    if (n < 253) {\n      buf = [n] // 1 byte\n    } else if (n < 0x10000) {\n      // 253 followed by the number in little-endian format\n      buf = [\n        253, // 0xfd\n        n & 0xff, // low byte\n        (n >> 8) & 0xff // high byte\n      ]\n    } else if (n < 0x100000000) {\n      // 254 followed by the number in little-endian format\n      buf = [\n        254, // 0xfe\n        n & 0xff,\n        (n >> 8) & 0xff,\n        (n >> 16) & 0xff,\n        (n >> 24) & 0xff\n      ]\n    } else {\n      // 255 followed by the number in little-endian format\n      // Since JavaScript bitwise operations work on 32 bits, we need to handle 64-bit numbers in two parts\n      const low = n & 0xffffffff\n      const high = Math.floor(n / 0x100000000) & 0xffffffff\n      buf = [\n        255, // 0xff\n        low & 0xff,\n        (low >> 8) & 0xff,\n        (low >> 16) & 0xff,\n        (low >> 24) & 0xff,\n        high & 0xff,\n        (high >> 8) & 0xff,\n        (high >> 16) & 0xff,\n        (high >> 24) & 0xff\n      ]\n    }\n    return buf\n  }\n\n  static varIntBn (bn: BigNumber): number[] {\n    let buf: number[]\n    if (bn.ltn(253)) {\n      const n = bn.toNumber()\n      // No need for bitwise operation as the value is within a byte's range\n      buf = [n]\n    } else if (bn.ltn(0x10000)) {\n      const n = bn.toNumber()\n      // Value fits in a uint16\n      buf = [253, n & 0xff, (n >> 8) & 0xff]\n    } else if (bn.lt(new BigNumber(0x100000000))) {\n      const n = bn.toNumber()\n      // Value fits in a uint32\n      buf = [\n        254,\n        n & 0xff,\n        (n >> 8) & 0xff,\n        (n >> 16) & 0xff,\n        (n >> 24) & 0xff\n      ]\n    } else {\n      const bw = new Writer()\n      bw.writeUInt8(255)\n      bw.writeUInt64LEBn(bn)\n      buf = bw.toArray()\n    }\n    return buf\n  }\n}\n\nexport class Reader {\n  public bin: number[]\n  public pos: number\n  private readonly length: number\n\n  constructor (bin: number[] = [], pos: number = 0) {\n    this.bin = bin\n    this.pos = pos\n    this.length = bin.length\n  }\n\n  public eof (): boolean {\n    return this.pos >= this.length\n  }\n\n  public read (len = this.length): number[] {\n    const start = this.pos\n    const end = this.pos + len\n    this.pos = end\n    return this.bin.slice(start, end)\n  }\n\n  public readReverse (len = this.length): number[] {\n    const buf2 = new Array(len)\n    for (let i = 0; i < len; i++) {\n      buf2[i] = this.bin[this.pos + len - 1 - i]\n    }\n    this.pos += len\n    return buf2\n  }\n\n  public readUInt8 (): number {\n    const val = this.bin[this.pos]\n    this.pos += 1\n    return val\n  }\n\n  public readInt8 (): number {\n    const val = this.bin[this.pos]\n    this.pos += 1\n    // If the sign bit is set, convert to negative value\n    return (val & 0x80) !== 0 ? val - 0x100 : val\n  }\n\n  public readUInt16BE (): number {\n    const val = (this.bin[this.pos] << 8) | this.bin[this.pos + 1]\n    this.pos += 2\n    return val\n  }\n\n  public readInt16BE (): number {\n    const val = this.readUInt16BE()\n    // If the sign bit is set, convert to negative value\n    return (val & 0x8000) !== 0 ? val - 0x10000 : val\n  }\n\n  public readUInt16LE (): number {\n    const val = this.bin[this.pos] | (this.bin[this.pos + 1] << 8)\n    this.pos += 2\n    return val\n  }\n\n  public readInt16LE (): number {\n    const val = this.readUInt16LE()\n    // If the sign bit is set, convert to negative value\n    const x = (val & 0x8000) !== 0 ? val - 0x10000 : val\n    return x\n  }\n\n  public readUInt32BE (): number {\n    const val =\n      this.bin[this.pos] * 0x1000000 + // Shift the first byte by 24 bits\n      ((this.bin[this.pos + 1] << 16) | // Shift the second byte by 16 bits\n        (this.bin[this.pos + 2] << 8) | // Shift the third byte by 8 bits\n        this.bin[this.pos + 3]) // The fourth byte\n    this.pos += 4\n    return val\n  }\n\n  public readInt32BE (): number {\n    const val = this.readUInt32BE()\n    // If the sign bit is set, convert to negative value\n    return (val & 0x80000000) !== 0 ? val - 0x100000000 : val\n  }\n\n  public readUInt32LE (): number {\n    const val =\n      (this.bin[this.pos] |\n        (this.bin[this.pos + 1] << 8) |\n        (this.bin[this.pos + 2] << 16) |\n        (this.bin[this.pos + 3] << 24)) >>>\n      0\n    this.pos += 4\n    return val\n  }\n\n  public readInt32LE (): number {\n    const val = this.readUInt32LE()\n    // Explicitly check if the sign bit is set and then convert to a negative value\n    return (val & 0x80000000) !== 0 ? val - 0x100000000 : val\n  }\n\n  public readUInt64BEBn (): BigNumber {\n    const bin = this.bin.slice(this.pos, this.pos + 8)\n    const bn = new BigNumber(bin)\n    this.pos = this.pos + 8\n    return bn\n  }\n\n  public readUInt64LEBn (): BigNumber {\n    const bin = this.readReverse(8)\n    const bn = new BigNumber(bin)\n    return bn\n  }\n\n  public readVarIntNum (): number {\n    const first = this.readUInt8()\n    let bn: BigNumber\n    switch (first) {\n      case 0xfd:\n        return this.readUInt16LE()\n      case 0xfe:\n        return this.readUInt32LE()\n      case 0xff:\n        bn = this.readUInt64LEBn()\n        if (bn.lte(new BigNumber(2).pow(new BigNumber(53)))) {\n          return bn.toNumber()\n        } else {\n          throw new Error(\n            'number too large to retain precision - use readVarIntBn'\n          )\n        }\n      default:\n        return first\n    }\n  }\n\n  public readVarInt (): number[] {\n    const first = this.bin[this.pos]\n    switch (first) {\n      case 0xfd:\n        return this.read(1 + 2)\n      case 0xfe:\n        return this.read(1 + 4)\n      case 0xff:\n        return this.read(1 + 8)\n      default:\n        return this.read(1)\n    }\n  }\n\n  public readVarIntBn (): BigNumber {\n    const first = this.readUInt8()\n    switch (first) {\n      case 0xfd:\n        return new BigNumber(this.readUInt16LE())\n      case 0xfe:\n        return new BigNumber(this.readUInt32LE())\n      case 0xff:\n        return this.readUInt64LEBn()\n      default:\n        return new BigNumber(first)\n    }\n  }\n}\n\nexport const minimallyEncode = (buf: number[]): number[] => {\n  if (buf.length === 0) {\n    return buf\n  }\n\n  // If the last byte is not 0x00 or 0x80, we are minimally encoded.\n  const last = buf[buf.length - 1]\n  if ((last & 0x7f) !== 0) {\n    return buf\n  }\n\n  // If the script is one byte long, then we have a zero, which encodes as an\n  // empty array.\n  if (buf.length === 1) {\n    return []\n  }\n\n  // If the next byte has it sign bit set, then we are minimaly encoded.\n  if ((buf[buf.length - 2] & 0x80) !== 0) {\n    return buf\n  }\n\n  // We are not minimally encoded, we need to figure out how much to trim.\n  for (let i = buf.length - 1; i > 0; i--) {\n    // We found a non zero byte, time to encode.\n    if (buf[i - 1] !== 0) {\n      if ((buf[i - 1] & 0x80) !== 0) {\n        // We found a byte with it sign bit set so we need one more\n        // byte.\n        buf[i] = last\n        return buf.slice(0, i + 1)\n      } else {\n        // the sign bit is clear, we can use it.\n        buf[i - 1] |= last\n        return buf.slice(0, i)\n      }\n    }\n  }\n\n  // If we found the whole thing is zeros, then we have a zero.\n  return []\n}\n","import {\n  AppRouteRouteModule,\n  type AppRouteRouteHandlerContext,\n  type AppRouteRouteModuleOptions,\n} from '../../server/route-modules/app-route/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\nimport { patchFetch as _patchFetch } from '../../server/lib/patch-fetch'\nimport type { IncomingMessage, ServerResponse } from 'node:http'\nimport { addRequestMeta, getRequestMeta } from '../../server/request-meta'\nimport { getTracer, type Span, SpanKind } from '../../server/lib/trace/tracer'\nimport { setReferenceManifestsSingleton } from '../../server/app-render/encryption-utils'\nimport { createServerModuleMap } from '../../server/app-render/action-utils'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport { NodeNextRequest, NodeNextResponse } from '../../server/base-http/node'\nimport {\n  NextRequestAdapter,\n  signalFromNodeResponse,\n} from '../../server/web/spec-extension/adapters/next-request'\nimport { BaseServerSpan } from '../../server/lib/trace/constants'\nimport { getRevalidateReason } from '../../server/instrumentation/utils'\nimport { sendResponse } from '../../server/send-response'\nimport {\n  fromNodeOutgoingHttpHeaders,\n  toNodeOutgoingHttpHeaders,\n} from '../../server/web/utils'\nimport { getCacheControlHeader } from '../../server/lib/cache-control'\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from '../../lib/constants'\nimport { NoFallbackError } from '../../shared/lib/no-fallback-error.external'\nimport {\n  CachedRouteKind,\n  type ResponseCacheEntry,\n  type ResponseGenerator,\n} from '../../server/response-cache'\n\nimport * as userland from 'VAR_USERLAND'\n\n// These are injected by the loader afterwards. This is injected as a variable\n// instead of a replacement because this could also be `undefined` instead of\n// an empty string.\ndeclare const nextConfigOutput: AppRouteRouteModuleOptions['nextConfigOutput']\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\n// INJECT:nextConfigOutput\n\nconst routeModule = new AppRouteRouteModule({\n  definition: {\n    kind: RouteKind.APP_ROUTE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    filename: 'VAR_DEFINITION_FILENAME',\n    bundlePath: 'VAR_DEFINITION_BUNDLE_PATH',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  resolvedPagePath: 'VAR_RESOLVED_PAGE_PATH',\n  nextConfigOutput,\n  userland,\n})\n\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule\n\nfunction patchFetch() {\n  return _patchFetch({\n    workAsyncStorage,\n    workUnitAsyncStorage,\n  })\n}\n\nexport {\n  routeModule,\n  workAsyncStorage,\n  workUnitAsyncStorage,\n  serverHooks,\n  patchFetch,\n}\n\nexport async function handler(\n  req: IncomingMessage,\n  res: ServerResponse,\n  ctx: {\n    waitUntil: (prom: Promise<void>) => void\n  }\n) {\n  if (routeModule.isDev) {\n    addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint())\n  }\n  let srcPage = 'VAR_DEFINITION_PAGE'\n\n  // turbopack doesn't normalize `/index` in the page name\n  // so we need to to process dynamic routes properly\n  // TODO: fix turbopack providing differing value from webpack\n  if (process.env.TURBOPACK) {\n    srcPage = srcPage.replace(/\\/index$/, '') || '/'\n  } else if (srcPage === '/index') {\n    // we always normalize /index specifically\n    srcPage = '/'\n  }\n  const multiZoneDraftMode = process.env\n    .__NEXT_MULTI_ZONE_DRAFT_MODE as any as boolean\n\n  const prepareResult = await routeModule.prepare(req, res, {\n    srcPage,\n    multiZoneDraftMode,\n  })\n\n  if (!prepareResult) {\n    res.statusCode = 400\n    res.end('Bad Request')\n    ctx.waitUntil?.(Promise.resolve())\n    return null\n  }\n\n  const {\n    buildId,\n    params,\n    nextConfig,\n    parsedUrl,\n    isDraftMode,\n    prerenderManifest,\n    routerServerContext,\n    isOnDemandRevalidate,\n    revalidateOnlyGenerated,\n    resolvedPathname,\n    clientReferenceManifest,\n    serverActionsManifest,\n  } = prepareResult\n\n  const normalizedSrcPage = normalizeAppPath(srcPage)\n\n  let isIsr = Boolean(\n    prerenderManifest.dynamicRoutes[normalizedSrcPage] ||\n      prerenderManifest.routes[resolvedPathname]\n  )\n\n  const render404 = async () => {\n    // TODO: should route-module itself handle rendering the 404\n    if (routerServerContext?.render404) {\n      await routerServerContext.render404(req, res, parsedUrl, false)\n    } else {\n      res.end('This page could not be found')\n    }\n    return null\n  }\n\n  if (isIsr && !isDraftMode) {\n    const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname])\n    const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage]\n\n    if (prerenderInfo) {\n      if (prerenderInfo.fallback === false && !isPrerendered) {\n        if (nextConfig.experimental.adapterPath) {\n          return await render404()\n        }\n        throw new NoFallbackError()\n      }\n    }\n  }\n\n  let cacheKey: string | null = null\n\n  if (isIsr && !routeModule.isDev && !isDraftMode) {\n    cacheKey = resolvedPathname\n    // ensure /index and / is normalized to one key\n    cacheKey = cacheKey === '/index' ? '/' : cacheKey\n  }\n\n  const supportsDynamicResponse: boolean =\n    // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true ||\n    // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr\n\n  // This is a revalidation request if the request is for a static\n  // page and it is not being resumed from a postponed render and\n  // it is not a dynamic RSC request then it is a revalidation\n  // request.\n  const isStaticGeneration = isIsr && !supportsDynamicResponse\n\n  // Before rendering (which initializes component tree modules), we have to\n  // set the reference manifests to our global store so Server Action's\n  // encryption util can access to them at the top level of the page module.\n  if (serverActionsManifest && clientReferenceManifest) {\n    setReferenceManifestsSingleton({\n      page: srcPage,\n      clientReferenceManifest,\n      serverActionsManifest,\n      serverModuleMap: createServerModuleMap({\n        serverActionsManifest,\n      }),\n    })\n  }\n\n  const method = req.method || 'GET'\n  const tracer = getTracer()\n  const activeSpan = tracer.getActiveScopeSpan()\n\n  const context: AppRouteRouteHandlerContext = {\n    params,\n    prerenderManifest,\n    renderOpts: {\n      experimental: {\n        authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n      },\n      cacheComponents: Boolean(nextConfig.cacheComponents),\n      supportsDynamicResponse,\n      incrementalCache: getRequestMeta(req, 'incrementalCache'),\n      cacheLifeProfiles: nextConfig.cacheLife,\n      waitUntil: ctx.waitUntil,\n      onClose: (cb) => {\n        res.on('close', cb)\n      },\n      onAfterTaskError: undefined,\n      onInstrumentationRequestError: (error, _request, errorContext) =>\n        routeModule.onRequestError(\n          req,\n          error,\n          errorContext,\n          routerServerContext\n        ),\n    },\n    sharedContext: {\n      buildId,\n    },\n  }\n  const nodeNextReq = new NodeNextRequest(req)\n  const nodeNextRes = new NodeNextResponse(res)\n\n  const nextReq = NextRequestAdapter.fromNodeNextRequest(\n    nodeNextReq,\n    signalFromNodeResponse(res)\n  )\n\n  try {\n    const invokeRouteModule = async (span?: Span) => {\n      return routeModule.handle(nextReq, context).finally(() => {\n        if (!span) return\n\n        span.setAttributes({\n          'http.status_code': res.statusCode,\n          'next.rsc': false,\n        })\n\n        const rootSpanAttributes = tracer.getRootSpanAttributes()\n        // We were unable to get attributes, probably OTEL is not enabled\n        if (!rootSpanAttributes) {\n          return\n        }\n\n        if (\n          rootSpanAttributes.get('next.span_type') !==\n          BaseServerSpan.handleRequest\n        ) {\n          console.warn(\n            `Unexpected root span type '${rootSpanAttributes.get(\n              'next.span_type'\n            )}'. Please report this Next.js issue https://github.com/vercel/next.js`\n          )\n          return\n        }\n\n        const route = rootSpanAttributes.get('next.route')\n        if (route) {\n          const name = `${method} ${route}`\n\n          span.setAttributes({\n            'next.route': route,\n            'http.route': route,\n            'next.span_name': name,\n          })\n          span.updateName(name)\n        } else {\n          span.updateName(`${method} ${srcPage}`)\n        }\n      })\n    }\n    const isMinimalMode = Boolean(\n      process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode')\n    )\n\n    const handleResponse = async (currentSpan?: Span) => {\n      const responseGenerator: ResponseGenerator = async ({\n        previousCacheEntry,\n      }) => {\n        try {\n          if (\n            !isMinimalMode &&\n            isOnDemandRevalidate &&\n            revalidateOnlyGenerated &&\n            !previousCacheEntry\n          ) {\n            res.statusCode = 404\n            // on-demand revalidate always sets this header\n            res.setHeader('x-nextjs-cache', 'REVALIDATED')\n            res.end('This page could not be found')\n            return null\n          }\n\n          const response = await invokeRouteModule(currentSpan)\n\n          ;(req as any).fetchMetrics = (context.renderOpts as any).fetchMetrics\n          let pendingWaitUntil = context.renderOpts.pendingWaitUntil\n\n          // Attempt using provided waitUntil if available\n          // if it's not we fallback to sendResponse's handling\n          if (pendingWaitUntil) {\n            if (ctx.waitUntil) {\n              ctx.waitUntil(pendingWaitUntil)\n              pendingWaitUntil = undefined\n            }\n          }\n          const cacheTags = context.renderOpts.collectedTags\n\n          // If the request is for a static response, we can cache it so long\n          // as it's not edge.\n          if (isIsr) {\n            const blob = await response.blob()\n\n            // Copy the headers from the response.\n            const headers = toNodeOutgoingHttpHeaders(response.headers)\n\n            if (cacheTags) {\n              headers[NEXT_CACHE_TAGS_HEADER] = cacheTags\n            }\n\n            if (!headers['content-type'] && blob.type) {\n              headers['content-type'] = blob.type\n            }\n\n            const revalidate =\n              typeof context.renderOpts.collectedRevalidate === 'undefined' ||\n              context.renderOpts.collectedRevalidate >= INFINITE_CACHE\n                ? false\n                : context.renderOpts.collectedRevalidate\n\n            const expire =\n              typeof context.renderOpts.collectedExpire === 'undefined' ||\n              context.renderOpts.collectedExpire >= INFINITE_CACHE\n                ? undefined\n                : context.renderOpts.collectedExpire\n\n            // Create the cache entry for the response.\n            const cacheEntry: ResponseCacheEntry = {\n              value: {\n                kind: CachedRouteKind.APP_ROUTE,\n                status: response.status,\n                body: Buffer.from(await blob.arrayBuffer()),\n                headers,\n              },\n              cacheControl: { revalidate, expire },\n            }\n\n            return cacheEntry\n          } else {\n            // send response without caching if not ISR\n            await sendResponse(\n              nodeNextReq,\n              nodeNextRes,\n              response,\n              context.renderOpts.pendingWaitUntil\n            )\n            return null\n          }\n        } catch (err) {\n          // if this is a background revalidate we need to report\n          // the request error here as it won't be bubbled\n          if (previousCacheEntry?.isStale) {\n            await routeModule.onRequestError(\n              req,\n              err,\n              {\n                routerKind: 'App Router',\n                routePath: srcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                  isStaticGeneration,\n                  isOnDemandRevalidate,\n                }),\n              },\n              routerServerContext\n            )\n          }\n          throw err\n        }\n      }\n\n      const cacheEntry = await routeModule.handleResponse({\n        req,\n        nextConfig,\n        cacheKey,\n        routeKind: RouteKind.APP_ROUTE,\n        isFallback: false,\n        prerenderManifest,\n        isRoutePPREnabled: false,\n        isOnDemandRevalidate,\n        revalidateOnlyGenerated,\n        responseGenerator,\n        waitUntil: ctx.waitUntil,\n        isMinimalMode,\n      })\n\n      // we don't create a cacheEntry for ISR\n      if (!isIsr) {\n        return null\n      }\n\n      if (cacheEntry?.value?.kind !== CachedRouteKind.APP_ROUTE) {\n        throw new Error(\n          `Invariant: app-route received invalid cache entry ${cacheEntry?.value?.kind}`\n        )\n      }\n\n      if (!isMinimalMode) {\n        res.setHeader(\n          'x-nextjs-cache',\n          isOnDemandRevalidate\n            ? 'REVALIDATED'\n            : cacheEntry.isMiss\n              ? 'MISS'\n              : cacheEntry.isStale\n                ? 'STALE'\n                : 'HIT'\n        )\n      }\n\n      // Draft mode should never be cached\n      if (isDraftMode) {\n        res.setHeader(\n          'Cache-Control',\n          'private, no-cache, no-store, max-age=0, must-revalidate'\n        )\n      }\n\n      const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers)\n\n      if (!(isMinimalMode && isIsr)) {\n        headers.delete(NEXT_CACHE_TAGS_HEADER)\n      }\n\n      // If cache control is already set on the response we don't\n      // override it to allow users to customize it via next.config\n      if (\n        cacheEntry.cacheControl &&\n        !res.getHeader('Cache-Control') &&\n        !headers.get('Cache-Control')\n      ) {\n        headers.set(\n          'Cache-Control',\n          getCacheControlHeader(cacheEntry.cacheControl)\n        )\n      }\n\n      await sendResponse(\n        nodeNextReq,\n        nodeNextRes,\n        // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n        new Response(cacheEntry.value.body, {\n          headers,\n          status: cacheEntry.value.status || 200,\n        })\n      )\n      return null\n    }\n\n    // TODO: activeSpan code path is for when wrapped by\n    // next-server can be removed when this is no longer used\n    if (activeSpan) {\n      await handleResponse(activeSpan)\n    } else {\n      await tracer.withPropagatedContext(req.headers, () =>\n        tracer.trace(\n          BaseServerSpan.handleRequest,\n          {\n            spanName: `${method} ${srcPage}`,\n            kind: SpanKind.SERVER,\n            attributes: {\n              'http.method': method,\n              'http.target': req.url,\n            },\n          },\n          handleResponse\n        )\n      )\n    }\n  } catch (err) {\n    if (!(err instanceof NoFallbackError)) {\n      await routeModule.onRequestError(req, err, {\n        routerKind: 'App Router',\n        routePath: normalizedSrcPage,\n        routeType: 'route',\n        revalidateReason: getRevalidateReason({\n          isStaticGeneration,\n          isOnDemandRevalidate,\n        }),\n      })\n    }\n\n    // rethrow so that we can handle serving error page\n\n    // If this is during static generation, throw the error again.\n    if (isIsr) throw err\n\n    // Otherwise, send a 500 response.\n    await sendResponse(\n      nodeNextReq,\n      nodeNextRes,\n      new Response(null, { status: 500 })\n    )\n    return null\n  }\n}\n","import { Broadcaster } from '../Broadcaster.js'\nimport ARC, { ArcConfig } from './ARC.js'\n\nexport function defaultBroadcaster(\n  isTestnet: boolean = false,\n  config: ArcConfig = {}\n): Broadcaster {\n  return new ARC(\n    isTestnet ? 'https://arc-test.taal.com' : 'https://arc.taal.com',\n    config\n  )\n}\n","import { ScriptTemplate, LockingScript, UnlockingScript, OP } from '../index.js'\nimport {\n  Utils,\n  Hash,\n  TransactionSignature,\n  Signature,\n  PublicKey\n} from '../../primitives/index.js'\nimport { WalletInterface, SecurityLevel } from '../../wallet/Wallet.interfaces.js'\nimport { Transaction } from '../../transaction/index.js'\n\nfunction verifyTruthy<T>(v: T | undefined): T {\n  if (v == null) throw new Error('must have value')\n  return v\n}\n\n/**\n * For a given piece of data to push onto the stack in script, creates the correct minimally-encoded script chunk,\n * including the correct push operation.\n *\n * TODO: This should be made into a TS-SDK util (distinct from the `minimallyEncode` util)\n */\nconst createMinimallyEncodedScriptChunk = (\n  data: number[]\n): { op: number, data?: number[] } => {\n  if (data.length === 0) {\n    // Could have used OP_0.\n    return { op: 0 }\n  }\n  if (data.length === 1 && data[0] === 0) {\n    // Could have used OP_0.\n    return { op: 0 }\n  }\n  if (data.length === 1 && data[0] > 0 && data[0] <= 16) {\n    // Could have used OP_0 .. OP_16.\n    return { op: 0x50 + data[0] }\n  }\n  if (data.length === 1 && data[0] === 0x81) {\n    // Could have used OP_1NEGATE.\n    return { op: 0x4f }\n  }\n  if (data.length <= 75) {\n    // Could have used a direct push (opcode indicating number of bytes\n    // pushed + those bytes).\n    return { op: data.length, data }\n  }\n  if (data.length <= 255) {\n    // Could have used OP_PUSHDATA.\n    return { op: 0x4c, data }\n  }\n  if (data.length <= 65535) {\n    // Could have used OP_PUSHDATA2.\n    return { op: 0x4d, data }\n  }\n  return { op: 0x4e, data }\n}\n\nexport default class PushDrop implements ScriptTemplate {\n  wallet: WalletInterface\n  originator?: string\n\n  /**\n   * Decodes a PushDrop script back into its token fields and the locking public key. If a signature was present, it will be the last field returned.\n   * Warning: Only works with a P2PK lock at the beginning of the script.\n   * @param script PushDrop script to decode back into token fields\n   * @returns An object containing PushDrop token fields and the locking public key. If a signature was included, it will be the last field.\n   */\n  static decode(script: LockingScript): {\n    lockingPublicKey: PublicKey\n    fields: number[][]\n  } {\n    const lockingPublicKey = PublicKey.fromString(\n      Utils.toHex(verifyTruthy(script.chunks[0].data)) //  Ensure not undefined\n    )\n\n    const fields: number[][] = []\n    for (let i = 2; i < script.chunks.length; i++) {\n      const nextOpcode = script.chunks[i + 1]?.op //  Prevent accessing `op` from `undefined`\n      let chunk: number[] = script.chunks[i].data ?? [] //  Ensure `chunk` is always `number[]`\n\n      if (chunk.length === 0) {\n        //  Only modify `chunk` if it was empty\n        if (script.chunks[i].op >= 80 && script.chunks[i].op <= 95) {\n          chunk = [script.chunks[i].op - 80]\n        } else if (script.chunks[i].op === 0) {\n          chunk = [0]\n        } else if (script.chunks[i].op === 0x4f) {\n          chunk = [0x81]\n        }\n      }\n      fields.push(chunk)\n\n      // If the next value is DROP or 2DROP then this is the final field\n      if (nextOpcode === OP.OP_DROP || nextOpcode === OP.OP_2DROP) {\n        break\n      }\n    }\n\n    return {\n      fields,\n      lockingPublicKey\n    }\n  }\n\n  /**\n   * Constructs a new instance of the PushDrop class.\n   *\n   * @param {WalletInterface} wallet - The wallet interface used for creating signatures and accessing public keys.\n   * @param {string} originator  The originator to use with Wallet requests\n   */\n  constructor(wallet: WalletInterface, originator?: string) {\n    this.wallet = wallet\n    this.originator = originator\n  }\n\n  /**\n   * Creates a PushDrop locking script with arbitrary data fields and a public key lock.\n   *\n   * @param {number[][]} fields - The token fields to include in the locking script.\n   * @param {[SecurityLevel, string]} protocolID - The protocol ID to use.\n   * @param {string} keyID - The key ID to use.\n   * @param {string} counterparty - The counterparty involved in the transaction, \"self\" or \"anyone\".\n   * @param {boolean} [forSelf=false] - Flag indicating if the lock is for the creator (default no).\n   * @param {boolean} [includeSignature=true] - Flag indicating if a signature should be included in the script (default yes).\n   * @returns {Promise<LockingScript>} The generated PushDrop locking script.\n   */\n  async lock(\n    fields: number[][],\n    protocolID: [SecurityLevel, string],\n    keyID: string,\n    counterparty: string,\n    forSelf = false,\n    includeSignature = true,\n    lockPosition: 'before' | 'after' = 'before'\n  ): Promise<LockingScript> {\n    const { publicKey } = await this.wallet.getPublicKey({\n      protocolID,\n      keyID,\n      counterparty,\n      forSelf\n    }, this.originator)\n    const lockChunks: Array<{ op: number, data?: number[] }> = []\n    const pushDropChunks: Array<{ op: number, data?: number[] }> = []\n    lockChunks.push({\n      op: publicKey.length / 2,\n      data: Utils.toArray(publicKey, 'hex')\n    })\n    lockChunks.push({ op: OP.OP_CHECKSIG })\n    if (includeSignature) {\n      const dataToSign = fields.reduce((a, e) => [...a, ...e], [])\n      const { signature } = await this.wallet.createSignature({\n        data: dataToSign,\n        protocolID,\n        keyID,\n        counterparty\n      }, this.originator)\n      fields.push(signature)\n    }\n    for (const field of fields) {\n      pushDropChunks.push(createMinimallyEncodedScriptChunk(field))\n    }\n    let notYetDropped = fields.length\n    while (notYetDropped > 1) {\n      pushDropChunks.push({ op: OP.OP_2DROP })\n      notYetDropped -= 2\n    }\n    if (notYetDropped !== 0) {\n      pushDropChunks.push({ op: OP.OP_DROP })\n    }\n    if (lockPosition === 'before') {\n      return new LockingScript([...lockChunks, ...pushDropChunks])\n    } else {\n      return new LockingScript([...pushDropChunks, ...lockChunks])\n    }\n  }\n\n  /**\n   * Creates an unlocking script for spending a PushDrop token output.\n   *\n   * @param {[SecurityLevel, string]} protocolID - The protocol ID to use.\n   * @param {string} keyID - The key ID to use.\n   * @param {string} counterparty - The counterparty involved in the transaction, \"self\" or \"anyone\".\n   * @param {string} [sourceTXID] - The TXID of the source transaction.\n   * @param {number} [sourceSatoshis] - The number of satoshis in the source output.\n   * @param {LockingScript} [lockingScript] - The locking script of the source output.\n   * @param {'all' | 'none' | 'single'} [signOutputs='all'] - Specifies which outputs to sign.\n   * @param {boolean} [anyoneCanPay=false] - Specifies if the anyone-can-pay flag is set.\n   * @returns {Object} An object containing functions to sign the transaction and estimate the script length.\n   */\n  unlock(\n    protocolID: [SecurityLevel, string],\n    keyID: string,\n    counterparty: string,\n    signOutputs: 'all' | 'none' | 'single' = 'all',\n    anyoneCanPay = false,\n    sourceSatoshis?: number,\n    lockingScript?: LockingScript\n  ): {\n    sign: (tx: Transaction, inputIndex: number) => Promise<UnlockingScript>\n    estimateLength: () => Promise<73>\n  } {\n    return {\n      sign: async (\n        tx: Transaction,\n        inputIndex: number\n      ): Promise<UnlockingScript> => {\n        let signatureScope = TransactionSignature.SIGHASH_FORKID\n        if (signOutputs === 'all') {\n          signatureScope |= TransactionSignature.SIGHASH_ALL\n        }\n        if (signOutputs === 'none') {\n          signatureScope |= TransactionSignature.SIGHASH_NONE\n        }\n        if (signOutputs === 'single') {\n          signatureScope |= TransactionSignature.SIGHASH_SINGLE\n        }\n        if (anyoneCanPay) {\n          signatureScope |= TransactionSignature.SIGHASH_ANYONECANPAY\n        }\n\n        const input = tx.inputs[inputIndex]\n\n        const otherInputs = tx.inputs.filter(\n          (_, index) => index !== inputIndex\n        )\n\n        const sourceTXID = input.sourceTXID ?? input.sourceTransaction?.id('hex')\n        if (sourceTXID == null || sourceTXID === undefined) {\n          throw new Error(\n            'The input sourceTXID or sourceTransaction is required for transaction signing.'\n          )\n        }\n        sourceSatoshis ||=\n          input.sourceTransaction?.outputs[input.sourceOutputIndex].satoshis\n        if (sourceSatoshis == null || sourceSatoshis === undefined) {\n          throw new Error(\n            'The sourceSatoshis or input sourceTransaction is required for transaction signing.'\n          )\n        }\n        lockingScript ||=\n          input.sourceTransaction?.outputs[input.sourceOutputIndex]\n            .lockingScript\n        if (lockingScript == null) {\n          throw new Error(\n            'The lockingScript or input sourceTransaction is required for transaction signing.'\n          )\n        }\n\n        const preimage = TransactionSignature.format({\n          sourceTXID,\n          sourceOutputIndex: verifyTruthy(input.sourceOutputIndex),\n          sourceSatoshis,\n          transactionVersion: tx.version,\n          otherInputs,\n          inputIndex,\n          outputs: tx.outputs,\n          inputSequence: input.sequence ?? 0xffffffff,\n          subscript: lockingScript,\n          lockTime: tx.lockTime,\n          scope: signatureScope\n        })\n\n        const preimageHash = Hash.sha256(preimage)\n        const { signature: bareSignature } = await this.wallet.createSignature({\n          data: preimageHash,\n          protocolID,\n          keyID,\n          counterparty\n        }, this.originator)\n        const signature = Signature.fromDER([...bareSignature])\n        const txSignature = new TransactionSignature(\n          signature.r,\n          signature.s,\n          signatureScope\n        )\n        const sigForScript = txSignature.toChecksigFormat()\n        return new UnlockingScript([\n          { op: sigForScript.length, data: sigForScript }\n        ])\n      },\n      estimateLength: async () => 73\n    }\n  }\n}\n","// @ts-nocheck\nimport {\n  fromBase58Check,\n  toBase58Check,\n  Writer,\n  Reader,\n  toArray,\n  toHex\n} from '../primitives/utils.js'\nimport * as Hash from '../primitives/Hash.js'\nimport Curve from '../primitives/Curve.js'\nimport PrivateKey from '../primitives/PrivateKey.js'\nimport PublicKey from '../primitives/PublicKey.js'\nimport Random from '../primitives/Random.js'\nimport BigNumber from '../primitives/BigNumber.js'\n\n/**\n * @deprecated\n * The HD class implements the Bitcoin Improvement Proposal 32 (BIP32) hierarchical deterministic wallets.\n * It allows the generation of child keys from a master key, ensuring a tree-like structure of keys and addresses.\n * This class is deprecated due to the introduction of BRC-42, which offers an enhanced key derivation scheme.\n * BRC-42 uses invoice numbers for key derivation, improving privacy and scalability compared to BIP32.\n *\n * @class HD\n * @deprecated Replaced by BRC-42 which uses invoice numbers and supports private derivation.\n */\nexport default class HD {\n  versionBytesNum: number\n  depth: number\n  parentFingerPrint: number[]\n  childIndex: number\n  chainCode: number[]\n  privKey: PrivateKey\n  pubKey: PublicKey\n  constants = {\n    pubKey: 0x0488b21e,\n    privKey: 0x0488ade4\n  }\n\n  /**\n   * Constructor for the BIP32 HD wallet.\n   * Initializes an HD wallet with optional parameters for version bytes, depth, parent fingerprint, child index, chain code, private key, and public key.\n   * @param versionBytesNum - Version bytes number for the wallet.\n   * @param depth - Depth of the key in the hierarchy.\n   * @param parentFingerPrint - Fingerprint of the parent key.\n   * @param childIndex - Index of the child key.\n   * @param chainCode - Chain code for key derivation.\n   * @param privKey - Private key of the wallet.\n   * @param pubKey - Public key of the wallet.\n   */\n  constructor (\n    versionBytesNum?: number,\n    depth?: number,\n    parentFingerPrint?: number[],\n    childIndex?: number,\n    chainCode?: number[],\n    privKey?: PrivateKey,\n    pubKey?: PublicKey\n  ) {\n    this.versionBytesNum = versionBytesNum\n    this.depth = depth\n    this.parentFingerPrint = parentFingerPrint\n    this.childIndex = childIndex\n    this.chainCode = chainCode\n    this.privKey = privKey\n    this.pubKey = pubKey\n  }\n\n  /**\n   * Generates a new HD wallet with random keys.\n   * This method creates a root HD wallet with randomly generated private and public keys.\n   * @returns {HD} The current HD instance with generated keys.\n   */\n  public fromRandom (): this {\n    this.versionBytesNum = this.constants.privKey\n    this.depth = 0x00\n    this.parentFingerPrint = [0, 0, 0, 0]\n    this.childIndex = 0\n    this.chainCode = Random(32)\n    this.privKey = PrivateKey.fromRandom()\n    this.pubKey = this.privKey.toPublicKey()\n    return this\n  }\n\n  /**\n   * Generates a new HD wallet with random keys.\n   * This method creates a root HD wallet with randomly generated private and public keys.\n   * @returns {HD} A new HD instance with generated keys.\n   * @static\n   */\n  public static fromRandom (): HD {\n    return new this().fromRandom()\n  }\n\n  /**\n   * Initializes the HD wallet from a given base58 encoded string.\n   * This method decodes a provided string to set up the HD wallet's properties.\n   * @param str - A base58 encoded string representing the wallet.\n   * @returns {HD} The new instance with properties set from the string.\n   */\n  public static fromString (str: string): HD {\n    return new this().fromString(str)\n  }\n\n  /**\n   * Initializes the HD wallet from a given base58 encoded string.\n   * This method decodes a provided string to set up the HD wallet's properties.\n   * @param str - A base58 encoded string representing the wallet.\n   * @returns {HD} The current instance with properties set from the string.\n   */\n  public fromString (str: string): this {\n    const decoded = fromBase58Check(str)\n    return this.fromBinary([...decoded.prefix, ...decoded.data] as number[])\n  }\n\n  /**\n   * Initializes the HD wallet from a seed.\n   * This method generates keys and other properties from a given seed, conforming to the BIP32 specification.\n   * @param bytes - An array of bytes representing the seed.\n   * @returns {HD} The current instance with properties set from the seed.\n   */\n  public static fromSeed (bytes: number[]): HD {\n    return new this().fromSeed(bytes)\n  }\n\n  /**\n   * Initializes the HD wallet from a seed.\n   * This method generates keys and other properties from a given seed, conforming to the BIP32 specification.\n   * @param bytes - An array of bytes representing the seed.\n   * @returns {HD} The current instance with properties set from the seed.\n   */\n  public fromSeed (bytes: number[]): this {\n    if (bytes.length < 128 / 8) {\n      throw new Error('Need more than 128 bits of entropy')\n    }\n    if (bytes.length > 512 / 8) {\n      throw new Error('More than 512 bits of entropy is nonstandard')\n    }\n    const hash: number[] = Hash.sha512hmac(\n      toArray('Bitcoin seed', 'utf8'),\n      bytes\n    )\n\n    this.depth = 0x00\n    this.parentFingerPrint = [0, 0, 0, 0]\n    this.childIndex = 0\n    this.chainCode = hash.slice(32, 64)\n    this.versionBytesNum = this.constants.privKey\n    this.privKey = new PrivateKey(hash.slice(0, 32))\n    this.pubKey = this.privKey.toPublicKey()\n\n    return this\n  }\n\n  /**\n   * Initializes the HD wallet from a binary buffer.\n   * Parses a binary buffer to set up the wallet's properties.\n   * @param buf - A buffer containing the wallet data.\n   * @returns {HD} The new instance with properties set from the buffer.\n   */\n  public static fromBinary (buf: number[]): HD {\n    return new this().fromBinary(buf)\n  }\n\n  /**\n   * Initializes the HD wallet from a binary buffer.\n   * Parses a binary buffer to set up the wallet's properties.\n   * @param buf - A buffer containing the wallet data.\n   * @returns {HD} The current instance with properties set from the buffer.\n   */\n  public fromBinary (buf: number[]): this {\n    // Both pub and private extended keys are 78 buf\n    if (buf.length !== 78) {\n      throw new Error('incorrect bip32 data length')\n    }\n    const reader = new Reader(buf)\n\n    this.versionBytesNum = reader.readUInt32BE()\n    this.depth = reader.readUInt8()\n    this.parentFingerPrint = reader.read(4)\n    this.childIndex = reader.readUInt32BE()\n    this.chainCode = reader.read(32)\n    const keyBytes = reader.read(33)\n\n    const isPrivate = this.versionBytesNum === this.constants.privKey\n    const isPublic = this.versionBytesNum === this.constants.pubKey\n\n    if (isPrivate && keyBytes[0] === 0) {\n      this.privKey = new PrivateKey(keyBytes.slice(1, 33))\n      this.pubKey = this.privKey.toPublicKey()\n    } else if (isPublic && (keyBytes[0] === 0x02 || keyBytes[0] === 0x03)) {\n      this.pubKey = PublicKey.fromString(toHex(keyBytes))\n    } else {\n      throw new Error('Invalid key')\n    }\n\n    return this\n  }\n\n  /**\n   * Converts the HD wallet to a base58 encoded string.\n   * This method provides a string representation of the HD wallet's current state.\n   * @returns {string} A base58 encoded string of the HD wallet.\n   */\n  public toString (): string {\n    const bin = this.toBinary()\n    return toBase58Check(bin, [])\n  }\n\n  /**\n   * Derives a child HD wallet based on a given path.\n   * The path specifies the hierarchy of the child key to be derived.\n   * @param path - A string representing the derivation path (e.g., 'm/0'/1).\n   * @returns {HD} A new HD instance representing the derived child wallet.\n   */\n  public derive (path: string): HD {\n    if (path === 'm') {\n      return this\n    }\n\n    const e = path.split('/')\n\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let bip32: HD = this\n    for (const [i, c] of e.entries()) {\n      if (i === 0) { // Since `i` is now a number, compare it to 0\n        if (c !== 'm') {\n          throw new Error('invalid path')\n        }\n        continue\n      }\n\n      if (parseInt(c.replace(\"'\", ''), 10).toString() !== c.replace(\"'\", '')) {\n        throw new Error('invalid path')\n      }\n\n      const usePrivate = c.length > 1 && c[c.length - 1] === \"'\"\n      let childIndex =\n        parseInt(usePrivate ? c.slice(0, c.length - 1) : c, 10) & 0x7fffffff\n\n      if (usePrivate) {\n        childIndex += 0x80000000\n      }\n\n      bip32 = bip32.deriveChild(childIndex)\n    }\n\n    return bip32\n  }\n\n  /**\n   * Derives a child HD wallet from the current wallet based on an index.\n   * This method generates either a private or public child key depending on the current wallet's state.\n   * @param i - The index of the child key to derive.\n   * @returns {HD} A new HD instance representing the derived child wallet.\n   */\n  public deriveChild (i: number): HD {\n    if (typeof i !== 'number') {\n      throw new Error('i must be a number')\n    }\n\n    const ibc: number[] = []\n    ibc.push((i >> 24) & 0xff)\n    ibc.push((i >> 16) & 0xff)\n    ibc.push((i >> 8) & 0xff)\n    ibc.push(i & 0xff)\n    const ib = [...ibc]\n\n    const usePrivate = (i & 0x80000000) !== 0\n\n    const isPrivate = this.versionBytesNum === this.constants.privKey\n\n    if (usePrivate && (this.privKey === null || this.privKey === undefined || !isPrivate)) {\n      throw new Error('Cannot do private key derivation without private key')\n    }\n\n    let ret = null\n    if (this.privKey !== null && this.privKey !== undefined) {\n      let data = null\n\n      if (usePrivate) {\n        data = [0, ...this.privKey.toArray('be', 32), ...ib]\n      } else {\n        data = [...(this.pubKey.encode(true) as number[]), ...ib]\n      }\n\n      const hash = Hash.sha512hmac(this.chainCode, data)\n      const il = new BigNumber(hash.slice(0, 32))\n      const ir = hash.slice(32, 64)\n\n      // ki = IL + kpar (mod n).\n      const k = il.add(this.privKey).mod(new Curve().n)\n\n      ret = new HD()\n      ret.chainCode = ir\n\n      ret.privKey = new PrivateKey(k.toArray())\n      ret.pubKey = ret.privKey.toPublicKey()\n    } else {\n      const data = [...(this.pubKey.encode(true) as number[]), ...ib]\n      const hash = Hash.sha512hmac(this.chainCode, data)\n      const il = new BigNumber(hash.slice(0, 32))\n      const ir = hash.slice(32, 64)\n\n      // Ki = (IL + kpar)*G = IL*G + Kpar\n      const ilG = new Curve().g.mul(il)\n      const Kpar = this.pubKey\n      const Ki = ilG.add(Kpar)\n      const newpub = new PublicKey(Ki.x, Ki.y)\n\n      ret = new HD()\n      ret.chainCode = ir\n\n      ret.pubKey = newpub\n    }\n\n    ret.childIndex = i\n    const pubKeyhash = Hash.hash160(this.pubKey.encode(true))\n    ret.parentFingerPrint = pubKeyhash.slice(0, 4)\n    ret.versionBytesNum = this.versionBytesNum\n    ret.depth = this.depth + 1\n\n    return ret\n  }\n\n  /**\n   * Converts the current HD wallet to a public-only wallet.\n   * This method strips away the private key information, leaving only the public part.\n   * @returns {HD} A new HD instance representing the public-only wallet.\n   */\n  public toPublic (): HD {\n    const bip32 = new HD(\n      this.versionBytesNum,\n      this.depth,\n      this.parentFingerPrint,\n      this.childIndex,\n      this.chainCode,\n      this.privKey,\n      this.pubKey\n    )\n    bip32.versionBytesNum = this.constants.pubKey\n    bip32.privKey = undefined\n    return bip32\n  }\n\n  /**\n   * Converts the HD wallet into a binary representation.\n   * This method serializes the wallet's properties into a binary format.\n   * @returns {number[]} An array of numbers representing the binary data of the wallet.\n   */\n  public toBinary (): number[] {\n    const isPrivate = this.versionBytesNum === this.constants.privKey\n    const isPublic = this.versionBytesNum === this.constants.pubKey\n    if (isPrivate) {\n      return new Writer()\n        .writeUInt32BE(this.versionBytesNum)\n        .writeUInt8(this.depth)\n        .write(this.parentFingerPrint)\n        .writeUInt32BE(this.childIndex)\n        .write(this.chainCode)\n        .writeUInt8(0)\n        .write(this.privKey.toArray('be', 32))\n        .toArray()\n    } else if (isPublic) {\n      return new Writer()\n        .writeUInt32BE(this.versionBytesNum)\n        .writeUInt8(this.depth)\n        .write(this.parentFingerPrint)\n        .writeUInt32BE(this.childIndex)\n        .write(this.chainCode)\n        .write(this.pubKey.encode(true) as number[])\n        .toArray()\n    } else {\n      throw new Error('bip32: invalid versionBytesNum byte')\n    }\n  }\n\n  /**\n   * Checks if the HD wallet contains a private key.\n   * This method determines whether the wallet is a private key wallet or a public key only wallet.\n   * @returns {boolean} A boolean value indicating whether the wallet has a private key (true) or not (false).\n   */\n  public isPrivate (): boolean {\n    return this.versionBytesNum === this.constants.privKey\n  }\n}\n","import { KeyDeriver, KeyDeriverApi } from './KeyDeriver.js'\nimport {\n  Hash,\n  ECDSA,\n  BigNumber,\n  Signature,\n  Schnorr,\n  PublicKey,\n  Point,\n  PrivateKey\n} from '../primitives/index.js'\nimport {\n  CreateHmacArgs,\n  CreateHmacResult,\n  CreateSignatureArgs,\n  CreateSignatureResult,\n  GetPublicKeyArgs,\n  PubKeyHex,\n  RevealCounterpartyKeyLinkageArgs,\n  RevealCounterpartyKeyLinkageResult,\n  RevealSpecificKeyLinkageArgs,\n  RevealSpecificKeyLinkageResult,\n  VerifyHmacArgs,\n  VerifyHmacResult,\n  VerifySignatureArgs,\n  VerifySignatureResult,\n  WalletDecryptArgs,\n  WalletDecryptResult,\n  WalletEncryptArgs,\n  WalletEncryptResult\n} from './Wallet.interfaces.js'\n\n/**\n * A ProtoWallet is precursor to a full wallet, capable of performing all foundational cryptographic operations.\n * It can derive keys, create signatures, facilitate encryption and HMAC operations, and reveal key linkages.\n *\n * However, ProtoWallet does not create transactions, manage outputs, interact with the blockchain,\n * enable the management of identity certificates, or store any data. It is also not concerned with privileged keys.\n */\nexport class ProtoWallet {\n  keyDeriver?: KeyDeriverApi\n\n  constructor (rootKeyOrKeyDeriver?: PrivateKey | 'anyone' | KeyDeriverApi) {\n    if (typeof (rootKeyOrKeyDeriver as KeyDeriver).identityKey !== 'string') {\n      rootKeyOrKeyDeriver = new KeyDeriver(\n        rootKeyOrKeyDeriver as PrivateKey | 'anyone'\n      )\n    }\n    this.keyDeriver = rootKeyOrKeyDeriver as KeyDeriver\n  }\n\n  async getPublicKey (\n    args: GetPublicKeyArgs\n  ): Promise<{ publicKey: PubKeyHex }> {\n    if (args.identityKey) {\n      if (this.keyDeriver == null) {\n        throw new Error('keyDeriver is undefined')\n      }\n      return { publicKey: this.keyDeriver.rootKey.toPublicKey().toString() }\n    } else {\n      if (args.protocolID == null || args.keyID == null || args.keyID === '') {\n        throw new Error(\n          'protocolID and keyID are required if identityKey is false or undefined.'\n        )\n      }\n      const keyDeriver =\n        this.keyDeriver ??\n        (() => {\n          throw new Error('keyDeriver is undefined')\n        })()\n      return {\n        publicKey: keyDeriver\n          .derivePublicKey(\n            args.protocolID,\n            args.keyID,\n            args.counterparty ?? 'self',\n            args.forSelf\n          )\n          .toString()\n      }\n    }\n  }\n\n  async revealCounterpartyKeyLinkage (\n    args: RevealCounterpartyKeyLinkageArgs\n  ): Promise<RevealCounterpartyKeyLinkageResult> {\n    const { publicKey: identityKey } = await this.getPublicKey({\n      identityKey: true\n    })\n    if (this.keyDeriver == null) {\n      throw new Error('keyDeriver is undefined')\n    }\n    const linkage = this.keyDeriver.revealCounterpartySecret(args.counterparty)\n    const linkageProof = new Schnorr().generateProof(\n      this.keyDeriver.rootKey,\n      this.keyDeriver.rootKey.toPublicKey(),\n      PublicKey.fromString(args.counterparty),\n      Point.fromDER(linkage)\n    )\n    const linkageProofBin = [\n      ...linkageProof.R.encode(true),\n      ...linkageProof.SPrime.encode(true),\n      ...linkageProof.z.toArray()\n    ] as number[]\n    const revelationTime = new Date().toISOString()\n    const { ciphertext: encryptedLinkage } = await this.encrypt({\n      plaintext: linkage,\n      protocolID: [2, 'counterparty linkage revelation'],\n      keyID: revelationTime,\n      counterparty: args.verifier\n    })\n    const { ciphertext: encryptedLinkageProof } = await this.encrypt({\n      plaintext: linkageProofBin,\n      protocolID: [2, 'counterparty linkage revelation'],\n      keyID: revelationTime,\n      counterparty: args.verifier\n    })\n    return {\n      prover: identityKey,\n      verifier: args.verifier,\n      counterparty: args.counterparty,\n      revelationTime,\n      encryptedLinkage,\n      encryptedLinkageProof\n    }\n  }\n\n  async revealSpecificKeyLinkage (\n    args: RevealSpecificKeyLinkageArgs\n  ): Promise<RevealSpecificKeyLinkageResult> {\n    const { publicKey: identityKey } = await this.getPublicKey({\n      identityKey: true\n    })\n    if (this.keyDeriver == null) {\n      throw new Error('keyDeriver is undefined')\n    }\n    const linkage = this.keyDeriver.revealSpecificSecret(\n      args.counterparty,\n      args.protocolID,\n      args.keyID\n    )\n    const { ciphertext: encryptedLinkage } = await this.encrypt({\n      plaintext: linkage,\n      protocolID: [\n        2,\n        `specific linkage revelation ${args.protocolID[0]} ${args.protocolID[1]}`\n      ],\n      keyID: args.keyID,\n      counterparty: args.verifier\n    })\n    const { ciphertext: encryptedLinkageProof } = await this.encrypt({\n      plaintext: [0], // Proof type 0, no proof provided\n      protocolID: [\n        2,\n        `specific linkage revelation ${args.protocolID[0]} ${args.protocolID[1]}`\n      ],\n      keyID: args.keyID,\n      counterparty: args.verifier\n    })\n    return {\n      prover: identityKey,\n      verifier: args.verifier,\n      counterparty: args.counterparty,\n      protocolID: args.protocolID,\n      keyID: args.keyID,\n      encryptedLinkage,\n      encryptedLinkageProof,\n      proofType: 0\n    }\n  }\n\n  async encrypt (\n    args: WalletEncryptArgs\n  ): Promise<WalletEncryptResult> {\n    if (this.keyDeriver == null) {\n      throw new Error('keyDeriver is undefined')\n    }\n    const key = this.keyDeriver.deriveSymmetricKey(\n      args.protocolID,\n      args.keyID,\n      args.counterparty ?? 'self'\n    )\n    return { ciphertext: key.encrypt(args.plaintext) as number[] }\n  }\n\n  async decrypt (\n    args: WalletDecryptArgs\n  ): Promise<WalletDecryptResult> {\n    if (this.keyDeriver == null) {\n      throw new Error('keyDeriver is undefined')\n    }\n    const key = this.keyDeriver.deriveSymmetricKey(\n      args.protocolID,\n      args.keyID,\n      args.counterparty ?? 'self'\n    )\n    return { plaintext: key.decrypt(args.ciphertext) as number[] }\n  }\n\n  async createHmac (\n    args: CreateHmacArgs\n  ): Promise<CreateHmacResult> {\n    if (this.keyDeriver == null) {\n      throw new Error('keyDeriver is undefined')\n    }\n    const key = this.keyDeriver.deriveSymmetricKey(\n      args.protocolID,\n      args.keyID,\n      args.counterparty ?? 'self'\n    )\n    return { hmac: Hash.sha256hmac(key.toArray(), args.data) }\n  }\n\n  async verifyHmac (\n    args: VerifyHmacArgs\n  ): Promise<VerifyHmacResult> {\n    if (this.keyDeriver == null) {\n      throw new Error('keyDeriver is undefined')\n    }\n    const key = this.keyDeriver.deriveSymmetricKey(\n      args.protocolID,\n      args.keyID,\n      args.counterparty ?? 'self'\n    )\n    const valid =\n      Hash.sha256hmac(key.toArray(), args.data).toString() ===\n      args.hmac.toString()\n    if (!valid) {\n      const e = new Error('HMAC is not valid') as Error & { code: string }\n      e.code = 'ERR_INVALID_HMAC'\n      throw e\n    }\n    return { valid }\n  }\n\n  async createSignature (\n    args: CreateSignatureArgs\n  ): Promise<CreateSignatureResult> {\n    if ((args.hashToDirectlySign == null) && (args.data == null)) {\n      throw new Error('args.data or args.hashToDirectlySign must be valid')\n    }\n\n    const hash: number[] =\n      args.hashToDirectlySign ?? Hash.sha256(args.data ?? [])\n    const keyDeriver =\n      this.keyDeriver ??\n      (() => {\n        throw new Error('keyDeriver is undefined')\n      })()\n\n    const key = keyDeriver.derivePrivateKey(\n      args.protocolID,\n      args.keyID,\n      args.counterparty ?? 'anyone'\n    )\n\n    return {\n      signature: ECDSA.sign(new BigNumber(hash), key, true).toDER() as number[]\n    }\n  }\n\n  async verifySignature (\n    args: VerifySignatureArgs\n  ): Promise<VerifySignatureResult> {\n    if ((args.hashToDirectlyVerify == null) && (args.data == null)) {\n      throw new Error('args.data or args.hashToDirectlyVerify must be valid')\n    }\n\n    const hash: number[] =\n      args.hashToDirectlyVerify ?? Hash.sha256(args.data ?? [])\n    const keyDeriver =\n      this.keyDeriver ??\n      (() => {\n        throw new Error('keyDeriver is undefined')\n      })()\n\n    const key = keyDeriver.derivePublicKey(\n      args.protocolID,\n      args.keyID,\n      args.counterparty ?? 'self',\n      args.forSelf\n    )\n\n    const valid = ECDSA.verify(\n      new BigNumber(hash),\n      Signature.fromDER(args.signature),\n      key\n    )\n\n    if (!valid) {\n      const e = new Error('Signature is not valid') as Error & { code: string }\n      e.code = 'ERR_INVALID_SIGNATURE'\n      throw e\n    }\n\n    return { valid }\n  }\n}\n\nexport default ProtoWallet\n","import { Transaction } from '../transaction/index.js'\nimport OverlayAdminTokenTemplate from './OverlayAdminTokenTemplate.js'\n\n/**\n * The question asked to the Overlay Services Engine when a consumer of state wishes to look up information.\n */\nexport interface LookupQuestion {\n  /**\n   * The identifier for a Lookup Service which the person asking the question wishes to use.\n   */\n  service: string\n\n  /**\n   * The query which will be forwarded to the Lookup Service.\n   * Its type depends on that prescribed by the Lookup Service employed.\n   */\n  query: unknown\n}\n\n/**\n * How the Overlay Services Engine responds to a Lookup Question.\n * It may comprise either an output list or a freeform response from the Lookup Service.\n */\nexport type LookupAnswer =\n  | {\n    type: 'output-list'\n    outputs: Array<{\n      beef: number[]\n      outputIndex: number\n    }>\n  }\n  | {\n    type: 'freeform'\n    result: unknown\n  }\n\n/** Default SLAP trackers */\nexport const DEFAULT_SLAP_TRACKERS: string[] = [\n  // Babbage primary overlay service\n  'https://users.bapp.dev'\n\n  // NOTE: Other entities may submit pull requests to the library if they maintain SLAP overlay services.\n  // Additional trackers run by different entities contribute to greater network resiliency.\n  // It also generally doesn't hurt to have more trackers in this list.\n\n  // DISCLAIMER:\n  // Trackers known to host invalid or illegal records will be removed at the discretion of the BSV Association.\n]\n\n/** Default testnet SLAP trackers */\nexport const DEFAULT_TESTNET_SLAP_TRACKERS: string[] = [\n  // Babbage primary testnet overlay service\n  'https://testnet-users.bapp.dev'\n]\n\nconst MAX_TRACKER_WAIT_TIME = 5000\n\n/** Configuration options for the Lookup resolver. */\nexport interface LookupResolverConfig {\n  /**\n   * The network preset to use, unless other options override it.\n   * - mainnet: use mainnet SLAP trackers and HTTPS facilitator\n   * - testnet: use testnet SLAP trackers and HTTPS facilitator\n   * - local: directly query from localhost:8080 and a facilitator that permits plain HTTP\n   */\n  networkPreset?: 'mainnet' | 'testnet' | 'local'\n  /** The facilitator used to make requests to Overlay Services hosts. */\n  facilitator?: OverlayLookupFacilitator\n  /** The list of SLAP trackers queried to resolve Overlay Services hosts for a given lookup service. */\n  slapTrackers?: string[]\n  /** Map of lookup service names to arrays of hosts to use in place of resolving via SLAP. */\n  hostOverrides?: Record<string, string[]>\n  /** Map of lookup service names to arrays of hosts to use in addition to resolving via SLAP. */\n  additionalHosts?: Record<string, string[]>\n}\n\n/** Facilitates lookups to URLs that return answers. */\nexport interface OverlayLookupFacilitator {\n  /**\n   * Returns a lookup answer for a lookup question\n   * @param url - Overlay Service URL to send the lookup question to.\n   * @param question - Lookup question to find an answer to.\n   * @param timeout - Specifics how long to wait for a lookup answer in milliseconds.\n   * @returns\n   */\n  lookup: (\n    url: string,\n    question: LookupQuestion,\n    timeout?: number\n  ) => Promise<LookupAnswer>\n}\n\nexport class HTTPSOverlayLookupFacilitator implements OverlayLookupFacilitator {\n  fetchClient: typeof fetch\n  allowHTTP: boolean\n\n  constructor (httpClient = fetch, allowHTTP: boolean = false) {\n    this.fetchClient = httpClient\n    this.allowHTTP = allowHTTP\n  }\n\n  async lookup (\n    url: string,\n    question: LookupQuestion,\n    timeout: number = 5000\n  ): Promise<LookupAnswer> {\n    if (!url.startsWith('https:') && !this.allowHTTP) {\n      throw new Error(\n        'HTTPS facilitator can only use URLs that start with \"https:\"'\n      )\n    }\n    const timeoutPromise = new Promise((resolve, reject) =>\n      setTimeout(() => reject(new Error('Request timed out')), timeout)\n    )\n\n    const fetchPromise = fetch(`${url}/lookup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        service: question.service,\n        query: question.query\n      })\n    })\n\n    const response: Response = (await Promise.race([\n      fetchPromise,\n      timeoutPromise\n    ])) as Response\n\n    if (response.ok) {\n      return await response.json()\n    } else {\n      throw new Error('Failed to facilitate lookup')\n    }\n  }\n}\n\n/**\n * Represents an SHIP transaction broadcaster.\n */\nexport default class LookupResolver {\n  private readonly facilitator: OverlayLookupFacilitator\n  private readonly slapTrackers: string[]\n  private readonly hostOverrides: Record<string, string[]>\n  private readonly additionalHosts: Record<string, string[]>\n  private readonly networkPreset: 'mainnet' | 'testnet' | 'local'\n\n  constructor (config: LookupResolverConfig = {}) {\n    this.networkPreset = config.networkPreset ?? 'mainnet'\n    this.facilitator = config.facilitator ?? new HTTPSOverlayLookupFacilitator(undefined, this.networkPreset === 'local')\n    this.slapTrackers = config.slapTrackers ?? (this.networkPreset === 'mainnet' ? DEFAULT_SLAP_TRACKERS : DEFAULT_TESTNET_SLAP_TRACKERS)\n    this.hostOverrides = config.hostOverrides ?? {}\n    this.additionalHosts = config.additionalHosts ?? {}\n  }\n\n  /**\n   * Given a LookupQuestion, returns a LookupAnswer. Aggregates across multiple services and supports resiliency.\n   */\n  async query (\n    question: LookupQuestion,\n    timeout?: number\n  ): Promise<LookupAnswer> {\n    let competentHosts: string[] = []\n    if (question.service === 'ls_slap') {\n      competentHosts = this.networkPreset === 'local' ? ['http://localhost:8080'] : this.slapTrackers\n    } else if (this.hostOverrides[question.service] != null) {\n      competentHosts = this.hostOverrides[question.service]\n    } else if (this.networkPreset === 'local') {\n      competentHosts = ['http://localhost:8080']\n    } else {\n      competentHosts = await this.findCompetentHosts(question.service)\n    }\n    if (this.additionalHosts[question.service]?.length > 0) {\n      competentHosts = [\n        ...competentHosts,\n        ...this.additionalHosts[question.service]\n      ]\n    }\n    if (competentHosts.length < 1) {\n      throw new Error(\n        `No competent ${this.networkPreset} hosts found by the SLAP trackers for lookup service: ${question.service}`\n      )\n    }\n\n    // Use Promise.allSettled to handle individual host failures\n    const hostResponses = await Promise.allSettled(\n      competentHosts.map(\n        async (host) => await this.facilitator.lookup(host, question, timeout)\n      )\n    )\n\n    const successfulResponses = hostResponses\n      .filter((result): result is PromiseFulfilledResult<LookupAnswer> => result.status === 'fulfilled')\n      .map((result) => result.value)\n\n    if (successfulResponses.length === 0) {\n      throw new Error('No successful responses from any hosts')\n    }\n\n    // Process the successful responses\n    if (successfulResponses[0].type === 'freeform') {\n      // Return the first freeform response\n      return successfulResponses[0]\n    }\n\n    // Aggregate outputs from all successful responses\n    const outputs = new Map<string, { beef: number[], outputIndex: number }>()\n\n    for (const response of successfulResponses) {\n      if (response.type !== 'output-list') {\n        continue\n      }\n      try {\n        for (const output of response.outputs) {\n          try {\n            const txId: string = String(Transaction.fromBEEF(output.beef).id('hex'))\n\n            if (txId !== '') { //  Ensures `txId` is always a non-empty string\n              const key = `${String(txId)}.${String(output.outputIndex)}`\n              outputs.set(key, output)\n            } else {\n              console.warn('Invalid transaction ID:', txId)\n            }\n          } catch {\n            continue\n          }\n        }\n      } catch (_) {\n        // Error processing output, proceed.\n      }\n    }\n    return {\n      type: 'output-list',\n      outputs: Array.from(outputs.values())\n    }\n  }\n\n  /**\n   * Returns a list of competent hosts for a given lookup service.\n   * @param service Service for which competent hosts are to be returned\n   * @returns Array of hosts competent for resolving queries\n   */\n  private async findCompetentHosts (service: string): Promise<string[]> {\n    const query: LookupQuestion = {\n      service: 'ls_slap',\n      query: {\n        service\n      }\n    }\n\n    // Use Promise.allSettled to handle individual SLAP tracker failures\n    const trackerResponses = await Promise.allSettled(\n      this.slapTrackers.map(\n        async (tracker) =>\n          await this.facilitator.lookup(tracker, query, MAX_TRACKER_WAIT_TIME)\n      )\n    )\n\n    const hosts = new Set<string>()\n\n    for (const result of trackerResponses) {\n      if (result.status === 'fulfilled') {\n        const answer = result.value\n        if (answer.type !== 'output-list') {\n          // Log invalid response and continue\n          continue\n        }\n        for (const output of answer.outputs) {\n          try {\n            const tx = Transaction.fromBEEF(output.beef)\n            const script = tx.outputs[output.outputIndex].lockingScript\n            const parsed = OverlayAdminTokenTemplate.decode(script)\n            if (\n              parsed.topicOrService !== service ||\n              parsed.protocol !== 'SLAP'\n            ) {\n              // Invalid advertisement, skip\n              continue\n            }\n            hosts.add(parsed.domain)\n          } catch {\n            // Invalid output, skip\n            continue\n          }\n        }\n      } else {\n        // Log tracker failure and continue\n        continue\n      }\n    }\n\n    return [...hosts]\n  }\n}\n","import { wordList } from './bip-39-wordlist-en.js'\nimport { encode, toArray, Reader, Writer } from '../primitives/utils.js'\nimport * as Hash from '../primitives/Hash.js'\nimport Random from '../primitives/Random.js'\n\n/**\n * @class Mnemonic\n *\n * @description\n * Class representing Mnemonic functionality.\n * This class provides methods for generating, converting, and validating mnemonic phrases\n * according to the BIP39 standard. It supports creating mnemonics from random entropy,\n * converting mnemonics to seeds, and validating mnemonic phrases.\n */\nexport default class Mnemonic {\n  public mnemonic: string\n  public seed: number[]\n  public Wordlist: { value: string[], space: string }\n\n  /**\n   * Constructs a Mnemonic object.\n   * @param {string} [mnemonic] - An optional mnemonic phrase.\n   * @param {number[]} [seed] - An optional seed derived from the mnemonic.\n   * @param {object} [wordlist=wordList] - An object containing a list of words and space character used in the mnemonic.\n   */\n  constructor (mnemonic?: string, seed?: number[], wordlist = wordList) {\n    this.mnemonic = mnemonic ?? '' // Default to empty string if undefined\n    this.seed = seed ?? [] // Default to empty array if undefined\n    this.Wordlist = wordlist\n  }\n\n  /**\n   * Converts the mnemonic and seed into a binary representation.\n   * @returns {number[]} The binary representation of the mnemonic and seed.\n   */\n  public toBinary (): number[] {\n    const bw = new Writer()\n    if (this.mnemonic !== '') {\n      const buf = toArray(this.mnemonic, 'utf8')\n      bw.writeVarIntNum(buf.length)\n      bw.write(buf)\n    } else {\n      bw.writeVarIntNum(0)\n    }\n    if (this.seed.length > 0) {\n      bw.writeVarIntNum(this.seed.length)\n      bw.write(this.seed)\n    } else {\n      bw.writeVarIntNum(0)\n    }\n    return bw.toArray()\n  }\n\n  /**\n   * Loads a mnemonic and seed from a binary representation.\n   * @param {number[]} bin - The binary representation of a mnemonic and seed.\n   * @returns {this} The Mnemonic instance with loaded mnemonic and seed.\n   */\n  public fromBinary (bin: number[]): this {\n    const br = new Reader(bin)\n    const mnemoniclen = br.readVarIntNum()\n    if (mnemoniclen > 0) {\n      this.mnemonic = encode(br.read(mnemoniclen), 'utf8') as string\n    }\n    const seedlen = br.readVarIntNum()\n    if (seedlen > 0) {\n      this.seed = br.read(seedlen)\n    }\n    return this\n  }\n\n  /**\n   * Generates a random mnemonic from a given bit length.\n   * @param {number} [bits=128] - The bit length for the random mnemonic (must be a multiple of 32 and at least 128).\n   * @returns {this} The Mnemonic instance with the new random mnemonic.\n   * @throws {Error} If the bit length is not a multiple of 32 or is less than 128.\n   */\n  public fromRandom (bits?: number): this {\n    if (bits === undefined || bits === null || isNaN(bits) || bits === 0) {\n      bits = 128\n    }\n    if (bits % 32 !== 0) {\n      throw new Error('bits must be multiple of 32')\n    }\n    if (bits < 128) {\n      throw new Error('bits must be at least 128')\n    }\n    const buf = Random(bits / 8)\n    this.entropy2Mnemonic(buf)\n    this.mnemonic2Seed()\n    return this\n  }\n\n  /**\n   * Static method to generate a Mnemonic instance with a random mnemonic.\n   * @param {number} [bits=128] - The bit length for the random mnemonic.\n   * @returns {Mnemonic} A new Mnemonic instance.\n   */\n  public static fromRandom (bits?: number): Mnemonic {\n    return new this().fromRandom(bits)\n  }\n\n  /**\n   * Converts given entropy into a mnemonic phrase.\n   * This method is used to generate a mnemonic from a specific entropy source.\n   * @param {number[]} buf - The entropy buffer, must be at least 128 bits.\n   * @returns {this} The Mnemonic instance with the mnemonic set from the given entropy.\n   * @throws {Error} If the entropy is less than 128 bits.\n   */\n  public fromEntropy (buf: number[]): this {\n    this.entropy2Mnemonic(buf)\n    return this\n  }\n\n  /**\n   * Static method to create a Mnemonic instance from a given entropy.\n   * @param {number[]} buf - The entropy buffer.\n   * @returns {Mnemonic} A new Mnemonic instance.\n   */\n  public static fromEntropy (buf: number[]): Mnemonic {\n    return new this().fromEntropy(buf)\n  }\n\n  /**\n   * Sets the mnemonic for the instance from a string.\n   * @param {string} mnemonic - The mnemonic phrase as a string.\n   * @returns {this} The Mnemonic instance with the set mnemonic.\n   */\n  public fromString (mnemonic: string): this {\n    this.mnemonic = mnemonic\n    return this\n  }\n\n  /**\n   * Static method to create a Mnemonic instance from a mnemonic string.\n   * @param {string} str - The mnemonic phrase.\n   * @returns {Mnemonic} A new Mnemonic instance.\n   */\n  public static fromString (str: string): Mnemonic {\n    return new this().fromString(str)\n  }\n\n  /**\n   * Converts the instance's mnemonic to a string representation.\n   * @returns {string} The mnemonic phrase as a string.\n   */\n  public toString (): string {\n    return this.mnemonic\n  }\n\n  /**\n   * Converts the mnemonic to a seed.\n   * The mnemonic must pass the validity check before conversion.\n   * @param {string} [passphrase=''] - An optional passphrase for additional security.\n   * @returns {number[]} The generated seed.\n   * @throws {Error} If the mnemonic is invalid.\n   */\n  public toSeed (passphrase?: string): number[] {\n    this.mnemonic2Seed(passphrase)\n    return this.seed\n  }\n\n  /**\n   * Converts entropy to a mnemonic phrase.\n   * This method takes a buffer of entropy and converts it into a corresponding\n   * mnemonic phrase based on the Mnemonic wordlist. The entropy should be at least 128 bits.\n   * The method applies a checksum and maps the entropy to words in the wordlist.\n   * @param {number[]} buf - The entropy buffer to convert. Must be at least 128 bits.\n   * @returns {this} The Mnemonic instance with the mnemonic set from the entropy.\n   * @throws {Error} If the entropy is less than 128 bits or if it's not an even multiple of 11 bits.\n   */\n  public entropy2Mnemonic (buf: number[]): this {\n    if (buf.length < 128 / 8) {\n      throw new Error(\n        'Entropy is less than 128 bits. It must be 128 bits or more.'\n      )\n    }\n\n    const hash = Hash.sha256(buf)\n    let bin = ''\n    const bits = buf.length * 8\n    for (let i = 0; i < buf.length; i++) {\n      bin = bin + ('00000000' + buf[i].toString(2)).slice(-8)\n    }\n    let hashbits = hash[0].toString(2)\n    hashbits = ('00000000' + hashbits).slice(-8).slice(0, bits / 32)\n    bin = bin + hashbits\n\n    if (bin.length % 11 !== 0) {\n      throw new Error(\n        'internal error - entropy not an even multiple of 11 bits - ' +\n        bin.length.toString()\n      )\n    }\n\n    let mnemonic = ''\n    for (let i = 0; i < bin.length / 11; i++) {\n      if (mnemonic !== '') {\n        mnemonic = mnemonic + this.Wordlist.space\n      }\n      const wi = parseInt(bin.slice(i * 11, (i + 1) * 11), 2)\n      mnemonic = mnemonic + this.Wordlist.value[wi]\n    }\n\n    this.mnemonic = mnemonic\n    return this\n  }\n\n  /**\n   * Validates the mnemonic phrase.\n   * Checks for correct length, absence of invalid words, and proper checksum.\n   * @returns {boolean} True if the mnemonic is valid, false otherwise.\n   * @throws {Error} If the mnemonic is not an even multiple of 11 bits.\n   */\n  public check (): boolean {\n    const mnemonic = this.mnemonic\n\n    // confirm no invalid words\n    const words = mnemonic.split(this.Wordlist.space)\n    let bin = ''\n    for (let i = 0; i < words.length; i++) {\n      const ind = this.Wordlist.value.indexOf(words[i])\n      if (ind < 0) {\n        return false\n      }\n      bin = bin + ('00000000000' + ind.toString(2)).slice(-11)\n    }\n\n    if (bin.length % 11 !== 0) {\n      throw new Error(\n        'internal error - entropy not an even multiple of 11 bits - ' +\n        bin.length.toString()\n      )\n    }\n\n    // confirm checksum\n    const cs = bin.length / 33\n    const hashBits = bin.slice(-cs)\n    const nonhashBits = bin.slice(0, bin.length - cs)\n    const buf: number[] = []\n\n    for (let i = 0; i < nonhashBits.length / 8; i++) {\n      buf.push(parseInt(bin.slice(i * 8, (i + 1) * 8), 2))\n    }\n    const hash = Hash.sha256(buf.slice(0, nonhashBits.length / 8))\n    let expectedHashBits = hash[0].toString(2)\n    expectedHashBits = ('00000000' + expectedHashBits).slice(-8).slice(0, cs)\n\n    return expectedHashBits === hashBits\n  }\n\n  /**\n   * Converts a mnemonic to a seed.\n   * This method takes the instance's mnemonic phrase, combines it with a passphrase (if provided),\n   * and uses PBKDF2 to generate a seed. It also validates the mnemonic before conversion.\n   * This seed can then be used for generating deterministic keys.\n   * @param {string} [passphrase=''] - An optional passphrase for added security.\n   * @returns {this} The Mnemonic instance with the seed generated from the mnemonic.\n   * @throws {Error} If the mnemonic does not pass validation or if the passphrase is not a string.\n   */\n  public mnemonic2Seed (passphrase = ''): this {\n    let mnemonic = this.mnemonic\n    if (!this.check()) {\n      throw new Error(\n        'Mnemonic does not pass the check - was the mnemonic typed incorrectly? Are there extra spaces?'\n      )\n    }\n    if (typeof passphrase !== 'string') {\n      throw new Error('passphrase must be a string or undefined')\n    }\n    mnemonic = mnemonic.normalize('NFKD')\n    passphrase = passphrase.normalize('NFKD')\n    const mbuf = toArray(mnemonic, 'utf8')\n    const pbuf = [\n      ...toArray('mnemonic', 'utf8'),\n      ...toArray(passphrase, 'utf8')\n    ]\n    this.seed = Hash.pbkdf2(mbuf, pbuf, 2048, 64, 'sha512')\n    return this\n  }\n\n  /**\n   * Determines the validity of a given passphrase with the mnemonic.\n   * This method is useful for checking if a passphrase matches with the mnemonic.\n   * @param {string} [passphrase=''] - The passphrase to validate.\n   * @returns {boolean} True if the mnemonic and passphrase combination is valid, false otherwise.\n   */\n  public isValid (passphrase = ''): boolean {\n    let isValid\n    try {\n      this.mnemonic2Seed(passphrase)\n      isValid = true\n    } catch {\n      isValid = false\n    }\n    return isValid\n  }\n\n  /**\n   * Static method to check the validity of a given mnemonic and passphrase combination.\n   * @param {string} mnemonic - The mnemonic phrase.\n   * @param {string} [passphrase=''] - The passphrase to validate.\n   * @returns {boolean} True if the combination is valid, false otherwise.\n   */\n  public static isValid (mnemonic: string, passphrase = ''): boolean {\n    return new Mnemonic(mnemonic).isValid(passphrase)\n  }\n}\n","import ScriptChunk from './ScriptChunk.js'\nimport OP from './OP.js'\nimport { encode, toHex, Reader, Writer, toArray } from '../primitives/utils.js'\nimport BigNumber from '../primitives/BigNumber.js'\n\n/**\n * The Script class represents a script in a Bitcoin SV transaction,\n * encapsulating the functionality to construct, parse, and serialize\n * scripts used in both locking (output) and unlocking (input) scripts.\n *\n * @property {ScriptChunk[]} chunks - An array of script chunks that make up the script.\n */\nexport default class Script {\n  chunks: ScriptChunk[]\n\n  /**\n   * @method fromASM\n   * Static method to construct a Script instance from an ASM (Assembly) formatted string.\n   * @param asm - The script in ASM string format.\n   * @returns A new Script instance.\n   * @example\n   * const script = Script.fromASM(\"OP_DUP OP_HASH160 abcd... OP_EQUALVERIFY OP_CHECKSIG\")\n   */\n  static fromASM (asm: string): Script {\n    const chunks: ScriptChunk[] = []\n    const tokens = asm.split(' ')\n    let i = 0\n    while (i < tokens.length) {\n      const token = tokens[i]\n      let opCode\n      let opCodeNum: number = 0\n      if (token.startsWith('OP_') && typeof OP[token] !== 'undefined') {\n        opCode = token\n        opCodeNum = OP[token]\n      }\n\n      // we start with two special cases, 0 and -1, which are handled specially in\n      // toASM. see _chunkToString.\n      if (token === '0') {\n        opCodeNum = 0\n        chunks.push({\n          op: opCodeNum\n        })\n        i = i + 1\n      } else if (token === '-1') {\n        opCodeNum = OP.OP_1NEGATE\n        chunks.push({\n          op: opCodeNum\n        })\n        i = i + 1\n      } else if (opCode === undefined) {\n        let hex = tokens[i]\n        if (hex.length % 2 !== 0) {\n          hex = '0' + hex\n        }\n        const arr = toArray(hex, 'hex')\n        if (encode(arr, 'hex') !== hex) {\n          throw new Error('invalid hex string in script')\n        }\n        const len = arr.length\n        if (len >= 0 && len < OP.OP_PUSHDATA1) {\n          opCodeNum = len\n        } else if (len < Math.pow(2, 8)) {\n          opCodeNum = OP.OP_PUSHDATA1\n        } else if (len < Math.pow(2, 16)) {\n          opCodeNum = OP.OP_PUSHDATA2\n        } else if (len < Math.pow(2, 32)) {\n          opCodeNum = OP.OP_PUSHDATA4\n        }\n        chunks.push({\n          data: arr,\n          op: opCodeNum\n        })\n        i = i + 1\n      } else if (\n        opCodeNum === OP.OP_PUSHDATA1 ||\n        opCodeNum === OP.OP_PUSHDATA2 ||\n        opCodeNum === OP.OP_PUSHDATA4\n      ) {\n        chunks.push({\n          data: toArray(tokens[i + 2], 'hex'),\n          op: opCodeNum\n        })\n        i = i + 3\n      } else {\n        chunks.push({\n          op: opCodeNum\n        })\n        i = i + 1\n      }\n    }\n    return new Script(chunks)\n  }\n\n  /**\n   * @method fromHex\n   * Static method to construct a Script instance from a hexadecimal string.\n   * @param hex - The script in hexadecimal format.\n   * @returns A new Script instance.\n   * @example\n   * const script = Script.fromHex(\"76a9...\");\n   */\n  static fromHex (hex: string): Script {\n    if (hex.length === 0) return Script.fromBinary([])\n    if (hex.length % 2 !== 0) {\n      throw new Error(\n        'There is an uneven number of characters in the string which suggests it is not hex encoded.'\n      )\n    }\n    if (!/^[0-9a-fA-F]+$/.test(hex)) {\n      throw new Error('Some elements in this string are not hex encoded.')\n    }\n    return Script.fromBinary(toArray(hex, 'hex'))\n  }\n\n  /**\n   * @method fromBinary\n   * Static method to construct a Script instance from a binary array.\n   * @param bin - The script in binary array format.\n   * @returns A new Script instance.\n   * @example\n   * const script = Script.fromBinary([0x76, 0xa9, ...])\n   */\n  static fromBinary (bin: number[]): Script {\n    bin = [...bin]\n    const chunks: ScriptChunk[] = []\n\n    let inConditionalBlock: number = 0\n\n    const br = new Reader(bin)\n    while (!br.eof()) {\n      const op = br.readUInt8()\n\n      // if OP_RETURN and not in a conditional block, do not parse the rest of the data,\n      // rather just return the last chunk as data without prefixing with data length.\n      if (op === OP.OP_RETURN && inConditionalBlock === 0) {\n        chunks.push({\n          op,\n          data: br.read()\n        })\n        break\n      }\n\n      if (op === OP.OP_IF || op === OP.OP_NOTIF || op === OP.OP_VERIF || op === OP.OP_VERNOTIF) {\n        inConditionalBlock++\n      } else if (op === OP.OP_ENDIF) {\n        inConditionalBlock--\n      }\n\n      let len = 0\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n      let data: number[] = []\n      if (op > 0 && op < OP.OP_PUSHDATA1) {\n        len = op\n        chunks.push({\n          data: br.read(len),\n          op\n        })\n      } else if (op === OP.OP_PUSHDATA1) {\n        try {\n          len = br.readUInt8()\n          data = br.read(len)\n        } catch {\n          br.read()\n        }\n        chunks.push({\n          data,\n          op\n        })\n      } else if (op === OP.OP_PUSHDATA2) {\n        try {\n          len = br.readUInt16LE()\n          data = br.read(len)\n        } catch {\n          br.read()\n        }\n        chunks.push({\n          data,\n          op\n        })\n      } else if (op === OP.OP_PUSHDATA4) {\n        try {\n          len = br.readUInt32LE()\n          data = br.read(len)\n        } catch {\n          br.read()\n        }\n        chunks.push({\n          data,\n          op\n        })\n      } else {\n        chunks.push({\n          op\n        })\n      }\n    }\n    return new Script(chunks)\n  }\n\n  /**\n   * @constructor\n   * Constructs a new Script object.\n   * @param chunks=[] - An array of script chunks to directly initialize the script.\n   */\n  constructor (chunks: ScriptChunk[] = []) {\n    this.chunks = chunks\n  }\n\n  /**\n   * @method toASM\n   * Serializes the script to an ASM formatted string.\n   * @returns The script in ASM string format.\n   */\n  toASM (): string {\n    let str = ''\n    for (let i = 0; i < this.chunks.length; i++) {\n      const chunk = this.chunks[i]\n      str += this._chunkToString(chunk)\n    }\n\n    return str.slice(1)\n  }\n\n  /**\n   * @method toHex\n   * Serializes the script to a hexadecimal string.\n   * @returns The script in hexadecimal format.\n   */\n  toHex (): string {\n    return encode(this.toBinary(), 'hex') as string\n  }\n\n  /**\n   * @method toBinary\n   * Serializes the script to a binary array.\n   * @returns The script in binary array format.\n   */\n  toBinary (): number[] {\n    const writer = new Writer()\n\n    for (let i = 0; i < this.chunks.length; i++) {\n      const chunk = this.chunks[i]\n      const op = chunk.op\n      writer.writeUInt8(op)\n      if (op === OP.OP_RETURN && chunk.data != null) { // special case for unformatted data\n        writer.write(chunk.data)\n        break\n      } else if (chunk.data != null) {\n        if (op < OP.OP_PUSHDATA1) {\n          writer.write(chunk.data)\n        } else if (op === OP.OP_PUSHDATA1) {\n          writer.writeUInt8(chunk.data.length)\n          writer.write(chunk.data)\n        } else if (op === OP.OP_PUSHDATA2) {\n          writer.writeUInt16LE(chunk.data.length)\n          writer.write(chunk.data)\n        } else if (op === OP.OP_PUSHDATA4) {\n          writer.writeUInt32LE(chunk.data.length)\n          writer.write(chunk.data)\n        }\n      }\n    }\n\n    return writer.toArray()\n  }\n\n  /**\n   * @method writeScript\n   * Appends another script to this script.\n   * @param script - The script to append.\n   * @returns This script instance for chaining.\n   */\n  writeScript (script: Script): Script {\n    this.chunks = this.chunks.concat(script.chunks)\n    return this\n  }\n\n  /**\n   * @method writeOpCode\n   * Appends an opcode to the script.\n   * @param op - The opcode to append.\n   * @returns This script instance for chaining.\n   */\n  writeOpCode (op: number): Script {\n    this.chunks.push({ op })\n    return this\n  }\n\n  /**\n   * @method setChunkOpCode\n   * Sets the opcode of a specific chunk in the script.\n   * @param i - The index of the chunk.\n   * @param op - The opcode to set.\n   * @returns This script instance for chaining.\n   */\n  setChunkOpCode (i: number, op: number): Script {\n    this.chunks[i] = { op }\n    return this\n  }\n\n  /**\n   * @method writeBn\n   * Appends a BigNumber to the script as an opcode.\n   * @param bn - The BigNumber to append.\n   * @returns This script instance for chaining.\n   */\n  writeBn (bn: BigNumber): Script {\n    if (bn.cmpn(0) === OP.OP_0) {\n      this.chunks.push({\n        op: OP.OP_0\n      })\n    } else if (bn.cmpn(-1) === 0) {\n      this.chunks.push({\n        op: OP.OP_1NEGATE\n      })\n    } else if (bn.cmpn(1) >= 0 && bn.cmpn(16) <= 0) {\n      // see OP_1 - OP_16\n      this.chunks.push({\n        op: bn.toNumber() + OP.OP_1 - 1\n      })\n    } else {\n      const buf = bn.toSm('little')\n      this.writeBin(buf)\n    }\n    return this\n  }\n\n  /**\n   * @method writeBin\n   * Appends binary data to the script, determining the appropriate opcode based on length.\n   * @param bin - The binary data to append.\n   * @returns This script instance for chaining.\n   * @throws {Error} Throws an error if the data is too large to be pushed.\n   */\n  writeBin (bin: number[]): Script {\n    let op\n    if (bin.length > 0 && bin.length < OP.OP_PUSHDATA1) {\n      op = bin.length\n    } else if (bin.length === 0) {\n      op = OP.OP_0\n    } else if (bin.length < Math.pow(2, 8)) {\n      op = OP.OP_PUSHDATA1\n    } else if (bin.length < Math.pow(2, 16)) {\n      op = OP.OP_PUSHDATA2\n    } else if (bin.length < Math.pow(2, 32)) {\n      op = OP.OP_PUSHDATA4\n    } else {\n      throw new Error(\"You can't push that much data\")\n    }\n    this.chunks.push({\n      data: bin,\n      op\n    })\n    return this\n  }\n\n  /**\n   * @method writeNumber\n   * Appends a number to the script.\n   * @param num - The number to append.\n   * @returns This script instance for chaining.\n   */\n  writeNumber (num: number): Script {\n    this.writeBn(new BigNumber(num))\n    return this\n  }\n\n  /**\n   * @method removeCodeseparators\n   * Removes all OP_CODESEPARATOR opcodes from the script.\n   * @returns This script instance for chaining.\n   */\n  removeCodeseparators (): Script {\n    const chunks: ScriptChunk[] = []\n    for (let i = 0; i < this.chunks.length; i++) {\n      if (this.chunks[i].op !== OP.OP_CODESEPARATOR) {\n        chunks.push(this.chunks[i])\n      }\n    }\n    this.chunks = chunks\n    return this\n  }\n\n  /**\n   * Deletes the given item wherever it appears in the current script.\n   *\n   * @param script - The script containing the item to delete from the current script.\n   *\n   * @returns This script instance for chaining.\n   */\n  findAndDelete (script: Script): Script {\n    const buf = script.toHex()\n    for (let i = 0; i < this.chunks.length; i++) {\n      const script2 = new Script([this.chunks[i]])\n      const buf2 = script2.toHex()\n      if (buf === buf2) {\n        this.chunks.splice(i, 1)\n      }\n    }\n    return this\n  }\n\n  /**\n   * @method isPushOnly\n   * Checks if the script contains only push data operations.\n   * @returns True if the script is push-only, otherwise false.\n   */\n  isPushOnly (): boolean {\n    for (let i = 0; i < this.chunks.length; i++) {\n      const chunk = this.chunks[i]\n      const opCodeNum = chunk.op\n      if (opCodeNum > OP.OP_16) {\n        return false\n      }\n    }\n    return true\n  }\n\n  /**\n   * @method isLockingScript\n   * Determines if the script is a locking script.\n   * @returns True if the script is a locking script, otherwise false.\n   */\n  isLockingScript (): boolean {\n    throw new Error('Not implemented')\n  }\n\n  /**\n   * @method isUnlockingScript\n   * Determines if the script is an unlocking script.\n   * @returns True if the script is an unlocking script, otherwise false.\n   */\n  isUnlockingScript (): boolean {\n    throw new Error('Not implemented')\n  }\n\n  /**\n   * @private\n   * @method _chunkToString\n   * Converts a script chunk to its string representation.\n   * @param chunk - The script chunk.\n   * @returns The string representation of the chunk.\n   */\n  private _chunkToString (chunk: ScriptChunk): string {\n    const op = chunk.op\n    let str = ''\n    if (typeof chunk.data === 'undefined') {\n      const val = OP[op] as string\n      str = `${str} ${val}`\n    } else {\n      str = `${str} ${toHex(chunk.data)}`\n    }\n    return str\n  }\n}\n","import { AuthFetch } from '../auth/clients/index.js'\nimport { DEFAULT_IDENTITY_CLIENT_OPTIONS, defaultIdentity, DisplayableIdentity, KNOWN_IDENTITY_TYPES } from './types/index.js'\nimport {\n  CertificateFieldNameUnder50Bytes,\n  DiscoverByAttributesArgs,\n  DiscoverByIdentityKeyArgs,\n  IdentityCertificate,\n  OriginatorDomainNameStringUnder250Bytes,\n  WalletCertificate,\n  WalletClient,\n  WalletInterface\n} from '../wallet/index.js'\nimport { BroadcastFailure, BroadcastResponse, Transaction } from '../transaction/index.js'\nimport Certificate from '../auth/certificates/Certificate.js'\nimport { PushDrop } from '../script/index.js'\nimport { PrivateKey, Utils } from '../primitives/index.js'\nimport { TopicBroadcaster } from '../overlay-tools/index.js'\n\n/**\n * IdentityClient lets you discover who others are, and let the world know who you are.\n */\nexport class IdentityClient {\n  private readonly authClient: AuthFetch\n  private readonly wallet: WalletInterface\n  constructor (\n    wallet?: WalletInterface,\n    private readonly options = DEFAULT_IDENTITY_CLIENT_OPTIONS,\n    private readonly originator?: OriginatorDomainNameStringUnder250Bytes\n  ) {\n    this.wallet = wallet ?? new WalletClient()\n    this.authClient = new AuthFetch(this.wallet)\n  }\n\n  /**\n   * Publicly reveals selected fields from a given certificate by creating a publicly verifiable certificate.\n   * The publicly revealed certificate is included in a blockchain transaction and broadcast to a federated overlay node.\n   *\n   * @param {Certificate} certificate - The master certificate to selectively reveal.\n   * @param {CertificateFieldNameUnder50Bytes[]} fieldsToReveal - An array of certificate field names to reveal. Only these fields will be included in the public certificate.\n   *\n   * @returns {Promise<object>} A promise that resolves with the broadcast result from the overlay network.\n   * @throws {Error} Throws an error if the certificate is invalid, the fields cannot be revealed, or if the broadcast fails.\n   */\n  async publiclyRevealAttributes (\n    certificate: WalletCertificate,\n    fieldsToReveal: CertificateFieldNameUnder50Bytes[]\n  ): Promise<BroadcastResponse | BroadcastFailure> {\n    if (Object.keys(certificate.fields).length === 0) {\n      throw new Error('Public reveal failed: Certificate has no fields to reveal!')\n    }\n    if (fieldsToReveal.length === 0) {\n      throw new Error('Public reveal failed: You must reveal at least one field!')\n    }\n    try {\n      const masterCert = new Certificate(\n        certificate.type,\n        certificate.serialNumber,\n        certificate.subject,\n        certificate.certifier,\n        certificate.revocationOutpoint,\n        certificate.fields,\n        certificate.signature\n      )\n      await masterCert.verify()\n    } catch (error) {\n      throw new Error('Public reveal failed: Certificate verification failed!')\n    }\n\n    // Given we already have a master certificate from a certifier,\n    // create an anyone verifiable certificate with selectively revealed fields\n    const { keyringForVerifier } = await this.wallet.proveCertificate({\n      certificate,\n      fieldsToReveal,\n      verifier: new PrivateKey(1).toPublicKey().toString()\n    })\n\n    // Build the lockingScript with pushdrop.create() and the transaction with createAction()\n    const lockingScript = await new PushDrop(this.wallet).lock(\n      [Utils.toArray(JSON.stringify({ ...certificate, keyring: keyringForVerifier }))],\n      this.options.protocolID,\n      this.options.keyID,\n      'anyone',\n      true,\n      true\n    )\n    // TODO: Consider verification and if this is necessary\n    // counterpartyCanVerifyMyOwnership: true\n\n    const { tx } = await this.wallet.createAction({\n      description: 'Create a new Identity Token',\n      outputs: [{\n        satoshis: this.options.tokenAmount,\n        lockingScript: lockingScript.toHex(),\n        outputDescription: 'Identity Token'\n      }],\n      options: {\n        randomizeOutputs: false\n      }\n    })\n\n    if (tx !== undefined) {\n      // Submit the transaction to an overlay\n      const broadcaster = new TopicBroadcaster(['tm_identity'], {\n        networkPreset: (await (this.wallet.getNetwork({}))).network\n      })\n      return await broadcaster.broadcast(Transaction.fromAtomicBEEF(tx))\n    }\n    throw new Error('Public reveal failed: failed to create action!')\n  }\n\n  /**\n  * Resolves displayable identity certificates, issued to a given identity key by a trusted certifier.\n  *\n  * @param {DiscoverByIdentityKeyArgs} args - Arguments for requesting the discovery based on the identity key.\n  * @returns {Promise<DisplayableIdentity[]>} The promise resolves to displayable identities.\n  */\n  async resolveByIdentityKey (\n    args: DiscoverByIdentityKeyArgs\n  ): Promise<DisplayableIdentity[]> {\n    const { certificates } = await this.wallet.discoverByIdentityKey(args, this.originator)\n    return certificates.map(cert => {\n      return IdentityClient.parseIdentity(cert)\n    })\n  }\n\n  /**\n   * Resolves displayable identity certificates by specific identity attributes, issued by a trusted entity.\n   *\n   * @param {DiscoverByAttributesArgs} args - Attributes and optional parameters used to discover certificates.\n   * @returns {Promise<DisplayableIdentity[]>} The promise resolves to displayable identities.\n   */\n  async resolveByAttributes (\n    args: DiscoverByAttributesArgs\n  ): Promise<DisplayableIdentity[]> {\n    const { certificates } = await this.wallet.discoverByAttributes(args, this.originator)\n    return certificates.map(cert => {\n      return IdentityClient.parseIdentity(cert)\n    })\n  }\n\n  /**\n   * TODO: Implement once revocation overlay is created\n   * Remove public certificate revelation from overlay services by spending the identity token\n   * @param serialNumber - Unique serial number of the certificate to revoke revelation\n   */\n  // async revokeCertificateRevelation(\n  //   serialNumber: Base64String\n  // ): Promise<BroadcastResponse | BroadcastFailure> {\n  //   // 1. Find existing UTXO\n  //   const lookupResolver = new LookupResolver()\n  //   const result = await lookupResolver.query({\n  //     service: 'ls_identity',\n  //     query: {\n  //       serialNumber\n  //     }\n  //   })\n\n  //   let outpoint: string\n  //   let lockingScript: LockingScript | undefined\n  //   if (result.type === 'output-list') {\n  //     const tx = Transaction.fromAtomicBEEF(result.outputs[this.options.outputIndex].beef)\n  //     outpoint = `${tx.id('hex')}.${this.options.outputIndex}` // Consider better way\n  //     lockingScript = tx.outputs[this.options.outputIndex].lockingScript\n  //   }\n\n  //   if (lockingScript === undefined) {\n  //     throw new Error('Failed to get locking script for revelation output!')\n  //   }\n\n  //   // 2. Parse results\n  //   const { signableTransaction } = await this.wallet.createAction({\n  //     description: '',\n  //     inputs: [{\n  //       inputDescription: 'Spend certificate revelation token',\n  //       outpoint,\n  //       unlockingScriptLength: 73\n  //     }],\n  //     options: {\n  //       randomizeOutputs: false\n  //     }\n  //   })\n\n  //   if (signableTransaction === undefined) {\n  //     throw new Error('Failed to create signable transaction')\n  //   }\n\n  //   const partialTx = Transaction.fromBEEF(signableTransaction.tx)\n\n  //   const unlocker = new PushDrop(this.wallet).unlock(\n  //     this.options.protocolID,\n  //     this.options.keyID,\n  //     'self',\n  //     'all',\n  //     false,\n  //     1,\n  //     lockingScript\n  //   )\n\n  //   const unlockingScript = await unlocker.sign(partialTx, this.options.outputIndex)\n\n  //   const { tx: signedTx } = await this.wallet.signAction({\n  //     reference: signableTransaction.reference,\n  //     spends: {\n  //       [this.options.outputIndex]: {\n  //         unlockingScript: unlockingScript.toHex()\n  //       }\n  //     }\n  //   })\n\n  //   // 4. Return broadcast status\n  //   // Submit the transaction to an overlay\n  //   const broadcaster = new SHIPBroadcaster(['tm_identity'])\n  //   return await broadcaster.broadcast(Transaction.fromAtomicBEEF(signedTx as number[]))\n  // }\n\n  /**\n   * Parse out identity and certifier attributes to display from an IdentityCertificate\n   * @param identityToParse - The Identity Certificate to parse\n   * @returns - IdentityToDisplay\n   */\n  static parseIdentity (identityToParse: IdentityCertificate): DisplayableIdentity {\n    const { type, decryptedFields, certifierInfo } = identityToParse\n    let name, avatarURL, badgeLabel, badgeIconURL, badgeClickURL\n\n    // Parse out the name to display based on the specific certificate type which has clearly defined fields.\n    switch (type) {\n      case KNOWN_IDENTITY_TYPES.xCert:\n        name = decryptedFields.userName\n        avatarURL = decryptedFields.profilePhoto\n        badgeLabel = `X account certified by ${certifierInfo.name}`\n        badgeIconURL = certifierInfo.iconUrl\n        badgeClickURL = 'https://socialcert.net' // TODO Make a specific page for this.\n        break\n      case KNOWN_IDENTITY_TYPES.discordCert:\n        name = decryptedFields.userName\n        avatarURL = decryptedFields.profilePhoto\n        badgeLabel = `Discord account certified by ${certifierInfo.name}`\n        badgeIconURL = certifierInfo.iconUrl\n        badgeClickURL = 'https://socialcert.net' // TODO Make a specific page for this.\n        break\n      case KNOWN_IDENTITY_TYPES.emailCert:\n        name = decryptedFields.email\n        avatarURL = 'XUTZxep7BBghAJbSBwTjNfmcsDdRFs5EaGEgkESGSgjJVYgMEizu'\n        badgeLabel = `Email certified by ${certifierInfo.name}`\n        badgeIconURL = certifierInfo.iconUrl\n        badgeClickURL = 'https://socialcert.net' // TODO Make a specific page for this.\n        break\n      case KNOWN_IDENTITY_TYPES.phoneCert:\n        name = decryptedFields.phoneNumber\n        avatarURL = 'XUTLxtX3ELNUwRhLwL7kWNGbdnFM8WG2eSLv84J7654oH8HaJWrU'\n        badgeLabel = `Phone certified by ${certifierInfo.name}`\n        badgeIconURL = certifierInfo.iconUrl\n        badgeClickURL = 'https://socialcert.net' // TODO Make a specific page for this.\n        break\n      case KNOWN_IDENTITY_TYPES.identiCert:\n        name = `${decryptedFields.firstName} ${decryptedFields.lastName}`\n        avatarURL = decryptedFields.profilePhoto\n        badgeLabel = `Government ID certified by ${certifierInfo.name}`\n        badgeIconURL = certifierInfo.iconUrl\n        badgeClickURL = 'https://identicert.me' // TODO Make a specific page for this.\n        break\n      case KNOWN_IDENTITY_TYPES.registrant:\n        name = decryptedFields.name\n        avatarURL = decryptedFields.icon\n        badgeLabel = `Entity certified by ${certifierInfo.name}`\n        badgeIconURL = certifierInfo.iconUrl\n        badgeClickURL = 'https://projectbabbage.com/docs/registrant' // TODO: Make this doc page exist\n        break\n      case KNOWN_IDENTITY_TYPES.coolCert:\n        name = decryptedFields.cool === 'true' ? 'Cool Person!' : 'Not cool!'\n        break\n      case KNOWN_IDENTITY_TYPES.anyone:\n        name = 'Anyone'\n        avatarURL = 'XUT4bpQ6cpBaXi1oMzZsXfpkWGbtp2JTUYAoN7PzhStFJ6wLfoeR'\n        badgeLabel = 'Represents the ability for anyone to access this information.'\n        badgeIconURL = 'XUUV39HVPkpmMzYNTx7rpKzJvXfeiVyQWg2vfSpjBAuhunTCA9uG'\n        badgeClickURL = 'https://projectbabbage.com/docs/anyone-identity' // TODO: Make this doc page exist\n        break\n      case KNOWN_IDENTITY_TYPES.self:\n        name = 'You'\n        avatarURL = 'XUT9jHGk2qace148jeCX5rDsMftkSGYKmigLwU2PLLBc7Hm63VYR'\n        badgeLabel = 'Represents your ability to access this information.'\n        badgeIconURL = 'XUUV39HVPkpmMzYNTx7rpKzJvXfeiVyQWg2vfSpjBAuhunTCA9uG'\n        badgeClickURL = 'https://projectbabbage.com/docs/self-identity' // TODO: Make this doc page exist\n        break\n      default:\n        name = defaultIdentity.name\n        avatarURL = decryptedFields.profilePhoto\n        badgeLabel = defaultIdentity.badgeLabel\n        badgeIconURL = defaultIdentity.badgeIconURL\n        badgeClickURL = defaultIdentity.badgeClickURL // TODO: Make this doc page exist\n        break\n    }\n\n    return {\n      name,\n      avatarURL,\n      abbreviatedKey: identityToParse.subject.length > 0 ? `${identityToParse.subject.substring(0, 10)}...` : '',\n      identityKey: identityToParse.subject,\n      badgeIconURL,\n      badgeLabel,\n      badgeClickURL\n    }\n  }\n}\n","export { default as ARC } from './ARC.js'\nexport type { ArcConfig } from './ARC.js'\nexport { default as WhatsOnChainBroadcaster } from './WhatsOnChainBroadcaster.js'\nexport { default as Teranode } from './Teranode.js'\nexport { defaultBroadcaster } from './DefaultBroadcaster.js'\n","import { SessionManager } from './SessionManager.js'\nimport {\n  createNonce,\n  verifyNonce,\n  getVerifiableCertificates,\n  validateCertificates\n} from './utils/index.js'\nimport {\n  AuthMessage,\n  PeerSession,\n  RequestedCertificateSet,\n  Transport\n} from './types.js'\nimport { VerifiableCertificate } from './certificates/VerifiableCertificate.js'\nimport Random from '../primitives/Random.js'\nimport * as Utils from '../primitives/utils.js'\nimport { WalletInterface } from '../wallet/Wallet.interfaces.js'\n\nconst AUTH_VERSION = '0.1'\n\n/**\n * Represents a peer capable of performing mutual authentication.\n * Manages sessions, handles authentication handshakes, certificate requests and responses,\n * and sending and receiving general messages over a transport layer.\n *\n * This version supports multiple concurrent sessions per peer identityKey.\n */\nexport class Peer {\n  public sessionManager: SessionManager\n  private readonly transport: Transport\n  private readonly wallet: WalletInterface\n  certificatesToRequest: RequestedCertificateSet\n  private readonly onGeneralMessageReceivedCallbacks: Map<\n  number,\n  (senderPublicKey: string, payload: number[]) => void\n  > = new Map()\n\n  private readonly onCertificatesReceivedCallbacks: Map<\n  number,\n  (senderPublicKey: string, certs: VerifiableCertificate[]) => void\n  > = new Map()\n\n  private readonly onCertificateRequestReceivedCallbacks: Map<\n  number,\n  (\n    senderPublicKey: string,\n    requestedCertificates: RequestedCertificateSet\n  ) => void\n  > = new Map()\n\n  private readonly onInitialResponseReceivedCallbacks: Map<\n  number,\n  { callback: (sessionNonce: string) => void, sessionNonce: string }\n  > = new Map()\n\n  // Single shared counter for all callback types\n  private callbackIdCounter: number = 0\n\n  // Whether to auto-persist the session with the last-interacted-with peer\n  private readonly autoPersistLastSession: boolean = true\n\n  // Last-interacted-with peer identity key (if the user calls toPeer with no identityKey)\n  private lastInteractedWithPeer: string | undefined\n\n  /**\n   * Creates a new Peer instance\n   *\n   * @param {WalletInterface} wallet - The wallet instance used for cryptographic operations.\n   * @param {Transport} transport - The transport mechanism used for sending and receiving messages.\n   * @param {RequestedCertificateSet} [certificatesToRequest] - Optional set of certificates to request from a peer during the initial handshake.\n   * @param {SessionManager} [sessionManager] - Optional SessionManager to be used for managing peer sessions.\n   * @param {boolean} [autoPersistLastSession] - Whether to auto-persist the session with the last-interacted-with peer. Defaults to true.\n   */\n  constructor (\n    wallet: WalletInterface,\n    transport: Transport,\n    certificatesToRequest?: RequestedCertificateSet,\n    sessionManager?: SessionManager,\n    autoPersistLastSession?: boolean\n  ) {\n    this.wallet = wallet\n    this.transport = transport\n    this.certificatesToRequest = certificatesToRequest ?? {\n      certifiers: [],\n      types: {}\n    }\n    this.transport.onData(this.handleIncomingMessage.bind(this)).catch(e => {\n      throw e\n    })\n    this.sessionManager =\n      sessionManager != null ? sessionManager : new SessionManager()\n    if (autoPersistLastSession === false) {\n      this.autoPersistLastSession = false\n    } else {\n      this.autoPersistLastSession = true\n    }\n  }\n\n  /**\n   * Sends a general message to a peer, and initiates a handshake if necessary.\n   *\n   * @param {number[]} message - The message payload to send.\n   * @param {string} [identityKey] - The identity public key of the peer. If not provided, uses lastInteractedWithPeer (if any).\n   * @param {number} [maxWaitTime] - optional max wait time in ms\n   * @returns {Promise<void>}\n   * @throws Will throw an error if the message fails to send.\n   */\n  async toPeer (\n    message: number[],\n    identityKey?: string,\n    maxWaitTime?: number\n  ): Promise<void> {\n    if (\n      this.autoPersistLastSession &&\n      typeof this.lastInteractedWithPeer === 'string' &&\n      typeof identityKey !== 'string'\n    ) {\n      identityKey = this.lastInteractedWithPeer\n    }\n\n    const peerSession = await this.getAuthenticatedSession(identityKey, maxWaitTime)\n\n    // Prepare the general message\n    const requestNonce = Utils.toBase64(Random(32))\n    const { signature } = await this.wallet.createSignature({\n      data: message,\n      protocolID: [2, 'auth message signature'],\n      keyID: `${requestNonce} ${peerSession.peerNonce ?? ''}`,\n      counterparty: peerSession.peerIdentityKey\n    })\n\n    const generalMessage: AuthMessage = {\n      version: AUTH_VERSION,\n      messageType: 'general',\n      identityKey: (await this.wallet.getPublicKey({ identityKey: true }))\n        .publicKey,\n      nonce: requestNonce,\n      yourNonce: peerSession.peerNonce,\n      payload: message,\n      signature\n    }\n\n    peerSession.lastUpdate = Date.now()\n    this.sessionManager.updateSession(peerSession)\n\n    try {\n      await this.transport.send(generalMessage)\n    } catch (error: any) {\n      const e = new Error(\n        `Failed to send message to peer ${peerSession.peerIdentityKey ?? 'unknown'\n        }: ${String(error.message)}`\n      )\n      e.stack = error.stack\n      throw e\n    }\n  }\n\n  /**\n   * Sends a request for certificates to a peer.\n   * This method allows a peer to dynamically request specific certificates after\n   * an initial handshake or message has been exchanged.\n   *\n   * @param {RequestedCertificateSet} certificatesToRequest - Specifies the certifiers and types of certificates required from the peer.\n   * @param {string} [identityKey] - The identity public key of the peer. If not provided, the current or last session identity is used.\n   * @param {number} [maxWaitTime=10000] - Maximum time in milliseconds to wait for the peer session to be authenticated.\n   * @returns {Promise<void>} Resolves if the certificate request message is successfully sent.\n   * @throws Will throw an error if the peer session is not authenticated or if sending the request fails.\n   */\n  async requestCertificates (\n    certificatesToRequest: RequestedCertificateSet,\n    identityKey?: string,\n    maxWaitTime = 10000\n  ): Promise<void> {\n    if (\n      this.autoPersistLastSession &&\n      typeof this.lastInteractedWithPeer === 'string' &&\n      typeof identityKey !== 'string'\n    ) {\n      identityKey = this.lastInteractedWithPeer\n    }\n\n    const peerSession = await this.getAuthenticatedSession(\n      identityKey,\n      maxWaitTime\n    )\n\n    // Prepare the message\n    const requestNonce = Utils.toBase64(Random(32))\n    const { signature } = await this.wallet.createSignature({\n      data: Utils.toArray(JSON.stringify(certificatesToRequest), 'utf8'),\n      protocolID: [2, 'auth message signature'],\n      keyID: `${requestNonce} ${peerSession.peerNonce ?? ''}`,\n      counterparty: peerSession.peerIdentityKey\n    })\n\n    const certRequestMessage: AuthMessage = {\n      version: AUTH_VERSION,\n      messageType: 'certificateRequest',\n      identityKey: (await this.wallet.getPublicKey({ identityKey: true }))\n        .publicKey,\n      nonce: requestNonce,\n      initialNonce: peerSession.sessionNonce,\n      yourNonce: peerSession.peerNonce,\n      requestedCertificates: certificatesToRequest,\n      signature\n    }\n\n    // Update last-used timestamp\n    peerSession.lastUpdate = Date.now()\n    this.sessionManager.updateSession(peerSession)\n\n    try {\n      await this.transport.send(certRequestMessage)\n    } catch (error: any) {\n      throw new Error(\n        `Failed to send certificate request message to peer ${peerSession.peerIdentityKey ?? 'unknown'\n        }: ${String(error.message)}`\n      )\n    }\n  }\n\n  /**\n   * Retrieves an authenticated session for a given peer identity. If no session exists\n   * or the session is not authenticated, initiates a handshake to create or authenticate the session.\n   *\n   * - If `identityKey` is provided, we look up any existing session for that identity key.\n   * - If none is found or not authenticated, we do a new handshake.\n   * - If `identityKey` is not provided, but we have a `lastInteractedWithPeer`, we try that key.\n   *\n   * @param {string} [identityKey] - The identity public key of the peer.\n   * @param {number} [maxWaitTime] - The maximum time in milliseconds to wait for the handshake.\n   * @returns {Promise<PeerSession>} - A promise that resolves with an authenticated `PeerSession`.\n   */\n  async getAuthenticatedSession (\n    identityKey?: string,\n    maxWaitTime?: number\n  ): Promise<PeerSession> {\n    if (this.transport === undefined) {\n      throw new Error('Peer transport is not connected!')\n    }\n\n    let peerSession: PeerSession | undefined\n    if (typeof identityKey === 'string') {\n      peerSession = this.sessionManager.getSession(identityKey)\n    }\n\n    // If that session doesn't exist or isn't authenticated, initiate handshake\n    if ((peerSession == null) || !peerSession.isAuthenticated) {\n      // This will create a brand-new session\n      const sessionNonce = await this.initiateHandshake(identityKey, maxWaitTime)\n      // Now retrieve it by the sessionNonce\n      peerSession = this.sessionManager.getSession(sessionNonce)\n      if ((peerSession == null) || !peerSession.isAuthenticated) {\n        throw new Error('Unable to establish mutual authentication with peer!')\n      }\n    }\n\n    return peerSession\n  }\n\n  /**\n   * Registers a callback to listen for general messages from peers.\n   *\n   * @param {(senderPublicKey: string, payload: number[]) => void} callback - The function to call when a general message is received.\n   * @returns {number} The ID of the callback listener.\n   */\n  listenForGeneralMessages (\n    callback: (senderPublicKey: string, payload: number[]) => void\n  ): number {\n    const callbackID = this.callbackIdCounter++\n    this.onGeneralMessageReceivedCallbacks.set(callbackID, callback)\n    return callbackID\n  }\n\n  /**\n   * Removes a general message listener.\n   *\n   * @param {number} callbackID - The ID of the callback to remove.\n   */\n  stopListeningForGeneralMessages (callbackID: number): void {\n    this.onGeneralMessageReceivedCallbacks.delete(callbackID)\n  }\n\n  /**\n   * Registers a callback to listen for certificates received from peers.\n   *\n   * @param {(senderPublicKey: string, certs: VerifiableCertificate[]) => void} callback - The function to call when certificates are received.\n   * @returns {number} The ID of the callback listener.\n   */\n  listenForCertificatesReceived (\n    callback: (senderPublicKey: string, certs: VerifiableCertificate[]) => void\n  ): number {\n    const callbackID = this.callbackIdCounter++\n    this.onCertificatesReceivedCallbacks.set(callbackID, callback)\n    return callbackID\n  }\n\n  /**\n   * Cancels and unsubscribes a certificatesReceived listener.\n   *\n   * @param {number} callbackID - The ID of the certificates received callback to cancel.\n   */\n  stopListeningForCertificatesReceived (callbackID: number): void {\n    this.onCertificatesReceivedCallbacks.delete(callbackID)\n  }\n\n  /**\n   * Registers a callback to listen for certificates requested from peers.\n   *\n   * @param {(requestedCertificates: RequestedCertificateSet) => void} callback - The function to call when a certificate request is received\n   * @returns {number} The ID of the callback listener.\n   */\n  listenForCertificatesRequested (\n    callback: (\n      senderPublicKey: string,\n      requestedCertificates: RequestedCertificateSet\n    ) => void\n  ): number {\n    const callbackID = this.callbackIdCounter++\n    this.onCertificateRequestReceivedCallbacks.set(callbackID, callback)\n    return callbackID\n  }\n\n  /**\n   * Cancels and unsubscribes a certificatesRequested listener.\n   *\n   * @param {number} callbackID - The ID of the requested certificates callback to cancel.\n   */\n  stopListeningForCertificatesRequested (callbackID: number): void {\n    this.onCertificateRequestReceivedCallbacks.delete(callbackID)\n  }\n\n  /**\n   * Initiates the mutual authentication handshake with a peer.\n   *\n   * @private\n   * @param {string} [identityKey] - The identity public key of the peer.\n   * @param {number} [maxWaitTime=10000] - how long to wait for handshake\n   * @returns {Promise<string>} A promise that resolves to the session nonce.\n   */\n  private async initiateHandshake (\n    identityKey?: string,\n    maxWaitTime = 10000\n  ): Promise<string> {\n    const sessionNonce = await createNonce(this.wallet) // Initial request nonce\n\n    // Create the preliminary session (not yet authenticated)\n    const now = Date.now()\n    this.sessionManager.addSession({\n      isAuthenticated: false,\n      sessionNonce,\n      peerIdentityKey: identityKey,\n      lastUpdate: now\n    })\n\n    const initialRequest: AuthMessage = {\n      version: AUTH_VERSION,\n      messageType: 'initialRequest',\n      identityKey: (await this.wallet.getPublicKey({ identityKey: true }))\n        .publicKey,\n      initialNonce: sessionNonce,\n      requestedCertificates: this.certificatesToRequest\n    }\n\n    await this.transport.send(initialRequest)\n    return await this.waitForInitialResponse(sessionNonce, maxWaitTime)\n  }\n\n  /**\n   * Waits for the initial response from the peer after sending an initial handshake request message.\n   *\n   * @param {string} sessionNonce - The session nonce created in the initial request.\n   * @returns {Promise<string>} A promise that resolves with the session nonce when the initial response is received.\n   */\n  private async waitForInitialResponse (\n    sessionNonce: string,\n    maxWaitTime = 10000\n  ): Promise<string> {\n    return await new Promise((resolve, reject) => {\n      const callbackID = this.listenForInitialResponse(sessionNonce, nonce => {\n        clearTimeout(timeoutHandle)\n        this.stopListeningForInitialResponses(callbackID)\n        resolve(nonce)\n      })\n\n      const timeoutHandle = setTimeout(() => {\n        this.stopListeningForInitialResponses(callbackID)\n        reject(new Error('Initial response timed out.'))\n      }, maxWaitTime)\n    })\n  }\n\n  /**\n   * Adds a listener for an initial response message matching a specific initial nonce.\n   *\n   * @private\n   * @param {string} sessionNonce - The session nonce to match.\n   * @param {(sessionNonce: string) => void} callback - The callback to invoke when the initial response is received.\n   * @returns {number} The ID of the callback listener.\n   */\n  private listenForInitialResponse (\n    sessionNonce: string,\n    callback: (sessionNonce: string) => void\n  ): number {\n    const callbackID = this.callbackIdCounter++\n    this.onInitialResponseReceivedCallbacks.set(callbackID, {\n      callback,\n      sessionNonce\n    })\n    return callbackID\n  }\n\n  /**\n   * Removes a listener for initial responses.\n   *\n   * @private\n   * @param {number} callbackID - The ID of the callback to remove.\n   */\n  private stopListeningForInitialResponses (callbackID: number): void {\n    this.onInitialResponseReceivedCallbacks.delete(callbackID)\n  }\n\n  /**\n   * Handles incoming messages from the transport.\n   *\n   * @param {AuthMessage} message - The incoming message to process.\n   * @returns {Promise<void>}\n   */\n  private async handleIncomingMessage (message: AuthMessage): Promise<void> {\n    if (typeof message.version !== 'string' || message.version !== AUTH_VERSION) {\n      throw new Error(\n        `Invalid or unsupported message auth version! Received: ${message.version}, expected: ${AUTH_VERSION}`\n      )\n    }\n\n    switch (message.messageType) {\n      case 'initialRequest':\n        await this.processInitialRequest(message)\n        break\n      case 'initialResponse':\n        await this.processInitialResponse(message)\n        break\n      case 'certificateRequest':\n        await this.processCertificateRequest(message)\n        break\n      case 'certificateResponse':\n        await this.processCertificateResponse(message)\n        break\n      case 'general':\n        await this.processGeneralMessage(message)\n        break\n      default:\n        throw new Error(\n          `Unknown message type of ${String(message.messageType)} from ${String(\n            message.identityKey\n          )}`\n        )\n    }\n  }\n\n  /**\n   * Processes an initial request message from a peer.\n   *\n   * @param {AuthMessage} message - The incoming initial request message.\n   */\n  private async processInitialRequest (message: AuthMessage): Promise<void> {\n    if (\n      typeof message.identityKey !== 'string' ||\n      typeof message.initialNonce !== 'string' ||\n      message.initialNonce === ''\n    ) {\n      throw new Error('Missing required fields in initialRequest message.')\n    }\n\n    // Create a new sessionNonce for our side\n    const sessionNonce = await createNonce(this.wallet)\n    const now = Date.now()\n\n    // We'll treat this as fully authenticated from *our* perspective (the responding side).\n    this.sessionManager.addSession({\n      isAuthenticated: true,\n      sessionNonce,\n      peerNonce: message.initialNonce,\n      peerIdentityKey: message.identityKey,\n      lastUpdate: now\n    })\n\n    // Possibly handle the peer's requested certs\n    let certificatesToInclude: VerifiableCertificate[] | undefined\n    if (\n      (message.requestedCertificates != null) &&\n      Array.isArray(message.requestedCertificates.certifiers) &&\n      message.requestedCertificates.certifiers.length > 0\n    ) {\n      if (this.onCertificateRequestReceivedCallbacks.size > 0) {\n        // Let the application handle it\n        this.onCertificateRequestReceivedCallbacks.forEach(cb => {\n          cb(message.identityKey, message.requestedCertificates as RequestedCertificateSet)\n        })\n      } else {\n        // Attempt to find automatically\n        certificatesToInclude = await getVerifiableCertificates(\n          this.wallet,\n          message.requestedCertificates,\n          message.identityKey\n        )\n      }\n    }\n\n    // Create signature\n    const { signature } = await this.wallet.createSignature({\n      data: Utils.toArray(message.initialNonce + sessionNonce, 'base64'),\n      protocolID: [2, 'auth message signature'],\n      keyID: `${message.initialNonce} ${sessionNonce}`,\n      counterparty: message.identityKey\n    })\n\n    const initialResponseMessage: AuthMessage = {\n      version: AUTH_VERSION,\n      messageType: 'initialResponse',\n      identityKey: (await this.wallet.getPublicKey({ identityKey: true }))\n        .publicKey,\n      initialNonce: sessionNonce,\n      yourNonce: message.initialNonce,\n      certificates: certificatesToInclude,\n      requestedCertificates: this.certificatesToRequest,\n      signature\n    }\n\n    // If we haven't interacted with a peer yet, store this identity as \"lastInteracted\"\n    if (this.lastInteractedWithPeer === undefined) {\n      this.lastInteractedWithPeer = message.identityKey\n    }\n\n    // Send the response\n    await this.transport.send(initialResponseMessage)\n  }\n\n  /**\n   * Processes an initial response message from a peer.\n   *\n   * @private\n   * @param {AuthMessage} message - The incoming initial response message.\n   * @throws Will throw an error if nonce or signature verification fails.\n   */\n  private async processInitialResponse (message: AuthMessage): Promise<void> {\n    const validNonce = await verifyNonce(message.yourNonce as string, this.wallet)\n    if (!validNonce) {\n      throw new Error(\n        `Initial response nonce verification failed from peer: ${message.identityKey}`\n      )\n    }\n\n    // This is the session we previously created by calling initiateHandshake\n    const peerSession = this.sessionManager.getSession(message.yourNonce as string)\n    if (peerSession == null) {\n      throw new Error(`Peer session not found for peer: ${message.identityKey}`)\n    }\n\n    // Validate message signature\n    const dataToVerify = Utils.toArray(\n      (peerSession.sessionNonce ?? '') + (message.initialNonce ?? ''),\n      'base64'\n    )\n    const { valid } = await this.wallet.verifySignature({\n      data: dataToVerify,\n      signature: message.signature as number[],\n      protocolID: [2, 'auth message signature'],\n      keyID: `${peerSession.sessionNonce ?? ''} ${message.initialNonce ?? ''}`,\n      counterparty: message.identityKey\n    })\n    if (!valid) {\n      throw new Error(\n        `Unable to verify initial response signature for peer: ${message.identityKey}`\n      )\n    }\n\n    // Now mark the session as authenticated\n    peerSession.peerNonce = message.initialNonce\n    peerSession.peerIdentityKey = message.identityKey\n    peerSession.isAuthenticated = true\n    peerSession.lastUpdate = Date.now()\n    this.sessionManager.updateSession(peerSession)\n\n    // If the handshake had requested certificates, validate them\n    if (\n      this.certificatesToRequest?.certifiers?.length > 0 &&\n      message.certificates?.length as number > 0\n    ) {\n      await validateCertificates(this.wallet, message, this.certificatesToRequest)\n\n      // Notify listeners\n      this.onCertificatesReceivedCallbacks.forEach(cb =>\n        cb(message.identityKey, message.certificates as VerifiableCertificate[])\n      )\n    }\n\n    // Update lastInteractedWithPeer\n    this.lastInteractedWithPeer = message.identityKey\n\n    // Let the handshake wait-latch know we got our response\n    this.onInitialResponseReceivedCallbacks.forEach(entry => {\n      if (entry.sessionNonce === peerSession.sessionNonce) {\n        entry.callback(peerSession.sessionNonce)\n      }\n    })\n\n    // The peer might also request certificates from us\n    if (\n      (message.requestedCertificates != null) &&\n      Array.isArray(message.requestedCertificates.certifiers) &&\n      message.requestedCertificates.certifiers.length > 0\n    ) {\n      if (this.onCertificateRequestReceivedCallbacks.size > 0) {\n        // Let the application handle it\n        this.onCertificateRequestReceivedCallbacks.forEach(cb => {\n          cb(message.identityKey, message.requestedCertificates as RequestedCertificateSet)\n        })\n      } else {\n        // Attempt auto\n        const verifiableCertificates = await getVerifiableCertificates(\n          this.wallet,\n          message.requestedCertificates,\n          message.identityKey\n        )\n        await this.sendCertificateResponse(\n          message.identityKey,\n          verifiableCertificates\n        )\n      }\n    }\n  }\n\n  /**\n   * Processes an incoming certificate request message from a peer.\n   * Verifies nonce/signature and then possibly sends a certificateResponse.\n   *\n   * @param {AuthMessage} message - The certificate request message received from the peer.\n   * @throws {Error} if nonce or signature is invalid.\n   */\n  private async processCertificateRequest (message: AuthMessage): Promise<void> {\n    const validNonce = await verifyNonce(message.yourNonce as string, this.wallet)\n    if (!validNonce) {\n      throw new Error(\n        `Unable to verify nonce for certificate request message from: ${message.identityKey}`\n      )\n    }\n    const peerSession = this.sessionManager.getSession(message.yourNonce as string)\n    if (peerSession == null) {\n      throw new Error(`Session not found for nonce: ${message.yourNonce as string}`)\n    }\n\n    const { valid } = await this.wallet.verifySignature({\n      data: Utils.toArray(JSON.stringify(message.requestedCertificates), 'utf8'),\n      signature: message.signature as number[],\n      protocolID: [2, 'auth message signature'],\n      keyID: `${message.nonce ?? ''} ${peerSession.sessionNonce ?? ''}`,\n      counterparty: peerSession.peerIdentityKey\n    })\n    if (!valid) {\n      throw new Error(\n        `Invalid signature in certificate request message from ${peerSession.peerIdentityKey as string}`\n      )\n    }\n\n    // Update usage\n    peerSession.lastUpdate = Date.now()\n    this.sessionManager.updateSession(peerSession)\n\n    if (\n      (message.requestedCertificates != null) &&\n      Array.isArray(message.requestedCertificates.certifiers) &&\n      message.requestedCertificates.certifiers.length > 0\n    ) {\n      if (this.onCertificateRequestReceivedCallbacks.size > 0) {\n        // Let the application handle it\n        this.onCertificateRequestReceivedCallbacks.forEach(cb => {\n          cb(message.identityKey, message.requestedCertificates as RequestedCertificateSet)\n        })\n      } else {\n        // Attempt auto\n        const verifiableCertificates = await getVerifiableCertificates(\n          this.wallet,\n          message.requestedCertificates,\n          message.identityKey\n        )\n        await this.sendCertificateResponse(message.identityKey, verifiableCertificates)\n      }\n    }\n  }\n\n  /**\n   * Sends a certificate response message containing the specified certificates to a peer.\n   *\n   * @param {string} verifierIdentityKey - The identity key of the peer requesting the certificates.\n   * @param {VerifiableCertificate[]} certificates - The list of certificates to include in the response.\n   * @throws Will throw an error if the transport fails to send the message.\n   */\n  async sendCertificateResponse (\n    verifierIdentityKey: string,\n    certificates: VerifiableCertificate[]\n  ): Promise<void> {\n    const peerSession = await this.getAuthenticatedSession(verifierIdentityKey)\n    const requestNonce = Utils.toBase64(Random(32))\n    const { signature } = await this.wallet.createSignature({\n      data: Utils.toArray(JSON.stringify(certificates), 'utf8'),\n      protocolID: [2, 'auth message signature'],\n      keyID: `${requestNonce} ${peerSession.peerNonce ?? ''}`,\n      counterparty: peerSession.peerIdentityKey\n    })\n\n    const certificateResponse: AuthMessage = {\n      version: AUTH_VERSION,\n      messageType: 'certificateResponse',\n      identityKey: (await this.wallet.getPublicKey({ identityKey: true }))\n        .publicKey,\n      nonce: requestNonce,\n      initialNonce: peerSession.sessionNonce,\n      yourNonce: peerSession.peerNonce,\n      certificates,\n      signature\n    }\n\n    // Update usage\n    peerSession.lastUpdate = Date.now()\n    this.sessionManager.updateSession(peerSession)\n\n    try {\n      await this.transport.send(certificateResponse)\n    } catch (error: any) {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      throw new Error(\n        `Failed to send certificate response message to peer ${peerSession.peerIdentityKey ?? 'unknown'\n        }: ${errorMessage}`\n      )\n    }\n  }\n\n  /**\n   * Processes a certificate response message from a peer.\n   *\n   * @private\n   * @param {AuthMessage} message - The incoming certificate response message.\n   * @throws Will throw an error if nonce verification or signature verification fails.\n   */\n  private async processCertificateResponse (message: AuthMessage): Promise<void> {\n    const validNonce = await verifyNonce(message.yourNonce as string, this.wallet)\n    if (!validNonce) {\n      throw new Error(\n        `Unable to verify nonce for certificate response from: ${message.identityKey}`\n      )\n    }\n\n    const peerSession = this.sessionManager.getSession(message.yourNonce as string)\n    if (peerSession == null) {\n      throw new Error(`Session not found for nonce: ${message.yourNonce as string}`)\n    }\n\n    // Validate message signature\n    const { valid } = await this.wallet.verifySignature({\n      data: Utils.toArray(JSON.stringify(message.certificates), 'utf8'),\n      signature: message.signature as number[],\n      protocolID: [2, 'auth message signature'],\n      keyID: `${message.nonce ?? ''} ${peerSession.sessionNonce ?? ''}`,\n      counterparty: message.identityKey\n    })\n    if (!valid) {\n      throw new Error(\n        `Unable to verify certificate response signature for peer: ${message.identityKey}`\n      )\n    }\n\n    // We also handle optional validation if there's a requestedCertificates field\n    await validateCertificates(\n      this.wallet,\n      message,\n      message.requestedCertificates\n    )\n\n    // Notify any listeners\n    this.onCertificatesReceivedCallbacks.forEach(cb => {\n      cb(message.identityKey, message.certificates ?? [])\n    })\n\n    peerSession.lastUpdate = Date.now()\n    this.sessionManager.updateSession(peerSession)\n  }\n\n  /**\n   * Processes a general message from a peer.\n   *\n   * @private\n   * @param {AuthMessage} message - The incoming general message.\n   * @throws Will throw an error if nonce or signature verification fails.\n   */\n  private async processGeneralMessage (message: AuthMessage): Promise<void> {\n    const validNonce = await verifyNonce(message.yourNonce as string, this.wallet)\n    if (!validNonce) {\n      throw new Error(\n        `Unable to verify nonce for general message from: ${message.identityKey}`\n      )\n    }\n\n    const peerSession = this.sessionManager.getSession(message.yourNonce as string)\n    if (peerSession == null) {\n      throw new Error(`Session not found for nonce: ${message.yourNonce as string}`)\n    }\n\n    const { valid } = await this.wallet.verifySignature({\n      data: message.payload,\n      signature: message.signature as number[],\n      protocolID: [2, 'auth message signature'],\n      keyID: `${message.nonce ?? ''} ${peerSession.sessionNonce ?? ''}`,\n      counterparty: peerSession.peerIdentityKey\n    })\n    if (!valid) {\n      throw new Error(\n        `Invalid signature in generalMessage from ${peerSession.peerIdentityKey as string}`\n      )\n    }\n\n    // Mark last usage\n    peerSession.lastUpdate = Date.now()\n    this.sessionManager.updateSession(peerSession)\n\n    // Update lastInteractedWithPeer\n    this.lastInteractedWithPeer = message.identityKey\n\n    // Dispatch callbacks\n    this.onGeneralMessageReceivedCallbacks.forEach(cb => {\n      cb(message.identityKey, message.payload ?? [])\n    })\n  }\n}\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/server/index.ts","import { sha256 } from '../primitives/Hash.js'\nimport { toHex, fromBase58Check, toBase58Check, toArray } from '../primitives/utils.js'\n\n/**\n * Takes a UHRP URL and removes any prefixes.\n * @param {string} URL - The UHRP URL.\n * @returns {string} - Normalized URL.\n */\nexport const normalizeURL = (URL: string): string => {\n  if (URL.toLowerCase().startsWith('uhrp:')) URL = URL.slice(5)\n  if (URL.startsWith('//')) URL = URL.slice(2)\n  return URL\n}\n\n/**\n * Generates a UHRP URL from a given SHA-256 hash.\n * @param {number[]} hash - 32-byte SHA-256 hash.\n * @returns {string} - Base58Check encoded URL.\n */\nexport const getURLForHash = (hash: number[]): string => {\n  if (hash.length !== 32) {\n    throw new Error('Hash length must be 32 bytes (sha256)')\n  }\n  return toBase58Check(hash, toArray('ce00', 'hex'))\n}\n\n/**\n * Generates a UHRP URL for a given file.\n * @param {number[] | string} file - File content as number array or string.\n * @returns {string} - Base58Check encoded URL.\n */\nexport const getURLForFile = (file: number[]): string => {\n  const hash = sha256(file)\n  return getURLForHash(hash)\n}\n\n/**\n * Extracts the hash from a UHRP URL.\n * @param {string} URL - UHRP URL.\n * @returns {number[]} - Extracted SHA-256 hash.\n */\nexport const getHashFromURL = (URL: string): number[] => {\n  URL = normalizeURL(URL)\n  const { data, prefix } = fromBase58Check(URL, undefined, 2)\n  if (data.length !== 32) {\n    throw new Error('Invalid length!')\n  }\n  if (toHex(prefix as number[]) !== 'ce00') {\n    throw new Error('Bad prefix')\n  }\n  return data as number[]\n}\n\n/**\n * Checks if a URL is a valid UHRP URL.\n * @param {string} URL - The URL to validate.\n * @returns {boolean} - True if valid, false otherwise.\n */\nexport const isValidURL = (URL: string): boolean => {\n  try {\n    getHashFromURL(URL)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n","import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n","import { parseDef } from \"./parseDef.js\";\nimport { getRefs } from \"./Refs.js\";\nconst zodToJsonSchema = (schema, options) => {\n    const refs = getRefs(options);\n    const definitions = typeof options === \"object\" && options.definitions\n        ? Object.entries(options.definitions).reduce((acc, [name, schema]) => ({\n            ...acc,\n            [name]: parseDef(schema._def, {\n                ...refs,\n                currentPath: [...refs.basePath, refs.definitionPath, name],\n            }, true) ?? {},\n        }), {})\n        : undefined;\n    const name = typeof options === \"string\"\n        ? options\n        : options?.nameStrategy === \"title\"\n            ? undefined\n            : options?.name;\n    const main = parseDef(schema._def, name === undefined\n        ? refs\n        : {\n            ...refs,\n            currentPath: [...refs.basePath, refs.definitionPath, name],\n        }, false) ?? {};\n    const title = typeof options === \"object\" &&\n        options.name !== undefined &&\n        options.nameStrategy === \"title\"\n        ? options.name\n        : undefined;\n    if (title !== undefined) {\n        main.title = title;\n    }\n    const combined = name === undefined\n        ? definitions\n            ? {\n                ...main,\n                [refs.definitionPath]: definitions,\n            }\n            : main\n        : {\n            $ref: [\n                ...(refs.$refStrategy === \"relative\" ? [] : refs.basePath),\n                refs.definitionPath,\n                name,\n            ].join(\"/\"),\n            [refs.definitionPath]: {\n                ...definitions,\n                [name]: main,\n            },\n        };\n    if (refs.target === \"jsonSchema7\") {\n        combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n    }\n    else if (refs.target === \"jsonSchema2019-09\" || refs.target === \"openAi\") {\n        combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n    }\n    if (refs.target === \"openAi\" &&\n        (\"anyOf\" in combined ||\n            \"oneOf\" in combined ||\n            \"allOf\" in combined ||\n            (\"type\" in combined && Array.isArray(combined.type)))) {\n        console.warn(\"Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.\");\n    }\n    return combined;\n};\nexport { zodToJsonSchema };\n","import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/server/completable.ts","import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n","import { parseDef } from \"../parseDef.js\";\nimport { parseRecordDef } from \"./record.js\";\nexport function parseMapDef(def, refs) {\n    if (refs.mapStrategy === \"record\") {\n        return parseRecordDef(def, refs);\n    }\n    const keys = parseDef(def.keyType._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"items\", \"items\", \"0\"],\n    }) || {};\n    const values = parseDef(def.valueType._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"items\", \"items\", \"1\"],\n    }) || {};\n    return {\n        type: \"array\",\n        maxItems: 125,\n        items: {\n            type: \"array\",\n            items: [keys, values],\n            minItems: 2,\n            maxItems: 2,\n        },\n    };\n}\n","import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n","import { parseDef } from \"../parseDef.js\";\nimport { primitiveMappings } from \"./union.js\";\nexport function parseNullableDef(def, refs) {\n    if ([\"ZodString\", \"ZodNumber\", \"ZodBigInt\", \"ZodBoolean\", \"ZodNull\"].includes(def.innerType._def.typeName) &&\n        (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n        if (refs.target === \"openApi3\") {\n            return {\n                type: primitiveMappings[def.innerType._def.typeName],\n                nullable: true,\n            };\n        }\n        return {\n            type: [\n                primitiveMappings[def.innerType._def.typeName],\n                \"null\",\n            ],\n        };\n    }\n    if (refs.target === \"openApi3\") {\n        const base = parseDef(def.innerType._def, {\n            ...refs,\n            currentPath: [...refs.currentPath],\n        });\n        if (base && \"$ref\" in base)\n            return { allOf: [base], nullable: true };\n        return base && { ...base, nullable: true };\n    }\n    const base = parseDef(def.innerType._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"anyOf\", \"0\"],\n    });\n    return base && { anyOf: [base, { type: \"null\" }] };\n}\n","import { ZodOptional } from \"zod\";\nimport { parseDef } from \"../parseDef.js\";\nexport function parseObjectDef(def, refs) {\n    const forceOptionalIntoNullable = refs.target === \"openAi\";\n    const result = {\n        type: \"object\",\n        properties: {},\n    };\n    const required = [];\n    const shape = def.shape();\n    for (const propName in shape) {\n        let propDef = shape[propName];\n        if (propDef === undefined || propDef._def === undefined) {\n            continue;\n        }\n        let propOptional = safeIsOptional(propDef);\n        if (propOptional && forceOptionalIntoNullable) {\n            if (propDef instanceof ZodOptional) {\n                propDef = propDef._def.innerType;\n            }\n            if (!propDef.isNullable()) {\n                propDef = propDef.nullable();\n            }\n            propOptional = false;\n        }\n        const parsedDef = parseDef(propDef._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"properties\", propName],\n            propertyPath: [...refs.currentPath, \"properties\", propName],\n        });\n        if (parsedDef === undefined) {\n            continue;\n        }\n        result.properties[propName] = parsedDef;\n        if (!propOptional) {\n            required.push(propName);\n        }\n    }\n    if (required.length) {\n        result.required = required;\n    }\n    const additionalProperties = decideAdditionalProperties(def, refs);\n    if (additionalProperties !== undefined) {\n        result.additionalProperties = additionalProperties;\n    }\n    return result;\n}\nfunction decideAdditionalProperties(def, refs) {\n    if (def.catchall._def.typeName !== \"ZodNever\") {\n        return parseDef(def.catchall._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"additionalProperties\"],\n        });\n    }\n    switch (def.unknownKeys) {\n        case \"passthrough\":\n            return refs.allowedAdditionalProperties;\n        case \"strict\":\n            return refs.rejectedAdditionalProperties;\n        case \"strip\":\n            return refs.removeAdditionalStrategy === \"strict\"\n                ? refs.allowedAdditionalProperties\n                : refs.rejectedAdditionalProperties;\n    }\n}\nfunction safeIsOptional(schema) {\n    try {\n        return schema.isOptional();\n    }\n    catch {\n        return true;\n    }\n}\n","import { setResponseValueAndErrors } from \"../errorMessages.js\";\nimport { parseDef } from \"../parseDef.js\";\nexport function parseSetDef(def, refs) {\n    const items = parseDef(def.valueType._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"items\"],\n    });\n    const schema = {\n        type: \"array\",\n        uniqueItems: true,\n        items,\n    };\n    if (def.minSize) {\n        setResponseValueAndErrors(schema, \"minItems\", def.minSize.value, def.minSize.message, refs);\n    }\n    if (def.maxSize) {\n        setResponseValueAndErrors(schema, \"maxItems\", def.maxSize.value, def.maxSize.message, refs);\n    }\n    return schema;\n}\n","import { ignoreOverride } from \"./Options.js\";\nimport { selectParser } from \"./selectParser.js\";\nexport function parseDef(def, refs, forceResolution = false) {\n    const seenItem = refs.seen.get(def);\n    if (refs.override) {\n        const overrideResult = refs.override?.(def, refs, seenItem, forceResolution);\n        if (overrideResult !== ignoreOverride) {\n            return overrideResult;\n        }\n    }\n    if (seenItem && !forceResolution) {\n        const seenSchema = get$ref(seenItem, refs);\n        if (seenSchema !== undefined) {\n            return seenSchema;\n        }\n    }\n    const newItem = { def, path: refs.currentPath, jsonSchema: undefined };\n    refs.seen.set(def, newItem);\n    const jsonSchemaOrGetter = selectParser(def, def.typeName, refs);\n    // If the return was a function, then the inner definition needs to be extracted before a call to parseDef (recursive)\n    const jsonSchema = typeof jsonSchemaOrGetter === \"function\"\n        ? parseDef(jsonSchemaOrGetter(), refs)\n        : jsonSchemaOrGetter;\n    if (jsonSchema) {\n        addMeta(def, refs, jsonSchema);\n    }\n    if (refs.postProcess) {\n        const postProcessResult = refs.postProcess(jsonSchema, def, refs);\n        newItem.jsonSchema = jsonSchema;\n        return postProcessResult;\n    }\n    newItem.jsonSchema = jsonSchema;\n    return jsonSchema;\n}\nconst get$ref = (item, refs) => {\n    switch (refs.$refStrategy) {\n        case \"root\":\n            return { $ref: item.path.join(\"/\") };\n        case \"relative\":\n            return { $ref: getRelativePath(refs.currentPath, item.path) };\n        case \"none\":\n        case \"seen\": {\n            if (item.path.length < refs.currentPath.length &&\n                item.path.every((value, index) => refs.currentPath[index] === value)) {\n                console.warn(`Recursive reference detected at ${refs.currentPath.join(\"/\")}! Defaulting to any`);\n                return {};\n            }\n            return refs.$refStrategy === \"seen\" ? {} : undefined;\n        }\n    }\n};\nconst getRelativePath = (pathA, pathB) => {\n    let i = 0;\n    for (; i < pathA.length && i < pathB.length; i++) {\n        if (pathA[i] !== pathB[i])\n            break;\n    }\n    return [(pathA.length - i).toString(), ...pathB.slice(i)].join(\"/\");\n};\nconst addMeta = (def, refs, jsonSchema) => {\n    if (def.description) {\n        jsonSchema.description = def.description;\n        if (refs.markdownDescription) {\n            jsonSchema.markdownDescription = def.description;\n        }\n    }\n    return jsonSchema;\n};\n","import {\n  WalletInterface,\n  CreateActionArgs,\n  OriginatorDomainNameStringUnder250Bytes,\n  CreateActionResult,\n  BooleanDefaultTrue,\n  AcquireCertificateArgs,\n  AcquireCertificateResult,\n  Base64String,\n  BasketStringUnder300Bytes,\n  BooleanDefaultFalse,\n  Byte,\n  CertificateFieldNameUnder50Bytes,\n  DescriptionString5to50Bytes,\n  DiscoverCertificatesResult,\n  HexString,\n  InternalizeActionArgs,\n  ISOTimestampString,\n  KeyIDStringUnder800Bytes,\n  ListActionsArgs,\n  ListActionsResult,\n  ListCertificatesResult,\n  ListOutputsArgs,\n  ListOutputsResult,\n  OutpointString,\n  PositiveInteger,\n  PositiveIntegerDefault10Max10000,\n  PositiveIntegerOrZero,\n  ProtocolString5To400Bytes,\n  ProveCertificateArgs,\n  ProveCertificateResult,\n  PubKeyHex,\n  SecurityLevel,\n  SignActionArgs,\n  SignActionResult,\n  VersionString7To30Bytes,\n} from '../Wallet.interfaces.js'\nimport { WERR_REVIEW_ACTIONS } from '../WERR_REVIEW_ACTIONS.js'\n\nexport default class HTTPWalletJSON implements WalletInterface {\n  baseUrl: string\n  httpClient: typeof fetch\n  originator: OriginatorDomainNameStringUnder250Bytes | undefined\n  api: (call: string, args: object) => Promise<unknown> // Fixed `any` types\n\n  constructor(\n    originator: OriginatorDomainNameStringUnder250Bytes | undefined,\n    baseUrl: string = 'http://localhost:3321',\n    httpClient = fetch\n  ) {\n    this.baseUrl = baseUrl\n    this.originator = originator\n    this.httpClient = httpClient\n\n    this.api = async (call: string, args: object) => {\n      const res = await (\n        await httpClient(`${this.baseUrl}/${call}`, {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Originator: this.originator ?? ''\n          },\n          body: JSON.stringify(args)\n        })\n      )\n\n      const data = await res.json()\n\n      // Check the HTTP status on the original response\n      if (!res.ok) {\n        if (res.status === 400 && data.isError && data.code === 5) {\n          const err = new WERR_REVIEW_ACTIONS(data.reviewActionResults, data.sendWithResults, data.txid, data.tx, data.noSendChange)\n          throw err\n        } else {\n          const err = {\n            call,\n            args,\n            message: data.message ?? `HTTP Client error ${res.status}`\n          }\n          throw new Error(JSON.stringify(err))\n        }\n      }\n      return data\n    }\n  }\n\n  async createAction(args: CreateActionArgs): Promise<CreateActionResult> {\n    return await this.api('createAction', args) as CreateActionResult\n  }\n\n  async signAction(args: SignActionArgs): Promise<SignActionResult> {\n    return await this.api('signAction', args) as SignActionResult\n  }\n\n  async abortAction(args: {\n    reference: Base64String\n  }): Promise<{ aborted: true }> {\n    return await this.api('abortAction', args) as { aborted: true }\n  }\n\n  async listActions(args: ListActionsArgs): Promise<ListActionsResult> {\n    return await this.api('listActions', args) as ListActionsResult\n  }\n\n  async internalizeAction(\n    args: InternalizeActionArgs\n  ): Promise<{ accepted: true }> {\n    return await this.api('internalizeAction', args) as { accepted: true }\n  }\n\n  async listOutputs(args: ListOutputsArgs): Promise<ListOutputsResult> {\n    return await this.api('listOutputs', args) as ListOutputsResult\n  }\n\n  async relinquishOutput(args: {\n    basket: BasketStringUnder300Bytes\n    output: OutpointString\n  }): Promise<{ relinquished: true }> {\n    return await this.api('relinquishOutput', args) as { relinquished: true }\n  }\n\n  async getPublicKey(args: {\n    seekPermission?: BooleanDefaultTrue\n    identityKey?: true\n    protocolID?: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID?: KeyIDStringUnder800Bytes\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n  }): Promise<{ publicKey: PubKeyHex }> {\n    return await this.api('getPublicKey', args) as { publicKey: PubKeyHex }\n  }\n\n  async revealCounterpartyKeyLinkage(args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    revelationTime: ISOTimestampString\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: number[]\n  }> {\n    return await this.api('revealCounterpartyKeyLinkage', args) as {\n      prover: PubKeyHex\n      verifier: PubKeyHex\n      counterparty: PubKeyHex\n      revelationTime: ISOTimestampString\n      encryptedLinkage: Byte[]\n      encryptedLinkageProof: number[]\n    }\n  }\n\n  async revealSpecificKeyLinkage(args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n    proofType: Byte\n  }> {\n    return await this.api('revealSpecificKeyLinkage', args) as {\n      prover: PubKeyHex\n      verifier: PubKeyHex\n      counterparty: PubKeyHex\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      encryptedLinkage: Byte[]\n      encryptedLinkageProof: Byte[]\n      proofType: Byte\n    }\n  }\n\n  async encrypt(args: {\n    seekPermission?: BooleanDefaultTrue\n    plaintext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ ciphertext: Byte[] }> {\n    return await this.api('encrypt', args) as { ciphertext: Byte[] }\n  }\n\n  async decrypt(args: {\n    seekPermission?: BooleanDefaultTrue\n    ciphertext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ plaintext: Byte[] }> {\n    return await this.api('decrypt', args) as { plaintext: Byte[] }\n  }\n\n  async createHmac(args: {\n    seekPermission?: BooleanDefaultTrue\n    data: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ hmac: Byte[] }> {\n    return await this.api('createHmac', args) as { hmac: Byte[] }\n  }\n\n  async verifyHmac(args: {\n    seekPermission?: BooleanDefaultTrue\n    data: Byte[]\n    hmac: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    return await this.api('verifyHmac', args) as { valid: true }\n  }\n\n  async createSignature(args: {\n    seekPermission?: BooleanDefaultTrue\n    data?: Byte[]\n    hashToDirectlySign?: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ signature: Byte[] }> {\n    return await this.api('createSignature', args) as { signature: Byte[] }\n  }\n\n  async verifySignature(args: {\n    seekPermission?: BooleanDefaultTrue\n    data?: Byte[]\n    hashToDirectlyVerify?: Byte[]\n    signature: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    return await this.api('verifySignature', args) as { valid: true }\n  }\n\n  async acquireCertificate(\n    args: AcquireCertificateArgs\n  ): Promise<AcquireCertificateResult> {\n    return await this.api('acquireCertificate', args) as AcquireCertificateResult\n  }\n\n  async listCertificates(args: {\n    certifiers: PubKeyHex[]\n    types: Base64String[]\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n  }): Promise<ListCertificatesResult> {\n    return await this.api('listCertificates', args) as ListCertificatesResult\n  }\n\n  async proveCertificate(\n    args: ProveCertificateArgs\n  ): Promise<ProveCertificateResult> {\n    return await this.api('proveCertificate', args) as ProveCertificateResult\n  }\n\n  async relinquishCertificate(args: {\n    type: Base64String\n    serialNumber: Base64String\n    certifier: PubKeyHex\n  }): Promise<{ relinquished: true }> {\n    return await this.api('relinquishCertificate', args) as { relinquished: true }\n  }\n\n  async discoverByIdentityKey(args: {\n    seekPermission?: BooleanDefaultTrue\n    identityKey: PubKeyHex\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<DiscoverCertificatesResult> {\n    return await this.api('discoverByIdentityKey', args) as DiscoverCertificatesResult\n  }\n\n  async discoverByAttributes(args: {\n    seekPermission?: BooleanDefaultTrue\n    attributes: Record<CertificateFieldNameUnder50Bytes, string>\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<DiscoverCertificatesResult> {\n    return await this.api('discoverByAttributes', args) as DiscoverCertificatesResult\n  }\n\n  async isAuthenticated(args: object): Promise<{ authenticated: true }> {\n    return await this.api('isAuthenticated', args) as { authenticated: true }\n  }\n\n  async waitForAuthentication(args: object): Promise<{ authenticated: true }> {\n    return await this.api('waitForAuthentication', args) as { authenticated: true }\n  }\n\n  async getHeight(args: object): Promise<{ height: PositiveInteger }> {\n    return await this.api('getHeight', args) as { height: PositiveInteger }\n  }\n\n  async getHeaderForHeight(args: {\n    height: PositiveInteger\n  }): Promise<{ header: HexString }> {\n    return await this.api('getHeaderForHeight', args) as { header: HexString }\n  }\n\n  async getNetwork(args: object): Promise<{ network: 'mainnet' | 'testnet' }> {\n    return await this.api('getNetwork', args) as { network: 'mainnet' | 'testnet' }\n  }\n\n  async getVersion(args: object): Promise<{ version: VersionString7To30Bytes }> {\n    return await this.api('getVersion', args) as { version: VersionString7To30Bytes }\n  }\n}\n","import z3 from \"./v3/index.js\";\nexport * from \"./v3/index.js\";\nexport default z3;\n","import z3 from \"./v3/index.js\";\nexport * from \"./v3/index.js\";\nexport default z3;\n","export class WalletError extends Error {\n  code: number\n  isError: boolean = true\n\n  constructor (message: string, code = 1, stack?: string) {\n    super(message)\n    this.code = code\n    this.name = this.constructor.name\n\n    if (stack !== undefined && stack !== null && stack !== '') {\n      this.stack = stack\n    } else {\n      Error.captureStackTrace(this, this.constructor)\n    }\n  }\n}\n\n// NOTE: Enum values must not exceed the UInt8 range (0255)\nexport enum walletErrors {\n  unknownError = 1,\n  unsupportedAction = 2,\n  invalidHmac = 3,\n  invalidSignature = 4,\n  reviewActions = 5,\n}\n\nexport type WalletErrorCode = keyof typeof walletErrors\n\nexport default WalletError\n","export * from './Wallet.interfaces.js'\nexport * from './KeyDeriver.js'\nexport { default as CachedKeyDeriver } from './CachedKeyDeriver.js'\nexport { default as ProtoWallet } from './ProtoWallet.js'\nexport { default as WalletClient } from './WalletClient.js'\n// Is this an error? should it be 'walletErrors', the enum not the class?\nexport { default as WalletErrors } from './WalletError.js'\nexport { default as WERR_REVIEW_ACTIONS } from './WERR_REVIEW_ACTIONS.js'\nexport * from './WalletError.js'\nexport * from './substrates/index.js'\n","import PublicKey from '../primitives/PublicKey.js'\nimport PrivateKey from '../primitives/PrivateKey.js'\nimport SymmetricKey from '../primitives/SymmetricKey.js'\nimport Random from '../primitives/Random.js'\nimport { toBase64, toArray, Reader, toHex } from '../primitives/utils.js'\n\nconst VERSION = '42421033'\n\n/**\n * Encrypts a message from one party to another using the BRC-78 message encryption protocol.\n * @param message The message to encrypt\n * @param sender The private key of the sender\n * @param recipient The public key of the recipient\n *\n * @returns The encrypted message\n */\nexport const encrypt = (\n  message: number[],\n  sender: PrivateKey,\n  recipient: PublicKey\n): number[] => {\n  const keyID = Random(32)\n  const keyIDBase64 = toBase64(keyID)\n  const invoiceNumber = `2-message encryption-${keyIDBase64}`\n  const signingPriv = sender.deriveChild(recipient, invoiceNumber)\n  const recipientPub = recipient.deriveChild(sender, invoiceNumber)\n  const sharedSecret = signingPriv.deriveSharedSecret(recipientPub)\n  const symmetricKey = new SymmetricKey(sharedSecret.encode(true).slice(1))\n  const encrypted = symmetricKey.encrypt(message) as number[]\n  const senderPublicKey = sender.toPublicKey().encode(true)\n  const version = toArray(VERSION, 'hex')\n  return [\n    ...version,\n    ...senderPublicKey,\n    ...recipient.encode(true),\n    ...keyID,\n    ...encrypted\n  ]\n}\n\n/**\n * Decrypts a message from one party to another using the BRC-78 message encryption protocol.\n * @param message The message to decrypt\n * @param sender The private key of the recipient\n *\n * @returns The decrypted message\n */\nexport const decrypt = (message: number[], recipient: PrivateKey): number[] => {\n  const reader = new Reader(message)\n  const messageVersion = toHex(reader.read(4))\n  if (messageVersion !== VERSION) {\n    throw new Error(\n      `Message version mismatch: Expected ${VERSION}, received ${messageVersion}`\n    )\n  }\n  const sender = PublicKey.fromString(toHex(reader.read(33)))\n  const expectedRecipientDER = toHex(reader.read(33))\n  const actualRecipientDER = recipient\n    .toPublicKey()\n    .encode(true, 'hex') as string\n  if (expectedRecipientDER !== actualRecipientDER) {\n    throw new Error(\n      `The encrypted message expects a recipient public key of ${expectedRecipientDER}, but the provided key is ${actualRecipientDER}`\n    )\n  }\n  const keyID = toBase64(reader.read(32))\n  const encrypted = reader.read(reader.bin.length - reader.pos)\n  const invoiceNumber = `2-message encryption-${keyID}`\n  const signingPriv = sender.deriveChild(recipient, invoiceNumber)\n  const recipientPub = recipient.deriveChild(sender, invoiceNumber)\n  const sharedSecret = signingPriv.deriveSharedSecret(recipientPub)\n  const symmetricKey = new SymmetricKey(sharedSecret.encode(true).slice(1))\n  return symmetricKey.decrypt(encrypted) as number[]\n}\n","export * from './LookupResolver.js'\nexport * from './SHIPBroadcaster.js'\nexport { default as OverlayAdminTokenTemplate } from './OverlayAdminTokenTemplate.js'\nexport { default as LookupResolver } from './LookupResolver.js'\n\n// For intuitive clarity, we name this the Topic Broadcaster.\nexport { default as TopicBroadcaster } from './SHIPBroadcaster.js'\n// Historically, it was also known by two other names:\nexport { default as SHIPBroadcaster } from './SHIPBroadcaster.js'\nexport { default as SHIPCast } from './SHIPBroadcaster.js'\n","import { createMcpHandler } from \"mcp-handler\";\nimport { PrivateKey } from \"@bsv/sdk\";\n\n// This Next.js route wraps the BSV MCP server for Vercel deployment\n// Tools are registered dynamically based on available keys and config\n\nconst handler = createMcpHandler(\n  async (server) => {\n    // Get keys from environment\n    const payPkWif = process.env.PRIVATE_KEY_WIF;\n    const identityPkWif = process.env.IDENTITY_KEY_WIF;\n\n    let payPk: PrivateKey | undefined;\n    let identityPk: PrivateKey | undefined;\n\n    try {\n      if (payPkWif) payPk = PrivateKey.fromWif(payPkWif);\n    } catch (e) {\n      console.error(\"Invalid PRIVATE_KEY_WIF\");\n    }\n\n    try {\n      if (identityPkWif) identityPk = PrivateKey.fromWif(identityPkWif);\n    } catch (e) {\n      console.error(\"Invalid IDENTITY_KEY_WIF\");\n    }\n\n    // Import and register tool categories\n    // Note: This is a simplified version - full tool registration would import from ../../tools/\n    // For now, we'll add a basic set of tools to get started\n\n    server.tool(\n      \"help\",\n      \"Show help information about BSV MCP Server\",\n      {},\n      async () => ({\n        content: [{\n          type: \"text\",\n          text: `BSV MCP Server - Vercel Deployment\n\nAvailable tool categories will be registered based on environment configuration.\n\nStatus:\n- Payment Key: ${payPk ? \" Configured\" : \" Not configured\"}\n- Identity Key: ${identityPk ? \" Configured\" : \" Not configured\"}\n\nTo enable full functionality, set environment variables:\n- PRIVATE_KEY_WIF: Payment operations\n- IDENTITY_KEY_WIF: BAP identity operations\n- ENABLE_OAUTH: OAuth 2.1 authentication (default: true)\n- OAUTH_ISSUER: Authorization server URL`\n        }]\n      })\n    );\n\n    // Basic info tool\n    server.tool(\n      \"server_info\",\n      \"Get server configuration and status\",\n      {},\n      async () => ({\n        content: [{\n          type: \"text\",\n          text: JSON.stringify({\n            version: \"0.2.0-alpha.1\",\n            transport: \"http\",\n            oauth_enabled: process.env.ENABLE_OAUTH !== \"false\",\n            oauth_issuer: process.env.OAUTH_ISSUER || \"https://auth.sigmaidentity.com\",\n            capabilities: {\n              wallet: !!payPk,\n              identity: !!identityPk,\n            }\n          }, null, 2)\n        }]\n      })\n    );\n\n    console.log(\"BSV MCP Server initialized for Vercel\");\n    console.log(`Payment key: ${payPk ? \"present\" : \"missing\"}`);\n    console.log(`Identity key: ${identityPk ? \"present\" : \"missing\"}`);\n  },\n  {\n    capabilities: {\n      tools: {},\n    },\n  },\n  {\n    basePath: \"/api\",\n    verboseLogs: true,\n    maxDuration: 300, // 5 minutes for Pro accounts\n    disableSse: false, // Enable SSE for streaming\n  },\n);\n\nexport { handler as GET, handler as POST, handler as DELETE };\n","import { __async, __spreadProps, __spreadValues, __objRest } from './chunk-FF57VHLH.mjs';\nimport { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';\nimport { SSEServerTransport } from '@modelcontextprotocol/sdk/server/sse.js';\nimport { ServerResponse, IncomingMessage } from 'http';\nimport { createClient } from 'redis';\nimport { Socket } from 'net';\nimport { Readable } from 'stream';\nimport { StreamableHTTPServerTransport } from '@modelcontextprotocol/sdk/server/streamableHttp.js';\nimport assert from 'assert';\nimport { AsyncLocalStorage } from 'async_hooks';\nimport { EventEmitter } from 'events';\nimport { InvalidTokenError, InsufficientScopeError, ServerError } from '@modelcontextprotocol/sdk/server/auth/errors.js';\n\n// src/lib/log-helper.ts\nfunction createEvent(event) {\n  return __spreadProps(__spreadValues({}, event), {\n    timestamp: Date.now()\n  });\n}\n\n// src/lib/event-emitter.ts\nvar EventEmittingResponse = class extends ServerResponse {\n  constructor(req, onEvent, sessionId) {\n    super(req);\n    this.onEvent = onEvent;\n    this.sessionId = sessionId;\n    this.requestId = crypto.randomUUID();\n    this.startTime = Date.now();\n  }\n  emitEvent(event) {\n    if (this.onEvent) {\n      this.onEvent(\n        createEvent(__spreadProps(__spreadValues({}, event), {\n          sessionId: this.sessionId,\n          requestId: this.requestId\n        }))\n      );\n    }\n  }\n  startSession(transport, clientInfo) {\n    this.emitEvent({\n      type: \"SESSION_STARTED\",\n      transport,\n      clientInfo\n    });\n  }\n  endSession(transport) {\n    this.emitEvent({\n      type: \"SESSION_ENDED\",\n      transport\n    });\n  }\n  requestReceived(method, parameters) {\n    this.emitEvent({\n      type: \"REQUEST_RECEIVED\",\n      method,\n      parameters,\n      status: \"success\"\n    });\n  }\n  requestCompleted(method, result, error) {\n    this.emitEvent({\n      type: \"REQUEST_COMPLETED\",\n      method,\n      result,\n      duration: Date.now() - this.startTime,\n      status: error ? \"error\" : \"success\"\n    });\n    if (error) {\n      this.error(error, `Error executing request ${method}`, \"request\");\n    }\n  }\n  error(error, context, source = \"system\", severity = \"error\") {\n    this.emitEvent({\n      type: \"ERROR\",\n      error,\n      context,\n      source,\n      severity\n    });\n  }\n  end(chunk, encoding, cb) {\n    let finalChunk = chunk;\n    let finalEncoding = encoding;\n    let finalCallback = cb;\n    if (typeof chunk === \"function\") {\n      finalCallback = chunk;\n      finalChunk = void 0;\n      finalEncoding = void 0;\n    } else if (typeof encoding === \"function\") {\n      finalCallback = encoding;\n      finalEncoding = void 0;\n    }\n    return super.end(\n      finalChunk,\n      finalEncoding,\n      finalCallback\n    );\n  }\n};\nvar authContext = new AsyncLocalStorage();\nfunction getAuthContext() {\n  return authContext.getStore();\n}\nfunction withAuthContext(authInfo, callback) {\n  return authContext.run(authInfo, callback);\n}\n\n// src/handler/mcp-api-handler.ts\nfunction createLogger(verboseLogs = false) {\n  return {\n    log: (...args) => {\n      if (verboseLogs)\n        console.log(...args);\n    },\n    error: (...args) => {\n      if (verboseLogs)\n        console.error(...args);\n    },\n    warn: (...args) => {\n      if (verboseLogs)\n        console.warn(...args);\n    },\n    info: (...args) => {\n      if (verboseLogs)\n        console.info(...args);\n    },\n    debug: (...args) => {\n      if (verboseLogs)\n        console.debug(...args);\n    }\n  };\n}\nfunction deriveEndpointsFromBasePath(basePath) {\n  const normalizedBasePath = basePath.replace(/\\/$/, \"\");\n  return {\n    streamableHttpEndpoint: `${normalizedBasePath}/mcp`,\n    sseEndpoint: `${normalizedBasePath}/sse`,\n    sseMessageEndpoint: `${normalizedBasePath}/message`\n  };\n}\nfunction calculateEndpoints({\n  basePath,\n  streamableHttpEndpoint = \"/mcp\",\n  sseEndpoint = \"/sse\",\n  sseMessageEndpoint = \"/message\"\n}) {\n  const {\n    streamableHttpEndpoint: fullStreamableHttpEndpoint,\n    sseEndpoint: fullSseEndpoint,\n    sseMessageEndpoint: fullSseMessageEndpoint\n  } = basePath != null ? deriveEndpointsFromBasePath(basePath) : {\n    streamableHttpEndpoint,\n    sseEndpoint,\n    sseMessageEndpoint\n  };\n  return {\n    streamableHttpEndpoint: fullStreamableHttpEndpoint,\n    sseEndpoint: fullSseEndpoint,\n    sseMessageEndpoint: fullSseMessageEndpoint\n  };\n}\nvar redisPublisher;\nvar redis;\nvar serverMetadata = /* @__PURE__ */ new WeakMap();\nvar cleanupInterval = null;\nfunction initializeRedis(_0) {\n  return __async(this, arguments, function* ({\n    redisUrl,\n    logger\n  }) {\n    if (redis && redisPublisher) {\n      return { redis, redisPublisher };\n    }\n    if (!redisUrl) {\n      throw new Error(\"redisUrl is required\");\n    }\n    redis = createClient({\n      url: redisUrl\n    });\n    redisPublisher = createClient({\n      url: redisUrl\n    });\n    redis.on(\"error\", (err) => {\n      logger.error(\"Redis error\", err);\n    });\n    redisPublisher.on(\"error\", (err) => {\n      logger.error(\"Redis error\", err);\n    });\n    yield Promise.all([redis.connect(), redisPublisher.connect()]);\n    return { redis, redisPublisher };\n  });\n}\nfunction initializeMcpApiHandler(initializeServer, serverOptions = {}, config = {\n  redisUrl: process.env.REDIS_URL || process.env.KV_URL,\n  streamableHttpEndpoint: \"/mcp\",\n  sseEndpoint: \"/sse\",\n  sseMessageEndpoint: \"/message\",\n  basePath: \"\",\n  maxDuration: 60,\n  verboseLogs: false,\n  disableSse: false\n}) {\n  const {\n    redisUrl,\n    basePath,\n    streamableHttpEndpoint: explicitStreamableHttpEndpoint,\n    sseEndpoint: explicitSseEndpoint,\n    sseMessageEndpoint: explicitSseMessageEndpoint,\n    maxDuration,\n    verboseLogs,\n    disableSse\n  } = config;\n  const _a = serverOptions, {\n    serverInfo = {\n      name: \"mcp-typescript server on vercel\",\n      version: \"0.1.0\"\n    }\n  } = _a, mcpServerOptions = __objRest(_a, [\n    \"serverInfo\"\n  ]);\n  const { streamableHttpEndpoint, sseEndpoint, sseMessageEndpoint } = calculateEndpoints({\n    basePath,\n    streamableHttpEndpoint: explicitStreamableHttpEndpoint,\n    sseEndpoint: explicitSseEndpoint,\n    sseMessageEndpoint: explicitSseMessageEndpoint\n  });\n  const logger = createLogger(verboseLogs);\n  let servers = [];\n  let statelessServer;\n  const statelessTransport = new StreamableHTTPServerTransport({\n    sessionIdGenerator: void 0\n  });\n  if (!cleanupInterval) {\n    cleanupInterval = setInterval(() => {\n      const now = Date.now();\n      const staleThreshold = 5 * 60 * 1e3;\n      servers = servers.filter((server) => {\n        var _a2;\n        const metadata = serverMetadata.get(server);\n        if (!metadata) {\n          logger.log(\"Removing orphaned server without metadata\");\n          try {\n            if (server == null ? void 0 : server.server) {\n              server.server.close();\n            }\n          } catch (error) {\n            logger.error(\"Error closing orphaned server:\", error);\n          }\n          return false;\n        }\n        const age = now - metadata.createdAt.getTime();\n        if (age > staleThreshold) {\n          logger.log(`Removing stale server (session ${metadata.sessionId}, age: ${age}ms)`);\n          try {\n            if (server == null ? void 0 : server.server) {\n              server.server.close();\n            }\n            if ((_a2 = metadata.transport) == null ? void 0 : _a2.close) {\n              metadata.transport.close();\n            }\n          } catch (error) {\n            logger.error(\"Error closing stale server:\", error);\n          }\n          serverMetadata.delete(server);\n          return false;\n        }\n        return true;\n      });\n    }, 30 * 1e3);\n  }\n  return function mcpApiHandler(req, res) {\n    return __async(this, null, function* () {\n      var _a2, _b, _c;\n      const url = new URL(req.url || \"\", \"https://example.com\");\n      if (url.pathname === streamableHttpEndpoint) {\n        if (req.method === \"GET\") {\n          logger.log(\"Received GET MCP request\");\n          res.writeHead(405).end(\n            JSON.stringify({\n              jsonrpc: \"2.0\",\n              error: {\n                code: -32e3,\n                message: \"Method not allowed.\"\n              },\n              id: null\n            })\n          );\n          return;\n        }\n        if (req.method === \"DELETE\") {\n          logger.log(\"Received DELETE MCP request\");\n          res.writeHead(405).end(\n            JSON.stringify({\n              jsonrpc: \"2.0\",\n              error: {\n                code: -32e3,\n                message: \"Method not allowed.\"\n              },\n              id: null\n            })\n          );\n          return;\n        }\n        if (req.method === \"POST\") {\n          const eventRes = new EventEmittingResponse(\n            createFakeIncomingMessage(),\n            config.onEvent\n          );\n          if (!statelessServer) {\n            statelessServer = new McpServer(serverInfo, mcpServerOptions);\n            yield initializeServer(statelessServer);\n            yield statelessServer.connect(statelessTransport);\n          }\n          let bodyContent;\n          const contentType = req.headers.get(\"content-type\") || \"\";\n          if (contentType.includes(\"application/json\")) {\n            bodyContent = yield req.json();\n          } else {\n            bodyContent = yield req.text();\n          }\n          const incomingRequest = createFakeIncomingMessage({\n            method: req.method,\n            url: req.url,\n            headers: Object.fromEntries(req.headers),\n            body: bodyContent,\n            auth: req.auth\n            // Use the auth info that should already be set by withMcpAuth\n          });\n          const wrappedRes = new EventEmittingResponse(\n            incomingRequest,\n            config.onEvent\n          );\n          Object.assign(wrappedRes, res);\n          try {\n            yield statelessTransport.handleRequest(incomingRequest, wrappedRes);\n            if (typeof bodyContent === \"object\" && bodyContent && \"method\" in bodyContent) {\n              eventRes.requestCompleted(\n                bodyContent.method,\n                bodyContent\n              );\n            }\n          } catch (error) {\n            if (typeof bodyContent === \"object\" && bodyContent && \"method\" in bodyContent) {\n              eventRes.requestCompleted(\n                bodyContent.method,\n                void 0,\n                error instanceof Error ? error : String(error)\n              );\n            }\n            throw error;\n          }\n        }\n      } else if (url.pathname === sseEndpoint) {\n        if (disableSse) {\n          res.statusCode = 404;\n          res.end(\"Not found\");\n          return;\n        }\n        if (req.method !== \"GET\") {\n          logger.log(`Rejected SSE connection with method ${req.method}`);\n          res.writeHead(405, { \"Content-Type\": \"text/plain\" }).end(\"Method Not Allowed\");\n          return;\n        }\n        const acceptHeader = req.headers.get(\"accept\") || req.headers.get(\"Accept\");\n        if (acceptHeader && !acceptHeader.includes(\"text/event-stream\") && !acceptHeader.includes(\"*/*\") && !acceptHeader.includes(\"text/*\")) {\n          logger.log(\n            `Rejected SSE connection with incompatible Accept header: ${acceptHeader}`\n          );\n          res.writeHead(406, { \"Content-Type\": \"text/plain\" }).end(\"Not Acceptable\");\n          return;\n        }\n        const { redis: redis2, redisPublisher: redisPublisher2 } = yield initializeRedis({\n          redisUrl,\n          logger\n        });\n        logger.log(\"Got new SSE connection\");\n        assert(sseMessageEndpoint, \"sseMessageEndpoint is required\");\n        const transport = new SSEServerTransport(sseMessageEndpoint, res);\n        const sessionId = transport.sessionId;\n        const eventRes = new EventEmittingResponse(\n          createFakeIncomingMessage(),\n          config.onEvent,\n          sessionId\n        );\n        eventRes.startSession(\"SSE\", {\n          userAgent: (_a2 = req.headers.get(\"user-agent\")) != null ? _a2 : void 0,\n          ip: (_c = (_b = req.headers.get(\"x-forwarded-for\")) != null ? _b : req.headers.get(\"x-real-ip\")) != null ? _c : void 0\n        });\n        const server = new McpServer(serverInfo, serverOptions);\n        let isCleanedUp = false;\n        let interval = null;\n        let timeout = null;\n        let abortHandler = null;\n        let handleMessage = null;\n        let logs = [];\n        const cleanup = (reason) => __async(this, null, function* () {\n          if (isCleanedUp)\n            return;\n          isCleanedUp = true;\n          logger.log(`Cleaning up SSE connection: ${reason}`);\n          if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n          }\n          if (interval) {\n            clearInterval(interval);\n            interval = null;\n          }\n          if (abortHandler) {\n            req.signal.removeEventListener(\"abort\", abortHandler);\n            abortHandler = null;\n          }\n          if (handleMessage) {\n            try {\n              yield redis2.unsubscribe(`requests:${sessionId}`, handleMessage);\n              logger.log(`Unsubscribed from requests:${sessionId}`);\n            } catch (error) {\n              logger.error(\"Error unsubscribing from Redis:\", error);\n            }\n          }\n          try {\n            if (server == null ? void 0 : server.server) {\n              yield server.server.close();\n            }\n            if (transport == null ? void 0 : transport.close) {\n              yield transport.close();\n            }\n          } catch (error) {\n            logger.error(\"Error closing server/transport:\", error);\n          }\n          servers = servers.filter((s) => s !== server);\n          serverMetadata.delete(server);\n          eventRes.endSession(\"SSE\");\n          logs = [];\n          if (!res.headersSent) {\n            res.statusCode = 200;\n            res.end();\n          }\n        });\n        try {\n          let logInContext2 = function(severity, ...messages) {\n            logs.push({\n              type: severity,\n              messages\n            });\n          };\n          var logInContext = logInContext2;\n          yield initializeServer(server);\n          servers.push(server);\n          serverMetadata.set(server, {\n            sessionId,\n            createdAt: /* @__PURE__ */ new Date(),\n            transport\n          });\n          server.server.onclose = () => {\n            cleanup(\"server closed\");\n          };\n          handleMessage = (message) => __async(this, null, function* () {\n            logger.log(\"Received message from Redis\", message);\n            logInContext2(\"log\", \"Received message from Redis\", message);\n            const request = JSON.parse(message);\n            const req2 = createFakeIncomingMessage({\n              method: request.method,\n              url: request.url,\n              headers: request.headers,\n              body: request.body\n            });\n            const syntheticRes = new EventEmittingResponse(\n              req2,\n              config.onEvent,\n              sessionId\n            );\n            let status = 100;\n            let body = \"\";\n            syntheticRes.writeHead = (statusCode) => {\n              status = statusCode;\n              return syntheticRes;\n            };\n            syntheticRes.end = (b) => {\n              body = b;\n              return syntheticRes;\n            };\n            try {\n              yield transport.handlePostMessage(req2, syntheticRes);\n              if (typeof request.body === \"object\" && request.body && \"method\" in request.body) {\n                try {\n                  const result = JSON.parse(body);\n                  eventRes.requestCompleted(request.body.method, result);\n                } catch (e) {\n                  eventRes.requestCompleted(request.body.method, body);\n                }\n              }\n            } catch (error) {\n              eventRes.error(\n                error instanceof Error ? error : String(error),\n                \"Error handling SSE message\",\n                \"session\"\n              );\n              throw error;\n            }\n            yield redisPublisher2.publish(\n              `responses:${sessionId}:${request.requestId}`,\n              JSON.stringify({\n                status,\n                body\n              })\n            );\n            if (status >= 200 && status < 300) {\n              logInContext2(\n                \"log\",\n                `Request ${sessionId}:${request.requestId} succeeded: ${body}`\n              );\n            } else {\n              logInContext2(\n                \"error\",\n                `Message for ${sessionId}:${request.requestId} failed with status ${status}: ${body}`\n              );\n              eventRes.error(\n                `Request failed with status ${status}`,\n                body,\n                \"session\"\n              );\n            }\n          });\n          interval = setInterval(() => {\n            for (const log of logs) {\n              logger[log.type](...log.messages);\n            }\n            logs = [];\n          }, 100);\n          yield redis2.subscribe(`requests:${sessionId}`, handleMessage);\n          logger.log(`Subscribed to requests:${sessionId}`);\n          let resolveTimeout;\n          const waitPromise = new Promise((resolve) => {\n            resolveTimeout = resolve;\n            timeout = setTimeout(() => {\n              resolve(\"max duration reached\");\n            }, (maxDuration != null ? maxDuration : 60) * 1e3);\n          });\n          abortHandler = () => resolveTimeout(\"client hang up\");\n          req.signal.addEventListener(\"abort\", abortHandler);\n          res.on(\"close\", () => {\n            cleanup(\"response closed\");\n          });\n          res.on(\"error\", (error) => {\n            logger.error(\"Response error:\", error);\n            cleanup(\"response error\");\n          });\n          yield server.connect(transport);\n          const closeReason = yield waitPromise;\n          logger.log(closeReason);\n          yield cleanup(String(closeReason));\n        } catch (error) {\n          logger.error(\"Error in SSE handler:\", error);\n          yield cleanup(\"error during setup\");\n          throw error;\n        }\n      } else if (url.pathname === sseMessageEndpoint) {\n        if (disableSse) {\n          res.statusCode = 404;\n          res.end(\"Not found\");\n          return;\n        }\n        const { redis: redis2, redisPublisher: redisPublisher2 } = yield initializeRedis({\n          redisUrl,\n          logger\n        });\n        logger.log(\"Received message\");\n        const body = yield req.text();\n        let parsedBody;\n        try {\n          parsedBody = JSON.parse(body);\n        } catch (e) {\n          parsedBody = body;\n        }\n        const sessionId = url.searchParams.get(\"sessionId\") || \"\";\n        if (!sessionId) {\n          res.statusCode = 400;\n          res.end(\"No sessionId provided\");\n          return;\n        }\n        const requestId = crypto.randomUUID();\n        const serializedRequest = {\n          requestId,\n          url: req.url || \"\",\n          method: req.method || \"\",\n          body: parsedBody,\n          headers: Object.fromEntries(req.headers.entries())\n        };\n        let timeout = null;\n        let hasResponded = false;\n        let isCleanedUp = false;\n        const cleanup = () => __async(this, null, function* () {\n          if (isCleanedUp)\n            return;\n          isCleanedUp = true;\n          if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n          }\n          try {\n            yield redis2.unsubscribe(`responses:${sessionId}:${requestId}`);\n          } catch (error) {\n            logger.error(\"Error unsubscribing from Redis response channel:\", error);\n          }\n        });\n        const sendResponse = (status, body2) => __async(this, null, function* () {\n          if (!hasResponded) {\n            hasResponded = true;\n            res.statusCode = status;\n            res.end(body2);\n            yield cleanup();\n          }\n        });\n        const handleResponse = (message) => __async(this, null, function* () {\n          try {\n            const response = JSON.parse(message);\n            yield sendResponse(response.status, response.body);\n          } catch (error) {\n            logger.error(\"Failed to parse response message:\", error);\n            yield sendResponse(500, \"Internal server error\");\n          }\n        });\n        try {\n          yield redis2.subscribe(\n            `responses:${sessionId}:${requestId}`,\n            handleResponse\n          );\n          yield redisPublisher2.publish(\n            `requests:${sessionId}`,\n            JSON.stringify(serializedRequest)\n          );\n          logger.log(`Published requests:${sessionId}`, serializedRequest);\n          timeout = setTimeout(() => __async(this, null, function* () {\n            yield sendResponse(408, \"Request timed out\");\n          }), 10 * 1e3);\n          res.on(\"close\", () => __async(this, null, function* () {\n            if (!hasResponded) {\n              hasResponded = true;\n              yield cleanup();\n            }\n          }));\n          res.on(\"error\", (error) => __async(this, null, function* () {\n            logger.error(\"Response error in message handler:\", error);\n            if (!hasResponded) {\n              hasResponded = true;\n              yield cleanup();\n            }\n          }));\n        } catch (error) {\n          logger.error(\"Error in message handler:\", error);\n          yield cleanup();\n          if (!hasResponded) {\n            res.statusCode = 500;\n            res.end(\"Internal server error\");\n          }\n        }\n      } else {\n        res.statusCode = 404;\n        res.end(\"Not found\");\n      }\n    });\n  };\n}\nfunction createFakeIncomingMessage(options = {}) {\n  const {\n    method = \"GET\",\n    url = \"/\",\n    headers = {},\n    body = null,\n    socket = new Socket()\n  } = options;\n  const readable = new Readable();\n  readable._read = () => {\n  };\n  if (body) {\n    if (typeof body === \"string\") {\n      readable.push(body);\n    } else if (Buffer.isBuffer(body)) {\n      readable.push(body);\n    } else {\n      const bodyString = JSON.stringify(body);\n      readable.push(bodyString);\n    }\n    readable.push(null);\n  } else {\n    readable.push(null);\n  }\n  const req = new IncomingMessage(socket);\n  req.method = method;\n  req.url = url;\n  req.headers = headers;\n  const auth = options.auth || getAuthContext();\n  if (auth) {\n    req.auth = auth;\n  }\n  req.push = readable.push.bind(readable);\n  req.read = readable.read.bind(readable);\n  req.on = readable.on.bind(readable);\n  req.pipe = readable.pipe.bind(readable);\n  return req;\n}\nfunction createServerResponseAdapter(signal, fn) {\n  let writeHeadResolver;\n  const writeHeadPromise = new Promise((resolve) => {\n    writeHeadResolver = resolve;\n  });\n  return new Promise((resolve) => {\n    let controller;\n    let shouldClose = false;\n    let wroteHead = false;\n    let statusCode = 200;\n    let headers;\n    const writeHead = (code, headersArg) => {\n      if (typeof headersArg === \"string\") {\n        throw new Error(\"Status message of writeHead not supported\");\n      }\n      statusCode = code;\n      headers = headersArg;\n      wroteHead = true;\n      writeHeadResolver({\n        statusCode,\n        headers\n      });\n      return fakeServerResponse;\n    };\n    const bufferedData = [];\n    const write = (chunk, encoding) => {\n      if (encoding) {\n        throw new Error(\"Encoding not supported\");\n      }\n      if (chunk instanceof Buffer) {\n        throw new Error(\"Buffer not supported\");\n      }\n      if (!wroteHead) {\n        writeHead(statusCode, headers);\n      }\n      if (!controller) {\n        bufferedData.push(new TextEncoder().encode(chunk));\n        return true;\n      }\n      controller.enqueue(new TextEncoder().encode(chunk));\n      return true;\n    };\n    const eventEmitter = new EventEmitter();\n    const fakeServerResponse = {\n      writeHead,\n      write,\n      end: (data) => {\n        if (data) {\n          write(data);\n        }\n        if (!controller) {\n          shouldClose = true;\n          return fakeServerResponse;\n        }\n        try {\n          controller.close();\n        } catch (e) {\n        }\n        return fakeServerResponse;\n      },\n      on: (event, listener) => {\n        eventEmitter.on(event, listener);\n        return fakeServerResponse;\n      },\n      get statusCode() {\n        return statusCode;\n      },\n      set statusCode(code) {\n        statusCode = code;\n        if (wroteHead) {\n          writeHeadResolver({\n            statusCode,\n            headers\n          });\n        }\n      }\n    };\n    signal.addEventListener(\"abort\", () => {\n      eventEmitter.emit(\"close\");\n    });\n    void fn(fakeServerResponse);\n    void (() => __async(this, null, function* () {\n      const head = yield writeHeadPromise;\n      const response = new Response(\n        new ReadableStream({\n          start(c) {\n            controller = c;\n            for (const chunk of bufferedData) {\n              controller.enqueue(chunk);\n            }\n            if (shouldClose) {\n              controller.close();\n            }\n          }\n        }),\n        {\n          status: head.statusCode,\n          headers: head.headers\n        }\n      );\n      resolve(response);\n    }))();\n  });\n}\n\n// src/handler/index.ts\nfunction createMcpRouteHandler(initializeServer, serverOptions, config) {\n  const mcpHandler = initializeMcpApiHandler(\n    initializeServer,\n    serverOptions,\n    config\n  );\n  return (request) => {\n    return createServerResponseAdapter(request.signal, (res) => {\n      mcpHandler(request, res);\n    });\n  };\n}\nfunction withMcpAuth(handler, verifyToken, {\n  required = false,\n  resourceMetadataPath = \"/.well-known/oauth-protected-resource\",\n  requiredScopes\n} = {}) {\n  return (req) => __async(this, null, function* () {\n    const origin = new URL(req.url).origin;\n    const resourceMetadataUrl = `${origin}${resourceMetadataPath}`;\n    const authHeader = req.headers.get(\"Authorization\");\n    const [type, token] = (authHeader == null ? void 0 : authHeader.split(\" \")) || [];\n    const bearerToken = (type == null ? void 0 : type.toLowerCase()) === \"bearer\" ? token : void 0;\n    let authInfo;\n    try {\n      authInfo = yield verifyToken(req, bearerToken);\n    } catch (error) {\n      console.error(\"Unexpected error authenticating bearer token:\", error);\n      const publicError = new InvalidTokenError(\"Invalid token\");\n      return new Response(JSON.stringify(publicError.toResponseObject()), {\n        status: 401,\n        headers: {\n          \"WWW-Authenticate\": `Bearer error=\"${publicError.errorCode}\", error_description=\"${publicError.message}\", resource_metadata=\"${resourceMetadataUrl}\"`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    }\n    try {\n      if (required && !authInfo) {\n        throw new InvalidTokenError(\"No authorization provided\");\n      }\n      if (!authInfo) {\n        return handler(req);\n      }\n      if (requiredScopes == null ? void 0 : requiredScopes.length) {\n        const hasAllScopes = requiredScopes.every(\n          (scope) => authInfo.scopes.includes(scope)\n        );\n        if (!hasAllScopes) {\n          throw new InsufficientScopeError(\"Insufficient scope\");\n        }\n      }\n      if (authInfo.expiresAt && authInfo.expiresAt < Date.now() / 1e3) {\n        throw new InvalidTokenError(\"Token has expired\");\n      }\n      req.auth = authInfo;\n      return withAuthContext(authInfo, () => handler(req));\n    } catch (error) {\n      if (error instanceof InvalidTokenError) {\n        return new Response(JSON.stringify(error.toResponseObject()), {\n          status: 401,\n          headers: {\n            \"WWW-Authenticate\": `Bearer error=\"${error.errorCode}\", error_description=\"${error.message}\", resource_metadata=\"${resourceMetadataUrl}\"`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      } else if (error instanceof InsufficientScopeError) {\n        return new Response(JSON.stringify(error.toResponseObject()), {\n          status: 403,\n          headers: {\n            \"WWW-Authenticate\": `Bearer error=\"${error.errorCode}\", error_description=\"${error.message}\", resource_metadata=\"${resourceMetadataUrl}\"`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      } else if (error instanceof ServerError) {\n        return new Response(JSON.stringify(error.toResponseObject()), {\n          status: 500,\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      } else {\n        console.error(\"Unexpected error authenticating bearer token:\", error);\n        const serverError = new ServerError(\"Internal Server Error\");\n        return new Response(JSON.stringify(serverError.toResponseObject()), {\n          status: 500,\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n      }\n    }\n  });\n}\n\n// src/auth/auth-metadata.ts\nvar corsHeaders = {\n  \"Access-Control-Allow-Origin\": \"*\",\n  \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\n  \"Access-Control-Allow-Headers\": \"*\",\n  \"Access-Control-Max-Age\": \"86400\"\n};\nfunction protectedResourceHandler({\n  authServerUrls\n}) {\n  return (req) => {\n    const resourceUrl = new URL(req.url);\n    resourceUrl.pathname = resourceUrl.pathname.replace(/^\\/\\.well-known\\/[^\\/]+/, \"\");\n    const resource = resourceUrl.pathname === \"/\" ? resourceUrl.toString().replace(/\\/$/, \"\") : resourceUrl.toString();\n    const metadata = generateProtectedResourceMetadata({\n      authServerUrls,\n      resourceUrl: resource\n    });\n    return new Response(JSON.stringify(metadata), {\n      headers: __spreadProps(__spreadValues({}, corsHeaders), {\n        \"Cache-Control\": \"max-age=3600\",\n        \"Content-Type\": \"application/json\"\n      })\n    });\n  };\n}\nfunction generateProtectedResourceMetadata({\n  authServerUrls,\n  resourceUrl,\n  additionalMetadata\n}) {\n  return Object.assign(\n    {\n      resource: resourceUrl,\n      authorization_servers: authServerUrls\n    },\n    additionalMetadata\n  );\n}\nfunction metadataCorsOptionsRequestHandler() {\n  return () => {\n    return new Response(null, {\n      status: 200,\n      headers: corsHeaders\n    });\n  };\n}\n\nexport { createMcpRouteHandler as createMcpHandler, withMcpAuth as experimental_withMcpAuth, generateProtectedResourceMetadata, metadataCorsOptionsRequestHandler, protectedResourceHandler, withMcpAuth };\n//# sourceMappingURL=out.js.map\n//# sourceMappingURL=index.mjs.map","import { ZodFirstPartyTypeKind } from \"zod\";\nimport { setResponseValueAndErrors } from \"../errorMessages.js\";\nimport { parseDef } from \"../parseDef.js\";\nexport function parseArrayDef(def, refs) {\n    const res = {\n        type: \"array\",\n    };\n    if (def.type?._def &&\n        def.type?._def?.typeName !== ZodFirstPartyTypeKind.ZodAny) {\n        res.items = parseDef(def.type._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"items\"],\n        });\n    }\n    if (def.minLength) {\n        setResponseValueAndErrors(res, \"minItems\", def.minLength.value, def.minLength.message, refs);\n    }\n    if (def.maxLength) {\n        setResponseValueAndErrors(res, \"maxItems\", def.maxLength.value, def.maxLength.message, refs);\n    }\n    if (def.exactLength) {\n        setResponseValueAndErrors(res, \"minItems\", def.exactLength.value, def.exactLength.message, refs);\n        setResponseValueAndErrors(res, \"maxItems\", def.exactLength.value, def.exactLength.message, refs);\n    }\n    return res;\n}\n","// @ts-nocheck\n// @ts-ignore\nimport { AuthMessage, RequestedCertificateSet, Transport } from \"../types.js\"\nimport * as Utils from '../../primitives/utils.js'\n\nconst SUCCESS_STATUS_CODES = [200, 402]\n\n// Only bind window.fetch in the browser\nconst defaultFetch = typeof window !== 'undefined' ? fetch.bind(window) : fetch;\n\n/**\n * Implements an HTTP-specific transport for handling Peer mutual authentication messages.\n * This class integrates with fetch to send and receive authenticated messages between peers.\n */\nexport class SimplifiedFetchTransport implements Transport {\n  private onDataCallback?: (message: AuthMessage) => void\n  fetchClient: typeof fetch\n  baseUrl: string\n\n  /**\n   * Constructs a new instance of SimplifiedFetchTransport.\n   * @param baseUrl - The base URL for all HTTP requests made by this transport.\n   * @param fetchClient - A fetch implementation to use for HTTP requests (default: global fetch).\n   */\n  constructor(baseUrl: string, fetchClient = defaultFetch) {\n    this.fetchClient = fetchClient\n    this.baseUrl = baseUrl\n  }\n\n  /**\n   * Sends a message to an HTTP server using the transport mechanism.\n   * Handles both general and authenticated message types. For general messages,\n   * the payload is deserialized and sent as an HTTP request. For other message types,\n   * the message is sent as a POST request to the `/auth` endpoint.\n   * \n   * @param message - The AuthMessage to send.\n   * @returns A promise that resolves when the message is successfully sent.\n   * \n   * @throws Will throw an error if no listener has been registered via `onData`.\n   */\n  async send(message: AuthMessage): Promise<void> {\n    if (!this.onDataCallback) {\n      throw new Error('Listen before you start speaking. God gave you two ears and one mouth for a reason.')\n    }\n    if (message.messageType !== 'general') {\n      return new Promise(async (resolve, reject) => {\n        try {\n          const responsePromise = this.fetchClient(`${this.baseUrl}/.well-known/auth`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(message)\n          })\n\n          if (message.messageType !== \"initialRequest\") {\n            resolve()\n          }\n          const response = await responsePromise\n\n          // Handle the response if data is received and callback is set\n          if (response.ok && this.onDataCallback) {\n            const responseMessage = await response.json()\n            this.onDataCallback(responseMessage as AuthMessage)\n          } else {\n            // Server may be a non authenticated server\n            throw new Error('HTTP server failed to authenticate')\n          }\n          if (message.messageType === \"initialRequest\") {\n            resolve()\n          }\n        } catch (e) {\n          reject(e)\n          return\n        }\n      })\n    } else {\n      // Parse message payload\n      const httpRequest = this.deserializeRequestPayload(message.payload)\n\n      // Send the byte array as the HTTP payload\n      const url = `${this.baseUrl}${httpRequest.urlPostfix}`\n      let httpRequestWithAuthHeaders: any = httpRequest\n      if (typeof httpRequest.headers !== 'object') {\n        httpRequestWithAuthHeaders.headers = {}\n      }\n\n      // Append auth headers in request to server\n      httpRequestWithAuthHeaders.headers['x-bsv-auth-version'] = message.version\n      httpRequestWithAuthHeaders.headers['x-bsv-auth-identity-key'] = message.identityKey\n      httpRequestWithAuthHeaders.headers['x-bsv-auth-nonce'] = message.nonce\n      httpRequestWithAuthHeaders.headers['x-bsv-auth-your-nonce'] = message.yourNonce\n      httpRequestWithAuthHeaders.headers['x-bsv-auth-signature'] = Utils.toHex(message.signature)\n      httpRequestWithAuthHeaders.headers['x-bsv-auth-request-id'] = httpRequest.requestId\n\n      // Ensure Content-Type is set for requests with a body\n      if (httpRequestWithAuthHeaders.body) {\n        const headers = httpRequestWithAuthHeaders.headers;\n        if (!headers['content-type']) {\n          throw new Error('Content-Type header is required for requests with a body.');\n        }\n\n        const contentType = headers['content-type'];\n\n        // Transform body based on Content-Type\n        if (contentType.includes('application/json')) {\n          // Convert byte array to JSON string\n          httpRequestWithAuthHeaders.body = Utils.toUTF8(httpRequestWithAuthHeaders.body);\n        } else if (contentType.includes('application/x-www-form-urlencoded')) {\n          // Convert byte array to URL-encoded string\n          httpRequestWithAuthHeaders.body = Utils.toUTF8(httpRequestWithAuthHeaders.body);\n        } else if (contentType.includes('text/plain')) {\n          // Convert byte array to plain UTF-8 string\n          httpRequestWithAuthHeaders.body = Utils.toUTF8(httpRequestWithAuthHeaders.body);\n        } else {\n          // For all other content types, treat as binary data\n          httpRequestWithAuthHeaders.body = new Uint8Array(httpRequestWithAuthHeaders.body);\n        }\n      }\n\n      // Send the actual fetch request to the server\n      const response = await this.fetchClient(url, {\n        method: httpRequestWithAuthHeaders.method,\n        headers: httpRequestWithAuthHeaders.headers,\n        body: httpRequestWithAuthHeaders.body\n      })\n\n      // Check for an acceptable status\n      if (response.status === 500 && !response.headers.get('x-bsv-auth-request-id')) {\n        // Try parsing JSON error\n        const errorInfo = await response.json()\n        // Otherwise just throw whatever we got\n        throw new Error(`HTTP ${response.status} - ${JSON.stringify(errorInfo)}`);\n      }\n\n      const parsedBody = await response.arrayBuffer()\n      const payloadWriter = new Utils.Writer()\n      payloadWriter.write(Utils.toArray(response.headers.get('x-bsv-auth-request-id'), 'base64'))\n      payloadWriter.writeVarIntNum(response.status)\n\n      // PARSE RESPONSE HEADERS FROM SERVER --------------------------------\n      // Parse response headers from the server and include only the signed headers:\n      // - Include custom headers prefixed with x-bsv (excluding those starting with x-bsv-auth)\n      // - Include the authorization header\n      const includedHeaders: [string, string][] = []\n      response.headers.forEach((value, key) => {\n        const lowerKey = key.toLowerCase()\n        if ((lowerKey.startsWith('x-bsv-') || lowerKey === 'authorization') && !lowerKey.startsWith('x-bsv-auth')) {\n          includedHeaders.push([lowerKey, value])\n        }\n      })\n\n      // Sort the headers by key to ensure a consistent order for signing and verification.\n      includedHeaders.sort(([keyA], [keyB]) => keyA.localeCompare(keyB))\n\n      // nHeaders\n      payloadWriter.writeVarIntNum(includedHeaders.length)\n      for (let i = 0; i < includedHeaders.length; i++) {\n        // headerKeyLength\n        const headerKeyAsArray = Utils.toArray(includedHeaders[i][0], 'utf8')\n        payloadWriter.writeVarIntNum(headerKeyAsArray.length)\n        // headerKey\n        payloadWriter.write(headerKeyAsArray)\n        // headerValueLength\n        const headerValueAsArray = Utils.toArray(includedHeaders[i][1], 'utf8')\n        payloadWriter.writeVarIntNum(headerValueAsArray.length)\n        // headerValue\n        payloadWriter.write(headerValueAsArray)\n      }\n\n      // Handle body\n      if (parsedBody) {\n        const bodyAsArray = Array.from(new Uint8Array(parsedBody))\n        payloadWriter.writeVarIntNum(bodyAsArray.length)\n        payloadWriter.write(bodyAsArray)\n      } else {\n        payloadWriter.writeVarIntNum(-1)\n      }\n\n      // Build the correct AuthMessage for the response\n      const responseMessage: AuthMessage = {\n        version: response.headers.get('x-bsv-auth-version'),\n        messageType: response.headers.get('x-bsv-auth-message-type') === 'certificateRequest' ? 'certificateRequest' : 'general',\n        identityKey: response.headers.get('x-bsv-auth-identity-key'),\n        nonce: response.headers.get('x-bsv-auth-nonce'),\n        yourNonce: response.headers.get('x-bsv-auth-your-nonce'),\n        requestedCertificates: JSON.parse(response.headers.get('x-bsv-auth-requested-certificates')) as RequestedCertificateSet,\n        payload: payloadWriter.toArray(),\n        signature: Utils.toArray(response.headers.get('x-bsv-auth-signature'), 'hex'),\n      }\n\n      // If the server didn't provide the correct authentication headers, throw an error\n      if (!responseMessage.version) {\n        throw new Error('HTTP server failed to authenticate')\n      }\n\n      // Handle the response if data is received and callback is set\n      this.onDataCallback(responseMessage)\n    }\n  }\n\n  /**\n   * Registers a callback to handle incoming messages. \n   * This must be called before sending any messages to ensure responses can be processed.\n   * \n   * @param callback - A function to invoke when an incoming AuthMessage is received.\n   * @returns A promise that resolves once the callback is set.\n   */\n  async onData(callback: (message: AuthMessage) => Promise<void>): Promise<void> {\n    this.onDataCallback = (m) => {\n      callback(m)\n    }\n  }\n\n  /**\n   * Deserializes a request payload from a byte array into an HTTP request-like structure.\n   * \n   * @param payload - The serialized payload to deserialize.\n   * @returns An object representing the deserialized request, including the method,\n   *          URL postfix (path and query string), headers, body, and request ID.\n   */\n  deserializeRequestPayload(payload: number[]): {\n    method: string,\n    urlPostfix: string,\n    headers: Record<string, string>,\n    body: number[],\n    requestId: string\n  } {\n    // Create a reader\n    const requestReader = new Utils.Reader(payload)\n    // The first 32 bytes is the requestId\n    const requestId = Utils.toBase64(requestReader.read(32))\n\n    // Method\n    const methodLength = requestReader.readVarIntNum()\n    let method = 'GET'\n    if (methodLength > 0) {\n      method = Utils.toUTF8(requestReader.read(methodLength))\n    }\n\n    // Path\n    const pathLength = requestReader.readVarIntNum()\n    let path = ''\n    if (pathLength > 0) {\n      path = Utils.toUTF8(requestReader.read(pathLength))\n    }\n\n    // Search\n    const searchLength = requestReader.readVarIntNum()\n    let search = ''\n    if (searchLength > 0) {\n      search = Utils.toUTF8(requestReader.read(searchLength))\n    }\n\n    // Read headers\n    const requestHeaders = {}\n    const nHeaders = requestReader.readVarIntNum()\n    if (nHeaders > 0) {\n      for (let i = 0; i < nHeaders; i++) {\n        const nHeaderKeyBytes = requestReader.readVarIntNum()\n        const headerKeyBytes = requestReader.read(nHeaderKeyBytes)\n        const headerKey = Utils.toUTF8(headerKeyBytes)\n        const nHeaderValueBytes = requestReader.readVarIntNum()\n        const headerValueBytes = requestReader.read(nHeaderValueBytes)\n        const headerValue = Utils.toUTF8(headerValueBytes)\n        requestHeaders[headerKey] = headerValue\n      }\n    }\n\n    // Read body\n    let requestBody\n    const requestBodyBytes = requestReader.readVarIntNum()\n    if (requestBodyBytes > 0) {\n      requestBody = requestReader.read(requestBodyBytes)\n    }\n\n    // Return the deserialized RequestInit\n    return {\n      urlPostfix: path + search,\n      method,\n      headers: requestHeaders,\n      body: requestBody,\n      requestId\n    }\n  }\n}","import {\n  AcquireCertificateArgs,\n  AcquireCertificateResult,\n  Base64String,\n  BasketStringUnder300Bytes,\n  BooleanDefaultFalse,\n  Byte,\n  CertificateFieldNameUnder50Bytes,\n  CreateActionArgs,\n  CreateActionResult,\n  DescriptionString5to50Bytes,\n  DiscoverCertificatesResult,\n  HexString,\n  InternalizeActionArgs,\n  ISOTimestampString,\n  KeyIDStringUnder800Bytes,\n  ListActionsArgs,\n  ListActionsResult,\n  ListCertificatesResult,\n  ListOutputsArgs,\n  ListOutputsResult,\n  OriginatorDomainNameStringUnder250Bytes,\n  OutpointString,\n  PositiveInteger,\n  PositiveIntegerDefault10Max10000,\n  PositiveIntegerOrZero,\n  ProtocolString5To400Bytes,\n  ProveCertificateArgs,\n  ProveCertificateResult,\n  PubKeyHex,\n  SecurityLevel,\n  SignActionArgs,\n  SignActionResult,\n  VersionString7To30Bytes,\n  WalletInterface,\n  AuthenticatedResult\n} from './Wallet.interfaces.js'\nimport WindowCWISubstrate from './substrates/window.CWI.js'\nimport XDMSubstrate from './substrates/XDM.js'\nimport WalletWireTransceiver from './substrates/WalletWireTransceiver.js'\nimport HTTPWalletWire from './substrates/HTTPWalletWire.js'\nimport HTTPWalletJSON from './substrates/HTTPWalletJSON.js'\nimport ReactNativeWebView from './substrates/ReactNativeWebView.js'\n\nconst MAX_XDM_RESPONSE_WAIT = 200\n\n/**\n * The SDK is how applications communicate with wallets over a communications substrate.\n */\nexport default class WalletClient implements WalletInterface {\n  public substrate: 'auto' | WalletInterface\n  originator?: OriginatorDomainNameStringUnder250Bytes\n  constructor (\n    substrate:\n    | 'auto'\n    | 'Cicada'\n    | 'XDM'\n    | 'window.CWI'\n    | 'json-api'\n    | 'react-native'\n    | WalletInterface = 'auto',\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) {\n    if (substrate === 'Cicada') {\n      substrate = new WalletWireTransceiver(new HTTPWalletWire(originator))\n    }\n    if (substrate === 'window.CWI') substrate = new WindowCWISubstrate()\n    if (substrate === 'XDM') substrate = new XDMSubstrate()\n    if (substrate === 'json-api') substrate = new HTTPWalletJSON(originator)\n    if (substrate === 'react-native') substrate = new ReactNativeWebView(originator)\n    this.substrate = substrate\n    this.originator = originator\n  }\n\n  async connectToSubstrate (): Promise<void> {\n    if (typeof this.substrate === 'object') {\n      return // substrate is already connected\n    }\n    let sub: WalletInterface\n    const checkSub = async (timeout?: number): Promise<void> => {\n      let result\n      if (typeof timeout === 'number') {\n        result = await Promise.race([\n          sub.getVersion({}),\n          new Promise<never>((_resolve, reject) =>\n            setTimeout(() => reject(new Error('Timed out.')), timeout)\n          )\n        ])\n      } else {\n        result = await sub.getVersion({})\n      }\n      if (typeof result !== 'object' || typeof result.version !== 'string') {\n        throw new Error('Failed to use substrate.')\n      }\n    }\n    try {\n      sub = new WindowCWISubstrate()\n      await checkSub()\n      this.substrate = sub\n    } catch (e) {\n      // XDM failed, try the next one...\n      try {\n        sub = new XDMSubstrate()\n        await checkSub(MAX_XDM_RESPONSE_WAIT)\n        this.substrate = sub\n      } catch (e) {\n        // HTTP wire failed, move on...\n        try {\n          sub = new WalletWireTransceiver(new HTTPWalletWire(this.originator))\n          await checkSub()\n          this.substrate = sub\n        } catch (e) {\n          // HTTP Wire failed, attempt the next...\n          try {\n            sub = new HTTPWalletJSON(this.originator)\n            await checkSub()\n            this.substrate = sub\n          } catch (e) {\n            // HTTP JSON failed, attempt the next...\n            try {\n              sub = new ReactNativeWebView(this.originator)\n              await checkSub()\n              this.substrate = sub\n            } catch (e) {\n              // No comms. Tell the user to install a BSV wallet.\n              throw new Error(\n                'No wallet available over any communication substrate. Install a BSV wallet today!'\n              )\n            }\n          }\n        }\n      }\n    }\n  }\n\n  async createAction (args: CreateActionArgs): Promise<CreateActionResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).createAction(\n      args,\n      this.originator\n    )\n  }\n\n  async signAction (args: SignActionArgs): Promise<SignActionResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).signAction(\n      args,\n      this.originator\n    )\n  }\n\n  async abortAction (args: {\n    reference: Base64String\n  }): Promise<{ aborted: true }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).abortAction(\n      args,\n      this.originator\n    )\n  }\n\n  async listActions (args: ListActionsArgs): Promise<ListActionsResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).listActions(\n      args,\n      this.originator\n    )\n  }\n\n  async internalizeAction (\n    args: InternalizeActionArgs\n  ): Promise<{ accepted: true }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).internalizeAction(\n      args,\n      this.originator\n    )\n  }\n\n  async listOutputs (args: ListOutputsArgs): Promise<ListOutputsResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).listOutputs(\n      args,\n      this.originator\n    )\n  }\n\n  async relinquishOutput (args: {\n    basket: BasketStringUnder300Bytes\n    output: OutpointString\n  }): Promise<{ relinquished: true }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).relinquishOutput(\n      args,\n      this.originator\n    )\n  }\n\n  async getPublicKey (args: {\n    identityKey?: true\n    protocolID?: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID?: KeyIDStringUnder800Bytes\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n  }): Promise<{ publicKey: PubKeyHex }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).getPublicKey(\n      args,\n      this.originator\n    )\n  }\n\n  async revealCounterpartyKeyLinkage (args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n      prover: PubKeyHex\n      verifier: PubKeyHex\n      counterparty: PubKeyHex\n      revelationTime: ISOTimestampString\n      encryptedLinkage: Byte[]\n      encryptedLinkageProof: Byte[]\n    }> {\n    await this.connectToSubstrate()\n    return await (\n      this.substrate as WalletInterface\n    ).revealCounterpartyKeyLinkage(args, this.originator)\n  }\n\n  async revealSpecificKeyLinkage (args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n      prover: PubKeyHex\n      verifier: PubKeyHex\n      counterparty: PubKeyHex\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      encryptedLinkage: Byte[]\n      encryptedLinkageProof: Byte[]\n      proofType: Byte\n    }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).revealSpecificKeyLinkage(\n      args,\n      this.originator\n    )\n  }\n\n  async encrypt (args: {\n    plaintext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ ciphertext: Byte[] }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).encrypt(\n      args,\n      this.originator\n    )\n  }\n\n  async decrypt (args: {\n    ciphertext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ plaintext: Byte[] }> {\n    return await (this.substrate as WalletInterface).decrypt(\n      args,\n      this.originator\n    )\n  }\n\n  async createHmac (args: {\n    data: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ hmac: Byte[] }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).createHmac(\n      args,\n      this.originator\n    )\n  }\n\n  async verifyHmac (args: {\n    data: Byte[]\n    hmac: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).verifyHmac(\n      args,\n      this.originator\n    )\n  }\n\n  async createSignature (args: {\n    data?: Byte[]\n    hashToDirectlySign?: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ signature: Byte[] }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).createSignature(\n      args,\n      this.originator\n    )\n  }\n\n  async verifySignature (args: {\n    data?: Byte[]\n    hashToDirectlyVerify?: Byte[]\n    signature: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).verifySignature(\n      args,\n      this.originator\n    )\n  }\n\n  async acquireCertificate (\n    args: AcquireCertificateArgs\n  ): Promise<AcquireCertificateResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).acquireCertificate(\n      args,\n      this.originator\n    )\n  }\n\n  async listCertificates (args: {\n    certifiers: PubKeyHex[]\n    types: Base64String[]\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n  }): Promise<ListCertificatesResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).listCertificates(\n      args,\n      this.originator\n    )\n  }\n\n  async proveCertificate (\n    args: ProveCertificateArgs\n  ): Promise<ProveCertificateResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).proveCertificate(\n      args,\n      this.originator\n    )\n  }\n\n  async relinquishCertificate (args: {\n    type: Base64String\n    serialNumber: Base64String\n    certifier: PubKeyHex\n  }): Promise<{ relinquished: true }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).relinquishCertificate(\n      args,\n      this.originator\n    )\n  }\n\n  async discoverByIdentityKey (args: {\n    identityKey: PubKeyHex\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<DiscoverCertificatesResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).discoverByIdentityKey(\n      args,\n      this.originator\n    )\n  }\n\n  async discoverByAttributes (args: {\n    attributes: Record<CertificateFieldNameUnder50Bytes, string>\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<DiscoverCertificatesResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).discoverByAttributes(\n      args,\n      this.originator\n    )\n  }\n\n  async isAuthenticated (args: object = {}): Promise<AuthenticatedResult> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).isAuthenticated(\n      args,\n      this.originator\n    )\n  }\n\n  async waitForAuthentication (args: object = {}): Promise<{ authenticated: true }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).waitForAuthentication(\n      args,\n      this.originator\n    )\n  }\n\n  async getHeight (args: object = {}): Promise<{ height: PositiveInteger }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).getHeight(\n      args,\n      this.originator\n    )\n  }\n\n  async getHeaderForHeight (args: {\n    height: PositiveInteger\n  }): Promise<{ header: HexString }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).getHeaderForHeight(\n      args,\n      this.originator\n    )\n  }\n\n  async getNetwork (args: object = {}): Promise<{ network: 'mainnet' | 'testnet' }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).getNetwork(\n      args,\n      this.originator\n    )\n  }\n\n  async getVersion (\n    args: object = {}\n  ): Promise<{ version: VersionString7To30Bytes }> {\n    await this.connectToSubstrate()\n    return await (this.substrate as WalletInterface).getVersion(\n      args,\n      this.originator\n    )\n  }\n}\n","import {\n  WalletInterface,\n  WalletProtocol,\n  WalletClient,\n  PubKeyHex,\n  SecurityLevel\n} from '../wallet/index.js'\nimport { Utils } from '../primitives/index.js'\nimport {\n  Transaction,\n  BroadcastResponse,\n  BroadcastFailure\n} from '../transaction/index.js'\nimport {\n  LookupResolver,\n  TopicBroadcaster\n} from '../overlay-tools/index.js'\nimport { PushDrop, LockingScript } from '../script/index.js'\nimport {\n  CertificateFieldDescriptor,\n  DefinitionData,\n  DefinitionType,\n  RegistryQueryMapping,\n  RegistryRecord\n} from './types/index.js'\n\nconst REGISTRANT_TOKEN_AMOUNT = 1\n\n/**\n * RegistryClient manages on-chain registry definitions for three types:\n * - basket (basket-based items)\n * - protocol (protocol-based items)\n * - certificate (certificate-based items)\n *\n * It provides methods to:\n * - Register new definitions using pushdrop-based UTXOs.\n * - Resolve existing definitions using a lookup service.\n * - List registry entries associated with the operator's wallet.\n * - Revoke an existing registry entry by spending its UTXO.\n *\n * Registry operators use this client to establish and manage\n * canonical references for baskets, protocols, and certificate types.\n */\nexport class RegistryClient {\n  private network: 'mainnet' | 'testnet'\n  constructor (\n    private readonly wallet: WalletInterface = new WalletClient()\n  ) { }\n\n  /**\n   * Publishes a new on-chain definition for baskets, protocols, or certificates.\n   * The definition data is encoded in a pushdrop-based UTXO.\n   *\n   * Registry operators (i.e., identity key owners) can create these definitions\n   * to establish canonical references for basket IDs, protocol specs, or certificate schemas.\n   *\n   * @param data - Structured information about a 'basket', 'protocol', or 'certificate'.\n   * @returns A promise with the broadcast result or failure.\n   */\n  async registerDefinition (data: DefinitionData): Promise<BroadcastResponse | BroadcastFailure> {\n    const registryOperator = (await this.wallet.getPublicKey({ identityKey: true })).publicKey\n    const pushdrop = new PushDrop(this.wallet)\n\n    // Convert definition data into PushDrop fields\n    const fields = this.buildPushDropFields(data, registryOperator)\n\n    // Convert the user-friendly definitionType to the actual wallet protocol\n    const protocol = this.mapDefinitionTypeToWalletProtocol(data.definitionType)\n\n    // Lock the fields into a pushdrop-based UTXO\n    const lockingScript = await pushdrop.lock(fields, protocol, '1', 'anyone', true)\n\n    // Create a transaction\n    const { tx } = await this.wallet.createAction({\n      description: `Register a new ${data.definitionType} item`,\n      outputs: [\n        {\n          satoshis: REGISTRANT_TOKEN_AMOUNT,\n          lockingScript: lockingScript.toHex(),\n          outputDescription: `New ${data.definitionType} registration token`,\n          basket: this.mapDefinitionTypeToBasketName(data.definitionType)\n        }\n      ],\n      options: {\n        randomizeOutputs: false\n      }\n    })\n\n    if (tx === undefined) {\n      throw new Error(`Failed to create ${data.definitionType} registration transaction!`)\n    }\n\n    // Broadcast to the relevant topic\n    const broadcaster = new TopicBroadcaster(\n      [this.mapDefinitionTypeToTopic(data.definitionType)],\n      {\n        networkPreset: this.network ??= (await this.wallet.getNetwork({})).network\n      }\n    )\n    return await broadcaster.broadcast(Transaction.fromAtomicBEEF(tx))\n  }\n\n  /**\n   * Resolves registrant tokens of a particular type using a lookup service.\n   *\n   * The query object shape depends on the registry type:\n   * - For \"basket\", the query is of type BasketMapQuery:\n   *   { basketID?: string; name?: string; registryOperators?: string[]; }\n   * - For \"protocol\", the query is of type ProtoMapQuery:\n   *   { name?: string; registryOperators?: string[]; protocolID?: WalletProtocol; }\n   * - For \"certificate\", the query is of type CertMapQuery:\n   *   { type?: string; name?: string; registryOperators?: string[]; }\n   *\n   * @param definitionType - The registry type, which can be 'basket', 'protocol', or 'certificate'.\n   * @param query - The query object used to filter registry records, whose shape is determined by the registry type.\n   * @returns A promise that resolves to an array of matching registry records.\n   */\n  async resolve<T extends DefinitionType>(\n    definitionType: T,\n    query: RegistryQueryMapping[T]\n  ): Promise<DefinitionData[]> {\n    const resolver = new LookupResolver()\n    const serviceName = this.mapDefinitionTypeToServiceName(definitionType)\n\n    // Make the lookup query\n    const result = await resolver.query({ service: serviceName, query })\n    if (result.type !== 'output-list') {\n      return []\n    }\n\n    const parsedRegistryRecords: DefinitionData[] = []\n    for (const output of result.outputs) {\n      try {\n        const parsedTx = Transaction.fromBEEF(output.beef)\n        const lockingScript = parsedTx.outputs[output.outputIndex].lockingScript\n        const record = await this.parseLockingScript(definitionType, lockingScript)\n        parsedRegistryRecords.push(record)\n      } catch {\n        // Skip invalid or non-pushdrop outputs\n      }\n    }\n    return parsedRegistryRecords\n  }\n\n  /**\n   * Lists the registry operator's published definitions for the given type.\n   *\n   * Returns parsed registry records including transaction details such as txid, outputIndex, satoshis, and the locking script.\n   *\n   * @param definitionType - The type of registry definition to list ('basket', 'protocol', or 'certificate').\n   * @returns A promise that resolves to an array of RegistryRecord objects.\n   */\n  async listOwnRegistryEntries (definitionType: DefinitionType): Promise<RegistryRecord[]> {\n    const relevantBasketName = this.mapDefinitionTypeToBasketName(definitionType)\n    const { outputs, BEEF } = await this.wallet.listOutputs({\n      basket: relevantBasketName,\n      include: 'entire transactions'\n    })\n\n    const results: RegistryRecord[] = []\n    for (const output of outputs) {\n      if (!output.spendable) {\n        continue\n      }\n      try {\n        const [txid, outputIndex] = output.outpoint.split('.')\n        const tx = Transaction.fromBEEF(BEEF as number[])\n        const lockingScript: LockingScript = tx.outputs[outputIndex].lockingScript\n        const record = await this.parseLockingScript(\n          definitionType,\n          lockingScript\n        )\n        results.push({\n          ...record,\n          txid,\n          outputIndex: Number(outputIndex),\n          satoshis: output.satoshis,\n          lockingScript: lockingScript.toHex(),\n          beef: BEEF as number[]\n        })\n      } catch {\n        // Ignore parse errors\n      }\n    }\n\n    return results\n  }\n\n  /**\n   * Revokes a registry record by spending its associated UTXO.\n   *\n   * @param registryRecord - Must have valid txid, outputIndex, and lockingScript.\n   * @returns Broadcast success/failure.\n   */\n  async revokeOwnRegistryEntry (\n    registryRecord: RegistryRecord\n  ): Promise<BroadcastResponse | BroadcastFailure> {\n    if (registryRecord.txid === undefined || typeof registryRecord.outputIndex === 'undefined' || registryRecord.lockingScript === undefined) {\n      throw new Error('Invalid registry record. Missing txid, outputIndex, or lockingScript.')\n    }\n\n    // Check if the registry record belongs to the current user\n    const currentIdentityKey = (await this.wallet.getPublicKey({ identityKey: true })).publicKey\n    if (registryRecord.registryOperator !== currentIdentityKey) {\n      throw new Error('This registry token does not belong to the current wallet.')\n    }\n\n    // Create a descriptive label for the item were revoking\n    const itemIdentifier =\n      registryRecord.definitionType === 'basket'\n        ? registryRecord.basketID\n        : registryRecord.definitionType === 'protocol'\n          ? registryRecord.name\n          : registryRecord.definitionType === 'certificate'\n            ? (registryRecord.name !== undefined ? registryRecord.name : registryRecord.type)\n            : 'unknown'\n\n    const outpoint = `${registryRecord.txid}.${registryRecord.outputIndex}`\n    const { signableTransaction } = await this.wallet.createAction({\n      description: `Revoke ${registryRecord.definitionType} item: ${itemIdentifier}`,\n      inputBEEF: registryRecord.beef,\n      inputs: [\n        {\n          outpoint,\n          unlockingScriptLength: 73,\n          inputDescription: `Revoking ${registryRecord.definitionType} token`\n        }\n      ]\n    })\n\n    if (signableTransaction === undefined) {\n      throw new Error('Failed to create signable transaction.')\n    }\n\n    const partialTx = Transaction.fromBEEF(signableTransaction.tx)\n\n    // Prepare the unlocker\n    const pushdrop = new PushDrop(this.wallet)\n    const unlocker = await pushdrop.unlock(\n      this.mapDefinitionTypeToWalletProtocol(registryRecord.definitionType),\n      '1',\n      'anyone',\n      'all',\n      false,\n      registryRecord.satoshis,\n      LockingScript.fromHex(registryRecord.lockingScript)\n    )\n\n    // Convert to Transaction, apply signature\n    const finalUnlockScript = await unlocker.sign(partialTx, registryRecord.outputIndex)\n\n    // Complete signing with the final unlock script\n    const { tx: signedTx } = await this.wallet.signAction({\n      reference: signableTransaction.reference,\n      spends: {\n        [registryRecord.outputIndex]: {\n          unlockingScript: finalUnlockScript.toHex()\n        }\n      },\n      options: {\n        acceptDelayedBroadcast: false\n      }\n    })\n\n    if (signedTx === undefined) {\n      throw new Error('Failed to finalize the transaction signature.')\n    }\n\n    // Broadcast\n    const broadcaster = new TopicBroadcaster(\n      [this.mapDefinitionTypeToTopic(registryRecord.definitionType)],\n      {\n        networkPreset: this.network ??= (await this.wallet.getNetwork({})).network\n      }\n    )\n    return await broadcaster.broadcast(Transaction.fromAtomicBEEF(signedTx))\n  }\n\n  // --------------------------------------------------------------------------\n  // INTERNAL UTILITY METHODS\n  // --------------------------------------------------------------------------\n\n  /**\n   * Convert definition data into an array of pushdrop fields (strings).\n   * Each definition type has a slightly different shape.\n   */\n  private buildPushDropFields (\n    data: DefinitionData,\n    registryOperator: PubKeyHex\n  ): number[][] {\n    let fields: string[]\n\n    switch (data.definitionType) {\n      case 'basket':\n        fields = [\n          data.basketID,\n          data.name,\n          data.iconURL,\n          data.description,\n          data.documentationURL\n        ]\n        break\n      case 'protocol':\n        fields = [\n          JSON.stringify(data.protocolID),\n          data.name,\n          data.iconURL,\n          data.description,\n          data.documentationURL\n        ]\n        break\n      case 'certificate':\n        fields = [\n          data.type,\n          data.name,\n          data.iconURL,\n          data.description,\n          data.documentationURL,\n          JSON.stringify(data.fields)\n        ]\n        break\n      default:\n        throw new Error('Unsupported definition type')\n    }\n\n    // Append the operator's public identity key last\n    fields.push(registryOperator)\n\n    return fields.map(field => Utils.toArray(field))\n  }\n\n  /**\n   * Decodes a pushdrop locking script for a given definition type,\n   * returning a typed record with the appropriate fields.\n   */\n  private async parseLockingScript (\n    definitionType: DefinitionType,\n    lockingScript: LockingScript\n  ): Promise<DefinitionData> {\n    const decoded = PushDrop.decode(lockingScript)\n    if (decoded.fields.length === 0) {\n      throw new Error('Not a valid registry pushdrop script.')\n    }\n\n    let registryOperator: PubKeyHex\n    let parsedData: DefinitionData\n\n    switch (definitionType) {\n      case 'basket': {\n        if (decoded.fields.length !== 7) {\n          throw new Error('Unexpected field count for basket type.')\n        }\n        const [basketID, name, iconURL, description, docURL, operator] = decoded.fields\n        registryOperator = Utils.toUTF8(operator)\n\n        parsedData = {\n          definitionType: 'basket',\n          basketID: Utils.toUTF8(basketID),\n          name: Utils.toUTF8(name),\n          iconURL: Utils.toUTF8(iconURL),\n          description: Utils.toUTF8(description),\n          documentationURL: Utils.toUTF8(docURL)\n        }\n        break\n      }\n\n      case 'protocol': {\n        if (decoded.fields.length !== 7) {\n          throw new Error('Unexpected field count for protocol type.')\n        }\n        const [\n          protocolID,\n          name,\n          iconURL,\n          description,\n          docURL,\n          operator\n        ] = decoded.fields\n        registryOperator = Utils.toUTF8(operator)\n\n        parsedData = {\n          definitionType: 'protocol',\n          protocolID: deserializeWalletProtocol(Utils.toUTF8(protocolID)),\n          name: Utils.toUTF8(name),\n          iconURL: Utils.toUTF8(iconURL),\n          description: Utils.toUTF8(description),\n          documentationURL: Utils.toUTF8(docURL)\n        }\n        break\n      }\n\n      case 'certificate': {\n        if (decoded.fields.length !== 8) {\n          throw new Error('Unexpected field count for certificate type.')\n        }\n        const [\n          certType,\n          name,\n          iconURL,\n          description,\n          docURL,\n          fieldsJSON,\n          operator\n        ] = decoded.fields\n        registryOperator = Utils.toUTF8(operator)\n\n        let parsedFields: Record<string, CertificateFieldDescriptor> = {}\n        try {\n          parsedFields = JSON.parse(Utils.toUTF8(fieldsJSON))\n        } catch {\n          // If there's a JSON parse error, assume empty\n        }\n\n        parsedData = {\n          definitionType: 'certificate',\n          type: Utils.toUTF8(certType),\n          name: Utils.toUTF8(name),\n          iconURL: Utils.toUTF8(iconURL),\n          description: Utils.toUTF8(description),\n          documentationURL: Utils.toUTF8(docURL),\n          fields: parsedFields\n        }\n        break\n      }\n\n      default:\n        throw new Error(`Unsupported definition type: ${definitionType as string}`)\n    }\n\n    // Return the typed data plus the operator key\n    return { ...parsedData, registryOperator }\n  }\n\n  /**\n   * Convert our definitionType to the wallet protocol format ([protocolID, keyID]).\n   */\n  private mapDefinitionTypeToWalletProtocol (definitionType: DefinitionType): WalletProtocol {\n    switch (definitionType) {\n      case 'basket':\n        return [1, 'basketmap']\n      case 'protocol':\n        return [1, 'protomap']\n      case 'certificate':\n        return [1, 'certmap']\n      default:\n        throw new Error(`Unknown definition type: ${definitionType as string}`)\n    }\n  }\n\n  /**\n   * Convert 'basket'|'protocol'|'certificate' to the basket name used by the wallet.\n   */\n  private mapDefinitionTypeToBasketName (definitionType: DefinitionType): string {\n    switch (definitionType) {\n      case 'basket':\n        return 'basketmap'\n      case 'protocol':\n        return 'protomap'\n      case 'certificate':\n        return 'certmap'\n      default:\n        throw new Error(`Unknown definition type: ${definitionType as string}`)\n    }\n  }\n\n  /**\n   * Convert 'basket'|'protocol'|'certificate' to the broadcast topic name.\n   */\n  private mapDefinitionTypeToTopic (definitionType: DefinitionType): string {\n    switch (definitionType) {\n      case 'basket':\n        return 'tm_basketmap'\n      case 'protocol':\n        return 'tm_protomap'\n      case 'certificate':\n        return 'tm_certmap'\n      default:\n        throw new Error(`Unknown definition type: ${definitionType as string}`)\n    }\n  }\n\n  /**\n   * Convert 'basket'|'protocol'|'certificate' to the lookup service name.\n   */\n  private mapDefinitionTypeToServiceName (definitionType: DefinitionType): string {\n    switch (definitionType) {\n      case 'basket':\n        return 'ls_basketmap'\n      case 'protocol':\n        return 'ls_protomap'\n      case 'certificate':\n        return 'ls_certmap'\n      default:\n        throw new Error(`Unknown definition type: ${definitionType as string}`)\n    }\n  }\n}\n\nexport function deserializeWalletProtocol (str: string): WalletProtocol {\n  // Parse the JSON string back into a JavaScript value.\n  const parsed = JSON.parse(str)\n\n  // Validate that the parsed value is an array with exactly two elements.\n  if (!Array.isArray(parsed) || parsed.length !== 2) {\n    throw new Error('Invalid wallet protocol format.')\n  }\n\n  const [security, protocolString] = parsed\n\n  // Validate that the security level is one of the allowed numbers.\n  if (![0, 1, 2].includes(security)) {\n    throw new Error('Invalid security level.')\n  }\n\n  // Validate that the protocol string is a string and its length is within the allowed bounds.\n  if (typeof protocolString !== 'string') {\n    throw new Error('Invalid protocolID')\n  }\n\n  return [security as SecurityLevel, protocolString]\n}\n","//@ts-nocheck\nimport PrivateKey from '../../../primitives/PrivateKey.js'\nimport {\n  ProtoWallet,\n  WalletInterface,\n  CreateActionResult,\n  SignActionResult,\n  AbortActionResult,\n  ListActionsResult,\n  InternalizeActionResult,\n  ListOutputsResult,\n  RelinquishOutputResult,\n  AcquireCertificateResult,\n  ListCertificatesResult,\n  ProveCertificateResult,\n  RelinquishCertificateResult,\n  DiscoverCertificatesResult,\n  GetHeightResult,\n  GetHeaderResult,\n  KeyDeriverApi,\n  KeyDeriver,\n  GetPublicKeyArgs,\n  PubKeyHex,\n  AuthenticatedResult,\n  GetNetworkResult,\n  GetVersionResult\n} from '../../../wallet/index.js'\n\n// Test Mock wallet which extends ProtoWallet but still implements Wallet interface\n// Unsupported methods throw\nexport class CompletedProtoWallet\n  extends ProtoWallet\n  implements WalletInterface {\n  keyDeriver: KeyDeriver\n  constructor(rootKeyOrKeyDeriver: PrivateKey | 'anyone' | KeyDeriverApi) {\n    super(rootKeyOrKeyDeriver)\n\n    if (rootKeyOrKeyDeriver instanceof KeyDeriver) {\n      this.keyDeriver = rootKeyOrKeyDeriver\n    } else if (\n      typeof rootKeyOrKeyDeriver === 'string' ||\n      rootKeyOrKeyDeriver instanceof PrivateKey\n    ) {\n      this.keyDeriver = new KeyDeriver(rootKeyOrKeyDeriver)\n    } else {\n      throw new Error('Invalid key deriver provided')\n    }\n  }\n\n  async isAuthenticated(\n  ): Promise<AuthenticatedResult> {\n    throw new Error('not implemented')\n  }\n\n  async waitForAuthentication(\n\n  ): Promise<AuthenticatedResult> {\n    throw new Error('not implemented')\n  }\n\n  async getNetwork(\n\n  ): Promise<GetNetworkResult> {\n    throw new Error('not implemented')\n  }\n\n  async getVersion(\n\n  ): Promise<GetVersionResult> {\n    throw new Error('not implemented')\n  }\n\n  async getPublicKey(\n    args: GetPublicKeyArgs\n  ): Promise<{ publicKey: PubKeyHex }> {\n    if (args.privileged === true) {\n      throw new Error('no privilege support')\n    }\n\n    if (args.identityKey === true) {\n      if (this.keyDeriver === null || this.keyDeriver === undefined) {\n        throw new Error('keyDeriver is not initialized')\n      }\n\n      return { publicKey: this.keyDeriver.rootKey.toPublicKey().toString() }\n    } else {\n      if (args.protocolID == null || typeof args.keyID !== 'string' || args.keyID.trim() === '') {\n        throw new Error(\n          'protocolID and keyID are required if identityKey is false or undefined.'\n        )\n      }\n\n      if (this.keyDeriver === null || this.keyDeriver === undefined) {\n        throw new Error('keyDeriver is not initialized')\n      }\n\n      return {\n        publicKey: this.keyDeriver\n          .derivePublicKey(\n            args.protocolID,\n            args.keyID,\n            typeof args.counterparty === 'string' && args.counterparty.trim() !== ''\n              ? args.counterparty\n              : 'self',\n            Boolean(args.forSelf)\n          )\n          .toString()\n      }\n    }\n  }\n\n  async createAction(\n\n  ): Promise<CreateActionResult> {\n    throw new Error('not implemented')\n  }\n\n  async signAction(\n\n  ): Promise<SignActionResult> {\n    throw new Error('not implemented')\n  }\n\n  async abortAction(\n\n  ): Promise<AbortActionResult> {\n    throw new Error('not implemented')\n  }\n\n  async listActions(\n\n  ): Promise<ListActionsResult> {\n    throw new Error('not implemented')\n  }\n\n  async internalizeAction(\n\n  ): Promise<InternalizeActionResult> {\n    throw new Error('not implemented')\n  }\n\n  async listOutputs(\n\n  ): Promise<ListOutputsResult> {\n    throw new Error('not implemented')\n  }\n\n  async relinquishOutput(\n\n  ): Promise<RelinquishOutputResult> {\n    throw new Error('not implemented')\n  }\n\n  async acquireCertificate(\n\n  ): Promise<AcquireCertificateResult> {\n    throw new Error('not implemented')\n  }\n\n  async listCertificates(\n\n  ): Promise<ListCertificatesResult> {\n    throw new Error('not implemented')\n  }\n\n  async proveCertificate(\n\n  ): Promise<ProveCertificateResult> {\n    throw new Error('not implemented')\n  }\n\n  async relinquishCertificate(\n\n  ): Promise<RelinquishCertificateResult> {\n    throw new Error('not implemented')\n  }\n\n  async discoverByIdentityKey(\n\n  ): Promise<DiscoverCertificatesResult> {\n    throw new Error('not implemented')\n  }\n\n  async discoverByAttributes(\n\n  ): Promise<DiscoverCertificatesResult> {\n    throw new Error('not implemented')\n  }\n\n  async getHeight(\n\n  ): Promise<GetHeightResult> {\n    throw new Error('not implemented')\n  }\n\n  async getHeaderForHeight(\n\n  ): Promise<GetHeaderResult> {\n    throw new Error('not implemented')\n  }\n}\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/server/mcp.ts","import { ZodFirstPartyTypeKind, } from \"zod\";\nimport { parseDef } from \"../parseDef.js\";\nimport { parseStringDef } from \"./string.js\";\nimport { parseBrandedDef } from \"./branded.js\";\nexport function parseRecordDef(def, refs) {\n    if (refs.target === \"openAi\") {\n        console.warn(\"Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.\");\n    }\n    if (refs.target === \"openApi3\" &&\n        def.keyType?._def.typeName === ZodFirstPartyTypeKind.ZodEnum) {\n        return {\n            type: \"object\",\n            required: def.keyType._def.values,\n            properties: def.keyType._def.values.reduce((acc, key) => ({\n                ...acc,\n                [key]: parseDef(def.valueType._def, {\n                    ...refs,\n                    currentPath: [...refs.currentPath, \"properties\", key],\n                }) ?? {},\n            }), {}),\n            additionalProperties: refs.rejectedAdditionalProperties,\n        };\n    }\n    const schema = {\n        type: \"object\",\n        additionalProperties: parseDef(def.valueType._def, {\n            ...refs,\n            currentPath: [...refs.currentPath, \"additionalProperties\"],\n        }) ?? refs.allowedAdditionalProperties,\n    };\n    if (refs.target === \"openApi3\") {\n        return schema;\n    }\n    if (def.keyType?._def.typeName === ZodFirstPartyTypeKind.ZodString &&\n        def.keyType._def.checks?.length) {\n        const { type, ...keyType } = parseStringDef(def.keyType._def, refs);\n        return {\n            ...schema,\n            propertyNames: keyType,\n        };\n    }\n    else if (def.keyType?._def.typeName === ZodFirstPartyTypeKind.ZodEnum) {\n        return {\n            ...schema,\n            propertyNames: {\n                enum: def.keyType._def.values,\n            },\n        };\n    }\n    else if (def.keyType?._def.typeName === ZodFirstPartyTypeKind.ZodBranded &&\n        def.keyType._def.type._def.typeName === ZodFirstPartyTypeKind.ZodString &&\n        def.keyType._def.type._def.checks?.length) {\n        const { type, ...keyType } = parseBrandedDef(def.keyType._def, refs);\n        return {\n            ...schema,\n            propertyNames: keyType,\n        };\n    }\n    return schema;\n}\n","/**\n * An object mapping opcode names (such as OP_DUP) to their corresponding numbers (such as 0x76), and vice versa.\n */\nconst OP = {\n  // push value\n  OP_FALSE: 0x00,\n  OP_0: 0x00,\n  OP_PUSHDATA1: 0x4c,\n  OP_PUSHDATA2: 0x4d,\n  OP_PUSHDATA4: 0x4e,\n  OP_1NEGATE: 0x4f,\n  OP_RESERVED: 0x50,\n  OP_TRUE: 0x51,\n  OP_1: 0x51,\n  OP_2: 0x52,\n  OP_3: 0x53,\n  OP_4: 0x54,\n  OP_5: 0x55,\n  OP_6: 0x56,\n  OP_7: 0x57,\n  OP_8: 0x58,\n  OP_9: 0x59,\n  OP_10: 0x5a,\n  OP_11: 0x5b,\n  OP_12: 0x5c,\n  OP_13: 0x5d,\n  OP_14: 0x5e,\n  OP_15: 0x5f,\n  OP_16: 0x60,\n\n  // control\n  OP_NOP: 0x61,\n  OP_VER: 0x62,\n  OP_IF: 0x63,\n  OP_NOTIF: 0x64,\n  OP_VERIF: 0x65,\n  OP_VERNOTIF: 0x66,\n  OP_ELSE: 0x67,\n  OP_ENDIF: 0x68,\n  OP_VERIFY: 0x69,\n  OP_RETURN: 0x6a,\n\n  // stack ops\n  OP_TOALTSTACK: 0x6b,\n  OP_FROMALTSTACK: 0x6c,\n  OP_2DROP: 0x6d,\n  OP_2DUP: 0x6e,\n  OP_3DUP: 0x6f,\n  OP_2OVER: 0x70,\n  OP_2ROT: 0x71,\n  OP_2SWAP: 0x72,\n  OP_IFDUP: 0x73,\n  OP_DEPTH: 0x74,\n  OP_DROP: 0x75,\n  OP_DUP: 0x76,\n  OP_NIP: 0x77,\n  OP_OVER: 0x78,\n  OP_PICK: 0x79,\n  OP_ROLL: 0x7a,\n  OP_ROT: 0x7b,\n  OP_SWAP: 0x7c,\n  OP_TUCK: 0x7d,\n\n  // data manipulation ops\n  OP_CAT: 0x7e,\n  OP_SUBSTR: 0x7f, // Replaced in BSV\n  OP_SPLIT: 0x7f,\n  OP_LEFT: 0x80, // Replaced in BSV\n  OP_NUM2BIN: 0x80,\n  OP_RIGHT: 0x81, // Replaced in BSV\n  OP_BIN2NUM: 0x81,\n  OP_SIZE: 0x82,\n\n  // bit logic\n  OP_INVERT: 0x83,\n  OP_AND: 0x84,\n  OP_OR: 0x85,\n  OP_XOR: 0x86,\n  OP_EQUAL: 0x87,\n  OP_EQUALVERIFY: 0x88,\n  OP_RESERVED1: 0x89,\n  OP_RESERVED2: 0x8a,\n\n  // numeric\n  OP_1ADD: 0x8b,\n  OP_1SUB: 0x8c,\n  OP_2MUL: 0x8d,\n  OP_2DIV: 0x8e,\n  OP_NEGATE: 0x8f,\n  OP_ABS: 0x90,\n  OP_NOT: 0x91,\n  OP_0NOTEQUAL: 0x92,\n\n  OP_ADD: 0x93,\n  OP_SUB: 0x94,\n  OP_MUL: 0x95,\n  OP_DIV: 0x96,\n  OP_MOD: 0x97,\n  OP_LSHIFT: 0x98,\n  OP_RSHIFT: 0x99,\n\n  OP_BOOLAND: 0x9a,\n  OP_BOOLOR: 0x9b,\n  OP_NUMEQUAL: 0x9c,\n  OP_NUMEQUALVERIFY: 0x9d,\n  OP_NUMNOTEQUAL: 0x9e,\n  OP_LESSTHAN: 0x9f,\n  OP_GREATERTHAN: 0xa0,\n  OP_LESSTHANOREQUAL: 0xa1,\n  OP_GREATERTHANOREQUAL: 0xa2,\n  OP_MIN: 0xa3,\n  OP_MAX: 0xa4,\n\n  OP_WITHIN: 0xa5,\n\n  // crypto\n  OP_RIPEMD160: 0xa6,\n  OP_SHA1: 0xa7,\n  OP_SHA256: 0xa8,\n  OP_HASH160: 0xa9,\n  OP_HASH256: 0xaa,\n  OP_CODESEPARATOR: 0xab,\n  OP_CHECKSIG: 0xac,\n  OP_CHECKSIGVERIFY: 0xad,\n  OP_CHECKMULTISIG: 0xae,\n  OP_CHECKMULTISIGVERIFY: 0xaf,\n\n  // expansion\n  OP_NOP1: 0xb0,\n  OP_NOP2: 0xb1,\n  OP_NOP3: 0xb2,\n  OP_NOP4: 0xb3,\n  OP_NOP5: 0xb4,\n  OP_NOP6: 0xb5,\n  OP_NOP7: 0xb6,\n  OP_NOP8: 0xb7,\n  OP_NOP9: 0xb8,\n  OP_NOP10: 0xb9,\n  OP_NOP11: 0xba,\n  OP_NOP12: 0xbb,\n  OP_NOP13: 0xbc,\n  OP_NOP14: 0xbd,\n  OP_NOP15: 0xbe,\n  OP_NOP16: 0xbf,\n  OP_NOP17: 0xc0,\n  OP_NOP18: 0xc1,\n  OP_NOP19: 0xc2,\n  OP_NOP20: 0xc3,\n  OP_NOP21: 0xc4,\n  OP_NOP22: 0xc5,\n  OP_NOP23: 0xc6,\n  OP_NOP24: 0xc7,\n  OP_NOP25: 0xc8,\n  OP_NOP26: 0xc9,\n  OP_NOP27: 0xca,\n  OP_NOP28: 0xcb,\n  OP_NOP29: 0xcc,\n  OP_NOP30: 0xcd,\n  OP_NOP31: 0xce,\n  OP_NOP32: 0xcf,\n  OP_NOP33: 0xd0,\n  OP_NOP34: 0xd1,\n  OP_NOP35: 0xd2,\n  OP_NOP36: 0xd3,\n  OP_NOP37: 0xd4,\n  OP_NOP38: 0xd5,\n  OP_NOP39: 0xd6,\n  OP_NOP40: 0xd7,\n  OP_NOP41: 0xd8,\n  OP_NOP42: 0xd9,\n  OP_NOP43: 0xda,\n  OP_NOP44: 0xdb,\n  OP_NOP45: 0xdc,\n  OP_NOP46: 0xdd,\n  OP_NOP47: 0xde,\n  OP_NOP48: 0xdf,\n  OP_NOP49: 0xe0,\n  OP_NOP50: 0xe1,\n  OP_NOP51: 0xe2,\n  OP_NOP52: 0xe3,\n  OP_NOP53: 0xe4,\n  OP_NOP54: 0xe5,\n  OP_NOP55: 0xe6,\n  OP_NOP56: 0xe7,\n  OP_NOP57: 0xe8,\n  OP_NOP58: 0xe9,\n  OP_NOP59: 0xea,\n  OP_NOP60: 0xeb,\n  OP_NOP61: 0xec,\n  OP_NOP62: 0xed,\n  OP_NOP63: 0xee,\n  OP_NOP64: 0xef,\n  OP_NOP65: 0xf0,\n  OP_NOP66: 0xf1,\n  OP_NOP67: 0xf2,\n  OP_NOP68: 0xf3,\n  OP_NOP69: 0xf4,\n  OP_NOP70: 0xf5,\n  OP_NOP71: 0xf6,\n  OP_NOP72: 0xf7,\n  OP_NOP73: 0xf8,\n  OP_NOP77: 0xfc,\n\n  // template matching params\n  OP_SMALLDATA: 0xf9,\n  OP_SMALLINTEGER: 0xfa,\n  OP_PUBKEYS: 0xfb,\n  OP_PUBKEYHASH: 0xfd,\n  OP_PUBKEY: 0xfe,\n\n  OP_INVALIDOPCODE: 0xff\n}\n\nfor (const name in OP) {\n  OP[OP[name]] = name\n}\n\nexport default OP\n","import Transaction from './Transaction.js'\n\n/**\n * Defines the structure of a successful broadcast response.\n *\n * @interface\n * @property {string} status - The status of the response, indicating success.\n * @property {string} txid - The transaction ID of the broadcasted transaction.\n * @property {string} message - A human-readable success message.\n */\nexport interface BroadcastResponse {\n  status: 'success'\n  txid: string\n  message: string\n  competingTxs?: string[]\n}\n\n/**\n * Defines the structure of a failed broadcast response.\n *\n * @interface\n * @property {string} status - The status of the response, indicating an error.\n * @property {string} code - A machine-readable error code representing the type of error encountered.\n * @property {string} txid - The transaction ID of the broadcasted transaction.\n * @property {string} description - A detailed description of the error.\n * @property {object} more - The unparsed response data from the underlying broadcast service.\n */\nexport interface BroadcastFailure {\n  status: 'error'\n  code: string\n  txid?: string\n  description: string\n  more?: object\n}\n\n/**\n * Represents the interface for a transaction broadcaster.\n * This interface defines a standard method for broadcasting transactions.\n *\n * @interface\n * @property {function} broadcast - A function that takes a Transaction object and returns a promise.\n *                                  The promise resolves to either a BroadcastResponse or a BroadcastFailure.\n * @property {function} broadcastMany - A function that takes an array of Transaction objects and returns a promise.\n *                                  The promise resolves to an array of broadcast result response objects.\n */\nexport interface Broadcaster {\n  broadcast: (\n    transaction: Transaction\n  ) => Promise<BroadcastResponse | BroadcastFailure>\n  broadcastMany?: (txs: Transaction[]) => Promise<object[]>\n}\n\n/**\n * Convenience type guard for response from `Broadcaster.broadcast`\n */\nexport function isBroadcastResponse (\n  r: BroadcastResponse | BroadcastFailure\n): r is BroadcastResponse {\n  return r.status === 'success'\n}\n\n/**\n * Convenience type guard for response from `Broadcaster.broadcast`\n */\nexport function isBroadcastFailure (\n  r: BroadcastResponse | BroadcastFailure\n): r is BroadcastFailure {\n  return r.status === 'error'\n}\n","class Rand {\n  _rand: (n: number) => number[] //  Explicit function type\n\n  constructor () {\n    const noRand = (): never => {\n      throw new Error(\n        'No secure random number generator is available in this environment.'\n      )\n    }\n\n    this._rand = noRand // Assign the function\n\n    if (typeof self === 'object') {\n      /* eslint-disable-next-line */\n      if (self.crypto?.getRandomValues) {\n        this._rand = (n) => {\n          const arr = new Uint8Array(n)\n          /* eslint-disable-next-line */\n          self.crypto.getRandomValues(arr);\n          return [...arr]\n        }\n      } /* if (typeof window === 'object') */ else {\n        this._rand = noRand\n      }\n    } else {\n      try {\n        /* eslint-disable-next-line */\n        const crypto = require(\"crypto\");\n        if (typeof crypto.randomBytes === 'function') {\n          this._rand = (n: number) => [...crypto.randomBytes(n)]\n        }\n      } catch {\n        this._rand = noRand\n      }\n    }\n  }\n\n  generate (len: number): number[] {\n    return this._rand(len)\n  }\n}\n\nlet ayn: Rand | null = null\n\n/**\n * Generates a sequence of pseudo-random bytes with the given length.\n *\n * @param len - The number of bytes to generate\n *\n * @returns The generated bytes\n *\n * @example\n * import Random from '@bsv/sdk/primitives/Random'\n * const bytes = Random(32) // Produces 32 random bytes\n */\nexport default (len: number): number[] => {\n  if (ayn == null) {\n    ayn = new Rand()\n  }\n  return ayn.generate(len)\n}\n","// @ts-nocheck\n/* eslint-disable @typescript-eslint/naming-convention */\nconst assert = (\n  expression: unknown,\n  message: string = 'Hash assertion failed'\n): void => {\n  if (!(expression as boolean)) {\n    throw new Error(message)\n  }\n}\n\n/**\n * The BaseHash class is an abstract base class for cryptographic hash functions.\n * It provides a common structure and functionality for hash function classes.\n *\n * @class BaseHash\n *\n * @property pending - Stores partially processed message segments.\n * @property pendingTotal - The total number of characters that are being stored in `pending`\n * @property blockSize - The size of each block to processed.\n * @property outSize - The size of the final hash output.\n * @property endian - The endianness used during processing, can either be 'big' or 'little'.\n * @property _delta8 - The block size divided by 8, useful in various computations.\n * @property _delta32 - The block size divided by 32, useful in various computations.\n * @property padLength - The length of padding to be added to finalize the computation.\n * @property hmacStrength - The HMAC strength value.\n *\n * @param blockSize - The size of the block to be hashed.\n * @param outSize - The size of the resulting hash.\n * @param hmacStrength - The strength of the HMAC.\n * @param padLength - The length of the padding to be added.\n *\n * @example\n * Sub-classes would extend this base BaseHash class like:\n * class RIPEMD160 extends BaseHash {\n *   constructor () {\n *     super(512, 160, 192, 64);\n *     // ...\n *   }\n *   // ...\n * }\n */\nabstract class BaseHash {\n  pending: number[] | null\n  pendingTotal: number\n  blockSize: number\n  outSize: number\n  endian: 'big' | 'little'\n  _delta8: number\n  _delta32: number\n  padLength: number\n  hmacStrength: number\n\n  constructor (\n    blockSize: number,\n    outSize: number,\n    hmacStrength: number,\n    padLength: number\n  ) {\n    this.pending = null\n    this.pendingTotal = 0\n    this.blockSize = blockSize\n    this.outSize = outSize\n    this.hmacStrength = hmacStrength\n    this.padLength = padLength / 8\n    this.endian = 'big'\n\n    this._delta8 = this.blockSize / 8\n    this._delta32 = this.blockSize / 32\n  }\n\n  _update (msg: number[], start: number): void {\n    throw new Error('Not implemented')\n  }\n\n  _digest (): number[] {\n    throw new Error('Not implemented')\n  }\n\n  _digestHex (): string {\n    throw new Error('Not implemented')\n  }\n\n  /**\n   * Converts the input message into an array, pads it, and joins into 32bit blocks.\n   * If there is enough data, it tries updating the hash computation.\n   *\n   * @method update\n   * @param msg - The message segment to include in the hashing computation.\n   * @param enc - The encoding of the message. If 'hex', the string will be treated as such, 'utf8' otherwise.\n   *\n   * @returns Returns the instance of the object for chaining.\n   *\n   * @example\n   * sha256.update('Hello World', 'utf8');\n   */\n  update (msg: number[] | string, enc?: 'hex' | 'utf8'): this {\n    // Convert message to array, pad it, and join into 32bit blocks\n    msg = toArray(msg, enc)\n    if (this.pending == null) {\n      this.pending = msg\n    } else {\n      this.pending = this.pending.concat(msg)\n    }\n    this.pendingTotal += msg.length\n\n    // Enough data, try updating\n    if (this.pending.length >= this._delta8) {\n      msg = this.pending\n\n      // Process pending data in blocks\n      const r = msg.length % this._delta8\n      this.pending = msg.slice(msg.length - r, msg.length)\n      if (this.pending.length === 0) {\n        this.pending = null\n      }\n\n      msg = join32(msg, 0, msg.length - r, this.endian)\n      for (let i = 0; i < msg.length; i += this._delta32) {\n        this._update(msg, i)\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Finalizes the hash computation and returns the hash value/result.\n   *\n   * @method digest\n   *\n   * @returns Returns the final hash value.\n   *\n   * @example\n   * const hash = sha256.digest();\n   */\n  digest (): number[] {\n    this.update(this._pad())\n    assert(this.pending === null)\n\n    return this._digest()\n  }\n\n  /**\n   * Finalizes the hash computation and returns the hash value/result as a hex string.\n   *\n   * @method digest\n   *\n   * @returns Returns the final hash value as a hex string.\n   *\n   * @example\n   * const hash = sha256.digestHex();\n   */\n  digestHex (): string {\n    this.update(this._pad())\n    assert(this.pending === null)\n\n    return this._digestHex()\n  }\n\n  /**\n   * [Private Method] Used internally to prepare the padding for the final stage of the hash computation.\n   *\n   * @method _pad\n   * @private\n   *\n   * @returns Returns an array denoting the padding.\n   */\n  private _pad (): number[] {\n    //\n    let len = this.pendingTotal\n    const bytes = this._delta8\n    const k = bytes - ((len + this.padLength) % bytes)\n    const res = new Array(k + this.padLength)\n    res[0] = 0x80\n    let i\n    for (i = 1; i < k; i++) {\n      res[i] = 0\n    }\n\n    // Append length\n    len <<= 3\n    let t\n    if (this.endian === 'big') {\n      for (t = 8; t < this.padLength; t++) {\n        res[i++] = 0\n      }\n\n      res[i++] = 0\n      res[i++] = 0\n      res[i++] = 0\n      res[i++] = 0\n      res[i++] = (len >>> 24) & 0xff\n      res[i++] = (len >>> 16) & 0xff\n      res[i++] = (len >>> 8) & 0xff\n      res[i++] = len & 0xff\n    } else {\n      res[i++] = len & 0xff\n      res[i++] = (len >>> 8) & 0xff\n      res[i++] = (len >>> 16) & 0xff\n      res[i++] = (len >>> 24) & 0xff\n      res[i++] = 0\n      res[i++] = 0\n      res[i++] = 0\n      res[i++] = 0\n\n      for (t = 8; t < this.padLength; t++) {\n        res[i++] = 0\n      }\n    }\n\n    return res\n  }\n}\n\nfunction isSurrogatePair (msg: string, i: number): boolean {\n  if ((msg.charCodeAt(i) & 0xfc00) !== 0xd800) {\n    return false\n  }\n  if (i < 0 || i + 1 >= msg.length) {\n    return false\n  }\n  return (msg.charCodeAt(i + 1) & 0xfc00) === 0xdc00\n}\n\n/**\n *\n * @param msg\n * @param enc Optional. Encoding to use if msg is string. Default is 'utf8'.\n * @returns array of byte values from msg. If msg is an array, a copy is returned.\n */\nexport function toArray (\n  msg: number[] | string,\n  enc?: 'hex' | 'utf8'\n): number[] {\n  if (Array.isArray(msg)) {\n    return msg.slice()\n  }\n  if (!(msg as unknown as boolean)) {\n    return []\n  }\n  const res = []\n  if (typeof msg === 'string') {\n    if (enc !== 'hex') {\n      // Inspired by stringToUtf8ByteArray() in closure-library by Google\n      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt#L117-L143\n      // Apache License 2.0\n      // https://github.com/google/closure-library/blob/master/LICENSE\n      let p = 0\n      for (let i = 0; i < msg.length; i++) {\n        let c = msg.charCodeAt(i)\n        if (c < 128) {\n          res[p++] = c\n        } else if (c < 2048) {\n          res[p++] = (c >> 6) | 192\n          res[p++] = (c & 63) | 128\n        } else if (isSurrogatePair(msg, i)) {\n          c = 0x10000 + ((c & 0x03ff) << 10) + (msg.charCodeAt(++i) & 0x03ff)\n          res[p++] = (c >> 18) | 240\n          res[p++] = ((c >> 12) & 63) | 128\n          res[p++] = ((c >> 6) & 63) | 128\n          res[p++] = (c & 63) | 128\n        } else {\n          res[p++] = (c >> 12) | 224\n          res[p++] = ((c >> 6) & 63) | 128\n          res[p++] = (c & 63) | 128\n        }\n      }\n    } else {\n      msg = msg.replace(/[^a-z0-9]+/gi, '')\n      if (msg.length % 2 !== 0) {\n        msg = '0' + msg\n      }\n      for (let i = 0; i < msg.length; i += 2) {\n        res.push(parseInt(msg[i] + msg[i + 1], 16))\n      }\n    }\n  } else {\n    msg = msg as number[]\n    for (let i = 0; i < msg.length; i++) {\n      res[i] = msg[i] | 0\n    }\n  }\n  return res\n}\n\nfunction htonl (w: number): number {\n  const res =\n    (w >>> 24) |\n    ((w >>> 8) & 0xff00) |\n    ((w << 8) & 0xff0000) |\n    ((w & 0xff) << 24)\n  return res >>> 0\n}\n\nfunction toHex32 (msg: number[], endian?: 'little' | 'big'): string {\n  let res = ''\n  for (let i = 0; i < msg.length; i++) {\n    let w = msg[i]\n    if (endian === 'little') {\n      w = htonl(w)\n    }\n    res += zero8(w.toString(16))\n  }\n  return res\n}\n\nfunction zero8 (word: string): string {\n  if (word.length === 7) {\n    return '0' + word\n  } else if (word.length === 6) {\n    return '00' + word\n  } else if (word.length === 5) {\n    return '000' + word\n  } else if (word.length === 4) {\n    return '0000' + word\n  } else if (word.length === 3) {\n    return '00000' + word\n  } else if (word.length === 2) {\n    return '000000' + word\n  } else if (word.length === 1) {\n    return '0000000' + word\n  } else {\n    return word\n  }\n}\n\nfunction join32 (msg, start, end, endian): number[] {\n  const len = end - start\n  assert(len % 4 === 0)\n  const res = new Array(len / 4)\n  for (let i = 0, k: number = start; i < res.length; i++, k += 4) {\n    let w\n    if (endian === 'big') {\n      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3]\n    } else {\n      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k]\n    }\n    res[i] = w >>> 0\n  }\n  return res\n}\n\nfunction split32 (msg: number[], endian: 'big' | 'little'): number[] {\n  const res = new Array(msg.length * 4)\n  for (let i = 0, k = 0; i < msg.length; i++, k += 4) {\n    const m = msg[i]\n    if (endian === 'big') {\n      res[k] = m >>> 24\n      res[k + 1] = (m >>> 16) & 0xff\n      res[k + 2] = (m >>> 8) & 0xff\n      res[k + 3] = m & 0xff\n    } else {\n      res[k + 3] = m >>> 24\n      res[k + 2] = (m >>> 16) & 0xff\n      res[k + 1] = (m >>> 8) & 0xff\n      res[k] = m & 0xff\n    }\n  }\n  return res\n}\n\nfunction rotr32 (w: number, b: number): number {\n  return (w >>> b) | (w << (32 - b))\n}\n\nfunction rotl32 (w: number, b: number): number {\n  return (w << b) | (w >>> (32 - b))\n}\n\nfunction sum32 (a: number, b: number): number {\n  return (a + b) >>> 0\n}\n\nfunction SUM32_3 (a: number, b: number, c: number): number {\n  return (a + b + c) >>> 0\n}\n\nfunction SUM32_4 (a: number, b: number, c: number, d: number): number {\n  return (a + b + c + d) >>> 0\n}\n\nfunction SUM32_5 (\n  a: number,\n  b: number,\n  c: number,\n  d: number,\n  e: number\n): number {\n  return (a + b + c + d + e) >>> 0\n}\n\nfunction FT_1 (s, x, y, z): number {\n  if (s === 0) {\n    return ch32(x, y, z)\n  }\n  if (s === 1 || s === 3) {\n    return p32(x, y, z)\n  }\n  if (s === 2) {\n    return maj32(x, y, z)\n  }\n}\n\nfunction ch32 (x, y, z): number {\n  return (x & y) ^ (~x & z)\n}\n\nfunction maj32 (x, y, z): number {\n  return (x & y) ^ (x & z) ^ (y & z)\n}\n\nfunction p32 (x, y, z): number {\n  return x ^ y ^ z\n}\n\nfunction S0_256 (x): number {\n  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22)\n}\n\nfunction S1_256 (x): number {\n  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25)\n}\n\nfunction G0_256 (x): number {\n  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3)\n}\n\nfunction G1_256 (x): number {\n  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10)\n}\n\nconst r = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 7, 4, 13, 1, 10, 6, 15,\n  3, 12, 0, 9, 5, 2, 14, 11, 8, 3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11,\n  5, 12, 1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2, 4, 0, 5, 9, 7,\n  12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13\n]\n\nconst rh = [\n  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12, 6, 11, 3, 7, 0, 13, 5,\n  10, 14, 15, 8, 12, 4, 9, 1, 2, 15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0,\n  4, 13, 8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14, 12, 15, 10, 4, 1,\n  5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11\n]\n\nconst s = [\n  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8, 7, 6, 8, 13, 11, 9, 7,\n  15, 7, 12, 15, 9, 11, 7, 13, 12, 11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5,\n  12, 7, 5, 11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12, 9, 15, 5,\n  11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6\n]\n\nconst sh = [\n  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6, 9, 13, 15, 7, 12, 8,\n  9, 11, 7, 7, 12, 7, 6, 15, 13, 11, 9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14,\n  13, 13, 7, 5, 15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8, 8, 5,\n  12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11\n]\n\nfunction f (j, x, y, z): number {\n  if (j <= 15) {\n    return x ^ y ^ z\n  } else if (j <= 31) {\n    return (x & y) | (~x & z)\n  } else if (j <= 47) {\n    return (x | ~y) ^ z\n  } else if (j <= 63) {\n    return (x & z) | (y & ~z)\n  } else {\n    return x ^ (y | ~z)\n  }\n}\n\nfunction K (j): number {\n  if (j <= 15) {\n    return 0x00000000\n  } else if (j <= 31) {\n    return 0x5a827999\n  } else if (j <= 47) {\n    return 0x6ed9eba1\n  } else if (j <= 63) {\n    return 0x8f1bbcdc\n  } else {\n    return 0xa953fd4e\n  }\n}\n\nfunction Kh (j): number {\n  if (j <= 15) {\n    return 0x50a28be6\n  } else if (j <= 31) {\n    return 0x5c4dd124\n  } else if (j <= 47) {\n    return 0x6d703ef3\n  } else if (j <= 63) {\n    return 0x7a6d76e9\n  } else {\n    return 0x00000000\n  }\n}\n\nfunction sum64 (buf: number[], pos: number, ah: number, al: number): void {\n  const bh = buf[pos]\n  const bl = buf[pos + 1]\n\n  const lo = (al + bl) >>> 0\n  const hi = (lo < al ? 1 : 0) + ah + bh\n  buf[pos] = hi >>> 0\n  buf[pos + 1] = lo\n}\n\nfunction sum64HI (ah: number, al: number, bh: number, bl: number): number {\n  const lo = (al + bl) >>> 0\n  const hi = (lo < al ? 1 : 0) + ah + bh\n  return hi >>> 0\n}\n\nfunction sum64LO (ah: number, al: number, bh: number, bl: number): number {\n  const lo = al + bl\n  return lo >>> 0\n}\n\nfunction sum64and4HI (\n  ah: number,\n  al: number,\n  bh: number,\n  bl: number,\n  ch: number,\n  cl: number,\n  dh: number,\n  dl: number\n): number {\n  let carry = 0\n  let lo = al\n  lo = (lo + bl) >>> 0\n  carry += lo < al ? 1 : 0\n  lo = (lo + cl) >>> 0\n  carry += lo < cl ? 1 : 0\n  lo = (lo + dl) >>> 0\n  carry += lo < dl ? 1 : 0\n\n  const hi = ah + bh + ch + dh + carry\n  return hi >>> 0\n}\n\nfunction sum64and4LO (\n  ah: number,\n  al: number,\n  bh: number,\n  bl: number,\n  ch: number,\n  cl: number,\n  dh: number,\n  dl: number\n): number {\n  const lo = al + bl + cl + dl\n  return lo >>> 0\n}\n\nfunction sum64and5HI (\n  ah: number,\n  al: number,\n  bh: number,\n  bl: number,\n  ch: number,\n  cl: number,\n  dh: number,\n  dl: number,\n  eh: number,\n  el: number\n): number {\n  let carry = 0\n  let lo = al\n  lo = (lo + bl) >>> 0\n  carry += lo < al ? 1 : 0\n  lo = (lo + cl) >>> 0\n  carry += lo < cl ? 1 : 0\n  lo = (lo + dl) >>> 0\n  carry += lo < dl ? 1 : 0\n  lo = (lo + el) >>> 0\n  carry += lo < el ? 1 : 0\n\n  const hi = ah + bh + ch + dh + eh + carry\n  return hi >>> 0\n}\n\nfunction sum64and5LO (\n  ah: number,\n  al: number,\n  bh: number,\n  bl: number,\n  ch: number,\n  cl: number,\n  dh: number,\n  dl: number,\n  eh: number,\n  el: number\n): number {\n  const lo = al + bl + cl + dl + el\n  return lo >>> 0\n}\n\nfunction rotr64HI (ah: number, al: number, num: number): number {\n  const r = (al << (32 - num)) | (ah >>> num)\n  return r >>> 0\n}\n\nfunction rotr64LO (ah: number, al: number, num: number): number {\n  const r = (ah << (32 - num)) | (al >>> num)\n  return r >>> 0\n}\n\nfunction shr64HI (ah: number, al: number, num: number): number {\n  return ah >>> num\n}\n\nfunction shr64LO (ah: number, al: number, num: number): number {\n  const r = (ah << (32 - num)) | (al >>> num)\n  return r >>> 0\n}\n\n/**\n * An implementation of RIPEMD160 cryptographic hash function. Extends the BaseHash class.\n * It provides a way to compute a 'digest' for any kind of input data; transforming the data\n * into a unique output of fixed size. The output is deterministic; it will always be\n * the same for the same input.\n *\n * @class RIPEMD160\n * @param None\n *\n * @constructor\n * Use the RIPEMD160 constructor to create an instance of RIPEMD160 hash function.\n *\n * @example\n * const ripemd160 = new RIPEMD160();\n *\n * @property h - Array that is updated iteratively as part of hashing computation.\n */\nexport class RIPEMD160 extends BaseHash {\n  h: number[]\n\n  constructor () {\n    super(512, 160, 192, 64)\n    this.endian = 'little'\n\n    this.h = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0]\n    this.endian = 'little'\n  }\n\n  _update (msg: number[], start: number): void {\n    let A = this.h[0]\n    let B = this.h[1]\n    let C = this.h[2]\n    let D = this.h[3]\n    let E = this.h[4]\n    let Ah = A\n    let Bh = B\n    let Ch = C\n    let Dh = D\n    let Eh = E\n    let T\n    for (let j = 0; j < 80; j++) {\n      T = sum32(\n        rotl32(SUM32_4(A, f(j, B, C, D), msg[r[j] + start], K(j)), s[j]),\n        E\n      )\n      A = E\n      E = D\n      D = rotl32(C, 10)\n      C = B\n      B = T\n      T = sum32(\n        rotl32(\n          SUM32_4(Ah, f(79 - j, Bh, Ch, Dh), msg[rh[j] + start], Kh(j)),\n          sh[j]\n        ),\n        Eh\n      )\n      Ah = Eh\n      Eh = Dh\n      Dh = rotl32(Ch, 10)\n      Ch = Bh\n      Bh = T\n    }\n    T = SUM32_3(this.h[1], C, Dh)\n    this.h[1] = SUM32_3(this.h[2], D, Eh)\n    this.h[2] = SUM32_3(this.h[3], E, Ah)\n    this.h[3] = SUM32_3(this.h[4], A, Bh)\n    this.h[4] = SUM32_3(this.h[0], B, Ch)\n    this.h[0] = T\n  }\n\n  _digest (): number[] {\n    return split32(this.h, 'little')\n  }\n\n  _digestHex (): string {\n    return toHex32(this.h, 'little')\n  }\n}\n\n/**\n * An implementation of SHA256 cryptographic hash function. Extends the BaseHash class.\n * It provides a way to compute a 'digest' for any kind of input data; transforming the data\n * into a unique output of fixed size. The output is deterministic; it will always be\n * the same for the same input.\n *\n * @class SHA256\n * @param None\n *\n * @constructor\n * Use the SHA256 constructor to create an instance of SHA256 hash function.\n *\n * @example\n * const sha256 = new SHA256();\n *\n * @property h - The initial hash constants\n * @property W - Provides a way to recycle usage of the array memory.\n * @property k - The round constants used for each round of SHA-256\n */\nexport class SHA256 extends BaseHash {\n  h: number[]\n  W: number[]\n  k: number[]\n\n  constructor () {\n    super(512, 256, 192, 64)\n    this.h = [\n      0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c,\n      0x1f83d9ab, 0x5be0cd19\n    ]\n    this.k = [\n      0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1,\n      0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n      0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786,\n      0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n      0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n      0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n      0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b,\n      0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n      0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a,\n      0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n      0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n    ]\n    this.W = new Array(64)\n  }\n\n  _update (msg: number[], start?: number): void {\n    const W = this.W\n\n    // Default start to 0\n    if (start === undefined) {\n      start = 0\n    }\n\n    let i: number\n    for (i = 0; i < 16; i++) {\n      W[i] = msg[start + i]\n    }\n    for (; i < W.length; i++) {\n      W[i] = SUM32_4(G1_256(W[i - 2]), W[i - 7], G0_256(W[i - 15]), W[i - 16])\n    }\n\n    let a = this.h[0]\n    let b = this.h[1]\n    let c = this.h[2]\n    let d = this.h[3]\n    let e = this.h[4]\n    let f = this.h[5]\n    let g = this.h[6]\n    let h = this.h[7]\n\n    assert(this.k.length === W.length)\n    for (i = 0; i < W.length; i++) {\n      const T1 = SUM32_5(h, S1_256(e), ch32(e, f, g), this.k[i], W[i])\n      const T2 = sum32(S0_256(a), maj32(a, b, c))\n      h = g\n      g = f\n      f = e\n      e = sum32(d, T1)\n      d = c\n      c = b\n      b = a\n      a = sum32(T1, T2)\n    }\n\n    this.h[0] = sum32(this.h[0], a)\n    this.h[1] = sum32(this.h[1], b)\n    this.h[2] = sum32(this.h[2], c)\n    this.h[3] = sum32(this.h[3], d)\n    this.h[4] = sum32(this.h[4], e)\n    this.h[5] = sum32(this.h[5], f)\n    this.h[6] = sum32(this.h[6], g)\n    this.h[7] = sum32(this.h[7], h)\n  }\n\n  _digest (): number[] {\n    return split32(this.h, 'big')\n  }\n\n  _digestHex (): string {\n    return toHex32(this.h, 'big')\n  }\n}\n\n/**\n * An implementation of SHA1 cryptographic hash function. Extends the BaseHash class.\n * It provides a way to compute a 'digest' for any kind of input data; transforming the data\n * into a unique output of fixed size. The output is deterministic; it will always be\n * the same for the same input.\n *\n * @class SHA1\n * @param None\n *\n * @constructor\n * Use the SHA1 constructor to create an instance of SHA1 hash function.\n *\n * @example\n * const sha1 = new SHA1();\n *\n * @property h - The initial hash constants.\n * @property W - Provides a way to recycle usage of the array memory.\n * @property k - The round constants used for each round of SHA-1.\n */\nexport class SHA1 extends BaseHash {\n  h: number[]\n  W: number[]\n  k: number[]\n\n  constructor () {\n    super(512, 160, 80, 64)\n    this.k = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6]\n    this.h = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0]\n    this.W = new Array(80)\n  }\n\n  _update (msg: number[], start?: number): void {\n    const W = this.W\n\n    // Default start to 0\n    if (start === undefined) {\n      start = 0\n    }\n\n    let i: number\n    for (i = 0; i < 16; i++) {\n      W[i] = msg[start + i]\n    }\n\n    for (; i < W.length; i++) {\n      W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1)\n    }\n\n    let a = this.h[0]\n    let b = this.h[1]\n    let c = this.h[2]\n    let d = this.h[3]\n    let e = this.h[4]\n\n    for (i = 0; i < W.length; i++) {\n      const s = ~~(i / 20)\n      const t = SUM32_5(rotl32(a, 5), FT_1(s, b, c, d), e, W[i], this.k[s])\n      e = d\n      d = c\n      c = rotl32(b, 30)\n      b = a\n      a = t\n    }\n\n    this.h[0] = sum32(this.h[0], a)\n    this.h[1] = sum32(this.h[1], b)\n    this.h[2] = sum32(this.h[2], c)\n    this.h[3] = sum32(this.h[3], d)\n    this.h[4] = sum32(this.h[4], e)\n  }\n\n  _digest (): number[] {\n    return split32(this.h, 'big')\n  }\n\n  _digestHex (): string {\n    return toHex32(this.h, 'big')\n  }\n}\n\n/**\n * An implementation of SHA512 cryptographic hash function. Extends the BaseHash class.\n * It provides a way to compute a 'digest' for any kind of input data; transforming the data\n * into a unique output of fixed size. The output is deterministic; it will always be\n * the same for the same input.\n *\n * @class SHA512\n * @param None\n *\n * @constructor\n * Use the SHA512 constructor to create an instance of SHA512 hash function.\n *\n * @example\n * const sha512 = new SHA512();\n *\n * @property h - The initial hash constants.\n * @property W - Provides a way to recycle usage of the array memory.\n * @property k - The round constants used for each round of SHA-512.\n */\nexport class SHA512 extends BaseHash {\n  h: number[]\n  W: number[]\n  k: number[]\n\n  constructor () {\n    super(1024, 512, 192, 128)\n    this.h = [\n      0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b,\n      0xa54ff53a, 0x5f1d36f1, 0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f,\n      0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179\n    ]\n    this.k = [\n      0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd, 0xb5c0fbcf, 0xec4d3b2f,\n      0xe9b5dba5, 0x8189dbbc, 0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n      0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118, 0xd807aa98, 0xa3030242,\n      0x12835b01, 0x45706fbe, 0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n      0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1, 0x9bdc06a7, 0x25c71235,\n      0xc19bf174, 0xcf692694, 0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n      0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65, 0x2de92c6f, 0x592b0275,\n      0x4a7484aa, 0x6ea6e483, 0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n      0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210, 0xb00327c8, 0x98fb213f,\n      0xbf597fc7, 0xbeef0ee4, 0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n      0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70, 0x27b70a85, 0x46d22ffc,\n      0x2e1b2138, 0x5c26c926, 0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n      0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8, 0x81c2c92e, 0x47edaee6,\n      0x92722c85, 0x1482353b, 0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n      0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30, 0xd192e819, 0xd6ef5218,\n      0xd6990624, 0x5565a910, 0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n      0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53, 0x2748774c, 0xdf8eeb99,\n      0x34b0bcb5, 0xe19b48a8, 0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n      0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3, 0x748f82ee, 0x5defb2fc,\n      0x78a5636f, 0x43172f60, 0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n      0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9, 0xbef9a3f7, 0xb2c67915,\n      0xc67178f2, 0xe372532b, 0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n      0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178, 0x06f067aa, 0x72176fba,\n      0x0a637dc5, 0xa2c898a6, 0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n      0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493, 0x3c9ebe0a, 0x15c9bebc,\n      0x431d67c4, 0x9c100d4c, 0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n      0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n    ]\n    this.W = new Array(160)\n  }\n\n  _prepareBlock (msg: number[], start: number): void {\n    const W = this.W\n\n    // 32 x 32bit words\n    let i: number\n    for (i = 0; i < 32; i++) {\n      W[i] = msg[start + i]\n    }\n    for (; i < W.length; i += 2) {\n      const c0Hi = g1_512_hi(W[i - 4], W[i - 3]) // i - 2\n      const c0Lo = g1_512_lo(W[i - 4], W[i - 3])\n      const c1Hi = W[i - 14] // i - 7\n      const c1Lo = W[i - 13]\n      const c2Hi = g0_512_hi(W[i - 30], W[i - 29]) // i - 15\n      const c2Lo = g0_512_lo(W[i - 30], W[i - 29])\n      const c3Hi = W[i - 32] // i - 16\n      const c3Lo = W[i - 31]\n\n      W[i] = sum64and4HI(c0Hi, c0Lo, c1Hi, c1Lo, c2Hi, c2Lo, c3Hi, c3Lo)\n      W[i + 1] = sum64and4LO(\n        c0Hi,\n        c0Lo,\n        c1Hi,\n        c1Lo,\n        c2Hi,\n        c2Lo,\n        c3Hi,\n        c3Lo\n      )\n    }\n  }\n\n  _update (msg: any, start: number): void {\n    this._prepareBlock(msg, start)\n\n    const W = this.W\n\n    let aHigh = this.h[0]\n    let aLow = this.h[1]\n    let bHigh = this.h[2]\n    let bLow = this.h[3]\n    let cHigh = this.h[4]\n    let cLow = this.h[5]\n    let dHigh = this.h[6]\n    let dLow = this.h[7]\n    let eHigh = this.h[8]\n    let eLow = this.h[9]\n    let fHigh = this.h[10]\n    let fLow = this.h[11]\n    let gHigh = this.h[12]\n    let gLow = this.h[13]\n    let hHigh = this.h[14]\n    let hLow = this.h[15]\n\n    assert(this.k.length === W.length)\n\n    for (let i = 0; i < W.length; i += 2) {\n      let temp0High = hHigh\n      let temp0Low = hLow\n      let temp1High = s1_512_hi(eHigh, eLow)\n      let temp1Low = s1_512_lo(eHigh, eLow)\n      const temp2High = ch64_hi(eHigh, eLow, fHigh, fLow, gHigh, gLow)\n      const temp2Low = ch64_lo(eHigh, eLow, fHigh, fLow, gHigh, gLow)\n      const temp3High = this.k[i]\n      const temp3Low = this.k[i + 1]\n      const temp4High = W[i]\n      const temp4Low = W[i + 1]\n\n      const t1High = sum64and5HI(\n        temp0High,\n        temp0Low,\n        temp1High,\n        temp1Low,\n        temp2High,\n        temp2Low,\n        temp3High,\n        temp3Low,\n        temp4High,\n        temp4Low\n      )\n      const t1Low = sum64and5LO(\n        temp0High,\n        temp0Low,\n        temp1High,\n        temp1Low,\n        temp2High,\n        temp2Low,\n        temp3High,\n        temp3Low,\n        temp4High,\n        temp4Low\n      )\n\n      temp0High = s0_512_hi(aHigh, aLow)\n      temp0Low = s0_512_lo(aHigh, aLow)\n      temp1High = maj64_hi(aHigh, aLow, bHigh, bLow, cHigh, cLow)\n      temp1Low = maj64_lo(aHigh, aLow, bHigh, bLow, cHigh, cLow)\n\n      const t2High = sum64HI(temp0High, temp0Low, temp1High, temp1Low)\n      const t2Low = sum64LO(temp0High, temp0Low, temp1High, temp1Low)\n\n      hHigh = gHigh\n      hLow = gLow\n\n      gHigh = fHigh\n      gLow = fLow\n\n      fHigh = eHigh\n      fLow = eLow\n\n      eHigh = sum64HI(dHigh, dLow, t1High, t1Low)\n      eLow = sum64LO(dLow, dLow, t1High, t1Low)\n\n      dHigh = cHigh\n      dLow = cLow\n\n      cHigh = bHigh\n      cLow = bLow\n\n      bHigh = aHigh\n      bLow = aLow\n\n      aHigh = sum64HI(t1High, t1Low, t2High, t2Low)\n      aLow = sum64LO(t1High, t1Low, t2High, t2Low)\n    }\n\n    sum64(this.h, 0, aHigh, aLow)\n    sum64(this.h, 2, bHigh, bLow)\n    sum64(this.h, 4, cHigh, cLow)\n    sum64(this.h, 6, dHigh, dLow)\n    sum64(this.h, 8, eHigh, eLow)\n    sum64(this.h, 10, fHigh, fLow)\n    sum64(this.h, 12, gHigh, gLow)\n    sum64(this.h, 14, hHigh, hLow)\n  }\n\n  _digest (): number[] {\n    return split32(this.h, 'big')\n  }\n\n  _digestHex (): string {\n    return toHex32(this.h, 'big')\n  }\n}\n\nfunction ch64_hi (xh: number, xl: number, yh: number, yl: number, zh: number, zl: number): number {\n  let r: number = (xh & yh) ^ (~xh & zh)\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction ch64_lo (xh: number, xl: number, yh: number, yl: number, zh: number, zl: number): number {\n  let r: number = (xl & yl) ^ (~xl & zl)\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction maj64_hi (xh: number, xl: number, yh: number, yl: number, zh: number, zl: number): number {\n  let r: number = (xh & yh) ^ (xh & zh) ^ (yh & zh)\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction maj64_lo (xh: number, xl: number, yh: number, yl: number, zh: number, zl: number): number {\n  let r: number = (xl & yl) ^ (xl & zl) ^ (yl & zl)\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction s0_512_hi (xh: number, xl: number): number {\n  const c0_hi: number = rotr64HI(xh, xl, 28)\n  const c1_hi: number = rotr64HI(xl, xh, 2) // 34\n  const c2_hi: number = rotr64HI(xl, xh, 7) // 39\n\n  let r: number = c0_hi ^ c1_hi ^ c2_hi\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction s0_512_lo (xh: number, xl: number): number {\n  const c0_lo: number = rotr64LO(xh, xl, 28)\n  const c1_lo: number = rotr64LO(xl, xh, 2) // 34\n  const c2_lo: number = rotr64LO(xl, xh, 7) // 39\n\n  let r: number = c0_lo ^ c1_lo ^ c2_lo\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction s1_512_hi (xh: number, xl: number): number {\n  const c0_hi: number = rotr64HI(xh, xl, 14)\n  const c1_hi: number = rotr64HI(xh, xl, 18)\n  const c2_hi: number = rotr64HI(xl, xh, 9) // 41\n\n  let r: number = c0_hi ^ c1_hi ^ c2_hi\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction s1_512_lo (xh: number, xl: number): number {\n  const c0_lo: number = rotr64LO(xh, xl, 14)\n  const c1_lo: number = rotr64LO(xh, xl, 18)\n  const c2_lo: number = rotr64LO(xl, xh, 9) // 41\n\n  let r: number = c0_lo ^ c1_lo ^ c2_lo\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction g0_512_hi (xh: number, xl: number): number {\n  const c0_hi: number = rotr64HI(xh, xl, 1)\n  const c1_hi: number = rotr64HI(xh, xl, 8)\n  const c2_hi: number = shr64HI(xh, xl, 7)\n\n  let r: number = c0_hi ^ c1_hi ^ c2_hi\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction g0_512_lo (xh: number, xl: number): number {\n  const c0_lo: number = rotr64LO(xh, xl, 1)\n  const c1_lo: number = rotr64LO(xh, xl, 8)\n  const c2_lo: number = shr64LO(xh, xl, 7)\n\n  let r: number = c0_lo ^ c1_lo ^ c2_lo\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction g1_512_hi (xh: number, xl: number): number {\n  const c0_hi: number = rotr64HI(xh, xl, 19)\n  const c1_hi: number = rotr64HI(xl, xh, 29) // 61\n  const c2_hi: number = shr64HI(xh, xl, 6)\n\n  let r: number = c0_hi ^ c1_hi ^ c2_hi\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\nfunction g1_512_lo (xh: number, xl: number): number {\n  const c0_lo: number = rotr64LO(xh, xl, 19)\n  const c1_lo: number = rotr64LO(xl, xh, 29) // 61\n  const c2_lo: number = shr64LO(xh, xl, 6)\n\n  let r: number = c0_lo ^ c1_lo ^ c2_lo\n  if (r < 0) {\n    r += 0x100000000\n  }\n  return r\n}\n\n/**\n * The `SHA256HMAC` class is used to create Hash-based Message Authentication Code (HMAC) using the SHA-256 cryptographic hash function.\n *\n * HMAC is a specific type of MAC involving a cryptographic hash function and a secret cryptographic key. It may be used to simultaneously verify both the data integrity and the authenticity of a message.\n *\n * This class also uses the SHA-256 cryptographic hash algorithm that produces a 256-bit (32-byte) hash value.\n *\n * @property inner - Represents the inner hash of SHA-256.\n * @property outer - Represents the outer hash of SHA-256.\n * @property blockSize - The block size for the SHA-256 hash function, in bytes. It's set to 64 bytes.\n * @property outSize - The output size of the SHA-256 hash function, in bytes. It's set to 32 bytes.\n */\nexport class SHA256HMAC {\n  inner: SHA256\n  outer: SHA256\n  blockSize = 64\n  outSize = 32\n\n  /**\n   * The constructor for the `SHA256HMAC` class.\n   *\n   * It initializes the `SHA256HMAC` object and sets up the inner and outer padded keys.\n   * If the key size is larger than the blockSize, it is digested using SHA-256.\n   * If the key size is less than the blockSize, it is padded with zeroes.\n   *\n   * @constructor\n   * @param key - The key to use to create the HMAC. Can be a number array or a string in hexadecimal format.\n   *\n   * @example\n   * const myHMAC = new SHA256HMAC('deadbeef');\n   */\n  constructor (key: number[] | string) {\n    key = toArray(key, 'hex')\n    // Shorten key, if needed\n    if (key.length > this.blockSize) {\n      key = new SHA256().update(key).digest()\n    }\n    assert(key.length <= this.blockSize)\n\n    // Add padding to key\n    let i\n    for (i = key.length; i < this.blockSize; i++) {\n      key.push(0)\n    }\n\n    for (i = 0; i < key.length; i++) {\n      key[i] ^= 0x36\n    }\n    this.inner = new SHA256().update(key)\n\n    // 0x36 ^ 0x5c = 0x6a\n    for (i = 0; i < key.length; i++) {\n      key[i] ^= 0x6a\n    }\n    this.outer = new SHA256().update(key)\n  }\n\n  /**\n   * Updates the `SHA256HMAC` object with part of the message to be hashed.\n   *\n   * @method update\n   * @param msg - Part of the message to hash. Can be a number array or a string.\n   * @param enc - If 'hex', then the input is encoded as hexadecimal. If undefined or not 'hex', then no encoding is performed.\n   * @returns Returns the instance of `SHA256HMAC` for chaining calls.\n   *\n   * @example\n   * myHMAC.update('deadbeef', 'hex');\n   */\n  update (msg: number[] | string, enc?: 'hex'): SHA256HMAC {\n    this.inner.update(msg, enc)\n    return this\n  }\n\n  /**\n   * Finalizes the HMAC computation and returns the resultant hash.\n   *\n   * @method digest\n   * @returns Returns the digest of the hashed data. Can be a number array or a string.\n   *\n   * @example\n   * let hashedMessage = myHMAC.digest();\n   */\n  digest (): number[] {\n    this.outer.update(this.inner.digest())\n    return this.outer.digest()\n  }\n\n  /**\n   * Finalizes the HMAC computation and returns the resultant hash as a hex string.\n   *\n   * @method digest\n   * @returns Returns the digest of the hashed data as a hex string\n   *\n   * @example\n   * let hashedMessage = myHMAC.digestHex();\n   */\n  digestHex (): string {\n    this.outer.update(this.inner.digest())\n    return this.outer.digestHex()\n  }\n}\n\nexport class SHA1HMAC {\n  inner: SHA1\n  outer: SHA1\n  blockSize = 64\n\n  constructor (key: number[] | string) {\n    key = toArray(key, 'hex')\n    // Shorten key, if needed\n    if (key.length > this.blockSize) {\n      key = new SHA1().update(key).digest()\n    }\n\n    // Keys shorter than block size are padded with zeros on the right\n    let i\n    for (i = key.length; i < this.blockSize; i++) {\n      key.push(0)\n    }\n\n    for (i = 0; i < key.length; i++) {\n      key[i] ^= 0x36\n    }\n    this.inner = new SHA1().update(key)\n\n    // 0x36 ^ 0x5c = 0x6a\n    for (i = 0; i < key.length; i++) {\n      key[i] ^= 0x6a\n    }\n    this.outer = new SHA1().update(key)\n  }\n\n  update (msg: number[] | string, enc?: 'hex'): SHA1HMAC {\n    this.inner.update(msg, enc)\n    return this\n  }\n\n  digest (): number[] {\n    this.outer.update(this.inner.digest())\n    return this.outer.digest()\n  }\n\n  digestHex (): string {\n    this.outer.update(this.inner.digest())\n    return this.outer.digestHex()\n  }\n}\n\n/**\n * The `SHA512HMAC` class is used to create Hash-based Message Authentication Code (HMAC) using the SHA-512 cryptographic hash function.\n *\n * HMAC is a specific type of MAC involving a cryptographic hash function and a secret cryptographic key. It may be used to simultaneously verify both the data integrity and the authenticity of a message.\n *\n * This class also uses the SHA-512 cryptographic hash algorithm that produces a 512-bit (64-byte) hash value.\n *\n * @property inner - Represents the inner hash of SHA-512.\n * @property outer - Represents the outer hash of SHA-512.\n * @property blockSize - The block size for the SHA-512 hash function, in bytes. It's set to 128 bytes.\n * @property outSize - The output size of the SHA-512 hash function, in bytes. It's set to 64 bytes.\n */\nexport class SHA512HMAC {\n  inner: SHA512\n  outer: SHA512\n  blockSize = 128\n  outSize = 32\n\n  /**\n   * The constructor for the `SHA512HMAC` class.\n   *\n   * It initializes the `SHA512HMAC` object and sets up the inner and outer padded keys.\n   * If the key size is larger than the blockSize, it is digested using SHA-512.\n   * If the key size is less than the blockSize, it is padded with zeroes.\n   *\n   * @constructor\n   * @param key - The key to use to create the HMAC. Can be a number array or a string in hexadecimal format.\n   *\n   * @example\n   * const myHMAC = new SHA512HMAC('deadbeef');\n   */\n  constructor (key: number[] | string) {\n    key = toArray(key, 'hex')\n    // Shorten key, if needed\n    if (key.length > this.blockSize) {\n      key = new SHA512().update(key).digest()\n    }\n    assert(key.length <= this.blockSize)\n\n    // Add padding to key\n    let i\n    for (i = key.length; i < this.blockSize; i++) {\n      key.push(0)\n    }\n\n    for (i = 0; i < key.length; i++) {\n      key[i] ^= 0x36\n    }\n    this.inner = new SHA512().update(key)\n\n    // 0x36 ^ 0x5c = 0x6a\n    for (i = 0; i < key.length; i++) {\n      key[i] ^= 0x6a\n    }\n    this.outer = new SHA512().update(key)\n  }\n\n  /**\n   * Updates the `SHA512HMAC` object with part of the message to be hashed.\n   *\n   * @method update\n   * @param msg - Part of the message to hash. Can be a number array or a string.\n   * @param enc - If 'hex', then the input is encoded as hexadecimal. If undefined or not 'hex', then no encoding is performed.\n   * @returns Returns the instance of `SHA512HMAC` for chaining calls.\n   *\n   * @example\n   * myHMAC.update('deadbeef', 'hex');\n   */\n  update (msg: number[] | string, enc?: 'hex' | 'utf8'): SHA512HMAC {\n    this.inner.update(msg, enc)\n    return this\n  }\n\n  /**\n   * Finalizes the HMAC computation and returns the resultant hash.\n   *\n   * @method digest\n   * @returns Returns the digest of the hashed data as a number array.\n   *\n   * @example\n   * let hashedMessage = myHMAC.digest();\n   */\n  digest (): number[] {\n    this.outer.update(this.inner.digest())\n    return this.outer.digest()\n  }\n\n  /**\n   * Finalizes the HMAC computation and returns the resultant hash as a hex string.\n   *\n   * @method digest\n   * @returns Returns the digest of the hashed data as a hex string\n   *\n   * @example\n   * let hashedMessage = myHMAC.digestHex();\n   */\n  digestHex (): string {\n    this.outer.update(this.inner.digest())\n    return this.outer.digestHex()\n  }\n}\n\n/**\n * Computes RIPEMD160 hash of a given message.\n * @function ripemd160\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the computed RIPEMD160 hash of the message.\n *\n * @example\n * const digest = ripemd160('Hello, world!');\n */\nexport const ripemd160 = (\n  msg: number[] | string,\n  enc?: 'hex' | 'utf8'\n): number[] => {\n  return new RIPEMD160().update(msg, enc).digest()\n}\n\n/**\n * Computes SHA1 hash of a given message.\n * @function sha1\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the computed SHA1 hash of the message.\n *\n * @example\n * const digest = sha1('Hello, world!');\n */\nexport const sha1 = (\n  msg: number[] | string,\n  enc?: 'hex' | 'utf8'\n): number[] => {\n  return new SHA1().update(msg, enc).digest()\n}\n\n/**\n * Computes SHA256 hash of a given message.\n * @function sha256\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the computed SHA256 hash of the message.\n *\n * @example\n * const digest = sha256('Hello, world!');\n */\nexport const sha256 = (\n  msg: number[] | string,\n  enc?: 'hex' | 'utf8'\n): number[] => {\n  return new SHA256().update(msg, enc).digest()\n}\n\n/**\n * Computes SHA512 hash of a given message.\n * @function sha512\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the computed SHA512 hash of the message.\n *\n * @example\n * const digest = sha512('Hello, world!');\n */\nexport const sha512 = (\n  msg: number[] | string,\n  enc?: 'hex' | 'utf8'\n): number[] => {\n  return new SHA512().update(msg, enc).digest()\n}\n\n/**\n * Performs a 'double hash' using SHA256. This means the data is hashed twice\n * with SHA256. First, the SHA256 hash of the message is computed, then the\n * SHA256 hash of the resulting hash is computed.\n * @function hash256\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the double hashed SHA256 output.\n *\n * @example\n * const doubleHash = hash256('Hello, world!');\n */\nexport const hash256 = (\n  msg: number[] | string,\n  enc?: 'hex' | 'utf8'\n): number[] => {\n  const first = new SHA256().update(msg, enc).digest()\n  return new SHA256().update(first).digest()\n}\n\n/**\n * Computes SHA256 hash of a given message and then computes a RIPEMD160 hash of the result.\n *\n * @function hash160\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the RIPEMD160 hash of the SHA256 hash of the input message.\n *\n * @example\n * const hash = hash160('Hello, world!');\n */\nexport const hash160 = (\n  msg: number[] | string,\n  enc?: 'hex' | 'utf8'\n): number[] => {\n  const first = new SHA256().update(msg, enc).digest()\n  return new RIPEMD160().update(first).digest()\n}\n\n/**\n * Computes SHA256 HMAC of a given message with a given key.\n * @function sha256hmac\n * @param key - The key used to compute the HMAC\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the computed HMAC of the message.\n *\n * @example\n * const digest = sha256hmac('deadbeef', 'ffff001d');\n */\nexport const sha256hmac = (\n  key: number[] | string,\n  msg: number[] | string,\n  enc?: 'hex'\n): number[] => {\n  return new SHA256HMAC(key).update(msg, enc).digest()\n}\n\n/**\n * Computes SHA512 HMAC of a given message with a given key.\n * @function sha512hmac\n * @param key - The key used to compute the HMAC\n * @param msg - The message to compute the hash for.\n * @param enc - The encoding of msg if string. Default is 'utf8'.\n *\n * @returns the computed HMAC of the message.\n *\n * @example\n * const digest = sha512hmac('deadbeef', 'ffff001d');\n */\nexport const sha512hmac = (\n  key: number[] | string,\n  msg: number[] | string,\n  enc?: 'hex'\n): number[] => {\n  return new SHA512HMAC(key).update(msg, enc).digest()\n}\n\n/**\n * Limited SHA-512-only PBKDF2 function for use in deprecated BIP39 code.\n * @function pbkdf2\n * @param password - The PBKDF2 password\n * @param salt - The PBKDF2 salt\n * @param iterations - The number of of iterations to run\n * @param keylen - The length of the key\n * @param digest - The digest (must be sha512 for this implementation)\n *\n * @returns The computed key\n */\nexport function pbkdf2 (\n  password: number[],\n  salt: number[],\n  iterations: number,\n  keylen: number,\n  digest = 'sha512'\n): number[] {\n  if (digest !== 'sha512') {\n    throw new Error('Only sha512 is supported in this PBKDF2 implementation')\n  }\n  const DK = new Array(keylen)\n  const block1 = [...salt, 0, 0, 0, 0]\n\n  let destPos = 0\n  const hLen = 64\n  const l = Math.ceil(keylen / hLen)\n\n  for (let i = 1; i <= l; i++) {\n    block1[salt.length] = (i >> 24) & 0xff // MSB\n    block1[salt.length + 1] = (i >> 16) & 0xff\n    block1[salt.length + 2] = (i >> 8) & 0xff\n    block1[salt.length + 3] = i & 0xff // LSB\n\n    const T = sha512hmac(password, block1)\n    let U = T\n\n    for (let j = 1; j < iterations; j++) {\n      U = sha512hmac(password, U)\n      for (let k = 0; k < hLen; k++) T[k] ^= U[k]\n    }\n\n    for (let i = 0; i < T.length; i++) {\n      DK[destPos + i] = T[i]\n    }\n    destPos += hLen\n  }\n\n  return DK.slice(0, keylen)\n}\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/server/auth/errors.ts","import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n","import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n","import {\n  Transaction,\n  BroadcastResponse,\n  BroadcastFailure,\n  Broadcaster\n} from '../transaction/index.js'\nimport LookupResolver from './LookupResolver.js'\nimport OverlayAdminTokenTemplate from './OverlayAdminTokenTemplate.js'\n\n/**\n * Tagged BEEF\n *\n * @description\n * Tagged BEEF ([Background Evaluation Extended Format](https://brc.dev/62)) structure. Comprises a transaction, its SPV information, and the overlay topics where its inclusion is requested.\n */\nexport interface TaggedBEEF {\n  beef: number[]\n  topics: string[]\n}\n\n/**\n * Instructs the Overlay Services Engine about which outputs to admit and which previous outputs to retain. Returned by a Topic Manager.\n */\nexport interface AdmittanceInstructions {\n  /**\n   * The indices of all admissible outputs into the managed topic from the provided transaction.\n   */\n  outputsToAdmit: number[]\n\n  /**\n   * The indices of all inputs from the provided transaction which spend previously-admitted outputs that should be retained for historical record-keeping.\n   */\n  coinsToRetain: number[]\n\n  /**\n   * The indices of all inputs from the provided transaction which reference previously-admitted outputs,\n   * which are now considered spent and have been removed from the managed topic.\n   */\n  coinsRemoved?: number[]\n}\n\n/**\n * Submitted Transaction Execution AcKnowledgment\n *\n * @description\n * Comprises the topics where a transaction was submitted, and for each one, the output indices for the UTXOs newly admitted into the topics, and the coins retained.\n * An object whose keys are topic names and whose values are topical admittance instructions denoting the state of the submitted transaction with respect to the associated topic.\n */\nexport type STEAK = Record<string, AdmittanceInstructions>\n\n/** Configuration options for the SHIP broadcaster. */\nexport interface SHIPBroadcasterConfig {\n  /**\n   * The network preset to use, unless other options override it.\n   * - mainnet: use mainnet resolver and HTTPS facilitator\n   * - testnet: use testnet resolver and HTTPS facilitator\n   * - local: directly send to localhost:8080 and a facilitator that permits plain HTTP\n   */\n  networkPreset?: 'mainnet' | 'testnet' | 'local'\n  /** The facilitator used to make requests to Overlay Services hosts. */\n  facilitator?: OverlayBroadcastFacilitator\n  /** The resolver used to locate suitable hosts with SHIP */\n  resolver?: LookupResolver\n  /** Determines which topics (all, any, or a specific list) must be present within all STEAKs received from every host for the broadcast to be considered a success. By default, all hosts must acknowledge all topics. */\n  requireAcknowledgmentFromAllHostsForTopics?: 'all' | 'any' | string[]\n  /** Determines which topics (all, any, or a specific list) must be present within STEAK received from at least one host for the broadcast to be considered a success. */\n  requireAcknowledgmentFromAnyHostForTopics?: 'all' | 'any' | string[]\n  /** Determines a mapping whose keys are specific hosts and whose values are the topics (all, any, or a specific list) that must be present within the STEAK received by the given hosts, in order for the broadcast to be considered a success. */\n  requireAcknowledgmentFromSpecificHostsForTopics?: Record<string, 'all' | 'any' | string[]>\n}\n\n/** Facilitates transaction broadcasts that return STEAK. */\nexport interface OverlayBroadcastFacilitator {\n  send: (url: string, taggedBEEF: TaggedBEEF) => Promise<STEAK>\n}\n\nconst MAX_SHIP_QUERY_TIMEOUT = 5000\n\nexport class HTTPSOverlayBroadcastFacilitator implements OverlayBroadcastFacilitator {\n  httpClient: typeof fetch\n  allowHTTP: boolean\n\n  constructor (httpClient = fetch, allowHTTP: boolean = false) {\n    this.httpClient = httpClient\n    this.allowHTTP = allowHTTP\n  }\n\n  async send (url: string, taggedBEEF: TaggedBEEF): Promise<STEAK> {\n    console.log(url)\n    if (!url.startsWith('https:') && !this.allowHTTP) {\n      throw new Error(\n        'HTTPS facilitator can only use URLs that start with \"https:\"'\n      )\n    }\n    const response = await fetch(`${url}/submit`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/octet-stream',\n        'X-Topics': JSON.stringify(taggedBEEF.topics)\n      },\n      body: new Uint8Array(taggedBEEF.beef)\n    })\n    if (response.ok) {\n      return await response.json()\n    } else {\n      throw new Error('Failed to facilitate broadcast')\n    }\n  }\n}\n\n/**\n * Broadcasts transactions to one or more overlay topics.\n */\nexport default class TopicBroadcaster implements Broadcaster {\n  private readonly topics: string[]\n  private readonly facilitator: OverlayBroadcastFacilitator\n  private readonly resolver: LookupResolver\n  private readonly requireAcknowledgmentFromAllHostsForTopics: | 'all' | 'any' | string[]\n  private readonly requireAcknowledgmentFromAnyHostForTopics: | 'all' | 'any' | string[]\n  private readonly requireAcknowledgmentFromSpecificHostsForTopics: Record<string, 'all' | 'any' | string[]>\n  private readonly networkPreset: 'mainnet' | 'testnet' | 'local'\n\n  /**\n   * Constructs an instance of the SHIP broadcaster.\n   *\n   * @param {string[]} topics - The list of SHIP topic names where transactions are to be sent.\n   * @param {SHIPBroadcasterConfig} config - Configuration options for the SHIP broadcaster.\n   */\n  constructor (topics: string[], config: SHIPBroadcasterConfig = {}) {\n    if (topics.length === 0) {\n      throw new Error('At least one topic is required for broadcast.')\n    }\n    if (topics.some((x) => !x.startsWith('tm_'))) {\n      throw new Error('Every topic must start with \"tm_\".')\n    }\n    this.topics = topics\n    this.networkPreset = config.networkPreset ?? 'mainnet'\n    this.facilitator = config.facilitator ?? new HTTPSOverlayBroadcastFacilitator(undefined, this.networkPreset === 'local')\n    this.resolver = config.resolver ?? new LookupResolver({ networkPreset: this.networkPreset })\n    this.requireAcknowledgmentFromAllHostsForTopics =\n      config.requireAcknowledgmentFromAllHostsForTopics ?? []\n    this.requireAcknowledgmentFromAnyHostForTopics =\n      config.requireAcknowledgmentFromAnyHostForTopics ?? 'all'\n    this.requireAcknowledgmentFromSpecificHostsForTopics =\n      config.requireAcknowledgmentFromSpecificHostsForTopics ?? {}\n  }\n\n  /**\n   * Broadcasts a transaction to Overlay Services via SHIP.\n   *\n   * @param {Transaction} tx - The transaction to be sent.\n   * @returns {Promise<BroadcastResponse | BroadcastFailure>} A promise that resolves to either a success or failure response.\n   */\n  async broadcast (\n    tx: Transaction\n  ): Promise<BroadcastResponse | BroadcastFailure> {\n    console.log(tx)\n    let beef: number[]\n    try {\n      beef = tx.toBEEF()\n    } catch (error) {\n      throw new Error(\n        'Transactions sent via SHIP to Overlay Services must be serializable to BEEF format.'\n      )\n    }\n    const interestedHosts = await this.findInterestedHosts()\n    console.log(interestedHosts)\n    if (Object.keys(interestedHosts).length === 0) {\n      return {\n        status: 'error',\n        code: 'ERR_NO_HOSTS_INTERESTED',\n        description: `No ${this.networkPreset} hosts are interested in receiving this transaction.`\n      }\n    }\n    const hostPromises = Object.entries(interestedHosts).map(\n      async ([host, topics]) => {\n        try {\n          const steak = await this.facilitator.send(host, {\n            beef,\n            topics: [...topics]\n          })\n          if (steak == null || Object.keys(steak).length === 0) {\n            throw new Error('Steak has no topics.')\n          }\n          return { host, success: true, steak }\n        } catch (error) {\n          console.error(error)\n          // Log error if needed\n          return { host, success: false, error }\n        }\n      }\n    )\n\n    const results = await Promise.all(hostPromises)\n    const successfulHosts = results.filter((result) => result.success)\n\n    if (successfulHosts.length === 0) {\n      return {\n        status: 'error',\n        code: 'ERR_ALL_HOSTS_REJECTED',\n        description: `All ${this.networkPreset} topical hosts have rejected the transaction.`\n      }\n    }\n\n    // Collect host acknowledgments\n    const hostAcknowledgments: Record<string, Set<string>> = {}\n\n    for (const result of successfulHosts) {\n      const host = result.host\n      const steak = result.steak as STEAK\n\n      const acknowledgedTopics = new Set<string>()\n\n      for (const [topic, instructions] of Object.entries(steak)) {\n        const outputsToAdmit = instructions.outputsToAdmit\n        const coinsToRetain = instructions.coinsToRetain\n        const coinsRemoved = instructions.coinsRemoved as number[]\n\n        if (\n          outputsToAdmit?.length > 0 ||\n          coinsToRetain?.length > 0 ||\n          coinsRemoved?.length > 0\n        ) {\n          acknowledgedTopics.add(topic)\n        }\n      }\n\n      hostAcknowledgments[host] = acknowledgedTopics\n    }\n\n    // Now, perform the checks\n\n    // Check requireAcknowledgmentFromAllHostsForTopics\n    let requiredTopicsAllHosts: string[]\n    let requireAllHosts: 'all' | 'any'\n\n    if (this.requireAcknowledgmentFromAllHostsForTopics === 'all') {\n      requiredTopicsAllHosts = this.topics\n      requireAllHosts = 'all'\n    } else if (this.requireAcknowledgmentFromAllHostsForTopics === 'any') {\n      requiredTopicsAllHosts = this.topics\n      requireAllHosts = 'any'\n    } else if (Array.isArray(this.requireAcknowledgmentFromAllHostsForTopics)) {\n      requiredTopicsAllHosts = this.requireAcknowledgmentFromAllHostsForTopics\n      requireAllHosts = 'all'\n    } else {\n      // Default to 'all' and 'all'\n      requiredTopicsAllHosts = this.topics\n      requireAllHosts = 'all'\n    }\n\n    if (requiredTopicsAllHosts.length > 0) {\n      const allHostsAcknowledged = this.checkAcknowledgmentFromAllHosts(\n        hostAcknowledgments,\n        requiredTopicsAllHosts,\n        requireAllHosts\n      )\n      if (!allHostsAcknowledged) {\n        return {\n          status: 'error',\n          code: 'ERR_REQUIRE_ACK_FROM_ALL_HOSTS_FAILED',\n          description: 'Not all hosts acknowledged the required topics.'\n        }\n      }\n    }\n\n    // Check requireAcknowledgmentFromAnyHostForTopics\n    let requiredTopicsAnyHost: string[]\n    let requireAnyHost: 'all' | 'any'\n\n    if (this.requireAcknowledgmentFromAnyHostForTopics === 'all') {\n      requiredTopicsAnyHost = this.topics\n      requireAnyHost = 'all'\n    } else if (this.requireAcknowledgmentFromAnyHostForTopics === 'any') {\n      requiredTopicsAnyHost = this.topics\n      requireAnyHost = 'any'\n    } else if (Array.isArray(this.requireAcknowledgmentFromAnyHostForTopics)) {\n      requiredTopicsAnyHost = this.requireAcknowledgmentFromAnyHostForTopics\n      requireAnyHost = 'all'\n    } else {\n      // No requirement\n      requiredTopicsAnyHost = []\n      requireAnyHost = 'all'\n    }\n\n    if (requiredTopicsAnyHost.length > 0) {\n      const anyHostAcknowledged = this.checkAcknowledgmentFromAnyHost(\n        hostAcknowledgments,\n        requiredTopicsAnyHost,\n        requireAnyHost\n      )\n      if (!anyHostAcknowledged) {\n        return {\n          status: 'error',\n          code: 'ERR_REQUIRE_ACK_FROM_ANY_HOST_FAILED',\n          description: 'No host acknowledged the required topics.'\n        }\n      }\n    }\n\n    // Check requireAcknowledgmentFromSpecificHostsForTopics\n    if (\n      Object.keys(this.requireAcknowledgmentFromSpecificHostsForTopics).length >\n      0\n    ) {\n      const specificHostsAcknowledged =\n        this.checkAcknowledgmentFromSpecificHosts(\n          hostAcknowledgments,\n          this.requireAcknowledgmentFromSpecificHostsForTopics\n        )\n      if (!specificHostsAcknowledged) {\n        return {\n          status: 'error',\n          code: 'ERR_REQUIRE_ACK_FROM_SPECIFIC_HOSTS_FAILED',\n          description:\n            'Specific hosts did not acknowledge the required topics.'\n        }\n      }\n    }\n\n    // If all checks pass, return success\n    return {\n      status: 'success',\n      txid: tx.id('hex'),\n      message: `Sent to ${successfulHosts.length} Overlay Services ${successfulHosts.length === 1 ? 'host' : 'hosts'}.`\n    }\n  }\n\n  private checkAcknowledgmentFromAllHosts (\n    hostAcknowledgments: Record<string, Set<string>>,\n    requiredTopics: string[],\n    require: 'all' | 'any'\n  ): boolean {\n    for (const acknowledgedTopics of Object.values(hostAcknowledgments)) {\n      if (require === 'all') {\n        for (const topic of requiredTopics) {\n          if (!acknowledgedTopics.has(topic)) {\n            return false\n          }\n        }\n      } else if (require === 'any') {\n        let anyAcknowledged = false\n        for (const topic of requiredTopics) {\n          if (acknowledgedTopics.has(topic)) {\n            anyAcknowledged = true\n            break\n          }\n        }\n        if (!anyAcknowledged) {\n          return false\n        }\n      }\n    }\n    return true\n  }\n\n  private checkAcknowledgmentFromAnyHost (\n    hostAcknowledgments: Record<string, Set<string>>,\n    requiredTopics: string[],\n    require: 'all' | 'any'\n  ): boolean {\n    if (require === 'all') {\n      // All required topics must be acknowledged by at least one host\n      for (const acknowledgedTopics of Object.values(hostAcknowledgments)) {\n        let acknowledgesAllRequiredTopics = true\n        for (const topic of requiredTopics) {\n          if (!acknowledgedTopics.has(topic)) {\n            acknowledgesAllRequiredTopics = false\n            break\n          }\n        }\n        if (acknowledgesAllRequiredTopics) {\n          return true\n        }\n      }\n      return false\n    } else {\n      // At least one required topic must be acknowledged by at least one host\n      for (const acknowledgedTopics of Object.values(hostAcknowledgments)) {\n        for (const topic of requiredTopics) {\n          if (acknowledgedTopics.has(topic)) {\n            return true\n          }\n        }\n      }\n      return false\n    }\n  }\n\n  private checkAcknowledgmentFromSpecificHosts (\n    hostAcknowledgments: Record<string, Set<string>>,\n    requirements: Record<string, 'all' | 'any' | string[]>\n  ): boolean {\n    for (const [host, requiredTopicsOrAllAny] of Object.entries(requirements)) {\n      const acknowledgedTopics = hostAcknowledgments[host]\n      if (acknowledgedTopics == null) {\n        // Host did not respond successfully\n        return false\n      }\n      let requiredTopics: string[]\n      let require: 'all' | 'any'\n      if (\n        requiredTopicsOrAllAny === 'all' ||\n        requiredTopicsOrAllAny === 'any'\n      ) {\n        require = requiredTopicsOrAllAny\n        requiredTopics = this.topics\n      } else if (Array.isArray(requiredTopicsOrAllAny)) {\n        requiredTopics = requiredTopicsOrAllAny\n        require = 'all'\n      } else {\n        // Invalid configuration\n        continue\n      }\n      if (require === 'all') {\n        for (const topic of requiredTopics) {\n          if (!acknowledgedTopics.has(topic)) {\n            return false\n          }\n        }\n      } else if (require === 'any') {\n        let anyAcknowledged = false\n        for (const topic of requiredTopics) {\n          if (acknowledgedTopics.has(topic)) {\n            anyAcknowledged = true\n            break\n          }\n        }\n        if (!anyAcknowledged) {\n          return false\n        }\n      }\n    }\n    return true\n  }\n\n  /**\n   * Finds which hosts are interested in transactions tagged with the given set of topics.\n   *\n   * @returns A mapping of URLs for hosts interested in this transaction. Keys are URLs, values are which of our topics the specific host cares about.\n   */\n  private async findInterestedHosts (): Promise<Record<string, Set<string>>> {\n    // Handle the local network preset\n    if (this.networkPreset === 'local') {\n      const resultSet = new Set<string>()\n      for (let i = 0; i < this.topics.length; i++) {\n        resultSet.add(this.topics[i])\n      }\n      return { 'http://localhost:8080': resultSet }\n    }\n    // TODO: cache the list of interested hosts to avoid spamming SHIP trackers.\n    // TODO: Monetize the operation of the SHIP tracker system.\n    // TODO: Cache ship/slap lookup with expiry (every 5min)\n\n    // Find all SHIP advertisements for the topics we care about\n    const results: Record<string, Set<string>> = {}\n    const answer = await this.resolver.query(\n      {\n        service: 'ls_ship',\n        query: {\n          topics: this.topics\n        }\n      },\n      MAX_SHIP_QUERY_TIMEOUT\n    )\n    if (answer.type !== 'output-list') {\n      throw new Error('SHIP answer is not an output list.')\n    }\n    for (const output of answer.outputs) {\n      try {\n        const tx = Transaction.fromBEEF(output.beef)\n        const script = tx.outputs[output.outputIndex].lockingScript\n        const parsed = OverlayAdminTokenTemplate.decode(script)\n        if (\n          !this.topics.includes(parsed.topicOrService) ||\n          parsed.protocol !== 'SHIP'\n        ) {\n          // This should make us think a LOT less highly of this SHIP tracker if it ever happens...\n          continue\n        }\n        if (results[parsed.domain] === undefined) {\n          results[parsed.domain] = new Set()\n        }\n        results[parsed.domain].add(parsed.topicOrService)\n      } catch (e) {\n        continue\n      }\n    }\n    return results\n  }\n}\n","import LockingScript from './LockingScript.js'\nimport UnlockingScript from './UnlockingScript.js'\nimport Script from './Script.js'\nimport BigNumber from '../primitives/BigNumber.js'\nimport OP from './OP.js'\nimport ScriptChunk from './ScriptChunk.js'\nimport { toHex, minimallyEncode } from '../primitives/utils.js'\nimport * as Hash from '../primitives/Hash.js'\nimport TransactionSignature from '../primitives/TransactionSignature.js'\nimport PublicKey from '../primitives/PublicKey.js'\nimport { verify } from '../primitives/ECDSA.js'\nimport TransactionInput from '../transaction/TransactionInput.js'\nimport TransactionOutput from '../transaction/TransactionOutput.js'\n\n// These constants control the current behavior of the interpreter.\nconst maxScriptElementSize = 1024 * 1024 * 1024\nconst maxMultisigKeyCount = Math.pow(2, 31) - 1\nconst requireMinimalPush = true\nconst requirePushOnlyUnlockingScripts = true\nconst requireLowSSignatures = true\nconst requireCleanStack = true\n\n// --- Optimization: Pre-computed script numbers ---\nconst SCRIPTNUM_NEG_1 = Object.freeze(new BigNumber(-1).toScriptNum())\nconst SCRIPTNUMS_0_TO_16: ReadonlyArray<Readonly<number[]>> = Object.freeze(\n  Array.from({ length: 17 }, (_, i) => Object.freeze(new BigNumber(i).toScriptNum()))\n)\n\n// --- Helper functions ---\n\nfunction compareNumberArrays (a: Readonly<number[]>, b: Readonly<number[]>): boolean {\n  if (a.length !== b.length) return false\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) return false\n  }\n  return true\n}\n\nfunction isMinimallyEncodedHelper (\n  buf: Readonly<number[]>,\n  maxNumSize: number = Number.MAX_SAFE_INTEGER\n): boolean {\n  if (buf.length > maxNumSize) {\n    return false\n  }\n  if (buf.length > 0) {\n    if ((buf[buf.length - 1] & 0x7f) === 0) {\n      if (buf.length <= 1 || (buf[buf.length - 2] & 0x80) === 0) {\n        return false\n      }\n    }\n  }\n  return true\n}\n\nfunction isChecksigFormatHelper (buf: Readonly<number[]>): boolean {\n  // This is a simplified check. The full DER check is more complex and typically\n  // done by TransactionSignature.fromChecksigFormat which can throw.\n  // This helper is mostly for early bailout or non-throwing checks if needed.\n  if (buf.length < 9 || buf.length > 73) return false\n  if (buf[0] !== 0x30) return false // DER SEQUENCE\n  if (buf[1] !== buf.length - 3) return false // Total length (excluding type and length byte for sequence, and hash type)\n\n  const rMarker = buf[2]\n  const rLen = buf[3]\n  if (rMarker !== 0x02) return false // DER INTEGER\n  if (rLen === 0) return false // R length is zero\n  if (5 + rLen >= buf.length) return false // S length misplaced or R too long\n\n  const sMarkerOffset = 4 + rLen\n  const sMarker = buf[sMarkerOffset]\n  const sLen = buf[sMarkerOffset + 1]\n  if (sMarker !== 0x02) return false // DER INTEGER\n  if (sLen === 0) return false // S length is zero\n\n  // Check R value negative or excessively padded\n  if ((buf[4] & 0x80) !== 0) return false // R value negative\n  if (rLen > 1 && buf[4] === 0x00 && (buf[5] & 0x80) === 0) return false // R value excessively padded\n\n  // Check S value negative or excessively padded\n  const sValueOffset = sMarkerOffset + 2\n  if ((buf[sValueOffset] & 0x80) !== 0) return false // S value negative\n  if (sLen > 1 && buf[sValueOffset] === 0x00 && (buf[sValueOffset + 1] & 0x80) === 0) return false // S value excessively padded\n\n  if (rLen + sLen + 7 !== buf.length) return false // Final length check including hash type\n\n  return true\n}\n\nfunction isOpcodeDisabledHelper (op: number): boolean {\n  return (\n    op === OP.OP_2MUL ||\n    op === OP.OP_2DIV ||\n    op === OP.OP_VERIF ||\n    op === OP.OP_VERNOTIF ||\n    op === OP.OP_VER\n  )\n}\n\nfunction isChunkMinimalPushHelper (chunk: ScriptChunk): boolean {\n  const data = chunk.data\n  const op = chunk.op\n  if (!Array.isArray(data)) return true\n  if (data.length === 0) return op === OP.OP_0\n  if (data.length === 1 && data[0] >= 1 && data[0] <= 16) return op === OP.OP_1 + (data[0] - 1)\n  if (data.length === 1 && data[0] === 0x81) return op === OP.OP_1NEGATE\n  if (data.length <= 75) return op === data.length\n  if (data.length <= 255) return op === OP.OP_PUSHDATA1\n  if (data.length <= 65535) return op === OP.OP_PUSHDATA2\n  return true\n}\n\n/**\n * The Spend class represents a spend action within a Bitcoin SV transaction.\n * It encapsulates all the necessary data required for spending a UTXO (Unspent Transaction Output)\n * and includes details about the source transaction, output, and the spending transaction itself.\n *\n * @property {string} sourceTXID - The transaction ID of the source UTXO.\n * @property {number} sourceOutputIndex - The index of the output in the source transaction.\n * @property {BigNumber} sourceSatoshis - The amount of satoshis in the source UTXO.\n * @property {LockingScript} lockingScript - The locking script associated with the UTXO.\n * @property {number} transactionVersion - The version of the current transaction.\n * @property {Array<{ sourceTXID: string, sourceOutputIndex: number, sequence: number }>} otherInputs -\n *           An array of other inputs in the transaction, each with a txid, outputIndex, and sequence number.\n * @property {Array<{ satoshis: BigNumber, lockingScript: LockingScript }>} outputs -\n *           An array of outputs of the current transaction, including the satoshi value and locking script for each.\n * @property {number} inputIndex - The index of this input in the current transaction.\n * @property {UnlockingScript} unlockingScript - The unlocking script that unlocks the UTXO for spending.\n * @property {number} inputSequence - The sequence number of this input.\n * @property {number} lockTime - The lock time of the transaction.\n */\nexport default class Spend {\n  sourceTXID: string\n  sourceOutputIndex: number\n  sourceSatoshis: number\n  lockingScript: LockingScript\n  transactionVersion: number\n  otherInputs: TransactionInput[]\n  outputs: TransactionOutput[]\n  inputIndex: number\n  unlockingScript: UnlockingScript\n  inputSequence: number\n  lockTime: number\n\n  context: 'UnlockingScript' | 'LockingScript'\n  programCounter: number\n  lastCodeSeparator: number | null\n  stack: number[][]\n  altStack: number[][]\n  ifStack: boolean[]\n  memoryLimit: number\n  stackMem: number\n  altStackMem: number\n\n  /**\n   * @constructor\n   * Constructs the Spend object with necessary transaction details.\n   * @param {string} params.sourceTXID - The transaction ID of the source UTXO.\n   * @param {number} params.sourceOutputIndex - The index of the output in the source transaction.\n   * @param {BigNumber} params.sourceSatoshis - The amount of satoshis in the source UTXO.\n   * @param {LockingScript} params.lockingScript - The locking script associated with the UTXO.\n   * @param {number} params.transactionVersion - The version of the current transaction.\n   * @param {Array<{ sourceTXID: string, sourceOutputIndex: number, sequence: number }>} params.otherInputs -\n   *        An array of other inputs in the transaction.\n   * @param {Array<{ satoshis: BigNumber, lockingScript: LockingScript }>} params.outputs -\n   *        The outputs of the current transaction.\n   * @param {number} params.inputIndex - The index of this input in the current transaction.\n   * @param {UnlockingScript} params.unlockingScript - The unlocking script for this spend.\n   * @param {number} params.inputSequence - The sequence number of this input.\n   * @param {number} params.lockTime - The lock time of the transaction.\n   *\n   * @example\n   * const spend = new Spend({\n   *   sourceTXID: \"abcd1234\", // sourceTXID\n   *   sourceOutputIndex: 0, // sourceOutputIndex\n   *   sourceSatoshis: new BigNumber(1000), // sourceSatoshis\n   *   lockingScript: LockingScript.fromASM(\"OP_DUP OP_HASH160 abcd1234... OP_EQUALVERIFY OP_CHECKSIG\"),\n   *   transactionVersion: 1, // transactionVersion\n   *   otherInputs: [{ sourceTXID: \"abcd1234\", sourceOutputIndex: 1, sequence: 0xffffffff }], // otherInputs\n   *   outputs: [{ satoshis: new BigNumber(500), lockingScript: LockingScript.fromASM(\"OP_DUP...\") }], // outputs\n   *   inputIndex: 0, // inputIndex\n   *   unlockingScript: UnlockingScript.fromASM(\"3045... 02ab...\"),\n   *   inputSequence: 0xffffffff // inputSequence\n   *   memoryLimit: 100000 // memoryLimit\n   * });\n   */\n  constructor (params: {\n    sourceTXID: string\n    sourceOutputIndex: number\n    sourceSatoshis: number\n    lockingScript: LockingScript\n    transactionVersion: number\n    otherInputs: TransactionInput[]\n    outputs: TransactionOutput[]\n    unlockingScript: UnlockingScript\n    inputSequence: number\n    inputIndex: number\n    lockTime: number\n    memoryLimit?: number\n  }) {\n    this.sourceTXID = params.sourceTXID\n    this.sourceOutputIndex = params.sourceOutputIndex\n    this.sourceSatoshis = params.sourceSatoshis\n    this.lockingScript = params.lockingScript\n    this.transactionVersion = params.transactionVersion\n    this.otherInputs = params.otherInputs\n    this.outputs = params.outputs\n    this.inputIndex = params.inputIndex\n    this.unlockingScript = params.unlockingScript\n    this.inputSequence = params.inputSequence\n    this.lockTime = params.lockTime\n    this.memoryLimit = params.memoryLimit ?? 32000000\n    this.stack = []\n    this.altStack = []\n    this.ifStack = []\n    this.stackMem = 0\n    this.altStackMem = 0\n    this.reset()\n  }\n\n  reset (): void {\n    this.context = 'UnlockingScript'\n    this.programCounter = 0\n    this.lastCodeSeparator = null\n    this.stack = []\n    this.altStack = []\n    this.ifStack = []\n    this.stackMem = 0\n    this.altStackMem = 0\n  }\n\n  private ensureStackMem (additional: number): void {\n    if (this.stackMem + additional > this.memoryLimit) {\n      this.scriptEvaluationError(\n        'Stack memory usage has exceeded ' + String(this.memoryLimit) + ' bytes'\n      )\n    }\n  }\n\n  private ensureAltStackMem (additional: number): void {\n    if (this.altStackMem + additional > this.memoryLimit) {\n      this.scriptEvaluationError(\n        'Alt stack memory usage has exceeded ' + String(this.memoryLimit) + ' bytes'\n      )\n    }\n  }\n\n  private pushStack (item: number[]): void {\n    this.ensureStackMem(item.length)\n    this.stack.push(item)\n    this.stackMem += item.length\n  }\n\n  private pushStackCopy (item: Readonly<number[]>): void {\n    this.ensureStackMem(item.length)\n    const copy = item.slice()\n    this.stack.push(copy)\n    this.stackMem += copy.length\n  }\n\n  private popStack (): number[] {\n    if (this.stack.length === 0) {\n      this.scriptEvaluationError('Attempted to pop from an empty stack.')\n    }\n    const item = this.stack.pop() as number[]\n    this.stackMem -= item.length\n    return item\n  }\n\n  private stackTop (index: number = -1): number[] {\n    // index = -1 for top, -2 for second top, etc.\n    // stack.length + index provides 0-based index from start\n    if (this.stack.length === 0 || this.stack.length < Math.abs(index) || (index >= 0 && index >= this.stack.length)) {\n      this.scriptEvaluationError(`Stack underflow accessing element at index ${index}. Stack length is ${this.stack.length}.`)\n    }\n    return this.stack[this.stack.length + index]\n  }\n\n  private pushAltStack (item: number[]): void {\n    this.ensureAltStackMem(item.length)\n    this.altStack.push(item)\n    this.altStackMem += item.length\n  }\n\n  private popAltStack (): number[] {\n    if (this.altStack.length === 0) {\n      this.scriptEvaluationError('Attempted to pop from an empty alt stack.')\n    }\n    const item = this.altStack.pop() as number[]\n    this.altStackMem -= item.length\n    return item\n  }\n\n  private checkSignatureEncoding (buf: Readonly<number[]>): boolean {\n    if (buf.length === 0) return true\n\n    if (!isChecksigFormatHelper(buf)) {\n      this.scriptEvaluationError('The signature format is invalid.') // Generic message like original\n      return false\n    }\n    try {\n      const sig = TransactionSignature.fromChecksigFormat(buf as number[]) // This can throw for stricter DER rules\n      if (requireLowSSignatures && !sig.hasLowS()) {\n        this.scriptEvaluationError('The signature must have a low S value.')\n        return false\n      }\n      if ((sig.scope & TransactionSignature.SIGHASH_FORKID) === 0) {\n        this.scriptEvaluationError('The signature must use SIGHASH_FORKID.')\n        return false\n      }\n    } catch (e) {\n      this.scriptEvaluationError('The signature format is invalid.')\n      return false\n    }\n    return true\n  }\n\n  private checkPublicKeyEncoding (buf: Readonly<number[]>): boolean {\n    if (buf.length === 0) {\n      this.scriptEvaluationError('Public key is empty.')\n      return false\n    }\n    if (buf.length < 33) {\n      this.scriptEvaluationError('The public key is too short, it must be at least 33 bytes.')\n      return false\n    }\n    if (buf[0] === 0x04) {\n      if (buf.length !== 65) {\n        this.scriptEvaluationError('The non-compressed public key must be 65 bytes.')\n        return false\n      }\n    } else if (buf[0] === 0x02 || buf[0] === 0x03) {\n      if (buf.length !== 33) {\n        this.scriptEvaluationError('The compressed public key must be 33 bytes.')\n        return false\n      }\n    } else {\n      this.scriptEvaluationError('The public key is in an unknown format.')\n      return false\n    }\n    try {\n      PublicKey.fromDER(buf as number[]) // This can throw for stricter DER rules\n    } catch (e) {\n      this.scriptEvaluationError('The public key is in an unknown format.')\n      return false\n    }\n    return true\n  }\n\n  private verifySignature (\n    sig: TransactionSignature,\n    pubkey: PublicKey,\n    subscript: Script\n  ): boolean {\n    const preimage = TransactionSignature.format({\n      sourceTXID: this.sourceTXID,\n      sourceOutputIndex: this.sourceOutputIndex,\n      sourceSatoshis: this.sourceSatoshis,\n      transactionVersion: this.transactionVersion,\n      otherInputs: this.otherInputs,\n      outputs: this.outputs,\n      inputIndex: this.inputIndex,\n      subscript,\n      inputSequence: this.inputSequence,\n      lockTime: this.lockTime,\n      scope: sig.scope\n    })\n    const hash = new BigNumber(Hash.hash256(preimage))\n    return verify(hash, sig, pubkey)\n  }\n\n  step (): boolean {\n    if (this.stackMem > this.memoryLimit) {\n      this.scriptEvaluationError('Stack memory usage has exceeded ' + String(this.memoryLimit) + ' bytes')\n      return false // Error thrown\n    }\n    if (this.altStackMem > this.memoryLimit) {\n      this.scriptEvaluationError('Alt stack memory usage has exceeded ' + String(this.memoryLimit) + ' bytes')\n      return false // Error thrown\n    }\n\n    if (\n      this.context === 'UnlockingScript' &&\n      this.programCounter >= this.unlockingScript.chunks.length\n    ) {\n      this.context = 'LockingScript'\n      this.programCounter = 0\n    }\n\n    const currentScript = this.context === 'UnlockingScript' ? this.unlockingScript : this.lockingScript\n    if (this.programCounter >= currentScript.chunks.length) {\n      return false\n    }\n    const operation = currentScript.chunks[this.programCounter]\n\n    const currentOpcode = operation.op\n    if (typeof currentOpcode === 'undefined') {\n      this.scriptEvaluationError(`Missing opcode in ${this.context} at pc=${this.programCounter}.`) // Error thrown\n    }\n    if (Array.isArray(operation.data) && operation.data.length > maxScriptElementSize) {\n      this.scriptEvaluationError(`Data push > ${maxScriptElementSize} bytes (pc=${this.programCounter}).`) // Error thrown\n    }\n\n    const isScriptExecuting = !this.ifStack.includes(false)\n\n    if (isScriptExecuting && isOpcodeDisabledHelper(currentOpcode)) {\n      this.scriptEvaluationError(`This opcode is currently disabled. (Opcode: ${OP[currentOpcode] as string}, PC: ${this.programCounter})`) // Error thrown\n    }\n\n    if (isScriptExecuting && currentOpcode >= 0 && currentOpcode <= OP.OP_PUSHDATA4) {\n      if (requireMinimalPush && !isChunkMinimalPushHelper(operation)) {\n        this.scriptEvaluationError(`This data is not minimally-encoded. (PC: ${this.programCounter})`) // Error thrown\n      }\n      this.pushStack(Array.isArray(operation.data) ? operation.data : [])\n    } else if (isScriptExecuting || (currentOpcode >= OP.OP_IF && currentOpcode <= OP.OP_ENDIF)) {\n      let buf: number[], buf1: number[], buf2: number[], buf3: number[]\n      let x1: number[], x2: number[], x3: number[]\n      let bn: BigNumber, bn1: BigNumber, bn2: BigNumber, bn3: BigNumber\n      let n: number, size: number, fValue: boolean, fSuccess: boolean, subscript: Script\n      let bufSig: number[], bufPubkey: number[]\n      let sig: TransactionSignature, pubkey: PublicKey\n      let i: number, ikey: number, isig: number, nKeysCount: number, nSigsCount: number, fOk: boolean\n\n      switch (currentOpcode) {\n        case OP.OP_1NEGATE: this.pushStackCopy(SCRIPTNUM_NEG_1); break\n        case OP.OP_0: this.pushStackCopy(SCRIPTNUMS_0_TO_16[0]); break\n        case OP.OP_1: case OP.OP_2: case OP.OP_3: case OP.OP_4:\n        case OP.OP_5: case OP.OP_6: case OP.OP_7: case OP.OP_8:\n        case OP.OP_9: case OP.OP_10: case OP.OP_11: case OP.OP_12:\n        case OP.OP_13: case OP.OP_14: case OP.OP_15: case OP.OP_16:\n          n = currentOpcode - (OP.OP_1 - 1)\n          this.pushStackCopy(SCRIPTNUMS_0_TO_16[n])\n          break\n\n        case OP.OP_NOP:\n        case OP.OP_NOP2: // Formerly CHECKLOCKTIMEVERIFY\n        case OP.OP_NOP3: // Formerly CHECKSEQUENCEVERIFY\n        case OP.OP_NOP1:\n        case OP.OP_NOP4:\n        case OP.OP_NOP5:\n        case OP.OP_NOP6:\n        case OP.OP_NOP7:\n        case OP.OP_NOP8:\n        case OP.OP_NOP9:\n        case OP.OP_NOP10:\n          /* falls through */\n          // eslint-disable-next-line no-fallthrough\n        // eslint-disable-next-line no-fallthrough\n        case OP.OP_NOP11: case OP.OP_NOP12: case OP.OP_NOP13: case OP.OP_NOP14: case OP.OP_NOP15:\n        case OP.OP_NOP16: case OP.OP_NOP17: case OP.OP_NOP18: case OP.OP_NOP19: case OP.OP_NOP20:\n        case OP.OP_NOP21: case OP.OP_NOP22: case OP.OP_NOP23: case OP.OP_NOP24: case OP.OP_NOP25:\n        case OP.OP_NOP26: case OP.OP_NOP27: case OP.OP_NOP28: case OP.OP_NOP29: case OP.OP_NOP30:\n        case OP.OP_NOP31: case OP.OP_NOP32: case OP.OP_NOP33: case OP.OP_NOP34: case OP.OP_NOP35:\n        case OP.OP_NOP36: case OP.OP_NOP37: case OP.OP_NOP38: case OP.OP_NOP39: case OP.OP_NOP40:\n        case OP.OP_NOP41: case OP.OP_NOP42: case OP.OP_NOP43: case OP.OP_NOP44: case OP.OP_NOP45:\n        case OP.OP_NOP46: case OP.OP_NOP47: case OP.OP_NOP48: case OP.OP_NOP49: case OP.OP_NOP50:\n        case OP.OP_NOP51: case OP.OP_NOP52: case OP.OP_NOP53: case OP.OP_NOP54: case OP.OP_NOP55:\n        case OP.OP_NOP56: case OP.OP_NOP57: case OP.OP_NOP58: case OP.OP_NOP59: case OP.OP_NOP60:\n        case OP.OP_NOP61: case OP.OP_NOP62: case OP.OP_NOP63: case OP.OP_NOP64: case OP.OP_NOP65:\n        case OP.OP_NOP66: case OP.OP_NOP67: case OP.OP_NOP68: case OP.OP_NOP69: case OP.OP_NOP70:\n        case OP.OP_NOP71: case OP.OP_NOP72: case OP.OP_NOP73:\n        case OP.OP_NOP77:\n          break\n\n        case OP.OP_IF:\n        case OP.OP_NOTIF:\n          fValue = false\n          if (isScriptExecuting) {\n            if (this.stack.length < 1) this.scriptEvaluationError('OP_IF and OP_NOTIF require at least one item on the stack when they are used!')\n            buf = this.popStack()\n            fValue = this.castToBool(buf)\n            if (currentOpcode === OP.OP_NOTIF) fValue = !fValue\n          }\n          this.ifStack.push(fValue)\n          break\n        case OP.OP_ELSE:\n          if (this.ifStack.length === 0) this.scriptEvaluationError('OP_ELSE requires a preceeding OP_IF.')\n          this.ifStack[this.ifStack.length - 1] = !this.ifStack[this.ifStack.length - 1]\n          break\n        case OP.OP_ENDIF:\n          if (this.ifStack.length === 0) this.scriptEvaluationError('OP_ENDIF requires a preceeding OP_IF.')\n          this.ifStack.pop()\n          break\n        case OP.OP_VERIFY:\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_VERIFY requires at least one item to be on the stack.')\n          buf1 = this.stackTop()\n          fValue = this.castToBool(buf1)\n          if (!fValue) this.scriptEvaluationError('OP_VERIFY requires the top stack value to be truthy.')\n          this.popStack()\n          break\n        case OP.OP_RETURN:\n          if (this.context === 'UnlockingScript') this.programCounter = this.unlockingScript.chunks.length\n          else this.programCounter = this.lockingScript.chunks.length\n          this.ifStack = []\n          this.programCounter-- // To counteract the final increment and ensure loop termination\n          break\n\n        case OP.OP_TOALTSTACK:\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_TOALTSTACK requires at oeast one item to be on the stack.')\n          this.pushAltStack(this.popStack())\n          break\n        case OP.OP_FROMALTSTACK:\n          if (this.altStack.length < 1) this.scriptEvaluationError('OP_FROMALTSTACK requires at least one item to be on the stack.') // \"stack\" here means altstack\n          this.pushStack(this.popAltStack())\n          break\n        case OP.OP_2DROP:\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_2DROP requires at least two items to be on the stack.')\n          this.popStack(); this.popStack()\n          break\n        case OP.OP_2DUP:\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_2DUP requires at least two items to be on the stack.')\n          buf1 = this.stackTop(-2)\n          buf2 = this.stackTop(-1)\n          this.pushStackCopy(buf1); this.pushStackCopy(buf2)\n          break\n        case OP.OP_3DUP:\n          if (this.stack.length < 3) this.scriptEvaluationError('OP_3DUP requires at least three items to be on the stack.')\n          buf1 = this.stackTop(-3)\n          buf2 = this.stackTop(-2)\n          buf3 = this.stackTop(-1)\n          this.pushStackCopy(buf1); this.pushStackCopy(buf2); this.pushStackCopy(buf3)\n          break\n        case OP.OP_2OVER:\n          if (this.stack.length < 4) this.scriptEvaluationError('OP_2OVER requires at least four items to be on the stack.')\n          buf1 = this.stackTop(-4)\n          buf2 = this.stackTop(-3)\n          this.pushStackCopy(buf1); this.pushStackCopy(buf2)\n          break\n        case OP.OP_2ROT: {\n          if (this.stack.length < 6) this.scriptEvaluationError('OP_2ROT requires at least six items to be on the stack.')\n          const rot6 = this.popStack(); const rot5 = this.popStack()\n          const rot4 = this.popStack(); const rot3 = this.popStack()\n          const rot2 = this.popStack(); const rot1 = this.popStack()\n          this.pushStack(rot3); this.pushStack(rot4)\n          this.pushStack(rot5); this.pushStack(rot6)\n          this.pushStack(rot1); this.pushStack(rot2)\n          break\n        }\n        case OP.OP_2SWAP: {\n          if (this.stack.length < 4) this.scriptEvaluationError('OP_2SWAP requires at least four items to be on the stack.')\n          const swap4 = this.popStack(); const swap3 = this.popStack()\n          const swap2 = this.popStack(); const swap1 = this.popStack()\n          this.pushStack(swap3); this.pushStack(swap4)\n          this.pushStack(swap1); this.pushStack(swap2)\n          break\n        }\n        case OP.OP_IFDUP:\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_IFDUP requires at least one item to be on the stack.')\n          buf1 = this.stackTop()\n          if (this.castToBool(buf1)) {\n            this.pushStackCopy(buf1)\n          }\n          break\n        case OP.OP_DEPTH:\n          this.pushStack(new BigNumber(this.stack.length).toScriptNum())\n          break\n        case OP.OP_DROP:\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_DROP requires at least one item to be on the stack.')\n          this.popStack()\n          break\n        case OP.OP_DUP:\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_DUP requires at least one item to be on the stack.')\n          this.pushStackCopy(this.stackTop())\n          break\n        case OP.OP_NIP:\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_NIP requires at least two items to be on the stack.')\n          buf2 = this.popStack()\n          this.popStack()\n          this.pushStack(buf2)\n          break\n        case OP.OP_OVER:\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_OVER requires at least two items to be on the stack.')\n          this.pushStackCopy(this.stackTop(-2))\n          break\n        case OP.OP_PICK:\n        case OP.OP_ROLL: {\n          if (this.stack.length < 2) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least two items to be on the stack.`)\n          bn = BigNumber.fromScriptNum(this.popStack(), requireMinimalPush)\n          n = bn.toNumber()\n          if (n < 0 || n >= this.stack.length) {\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} requires the top stack element to be 0 or a positive number less than the current size of the stack.`)\n          }\n          const itemToMoveOrCopy = this.stack[this.stack.length - 1 - n]\n          if (currentOpcode === OP.OP_ROLL) {\n            this.stack.splice(this.stack.length - 1 - n, 1)\n            this.stackMem -= itemToMoveOrCopy.length\n            this.pushStack(itemToMoveOrCopy)\n          } else { // OP_PICK\n            this.pushStackCopy(itemToMoveOrCopy)\n          }\n          break\n        }\n        case OP.OP_ROT:\n          if (this.stack.length < 3) this.scriptEvaluationError('OP_ROT requires at least three items to be on the stack.')\n          x3 = this.popStack()\n          x2 = this.popStack()\n          x1 = this.popStack()\n          this.pushStack(x2); this.pushStack(x3); this.pushStack(x1)\n          break\n        case OP.OP_SWAP:\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_SWAP requires at least two items to be on the stack.')\n          x2 = this.popStack()\n          x1 = this.popStack()\n          this.pushStack(x2); this.pushStack(x1)\n          break\n        case OP.OP_TUCK:\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_TUCK requires at least two items to be on the stack.')\n          buf1 = this.stackTop(-1) // Top element (x2)\n          // stack is [... rest, x1, x2]\n          // We want [... rest, x2_copy, x1, x2]\n          this.ensureStackMem(buf1.length)\n          this.stack.splice(this.stack.length - 2, 0, buf1.slice()) // Insert copy of x2 before x1\n          this.stackMem += buf1.length // Account for the new copy\n          break\n        case OP.OP_SIZE:\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_SIZE requires at least one item to be on the stack.')\n          this.pushStack(new BigNumber(this.stackTop().length).toScriptNum())\n          break\n\n        case OP.OP_AND:\n        case OP.OP_OR:\n        case OP.OP_XOR: {\n          if (this.stack.length < 2) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least two items on the stack.`)\n          buf2 = this.popStack()\n          buf1 = this.popStack()\n          if (buf1.length !== buf2.length) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires the top two stack items to be the same size.`)\n\n          const resultBufBitwiseOp = new Array(buf1.length)\n          for (let k = 0; k < buf1.length; k++) {\n            if (currentOpcode === OP.OP_AND) resultBufBitwiseOp[k] = buf1[k] & buf2[k]\n            else if (currentOpcode === OP.OP_OR) resultBufBitwiseOp[k] = buf1[k] | buf2[k]\n            else resultBufBitwiseOp[k] = buf1[k] ^ buf2[k]\n          }\n          this.pushStack(resultBufBitwiseOp)\n          break\n        }\n        case OP.OP_INVERT: {\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_INVERT requires at least one item to be on the stack.')\n          buf = this.popStack()\n          const invertedBufOp = new Array(buf.length)\n          for (let k = 0; k < buf.length; k++) {\n            invertedBufOp[k] = (~buf[k]) & 0xff\n          }\n          this.pushStack(invertedBufOp)\n          break\n        }\n        case OP.OP_LSHIFT:\n        case OP.OP_RSHIFT: {\n          if (this.stack.length < 2) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least two items to be on the stack.`)\n          bn2 = BigNumber.fromScriptNum(this.popStack(), requireMinimalPush) // n (shift amount)\n          buf1 = this.popStack() // value to shift\n          n = bn2.toNumber()\n          if (n < 0) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires the top item on the stack not to be negative.`)\n          if (buf1.length === 0) {\n            this.pushStack([])\n            break\n          }\n          bn1 = new BigNumber(buf1)\n          let shiftedBn: BigNumber\n          if (currentOpcode === OP.OP_LSHIFT) shiftedBn = bn1.ushln(n)\n          else shiftedBn = bn1.ushrn(n)\n\n          const shiftedArr = shiftedBn.toArray('le', buf1.length)\n          this.pushStack(shiftedArr)\n          break\n        }\n        case OP.OP_EQUAL:\n        case OP.OP_EQUALVERIFY:\n          if (this.stack.length < 2) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least two items to be on the stack.`)\n          buf2 = this.popStack()\n          buf1 = this.popStack()\n          fValue = compareNumberArrays(buf1, buf2)\n          this.pushStack(fValue ? [1] : [])\n          if (currentOpcode === OP.OP_EQUALVERIFY) {\n            if (!fValue) this.scriptEvaluationError('OP_EQUALVERIFY requires the top two stack items to be equal.')\n            this.popStack()\n          }\n          break\n\n        case OP.OP_1ADD: case OP.OP_1SUB:\n        case OP.OP_NEGATE: case OP.OP_ABS:\n        case OP.OP_NOT: case OP.OP_0NOTEQUAL:\n          if (this.stack.length < 1) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least one item to be on the stack.`)\n          bn = BigNumber.fromScriptNum(this.popStack(), requireMinimalPush)\n          switch (currentOpcode) {\n            case OP.OP_1ADD: bn = bn.add(new BigNumber(1)); break\n            case OP.OP_1SUB: bn = bn.sub(new BigNumber(1)); break\n            case OP.OP_NEGATE: bn = bn.neg(); break\n            case OP.OP_ABS: if (bn.isNeg()) bn = bn.neg(); break\n            case OP.OP_NOT: bn = new BigNumber(bn.cmpn(0) === 0 ? 1 : 0); break\n            case OP.OP_0NOTEQUAL: bn = new BigNumber(bn.cmpn(0) !== 0 ? 1 : 0); break\n          }\n          this.pushStack(bn.toScriptNum())\n          break\n        case OP.OP_ADD: case OP.OP_SUB: case OP.OP_MUL: case OP.OP_DIV: case OP.OP_MOD:\n        case OP.OP_BOOLAND: case OP.OP_BOOLOR:\n        case OP.OP_NUMEQUAL: case OP.OP_NUMEQUALVERIFY: case OP.OP_NUMNOTEQUAL:\n        case OP.OP_LESSTHAN: case OP.OP_GREATERTHAN:\n        case OP.OP_LESSTHANOREQUAL: case OP.OP_GREATERTHANOREQUAL:\n        case OP.OP_MIN: case OP.OP_MAX: {\n          if (this.stack.length < 2) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least two items to be on the stack.`)\n          buf2 = this.popStack()\n          buf1 = this.popStack()\n          bn2 = BigNumber.fromScriptNum(buf2, requireMinimalPush)\n          bn1 = BigNumber.fromScriptNum(buf1, requireMinimalPush)\n          let predictedLen = 0\n          switch (currentOpcode) {\n            case OP.OP_MUL:\n              predictedLen = bn1.byteLength() + bn2.byteLength()\n              break\n            case OP.OP_ADD:\n            case OP.OP_SUB:\n              predictedLen = Math.max(bn1.byteLength(), bn2.byteLength()) + 1\n              break\n            default:\n              predictedLen = Math.max(bn1.byteLength(), bn2.byteLength())\n          }\n          this.ensureStackMem(predictedLen)\n          let resultBnArithmetic: BigNumber = new BigNumber(0)\n          switch (currentOpcode) {\n            case OP.OP_ADD: resultBnArithmetic = bn1.add(bn2); break\n            case OP.OP_SUB: resultBnArithmetic = bn1.sub(bn2); break\n            case OP.OP_MUL: resultBnArithmetic = bn1.mul(bn2); break\n            case OP.OP_DIV:\n              if (bn2.cmpn(0) === 0) this.scriptEvaluationError('OP_DIV cannot divide by zero!')\n              resultBnArithmetic = bn1.div(bn2); break\n            case OP.OP_MOD:\n              if (bn2.cmpn(0) === 0) this.scriptEvaluationError('OP_MOD cannot divide by zero!')\n              resultBnArithmetic = bn1.mod(bn2); break\n            case OP.OP_BOOLAND: resultBnArithmetic = new BigNumber((bn1.cmpn(0) !== 0 && bn2.cmpn(0) !== 0) ? 1 : 0); break\n            case OP.OP_BOOLOR: resultBnArithmetic = new BigNumber((bn1.cmpn(0) !== 0 || bn2.cmpn(0) !== 0) ? 1 : 0); break\n            case OP.OP_NUMEQUAL: resultBnArithmetic = new BigNumber(bn1.cmp(bn2) === 0 ? 1 : 0); break\n            case OP.OP_NUMEQUALVERIFY: resultBnArithmetic = new BigNumber(bn1.cmp(bn2) === 0 ? 1 : 0); break\n            case OP.OP_NUMNOTEQUAL: resultBnArithmetic = new BigNumber(bn1.cmp(bn2) !== 0 ? 1 : 0); break\n            case OP.OP_LESSTHAN: resultBnArithmetic = new BigNumber(bn1.cmp(bn2) < 0 ? 1 : 0); break\n            case OP.OP_GREATERTHAN: resultBnArithmetic = new BigNumber(bn1.cmp(bn2) > 0 ? 1 : 0); break\n            case OP.OP_LESSTHANOREQUAL: resultBnArithmetic = new BigNumber(bn1.cmp(bn2) <= 0 ? 1 : 0); break\n            case OP.OP_GREATERTHANOREQUAL: resultBnArithmetic = new BigNumber(bn1.cmp(bn2) >= 0 ? 1 : 0); break\n            case OP.OP_MIN: resultBnArithmetic = bn1.cmp(bn2) < 0 ? bn1 : bn2; break\n            case OP.OP_MAX: resultBnArithmetic = bn1.cmp(bn2) > 0 ? bn1 : bn2; break\n          }\n          this.pushStack(resultBnArithmetic.toScriptNum())\n          if (currentOpcode === OP.OP_NUMEQUALVERIFY) {\n            if (!this.castToBool(this.stackTop())) this.scriptEvaluationError('OP_NUMEQUALVERIFY requires the top stack item to be truthy.')\n            this.popStack()\n          }\n          break\n        }\n        case OP.OP_WITHIN:\n          if (this.stack.length < 3) this.scriptEvaluationError('OP_WITHIN requires at least three items to be on the stack.')\n          bn3 = BigNumber.fromScriptNum(this.popStack(), requireMinimalPush) // max\n          bn2 = BigNumber.fromScriptNum(this.popStack(), requireMinimalPush) // min\n          bn1 = BigNumber.fromScriptNum(this.popStack(), requireMinimalPush) // x\n          fValue = bn1.cmp(bn2) >= 0 && bn1.cmp(bn3) < 0\n          this.pushStack(fValue ? [1] : [])\n          break\n\n        case OP.OP_RIPEMD160: case OP.OP_SHA1: case OP.OP_SHA256:\n        case OP.OP_HASH160: case OP.OP_HASH256: {\n          if (this.stack.length < 1) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least one item to be on the stack.`)\n          buf = this.popStack()\n          let hashResult: number[] = [] // Initialize to empty, to satisfy TS compiler\n          if (currentOpcode === OP.OP_RIPEMD160) hashResult = Hash.ripemd160(buf)\n          else if (currentOpcode === OP.OP_SHA1) hashResult = Hash.sha1(buf)\n          else if (currentOpcode === OP.OP_SHA256) hashResult = Hash.sha256(buf)\n          else if (currentOpcode === OP.OP_HASH160) hashResult = Hash.hash160(buf)\n          else if (currentOpcode === OP.OP_HASH256) hashResult = Hash.hash256(buf)\n          this.pushStack(hashResult)\n          break\n        }\n        case OP.OP_CODESEPARATOR:\n          this.lastCodeSeparator = this.programCounter\n          break\n        case OP.OP_CHECKSIG:\n        case OP.OP_CHECKSIGVERIFY: {\n          if (this.stack.length < 2) this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least two items to be on the stack.`)\n          bufPubkey = this.popStack()\n          bufSig = this.popStack()\n\n          if (!this.checkSignatureEncoding(bufSig) || !this.checkPublicKeyEncoding(bufPubkey)) {\n            // Error already thrown by helpers\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} requires correct encoding for the public key and signature.`) // Fallback, should be unreachable\n          }\n\n          const scriptForChecksig = this.context === 'UnlockingScript' ? this.unlockingScript : this.lockingScript\n          const scriptCodeChunks = scriptForChecksig.chunks.slice(this.lastCodeSeparator === null ? 0 : this.lastCodeSeparator + 1)\n          subscript = new Script(scriptCodeChunks)\n          subscript.findAndDelete(new Script().writeBin(bufSig))\n\n          fSuccess = false\n          if (bufSig.length > 0) {\n            try {\n              sig = TransactionSignature.fromChecksigFormat(bufSig)\n              pubkey = PublicKey.fromDER(bufPubkey)\n              fSuccess = this.verifySignature(sig, pubkey, subscript)\n            } catch (e) {\n              fSuccess = false\n            }\n          }\n\n          this.pushStack(fSuccess ? [1] : [])\n          if (currentOpcode === OP.OP_CHECKSIGVERIFY) {\n            if (!fSuccess) this.scriptEvaluationError('OP_CHECKSIGVERIFY requires that a valid signature is provided.')\n            this.popStack()\n          }\n          break\n        }\n        case OP.OP_CHECKMULTISIG:\n        case OP.OP_CHECKMULTISIGVERIFY: {\n          i = 1\n          if (this.stack.length < i) {\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} requires at least 1 item for nKeys.`)\n          }\n\n          nKeysCount = BigNumber.fromScriptNum(this.stackTop(-i), requireMinimalPush).toNumber()\n          if (nKeysCount < 0 || nKeysCount > maxMultisigKeyCount) {\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} requires a key count between 0 and ${maxMultisigKeyCount}.`)\n          }\n          ikey = ++i\n          i += nKeysCount\n\n          if (this.stack.length < i) {\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} stack too small for nKeys and keys. Need ${i}, have ${this.stack.length}.`)\n          }\n\n          nSigsCount = BigNumber.fromScriptNum(this.stackTop(-i), requireMinimalPush).toNumber()\n          if (nSigsCount < 0 || nSigsCount > nKeysCount) {\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} requires the number of signatures to be no greater than the number of keys.`)\n          }\n          isig = ++i\n          i += nSigsCount\n          if (this.stack.length < i) {\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} stack too small for N, keys, M, sigs, and dummy. Need ${i}, have ${this.stack.length}.`)\n          }\n\n          const baseScriptCMS = this.context === 'UnlockingScript' ? this.unlockingScript : this.lockingScript\n          const subscriptChunksCMS = baseScriptCMS.chunks.slice(this.lastCodeSeparator === null ? 0 : this.lastCodeSeparator + 1)\n          subscript = new Script(subscriptChunksCMS)\n\n          for (let k = 0; k < nSigsCount; k++) {\n            bufSig = this.stackTop(-isig - k) // Sigs are closer to top than keys\n            subscript.findAndDelete(new Script().writeBin(bufSig))\n          }\n\n          fSuccess = true\n          while (fSuccess && nSigsCount > 0) {\n            if (nKeysCount === 0) { // No more keys to check against but still sigs left\n              fSuccess = false\n              break\n            }\n            bufSig = this.stackTop(-isig)\n            bufPubkey = this.stackTop(-ikey)\n\n            if (!this.checkSignatureEncoding(bufSig) || !this.checkPublicKeyEncoding(bufPubkey)) {\n              this.scriptEvaluationError(`${OP[currentOpcode] as string} requires correct encoding for the public key and signature.`)\n            }\n\n            fOk = false\n            if (bufSig.length > 0) {\n              try {\n                sig = TransactionSignature.fromChecksigFormat(bufSig)\n                pubkey = PublicKey.fromDER(bufPubkey)\n                fOk = this.verifySignature(sig, pubkey, subscript)\n              } catch (e) {\n                fOk = false\n              }\n            }\n\n            if (fOk) {\n              isig++; nSigsCount--\n            }\n            ikey++; nKeysCount--\n\n            if (nSigsCount > nKeysCount) {\n              fSuccess = false\n            }\n          }\n\n          // Correct total items consumed by op (N_val, keys, M_val, sigs, dummy)\n          const itemsConsumedByOp = 1 + // N_val\n                                  BigNumber.fromScriptNum(this.stackTop(-1), false).toNumber() + // keys\n                                  1 + // M_val\n                                  BigNumber.fromScriptNum(this.stackTop(-(1 + BigNumber.fromScriptNum(this.stackTop(-1), false).toNumber() + 1)), false).toNumber() + // sigs\n                                  1 // dummy\n\n          let popCount = itemsConsumedByOp - 1 // Pop all except dummy\n          while (popCount > 0) {\n            this.popStack()\n            popCount--\n          }\n\n          // Check and pop dummy\n          if (this.stack.length < 1) {\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} requires an extra item (dummy) to be on the stack.`)\n          }\n          const dummyBuf = this.popStack()\n          if (dummyBuf.length > 0) { // SCRIPT_VERIFY_NULLDUMMY\n            this.scriptEvaluationError(`${OP[currentOpcode] as string} requires the extra stack item (dummy) to be empty.`)\n          }\n\n          this.pushStack(fSuccess ? [1] : [])\n          if (currentOpcode === OP.OP_CHECKMULTISIGVERIFY) {\n            if (!fSuccess) this.scriptEvaluationError('OP_CHECKMULTISIGVERIFY requires that a sufficient number of valid signatures are provided.')\n            this.popStack()\n          }\n          break\n        }\n\n        case OP.OP_CAT: {\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_CAT requires at least two items to be on the stack.')\n          buf2 = this.popStack()\n          buf1 = this.popStack()\n          const catResult = (buf1).concat(buf2)\n          if (catResult.length > maxScriptElementSize) this.scriptEvaluationError(`It's not currently possible to push data larger than ${maxScriptElementSize} bytes.`)\n          this.pushStack(catResult)\n          break\n        }\n        case OP.OP_SPLIT: {\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_SPLIT requires at least two items to be on the stack.')\n          const posBuf = this.popStack()\n          const dataToSplit = this.popStack()\n\n          n = BigNumber.fromScriptNum(posBuf, requireMinimalPush).toNumber()\n          if (n < 0 || n > dataToSplit.length) {\n            this.scriptEvaluationError('OP_SPLIT requires the first stack item to be a non-negative number less than or equal to the size of the second-from-top stack item.')\n          }\n\n          this.pushStack(dataToSplit.slice(0, n))\n          this.pushStack(dataToSplit.slice(n))\n          break\n        }\n        case OP.OP_NUM2BIN: {\n          if (this.stack.length < 2) this.scriptEvaluationError('OP_NUM2BIN requires at least two items to be on the stack.')\n\n          size = BigNumber.fromScriptNum(this.popStack(), requireMinimalPush).toNumber()\n          if (size > maxScriptElementSize || size < 0) { // size can be 0\n            this.scriptEvaluationError(`It's not currently possible to push data larger than ${maxScriptElementSize} bytes or negative size.`)\n          }\n\n          let rawnum = this.popStack() // This is the number to convert\n          rawnum = minimallyEncode(rawnum) // Get its minimal scriptnum form\n\n          if (rawnum.length > size) {\n            this.scriptEvaluationError('OP_NUM2BIN requires that the size expressed in the top stack item is large enough to hold the value expressed in the second-from-top stack item.')\n          }\n\n          if (rawnum.length === size) {\n            this.pushStack(rawnum)\n            break\n          }\n\n          const resultN2B = new Array(size).fill(0x00)\n          let signbit = 0x00\n\n          if (rawnum.length > 0) {\n            signbit = rawnum[rawnum.length - 1] & 0x80 // Store sign bit\n            rawnum[rawnum.length - 1] &= 0x7f // Remove sign bit for padding\n          }\n\n          // Copy rawnum (now positive magnitude) into the result\n          for (let k = 0; k < rawnum.length; k++) {\n            resultN2B[k] = rawnum[k]\n          }\n\n          // If the original number was negative, the sign bit must be set on the new MSB\n          if (signbit !== 0) {\n            resultN2B[size - 1] |= 0x80\n          }\n          this.pushStack(resultN2B)\n          break\n        }\n        case OP.OP_BIN2NUM: {\n          if (this.stack.length < 1) this.scriptEvaluationError('OP_BIN2NUM requires at least one item to be on the stack.')\n          buf1 = this.popStack()\n          const b2nResult = minimallyEncode(buf1)\n          if (!isMinimallyEncodedHelper(b2nResult)) {\n            this.scriptEvaluationError('OP_BIN2NUM requires that the resulting number is valid.')\n          }\n          this.pushStack(b2nResult)\n          break\n        }\n\n        default:\n          this.scriptEvaluationError(`Invalid opcode ${currentOpcode} (pc=${this.programCounter}).`)\n      }\n    }\n\n    this.programCounter++\n    return true\n  }\n\n  /**\n   * @method validate\n   * Validates the spend action by interpreting the locking and unlocking scripts.\n   * @returns {boolean} Returns true if the scripts are valid and the spend is legitimate, otherwise false.\n   * @example\n   * if (spend.validate()) {\n   *   console.log(\"Spend is valid!\");\n   * } else {\n   *   console.log(\"Invalid spend!\");\n   * }\n   */\n  validate (): boolean {\n    if (requirePushOnlyUnlockingScripts && !this.unlockingScript.isPushOnly()) {\n      this.scriptEvaluationError(\n        'Unlocking scripts can only contain push operations, and no other opcodes.'\n      )\n    }\n\n    while (this.step()) {\n      if (\n        this.context === 'LockingScript' &&\n        this.programCounter >= this.lockingScript.chunks.length\n      ) {\n        break\n      }\n    }\n\n    if (this.ifStack.length > 0) {\n      this.scriptEvaluationError(\n        'Every OP_IF, OP_NOTIF, or OP_ELSE must be terminated with OP_ENDIF prior to the end of the script.'\n      )\n    }\n\n    if (requireCleanStack) {\n      if (this.stack.length !== 1) {\n        this.scriptEvaluationError(\n          `The clean stack rule requires exactly one item to be on the stack after script execution, found ${this.stack.length}.`\n        )\n      }\n    }\n\n    if (this.stack.length === 0) {\n      this.scriptEvaluationError(\n        'The top stack element must be truthy after script evaluation (stack is empty).'\n      )\n    } else if (!this.castToBool(this.stackTop())) {\n      this.scriptEvaluationError(\n        'The top stack element must be truthy after script evaluation.'\n      )\n    }\n\n    return true\n  }\n\n  private castToBool (val: Readonly<number[]>): boolean {\n    if (val.length === 0) return false\n    for (let i = 0; i < val.length; i++) {\n      if (val[i] !== 0) {\n        return !(i === val.length - 1 && val[i] === 0x80)\n      }\n    }\n    return false\n  }\n\n  private scriptEvaluationError (str: string): void {\n    const pcInfo = `Context: ${this.context}, PC: ${this.programCounter}`\n    const stackHex = this.stack.map(s => (s != null && typeof s.length !== 'undefined') ? toHex(s) : (s === null || s === undefined ? 'null/undef' : 'INVALID_STACK_ITEM')).join(', ')\n    const altStackHex = this.altStack.map(s => (s != null && typeof s.length !== 'undefined') ? toHex(s) : (s === null || s === undefined ? 'null/undef' : 'INVALID_STACK_ITEM')).join(', ')\n\n    const stackInfo = `Stack: [${stackHex}] (len: ${this.stack.length}, mem: ${this.stackMem})`\n    const altStackInfo = `AltStack: [${altStackHex}] (len: ${this.altStack.length}, mem: ${this.altStackMem})`\n    const ifStackInfo = `IfStack: [${this.ifStack.join(', ')}]`\n\n    throw new Error(\n      `Script evaluation error: ${str}\\nTXID: ${this.sourceTXID}, OutputIdx: ${this.sourceOutputIndex}\\n${pcInfo}\\n${stackInfo}\\n${altStackInfo}\\n${ifStackInfo}`\n    )\n  }\n}\n","import { WalletProtocol } from \"../../wallet/index.js\"\n\nexport const defaultIdentity: DisplayableIdentity = {\n  name: 'Unknown Identity',\n  avatarURL: 'XUUB8bbn9fEthk15Ge3zTQXypUShfC94vFjp65v7u5CQ8qkpxzst',\n  identityKey: '',\n  abbreviatedKey: '',\n  badgeIconURL: 'XUUV39HVPkpmMzYNTx7rpKzJvXfeiVyQWg2vfSpjBAuhunTCA9uG',\n  badgeLabel: 'Not verified by anyone you trust.',\n  badgeClickURL: 'https://projectbabbage.com/docs/unknown-identity'\n}\n\nexport interface IdentityClientOptions {\n  protocolID: WalletProtocol\n  keyID: string\n  tokenAmount: number\n  outputIndex: number\n}\nexport const DEFAULT_IDENTITY_CLIENT_OPTIONS: IdentityClientOptions = {\n  protocolID: [1, 'identity'],\n  keyID: '1',\n  tokenAmount: 1,\n  outputIndex: 0\n}\n\nexport interface DisplayableIdentity {\n  name: string\n  avatarURL: string\n  abbreviatedKey: string\n  identityKey: string\n  badgeIconURL: string\n  badgeLabel: string\n  badgeClickURL: string\n}\n\nexport const KNOWN_IDENTITY_TYPES = {\n  identiCert: 'z40BOInXkI8m7f/wBrv4MJ09bZfzZbTj2fJqCtONqCY=',\n  discordCert: '2TgqRC35B1zehGmB21xveZNc7i5iqHc0uxMb+1NMPW4=',\n  phoneCert: 'mffUklUzxbHr65xLohn0hRL0Tq2GjW1GYF/OPfzqJ6A=',\n  xCert: 'vdDWvftf1H+5+ZprUw123kjHlywH+v20aPQTuXgMpNc=',\n  registrant: 'YoPsbfR6YQczjzPdHCoGC7nJsOdPQR50+SYqcWpJ0y0=',\n  emailCert: 'exOl3KM0dIJ04EW5pZgbZmPag6MdJXd3/a1enmUU/BA=',\n  anyone: 'mfkOMfLDQmrr3SBxBQ5WeE+6Hy3VJRFq6w4A5Ljtlis=',\n  self: 'Hkge6X5JRxt1cWXtHLCrSTg6dCVTxjQJJ48iOYd7n3g=',\n  coolCert: 'AGfk/WrT1eBDXpz3mcw386Zww2HmqcIn3uY6x4Af1eo='\n}\n","import BigNumber from './BigNumber.js'\nimport ReductionContext from './ReductionContext.js'\nimport MontgomoryMethod from './MontgomoryMethod.js'\nimport Point from './Point.js'\nimport { toArray } from './utils.js'\n\n// This ensures that only one curve is ever created, enhancing performance.\n// This assumes there is never a need to have multiple distinct Curve instances.\n// So far, this assumption has proven to be valid.\nlet globalCurve: Curve\n\nexport default class Curve {\n  p: BigNumber\n  red: ReductionContext\n  redN: BigNumber | null\n  zero: BigNumber\n  one: BigNumber\n  two: BigNumber\n  g: Point\n  n: BigNumber\n  a: BigNumber\n  b: BigNumber\n  tinv: BigNumber\n  zeroA: boolean\n  threeA: boolean\n  endo: { beta: BigNumber, lambda: BigNumber, basis: Array<{ a: BigNumber, b: BigNumber }> } | undefined // beta, lambda, basis\n  _endoWnafT1: BigNumber[]\n  _endoWnafT2: BigNumber[]\n  _wnafT1: BigNumber[]\n  _wnafT2: BigNumber[]\n  _wnafT3: BigNumber[]\n  _wnafT4: BigNumber[]\n  _bitLength: number\n\n  // Represent num in a w-NAF form\n  static assert (\n    expression: unknown,\n    message: string = 'Elliptic curve assertion failed'\n  ): void {\n    if (!(expression as boolean)) {\n      throw new Error(message)\n    }\n  }\n\n  getNAF (num: BigNumber, w: number, bits: number): number[] {\n    const naf = new Array(Math.max(num.bitLength(), bits) + 1)\n    naf.fill(0)\n\n    const ws = 1 << (w + 1)\n    const k = num.clone()\n\n    for (let i = 0; i < naf.length; i++) {\n      let z\n      const mod = k.andln(ws - 1)\n      if (k.isOdd()) {\n        if (mod > (ws >> 1) - 1) {\n          z = (ws >> 1) - mod\n        } else {\n          z = mod\n        }\n        k.isubn(z)\n      } else {\n        z = 0\n      }\n\n      naf[i] = z\n      k.iushrn(1)\n    }\n\n    return naf\n  }\n\n  // Represent k1, k2 in a Joint Sparse Form\n  getJSF (k1: BigNumber, k2: BigNumber): number[][] {\n    const jsf: number[][] = [[], []]\n\n    k1 = k1.clone()\n    k2 = k2.clone()\n    let d1 = 0\n    let d2 = 0\n    while (k1.cmpn(-d1) > 0 || k2.cmpn(-d2) > 0) {\n      // First phase\n      let m14 = (k1.andln(3) + d1) & 3\n      let m24 = (k2.andln(3) + d2) & 3\n      if (m14 === 3) {\n        m14 = -1\n      }\n      if (m24 === 3) {\n        m24 = -1\n      }\n      let u1: number\n      if ((m14 & 1) === 0) {\n        u1 = 0\n      } else {\n        const m8 = (k1.andln(7) + d1) & 7\n        if ((m8 === 3 || m8 === 5) && m24 === 2) {\n          u1 = -m14\n        } else {\n          u1 = m14\n        }\n      }\n      jsf[0].push(u1)\n\n      let u2: number\n      if ((m24 & 1) === 0) {\n        u2 = 0\n      } else {\n        const m8 = (k2.andln(7) + d2) & 7\n        if ((m8 === 3 || m8 === 5) && m14 === 2) {\n          u2 = -m24\n        } else {\n          u2 = m24\n        }\n      }\n      jsf[1].push(u2)\n\n      // Second phase\n      if (2 * d1 === u1 + 1) {\n        d1 = 1 - d1\n      }\n      if (2 * d2 === u2 + 1) {\n        d2 = 1 - d2\n      }\n      k1.iushrn(1)\n      k2.iushrn(1)\n    }\n\n    return jsf\n  }\n\n  static cachedProperty (obj, name: string, computer): void {\n    const key = '_' + name\n    obj.prototype[name] = function cachedProperty () {\n      const r =\n        this[key] !== undefined ? this[key] : (this[key] = computer.call(this))\n      return r\n    }\n  }\n\n  static parseBytes (bytes: string | number[]): number[] {\n    return typeof bytes === 'string' ? toArray(bytes, 'hex') : bytes\n  }\n\n  static intFromLE (bytes: number[]): BigNumber {\n    return new BigNumber(bytes, 'hex', 'le')\n  }\n\n  constructor () {\n    if (typeof globalCurve !== 'undefined') {\n      return globalCurve\n    } else {\n      /* eslint-disable @typescript-eslint/no-this-alias */\n      globalCurve = this\n    }\n\n    const precomputed = {\n      doubles: {\n        step: 4,\n        points: [\n          [\n            'e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a',\n            'f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821'\n          ],\n          [\n            '8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508',\n            '11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf'\n          ],\n          [\n            '175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739',\n            'd3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695'\n          ],\n          [\n            '363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640',\n            '4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9'\n          ],\n          [\n            '8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c',\n            '4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36'\n          ],\n          [\n            '723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda',\n            '96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f'\n          ],\n          [\n            'eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa',\n            '5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999'\n          ],\n          [\n            '100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0',\n            'cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09'\n          ],\n          [\n            'e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d',\n            '9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d'\n          ],\n          [\n            'feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d',\n            'e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088'\n          ],\n          [\n            'da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1',\n            '9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d'\n          ],\n          [\n            '53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0',\n            '5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8'\n          ],\n          [\n            '8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047',\n            '10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a'\n          ],\n          [\n            '385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862',\n            '283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453'\n          ],\n          [\n            '6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7',\n            '7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160'\n          ],\n          [\n            '3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd',\n            '56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0'\n          ],\n          [\n            '85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83',\n            '7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6'\n          ],\n          [\n            '948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a',\n            '53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589'\n          ],\n          [\n            '6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8',\n            'bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17'\n          ],\n          [\n            'e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d',\n            '4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda'\n          ],\n          [\n            'e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725',\n            '7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd'\n          ],\n          [\n            '213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754',\n            '4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2'\n          ],\n          [\n            '4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c',\n            '17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6'\n          ],\n          [\n            'fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6',\n            '6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f'\n          ],\n          [\n            '76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39',\n            'c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01'\n          ],\n          [\n            'c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891',\n            '893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3'\n          ],\n          [\n            'd895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b',\n            'febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f'\n          ],\n          [\n            'b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03',\n            '2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7'\n          ],\n          [\n            'e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d',\n            'eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78'\n          ],\n          [\n            'a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070',\n            '7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1'\n          ],\n          [\n            '90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4',\n            'e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150'\n          ],\n          [\n            '8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da',\n            '662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82'\n          ],\n          [\n            'e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11',\n            '1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc'\n          ],\n          [\n            '8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e',\n            'efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b'\n          ],\n          [\n            'e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41',\n            '2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51'\n          ],\n          [\n            'b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef',\n            '67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45'\n          ],\n          [\n            'd68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8',\n            'db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120'\n          ],\n          [\n            '324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d',\n            '648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84'\n          ],\n          [\n            '4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96',\n            '35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d'\n          ],\n          [\n            '9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd',\n            'ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d'\n          ],\n          [\n            '6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5',\n            '9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8'\n          ],\n          [\n            'a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266',\n            '40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8'\n          ],\n          [\n            '7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71',\n            '34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac'\n          ],\n          [\n            '928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac',\n            'c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f'\n          ],\n          [\n            '85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751',\n            '1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962'\n          ],\n          [\n            'ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e',\n            '493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907'\n          ],\n          [\n            '827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241',\n            'c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec'\n          ],\n          [\n            'eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3',\n            'be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d'\n          ],\n          [\n            'e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f',\n            '4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414'\n          ],\n          [\n            '1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19',\n            'aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd'\n          ],\n          [\n            '146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be',\n            'b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0'\n          ],\n          [\n            'fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9',\n            '6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811'\n          ],\n          [\n            'da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2',\n            '8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1'\n          ],\n          [\n            'a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13',\n            '7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c'\n          ],\n          [\n            '174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c',\n            'ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73'\n          ],\n          [\n            '959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba',\n            '2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd'\n          ],\n          [\n            'd2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151',\n            'e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405'\n          ],\n          [\n            '64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073',\n            'd99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589'\n          ],\n          [\n            '8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458',\n            '38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e'\n          ],\n          [\n            '13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b',\n            '69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27'\n          ],\n          [\n            'bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366',\n            'd3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1'\n          ],\n          [\n            '8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa',\n            '40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482'\n          ],\n          [\n            '8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0',\n            '620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945'\n          ],\n          [\n            'dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787',\n            '7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573'\n          ],\n          [\n            'f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e',\n            'ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82'\n          ]\n        ]\n      },\n      naf: {\n        wnd: 7,\n        points: [\n          [\n            'f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9',\n            '388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672'\n          ],\n          [\n            '2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4',\n            'd8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6'\n          ],\n          [\n            '5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc',\n            '6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da'\n          ],\n          [\n            'acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe',\n            'cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37'\n          ],\n          [\n            '774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb',\n            'd984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b'\n          ],\n          [\n            'f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8',\n            'ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81'\n          ],\n          [\n            'd7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e',\n            '581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58'\n          ],\n          [\n            'defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34',\n            '4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77'\n          ],\n          [\n            '2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c',\n            '85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a'\n          ],\n          [\n            '352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5',\n            '321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c'\n          ],\n          [\n            '2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f',\n            '2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67'\n          ],\n          [\n            '9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714',\n            '73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402'\n          ],\n          [\n            'daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729',\n            'a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55'\n          ],\n          [\n            'c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db',\n            '2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482'\n          ],\n          [\n            '6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4',\n            'e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82'\n          ],\n          [\n            '1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5',\n            'b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396'\n          ],\n          [\n            '605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479',\n            '2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49'\n          ],\n          [\n            '62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d',\n            '80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf'\n          ],\n          [\n            '80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f',\n            '1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a'\n          ],\n          [\n            '7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb',\n            'd0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7'\n          ],\n          [\n            'd528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9',\n            'eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933'\n          ],\n          [\n            '49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963',\n            '758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a'\n          ],\n          [\n            '77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74',\n            '958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6'\n          ],\n          [\n            'f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530',\n            'e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37'\n          ],\n          [\n            '463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b',\n            '5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e'\n          ],\n          [\n            'f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247',\n            'cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6'\n          ],\n          [\n            'caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1',\n            'cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476'\n          ],\n          [\n            '2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120',\n            '4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40'\n          ],\n          [\n            '7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435',\n            '91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61'\n          ],\n          [\n            '754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18',\n            '673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683'\n          ],\n          [\n            'e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8',\n            '59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5'\n          ],\n          [\n            '186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb',\n            '3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b'\n          ],\n          [\n            'df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f',\n            '55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417'\n          ],\n          [\n            '5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143',\n            'efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868'\n          ],\n          [\n            '290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba',\n            'e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a'\n          ],\n          [\n            'af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45',\n            'f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6'\n          ],\n          [\n            '766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a',\n            '744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996'\n          ],\n          [\n            '59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e',\n            'c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e'\n          ],\n          [\n            'f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8',\n            'e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d'\n          ],\n          [\n            '7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c',\n            '30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2'\n          ],\n          [\n            '948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519',\n            'e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e'\n          ],\n          [\n            '7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab',\n            '100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437'\n          ],\n          [\n            '3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca',\n            'ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311'\n          ],\n          [\n            'd3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf',\n            '8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4'\n          ],\n          [\n            '1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610',\n            '68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575'\n          ],\n          [\n            '733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4',\n            'f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d'\n          ],\n          [\n            '15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c',\n            'd56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d'\n          ],\n          [\n            'a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940',\n            'edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629'\n          ],\n          [\n            'e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980',\n            'a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06'\n          ],\n          [\n            '311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3',\n            '66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374'\n          ],\n          [\n            '34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf',\n            '9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee'\n          ],\n          [\n            'f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63',\n            '4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1'\n          ],\n          [\n            'd7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448',\n            'fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b'\n          ],\n          [\n            '32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf',\n            '5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661'\n          ],\n          [\n            '7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5',\n            '8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6'\n          ],\n          [\n            'ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6',\n            '8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e'\n          ],\n          [\n            '16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5',\n            '5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d'\n          ],\n          [\n            'eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99',\n            'f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc'\n          ],\n          [\n            '78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51',\n            'f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4'\n          ],\n          [\n            '494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5',\n            '42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c'\n          ],\n          [\n            'a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5',\n            '204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b'\n          ],\n          [\n            'c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997',\n            '4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913'\n          ],\n          [\n            '841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881',\n            '73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154'\n          ],\n          [\n            '5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5',\n            '39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865'\n          ],\n          [\n            '36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66',\n            'd2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc'\n          ],\n          [\n            '336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726',\n            'ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224'\n          ],\n          [\n            '8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede',\n            '6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e'\n          ],\n          [\n            '1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94',\n            '60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6'\n          ],\n          [\n            '85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31',\n            '3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511'\n          ],\n          [\n            '29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51',\n            'b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b'\n          ],\n          [\n            'a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252',\n            'ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2'\n          ],\n          [\n            '4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5',\n            'cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c'\n          ],\n          [\n            'd24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b',\n            '6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3'\n          ],\n          [\n            'ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4',\n            '322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d'\n          ],\n          [\n            'af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f',\n            '6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700'\n          ],\n          [\n            'e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889',\n            '2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4'\n          ],\n          [\n            '591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246',\n            'b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196'\n          ],\n          [\n            '11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984',\n            '998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4'\n          ],\n          [\n            '3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a',\n            'b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257'\n          ],\n          [\n            'cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030',\n            'bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13'\n          ],\n          [\n            'c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197',\n            '6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096'\n          ],\n          [\n            'c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593',\n            'c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38'\n          ],\n          [\n            'a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef',\n            '21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f'\n          ],\n          [\n            '347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38',\n            '60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448'\n          ],\n          [\n            'da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a',\n            '49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a'\n          ],\n          [\n            'c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111',\n            '5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4'\n          ],\n          [\n            '4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502',\n            '7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437'\n          ],\n          [\n            '3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea',\n            'be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7'\n          ],\n          [\n            'cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26',\n            '8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d'\n          ],\n          [\n            'b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986',\n            '39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a'\n          ],\n          [\n            'd4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e',\n            '62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54'\n          ],\n          [\n            '48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4',\n            '25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77'\n          ],\n          [\n            'dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda',\n            'ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517'\n          ],\n          [\n            '6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859',\n            'cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10'\n          ],\n          [\n            'e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f',\n            'f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125'\n          ],\n          [\n            'eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c',\n            '6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e'\n          ],\n          [\n            '13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942',\n            'fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1'\n          ],\n          [\n            'ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a',\n            '1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2'\n          ],\n          [\n            'b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80',\n            '5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423'\n          ],\n          [\n            'ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d',\n            '438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8'\n          ],\n          [\n            '8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1',\n            'cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758'\n          ],\n          [\n            '52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63',\n            'c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375'\n          ],\n          [\n            'e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352',\n            '6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d'\n          ],\n          [\n            '7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193',\n            'ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec'\n          ],\n          [\n            '5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00',\n            '9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0'\n          ],\n          [\n            '32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58',\n            'ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c'\n          ],\n          [\n            'e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7',\n            'd3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4'\n          ],\n          [\n            '8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8',\n            'c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f'\n          ],\n          [\n            '4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e',\n            '67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649'\n          ],\n          [\n            '3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d',\n            'cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826'\n          ],\n          [\n            '674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b',\n            '299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5'\n          ],\n          [\n            'd32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f',\n            'f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87'\n          ],\n          [\n            '30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6',\n            '462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b'\n          ],\n          [\n            'be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297',\n            '62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc'\n          ],\n          [\n            '93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a',\n            '7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c'\n          ],\n          [\n            'b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c',\n            'ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f'\n          ],\n          [\n            'd5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52',\n            '4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a'\n          ],\n          [\n            'd3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb',\n            'bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46'\n          ],\n          [\n            '463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065',\n            'bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f'\n          ],\n          [\n            '7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917',\n            '603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03'\n          ],\n          [\n            '74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9',\n            'cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08'\n          ],\n          [\n            '30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3',\n            '553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8'\n          ],\n          [\n            '9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57',\n            '712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373'\n          ],\n          [\n            '176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66',\n            'ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3'\n          ],\n          [\n            '75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8',\n            '9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8'\n          ],\n          [\n            '809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721',\n            '9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1'\n          ],\n          [\n            '1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180',\n            '4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9'\n          ]\n        ]\n      }\n    }\n    const conf = {\n      prime: 'k256',\n      p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',\n      a: '0',\n      b: '7',\n      n: 'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',\n      h: '1',\n\n      // Precomputed endomorphism\n      beta: '7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',\n      lambda:\n        '5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',\n      basis: [\n        {\n          a: '3086d221a7d46bcde86c90e49284eb15',\n          b: '-e4437ed6010e88286f547fa90abfe4c3'\n        },\n        {\n          a: '114ca50f7a8e2f3f657c1108d9d44cfd8',\n          b: '3086d221a7d46bcde86c90e49284eb15'\n        }\n      ],\n\n      gRed: false,\n      g: [\n        '79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798',\n        '483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n        precomputed\n      ]\n    }\n\n    this.p = new BigNumber(conf.p, 16)\n\n    // Use Montgomery, when there is no fast reduction for the prime\n    this.red = new ReductionContext(conf.prime as 'k256')\n\n    // Useful for many curves\n    this.zero = new BigNumber(0).toRed(this.red)\n    this.one = new BigNumber(1).toRed(this.red)\n    this.two = new BigNumber(2).toRed(this.red)\n\n    // Curve configuration, optional\n    this.n = new BigNumber(conf.n, 16)\n    this.g = Point.fromJSON(conf.g as [string, string, { doubles?: { step: number, points: Array<[string, string]> }, naf?: { wnd: number, points: Array<[string, string]> } }], conf.gRed)\n\n    // Temporary arrays\n    this._wnafT1 = new Array(4)\n    this._wnafT2 = new Array(4)\n    this._wnafT3 = new Array(4)\n    this._wnafT4 = new Array(4)\n\n    this._bitLength = this.n.bitLength()\n    this.redN = this.n.toRed(this.red)\n    this.a = new BigNumber(conf.a, 16).toRed(this.red)\n    this.b = new BigNumber(conf.b, 16).toRed(this.red)\n    this.tinv = this.two.redInvm()\n\n    this.zeroA = this.a.fromRed().cmpn(0) === 0\n    this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0\n\n    // If the curve is endomorphic, precalculate beta and lambda\n    this.endo = this._getEndomorphism(conf)\n    this._endoWnafT1 = new Array(4)\n    this._endoWnafT2 = new Array(4)\n  }\n\n  _getEndomorphism (conf):\n  | {\n    beta: BigNumber\n    lambda: BigNumber\n    basis: Array<{ a: BigNumber, b: BigNumber }>\n  }\n  | undefined {\n    // No efficient endomorphism\n    if (!this.zeroA || this.p.modrn(3) !== 1) {\n      return\n    }\n\n    // Compute beta and lambda, that lambda * P = (beta * Px; Py)\n    let beta: BigNumber\n    let lambda: BigNumber\n\n    if (conf.beta !== undefined) {\n      beta = new BigNumber(conf.beta, 16).toRed(this.red)\n    } else {\n      const betas = this._getEndoRoots(this.p)\n      if (betas === null) {\n        throw new Error('Failed to get endomorphism roots for beta.')\n      }\n      // Choose the smallest beta\n      beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1]\n      beta = beta.toRed(this.red)\n    }\n\n    if (conf.lambda !== undefined) {\n      lambda = new BigNumber(conf.lambda, 16)\n    } else {\n      // Choose the lambda that matches selected beta\n      const lambdas = this._getEndoRoots(this.n)\n      if (lambdas === null) {\n        throw new Error('Failed to get endomorphism roots for lambda.')\n      }\n\n      if (this.g == null) {\n        throw new Error('Curve generator point (g) is not defined.')\n      }\n\n      const gMulX = this.g.mul(lambdas[0])?.x\n      const gXRedMulBeta = (this.g.x != null) ? this.g.x.redMul(beta) : undefined\n\n      if ((gMulX != null) && (gXRedMulBeta != null) && gMulX.cmp(gXRedMulBeta) === 0) {\n        lambda = lambdas[0]\n      } else {\n        lambda = lambdas[1]\n\n        if (this.g == null) {\n          throw new Error('Curve generator point (g) is not defined.')\n        }\n\n        const gMulX = this.g.mul(lambda)?.x\n        const gXRedMulBeta = (this.g.x != null) ? this.g.x.redMul(beta) : undefined\n\n        if ((gMulX == null) || (gXRedMulBeta == null)) {\n          throw new Error('Lambda computation failed: g.mul(lambda).x or g.x.redMul(beta) is undefined.')\n        }\n\n        Curve.assert(\n          gMulX.cmp(gXRedMulBeta) === 0,\n          'Lambda selection does not match computed beta.'\n        )\n      }\n    }\n\n    // Get basis vectors, used for balanced length-two representation\n    let basis: Array<{ a: BigNumber, b: BigNumber }>\n    if (typeof conf.basis === 'object' && conf.basis !== null) {\n      basis = conf.basis.map(function (vec) {\n        return {\n          a: new BigNumber(vec.a, 16),\n          b: new BigNumber(vec.b, 16)\n        }\n      })\n    } else {\n      basis = this._getEndoBasis(lambda)\n    }\n\n    return {\n      beta,\n      lambda,\n      basis\n    }\n  }\n\n  _getEndoRoots (num: BigNumber): [BigNumber, BigNumber] {\n    // Find roots of for x^2 + x + 1 in F\n    // Root = (-1 +- Sqrt(-3)) / 2\n    //\n    const red = num === this.p ? this.red : new MontgomoryMethod(num)\n    const tinv = new BigNumber(2).toRed(red).redInvm()\n    const ntinv = tinv.redNeg()\n\n    const s = new BigNumber(3).toRed(red).redNeg().redSqrt().redMul(tinv)\n\n    const l1 = ntinv.redAdd(s).fromRed()\n    const l2 = ntinv.redSub(s).fromRed()\n    return [l1, l2]\n  }\n\n  _getEndoBasis (\n    lambda: BigNumber\n  ): [{ a: BigNumber, b: BigNumber }, { a: BigNumber, b: BigNumber }] {\n    // aprxSqrt >= sqrt(this.n)\n    const aprxSqrt = this.n.ushrn(Math.floor(this.n.bitLength() / 2))\n\n    // 3.74\n    // Run EGCD, until r(L + 1) < aprxSqrt\n    let u = lambda\n    let v = this.n.clone()\n    let x1 = new BigNumber(1)\n    let y1 = new BigNumber(0)\n    let x2 = new BigNumber(0)\n    let y2 = new BigNumber(1)\n\n    // NOTE: all vectors are roots of: a + b * lambda = 0 (mod n)\n    let a0: BigNumber | undefined\n    let b0: BigNumber | undefined\n    // First vector\n    let a1: BigNumber | undefined\n    let b1: BigNumber | undefined\n    // Second vector\n    let a2: BigNumber\n    let b2: BigNumber\n\n    let prevR: BigNumber = new BigNumber(0)\n    let i = 0\n    let r: BigNumber = new BigNumber(0)\n    let x: BigNumber = new BigNumber(0) // Ensure x is initialized\n\n    while (u.cmpn(0) !== 0) {\n      const q = v.div(u)\n      r = v.sub(q.mul(u))\n      x = x2.sub(q.mul(x1)) // Now TypeScript knows x is always assigned\n      const y = y2.sub(q.mul(y1))\n\n      if (a1 === undefined && r.cmp(aprxSqrt) < 0) {\n        a0 = prevR.neg()\n        b0 = x1\n        a1 = r.neg()\n        b1 = x\n      } else if (a1 !== undefined && ++i === 2) {\n        break\n      }\n      prevR = r\n\n      v = u\n      u = r\n      x2 = x1\n      x1 = x\n      y2 = y1\n      y1 = y\n    }\n\n    // Ensure a0 and b0 have been assigned\n    if (\n      a0 === undefined ||\n      b0 === undefined ||\n      a1 === undefined ||\n      b1 === undefined\n    ) {\n      throw new Error('Failed to compute Endo Basis values')\n    }\n\n    a2 = r.neg()\n    b2 = x\n\n    const len1 = a1.sqr().add(b1.sqr())\n    const len2 = a2.sqr().add(b2.sqr())\n\n    if (len2.cmp(len1) >= 0) {\n      a2 = a0\n      b2 = b0\n    }\n\n    // Normalize signs\n    if (a1.negative !== 0) {\n      a1 = a1.neg()\n      b1 = b1.neg()\n    }\n    if (a2.negative !== 0) {\n      a2 = a2.neg()\n      b2 = b2.neg()\n    }\n\n    return [\n      { a: a1, b: b1 },\n      { a: a2, b: b2 }\n    ]\n  }\n\n  _endoSplit (k: BigNumber): { k1: BigNumber, k2: BigNumber } {\n    if (this.endo == null) {\n      throw new Error('Endomorphism is not defined.')\n    }\n    const basis = this.endo.basis\n    const v1 = basis[0]\n    const v2 = basis[1]\n\n    const c1 = v2.b.mul(k).divRound(this.n)\n    const c2 = v1.b.neg().mul(k).divRound(this.n)\n\n    const p1 = c1.mul(v1.a)\n    const p2 = c2.mul(v2.a)\n    const q1 = c1.mul(v1.b)\n    const q2 = c2.mul(v2.b)\n\n    // Calculate answer\n    const k1 = k.sub(p1).sub(p2)\n    const k2 = q1.add(q2).neg()\n    return { k1, k2 }\n  }\n\n  validate (point: Point): boolean {\n    if (point.inf) {\n      return true\n    }\n\n    const x = point.x\n    const y = point.y\n\n    // Ensure x and y are not null before proceeding\n    if (x === null || y === null) {\n      throw new Error('Point coordinates cannot be null')\n    }\n\n    const ax = this.a.redMul(x)\n    const rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b)\n    return y.redSqr().redISub(rhs).cmpn(0) === 0\n  }\n}\n","import WalletWire from './WalletWire.js'\nimport WalletWireCalls from './WalletWireCalls.js'\nimport * as Utils from '../../primitives/utils.js'\n\nexport default class HTTPWalletWire implements WalletWire {\n  baseUrl: string\n  httpClient: typeof fetch\n  originator: string | undefined\n\n  constructor(\n    originator: string | undefined,\n    baseUrl: string = 'http://localhost:3301',\n    httpClient = fetch\n  ) {\n    this.baseUrl = baseUrl\n    this.httpClient = httpClient\n    this.originator = originator\n  }\n\n  async transmitToWallet(message: number[]): Promise<number[]> {\n    const messageReader = new Utils.Reader(message)\n    // Read call code\n    const callCode = messageReader.readUInt8()\n\n    // Map call code to call name\n    const callName = WalletWireCalls[callCode] // calls is enum\n    if (callName === undefined || callName === '') {\n      // Invalid call code\n      throw new Error(`Invalid call code: ${callCode}`)\n    }\n\n    // Read originator length\n    const originatorLength = messageReader.readUInt8()\n    let originator: string | undefined\n    if (originatorLength > 0) {\n      const originatorBytes = messageReader.read(originatorLength)\n      originator = Utils.toUTF8(originatorBytes)\n    }\n    const payload = messageReader.read()\n    const response = await fetch(`${this.baseUrl}/${callName}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/octet-stream',\n        Origin: originator ?? '' //  Explicitly handle null/undefined cases\n      },\n      body: new Uint8Array(payload)\n    })\n    const responseBuffer = await response.arrayBuffer()\n    return Array.from(new Uint8Array(responseBuffer))\n  }\n}\n","import MerklePath from './MerklePath.js'\nimport Transaction from './Transaction.js'\nimport ChainTracker from './ChainTracker.js'\nimport BeefTx from './BeefTx.js'\nimport { Reader, Writer, toHex, toArray } from '../primitives/utils.js'\nimport { hash256 } from '../primitives/Hash.js'\n\nfunction verifyTruthy<T> (v: T | undefined): T {\n  if (v == null) throw new Error('Expected a valid value, but got undefined.')\n  return v\n}\n\nexport const BEEF_V1 = 4022206465 // 0100BEEF in LE order\nexport const BEEF_V2 = 4022206466 // 0200BEEF in LE order\nexport const ATOMIC_BEEF = 0x01010101 // 01010101\nexport enum TX_DATA_FORMAT {\n  RAWTX = 0, // rawtx without BUMP\n  RAWTX_AND_BUMP_INDEX = 1, // rawtx with bump index\n  TXID_ONLY = 2, // txid only\n}\n\n/*\n * BEEF standard: BRC-62: Background Evaluation Extended Format (BEEF) Transactions\n * https://github.com/bitcoin-sv/BRCs/blob/master/transactions/0062.md\n *\n * BUMP standard: BRC-74: BSV Unified Merkle Path (BUMP) Format\n * https://github.com/bitcoin-sv/BRCs/blob/master/transactions/0074.md\n *\n * BRC-95: Atomic BEEF Transactions\n * https://github.com/bitcoin-sv/BRCs/blob/master/transactions/0095.md\n *\n * The Atomic BEEF format is supported by the binary deserialization static method `fromBinary`.\n *\n * BRC-96: BEEF V2, Txid Only Extension\n * https://github.com/bitcoin-sv/BRCs/blob/master/transactions/0096.md\n *\n * A valid serialized BEEF is the cornerstone of Simplified Payment Validation (SPV)\n * where they are exchanged between two non-trusting parties to establish the\n * validity of a newly constructed bitcoin transaction and its inputs from prior\n * transactions.\n *\n * A `Beef` is fundamentally an list of `BUMP`s and a list of transactions.\n *\n * A `BUMP` is a partial merkle tree for a 'mined' bitcoin block.\n * It can therefore be used to prove the validity of transaction data\n * for each transaction txid whose merkle path is included in the tree.\n *\n * To be valid, the list of transactions must be sorted in dependency order:\n * oldest transaction first;\n * and each transaction must either\n * have a merkle path in one of the BUMPs, or\n * have all of its input transactions included in the list of transactions.\n *\n * The `Beef` class supports the construction of valid BEEFs by allowing BUMPs\n * (merkle paths) and transactions to be merged sequentially.\n *\n * The `Beef` class also extends the standard by supporting 'known' transactions.\n * A 'known' transaction is represented solely by its txid.\n * To become valid, all the 'known' transactions in a `Beef` must be replaced by full\n * transactions and merkle paths, if they are mined.\n *\n * The purpose of supporting 'known' transactions is that one or both parties\n * generating and exchanging BEEFs often possess partial knowledge of valid transactions\n * due to their history.\n *\n * A valid `Beef` is only required when sent to a party with no shared history,\n * such as a transaction processor.\n *\n * IMPORTANT NOTE:\n * It is fundamental to the BEEF value proposition that only valid transactions and valid\n * merkle path (BUMP) data be added to it. Merging invalid data breaks the `verify` and `isValid`\n * functions. There is no support for removing invalid data. A `Beef` that becomes invalid\n * must be discarded.\n */\nexport class Beef {\n  bumps: MerklePath[] = []\n  txs: BeefTx[] = []\n  version: number = BEEF_V2\n  atomicTxid: string | undefined = undefined\n\n  constructor (version: number = BEEF_V2) {\n    this.version = version\n  }\n\n  /**\n   * @param txid of `beefTx` to find\n   * @returns `BeefTx` in `txs` with `txid`.\n   */\n  findTxid (txid: string): BeefTx | undefined {\n    return this.txs.find((tx) => tx.txid === txid)\n  }\n\n  /**\n   * Replaces `BeefTx` for this txid with txidOnly.\n   *\n   * Replacement is done so that a `clone()` can be\n   * updated by this method without affecting the\n   * original.\n   *\n   * @param txid\n   * @returns undefined if txid is unknown.\n   */\n  makeTxidOnly (txid: string): BeefTx | undefined {\n    const i = this.txs.findIndex((tx) => tx.txid === txid)\n    if (i === -1) return undefined\n    let btx = this.txs[i]\n    if (btx.isTxidOnly) {\n      return btx\n    }\n    this.txs.splice(i, 1)\n    btx = this.mergeTxidOnly(txid)\n    return btx\n  }\n\n  /**\n   * @returns `MerklePath` with level zero hash equal to txid or undefined.\n   */\n  findBump (txid: string): MerklePath | undefined {\n    return this.bumps.find((b) =>\n      b.path[0].some((leaf) => leaf.hash === txid) //  Ensure boolean return with `.some()`\n    )\n  }\n\n  /**\n   * Finds a Transaction in this `Beef`\n   * and adds any missing input SourceTransactions from this `Beef`.\n   *\n   * The result is suitable for signing.\n   *\n   * @param txid The id of the target transaction.\n   * @returns Transaction with all available input `SourceTransaction`s from this Beef.\n   */\n  findTransactionForSigning (txid: string): Transaction | undefined {\n    const beefTx = this.findTxid(txid)\n    if ((beefTx == null) || (beefTx.tx == null)) return undefined // Ensure beefTx.tx exists before using it\n\n    for (const i of beefTx.tx.inputs) {\n      if (i.sourceTransaction == null) {\n        const itx = this.findTxid(verifyTruthy(i.sourceTXID)) // Ensure sourceTXID is valid\n        if (itx != null) {\n          i.sourceTransaction = itx.tx\n        }\n      }\n    }\n\n    return beefTx.tx\n  }\n\n  /**\n   * Builds the proof tree rooted at a specific `Transaction`.\n   *\n   * To succeed, the Beef must contain all the required transaction and merkle path data.\n   *\n   * @param txid The id of the target transaction.\n   * @returns Transaction with input `SourceTransaction` and `MerklePath` populated from this Beef.\n   */\n  findAtomicTransaction (txid: string): Transaction | undefined {\n    const beefTx = this.findTxid(txid)\n    if ((beefTx == null) || (beefTx.tx == null)) return undefined // Ensure beefTx.tx exists before using it\n\n    const addInputProof = (beef: Beef, tx: Transaction): void => {\n      const mp = beef.findBump(tx.id('hex'))\n      if (mp != null) {\n        tx.merklePath = mp\n      } else {\n        for (const i of tx.inputs) {\n          if (i.sourceTransaction == null) {\n            const itx = beef.findTxid(verifyTruthy(i.sourceTXID)) // Ensure sourceTXID is valid\n            if (itx != null) {\n              i.sourceTransaction = itx.tx\n            }\n          }\n          if (i.sourceTransaction != null) {\n            const mp = beef.findBump(i.sourceTransaction.id('hex'))\n            if (mp != null) {\n              i.sourceTransaction.merklePath = mp\n            } else {\n              addInputProof(beef, i.sourceTransaction)\n            }\n          }\n        }\n      }\n    }\n\n    addInputProof(this, beefTx.tx) // Safe because we checked that beefTx.tx exists\n\n    return beefTx.tx\n  }\n\n  /**\n   * Merge a MerklePath that is assumed to be fully valid.\n   * @param bump\n   * @returns index of merged bump\n   */\n  mergeBump (bump: MerklePath): number {\n    let bumpIndex: number | undefined\n    // If this proof is identical to another one previously added, we use that first. Otherwise, we try to merge it with proofs from the same block.\n    for (let i = 0; i < this.bumps.length; i++) {\n      const b = this.bumps[i]\n      if (b === bump) {\n        // Literally the same\n        return i\n      }\n      if (b.blockHeight === bump.blockHeight) {\n        // Probably the same...\n        const rootA = b.computeRoot()\n        const rootB = bump.computeRoot()\n        if (rootA === rootB) {\n          // Definitely the same... combine them to save space\n          b.combine(bump)\n          bumpIndex = i\n          break\n        }\n      }\n    }\n\n    // if the proof is not yet added, add a new path.\n    if (bumpIndex === undefined) {\n      bumpIndex = this.bumps.length\n      this.bumps.push(bump)\n    }\n\n    // Review if any transactions are proven by this bump\n    const b = this.bumps[bumpIndex]\n    for (const tx of this.txs) {\n      const txid = tx.txid\n\n      if (tx.bumpIndex == null) { //  Explicitly check for null or undefined\n        for (const n of b.path[0]) {\n          if (n.hash === txid) {\n            tx.bumpIndex = bumpIndex\n            n.txid = true\n            break\n          }\n        }\n      }\n    }\n\n    return bumpIndex\n  }\n\n  /**\n   * Merge a serialized transaction.\n   *\n   * Checks that a transaction with the same txid hasn't already been merged.\n   *\n   * Replaces existing transaction with same txid.\n   *\n   * @param rawTx\n   * @param bumpIndex Optional. If a number, must be valid index into bumps array.\n   * @returns txid of rawTx\n   */\n  mergeRawTx (rawTx: number[], bumpIndex?: number): BeefTx {\n    const newTx: BeefTx = new BeefTx(rawTx, bumpIndex)\n    this.removeExistingTxid(newTx.txid)\n    this.txs.push(newTx)\n    this.tryToValidateBumpIndex(newTx)\n    return newTx\n  }\n\n  /**\n   * Merge a `Transaction` and any referenced `merklePath` and `sourceTransaction`, recursifely.\n   *\n   * Replaces existing transaction with same txid.\n   *\n   * Attempts to match an existing bump to the new transaction.\n   *\n   * @param tx\n   * @returns txid of tx\n   */\n  mergeTransaction (tx: Transaction): BeefTx {\n    const txid = tx.id('hex')\n    this.removeExistingTxid(txid)\n    let bumpIndex: number | undefined\n    if (tx.merklePath != null) {\n      bumpIndex = this.mergeBump(tx.merklePath)\n    }\n    const newTx = new BeefTx(tx, bumpIndex)\n    this.txs.push(newTx)\n    this.tryToValidateBumpIndex(newTx)\n    bumpIndex = newTx.bumpIndex\n    if (bumpIndex === undefined) {\n      for (const input of tx.inputs) {\n        if (input.sourceTransaction != null) {\n          this.mergeTransaction(input.sourceTransaction)\n        }\n      }\n    }\n    return newTx\n  }\n\n  /**\n   * Removes an existing transaction from the BEEF, given its TXID\n   * @param txid TXID of the transaction to remove\n   */\n  removeExistingTxid (txid: string): void {\n    const existingTxIndex = this.txs.findIndex((t) => t.txid === txid)\n    if (existingTxIndex >= 0) {\n      this.txs.splice(existingTxIndex, 1)\n    }\n  }\n\n  mergeTxidOnly (txid: string): BeefTx {\n    let tx = this.txs.find((t) => t.txid === txid)\n    if (tx == null) {\n      tx = new BeefTx(txid)\n      this.txs.push(tx)\n      this.tryToValidateBumpIndex(tx)\n    }\n    return tx\n  }\n\n  mergeBeefTx (btx: BeefTx): BeefTx {\n    let beefTx = this.findTxid(btx.txid)\n\n    if (btx.isTxidOnly && (beefTx == null)) {\n      beefTx = this.mergeTxidOnly(btx.txid)\n    } else if ((btx._tx != null) && ((beefTx == null) || beefTx.isTxidOnly)) {\n      beefTx = this.mergeTransaction(btx._tx)\n    } else if ((btx._rawTx != null) && ((beefTx == null) || beefTx.isTxidOnly)) {\n      beefTx = this.mergeRawTx(btx._rawTx)\n    }\n\n    if (beefTx == null) {\n      throw new Error(`Failed to merge BeefTx for txid: ${btx.txid}`)\n    }\n\n    return beefTx\n  }\n\n  mergeBeef (beef: number[] | Beef): void {\n    const b: Beef = Array.isArray(beef) ? Beef.fromBinary(beef) : beef\n\n    for (const bump of b.bumps) {\n      this.mergeBump(bump)\n    }\n\n    for (const tx of b.txs) {\n      this.mergeBeefTx(tx)\n    }\n  }\n\n  /**\n   * Sorts `txs` and checks structural validity of beef.\n   *\n   * Does NOT verify merkle roots.\n   *\n   * Validity requirements:\n   * 1. No 'known' txids, unless `allowTxidOnly` is true.\n   * 2. All transactions have bumps or their inputs chain back to bumps (or are known).\n   * 3. Order of transactions satisfies dependencies before dependents.\n   * 4. No transactions with duplicate txids.\n   *\n   * @param allowTxidOnly optional. If true, transaction txid only is assumed valid\n   */\n  isValid (allowTxidOnly?: boolean): boolean {\n    return this.verifyValid(allowTxidOnly).valid\n  }\n\n  /**\n   * Sorts `txs` and confirms validity of transaction data contained in beef\n   * by validating structure of this beef and confirming computed merkle roots\n   * using `chainTracker`.\n   *\n   * Validity requirements:\n   * 1. No 'known' txids, unless `allowTxidOnly` is true.\n   * 2. All transactions have bumps or their inputs chain back to bumps (or are known).\n   * 3. Order of transactions satisfies dependencies before dependents.\n   * 4. No transactions with duplicate txids.\n   *\n   * @param chainTracker Used to verify computed merkle path roots for all bump txids.\n   * @param allowTxidOnly optional. If true, transaction txid is assumed valid\n   */\n  async verify (\n    chainTracker: ChainTracker,\n    allowTxidOnly?: boolean\n  ): Promise<boolean> {\n    const r = this.verifyValid(allowTxidOnly)\n    if (!r.valid) return false\n\n    for (const height of Object.keys(r.roots)) {\n      const isValid = await chainTracker.isValidRootForHeight(\n        r.roots[height],\n        Number(height)\n      )\n      if (!isValid) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  /**\n   * Sorts `txs` and confirms validity of transaction data contained in beef\n   * by validating structure of this beef.\n   *\n   * Returns block heights and merkle root values to be confirmed by a chaintracker.\n   *\n   * Validity requirements:\n   * 1. No 'known' txids, unless `allowTxidOnly` is true.\n   * 2. All transactions have bumps or their inputs chain back to bumps (or are known).\n   * 3. Order of transactions satisfies dependencies before dependents.\n   * 4. No transactions with duplicate txids.\n   *\n   * @param allowTxidOnly optional. If true, transaction txid is assumed valid\n   * @returns {{valid: boolean, roots: Record<number, string>}}\n   * `valid` is true iff this Beef is structuraly valid.\n   * `roots` is a record where keys are block heights and values are the corresponding merkle roots to be validated.\n   */\n  verifyValid (allowTxidOnly?: boolean): {\n    valid: boolean\n    roots: Record<number, string>\n  } {\n    const r: { valid: boolean, roots: Record<number, string> } = {\n      valid: false,\n      roots: {}\n    }\n\n    const sr = this.sortTxs()\n    if (sr.missingInputs.length > 0 ||\n      sr.notValid.length > 0 ||\n      (sr.txidOnly.length > 0 && allowTxidOnly !== true) ||\n      sr.withMissingInputs.length > 0\n    ) { return r }\n\n    // valid txids: only txids if allowed, bump txids, then txids with input's in txids\n    const txids: Record<string, boolean> = {}\n\n    for (const tx of this.txs) {\n      if (tx.isTxidOnly) {\n        if (allowTxidOnly !== true) return r //  Explicit check for `true`\n        txids[tx.txid] = true\n      }\n    }\n\n    const confirmComputedRoot = (b: MerklePath, txid: string): boolean => {\n      const root = b.computeRoot(txid)\n      if (r.roots[b.blockHeight] === undefined || r.roots[b.blockHeight] === '') {\n        // accept the root as valid for this block and reuse for subsequent txids\n        r.roots[b.blockHeight] = root\n      }\n      if (r.roots[b.blockHeight] !== root) {\n        return false\n      }\n      return true\n    }\n\n    for (const b of this.bumps) {\n      for (const n of b.path[0]) {\n        if (n.txid === true && typeof n.hash === 'string' && n.hash.length > 0) {\n          txids[n.hash] = true\n\n          // All txid hashes in all bumps must agree on computed merkle path roots\n          if (!confirmComputedRoot(b, n.hash)) {\n            return r\n          }\n        }\n      }\n    }\n\n    // All txs with a bumpIndex have matching txid leaf at level zero of BUMP.\n    for (const t of this.txs) {\n      if (t.bumpIndex !== undefined) {\n        const leaf = this.bumps[t.bumpIndex].path[0].find(l => l.hash === t.txid)\n        if (leaf == null) { return r }\n      }\n    }\n\n    for (const t of this.txs) {\n      // all input txids must be included before they are referenced\n      for (const i of t.inputTxids) {\n        if (!txids[i]) return r\n      }\n      txids[t.txid] = true\n    }\n\n    r.valid = true\n    return r\n  }\n\n  /**\n   * Serializes this data to `writer`\n   * @param writer\n   */\n  toWriter (writer: Writer): void {\n    writer.writeUInt32LE(this.version)\n\n    writer.writeVarIntNum(this.bumps.length)\n    for (const b of this.bumps) {\n      writer.write(b.toBinary())\n    }\n\n    writer.writeVarIntNum(this.txs.length)\n    for (const tx of this.txs) {\n      tx.toWriter(writer, this.version)\n    }\n  }\n\n  /**\n   * Returns a binary array representing the serialized BEEF\n   * @returns A binary array representing the BEEF\n   */\n  toBinary (): number[] {\n    // Always serialize in dependency sorted order.\n    this.sortTxs()\n    const writer = new Writer()\n    this.toWriter(writer)\n    return writer.toArray()\n  }\n\n  /**\n   * Serialize this Beef as AtomicBEEF.\n   *\n   * `txid` must exist\n   *\n   * after sorting, if txid is not last txid, creates a clone and removes newer txs\n   *\n   * @param txid\n   * @returns serialized contents of this Beef with AtomicBEEF prefix.\n   */\n  toBinaryAtomic (txid: string): number[] {\n    this.sortTxs()\n    const tx = this.findTxid(txid)\n    if (tx == null) {\n      throw new Error(`${txid} does not exist in this Beef`)\n    }\n\n    // If the transaction is not the last one, clone and modify\n    const beef = (this.txs[this.txs.length - 1] === tx) ? this : this.clone()\n\n    if (beef !== this) {\n      const i = this.txs.findIndex((t) => t.txid === txid)\n      beef.txs.splice(i + 1)\n    }\n\n    const writer = new Writer()\n    writer.writeUInt32LE(ATOMIC_BEEF)\n    writer.writeReverse(toArray(txid, 'hex'))\n    beef.toWriter(writer)\n\n    return writer.toArray()\n  }\n\n  /**\n   * Returns a hex string representing the serialized BEEF\n   * @returns A hex string representing the BEEF\n   */\n  toHex (): string {\n    return toHex(this.toBinary())\n  }\n\n  static fromReader (br: Reader): Beef {\n    let version = br.readUInt32LE()\n    let atomicTxid: string | undefined\n    if (version === ATOMIC_BEEF) {\n      // Skip the txid and re-read the BEEF version\n      atomicTxid = toHex(br.readReverse(32))\n      version = br.readUInt32LE()\n    }\n    if (version !== BEEF_V1 && version !== BEEF_V2) {\n      throw new Error(\n        `Serialized BEEF must start with ${BEEF_V1} or ${BEEF_V2} but starts with ${version}`\n      )\n    }\n    const beef = new Beef(version)\n    const bumpsLength = br.readVarIntNum()\n    for (let i = 0; i < bumpsLength; i++) {\n      const bump = MerklePath.fromReader(br, false)\n      beef.bumps.push(bump)\n    }\n    const txsLength = br.readVarIntNum()\n    for (let i = 0; i < txsLength; i++) {\n      const beefTx = BeefTx.fromReader(br, version)\n      beef.txs.push(beefTx)\n    }\n    beef.atomicTxid = atomicTxid\n    return beef\n  }\n\n  /**\n   * Constructs an instance of the Beef class based on the provided binary array\n   * @param bin The binary array from which to construct BEEF\n   * @returns An instance of the Beef class constructed from the binary data\n   */\n  static fromBinary (bin: number[]): Beef {\n    const br = new Reader(bin)\n    return Beef.fromReader(br)\n  }\n\n  /**\n   * Constructs an instance of the Beef class based on the provided string\n   * @param s The string value from which to construct BEEF\n   * @param enc The encoding of the string value from which BEEF should be constructed\n   * @returns An instance of the Beef class constructed from the string\n   */\n  static fromString (s: string, enc: 'hex' | 'utf8' | 'base64' = 'hex'): Beef {\n    const bin = toArray(s, enc)\n    const br = new Reader(bin)\n    return Beef.fromReader(br)\n  }\n\n  /**\n   * Try to validate newTx.bumpIndex by looking for an existing bump\n   * that proves newTx.txid\n   *\n   * @param newTx A new `BeefTx` that has been added to this.txs\n   * @returns true if a bump was found, false otherwise\n   */\n  private tryToValidateBumpIndex (newTx: BeefTx): boolean {\n    if (newTx.bumpIndex !== undefined) {\n      return true\n    }\n    const txid = newTx.txid\n    for (let i = 0; i < this.bumps.length; i++) {\n      const j = this.bumps[i].path[0].findIndex((b) => b.hash === txid)\n      if (j >= 0) {\n        newTx.bumpIndex = i\n        this.bumps[i].path[0][j].txid = true\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * Sort the `txs` by input txid dependency order:\n   * - Oldest Tx Anchored by Path or txid only\n   * - Newer Txs depending on Older parents\n   * - Newest Tx\n   *\n   * with proof (MerklePath) last, longest chain of dependencies first\n   *\n   * @returns `{ missingInputs, notValid, valid, withMissingInputs }`\n   */\n  sortTxs (): {\n    missingInputs: string[]\n    notValid: string[]\n    valid: string[]\n    withMissingInputs: string[]\n    txidOnly: string[]\n  } {\n    // Hashtable of valid txids (with proof or all inputs chain to proof)\n    const validTxids: Record<string, boolean> = {}\n\n    // Hashtable of all transaction txids to transaction\n    const txidToTx: Record<string, BeefTx> = {}\n\n    // queue of unsorted transactions ...\n    let queue: BeefTx[] = []\n\n    // sorted transactions: hasProof to with longest dependency chain\n    const result: BeefTx[] = []\n\n    const txidOnly: BeefTx[] = []\n\n    for (const tx of this.txs) {\n      txidToTx[tx.txid] = tx\n      tx.isValid = tx.hasProof\n      if (tx.isValid) {\n        validTxids[tx.txid] = true\n        result.push(tx)\n      } else if (tx.isTxidOnly && tx.inputTxids.length === 0) {\n        validTxids[tx.txid] = true\n        txidOnly.push(tx)\n      } else {\n        queue.push(tx)\n      }\n    }\n\n    // Hashtable of unknown input txids used to fund transactions without their own proof.\n    const missingInputs: Record<string, boolean> = {}\n    // transactions with one or more missing inputs\n    const txsMissingInputs: BeefTx[] = []\n\n    const possiblyMissingInputs = queue\n    queue = []\n\n    // all tx are isValid false, hasProof false.\n    // if isTxidOnly then has inputTxids\n    for (const tx of possiblyMissingInputs) {\n      let hasMissingInput = false\n\n      // For all the unproven transactions,\n      // link their inputs that exist in this beef,\n      // make a note of missing inputs.\n      for (const inputTxid of tx.inputTxids) {\n        if (txidToTx[inputTxid] === undefined) { // Explicitly check for undefined\n          missingInputs[inputTxid] = true\n          hasMissingInput = true\n        }\n      }\n\n      if (hasMissingInput) {\n        txsMissingInputs.push(tx)\n      } else {\n        queue.push(tx)\n      }\n    }\n\n    // As long as we have unsorted transactions...\n    while (queue.length > 0) {\n      const oldQueue = queue\n      queue = []\n      // all tx are isValid false, hasProof false.\n      // if isTxidOnly then has inputTxids\n      for (const tx of oldQueue) {\n        if (tx.inputTxids.every((txid) => validTxids[txid])) {\n          validTxids[tx.txid] = true\n          result.push(tx)\n        } else {\n          queue.push(tx)\n        }\n      }\n      if (oldQueue.length === queue.length) {\n        break\n      }\n    }\n\n    // transactions that don't have proofs and don't chain to proofs\n    const txsNotValid = queue\n\n    // New order of txs is unsortable (missing inputs or depends on missing inputs), txidOnly, sorted (so newest sorted is last)\n    this.txs = txsMissingInputs\n      .concat(txsNotValid)\n      .concat(txidOnly)\n      .concat(result)\n\n    return {\n      missingInputs: Object.keys(missingInputs),\n      notValid: txsNotValid.map((tx) => tx.txid),\n      valid: Object.keys(validTxids),\n      withMissingInputs: txsMissingInputs.map((tx) => tx.txid),\n      txidOnly: txidOnly.map((tx) => tx.txid)\n    }\n  }\n\n  /**\n   * @returns a shallow copy of this beef\n   */\n  clone (): Beef {\n    const c = new Beef()\n    c.version = this.version\n    c.bumps = Array.from(this.bumps)\n    c.txs = Array.from(this.txs)\n    return c\n  }\n\n  /**\n   * Ensure that all the txids in `knownTxids` are txidOnly\n   * @param knownTxids\n   */\n  trimKnownTxids (knownTxids: string[]): void {\n    for (let i = 0; i < this.txs.length;) {\n      const tx = this.txs[i]\n      if (tx.isTxidOnly && knownTxids.includes(tx.txid)) {\n        this.txs.splice(i, 1)\n      } else {\n        i++\n      }\n    }\n    // TODO: bumps could be trimmed to eliminate unreferenced proofs.\n  }\n\n  /**\n   * @returns array of transaction txids that either have a proof or whose inputs chain back to a proven transaction.\n   */\n  getValidTxids (): string[] {\n    const r = this.sortTxs()\n    return r.valid\n  }\n\n  /**\n   * @returns Summary of `Beef` contents as multi-line string.\n   */\n  toLogString (): string {\n    let log = ''\n    log += `BEEF with ${this.bumps.length} BUMPS and ${this.txs.length} Transactions, isValid ${this.isValid().toString()}\\n`\n    let i = -1\n\n    for (const b of this.bumps) {\n      i++\n      log += `  BUMP ${i}\\n    block: ${b.blockHeight}\\n    txids: [\\n${b.path[0]\n        .filter((n) => n.txid === true) //  Explicitly check if txid is `true`\n        .map((n) => `      '${n.hash ?? ''}'`)\n        .join(',\\n')}\\n    ]\\n`\n    }\n\n    i = -1\n    for (const t of this.txs) {\n      i++\n      log += `  TX ${i}\\n    txid: ${t.txid}\\n`\n      if (t.bumpIndex !== undefined) {\n        log += `    bumpIndex: ${t.bumpIndex}\\n`\n      }\n      if (t.isTxidOnly) {\n        log += '    txidOnly\\n'\n      } else {\n        log += `    rawTx length=${t.rawTx?.length ?? 0}\\n` //  Fix applied here\n      }\n      if (t.inputTxids.length > 0) {\n        log += `    inputs: [\\n${t.inputTxids\n          .map((it) => `      '${it}'`)\n          .join(',\\n')}\\n    ]\\n`\n      }\n    }\n\n    return log\n  }\n\n  /**\n * In some circumstances it may be helpful for the BUMP MerklePaths to include\n * leaves that can be computed from row zero.\n */\n  addComputedLeaves (): void {\n    const hash = (m: string): string =>\n      toHex(hash256(toArray(m, 'hex').reverse()).reverse())\n\n    for (const bump of this.bumps) { //  Use `this` instead of `beef`\n      for (let row = 1; row < bump.path.length; row++) {\n        for (const leafL of bump.path[row - 1]) {\n          if (typeof leafL.hash === 'string' && (leafL.offset & 1) === 0) {\n            const leafR = bump.path[row - 1].find(\n              (l) => l.offset === leafL.offset + 1\n            )\n            const offsetOnRow = leafL.offset >> 1\n\n            if (\n              leafR !== undefined &&\n              typeof leafR.hash === 'string' &&\n              bump.path[row].every((l) => l.offset !== offsetOnRow)\n            ) {\n              // Computable leaf is missing... add it.\n              bump.path[row].push({\n                offset: offsetOnRow,\n                // String concatenation puts the right leaf on the left of the left leaf hash\n                hash: hash(leafR.hash + leafL.hash)\n              })\n            }\n          }\n        }\n      }\n    }\n  }\n}\n","import BigNumber from './BigNumber.js'\nimport Signature from './Signature.js'\nimport PublicKey from './PublicKey.js'\nimport Point from './Point.js'\nimport Curve from './Curve.js'\nimport { sign, verify } from './ECDSA.js'\nimport { sha256, sha256hmac } from './Hash.js'\nimport Random from './Random.js'\nimport { fromBase58Check, toArray, toBase58Check } from './utils.js'\nimport Polynomial, { PointInFiniteField } from './Polynomial.js'\n\n/**\n * @class KeyShares\n *\n * This class is used to store the shares of a private key.\n *\n * @param shares - An array of shares\n * @param threshold - The number of shares required to recombine the private key\n *\n * @returns KeyShares\n *\n * @example\n * const key = PrivateKey.fromShares(shares)\n *\n */\n\nexport class KeyShares {\n  points: PointInFiniteField[]\n  threshold: number\n  integrity: string\n\n  constructor (\n    points: PointInFiniteField[],\n    threshold: number,\n    integrity: string\n  ) {\n    this.points = points\n    this.threshold = threshold\n    this.integrity = integrity\n  }\n\n  static fromBackupFormat (shares: string[]): KeyShares {\n    let threshold = 0\n    let integrity = ''\n    const points = shares.map((share, idx) => {\n      const shareParts = share.split('.')\n      if (shareParts.length !== 4) {\n        throw new Error(\n          'Invalid share format in share ' +\n          idx.toString() +\n          '. Expected format: \"x.y.t.i\" - received ' +\n          share\n        )\n      }\n      const [x, y, t, i] = shareParts\n      if (t === undefined) throw new Error('Threshold not found in share ' + idx.toString())\n      if (i === undefined) throw new Error('Integrity not found in share ' + idx.toString())\n      const tInt = parseInt(t)\n      if (idx !== 0 && threshold !== tInt) { throw new Error('Threshold mismatch in share ' + idx.toString()) }\n      if (idx !== 0 && integrity !== i) { throw new Error('Integrity mismatch in share ' + idx.toString()) }\n      threshold = tInt\n      integrity = i\n      return PointInFiniteField.fromString([x, y].join('.'))\n    })\n    return new KeyShares(points, threshold, integrity)\n  }\n\n  toBackupFormat (): string[] {\n    return this.points.map(\n      (share) => share.toString() + '.' + this.threshold.toString() + '.' + this.integrity\n    )\n  }\n}\n\n/**\n * Represents a Private Key, which is a secret that can be used to generate signatures in a cryptographic system.\n *\n * The `PrivateKey` class extends from the `BigNumber` class. It offers methods to create signatures, verify them,\n * create a corresponding public key and derive a shared secret from a public key.\n *\n * @extends {BigNumber}\n * @see {@link BigNumber} for more information on BigNumber.\n */\nexport default class PrivateKey extends BigNumber {\n  /**\n   * Generates a private key randomly.\n   *\n   * @method fromRandom\n   * @static\n   * @returns The newly generated Private Key.\n   *\n   * @example\n   * const privateKey = PrivateKey.fromRandom();\n   */\n  static fromRandom (): PrivateKey {\n    return new PrivateKey(Random(32))\n  }\n\n  /**\n   * Generates a private key from a string.\n   *\n   * @method fromString\n   * @static\n   * @param str - The string to generate the private key from.\n   * @param base - The base of the string.\n   * @returns The generated Private Key.\n   * @throws Will throw an error if the string is not valid.\n   **/\n  static fromString (str: string, base: number | 'hex' = 'hex'): PrivateKey {\n    return new PrivateKey(super.fromString(str, base).toArray())\n  }\n\n  /**\n   * Generates a private key from a hexadecimal string.\n   *\n   * @method fromHex\n   * @static\n   * @param {string} str - The hexadecimal string representing the private key. The string must represent a valid private key in big-endian format.\n   * @returns {PrivateKey} The generated Private Key instance.\n   * @throws {Error} If the string is not a valid hexadecimal or represents an invalid private key.\n   **/\n  static fromHex (str: string): PrivateKey {\n    return new PrivateKey(super.fromHex(str, 'big'))\n  }\n\n  /**\n   * Generates a private key from a WIF (Wallet Import Format) string.\n   *\n   * @method fromWif\n   * @static\n   * @param wif - The WIF string to generate the private key from.\n   * @param base - The base of the string.\n   * @returns The generated Private Key.\n   * @throws Will throw an error if the string is not a valid WIF.\n   **/\n  static fromWif (wif: string, prefixLength: number = 1): PrivateKey {\n    const decoded = fromBase58Check(wif, undefined, prefixLength)\n    if (decoded.data.length !== 33) {\n      throw new Error('Invalid WIF length')\n    }\n    if (decoded.data[32] !== 1) {\n      throw new Error('Invalid WIF padding')\n    }\n    return new PrivateKey(decoded.data.slice(0, 32))\n  }\n\n  /**\n   * @constructor\n   *\n   * @param number - The number (various types accepted) to construct a BigNumber from. Default is 0.\n   *\n   * @param base - The base of number provided. By default is 10. Ignored if number is BigNumber.\n   *\n   * @param endian - The endianness provided. By default is 'big endian'. Ignored if number is BigNumber.\n   *\n   * @param modN - Optional. Default 'apply. If 'apply', apply modN to input to guarantee a valid PrivateKey. If 'error', if input is out of field throw new Error('Input is out of field'). If 'nocheck', assumes input is in field.\n   *\n   * @example\n   * import PrivateKey from './PrivateKey';\n   * import BigNumber from './BigNumber';\n   * const privKey = new PrivateKey(new BigNumber('123456', 10, 'be'));\n   */\n  constructor (\n    number: BigNumber | number | string | number[] = 0,\n    base: number | 'be' | 'le' | 'hex' = 10,\n    endian: 'be' | 'le' = 'be',\n    modN: 'apply' | 'nocheck' | 'error' = 'apply'\n  ) {\n    if (number instanceof BigNumber) {\n      super()\n      number.copy(this)\n    } else {\n      super(number, base, endian)\n    }\n\n    if (modN !== 'nocheck') {\n      const check = this.checkInField()\n      if (!check.inField) {\n        if (modN === 'error') {\n          throw new Error('Input is out of field')\n        }\n        // Force the PrivateKey BigNumber value to lie in the field limited by curve.n\n        BigNumber.move(this, check.modN)\n      }\n    }\n  }\n\n  /**\n   * A utility function to check that the value of this PrivateKey lies in the field limited by curve.n\n   * @returns { inField, modN } where modN is this PrivateKey's current BigNumber value mod curve.n, and inField is true only if modN equals current BigNumber value.\n   */\n  checkInField (): { inField: boolean, modN: BigNumber } {\n    const curve = new Curve()\n    const modN = this.mod(curve.n)\n    const inField = this.cmp(modN) === 0\n    return { inField, modN }\n  }\n\n  /**\n   * @returns true if the PrivateKey's current BigNumber value lies in the field limited by curve.n\n   */\n  isValid (): boolean {\n    return this.checkInField().inField\n  }\n\n  /**\n   * Signs a message using the private key.\n   *\n   * @method sign\n   * @param msg - The message (array of numbers or string) to be signed.\n   * @param enc - If 'hex' the string will be treated as hex, utf8 otherwise.\n   * @param forceLowS - If true (the default), the signature will be forced to have a low S value.\n   * @param customK  If provided, uses a custom K-value for the signature. Provie a function that returns a BigNumber, or the BigNumber itself.\n   * @returns A digital signature generated from the hash of the message and the private key.\n   *\n   * @example\n   * const privateKey = PrivateKey.fromRandom();\n   * const signature = privateKey.sign('Hello, World!');\n   */\n  sign (\n    msg: number[] | string,\n    enc?: 'hex' | 'utf8',\n    forceLowS: boolean = true,\n    customK?: ((iter: number) => BigNumber) | BigNumber\n  ): Signature {\n    const msgHash = new BigNumber(sha256(msg, enc), 16)\n    return sign(msgHash, this, forceLowS, customK)\n  }\n\n  /**\n   * Verifies a message's signature using the public key associated with this private key.\n   *\n   * @method verify\n   * @param msg - The original message which has been signed.\n   * @param sig - The signature to be verified.\n   * @param enc - The data encoding method.\n   * @returns Whether or not the signature is valid.\n   *\n   * @example\n   * const privateKey = PrivateKey.fromRandom();\n   * const signature = privateKey.sign('Hello, World!');\n   * const isSignatureValid = privateKey.verify('Hello, World!', signature);\n   */\n  verify (msg: number[] | string, sig: Signature, enc?: 'hex'): boolean {\n    const msgHash = new BigNumber(sha256(msg, enc), 16)\n    return verify(msgHash, sig, this.toPublicKey())\n  }\n\n  /**\n   * Converts the private key to its corresponding public key.\n   *\n   * The public key is generated by multiplying the base point G of the curve and the private key.\n   *\n   * @method toPublicKey\n   * @returns The generated PublicKey.\n   *\n   * @example\n   * const privateKey = PrivateKey.fromRandom();\n   * const publicKey = privateKey.toPublicKey();\n   */\n  toPublicKey (): PublicKey {\n    const c = new Curve()\n    const p = c.g.mul(this)\n    return new PublicKey(p.x, p.y)\n  }\n\n  /**\n   * Converts the private key to a Wallet Import Format (WIF) string.\n   *\n   * Base58Check encoding is used for encoding the private key.\n   * The prefix\n   *\n   * @method toWif\n   * @returns The WIF string.\n   *\n   * @param prefix defaults to [0x80] for mainnet, set it to [0xef] for testnet.\n   *\n   * @throws Error('Value is out of field') if current BigNumber value is out of field limited by curve.n\n   *\n   * @example\n   * const privateKey = PrivateKey.fromRandom();\n   * const wif = privateKey.toWif();\n   * const testnetWif = privateKey.toWif([0xef]);\n   */\n  toWif (prefix: number[] = [0x80]): string {\n    if (!this.isValid()) {\n      throw new Error('Value is out of field')\n    }\n    return toBase58Check([...this.toArray('be', 32), 1], prefix)\n  }\n\n  /**\n   * Base58Check encodes the hash of the public key associated with this private key with a prefix to indicate locking script type.\n   * Defaults to P2PKH for mainnet, otherwise known as a \"Bitcoin Address\".\n   *\n   * @param prefix defaults to [0x00] for mainnet, set to [0x6f] for testnet or use the strings 'testnet' or 'mainnet'\n   *\n   * @returns Returns the address encoding associated with the hash of the public key associated with this private key.\n   *\n   * @example\n   * const address = privkey.toAddress()\n   * const address = privkey.toAddress('mainnet')\n   * const testnetAddress = privkey.toAddress([0x6f])\n   * const testnetAddress = privkey.toAddress('testnet')\n   */\n  toAddress (prefix: number[] | string = [0x00]): string {\n    return this.toPublicKey().toAddress(prefix)\n  }\n\n  /**\n   * Converts this PrivateKey to a hexadecimal string.\n   *\n   * @method toHex\n   * @param length - The minimum length of the hex string\n   * @returns Returns a string representing the hexadecimal value of this BigNumber.\n   *\n   * @example\n   * const bigNumber = new BigNumber(255);\n   * const hex = bigNumber.toHex();\n   */\n  toHex (): string {\n    return super.toHex(32)\n  }\n\n  /**\n   * Converts this PrivateKey to a string representation.\n   *\n   * @method toString\n   * @param {number | 'hex'} [base='hex'] - The base for representing the number. Default is hexadecimal ('hex').\n   * @param {number} [padding=64] - The minimum number of digits for the output string. Default is 64, ensuring a 256-bit representation in hexadecimal.\n   * @returns {string} A string representation of the PrivateKey in the specified base, padded to the specified length.\n   *\n   **/\n  toString (base: number | 'hex' = 'hex', padding: number = 64): string {\n    return super.toString(base, padding)\n  }\n\n  /**\n   * Derives a shared secret from the public key.\n   *\n   * @method deriveSharedSecret\n   * @param key - The public key to derive the shared secret from.\n   * @returns The derived shared secret (a point on the curve).\n   * @throws Will throw an error if the public key is not valid.\n   *\n   * @example\n   * const privateKey = PrivateKey.fromRandom();\n   * const publicKey = privateKey.toPublicKey();\n   * const sharedSecret = privateKey.deriveSharedSecret(publicKey);\n   */\n  deriveSharedSecret (key: PublicKey): Point {\n    if (!key.validate()) {\n      throw new Error('Public key not valid for ECDH secret derivation')\n    }\n    return key.mul(this)\n  }\n\n  /**\n   * Derives a child key with BRC-42.\n   * @param publicKey The public key of the other party\n   * @param invoiceNumber The invoice number used to derive the child key\n   * @returns The derived child key.\n   */\n  deriveChild (publicKey: PublicKey, invoiceNumber: string): PrivateKey {\n    const sharedSecret = this.deriveSharedSecret(publicKey)\n    const invoiceNumberBin = toArray(invoiceNumber, 'utf8')\n    const hmac = sha256hmac(sharedSecret.encode(true), invoiceNumberBin)\n    const curve = new Curve()\n    return new PrivateKey(this.add(new BigNumber(hmac)).mod(curve.n).toArray())\n  }\n\n  /**\n   * Splits the private key into shares using Shamir's Secret Sharing Scheme.\n   *\n   * @param threshold The minimum number of shares required to reconstruct the private key.\n   * @param totalShares The total number of shares to generate.\n   * @param prime The prime number to be used in Shamir's Secret Sharing Scheme.\n   * @returns An array of shares.\n   *\n   * @example\n   * const key = PrivateKey.fromRandom()\n   * const shares = key.toKeyShares(2, 5)\n   */\n  toKeyShares (threshold: number, totalShares: number): KeyShares {\n    if (typeof threshold !== 'number' || typeof totalShares !== 'number') { throw new Error('threshold and totalShares must be numbers') }\n    if (threshold < 2) throw new Error('threshold must be at least 2')\n    if (totalShares < 2) throw new Error('totalShares must be at least 2')\n    if (threshold > totalShares) { throw new Error('threshold should be less than or equal to totalShares') }\n\n    const poly = Polynomial.fromPrivateKey(this, threshold)\n\n    const points: PointInFiniteField[] = []\n    for (let i = 0; i < totalShares; i++) {\n      const x = new BigNumber(PrivateKey.fromRandom().toArray())\n      const y = poly.valueAt(x)\n      points.push(new PointInFiniteField(x, y))\n    }\n\n    const integrity = (this.toPublicKey().toHash('hex') as string).slice(0, 8)\n\n    return new KeyShares(points, threshold, integrity)\n  }\n\n  /**\n   * @method toBackupShares\n   *\n   * Creates a backup of the private key by splitting it into shares.\n   *\n   *\n   * @param threshold The number of shares which will be required to reconstruct the private key.\n   * @param totalShares The number of shares to generate for distribution.\n   * @returns\n   */\n  toBackupShares (threshold: number, totalShares: number): string[] {\n    return this.toKeyShares(threshold, totalShares).toBackupFormat()\n  }\n\n  /**\n   *\n   * @method fromBackupShares\n   *\n   * Creates a private key from backup shares.\n   *\n   * @param shares\n   * @returns PrivateKey\n   *\n   * @example\n   *\n   * const share1 = '3znuzt7DZp8HzZTfTh5MF9YQKNX3oSxTbSYmSRGrH2ev.2Nm17qoocmoAhBTCs8TEBxNXCskV9N41rB2PckcgYeqV.2.35449bb9'\n   * const share2 = 'Cm5fuUc39X5xgdedao8Pr1kvCSm8Gk7Cfenc7xUKcfLX.2juyK9BxCWn2DiY5JUAgj9NsQ77cc9bWksFyW45haXZm.2.35449bb9'\n   *\n   * const recoveredKey = PrivateKey.fromBackupShares([share1, share2])\n   */\n  static fromBackupShares (shares: string[]): PrivateKey {\n    return PrivateKey.fromKeyShares(KeyShares.fromBackupFormat(shares))\n  }\n\n  /**\n   * Combines shares to reconstruct the private key.\n   *\n   * @param shares An array of points (shares) to be used to reconstruct the private key.\n   * @param threshold The minimum number of shares required to reconstruct the private key.\n   *\n   * @returns The reconstructed private key.\n   *\n   **/\n  static fromKeyShares (keyShares: KeyShares): PrivateKey {\n    const { points, threshold, integrity } = keyShares\n    if (threshold < 2) throw new Error('threshold must be at least 2')\n    if (points.length < threshold) {\n      throw new Error(\n        `At least ${threshold} shares are required to reconstruct the private key`\n      )\n    }\n    // check to see if two points have the same x value\n    for (let i = 0; i < threshold; i++) {\n      for (let j = i + 1; j < threshold; j++) {\n        if (points[i].x.eq(points[j].x)) {\n          throw new Error('Duplicate share detected, each must be unique.')\n        }\n      }\n    }\n    const poly = new Polynomial(points, threshold)\n    const privateKey = new PrivateKey(poly.valueAt(new BigNumber(0)).toArray())\n    const integrityHash = privateKey.toPublicKey().toHash('hex').slice(0, 8)\n    if (integrityHash !== integrity) {\n      throw new Error('Integrity hash mismatch')\n    }\n\n    return privateKey\n  }\n}\n","// @ts-nocheck\nimport * as Utils from '../../primitives/utils.js'\nimport Random from '../../primitives/Random.js'\nimport P2PKH from '../../script/templates/P2PKH.js'\nimport PublicKey from '../../primitives/PublicKey.js'\nimport { WalletInterface } from '../../wallet/Wallet.interfaces.js'\nimport { createNonce } from '../utils/createNonce.js'\nimport { Peer } from '../Peer.js'\nimport { SimplifiedFetchTransport } from '../transports/SimplifiedFetchTransport.js'\nimport { SessionManager } from '../SessionManager.js'\nimport { RequestedCertificateSet } from '../types.js'\nimport { VerifiableCertificate } from '../certificates/VerifiableCertificate.js'\nimport { Writer } from '../../primitives/utils.js'\nimport { getVerifiableCertificates } from '../utils/index.js'\n\ninterface SimplifiedFetchRequestOptions {\n  method?: string\n  headers?: Record<string, string>\n  body?: any\n  retryCounter?: number\n}\n\ninterface AuthPeer {\n  peer: Peer\n  identityKey?: string\n  supportsMutualAuth?: boolean\n  pendingCertificateRequests: Array<true>\n}\n\nconst PAYMENT_VERSION = '1.0'\n\n/**\n * AuthFetch provides a lightweight fetch client for interacting with servers\n * over a simplified HTTP transport mechanism. It integrates session management, peer communication,\n * and certificate handling to enable secure and mutually-authenticated requests.\n * \n * Additionally, it automatically handles 402 Payment Required responses by creating\n * and sending BSV payment transactions when necessary.\n */\nexport class AuthFetch {\n  private readonly sessionManager: SessionManager\n  private readonly wallet: WalletInterface\n  private callbacks: Record<string, { resolve: Function, reject: Function }> = {}\n  private readonly certificatesReceived: VerifiableCertificate[] = []\n  private readonly requestedCertificates?: RequestedCertificateSet\n  peers: Record<string, AuthPeer> = {}\n\n  /**\n  * Constructs a new AuthFetch instance.\n  * @param wallet - The wallet instance for signing and authentication.\n  * @param requestedCertificates - Optional set of certificates to request from peers.\n  */\n  constructor(wallet: WalletInterface, requestedCertificates?: RequestedCertificateSet, sessionManager?: SessionManager) {\n    this.wallet = wallet\n    this.requestedCertificates = requestedCertificates\n    this.sessionManager = sessionManager || new SessionManager()\n  }\n\n  /**\n   * Mutually authenticates and sends a HTTP request to a server.\n   * \n   * 1) Attempt the request.\n   * 2) If 402 Payment Required, automatically create and send payment.\n   * 3) Return the final response.\n   * \n   * @param url - The URL to send the request to.\n   * @param config - Configuration options for the request, including method, headers, and body.\n   * @returns A promise that resolves with the server's response, structured as a Response-like object.\n   * \n   * @throws Will throw an error if unsupported headers are used or other validation fails.\n   */\n  async fetch(url: string, config: SimplifiedFetchRequestOptions = {}): Promise<Response> {\n    if (typeof config.retryCounter === 'number') {\n      if (config.retryCounter <= 0) {\n        throw new Error('Request failed after maximum number of retries.')\n      }\n      config.retryCounter--\n    }\n    const response = await new Promise<Response>((async (resolve, reject) => {\n      try {\n        // Apply defaults\n        const { method = 'GET', headers = {}, body } = config\n\n        // Extract a base url\n        const parsedUrl = new URL(url)\n        const baseURL = parsedUrl.origin\n\n        // Create a new transport for this base url if needed\n        let peerToUse: AuthPeer\n        if (typeof this.peers[baseURL] === 'undefined') {\n          // Create a peer for the request\n          const newTransport = new SimplifiedFetchTransport(baseURL)\n          peerToUse = {\n            peer: new Peer(this.wallet, newTransport, this.requestedCertificates, this.sessionManager),\n            pendingCertificateRequests: []\n          }\n          this.peers[baseURL] = peerToUse\n          this.peers[baseURL].peer.listenForCertificatesReceived((senderPublicKey: string, certs: VerifiableCertificate[]) => {\n            this.certificatesReceived.push(...certs)\n          })\n          this.peers[baseURL].peer.listenForCertificatesRequested((async (verifier: string, requestedCertificates: RequestedCertificateSet) => {\n            try {\n              this.peers[baseURL].pendingCertificateRequests.push(true)\n              const certificatesToInclude = await getVerifiableCertificates(\n                this.wallet,\n                requestedCertificates,\n                verifier\n              )\n              await this.peers[baseURL].peer.sendCertificateResponse(verifier, certificatesToInclude)\n            } finally {\n              // Give the backend 500 ms to process the certificates we just sent, before releasing the queue entry\n              await new Promise(resolve => setTimeout(resolve, 500))\n              this.peers[baseURL].pendingCertificateRequests.shift()\n            }\n          }) as Function)\n        } else {\n          // Check if there's a session associated with this baseURL\n          if (this.peers[baseURL].supportsMutualAuth === false) {\n            // Use standard fetch if mutual authentication is not supported\n            try {\n              const response = await this.handleFetchAndValidate(url, config, this.peers[baseURL])\n              resolve(response)\n            } catch (error) {\n              reject(error)\n            }\n            return\n          }\n          peerToUse = this.peers[baseURL]\n        }\n\n        // Serialize the simplified fetch request.\n        const requestNonce = Random(32)\n        const requestNonceAsBase64 = Utils.toBase64(requestNonce)\n\n        const writer = await this.serializeRequest(\n          method,\n          headers,\n          body,\n          parsedUrl,\n          requestNonce\n        )\n\n        // Setup general message listener to resolve requests once a response is received\n        this.callbacks[requestNonceAsBase64] = { resolve, reject }\n        const listenerId = peerToUse.peer.listenForGeneralMessages((senderPublicKey: string, payload: number[]) => {\n          // Create a reader\n          const responseReader = new Utils.Reader(payload)\n          // Deserialize first 32 bytes of payload\n          const responseNonceAsBase64 = Utils.toBase64(responseReader.read(32))\n          if (responseNonceAsBase64 !== requestNonceAsBase64) {\n            return\n          }\n          peerToUse.peer.stopListeningForGeneralMessages(listenerId)\n\n          // Save the identity key for the peer for future requests, since we have it here.\n          this.peers[baseURL].identityKey = senderPublicKey\n          this.peers[baseURL].supportsMutualAuth = true\n\n          // Status code\n          const statusCode = responseReader.readVarIntNum()\n\n          // Headers\n          const responseHeaders = {}\n          const nHeaders = responseReader.readVarIntNum()\n          if (nHeaders > 0) {\n            for (let i = 0; i < nHeaders; i++) {\n              const nHeaderKeyBytes = responseReader.readVarIntNum()\n              const headerKeyBytes = responseReader.read(nHeaderKeyBytes)\n              const headerKey = Utils.toUTF8(headerKeyBytes)\n              const nHeaderValueBytes = responseReader.readVarIntNum()\n              const headerValueBytes = responseReader.read(nHeaderValueBytes)\n              const headerValue = Utils.toUTF8(headerValueBytes)\n              responseHeaders[headerKey] = headerValue\n            }\n          }\n\n          // Add back the server identity key header\n          responseHeaders['x-bsv-auth-identity-key'] = senderPublicKey\n\n          // Body\n          let responseBody\n          const responseBodyBytes = responseReader.readVarIntNum()\n          if (responseBodyBytes > 0) {\n            responseBody = responseReader.read(responseBodyBytes)\n          }\n\n          // Create the Response object\n          const responseValue = new Response(\n            responseBody ? new Uint8Array(responseBody) : null,\n            {\n              status: statusCode,\n              statusText: `${statusCode}`,\n              headers: new Headers(responseHeaders)\n            }\n          )\n\n          // Resolve or reject the correct request with the response data\n          this.callbacks[requestNonceAsBase64].resolve(responseValue)\n\n          // Clean up\n          delete this.callbacks[requestNonceAsBase64]\n        })\n\n        // Before sending general messages to the peer, ensure that no certificate requests are pending.\n        // This way, the user would need to choose to either allow or reject the certificate request first.\n        // If the server has a resource that requires certificates to be sent before access would be granted,\n        // this makes sure the user has a chance to send the certificates before the resource is requested.\n        if (peerToUse.pendingCertificateRequests.length > 0) {\n          await new Promise(resolve => {\n            setInterval(() => {\n              if (peerToUse.pendingCertificateRequests.length === 0) {\n                resolve()\n              }\n            }, 100) // Check every 100 ms for the user to finish responding\n          })\n        }\n\n        // Send the request, now that all listeners are set up\n        await peerToUse.peer.toPeer(writer.toArray(), peerToUse.identityKey).catch(async error => {\n          if (error.message.includes('Session not found for nonce')) {\n            delete this.peers[baseURL]\n            config.retryCounter ??= 3\n            const response = await this.fetch(url, config)\n            resolve(response)\n            return\n          }\n          if (error.message.includes('HTTP server failed to authenticate')) {\n            try {\n              const response = await this.handleFetchAndValidate(url, config, peerToUse)\n              resolve(response)\n              return\n            } catch (fetchError) {\n              reject(fetchError)\n            }\n          } else {\n            reject(error)\n          }\n        })\n      } catch (e) {\n        reject(e)\n      }\n    }) as Function)\n\n    // Check if server requires payment to access the requested route\n    if (response.status === 402) {\n      // Create and attach a payment, then retry\n      return await this.handlePaymentAndRetry(url, config, response)\n    }\n\n    return response\n  }\n\n  /**\n   * Request Certificates from a Peer\n   * @param baseUrl \n   * @param certificatesToRequest \n   */\n  async sendCertificateRequest(baseUrl: string, certificatesToRequest: RequestedCertificateSet): Promise<VerifiableCertificate[]> {\n    const parsedUrl = new URL(baseUrl)\n    const baseURL = parsedUrl.origin\n\n    let peerToUse: { peer: Peer; identityKey?: string }\n    if (typeof this.peers[baseURL] !== 'undefined') {\n      peerToUse = { peer: this.peers[baseURL].peer }\n    } else {\n      const newTransport = new SimplifiedFetchTransport(baseURL)\n      peerToUse = {\n        peer: new Peer(\n          this.wallet,\n          newTransport,\n          this.requestedCertificates,\n          this.sessionManager\n        )\n      }\n      this.peers[baseURL] = peerToUse\n    }\n\n    // Return a promise that resolves when certificates are received\n    return await new Promise<VerifiableCertificate[]>((async (resolve, reject) => {\n      // Set up the listener before making the request\n      const callbackId = peerToUse.peer.listenForCertificatesReceived((_senderPublicKey: string, certs: VerifiableCertificate[]) => {\n        peerToUse.peer.stopListeningForCertificatesReceived(callbackId)\n        this.certificatesReceived.push(...certs)\n        resolve(certs)\n      })\n\n      try {\n        // Initiate the certificate request\n        await peerToUse.peer.requestCertificates(certificatesToRequest, peerToUse.identityKey)\n      } catch (err) {\n        peerToUse.peer.stopListeningForCertificatesReceived(callbackId)\n        reject(err)\n      }\n    }) as Function)\n  }\n\n  /**\n   * Return any certificates we've collected thus far, then clear them out.\n   */\n  public consumeReceivedCertificates(): VerifiableCertificate[] {\n    return this.certificatesReceived.splice(0)\n  }\n\n  /**\n   * Serializes the HTTP request to be sent over the Transport.\n   *\n   * @param method - The HTTP method (e.g., 'GET', 'POST') for the request.\n   * @param headers - A record of HTTP headers to include in the request.\n   * @param body - The body of the request, if applicable (e.g., for POST/PUT requests).\n   * @param parsedUrl - The parsed URL object containing the full request URL.\n   * @param requestNonce - A unique random nonce to ensure request integrity.\n   * @returns A promise that resolves to a `Writer` containing the serialized request.\n   *\n   * @throws Will throw an error if unsupported headers are used or serialization fails.\n   */\n  private async serializeRequest(\n    method: string,\n    headers: Record<string, string>,\n    body: any,\n    parsedUrl: URL,\n    requestNonce: number[]\n  ): Promise<Writer> {\n    const writer = new Utils.Writer()\n    // Write request nonce\n    writer.write(requestNonce)\n    // Method length\n    writer.writeVarIntNum(method.length)\n    // Method\n    writer.write(Utils.toArray(method))\n\n    // Handle pathname (e.g. /path/to/resource)\n    if (parsedUrl.pathname.length > 0) {\n      // Pathname length\n      const pathnameAsArray = Utils.toArray(parsedUrl.pathname)\n      writer.writeVarIntNum(pathnameAsArray.length)\n      // Pathname\n      writer.write(pathnameAsArray)\n    } else {\n      writer.writeVarIntNum(-1)\n    }\n\n    // Handle search params (e.g. ?q=hello)\n    if (parsedUrl.search.length > 0) {\n      // search length\n      const searchAsArray = Utils.toArray(parsedUrl.search)\n      writer.writeVarIntNum(searchAsArray.length)\n      // search\n      writer.write(searchAsArray)\n    } else {\n      writer.writeVarIntNum(-1)\n    }\n\n    // Construct headers to send / sign:\n    // Ensures clients only provided supported HTTP request headers\n    // - Include custom headers prefixed with x-bsv (excluding those starting with x-bsv-auth)\n    // - Include a normalized version of the content-type header\n    // - Include the authorization header\n    const includedHeaders: Array<[string, string]> = []\n    for (let [k, v] of Object.entries(headers)) {\n      k = k.toLowerCase() // We will always sign lower-case header keys\n      if (k.startsWith('x-bsv-') || k === 'authorization') {\n        if (k.startsWith('x-bsv-auth')) {\n          throw new Error('No BSV auth headers allowed here!')\n        }\n        includedHeaders.push([k, v])\n      } else if (k.startsWith('content-type')) {\n        // Normalize the Content-Type header by removing any parameters (e.g., \"; charset=utf-8\")\n        v = v.split(';')[0].trim()\n        includedHeaders.push([k, v])\n      } else {\n        throw new Error('Unsupported header in the simplified fetch implementation. Only content-type, authorization, and x-bsv-* headers are supported.')\n      }\n    }\n\n    // Sort the headers by key to ensure a consistent order for signing and verification.\n    includedHeaders.sort(([keyA], [keyB]) => keyA.localeCompare(keyB))\n\n    // nHeaders\n    writer.writeVarIntNum(includedHeaders.length)\n    for (let i = 0; i < includedHeaders.length; i++) {\n      // headerKeyLength\n      const headerKeyAsArray = Utils.toArray(includedHeaders[i][0], 'utf8')\n      writer.writeVarIntNum(headerKeyAsArray.length)\n      // headerKey\n      writer.write(headerKeyAsArray)\n      // headerValueLength\n      const headerValueAsArray = Utils.toArray(includedHeaders[i][1], 'utf8')\n      writer.writeVarIntNum(headerValueAsArray.length)\n      // headerValue\n      writer.write(headerValueAsArray)\n    }\n\n    // If method typically carries a body and body is undefined, default it\n    // This prevents signature verification errors due to mismatch default body types with express\n    const methodsThatTypicallyHaveBody = ['POST', 'PUT', 'PATCH', 'DELETE']\n    if (methodsThatTypicallyHaveBody.includes(method.toUpperCase()) && body === undefined) {\n      // Check if content-type is application/json\n      const contentTypeHeader = includedHeaders.find(([k]) => k === 'content-type')\n      if (contentTypeHeader && contentTypeHeader[1].includes('application/json')) {\n        body = '{}'\n      } else {\n        body = ''\n      }\n    }\n\n    // Handle body\n    if (body) {\n      const reqBody = await this.normalizeBodyToNumberArray(body) // Use the utility function\n      writer.writeVarIntNum(reqBody.length)\n      writer.write(reqBody)\n    } else {\n      writer.writeVarIntNum(-1) // No body\n    }\n    return writer\n  }\n\n  /** \n   * Handles a non-authenticated fetch requests and validates that the server is not claiming to be authenticated.\n   */\n  private async handleFetchAndValidate(url: string, config: RequestInit, peerToUse: AuthPeer): Promise<Response> {\n    const response = await fetch(url, config)\n    response.headers.forEach(header => {\n      if (header.toLocaleLowerCase().startsWith('x-bsv')) {\n        throw new Error('The server is trying to claim it has been authenticated when it has not!')\n      }\n    })\n\n    if (response.ok) {\n      peerToUse.supportsMutualAuth = false\n      return response\n    } else {\n      throw new Error(`Request failed with status: ${response.status}`)\n    }\n  }\n\n  /**\n   * If we get 402 Payment Required, we build a transaction via wallet.createAction()\n   * and re-attempt the request with an x-bsv-payment header.\n   */\n  private async handlePaymentAndRetry(\n    url: string,\n    config: SimplifiedFetchRequestOptions = {},\n    originalResponse: Response\n  ): Promise<Response | null> {\n    // Make sure the server is using the correct payment version\n    const paymentVersion = originalResponse.headers.get('x-bsv-payment-version')\n    if (!paymentVersion || paymentVersion !== PAYMENT_VERSION) {\n      throw new Error(`Unsupported x-bsv-payment-version response header. Client version: ${PAYMENT_VERSION}, Server version: ${paymentVersion}`)\n    }\n\n    // Get required headers from the 402 response\n    const satoshisRequiredHeader = originalResponse.headers.get(\n      'x-bsv-payment-satoshis-required'\n    )\n    if (!satoshisRequiredHeader) {\n      throw new Error('Missing x-bsv-payment-satoshis-required response header.')\n    }\n    const satoshisRequired = parseInt(satoshisRequiredHeader)\n    if (isNaN(satoshisRequired) || satoshisRequired <= 0) {\n      throw new Error('Invalid x-bsv-payment-satoshis-required response header value.')\n    }\n\n    const serverIdentityKey = originalResponse.headers.get('x-bsv-auth-identity-key')\n    if (!serverIdentityKey) {\n      throw new Error('Missing x-bsv-auth-identity-key response header.')\n    }\n\n    const derivationPrefix = originalResponse.headers.get('x-bsv-payment-derivation-prefix')\n    if (typeof derivationPrefix !== 'string' || derivationPrefix.length < 1) {\n      throw new Error('Missing x-bsv-payment-derivation-prefix response header.')\n    }\n\n    // Create a random suffix for the derivation path\n    const derivationSuffix = await createNonce(this.wallet)\n\n    // Derive the script hex from the server identity key\n    const { publicKey: derivedPublicKey } = await this.wallet.getPublicKey({\n      protocolID: [2, '3241645161d8'], // wallet payment protocol\n      keyID: `${derivationPrefix} ${derivationSuffix}`,\n      counterparty: serverIdentityKey\n    })\n    const lockingScript = new P2PKH().lock(PublicKey.fromString(derivedPublicKey).toAddress()).toHex()\n\n    // Create the payment transaction using createAction\n    const { tx } = await this.wallet.createAction({\n      description: `Payment for request to ${new URL(url).origin}`,\n      outputs: [{\n        satoshis: satoshisRequired,\n        lockingScript,\n        customInstructions: JSON.stringify({ derivationPrefix, derivationSuffix, payee: serverIdentityKey }),\n        outputDescription: 'HTTP request payment'\n      }],\n      options: {\n        randomizeOutputs: false\n      }\n    })\n\n\n\n    // Attach the payment to the request headers\n    config.headers = config.headers || {}\n    config.headers['x-bsv-payment'] = JSON.stringify({\n      derivationPrefix,\n      derivationSuffix,\n      transaction: Utils.toBase64(tx)\n    })\n    config.retryCounter ??= 3\n\n    // Re-attempt request with payment attached\n    return this.fetch(url, config)\n  }\n\n  private async normalizeBodyToNumberArray(body: BodyInit | null | undefined): Promise<number[]> {\n    // 0. Null / undefined\n    if (body == null) {\n      return []\n    }\n\n    // 1. object\n    if (typeof body === 'object') {\n      return Utils.toArray(JSON.stringify(body, 'utf8'))\n    }\n\n    // 2. number[]\n    if (Array.isArray(body) && body.every((item) => typeof item === 'number')) {\n      return body // Return the array as is\n    }\n\n    // 3. string\n    if (typeof body === 'string') {\n      return Utils.toArray(body, 'utf8')\n    }\n\n    // 4. ArrayBuffer / TypedArrays\n    if (body instanceof ArrayBuffer || ArrayBuffer.isView(body)) {\n      const typedArray = body instanceof ArrayBuffer ? new Uint8Array(body) : new Uint8Array(body.buffer)\n      return Array.from(typedArray)\n    }\n\n    // 5. Blob\n    if (body instanceof Blob) {\n      const arrayBuffer = await body.arrayBuffer()\n      return Array.from(new Uint8Array(arrayBuffer))\n    }\n\n    // 6. FormData\n    if (body instanceof FormData) {\n      const entries: [string, string][] = []\n      body.forEach((value, key) => {\n        entries.push([key, value.toString()])\n      })\n      const urlEncoded = new URLSearchParams(entries).toString()\n      return Utils.toArray(urlEncoded, 'utf8')\n    }\n\n    // 7. URLSearchParams\n    if (body instanceof URLSearchParams) {\n      return Utils.toArray(body.toString(), 'utf8')\n    }\n\n    // 8. ReadableStream\n    if (body instanceof ReadableStream) {\n      throw new Error('ReadableStream cannot be directly converted to number[].')\n    }\n\n    // 9. Fallback\n    throw new Error('Unsupported body type in this SimplifiedFetch implementation.')\n  }\n}\n","import {\n  Base64String,\n  BasketStringUnder300Bytes,\n  BEEF,\n  BooleanDefaultFalse,\n  BooleanDefaultTrue,\n  Byte,\n  CertificateFieldNameUnder50Bytes,\n  DescriptionString5to50Bytes,\n  EntityIconURLStringMax500Bytes,\n  EntityNameStringMax100Bytes,\n  HexString,\n  ISOTimestampString,\n  KeyIDStringUnder800Bytes,\n  LabelStringUnder300Bytes,\n  OriginatorDomainNameStringUnder250Bytes,\n  OutpointString,\n  OutputTagStringUnder300Bytes,\n  PositiveInteger,\n  PositiveIntegerDefault10Max10000,\n  PositiveIntegerMax10,\n  PositiveIntegerOrZero,\n  ProtocolString5To400Bytes,\n  PubKeyHex,\n  SatoshiValue,\n  SecurityLevel,\n  TXIDHexString,\n  VersionString7To30Bytes,\n  WalletInterface\n} from '../Wallet.interfaces.js'\n\ndeclare const window: {\n  CWI?: WalletInterface\n} & Window\n\n/**\n * Facilitates wallet operations over the window.CWI interface.\n */\nexport default class WindowCWISubstrate implements WalletInterface {\n  private readonly CWI: WalletInterface\n  constructor() {\n    if (typeof window !== 'object') {\n      throw new Error(\n        'The window.CWI substrate requires a global window object.'\n      )\n    }\n    if (typeof window.CWI !== 'object') {\n      throw new Error(\n        'The window.CWI interface does not appear to be bound to the window object.'\n      )\n    }\n    this.CWI = window.CWI // Binding CWI to prevent changes\n  }\n\n  async createAction(\n    args: {\n      description: DescriptionString5to50Bytes\n      inputs?: Array<{\n        tx?: BEEF\n        outpoint: OutpointString\n        unlockingScript?: HexString\n        unlockingScriptLength?: PositiveInteger\n        inputDescription: DescriptionString5to50Bytes\n        sequenceNumber?: PositiveIntegerOrZero\n      }>\n      outputs?: Array<{\n        lockingScript: HexString\n        satoshis: SatoshiValue\n        outputDescription: DescriptionString5to50Bytes\n        basket?: BasketStringUnder300Bytes\n        customInstructions?: string\n        tags?: OutputTagStringUnder300Bytes[]\n      }>\n      lockTime?: PositiveIntegerOrZero\n      version?: PositiveIntegerOrZero\n      labels?: LabelStringUnder300Bytes[]\n      options?: {\n        signAndProcess?: BooleanDefaultTrue\n        acceptDelayedBroadcast?: BooleanDefaultTrue\n        trustSelf?: 'known'\n        knownTxids?: TXIDHexString[]\n        returnTXIDOnly?: BooleanDefaultFalse\n        noSend?: BooleanDefaultFalse\n        noSendChange?: OutpointString[]\n        sendWith?: TXIDHexString[]\n      }\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    txid?: TXIDHexString\n    tx?: BEEF\n    noSendChange?: OutpointString[]\n    sendWithResults?: Array<{\n      txid: TXIDHexString\n      status: 'unproven' | 'sending' | 'failed'\n    }>\n    signableTransaction?: { tx: BEEF, reference: Base64String }\n  }> {\n    return await this.CWI.createAction(args, originator)\n  }\n\n  async signAction(\n    args: {\n      spends: Record<\n        PositiveIntegerOrZero,\n        { unlockingScript: HexString, sequenceNumber?: PositiveIntegerOrZero }\n      >\n      reference: Base64String\n      options?: {\n        acceptDelayedBroadcast?: BooleanDefaultTrue\n        returnTXIDOnly?: BooleanDefaultFalse\n        noSend?: BooleanDefaultFalse\n        noSendChange?: OutpointString[]\n        sendWith: TXIDHexString[]\n      }\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    txid?: TXIDHexString\n    tx?: BEEF\n    noSendChange?: OutpointString[]\n    sendWithResults?: Array<{\n      txid: TXIDHexString\n      status: 'unproven' | 'sending' | 'failed'\n    }>\n  }> {\n    return await this.CWI.signAction(args, originator)\n  }\n\n  async abortAction(\n    args: { reference: Base64String },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ aborted: true }> {\n    return await this.CWI.abortAction(args, originator)\n  }\n\n  async listActions(\n    args: {\n      labels: LabelStringUnder300Bytes[]\n      labelQueryMode?: 'any' | 'all'\n      includeLabels?: BooleanDefaultFalse\n      includeInputs?: BooleanDefaultFalse\n      includeInputSourceLockingScripts?: BooleanDefaultFalse\n      includeInputUnlockingScripts?: BooleanDefaultFalse\n      includeOutputs?: BooleanDefaultFalse\n      includeOutputLockingScripts?: BooleanDefaultFalse\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    totalActions: PositiveIntegerOrZero\n    actions: Array<{\n      txid: TXIDHexString\n      satoshis: SatoshiValue\n      status:\n      | 'completed'\n      | 'unprocessed'\n      | 'sending'\n      | 'unproven'\n      | 'unsigned'\n      | 'nosend'\n      | 'nonfinal'\n      | 'failed'\n      isOutgoing: boolean\n      description: DescriptionString5to50Bytes\n      labels?: LabelStringUnder300Bytes[]\n      version: PositiveIntegerOrZero\n      lockTime: PositiveIntegerOrZero\n      inputs?: Array<{\n        sourceOutpoint: OutpointString\n        sourceSatoshis: SatoshiValue\n        sourceLockingScript?: HexString\n        unlockingScript?: HexString\n        inputDescription: DescriptionString5to50Bytes\n        sequenceNumber: PositiveIntegerOrZero\n      }>\n      outputs?: Array<{\n        outputIndex: PositiveIntegerOrZero\n        satoshis: SatoshiValue\n        lockingScript?: HexString\n        spendable: boolean\n        outputDescription: DescriptionString5to50Bytes\n        basket: BasketStringUnder300Bytes\n        tags: OutputTagStringUnder300Bytes[]\n        customInstructions?: string\n      }>\n    }>\n  }> {\n    return await this.CWI.listActions(args, originator)\n  }\n\n  async internalizeAction(\n    args: {\n      tx: BEEF\n      outputs: Array<{\n        outputIndex: PositiveIntegerOrZero\n        protocol: 'wallet payment' | 'basket insertion'\n        paymentRemittance?: {\n          derivationPrefix: Base64String\n          derivationSuffix: Base64String\n          senderIdentityKey: PubKeyHex\n        }\n        insertionRemittance?: {\n          basket: BasketStringUnder300Bytes\n          customInstructions?: string\n          tags?: OutputTagStringUnder300Bytes[]\n        }\n      }>\n      description: DescriptionString5to50Bytes\n      labels?: LabelStringUnder300Bytes[]\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ accepted: true }> {\n    return await this.CWI.internalizeAction(args, originator)\n  }\n\n  async listOutputs(\n    args: {\n      basket: BasketStringUnder300Bytes\n      tags?: OutputTagStringUnder300Bytes[]\n      tagQueryMode?: 'all' | 'any'\n      include?: 'locking scripts' | 'entire transactions'\n      includeCustomInstructions?: BooleanDefaultFalse\n      includeTags?: BooleanDefaultFalse\n      includeLabels?: BooleanDefaultFalse\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    totalOutputs: PositiveIntegerOrZero\n    outputs: Array<{\n      outpoint: OutpointString\n      satoshis: SatoshiValue\n      lockingScript?: HexString\n      tx?: BEEF\n      spendable: boolean\n      customInstructions?: string\n      tags?: OutputTagStringUnder300Bytes[]\n      labels?: LabelStringUnder300Bytes[]\n    }>\n  }> {\n    return await this.CWI.listOutputs(args, originator)\n  }\n\n  async relinquishOutput(\n    args: { basket: BasketStringUnder300Bytes, output: OutpointString },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ relinquished: true }> {\n    return await this.CWI.relinquishOutput(args, originator)\n  }\n\n  async getPublicKey(\n    args: {\n      identityKey?: true\n      protocolID?: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID?: KeyIDStringUnder800Bytes\n      privileged?: BooleanDefaultFalse\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      forSelf?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ publicKey: PubKeyHex }> {\n    return await this.CWI.getPublicKey(args, originator)\n  }\n\n  async revealCounterpartyKeyLinkage(\n    args: {\n      counterparty: PubKeyHex\n      verifier: PubKeyHex\n      privilegedReason?: DescriptionString5to50Bytes\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    revelationTime: ISOTimestampString\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n  }> {\n    return await this.CWI.revealCounterpartyKeyLinkage(args, originator)\n  }\n\n  async revealSpecificKeyLinkage(\n    args: {\n      counterparty: PubKeyHex\n      verifier: PubKeyHex\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n    proofType: Byte\n  }> {\n    return await this.CWI.revealSpecificKeyLinkage(args, originator)\n  }\n\n  async encrypt(\n    args: {\n      plaintext: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ ciphertext: Byte[] }> {\n    return await this.CWI.encrypt(args, originator)\n  }\n\n  async decrypt(\n    args: {\n      ciphertext: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ plaintext: Byte[] }> {\n    return await this.CWI.decrypt(args, originator)\n  }\n\n  async createHmac(\n    args: {\n      data: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ hmac: Byte[] }> {\n    return await this.CWI.createHmac(args, originator)\n  }\n\n  async verifyHmac(\n    args: {\n      data: Byte[]\n      hmac: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ valid: true }> {\n    return await this.CWI.verifyHmac(args, originator)\n  }\n\n  async createSignature(\n    args: {\n      data?: Byte[]\n      hashToDirectlySign?: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ signature: Byte[] }> {\n    return await this.CWI.createSignature(args, originator)\n  }\n\n  async verifySignature(\n    args: {\n      data?: Byte[]\n      hashToDirectlyVerify?: Byte[]\n      signature: Byte[]\n      protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n      keyID: KeyIDStringUnder800Bytes\n      privilegedReason?: DescriptionString5to50Bytes\n      counterparty?: PubKeyHex | 'self' | 'anyone'\n      forSelf?: BooleanDefaultFalse\n      privileged?: BooleanDefaultFalse\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ valid: true }> {\n    return await this.CWI.verifySignature(args, originator)\n  }\n\n  async acquireCertificate(\n    args: {\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, string>\n      certifier: PubKeyHex\n      keyringRevealer: PubKeyHex | 'certifier'\n      keyringForSubject: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      acquisitionProtocol: 'direct' | 'issuance'\n      certifierUrl?: string\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    type: Base64String\n    subject: PubKeyHex\n    serialNumber: Base64String\n    certifier: PubKeyHex\n    revocationOutpoint: OutpointString\n    signature: HexString\n    fields: Record<CertificateFieldNameUnder50Bytes, string>\n  }> {\n    return await this.CWI.acquireCertificate(args, originator)\n  }\n\n  async listCertificates(\n    args: {\n      certifiers: PubKeyHex[]\n      types: Base64String[]\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n      privileged?: BooleanDefaultFalse\n      privilegedReason?: DescriptionString5to50Bytes\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.CWI.listCertificates(args, originator)\n  }\n\n  async proveCertificate(\n    args: {\n      certificate: {\n        type: Base64String\n        subject: PubKeyHex\n        serialNumber: Base64String\n        certifier: PubKeyHex\n        revocationOutpoint: OutpointString\n        signature: HexString\n        fields: Record<CertificateFieldNameUnder50Bytes, string>\n      }\n      fieldsToReveal: CertificateFieldNameUnder50Bytes[]\n      verifier: PubKeyHex\n      privileged?: BooleanDefaultFalse\n      privilegedReason?: DescriptionString5to50Bytes\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    keyringForVerifier: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  }> {\n    return await this.CWI.proveCertificate(args, originator)\n  }\n\n  async relinquishCertificate(\n    args: {\n      type: Base64String\n      serialNumber: Base64String\n      certifier: PubKeyHex\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ relinquished: true }> {\n    return await this.CWI.relinquishCertificate(args, originator)\n  }\n\n  async discoverByIdentityKey(\n    args: {\n      identityKey: PubKeyHex\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.CWI.discoverByIdentityKey(args, originator)\n  }\n\n  async discoverByAttributes(\n    args: {\n      attributes: Record<CertificateFieldNameUnder50Bytes, string>\n      limit?: PositiveIntegerDefault10Max10000\n      offset?: PositiveIntegerOrZero\n    },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.CWI.discoverByAttributes(args, originator)\n  }\n\n  async isAuthenticated(\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ authenticated: true }> {\n    return await this.CWI.isAuthenticated(args, originator)\n  }\n\n  async waitForAuthentication(\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ authenticated: true }> {\n    return await this.CWI.waitForAuthentication(args, originator)\n  }\n\n  async getHeight(\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ height: PositiveInteger }> {\n    return await this.CWI.getHeight(args, originator)\n  }\n\n  async getHeaderForHeight(\n    args: { height: PositiveInteger },\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ header: HexString }> {\n    return await this.CWI.getHeaderForHeight(args, originator)\n  }\n\n  async getNetwork(\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ network: 'mainnet' | 'testnet' }> {\n    return await this.CWI.getNetwork(args, originator)\n  }\n\n  async getVersion(\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ): Promise<{ version: VersionString7To30Bytes }> {\n    return await this.CWI.getVersion(args, originator)\n  }\n}\n","import {\n  WalletInterface,\n  WalletCounterparty,\n  Base64String\n} from '../../wallet/Wallet.interfaces.js'\nimport * as Utils from '../../primitives/utils.js'\nimport Random from '../../primitives/Random.js'\n\n/**\n * Creates a nonce derived from a wallet\n * @param wallet\n * @param counterparty - The counterparty to the nonce creation. Defaults to 'self'.\n * @returns A random nonce derived with a wallet\n */\nexport async function createNonce(\n  wallet: WalletInterface,\n  counterparty: WalletCounterparty = 'self'\n): Promise<Base64String> {\n  // Generate 16 random bytes for the first half of the data\n  const firstHalf = Random(16)\n  // Create an sha256 HMAC\n  const { hmac } = await wallet.createHmac({\n    protocolID: [2, 'server hmac'],\n    keyID: Utils.toUTF8(firstHalf),\n    data: firstHalf,\n    counterparty\n  })\n  // Concatenate firstHalf and secondHalf as the nonce bytes\n  const nonceBytes = [...firstHalf, ...hmac]\n  return Utils.toBase64(nonceBytes)\n}\n","import * as Utils from '../../primitives/utils.js'\nimport { WalletInterface, WalletCounterparty, Base64String } from '../../wallet/Wallet.interfaces.js'\n\n/**\n * Verifies a nonce derived from a wallet\n * @param nonce - A nonce to verify as a base64 string.\n * @param wallet\n * @param counterparty - The counterparty to the nonce creation. Defaults to 'self'.\n * @returns The status of the validation\n */\nexport async function verifyNonce(\n  nonce: Base64String,\n  wallet: WalletInterface,\n  counterparty: WalletCounterparty = 'self'\n): Promise<boolean> {\n  // Convert nonce from base64 string to Uint8Array\n  const buffer = Utils.toArray(nonce, 'base64')\n\n  // Split the nonce buffer\n  const data = buffer.slice(0, 16)\n  const hmac = buffer.slice(16)\n\n  // Calculate the HMAC\n  const { valid } = await wallet.verifyHmac({\n    data,\n    hmac,\n    protocolID: [2, 'server hmac'],\n    keyID: Utils.toUTF8(data),\n    counterparty\n  })\n\n  return valid\n}\n","// NOTE: Enum values must not exceed the UInt8 range (0255)\nenum calls {\n  createAction = 1,\n  signAction = 2,\n  abortAction = 3,\n  listActions = 4,\n  internalizeAction = 5,\n  listOutputs = 6,\n  relinquishOutput = 7,\n  getPublicKey = 8,\n  revealCounterpartyKeyLinkage = 9,\n  revealSpecificKeyLinkage = 10,\n  encrypt = 11,\n  decrypt = 12,\n  createHmac = 13,\n  verifyHmac = 14,\n  createSignature = 15,\n  verifySignature = 16,\n  acquireCertificate = 17,\n  listCertificates = 18,\n  proveCertificate = 19,\n  relinquishCertificate = 20,\n  discoverByIdentityKey = 21,\n  discoverByAttributes = 22,\n  isAuthenticated = 23,\n  waitForAuthentication = 24,\n  getHeight = 25,\n  getHeaderForHeight = 26,\n  getNetwork = 27,\n  getVersion = 28,\n}\n\nexport default calls\nexport type CallType = keyof typeof calls\n","import Signature from './Signature.js'\nimport BigNumber from './BigNumber.js'\nimport * as Hash from './Hash.js'\nimport { toArray, Writer } from './utils.js'\nimport Script from '../script/Script.js'\nimport TransactionInput from '../transaction/TransactionInput.js'\nimport TransactionOutput from '../transaction/TransactionOutput.js'\n\nexport default class TransactionSignature extends Signature {\n  public static readonly SIGHASH_ALL = 0x00000001\n  public static readonly SIGHASH_NONE = 0x00000002\n  public static readonly SIGHASH_SINGLE = 0x00000003\n  public static readonly SIGHASH_FORKID = 0x00000040\n  public static readonly SIGHASH_ANYONECANPAY = 0x00000080\n\n  scope: number\n\n  static format (params: {\n    sourceTXID: string\n    sourceOutputIndex: number\n    sourceSatoshis: number\n    transactionVersion: number\n    otherInputs: TransactionInput[]\n    outputs: TransactionOutput[]\n    inputIndex: number\n    subscript: Script\n    inputSequence: number\n    lockTime: number\n    scope: number\n  }): number[] {\n    const currentInput = {\n      sourceTXID: params.sourceTXID,\n      sourceOutputIndex: params.sourceOutputIndex,\n      sequence: params.inputSequence\n    }\n    const inputs = [...params.otherInputs]\n    inputs.splice(params.inputIndex, 0, currentInput)\n\n    const getPrevoutHash = (): number[] => {\n      const writer = new Writer()\n\n      for (const input of inputs) {\n        if (typeof input.sourceTXID === 'undefined') {\n          if (input.sourceTransaction == null) {\n            throw new Error('Missing sourceTransaction for input')\n          }\n          writer.write(input.sourceTransaction.hash() as number[])\n        } else {\n          writer.writeReverse(toArray(input.sourceTXID, 'hex'))\n        }\n        writer.writeUInt32LE(input.sourceOutputIndex)\n      }\n\n      const buf = writer.toArray()\n      const ret = Hash.hash256(buf)\n      return ret\n    }\n\n    const getSequenceHash = (): number[] => {\n      const writer = new Writer()\n\n      for (const input of inputs) {\n        const sequence = input.sequence ?? 0xffffffff // Default to max sequence number\n        writer.writeUInt32LE(sequence)\n      }\n\n      const buf = writer.toArray()\n      const ret = Hash.hash256(buf)\n      return ret\n    }\n\n    function getOutputsHash (outputIndex?: number): number[] {\n      const writer = new Writer()\n\n      if (typeof outputIndex === 'undefined') {\n        for (const output of params.outputs) {\n          const satoshis = output.satoshis ?? 0 // Default to 0 if undefined\n          writer.writeUInt64LE(satoshis)\n\n          const script = output.lockingScript?.toBinary() ?? []\n          writer.writeVarIntNum(script.length)\n          writer.write(script)\n        }\n      } else {\n        const output = params.outputs[outputIndex]\n\n        if (output === undefined) { //  Explicitly check for undefined\n          throw new Error(`Output at index ${outputIndex} does not exist`)\n        }\n\n        const satoshis = output.satoshis ?? 0 // Default to 0 if undefined\n        writer.writeUInt64LE(satoshis)\n\n        const script = output.lockingScript?.toBinary() ?? []\n        writer.writeVarIntNum(script.length)\n        writer.write(script)\n      }\n\n      const buf = writer.toArray()\n      const ret = Hash.hash256(buf)\n      return ret\n    }\n\n    let hashPrevouts = new Array(32).fill(0)\n    let hashSequence = new Array(32).fill(0)\n    let hashOutputs = new Array(32).fill(0)\n\n    if ((params.scope & TransactionSignature.SIGHASH_ANYONECANPAY) === 0) {\n      hashPrevouts = getPrevoutHash()\n    }\n\n    if (\n      (params.scope & TransactionSignature.SIGHASH_ANYONECANPAY) === 0 &&\n      (params.scope & 31) !== TransactionSignature.SIGHASH_SINGLE &&\n      (params.scope & 31) !== TransactionSignature.SIGHASH_NONE\n    ) {\n      hashSequence = getSequenceHash()\n    }\n\n    if (\n      (params.scope & 31) !== TransactionSignature.SIGHASH_SINGLE &&\n      (params.scope & 31) !== TransactionSignature.SIGHASH_NONE\n    ) {\n      hashOutputs = getOutputsHash()\n    } else if (\n      (params.scope & 31) === TransactionSignature.SIGHASH_SINGLE &&\n      params.inputIndex < params.outputs.length\n    ) {\n      hashOutputs = getOutputsHash(params.inputIndex)\n    }\n\n    const writer = new Writer()\n\n    // Version\n    writer.writeInt32LE(params.transactionVersion)\n\n    // Input prevouts/nSequence (none/all, depending on flags)\n    writer.write(hashPrevouts)\n    writer.write(hashSequence)\n\n    //  outpoint (32-byte hash + 4-byte little endian)\n    writer.writeReverse(toArray(params.sourceTXID, 'hex'))\n    writer.writeUInt32LE(params.sourceOutputIndex)\n\n    // scriptCode of the input (serialized as scripts inside CTxOuts)\n    const subscriptBin = params.subscript.toBinary()\n    writer.writeVarIntNum(subscriptBin.length)\n    writer.write(subscriptBin)\n\n    // value of the output spent by this input (8-byte little endian)\n    writer.writeUInt64LE(params.sourceSatoshis)\n\n    // nSequence of the input (4-byte little endian)\n    const sequenceNumber = currentInput.sequence\n    writer.writeUInt32LE(sequenceNumber)\n\n    // Outputs (none/one/all, depending on flags)\n    writer.write(hashOutputs)\n\n    // Locktime\n    writer.writeUInt32LE(params.lockTime)\n\n    // sighashType\n    writer.writeUInt32LE(params.scope >>> 0)\n\n    const buf = writer.toArray()\n    return buf\n  }\n\n  // The format used in a tx\n  static fromChecksigFormat (buf: number[]): TransactionSignature {\n    if (buf.length === 0) {\n      // allow setting a \"blank\" signature\n      const r = new BigNumber(1)\n      const s = new BigNumber(1)\n      const scope = 1\n      return new TransactionSignature(r, s, scope)\n    }\n    const scope = buf[buf.length - 1]\n    const derbuf = buf.slice(0, buf.length - 1)\n    const tempSig = Signature.fromDER(derbuf)\n    return new TransactionSignature(tempSig.r, tempSig.s, scope)\n  }\n\n  constructor (r: BigNumber, s: BigNumber, scope: number) {\n    super(r, s)\n    this.scope = scope\n  }\n\n  /**\n   * Compares to bitcoind's IsLowDERSignature\n   * See also Ecdsa signature algorithm which enforces this.\n   * See also Bip 62, \"low S values in signatures\"\n   */\n  public hasLowS (): boolean {\n    if (\n      this.s.ltn(1) ||\n      this.s.gt(\n        new BigNumber(\n          '7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0',\n          'hex'\n        )\n      )\n    ) {\n      return false\n    }\n    return true\n  }\n\n  toChecksigFormat (): number[] {\n    const derbuf = this.toDER() as number[]\n    return [...derbuf, this.scope]\n  }\n}\n","import { VerifiableCertificate } from '../certificates/VerifiableCertificate.js'\nimport { WalletInterface } from '../../wallet/Wallet.interfaces.js'\nimport { RequestedCertificateSet } from '../types.js'\n\n/**\n * Retrieves an array of verifiable certificates based on the request.\n *\n * @private\n * @param {RequestedCertificateSet} requestedCertificates - The set of certificates requested by the peer.\n * @param {string} verifierIdentityKey - The public key of the verifier requesting the certificates.\n * @returns {Promise<VerifiableCertificate[]>} An array of verifiable certificates.\n */\nexport const getVerifiableCertificates = async (\n  wallet: WalletInterface,\n  requestedCertificates: RequestedCertificateSet,\n  verifierIdentityKey: string\n): Promise<VerifiableCertificate[]> => {\n  // Find matching certificates we have\n  // Note: This may return multiple certificates that match the correct type.\n  const matchingCertificates = await wallet.listCertificates({\n    certifiers: requestedCertificates.certifiers,\n    types: Object.keys(requestedCertificates.types)\n  })\n\n  // For each certificate requested, create a verifiable cert with selectively revealed fields\n  return await Promise.all(\n    matchingCertificates.certificates.map(async (certificate) => {\n      const { keyringForVerifier } = await wallet.proveCertificate({\n        certificate,\n        fieldsToReveal: requestedCertificates.types[certificate.type],\n        verifier: verifierIdentityKey\n      })\n      return new VerifiableCertificate(\n        certificate.type,\n        certificate.serialNumber,\n        certificate.subject,\n        certificate.certifier,\n        certificate.revocationOutpoint,\n        certificate.fields,\n        keyringForVerifier,\n        certificate.signature\n      )\n    })\n  )\n}\n","import { WalletInterface } from '../../wallet/index.js'\nimport { AuthMessage, RequestedCertificateSet } from '../types.js'\nimport { VerifiableCertificate } from '../certificates/VerifiableCertificate.js'\n\n/**\n * Validates and processes the certificates received from a peer.\n *\n * @private\n * @param {AuthMessage} message - The message containing the certificates to validate.\n * @returns {Promise<void>}\n * @throws Will throw an error if certificate validation or field decryption fails.\n */\nexport const validateCertificates = async (\n  verifierWallet: WalletInterface,\n  message: AuthMessage,\n  certificatesRequested?: RequestedCertificateSet\n): Promise<void> => {\n  if ((message.certificates == null) || message.certificates.length === 0) {\n    throw new Error('No certificates were provided in the AuthMessage.')\n  }\n\n  await Promise.all(\n    message.certificates.map(async (incomingCert: VerifiableCertificate) => {\n      if (incomingCert.subject !== message.identityKey) {\n        throw new Error(\n          `The subject of one of your certificates (\"${incomingCert.subject}\") is not the same as the request sender (\"${message.identityKey}\").`\n        )\n      }\n\n      // Verify Certificate structure and signature\n      const certToVerify = new VerifiableCertificate(\n        incomingCert.type,\n        incomingCert.serialNumber,\n        incomingCert.subject,\n        incomingCert.certifier,\n        incomingCert.revocationOutpoint,\n        incomingCert.fields,\n        incomingCert.keyring,\n        incomingCert.signature\n      )\n      const isValidCert = await certToVerify.verify()\n      if (!isValidCert) {\n        throw new Error(\n          `The signature for the certificate with serial number ${certToVerify.serialNumber} is invalid!`\n        )\n      }\n\n      // Check if the certificate matches requested certifiers, types, and fields\n      if (certificatesRequested != null) {\n        const { certifiers, types } = certificatesRequested\n\n        // Check certifier matches\n        if (!certifiers.includes(certToVerify.certifier)) {\n          throw new Error(\n            `Certificate with serial number ${certToVerify.serialNumber} has an unrequested certifier: ${certToVerify.certifier}`\n          )\n        }\n\n        // Check type and fields match requested\n        const requestedFields = types[certToVerify.type]\n        if (requestedFields == null) { //  Explicitly check for null or undefined\n          throw new Error(\n            `Certificate with type ${certToVerify.type} was not requested`\n          )\n        }\n      }\n\n      // Attempt to decrypt fields\n      await certToVerify.decryptFields(verifierWallet)\n    })\n  )\n}\n","import { AuthFetch } from '../auth/clients/AuthFetch.js'\nimport { WalletInterface } from '../wallet/Wallet.interfaces.js'\nimport * as StorageUtils from './StorageUtils.js'\n\nexport interface UploaderConfig {\n  storageURL: string\n  wallet: WalletInterface\n}\n\nexport interface UploadableFile {\n  data: number[]\n  type: string\n}\n\nexport interface UploadFileResult {\n  published: boolean\n  uhrpURL: string\n}\n\nexport interface FindFileData {\n  name: string\n  size: string\n  mimeType: string\n  expiryTime: number\n}\n\nexport interface RenewFileResult {\n  status: string\n  prevExpiryTime?: number\n  newExpiryTime?: number\n  amount?: number\n}\n\n/**\n * The StorageUploader class provides client-side methods for:\n * - Uploading files with a specified retention period\n * - Finding file metadata by UHRP URL\n * - Listing all user uploads\n * - Renewing an existing advertisement's expiry time\n */\nexport class StorageUploader {\n  private readonly authFetch: AuthFetch\n  private readonly baseURL: string\n\n  /**\n   * Creates a new StorageUploader instance.\n   * @param {UploaderConfig} config - An object containing the storage server's URL and a wallet interface\n   */\n  constructor (config: UploaderConfig) {\n    this.baseURL = config.storageURL\n    this.authFetch = new AuthFetch(config.wallet)\n  }\n\n  /**\n   * Requests information from the server to upload a file (including presigned URL and headers).\n   * @private\n   * @param {number} fileSize - The size of the file, in bytes\n   * @param {number} retentionPeriod - The desired hosting time, in minutes\n   * @returns {Promise<{ uploadURL: string; requiredHeaders: Record<string, string>; amount?: number }>}\n   * @throws {Error} If the server returns a non-OK response or an error status\n   */\n  private async getUploadInfo (\n    fileSize: number,\n    retentionPeriod: number\n  ): Promise<{\n      uploadURL: string\n      requiredHeaders: Record<string, string>\n      amount?: number\n    }> {\n    const url = `${this.baseURL}/upload`\n    const body = { fileSize, retentionPeriod }\n\n    const response = await this.authFetch.fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(body)\n    })\n    if (!response.ok) {\n      throw new Error(`Upload info request failed: HTTP ${response.status}`)\n    }\n    const data = await response.json() as {\n      status: string\n      uploadURL: string\n      amount?: number\n      requiredHeaders: Record<string, string>\n    }\n    if (data.status === 'error') {\n      throw new Error('Upload route returned an error.')\n    }\n    return {\n      uploadURL: data.uploadURL,\n      requiredHeaders: data.requiredHeaders,\n      amount: data.amount\n    }\n  }\n\n  /**\n   * Performs the actual file upload (HTTP PUT) to the presigned URL returned by the server.\n   * @private\n   * @param {string} uploadURL - The presigned URL where the file is to be uploaded\n   * @param {UploadableFile} file - The file to upload, including its raw data and MIME type\n   * @param {Record<string, string>} requiredHeaders - Additional headers required by the server (e.g. content-length)\n   * @returns {Promise<UploadFileResult>} An object indicating whether publishing was successful and the resulting UHRP URL\n   * @throws {Error} If the server returns a non-OK response\n   */\n  private async uploadFile (\n    uploadURL: string,\n    file: UploadableFile,\n    requiredHeaders: Record<string, string>\n  ): Promise<UploadFileResult> {\n    const body = Uint8Array.from(file.data)\n\n    const response = await fetch(uploadURL, {\n      method: 'PUT',\n      body,\n      headers: {\n        'Content-Type': file.type,\n        ...requiredHeaders\n      }\n    })\n    if (!response.ok) {\n      throw new Error(`File upload failed: HTTP ${response.status}`)\n    }\n\n    const uhrpURL = await StorageUtils.getURLForFile(file.data)\n    return {\n      published: true,\n      uhrpURL\n    }\n  }\n\n  /**\n   * Publishes a file to the storage server with the specified retention period.\n   *\n   * This will:\n   * 1. Request an upload URL from the server.\n   * 2. Perform an HTTP PUT to upload the files raw bytes.\n   * 3. Return a UHRP URL referencing the file once published.\n   *\n   * @param {Object} params\n   * @param {UploadableFile} params.file - The file data + type\n   * @param {number} params.retentionPeriod - Number of minutes to host the file\n   * @returns {Promise<UploadFileResult>} An object with the file's UHRP URL\n   * @throws {Error} If the server or upload step returns a non-OK response\n   */\n  public async publishFile (params: {\n    file: UploadableFile\n    retentionPeriod: number\n  }): Promise<UploadFileResult> {\n    const { file, retentionPeriod } = params\n    const fileSize = file.data.length\n\n    const { uploadURL, requiredHeaders } = await this.getUploadInfo(fileSize, retentionPeriod)\n    return await this.uploadFile(uploadURL, file, requiredHeaders)\n  }\n\n  /**\n   * Retrieves metadata for a file matching the given UHRP URL from the `/find` route.\n   * @param {string} uhrpUrl - The UHRP URL, e.g. \"uhrp://abcd...\"\n   * @returns {Promise<FindFileData>} An object with file name, size, MIME type, and expiry time\n   * @throws {Error} If the server or the route returns an error\n   */\n  public async findFile (uhrpUrl: string): Promise<FindFileData> {\n    const url = new URL(`${this.baseURL}/find`)\n    url.searchParams.set('uhrpUrl', uhrpUrl)\n\n    const response = await this.authFetch.fetch(url.toString(), {\n      method: 'GET'\n    })\n    if (!response.ok) {\n      throw new Error(`findFile request failed: HTTP ${response.status}`)\n    }\n\n    const data = await response.json() as {\n      status: string\n      data: { name: string, size: string, mimeType: string, expiryTime: number }\n      code?: string\n      description?: string\n    }\n\n    if (data.status === 'error') {\n      const errCode = data.code ?? 'unknown-code'\n      const errDesc = data.description ?? 'no-description'\n      throw new Error(`findFile returned an error: ${errCode} - ${errDesc}`)\n    }\n    return data.data\n  }\n\n  /**\n   * Lists all advertisements belonging to the user from the `/list` route.\n   * @returns {Promise<any>} The array of uploads returned by the server\n   * @throws {Error} If the server or the route returns an error\n   */\n  public async listUploads (): Promise<any> {\n    const url = `${this.baseURL}/list`\n    const response = await this.authFetch.fetch(url, {\n      method: 'GET'\n    })\n    if (!response.ok) {\n      throw new Error(`listUploads request failed: HTTP ${response.status}`)\n    }\n\n    const data = await response.json()\n    if (data.status === 'error') {\n      const errCode = data.code as string ?? 'unknown-code'\n      const errDesc = data.description as string ?? 'no-description'\n      throw new Error(`listUploads returned an error: ${errCode} - ${errDesc}`)\n    }\n    return data.uploads\n  }\n\n  /**\n   * Renews the hosting time for an existing file advertisement identified by uhrpUrl.\n   * Calls the `/renew` route to add `additionalMinutes` to the GCS customTime\n   * and re-mint the advertisement token on-chain.\n   *\n   * @param {string} uhrpUrl - The UHRP URL of the file (e.g., \"uhrp://abcd1234...\")\n   * @param {number} additionalMinutes - The number of minutes to extend\n   * @returns {Promise<RenewFileResult>} An object with the new and previous expiry times, plus any cost\n   * @throws {Error} If the request fails or the server returns an error\n   */\n  public async renewFile (uhrpUrl: string, additionalMinutes: number): Promise<RenewFileResult> {\n    const url = `${this.baseURL}/renew`\n    const body = { uhrpUrl, additionalMinutes }\n\n    const response = await this.authFetch.fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(body)\n    })\n    if (!response.ok) {\n      throw new Error(`renewFile request failed: HTTP ${response.status}`)\n    }\n\n    const data = await response.json() as {\n      status: string\n      prevExpiryTime?: number\n      newExpiryTime?: number\n      amount?: number\n      code?: string\n      description?: string\n    }\n\n    if (data.status === 'error') {\n      const errCode = data.code ?? 'unknown-code'\n      const errDesc = data.description ?? 'no-description'\n      throw new Error(`renewFile returned an error: ${errCode} - ${errDesc}`)\n    }\n\n    return {\n      status: data.status,\n      prevExpiryTime: data.prevExpiryTime,\n      newExpiryTime: data.newExpiryTime,\n      amount: data.amount\n    }\n  }\n}\n","import Curve from './Curve.js'\n\n/**\n * Base class for Point (affine coordinates) and JacobianPoint classes,\n * defining their curve and type.\n */\nexport default abstract class BasePoint {\n  curve: Curve\n  type: 'affine' | 'jacobian'\n  precomputed: {\n    doubles?: { step: number, points: BasePoint[] }\n    naf?: { wnd: number, points: BasePoint[] }\n    beta?: BasePoint | null\n  } | null\n\n  constructor (type: 'affine' | 'jacobian') {\n    this.curve = new Curve() // Always initialized, so never null\n    this.type = type\n    this.precomputed = null\n  }\n}\n","import Script from './Script.js'\n\n/**\n * The LockingScript class represents a locking script in a Bitcoin SV transaction.\n * It extends the Script class and is used specifically for output scripts that lock funds.\n *\n * Inherits all properties and methods from the Script class.\n *\n * @extends {Script}\n * @see {@link Script} for more information on Script.\n */\nexport default class LockingScript extends Script {\n  /**\n   * @method isLockingScript\n   * Determines if the script is a locking script.\n   * @returns {boolean} Always returns true for a LockingScript instance.\n   */\n  isLockingScript (): boolean {\n    return true\n  }\n\n  /**\n   * @method isUnlockingScript\n   * Determines if the script is an unlocking script.\n   * @returns {boolean} Always returns false for a LockingScript instance.\n   */\n  isUnlockingScript (): boolean {\n    return false\n  }\n}\n","import {\n  HttpClient,\n  HttpClientRequestOptions,\n  HttpClientResponse\n} from './HttpClient.js'\n\n/** Node Https module interface limited to options needed by ts-sdk */\nexport interface HttpsNodejs {\n  request: (\n    url: string,\n    options: HttpClientRequestOptions,\n    callback: (res: any) => void\n  ) => NodejsHttpClientRequest\n}\n\n/** Nodejs result of the Node https.request call limited to options needed by ts-sdk */\nexport interface NodejsHttpClientRequest {\n  write: (chunk: string) => void\n\n  on: (event: string, callback: (data: any) => void) => void\n\n  end: (() => void) & (() => void)\n}\n\n/**\n * Adapter for Node Https module to be used as HttpClient\n */\nexport class NodejsHttpClient implements HttpClient {\n  constructor(private readonly https: HttpsNodejs) { }\n\n  async request(\n    url: string,\n    requestOptions: HttpClientRequestOptions\n  ): Promise<HttpClientResponse> {\n    return await new Promise((resolve, reject) => {\n      const req = this.https.request(url, requestOptions, (res) => {\n        let body = ''\n        res.on('data', (chunk: string) => {\n          body += chunk\n        })\n        res.on('end', () => {\n          const ok = res.statusCode >= 200 && res.statusCode <= 299\n          const mediaType = res.headers['content-type']\n          const data =\n            body !== '' && typeof mediaType === 'string' && mediaType.startsWith('application/json')\n              ? JSON.parse(body)\n              : body\n          resolve({\n            status: res.statusCode,\n            statusText: res.statusMessage,\n            ok,\n            data\n          })\n        })\n      })\n\n      req.on('error', (error: Error) => {\n        reject(error)\n      })\n\n      if (requestOptions.data !== null && requestOptions.data !== undefined) {\n        req.write(JSON.stringify(requestOptions.data))\n      }\n      req.end()\n    })\n  }\n}\n","import type {\n  PubKeyHex,\n  Base64String,\n  CertificateFieldNameUnder50Bytes,\n  HexString,\n  OutpointString,\n  WalletCertificate,\n} from '../../wallet/Wallet.interfaces.js'\nimport SymmetricKey from '../../primitives/SymmetricKey.js'\nimport * as Utils from '../../primitives/utils.js'\nimport ProtoWallet from '../../wallet/ProtoWallet.js'\nimport Certificate from './Certificate.js'\n\n/**\n * VerifiableCertificate extends the Certificate class, adding functionality to manage a verifier-specific keyring.\n * This keyring allows selective decryption of certificate fields for authorized verifiers.\n */\nexport class VerifiableCertificate extends Certificate {\n  declare type: Base64String\n  declare serialNumber: Base64String\n  declare subject: PubKeyHex\n  declare certifier: PubKeyHex\n  declare revocationOutpoint: OutpointString\n  declare fields: Record<CertificateFieldNameUnder50Bytes, string>\n  declare signature?: HexString\n\n  keyring: Record<CertificateFieldNameUnder50Bytes, string>\n  decryptedFields?: Record<CertificateFieldNameUnder50Bytes, Base64String>\n\n  constructor(\n    type: Base64String,\n    serialNumber: Base64String,\n    subject: PubKeyHex,\n    certifier: PubKeyHex,\n    revocationOutpoint: OutpointString,\n    fields: Record<CertificateFieldNameUnder50Bytes, string>,\n    keyring: Record<CertificateFieldNameUnder50Bytes, string>,\n    signature?: HexString,\n    decryptedFields?: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  ) {\n    super(\n      type,\n      serialNumber,\n      subject,\n      certifier,\n      revocationOutpoint,\n      fields,\n      signature\n    )\n    this.keyring = keyring\n    this.decryptedFields = decryptedFields\n  }\n\n  /**\n   *\n   * @param {WalletCertificate} certificate  The source certificate that was issued and signed by the certifier.\n   * @param {Record<CertificateFieldNameUnder50Bytes, string>} keyring  A allows the verifier to decrypt selected certificate fields.\n   * @returns {VerifiableCertificate}  A fully-formed instance containing the\n   *   original certificate data plus the supplied keyring.\n   */\n  static fromCertificate(\n    certificate: WalletCertificate,\n    keyring: Record<CertificateFieldNameUnder50Bytes, string>\n  ): VerifiableCertificate {\n    return new VerifiableCertificate(\n      certificate.type,\n      certificate.serialNumber,\n      certificate.subject,\n      certificate.certifier,\n      certificate.revocationOutpoint,\n      certificate.fields,\n      keyring,\n      certificate.signature\n    )\n  }\n\n  /**\n   * Decrypts selectively revealed certificate fields using the provided keyring and verifier wallet\n   * @param {ProtoWallet} verifierWallet - The wallet instance of the certificate's verifier, used to decrypt field keys.\n   * @returns {Promise<Record<CertificateFieldNameUnder50Bytes, string>>} - A promise that resolves to an object where each key is a field name and each value is the decrypted field value as a string.\n   * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n   * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.\n   * @throws {Error} Throws an error if any of the decryption operations fail, with a message indicating the failure context.\n   */\n  async decryptFields(\n    verifierWallet: ProtoWallet,\n    privileged?: boolean,\n    privilegedReason?: string\n  ): Promise<Record<CertificateFieldNameUnder50Bytes, string>> {\n    if (this.keyring == null || Object.keys(this.keyring).length === 0) { //  Explicitly check null and empty object\n      throw new Error(\n        'A keyring is required to decrypt certificate fields for the verifier.'\n      )\n    }\n\n    try {\n      const decryptedFields: Record<CertificateFieldNameUnder50Bytes, string> =\n        {}\n      for (const fieldName in this.keyring) {\n        const { plaintext: fieldRevelationKey } = await verifierWallet.decrypt({\n          ciphertext: Utils.toArray(this.keyring[fieldName], 'base64'),\n          ...Certificate.getCertificateFieldEncryptionDetails(\n            fieldName,\n            this.serialNumber\n          ),\n          counterparty: this.subject,\n          privileged,\n          privilegedReason\n        })\n\n        const fieldValue = new SymmetricKey(fieldRevelationKey).decrypt(\n          Utils.toArray(this.fields[fieldName], 'base64')\n        )\n        decryptedFields[fieldName] = Utils.toUTF8(fieldValue as number[])\n      }\n      return decryptedFields\n    } catch (error) {\n      throw new Error(\n        `Failed to decrypt selectively revealed certificate fields using keyring: ${String(error instanceof Error ? error.message : error)}`\n\n      )\n    }\n  }\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\";\nimport { SSEServerTransport } from \"@modelcontextprotocol/sdk/server/sse.js\";\nimport {\n  type IncomingHttpHeaders,\n  IncomingMessage,\n  type ServerResponse,\n} from \"node:http\";\nimport { createClient } from \"redis\";\nimport { Socket } from \"node:net\";\nimport { Readable } from \"node:stream\";\nimport { StreamableHTTPServerTransport } from \"@modelcontextprotocol/sdk/server/streamableHttp.js\";\nimport type { BodyType } from \"./server-response-adapter\";\nimport assert from \"node:assert\";\nimport type {\n  McpEvent,\n  McpErrorEvent,\n  McpSessionEvent,\n  McpRequestEvent,\n} from \"../lib/log-helper\";\nimport { createEvent } from \"../lib/log-helper\";\nimport { EventEmittingResponse } from \"../lib/event-emitter.js\";\nimport { AuthInfo } from \"@modelcontextprotocol/sdk/server/auth/types\";\nimport { getAuthContext } from \"../auth/auth-context\";\nimport { ServerOptions } from \".\";\n\ninterface SerializedRequest {\n  requestId: string;\n  url: string;\n  method: string;\n  body: BodyType;\n  headers: IncomingHttpHeaders;\n}\n\ntype LogLevel = \"log\" | \"error\" | \"warn\" | \"info\" | \"debug\";\n\ntype Logger = {\n  log: (...args: unknown[]) => void;\n  error: (...args: unknown[]) => void;\n  warn: (...args: unknown[]) => void;\n  info: (...args: unknown[]) => void;\n  debug: (...args: unknown[]) => void;\n};\n\nfunction createLogger(verboseLogs = false): Logger {\n  return {\n    log: (...args: unknown[]) => {\n      if (verboseLogs) console.log(...args);\n    },\n    error: (...args: unknown[]) => {\n      if (verboseLogs) console.error(...args);\n    },\n    warn: (...args: unknown[]) => {\n      if (verboseLogs) console.warn(...args);\n    },\n    info: (...args: unknown[]) => {\n      if (verboseLogs) console.info(...args);\n    },\n    debug: (...args: unknown[]) => {\n      if (verboseLogs) console.debug(...args);\n    },\n  };\n}\n/**\n * Configuration for the MCP handler.\n * @property redisUrl - The URL of the Redis instance to use for the MCP handler.\n * @property streamableHttpEndpoint - The endpoint to use for the streamable HTTP transport.\n * @property sseEndpoint - The endpoint to use for the SSE transport.\n * @property verboseLogs - If true, enables console logging.\n */\nexport type Config = {\n  /**\n   * The URL of the Redis instance to use for the MCP handler.\n   * @default process.env.REDIS_URL || process.env.KV_URL\n   */\n  redisUrl?: string;\n  /**\n   * The endpoint to use for the streamable HTTP transport.\n   * @deprecated Use `set basePath` instead.\n   * @default \"/mcp\"\n   */\n  streamableHttpEndpoint?: string;\n  /**\n   * The endpoint to use for the SSE transport.\n   * @deprecated Use `set basePath` instead.\n   * @default \"/sse\"\n   */\n  sseEndpoint?: string;\n  /**\n   * The endpoint to use for the SSE messages transport.\n   * @deprecated Use `set basePath` instead.\n   * @default \"/message\"\n   */\n  sseMessageEndpoint?: string;\n  /**\n   * The maximum duration of an MCP request in seconds.\n   * @default 60\n   */\n  maxDuration?: number;\n  /**\n   * If true, enables console logging.\n   * @default false\n   */\n  verboseLogs?: boolean;\n  /**\n   * The base path to use for deriving endpoints.\n   * If provided, endpoints will be derived from this path.\n   * For example, if basePath is \"/\", that means your routing is:\n   *  /app/[transport]/route.ts and then:\n   * - streamableHttpEndpoint will be \"/mcp\"\n   * - sseEndpoint will be \"/sse\"\n   * - sseMessageEndpoint will be \"/message\"\n   * @default \"\"\n   */\n  basePath?: string;\n  /**\n   * Callback function that receives MCP events.\n   * This can be used to track analytics, debug issues, or implement custom behaviors.\n   */\n  onEvent?: (event: McpEvent) => void;\n\n  /**\n   * If true, disables the SSE endpoint.\n   * As of 2025-03-26, SSE is not supported by the MCP spec.\n   * https://modelcontextprotocol.io/specification/2025-03-26/basic/transports\n   * @default false\n   */\n  disableSse?: boolean;\n};\n\n/**\n * Derives MCP endpoints from a base path.\n * @param basePath - The base path to derive endpoints from\n * @returns An object containing the derived endpoints\n */\nfunction deriveEndpointsFromBasePath(basePath: string): {\n  streamableHttpEndpoint: string;\n  sseEndpoint: string;\n  sseMessageEndpoint: string;\n} {\n  // Remove trailing slash if present\n  const normalizedBasePath = basePath.replace(/\\/$/, \"\");\n\n  return {\n    streamableHttpEndpoint: `${normalizedBasePath}/mcp`,\n    sseEndpoint: `${normalizedBasePath}/sse`,\n    sseMessageEndpoint: `${normalizedBasePath}/message`,\n  };\n}\n/**\n * Calculates the endpoints for the MCP handler.\n * @param config - The configuration for the MCP handler.\n * @returns An object containing the endpoints for the MCP handler.\n */\nexport function calculateEndpoints({\n  basePath,\n  streamableHttpEndpoint = \"/mcp\",\n  sseEndpoint = \"/sse\",\n  sseMessageEndpoint = \"/message\",\n}: Config) {\n  const {\n    streamableHttpEndpoint: fullStreamableHttpEndpoint,\n    sseEndpoint: fullSseEndpoint,\n    sseMessageEndpoint: fullSseMessageEndpoint,\n  } = basePath != null\n    ? deriveEndpointsFromBasePath(basePath)\n    : {\n        streamableHttpEndpoint,\n        sseEndpoint,\n        sseMessageEndpoint,\n      };\n\n  return {\n    streamableHttpEndpoint: fullStreamableHttpEndpoint,\n    sseEndpoint: fullSseEndpoint,\n    sseMessageEndpoint: fullSseMessageEndpoint,\n  };\n}\n\nlet redisPublisher: ReturnType<typeof createClient>;\nlet redis: ReturnType<typeof createClient>;\n\n// WeakMap to track server metadata without preventing GC\nconst serverMetadata = new WeakMap<McpServer, {\n  sessionId: string;\n  createdAt: Date;\n  transport: SSEServerTransport;\n}>();\n\n// Periodic cleanup interval\nlet cleanupInterval: NodeJS.Timeout | null = null;\n\nasync function initializeRedis({\n  redisUrl,\n  logger,\n}: {\n  redisUrl?: string;\n  logger: Logger;\n}) {\n  if (redis && redisPublisher) {\n    return { redis, redisPublisher };\n  }\n\n  if (!redisUrl) {\n    throw new Error(\"redisUrl is required\");\n  }\n\n  redis = createClient({\n    url: redisUrl,\n  });\n  redisPublisher = createClient({\n    url: redisUrl,\n  });\n  redis.on(\"error\", (err) => {\n    logger.error(\"Redis error\", err);\n  });\n  redisPublisher.on(\"error\", (err) => {\n    logger.error(\"Redis error\", err);\n  });\n\n  await Promise.all([redis.connect(), redisPublisher.connect()]);\n\n  return { redis, redisPublisher };\n}\n\nexport function initializeMcpApiHandler(\n  initializeServer:\n    | ((server: McpServer) => Promise<void>)\n    | ((server: McpServer) => void),\n  serverOptions: ServerOptions = {},\n  config: Config = {\n    redisUrl: process.env.REDIS_URL || process.env.KV_URL,\n    streamableHttpEndpoint: \"/mcp\",\n    sseEndpoint: \"/sse\",\n    sseMessageEndpoint: \"/message\",\n    basePath: \"\",\n    maxDuration: 60,\n    verboseLogs: false,\n    disableSse: false,\n  }\n) {\n  const {\n    redisUrl,\n    basePath,\n    streamableHttpEndpoint: explicitStreamableHttpEndpoint,\n    sseEndpoint: explicitSseEndpoint,\n    sseMessageEndpoint: explicitSseMessageEndpoint,\n    maxDuration,\n    verboseLogs,\n    disableSse,\n  } = config;\n\n  const {\n    serverInfo = {\n      name: \"mcp-typescript server on vercel\",\n      version: \"0.1.0\",\n    },\n    ...mcpServerOptions\n  } = serverOptions;\n\n  // If basePath is provided, derive endpoints from it\n  const { streamableHttpEndpoint, sseEndpoint, sseMessageEndpoint } =\n    calculateEndpoints({\n      basePath,\n      streamableHttpEndpoint: explicitStreamableHttpEndpoint,\n      sseEndpoint: explicitSseEndpoint,\n      sseMessageEndpoint: explicitSseMessageEndpoint,\n    });\n\n  const logger = createLogger(verboseLogs);\n\n  let servers: McpServer[] = [];\n\n  let statelessServer: McpServer;\n  const statelessTransport = new StreamableHTTPServerTransport({\n    sessionIdGenerator: undefined,\n  });\n  \n  // Start periodic cleanup if not already running\n  if (!cleanupInterval) {\n    cleanupInterval = setInterval(() => {\n      const now = Date.now();\n      const staleThreshold = 5 * 60 * 1000; // 5 minutes\n      \n      servers = servers.filter(server => {\n        const metadata = serverMetadata.get(server);\n        if (!metadata) {\n          // No metadata means the server is orphaned\n          logger.log(\"Removing orphaned server without metadata\");\n          try {\n            if (server?.server) {\n              server.server.close();\n            }\n          } catch (error) {\n            logger.error(\"Error closing orphaned server:\", error);\n          }\n          return false;\n        }\n        \n        const age = now - metadata.createdAt.getTime();\n        if (age > staleThreshold) {\n          logger.log(`Removing stale server (session ${metadata.sessionId}, age: ${age}ms)`);\n          try {\n            if (server?.server) {\n              server.server.close();\n            }\n            if (metadata.transport?.close) {\n              metadata.transport.close();\n            }\n          } catch (error) {\n            logger.error(\"Error closing stale server:\", error);\n          }\n          serverMetadata.delete(server);\n          return false;\n        }\n        \n        return true;\n      });\n    }, 30 * 1000); // Run every 30 seconds\n  }\n\n  return async function mcpApiHandler(req: Request, res: ServerResponse) {\n    const url = new URL(req.url || \"\", \"https://example.com\");\n    if (url.pathname === streamableHttpEndpoint) {\n      if (req.method === \"GET\") {\n        logger.log(\"Received GET MCP request\");\n        res.writeHead(405).end(\n          JSON.stringify({\n            jsonrpc: \"2.0\",\n            error: {\n              code: -32000,\n              message: \"Method not allowed.\",\n            },\n            id: null,\n          })\n        );\n        return;\n      }\n      if (req.method === \"DELETE\") {\n        logger.log(\"Received DELETE MCP request\");\n        res.writeHead(405).end(\n          JSON.stringify({\n            jsonrpc: \"2.0\",\n            error: {\n              code: -32000,\n              message: \"Method not allowed.\",\n            },\n            id: null,\n          })\n        );\n        return;\n      }\n\n      if (req.method === \"POST\") {\n        const eventRes = new EventEmittingResponse(\n          createFakeIncomingMessage(),\n          config.onEvent\n        );\n\n        if (!statelessServer) {\n          statelessServer = new McpServer(serverInfo, mcpServerOptions);\n          await initializeServer(statelessServer);\n          await statelessServer.connect(statelessTransport);\n        }\n\n        // Parse the request body\n        let bodyContent: BodyType;\n        const contentType = req.headers.get(\"content-type\") || \"\";\n        if (contentType.includes(\"application/json\")) {\n          bodyContent = await req.json();\n        } else {\n          bodyContent = await req.text();\n        }\n\n        const incomingRequest = createFakeIncomingMessage({\n          method: req.method,\n          url: req.url,\n          headers: Object.fromEntries(req.headers),\n          body: bodyContent,\n          auth: req.auth, // Use the auth info that should already be set by withMcpAuth\n        });\n\n        // Create a response that will emit events\n        const wrappedRes = new EventEmittingResponse(\n          incomingRequest,\n          config.onEvent\n        );\n        Object.assign(wrappedRes, res);\n\n        try {\n          await statelessTransport.handleRequest(incomingRequest, wrappedRes);\n          if (\n            typeof bodyContent === \"object\" &&\n            bodyContent &&\n            \"method\" in bodyContent\n          ) {\n            eventRes.requestCompleted(\n              bodyContent.method as string,\n              bodyContent\n            );\n          }\n        } catch (error) {\n          if (\n            typeof bodyContent === \"object\" &&\n            bodyContent &&\n            \"method\" in bodyContent\n          ) {\n            eventRes.requestCompleted(\n              bodyContent.method as string,\n              undefined,\n              error instanceof Error ? error : String(error)\n            );\n          }\n          throw error;\n        }\n      }\n    } else if (url.pathname === sseEndpoint) {\n      if (disableSse) {\n        res.statusCode = 404;\n        res.end(\"Not found\");\n        return;\n      }\n\n      // Check HTTP method - only allow GET for SSE connections\n      if (req.method !== \"GET\") {\n        logger.log(`Rejected SSE connection with method ${req.method}`);\n        res\n          .writeHead(405, { \"Content-Type\": \"text/plain\" })\n          .end(\"Method Not Allowed\");\n        return;\n      }\n\n      // Check that Accept header supports event-stream\n      const acceptHeader =\n        req.headers.get(\"accept\") || req.headers.get(\"Accept\");\n      if (\n        acceptHeader &&\n        !acceptHeader.includes(\"text/event-stream\") &&\n        !acceptHeader.includes(\"*/*\") &&\n        !acceptHeader.includes(\"text/*\")\n      ) {\n        logger.log(\n          `Rejected SSE connection with incompatible Accept header: ${acceptHeader}`\n        );\n        res\n          .writeHead(406, { \"Content-Type\": \"text/plain\" })\n          .end(\"Not Acceptable\");\n        return;\n      }\n\n      const { redis, redisPublisher } = await initializeRedis({\n        redisUrl,\n        logger,\n      });\n      logger.log(\"Got new SSE connection\");\n      assert(sseMessageEndpoint, \"sseMessageEndpoint is required\");\n      const transport = new SSEServerTransport(sseMessageEndpoint, res);\n      const sessionId = transport.sessionId;\n\n      const eventRes = new EventEmittingResponse(\n        createFakeIncomingMessage(),\n        config.onEvent,\n        sessionId\n      );\n      eventRes.startSession(\"SSE\", {\n        userAgent: req.headers.get(\"user-agent\") ?? undefined,\n        ip:\n          req.headers.get(\"x-forwarded-for\") ??\n          req.headers.get(\"x-real-ip\") ??\n          undefined,\n      });\n\n      const server = new McpServer(serverInfo, serverOptions);\n      \n      // Track cleanup state to prevent double cleanup\n      let isCleanedUp = false;\n      let interval: NodeJS.Timeout | null = null;\n      let timeout: NodeJS.Timeout | null = null;\n      let abortHandler: (() => void) | null = null;\n      let handleMessage: ((message: string) => Promise<void>) | null = null;\n      let logs: { type: LogLevel; messages: string[]; }[] = [];\n      \n      // Comprehensive cleanup function\n      const cleanup = async (reason: string) => {\n        if (isCleanedUp) return;\n        isCleanedUp = true;\n        \n        logger.log(`Cleaning up SSE connection: ${reason}`);\n        \n        // Clear timers\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        if (interval) {\n          clearInterval(interval);\n          interval = null;\n        }\n        \n        // Remove abort event listener\n        if (abortHandler) {\n          req.signal.removeEventListener(\"abort\", abortHandler);\n          abortHandler = null;\n        }\n        \n        // Unsubscribe from Redis\n        if (handleMessage) {\n          try {\n            await redis.unsubscribe(`requests:${sessionId}`, handleMessage);\n            logger.log(`Unsubscribed from requests:${sessionId}`);\n          } catch (error) {\n            logger.error(\"Error unsubscribing from Redis:\", error);\n          }\n        }\n        \n        // Close server and transport\n        try {\n          if (server?.server) {\n            await server.server.close();\n          }\n          if (transport?.close) {\n            await transport.close();\n          }\n        } catch (error) {\n          logger.error(\"Error closing server/transport:\", error);\n        }\n        \n        // Remove server from array and WeakMap\n        servers = servers.filter((s) => s !== server);\n        serverMetadata.delete(server);\n        \n        // End session event\n        eventRes.endSession(\"SSE\");\n        \n        // Clear logs array to free memory\n        logs = [];\n        \n        // End response if not already ended\n        if (!res.headersSent) {\n          res.statusCode = 200;\n          res.end();\n        }\n      };\n      \n      try {\n        await initializeServer(server);\n        servers.push(server);\n        \n        // Store metadata in WeakMap\n        serverMetadata.set(server, {\n          sessionId,\n          createdAt: new Date(),\n          transport\n        });\n\n        server.server.onclose = () => {\n          cleanup(\"server closed\");\n        };\n\n        // eslint-disable-next-line no-inner-declarations\n        function logInContext(severity: LogLevel, ...messages: string[]) {\n          logs.push({\n            type: severity,\n            messages,\n          });\n        }\n\n        // Handles messages originally received via /message\n        handleMessage = async (message: string) => {\n          logger.log(\"Received message from Redis\", message);\n          logInContext(\"log\", \"Received message from Redis\", message);\n          const request = JSON.parse(message) as SerializedRequest;\n\n          // Make in IncomingMessage object because that is what the SDK expects.\n          const req = createFakeIncomingMessage({\n            method: request.method,\n            url: request.url,\n            headers: request.headers,\n            body: request.body,\n          });\n\n          const syntheticRes = new EventEmittingResponse(\n            req,\n            config.onEvent,\n            sessionId\n          );\n          let status = 100;\n          let body = \"\";\n          syntheticRes.writeHead = (statusCode: number) => {\n            status = statusCode;\n            return syntheticRes;\n          };\n          syntheticRes.end = (b: unknown) => {\n            body = b as string;\n            return syntheticRes;\n          };\n\n          try {\n            await transport.handlePostMessage(req, syntheticRes);\n\n            // If it was a function call, complete it\n            if (\n              typeof request.body === \"object\" &&\n              request.body &&\n              \"method\" in request.body\n            ) {\n              try {\n                const result = JSON.parse(body);\n                eventRes.requestCompleted(request.body.method as string, result);\n              } catch {\n                eventRes.requestCompleted(request.body.method as string, body);\n              }\n            }\n          } catch (error) {\n            eventRes.error(\n              error instanceof Error ? error : String(error),\n              \"Error handling SSE message\",\n              \"session\"\n            );\n            throw error;\n          }\n\n          await redisPublisher.publish(\n            `responses:${sessionId}:${request.requestId}`,\n            JSON.stringify({\n              status,\n              body,\n            })\n          );\n\n          if (status >= 200 && status < 300) {\n            logInContext(\n              \"log\",\n              `Request ${sessionId}:${request.requestId} succeeded: ${body}`\n            );\n          } else {\n            logInContext(\n              \"error\",\n              `Message for ${sessionId}:${request.requestId} failed with status ${status}: ${body}`\n            );\n            eventRes.error(\n              `Request failed with status ${status}`,\n              body,\n              \"session\"\n            );\n          }\n        };\n\n        interval = setInterval(() => {\n          for (const log of logs) {\n            logger[log.type](...log.messages);\n          }\n          logs = [];\n        }, 100);\n\n        await redis.subscribe(`requests:${sessionId}`, handleMessage);\n        logger.log(`Subscribed to requests:${sessionId}`);\n\n        let resolveTimeout: (value: unknown) => void;\n        const waitPromise = new Promise((resolve) => {\n          resolveTimeout = resolve;\n          timeout = setTimeout(() => {\n            resolve(\"max duration reached\");\n          }, (maxDuration ?? 60) * 1000);\n        });\n\n        abortHandler = () => resolveTimeout(\"client hang up\");\n        req.signal.addEventListener(\"abort\", abortHandler);\n        \n        // Handle response close event\n        res.on(\"close\", () => {\n          cleanup(\"response closed\");\n        });\n        \n        // Handle response error event\n        res.on(\"error\", (error) => {\n          logger.error(\"Response error:\", error);\n          cleanup(\"response error\");\n        });\n\n        await server.connect(transport);\n        const closeReason = await waitPromise;\n        logger.log(closeReason);\n        await cleanup(String(closeReason));\n      } catch (error) {\n        logger.error(\"Error in SSE handler:\", error);\n        await cleanup(\"error during setup\");\n        throw error;\n      }\n    } else if (url.pathname === sseMessageEndpoint) {\n      if (disableSse) {\n        res.statusCode = 404;\n        res.end(\"Not found\");\n        return;\n      }\n\n      const { redis, redisPublisher } = await initializeRedis({\n        redisUrl,\n        logger,\n      });\n      logger.log(\"Received message\");\n\n      const body = await req.text();\n      let parsedBody: BodyType;\n      try {\n        parsedBody = JSON.parse(body);\n      } catch (e) {\n        parsedBody = body;\n      }\n\n      const sessionId = url.searchParams.get(\"sessionId\") || \"\";\n      if (!sessionId) {\n        res.statusCode = 400;\n        res.end(\"No sessionId provided\");\n        return;\n      }\n      const requestId = crypto.randomUUID();\n      const serializedRequest: SerializedRequest = {\n        requestId,\n        url: req.url || \"\",\n        method: req.method || \"\",\n        body: parsedBody,\n        headers: Object.fromEntries(req.headers.entries()),\n      };\n\n      // Declare timeout and response handling state before subscription\n      let timeout: NodeJS.Timeout | null = null;\n      let hasResponded = false;\n      let isCleanedUp = false;\n      \n      // Cleanup function to ensure all resources are freed\n      const cleanup = async () => {\n        if (isCleanedUp) return;\n        isCleanedUp = true;\n        \n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        \n        try {\n          await redis.unsubscribe(`responses:${sessionId}:${requestId}`);\n        } catch (error) {\n          logger.error(\"Error unsubscribing from Redis response channel:\", error);\n        }\n      };\n      \n      // Safe response handler to prevent double res.end()\n      const sendResponse = async (status: number, body: string) => {\n        if (!hasResponded) {\n          hasResponded = true;\n          res.statusCode = status;\n          res.end(body);\n          await cleanup();\n        }\n      };\n      \n      // Response handler\n      const handleResponse = async (message: string) => {\n        try {\n          const response = JSON.parse(message) as {\n            status: number;\n            body: string;\n          };\n          await sendResponse(response.status, response.body);\n        } catch (error) {\n          logger.error(\"Failed to parse response message:\", error);\n          await sendResponse(500, \"Internal server error\");\n        }\n      };\n\n      try {\n        // Handles responses from the /sse endpoint.\n        await redis.subscribe(\n          `responses:${sessionId}:${requestId}`,\n          handleResponse\n        );\n\n        // Queue the request in Redis so that a subscriber can pick it up.\n        // One queue per session.\n        await redisPublisher.publish(\n          `requests:${sessionId}`,\n          JSON.stringify(serializedRequest)\n        );\n        logger.log(`Published requests:${sessionId}`, serializedRequest);\n\n        // Set timeout after subscription is established\n        timeout = setTimeout(async () => {\n          await sendResponse(408, \"Request timed out\");\n        }, 10 * 1000);\n\n        // Handle response close event\n        res.on(\"close\", async () => {\n          if (!hasResponded) {\n            hasResponded = true;\n            await cleanup();\n          }\n        });\n        \n        // Handle response error event\n        res.on(\"error\", async (error) => {\n          logger.error(\"Response error in message handler:\", error);\n          if (!hasResponded) {\n            hasResponded = true;\n            await cleanup();\n          }\n        });\n      } catch (error) {\n        logger.error(\"Error in message handler:\", error);\n        await cleanup();\n        if (!hasResponded) {\n          res.statusCode = 500;\n          res.end(\"Internal server error\");\n        }\n      }\n    } else {\n      res.statusCode = 404;\n      res.end(\"Not found\");\n    }\n  };\n}\n\n// Define the options interface\ninterface FakeIncomingMessageOptions {\n  method?: string;\n  url?: string;\n  headers?: IncomingHttpHeaders;\n  body?: BodyType;\n  socket?: Socket;\n  auth?: AuthInfo;\n}\n\n// Create a fake IncomingMessage\nfunction createFakeIncomingMessage(\n  options: FakeIncomingMessageOptions = {}\n): IncomingMessage & { auth?: AuthInfo } {\n  const {\n    method = \"GET\",\n    url = \"/\",\n    headers = {},\n    body = null,\n    socket = new Socket(),\n  } = options;\n\n  // Create a readable stream that will be used as the base for IncomingMessage\n  const readable = new Readable();\n  readable._read = (): void => {}; // Required implementation\n\n  // Add the body content if provided\n  if (body) {\n    if (typeof body === \"string\") {\n      readable.push(body);\n    } else if (Buffer.isBuffer(body)) {\n      readable.push(body);\n    } else {\n      // Ensure proper JSON-RPC format\n      const bodyString = JSON.stringify(body);\n      readable.push(bodyString);\n    }\n    readable.push(null); // Signal the end of the stream\n  } else {\n    readable.push(null); // Always end the stream even if no body\n  }\n\n  // Create the IncomingMessage instance\n  const req = new IncomingMessage(socket) as IncomingMessage & {\n    auth?: AuthInfo;\n  };\n\n  // Set the properties\n  req.method = method;\n  req.url = url;\n  req.headers = headers;\n\n  const auth = options.auth || getAuthContext();\n  if (auth) {\n    // See https://github.com/modelcontextprotocol/typescript-sdk/blob/590d4841373fc4eb86ecc9079834353a98cb84a3/src/server/auth/middleware/bearerAuth.ts#L71 for more info.\n    (req as { auth?: AuthInfo }).auth = auth;\n  }\n\n  // Copy over the stream methods\n  req.push = readable.push.bind(readable);\n  req.read = readable.read.bind(readable);\n  // @ts-expect-error\n  req.on = readable.on.bind(readable);\n  req.pipe = readable.pipe.bind(readable);\n\n  return req;\n}\n","import OP from '../OP.js'\nimport ScriptTemplate from '../ScriptTemplate.js'\nimport LockingScript from '../LockingScript.js'\nimport UnlockingScript from '../UnlockingScript.js'\nimport Transaction from '../../transaction/Transaction.js'\nimport PrivateKey from '../../primitives/PrivateKey.js'\nimport TransactionSignature from '../../primitives/TransactionSignature.js'\nimport { sha256 } from '../../primitives/Hash.js'\nimport ScriptChunk from '../ScriptChunk.js'\nimport BigNumber from '../../primitives/BigNumber.js'\nimport Script from '../Script.js'\n\n/**\n * RPuzzle class implementing ScriptTemplate.\n *\n * This class provides methods to create R Puzzle and R Puzzle Hash locking and unlocking scripts, including the unlocking of UTXOs with the correct K value.\n */\nexport default class RPuzzle implements ScriptTemplate {\n  type: 'raw' | 'SHA1' | 'SHA256' | 'HASH256' | 'RIPEMD160' | 'HASH160' = 'raw'\n\n  /**\n   * @constructor\n   * Constructs an R Puzzle template instance for a given puzzle type\n   *\n   * @param {'raw'|'SHA1'|'SHA256'|'HASH256'|'RIPEMD160'|'HASH160'} type Denotes the type of puzzle to create\n   */\n  constructor(\n    type:\n      | 'raw'\n      | 'SHA1'\n      | 'SHA256'\n      | 'HASH256'\n      | 'RIPEMD160'\n      | 'HASH160' = 'raw'\n  ) {\n    this.type = type\n  }\n\n  /**\n   * Creates an R puzzle locking script for a given R value or R value hash.\n   *\n   * @param {number[]} value - An array representing the R value or its hash.\n   * @returns {LockingScript} - An R puzzle locking script.\n   */\n  lock(value: number[]): LockingScript {\n    const chunks: ScriptChunk[] = [\n      { op: OP.OP_OVER },\n      { op: OP.OP_3 },\n      { op: OP.OP_SPLIT },\n      { op: OP.OP_NIP },\n      { op: OP.OP_1 },\n      { op: OP.OP_SPLIT },\n      { op: OP.OP_SWAP },\n      { op: OP.OP_SPLIT },\n      { op: OP.OP_DROP }\n    ]\n    if (this.type !== 'raw') {\n      chunks.push({\n        op: OP['OP_' + this.type]\n      })\n    }\n    chunks.push({ op: value.length, data: value })\n    chunks.push({ op: OP.OP_EQUALVERIFY })\n    chunks.push({ op: OP.OP_CHECKSIG })\n    return new LockingScript(chunks)\n  }\n\n  /**\n   * Creates a function that generates an R puzzle unlocking script along with its signature and length estimation.\n   *\n   * The returned object contains:\n   * 1. `sign` - A function that, when invoked with a transaction and an input index,\n   *    produces an unlocking script suitable for an R puzzle locked output.\n   * 2. `estimateLength` - A function that returns the estimated length of the unlocking script in bytes.\n   *\n   * @param {BigNumber} k  The K-value used to unlock the R-puzzle.\n   * @param {PrivateKey} privateKey - The private key used for signing the transaction. If not provided, a random key will be generated.\n   * @param {'all'|'none'|'single'} signOutputs - The signature scope for outputs.\n   * @param {boolean} anyoneCanPay - Flag indicating if the signature allows for other inputs to be added later.\n   * @returns {Object} - An object containing the `sign` and `estimateLength` functions.\n   */\n  unlock(\n    k: BigNumber,\n    privateKey: PrivateKey,\n    signOutputs: 'all' | 'none' | 'single' = 'all',\n    anyoneCanPay: boolean = false\n  ): {\n    sign: (tx: Transaction, inputIndex: number) => Promise<UnlockingScript>\n    estimateLength: () => Promise<108>\n  } {\n    return {\n      sign: async (tx: Transaction, inputIndex: number) => {\n        if (typeof privateKey === 'undefined') {\n          privateKey = PrivateKey.fromRandom()\n        }\n        let signatureScope = TransactionSignature.SIGHASH_FORKID\n        if (signOutputs === 'all') {\n          signatureScope |= TransactionSignature.SIGHASH_ALL\n        }\n        if (signOutputs === 'none') {\n          signatureScope |= TransactionSignature.SIGHASH_NONE\n        }\n        if (signOutputs === 'single') {\n          signatureScope |= TransactionSignature.SIGHASH_SINGLE\n        }\n        if (anyoneCanPay) {\n          signatureScope |= TransactionSignature.SIGHASH_ANYONECANPAY\n        }\n        const otherInputs = [...tx.inputs]\n        const [input] = otherInputs.splice(inputIndex, 1)\n        if (typeof input.sourceTransaction !== 'object') {\n          throw new Error(\n            'The source transaction is needed for transaction signing.'\n          )\n        }\n        const preimage = TransactionSignature.format({\n          sourceTXID: input.sourceTransaction?.id('hex') ?? '',\n          sourceOutputIndex: input.sourceOutputIndex ?? 0,\n          sourceSatoshis:\n            input.sourceTransaction?.outputs[input.sourceOutputIndex]\n              ?.satoshis ?? 0,\n          transactionVersion: tx.version,\n          otherInputs,\n          inputIndex,\n          outputs: tx.outputs,\n          inputSequence: input.sequence ?? 0xffffffff,\n          subscript:\n            input.sourceTransaction?.outputs[input.sourceOutputIndex]\n              ?.lockingScript ?? new Script(),\n          lockTime: tx.lockTime,\n          scope: signatureScope\n        })\n\n        const rawSignature = privateKey.sign(\n          sha256(preimage),\n          undefined,\n          true,\n          k\n        )\n        const sig = new TransactionSignature(\n          rawSignature.r,\n          rawSignature.s,\n          signatureScope\n        )\n        const sigForScript = sig.toChecksigFormat()\n        const pubkeyForScript = privateKey\n          .toPublicKey()\n          .encode(true) as number[]\n        return new UnlockingScript([\n          { op: sigForScript.length, data: sigForScript },\n          { op: pubkeyForScript.length, data: pubkeyForScript }\n        ])\n      },\n      estimateLength: async () => {\n        // public key (1+33) + signature (1+73)\n        // Note: We add 1 to each element's length because of the associated OP_PUSH\n        return 108\n      }\n    }\n  }\n}\n","import BigNumber from './BigNumber.js'\nimport { AESGCM, AESGCMDecrypt } from './AESGCM.js'\nimport Random from './Random.js'\nimport { toArray, encode } from './utils.js'\n\n/**\n * `SymmetricKey` is a class that extends the `BigNumber` class and implements symmetric encryption and decryption methods.\n * Symmetric-Key encryption is a form of encryption where the same key is used to encrypt and decrypt the message.\n * It leverages the Advanced Encryption Standard Galois/Counter Mode (AES-GCM) for encryption and decryption of messages.\n *\n * @class SymmetricKey\n * @extends {BigNumber}\n */\nexport default class SymmetricKey extends BigNumber {\n  /**\n   * Generates a symmetric key randomly.\n   *\n   * @method fromRandom\n   * @static\n   * @returns The newly generated Symmetric Key.\n   *\n   * @example\n   * const symmetricKey = SymmetricKey.fromRandom();\n   */\n  static fromRandom (): SymmetricKey {\n    return new SymmetricKey(Random(32))\n  }\n\n  /**\n   * Encrypts a given message using AES-GCM encryption.\n   * The generated Initialization Vector (IV) is attached to the encrypted message for decryption purposes.\n   * The OpenSSL format of |IV|encryptedContent|authTag| is used.\n   *\n   * @method encrypt\n   * @param msg - The message to be encrypted. It can be a string or an array of numbers.\n   * @param enc - optional. The encoding of the message. If hex, the string is assumed to be hex, UTF-8 otherwise.\n   * @returns Returns the encrypted message as a string or an array of numbers, depending on `enc` argument.\n   *\n   * @example\n   * const key = new SymmetricKey(1234);\n   * const encryptedMessage = key.encrypt('plainText', 'utf8');\n   */\n  encrypt (msg: number[] | string, enc?: 'hex'): string | number[] {\n    const iv = Random(32)\n    msg = toArray(msg, enc)\n    const { result, authenticationTag } = AESGCM(\n      msg,\n      [],\n      iv,\n      this.toArray('be', 32)\n    )\n    return encode([...iv, ...result, ...authenticationTag], enc)\n  }\n\n  /**\n   * Decrypts a given AES-GCM encrypted message using the same key that was used for encryption.\n   * The method extracts the IV and the authentication tag from the encrypted message, then attempts to decrypt it.\n   * If the decryption fails (e.g., due to message tampering), an error is thrown.\n   *\n   * @method decrypt\n   * @param msg - The encrypted message to be decrypted. It can be a string or an array of numbers.\n   * @param enc - optional. The encoding of the message (if no encoding is provided, uses utf8 for strings, unless specified as hex).\n   * @returns Returns the decrypted message as a string or an array of numbers, depending on `enc` argument. If absent, an array of numbers is returned.\n   *\n   * @example\n   * const key = new SymmetricKey(1234);\n   * const decryptedMessage = key.decrypt(encryptedMessage, 'utf8');\n   *\n   * @throws {Error} Will throw an error if the decryption fails, likely due to message tampering or incorrect decryption key.\n   */\n  decrypt (msg: number[] | string, enc?: 'hex' | 'utf8'): string | number[] {\n    msg = toArray(msg, enc)\n    const iv = msg.slice(0, 32)\n    const ciphertextWithTag = msg.slice(32)\n    const messageTag = ciphertextWithTag.slice(-16)\n    const ciphertext = ciphertextWithTag.slice(0, -16)\n    const result = AESGCMDecrypt(\n      ciphertext,\n      [],\n      iv,\n      messageTag,\n      this.toArray()\n    )\n    if (result === null) {\n      throw new Error('Decryption failed!')\n    }\n    return encode(result, enc)\n  }\n}\n","import BigNumber from './BigNumber.js'\nimport K256 from './K256.js'\nimport Mersenne from './Mersenne.js'\n\n/**\n * A base reduction engine that provides several arithmetic operations over\n * big numbers under a modulus context. It's particularly suitable for\n * calculations required in cryptography algorithms and encoding schemas.\n *\n * @class ReductionContext\n *\n * @property prime - The prime number utilised in the reduction context, typically an instance of Mersenne class.\n * @property m - The modulus used for reduction operations.\n */\nexport default class ReductionContext {\n  prime: Mersenne | null\n  m: BigNumber\n\n  /**\n   * Constructs a new ReductionContext.\n   *\n   * @constructor\n   * @param m - A BigNumber representing the modulus, or 'k256' to create a context for Koblitz curve.\n   *\n   * @example\n   * new ReductionContext(new BigNumber(11));\n   * new ReductionContext('k256');\n   */\n  constructor (m: BigNumber | 'k256') {\n    if (m === 'k256') {\n      const prime = new K256()\n      this.m = prime.p\n      this.prime = prime\n    } else {\n      this.assert(m.gtn(1), 'modulus must be greater than 1')\n      this.m = m\n      this.prime = null\n    }\n  }\n\n  /**\n   * Asserts that given value is truthy. Throws an Error with a provided message\n   * if the value is falsy.\n   *\n   * @private\n   * @param val - The value to be checked.\n   * @param msg - The error message to be thrown if the value is falsy.\n   *\n   * @example\n   * this.assert(1 < 2, '1 is not less than 2');\n   * this.assert(2 < 1, '2 is less than 1'); // throws an Error with message '2 is less than 1'\n   */\n  private assert (val: unknown, msg: string = 'Assertion failed'): void {\n    if (!(val as boolean)) throw new Error(msg)\n  }\n\n  /**\n   * Verifies that a BigNumber is positive and red. Throws an error if these\n   * conditions are not met.\n   *\n   * @param a - The BigNumber to be verified.\n   *\n   * @example\n   * this.verify1(new BigNumber(10).toRed());\n   * this.verify1(new BigNumber(-10).toRed()); //throws an Error\n   * this.verify1(new BigNumber(10)); //throws an Error\n   */\n  verify1 (a: BigNumber): void {\n    this.assert(a.negative === 0, 'red works only with positives')\n    this.assert(a.red, 'red works only with red numbers')\n  }\n\n  /**\n   * Verifies that two BigNumbers are both positive and red. Also checks\n   * that they have the same reduction context. Throws an error if these\n   * conditions are not met.\n   *\n   * @param a - The first BigNumber to be verified.\n   * @param b - The second BigNumber to be verified.\n   *\n   * @example\n   * this.verify2(new BigNumber(10).toRed(this), new BigNumber(20).toRed(this));\n   * this.verify2(new BigNumber(-10).toRed(this), new BigNumber(20).toRed(this)); //throws an Error\n   * this.verify2(new BigNumber(10).toRed(this), new BigNumber(20)); //throws an Error\n   */\n  verify2 (a: BigNumber, b: BigNumber): void {\n    this.assert(\n      (a.negative | b.negative) === 0,\n      'red works only with positives'\n    )\n    this.assert(\n      a.red != null && a.red === b.red,\n      'red works only with red numbers'\n    )\n  }\n\n  /**\n   * Performs an in-place reduction of the given BigNumber by the modulus of the reduction context, 'm'.\n   *\n   * @method imod\n   *\n   * @param a - BigNumber to be reduced.\n   *\n   * @returns Returns the reduced result.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * context.imod(new BigNumber(19)); // Returns 5\n   */\n  imod (a: BigNumber): BigNumber {\n    if (this.prime != null) return this.prime.ireduce(a).forceRed(this)\n\n    BigNumber.move(a, a.umod(this.m).forceRed(this))\n    return a\n  }\n\n  /**\n   * Negates a BigNumber in the context of the modulus.\n   *\n   * @method neg\n   *\n   * @param a - BigNumber to negate.\n   *\n   * @returns Returns the negation of 'a' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * context.neg(new BigNumber(3)); // Returns 4\n   */\n  neg (a: BigNumber): BigNumber {\n    if (a.isZero()) {\n      return a.clone()\n    }\n\n    return this.m.sub(a).forceRed(this)\n  }\n\n  /**\n   * Performs the addition operation on two BigNumbers in the reduction context.\n   *\n   * @method add\n   *\n   * @param a - First BigNumber to add.\n   * @param b - Second BigNumber to add.\n   *\n   * @returns Returns the result of 'a + b' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(5));\n   * context.add(new BigNumber(2), new BigNumber(4)); // Returns 1\n   */\n  add (a: BigNumber, b: BigNumber): BigNumber {\n    this.verify2(a, b)\n\n    const res = a.add(b)\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m)\n    }\n    return res.forceRed(this)\n  }\n\n  /**\n   * Performs an in-place addition operation on two BigNumbers in the reduction context\n   * in order to avoid creating a new BigNumber, it modifies the first one with the result.\n   *\n   * @method iadd\n   *\n   * @param a - First BigNumber to add.\n   * @param b - Second BigNumber to add.\n   *\n   * @returns Returns the modified 'a' after addition with 'b' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(5));\n   * const a = new BigNumber(2);\n   * context.iadd(a, new BigNumber(4)); // Modifies 'a' to be 1\n   */\n  iadd (a: BigNumber, b: BigNumber): BigNumber {\n    this.verify2(a, b)\n\n    const res = a.iadd(b)\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m)\n    }\n    return res\n  }\n\n  /**\n   * Subtracts one BigNumber from another BigNumber in the reduction context.\n   *\n   * @method sub\n   *\n   * @param a - BigNumber to be subtracted from.\n   * @param b - BigNumber to subtract.\n   *\n   * @returns Returns the result of 'a - b' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * context.sub(new BigNumber(3), new BigNumber(2)); // Returns 1\n   */\n  sub (a: BigNumber, b: BigNumber): BigNumber {\n    this.verify2(a, b)\n\n    const res = a.sub(b)\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m)\n    }\n    return res.forceRed(this)\n  }\n\n  /**\n   * Performs in-place subtraction of one BigNumber from another in the reduction context,\n   * it modifies the first BigNumber with the result.\n   *\n   * @method isub\n   *\n   * @param a - BigNumber to be subtracted from.\n   * @param b - BigNumber to subtract.\n   *\n   * @returns Returns the modified 'a' after subtraction of 'b' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(5));\n   * const a = new BigNumber(4);\n   * context.isub(a, new BigNumber(2)); // Modifies 'a' to be 2\n   */\n  isub (a: BigNumber, b: BigNumber): BigNumber {\n    this.verify2(a, b)\n\n    const res = a.isub(b)\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m)\n    }\n    return res\n  }\n\n  /**\n   * Performs bitwise shift left operation on a BigNumber in the reduction context.\n   *\n   * @method shl\n   *\n   * @param a - BigNumber to perform shift on.\n   * @param num - The number of positions to shift.\n   *\n   * @returns Returns the result of shifting 'a' left by 'num' positions in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(32));\n   * context.shl(new BigNumber(4), 2); // Returns 16\n   */\n  shl (a: BigNumber, num: number): BigNumber {\n    this.verify1(a)\n    return this.imod(a.ushln(num))\n  }\n\n  /**\n   * Performs in-place multiplication of two BigNumbers in the reduction context,\n   * modifying the first BigNumber with the result.\n   *\n   * @method imul\n   *\n   * @param a - First BigNumber to multiply.\n   * @param b - Second BigNumber to multiply.\n   *\n   * @returns Returns the modified 'a' after multiplication with 'b' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * const a = new BigNumber(3);\n   * context.imul(a, new BigNumber(2)); // Modifies 'a' to be 6\n   */\n  imul (a: BigNumber, b: BigNumber): BigNumber {\n    this.verify2(a, b)\n    return this.imod(a.imul(b))\n  }\n\n  /**\n   * Multiplies two BigNumbers in the reduction context.\n   *\n   * @method mul\n   *\n   * @param a - First BigNumber to multiply.\n   * @param b - Second BigNumber to multiply.\n   *\n   * @returns Returns the result of 'a * b' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * context.mul(new BigNumber(3), new BigNumber(2)); // Returns 6\n   */\n  mul (a: BigNumber, b: BigNumber): BigNumber {\n    this.verify2(a, b)\n    return this.imod(a.mul(b))\n  }\n\n  /**\n   * Calculates the square of a BigNumber in the reduction context,\n   * modifying the original BigNumber with the result.\n   *\n   * @method isqr\n   *\n   * @param a - BigNumber to be squared.\n   *\n   * @returns Returns the squared 'a' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * const a = new BigNumber(3);\n   * context.isqr(a); // Modifies 'a' to be 2 (9 % 7 = 2)\n   */\n  isqr (a: BigNumber): BigNumber {\n    return this.imul(a, a.clone())\n  }\n\n  /**\n   * Calculates the square of a BigNumber in the reduction context.\n   *\n   * @method sqr\n   *\n   * @param a - BigNumber to be squared.\n   *\n   * @returns Returns the result of 'a^2' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * context.sqr(new BigNumber(3)); // Returns 2 (9 % 7 = 2)\n   */\n  sqr (a: BigNumber): BigNumber {\n    return this.mul(a, a)\n  }\n\n  /**\n   * Calculates the square root of a BigNumber in the reduction context.\n   *\n   * @method sqrt\n   *\n   * @param a - The BigNumber to calculate the square root of.\n   *\n   * @returns Returns the square root of 'a' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(9));\n   * context.sqrt(new BigNumber(4)); // Returns 2\n   */\n  sqrt (a: BigNumber): BigNumber {\n    if (a.isZero()) return a.clone()\n\n    const mod3 = this.m.andln(3)\n    this.assert(mod3 % 2 === 1)\n\n    // Fast case\n    if (mod3 === 3) {\n      const pow = this.m.add(new BigNumber(1)).iushrn(2)\n      return this.pow(a, pow)\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    const q = this.m.subn(1)\n    let s = 0\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++\n      q.iushrn(1)\n    }\n    this.assert(!q.isZero())\n\n    const one = new BigNumber(1).toRed(this)\n    const nOne = one.redNeg()\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    const lpow = this.m.subn(1).iushrn(1)\n    const zl = this.m.bitLength()\n    const z = new BigNumber(2 * zl * zl).toRed(this)\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne)\n    }\n\n    let c = this.pow(z, q)\n    let r = this.pow(a, q.addn(1).iushrn(1))\n    let t = this.pow(a, q)\n    let m = s\n    while (t.cmp(one) !== 0) {\n      let tmp = t\n      let i = 0\n      for (; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr()\n      }\n      this.assert(i < m)\n      const b = this.pow(c, new BigNumber(1).iushln(m - i - 1))\n\n      r = r.redMul(b)\n      c = b.redSqr()\n      t = t.redMul(c)\n      m = i\n    }\n\n    return r\n  }\n\n  /**\n   * Calculates the multiplicative inverse of a BigNumber in the reduction context.\n   *\n   * @method invm\n   *\n   * @param a - The BigNumber to find the multiplicative inverse of.\n   *\n   * @returns Returns the multiplicative inverse of 'a' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(11));\n   * context.invm(new BigNumber(3)); // Returns 4 (3*4 mod 11 = 1)\n   */\n  invm (a: BigNumber): BigNumber {\n    const inv = a._invmp(this.m)\n    if (inv.negative !== 0) {\n      inv.negative = 0\n      return this.imod(inv).redNeg()\n    } else {\n      return this.imod(inv)\n    }\n  }\n\n  /**\n   * Raises a BigNumber to a power in the reduction context.\n   *\n   * @method pow\n   *\n   * @param a - The BigNumber to be raised to a power.\n   * @param num - The power to raise the BigNumber to.\n   *\n   * @returns Returns the result of 'a' raised to the power of 'num' in the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * context.pow(new BigNumber(3), new BigNumber(2)); // Returns 2 (3^2 % 7)\n   */\n  pow (a: BigNumber, num: BigNumber): BigNumber {\n    if (num.isZero()) return new BigNumber(1).toRed(this)\n    if (num.cmpn(1) === 0) return a.clone()\n\n    const windowSize = 4\n    const wnd = new Array(1 << windowSize)\n    wnd[0] = new BigNumber(1).toRed(this)\n    wnd[1] = a\n    let i = 2\n    for (; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a)\n    }\n\n    let res = wnd[0]\n    let current = 0\n    let currentLen = 0\n    let start = num.bitLength() % 26\n    if (start === 0) {\n      start = 26\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      const word = num.words[i]\n      for (let j = start - 1; j >= 0; j--) {\n        const bit = (word >> j) & 1\n        if (res !== wnd[0]) {\n          res = this.sqr(res)\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0\n          continue\n        }\n\n        current <<= 1\n        current |= bit\n        currentLen++\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue\n\n        res = this.mul(res, wnd[current])\n        currentLen = 0\n        current = 0\n      }\n      start = 26\n    }\n\n    return res\n  }\n\n  /**\n   * Converts a BigNumber to its equivalent in the reduction context.\n   *\n   * @method convertTo\n   *\n   * @param num - The BigNumber to convert to the reduction context.\n   *\n   * @returns Returns the converted BigNumber compatible with the reduction context.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * context.convertTo(new BigNumber(8)); // Returns 1 (8 % 7)\n   */\n  convertTo (num: BigNumber): BigNumber {\n    const r = num.umod(this.m)\n\n    return r === num ? r.clone() : r\n  }\n\n  /**\n   * Converts a BigNumber from reduction context to its regular form.\n   *\n   * @method convertFrom\n   *\n   * @param num - The BigNumber to convert from the reduction context.\n   *\n   * @returns Returns the converted BigNumber in its regular form.\n   *\n   * @example\n   * const context = new ReductionContext(new BigNumber(7));\n   * const a = context.convertTo(new BigNumber(8)); // 'a' is now 1 in the reduction context\n   * context.convertFrom(a); // Returns 1\n   */\n  convertFrom (num: BigNumber): BigNumber {\n    const res = num.clone()\n    res.red = null\n    return res\n  }\n}\n","import Mersenne from './Mersenne.js'\nimport BigNumber from './BigNumber.js'\n\n/**\n * A class representing K-256, a prime number with optimizations, specifically used in the secp256k1 curve.\n * It extends the functionalities of the Mersenne class.\n * K-256 prime is represented as 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f'\n *\n * @class K256\n * @extends {Mersenne}\n *\n * @example\n * const k256 = new K256();\n */\nexport default class K256 extends Mersenne {\n  /**\n   * Constructor for the K256 class.\n   * Creates an instance of K256 using the super constructor from Mersenne.\n   *\n   * @constructor\n   *\n   * @example\n   * const k256 = new K256();\n   */\n  constructor () {\n    super(\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f'\n    )\n  }\n\n  /**\n   * Splits a BigNumber into a new BigNumber based on specific computation\n   * rules. This method modifies the input and output big numbers.\n   *\n   * @method split\n   * @param input - The BigNumber to be split.\n   * @param output - The BigNumber that results from the split.\n   *\n   * @example\n   * const input = new BigNumber(3456);\n   * const output = new BigNumber(0);\n   * k256.split(input, output);\n   */\n  split (input: BigNumber, output: BigNumber): void {\n    const mask = 0x3fffff // 22 bits\n    const inputWords = input.words // Access via getter\n    const inputNominalLength = input.length // Access via getter, respects _nominalWordLength\n\n    const outLen = Math.min(inputNominalLength, 9)\n    const tempOutputWords = new Array(outLen + (inputNominalLength > 9 ? 1 : 0)).fill(0)\n\n    for (let i = 0; i < outLen; i++) {\n      tempOutputWords[i] = inputWords[i]\n    }\n    let currentOutputWordCount = outLen\n\n    if (inputNominalLength <= 9) {\n      const finalOutputWords = new Array(currentOutputWordCount)\n      for (let i = 0; i < currentOutputWordCount; ++i) finalOutputWords[i] = tempOutputWords[i]\n      output.words = finalOutputWords // Use setter\n\n      input.words = [0] // Use setter to set to 0\n      return\n    }\n\n    // Shift by 9 limbs\n    let prev = inputWords[9]\n    tempOutputWords[currentOutputWordCount++] = prev & mask\n\n    const finalOutputWords = new Array(currentOutputWordCount)\n    for (let i = 0; i < currentOutputWordCount; ++i) finalOutputWords[i] = tempOutputWords[i]\n    output.words = finalOutputWords // Use setter for output\n\n    // For input modification\n    const tempInputNewWords = new Array(Math.max(1, inputNominalLength - 9)).fill(0)\n    let currentInputNewWordCount = 0\n\n    for (let i = 10; i < inputNominalLength; i++) {\n      const next = inputWords[i] | 0\n      if (currentInputNewWordCount < tempInputNewWords.length) { // Boundary check\n        tempInputNewWords[currentInputNewWordCount++] = ((next & mask) << 4) | (prev >>> 22)\n      }\n      prev = next\n    }\n    prev >>>= 22\n    if (currentInputNewWordCount < tempInputNewWords.length) { // Boundary check\n      tempInputNewWords[currentInputNewWordCount++] = prev\n    } else if (prev !== 0 && tempInputNewWords.length > 0) { // If prev is non-zero but no space, this is an issue.\n      // This case implies original logic might have relied on array auto-expansion or specific length handling\n      // For safety, if there's still a carry and no space, the array should have been bigger.\n      // However, the original logic `input.length -= 9` suggests truncation.\n    }\n\n    const finalInputNewWords = new Array(currentInputNewWordCount)\n    for (let i = 0; i < currentInputNewWordCount; ++i) finalInputNewWords[i] = tempInputNewWords[i]\n    input.words = finalInputNewWords // Use setter, which will strip and set magnitude\n  }\n\n  /**\n   * Multiplies a BigNumber ('num') with the constant 'K' in-place and returns the result.\n   * 'K' is equal to 0x1000003d1 or in decimal representation: [ 64, 977 ].\n   *\n   * @method imulK\n   * @param num - The BigNumber to multiply with K.\n   * @returns Returns the mutated BigNumber after multiplication.\n   *\n   * @example\n   * const number = new BigNumber(12345);\n   * const result = k256.imulK(number);\n   */\n  imulK (num: BigNumber): BigNumber {\n    const currentWords = num.words // Get current words based on _magnitude and _nominalWordLength\n    const originalNominalLength = num.length // Getter\n\n    const newNominalLength = originalNominalLength + 2\n    const tempWords = new Array(newNominalLength).fill(0)\n\n    for (let i = 0; i < originalNominalLength; i++) {\n      tempWords[i] = currentWords[i]\n    }\n    // tempWords is now effectively num.words expanded with zeroes\n\n    let lo = 0\n    for (let i = 0; i < newNominalLength; i++) { // Iterate up to new expanded length\n      const w = tempWords[i] | 0\n      lo += w * 0x3d1 // 0x3d1 = 977\n      tempWords[i] = lo & 0x3ffffff // 26-bit mask\n      lo = w * 0x40 + ((lo / 0x4000000) | 0) // 0x40 = 64. 0x4000000 = 2^26\n    }\n\n    num.words = tempWords // Use setter to re-initialize from tempWords\n    // The setter will handle _magnitude, _sign, _nominalWordLength, and strip.\n    return num\n  }\n}\n","import BigNumber from './BigNumber.js'\n\n/**\n * A representation of a pseudo-Mersenne prime.\n * A pseudo-Mersenne prime has the general form 2^n - k, where n and k are integers.\n *\n * @class Mersenne\n *\n * @property name - The identifier for the Mersenne instance.\n * @property p - BigNumber equivalent to 2^n - k.\n * @property k - The constant subtracted from 2^n to derive a pseudo-Mersenne prime.\n * @property n - The exponent which determines the magnitude of the prime.\n */\nexport default class Mersenne {\n  name: string\n  p: BigNumber\n  k: BigNumber\n  n: number\n  private readonly tmp: BigNumber\n\n  /**\n   * @constructor\n   * @param name - An identifier for the Mersenne instance.\n   * @param p - A string representation of the pseudo-Mersenne prime, expressed in hexadecimal.\n   *\n   * @example\n   * const mersenne = new Mersenne('M31', '7FFFFFFF');\n   */\n  constructor (name: string, p: string) {\n    // P = 2 ^ N - K\n    this.name = name\n    this.p = new BigNumber(p, 16)\n    this.n = this.p.bitLength()\n    this.k = new BigNumber(BigInt(1)).iushln(this.n).isub(this.p) // Use 1n for BigInt compatibility\n\n    this.tmp = this._tmp()\n  }\n\n  /**\n   * Creates a temporary BigNumber structure for computations,\n   * ensuring the appropriate number of words are initially allocated.\n   *\n   * @method _tmp\n   * @returns A BigNumber with scaled size depending on prime magnitude.\n   */\n  private _tmp (): BigNumber {\n    const tmp = new BigNumber(BigInt(0)) // Initialize with BigInt 0\n    const requiredWords = Math.ceil(this.n / BigNumber.wordSize)\n    tmp.expand(Math.max(1, requiredWords)) // Expand sets _nominalWordLength\n    return tmp\n  }\n\n  /**\n   * Reduces an input BigNumber in place, under the assumption that\n   * it is less than the square of the pseudo-Mersenne prime.\n   *\n   * @method ireduce\n   * @param num - The BigNumber to be reduced.\n   * @returns The reduced BigNumber.\n   *\n   * @example\n   * const reduced = mersenne.ireduce(new BigNumber('2345', 16));\n   */\n  ireduce (num: BigNumber): BigNumber {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    const r = num // num is directly modified\n    let rlen\n\n    do {\n      this.split(r, this.tmp) // r is modified (becomes HI), this.tmp becomes LO\n      this.imulK(r) // r becomes HI * K\n      r.iadd(this.tmp) // r becomes HI * K + LO\n      rlen = r.bitLength()\n    } while (rlen > this.n)\n\n    const cmp = rlen < this.n ? -1 : r.ucmp(this.p)\n    if (cmp === 0) {\n      r.words = [0] // Set to zero using the words setter\n    } else if (cmp > 0) {\n      r.isub(this.p)\n    }\n    // No explicit strip needed here if operations maintain correctness and setter handles it.\n    // However, ensuring it's stripped to minimal form after reduction is good.\n    r.strip()\n    return r\n  }\n\n  /**\n   * Shifts bits of the input BigNumber to the right, in place,\n   * to meet the magnitude of the pseudo-Mersenne prime.\n   *\n   * @method split\n   * @param input - The BigNumber to be shifted (will contain HI part).\n   * @param out - The BigNumber to hold the shifted result (LO part).\n   *\n   * @example\n   * mersenne.split(new BigNumber('2345', 16), new BigNumber());\n   */\n  split (input: BigNumber, out: BigNumber): void {\n    // out gets the LO bits (shifted out part)\n    // input gets modified to be the HI bits (remaining part after shift)\n    input.iushrn(this.n, 0, out)\n  }\n\n  /**\n   * Performs an in-place multiplication of the parameter by constant k.\n   *\n   * @method imulK\n   * @param num - The BigNumber to multiply with k.\n   * @returns The result of the multiplication, in BigNumber format.\n   *\n   * @example\n   * const multiplied = mersenne.imulK(new BigNumber('2345', 16));\n   */\n  imulK (num: BigNumber): BigNumber {\n    return num.imul(this.k)\n  }\n}\n","import {\n  Base64String,\n  CertificateFieldNameUnder50Bytes,\n  HexString,\n  OutpointString,\n  PubKeyHex,\n  WalletCounterparty,\n} from '../../wallet/Wallet.interfaces.js'\nimport Certificate from './Certificate.js'\nimport * as Utils from '../../primitives/utils.js'\nimport SymmetricKey from '../../primitives/SymmetricKey.js'\nimport Random from '../../primitives/Random.js'\nimport ProtoWallet from '../../wallet/ProtoWallet.js'\n\ninterface CreateCertificateFieldsResult {\n  certificateFields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  masterKeyring: Record<CertificateFieldNameUnder50Bytes, Base64String>\n}\n\n/**\n * MasterCertificate extends the base Certificate class to manage a master keyring, enabling the creation of verifiable certificates.\n *\n * It allows for the selective disclosure of certificate fields by creating a `VerifiableCertificate` for a specific verifier.\n * The `MasterCertificate` can securely decrypt each master key and re-encrypt it for a verifier, creating a customized\n * keyring containing only the keys necessary for the verifier to access designated fields.\n *\n */\nexport class MasterCertificate extends Certificate {\n  declare type: Base64String\n  declare serialNumber: Base64String\n  declare subject: PubKeyHex\n  declare certifier: PubKeyHex\n  declare revocationOutpoint: OutpointString\n  declare fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  declare signature?: HexString\n\n  masterKeyring: Record<CertificateFieldNameUnder50Bytes, Base64String>\n\n  constructor(\n    type: Base64String,\n    serialNumber: Base64String,\n    subject: PubKeyHex,\n    certifier: PubKeyHex,\n    revocationOutpoint: OutpointString,\n    fields: Record<CertificateFieldNameUnder50Bytes, Base64String>,\n    masterKeyring: Record<CertificateFieldNameUnder50Bytes, Base64String>,\n    signature?: HexString\n  ) {\n    super(\n      type,\n      serialNumber,\n      subject,\n      certifier,\n      revocationOutpoint,\n      fields,\n      signature\n    )\n\n    // Ensure every field in `fields` is a string and has a corresponding key in `masterKeyring`\n    for (const fieldName of Object.keys(fields)) {\n      if (masterKeyring[fieldName] === undefined || masterKeyring[fieldName] === '') {\n        throw new Error(\n          `Master keyring must contain a value for every field. Missing or empty key for field: \"${fieldName}\".`\n        )\n      }\n    }\n\n    this.masterKeyring = masterKeyring\n  }\n\n  /**\n   * Encrypts certificate fields for a subject and generates a master keyring.\n   * This method returns a master keyring tied to a specific certifier or subject who will validate\n   * and sign off on the fields, along with the encrypted certificate fields.\n   *\n   * @param {ProtoWallet} creatorWallet - The wallet of the creator responsible for encrypting the fields.\n   * @param {WalletCounterparty} certifierOrSubject - The certifier or subject who will validate the certificate fields.\n   * @param {Record<CertificateFieldNameUnder50Bytes, string>} fields - A record of certificate field names (under 50 bytes) mapped to their values.\n   * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n   * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.   * \n   * @returns {Promise<CreateCertificateFieldsResult>} A promise resolving to an object containing:\n   *   - `certificateFields` {Record<CertificateFieldNameUnder50Bytes, Base64String>}:\n   *     The encrypted certificate fields.\n   *   - `masterKeyring` {Record<CertificateFieldNameUnder50Bytes, Base64String>}:\n   *     The master keyring containing encrypted revelation keys for each field.\n   */\n  static async createCertificateFields(\n    creatorWallet: ProtoWallet,\n    certifierOrSubject: WalletCounterparty,\n    fields: Record<CertificateFieldNameUnder50Bytes, string>,\n    privileged?: boolean,\n    privilegedReason?: string\n  ): Promise<CreateCertificateFieldsResult> {\n    const certificateFields: Record<\n      CertificateFieldNameUnder50Bytes,\n      Base64String\n    > = {}\n    const masterKeyring: Record<\n      CertificateFieldNameUnder50Bytes,\n      Base64String\n    > = {}\n    for (const [fieldName, fieldValue] of Object.entries(fields)) {\n      const fieldSymmetricKey = SymmetricKey.fromRandom()\n      const encryptedFieldValue = fieldSymmetricKey.encrypt(\n        Utils.toArray(fieldValue, 'utf8')\n      )\n      certificateFields[fieldName] = Utils.toBase64(\n        encryptedFieldValue as number[]\n      )\n\n      const { ciphertext: encryptedFieldRevelationKey } =\n        await creatorWallet.encrypt(\n          {\n            plaintext: fieldSymmetricKey.toArray(),\n            ...Certificate.getCertificateFieldEncryptionDetails(fieldName), // Only fieldName used on MasterCertificate\n            counterparty: certifierOrSubject,\n            privileged,\n            privilegedReason\n          }\n        )\n      masterKeyring[fieldName] = Utils.toBase64(encryptedFieldRevelationKey)\n    }\n\n    return {\n      certificateFields,\n      masterKeyring\n    }\n  }\n\n  /**\n   * Creates a keyring for a verifier, enabling them to decrypt specific certificate fields.\n   * This method decrypts the master field keys for the specified fields and re-encrypts them\n   * for the verifier's identity key. The result is a keyring containing the keys necessary\n   * for the verifier to access the designated fields.\n   *\n   * @param {ProtoWallet} subjectWallet - The wallet instance of the subject, used to decrypt and re-encrypt field keys.\n   * @param {WalletCounterparty} verifier - The verifier who will receive access to the selectively revealed fields. Can be an identity key as hex, 'anyone', or 'self'.\n   * @param {string[]} fieldsToReveal - An array of field names to be revealed to the verifier. Must be a subset of the certificate's fields.\n   * @param {string} [originator] - Optional originator identifier, used if additional context is needed for decryption and encryption operations.\n   * @returns {Promise<Record<CertificateFieldNameUnder50Bytes, string>>} - A keyring mapping field names to encrypted field revelation keys, allowing the verifier to decrypt specified fields.\n   * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n   * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.   * \n   * @throws {Error} Throws an error if:\n   *   - fieldsToReveal is not an array of strings.\n   *   - A field in `fieldsToReveal` does not exist in the certificate.\n   *   - The decrypted master field key fails to decrypt the corresponding field (indicating an invalid key).\n   */\n  static async createKeyringForVerifier(\n    subjectWallet: ProtoWallet,\n    certifier: WalletCounterparty,\n    verifier: WalletCounterparty,\n    fields: Record<CertificateFieldNameUnder50Bytes, Base64String>,\n    fieldsToReveal: string[],\n    masterKeyring: Record<CertificateFieldNameUnder50Bytes, Base64String>,\n    serialNumber: Base64String,\n    privileged?: boolean,\n    privilegedReason?: string\n  ): Promise<Record<CertificateFieldNameUnder50Bytes, string>> {\n    if (!Array.isArray(fieldsToReveal)) {\n      throw new Error('fieldsToReveal must be an array of strings')\n    }\n    const fieldRevelationKeyring = {}\n    for (const fieldName of fieldsToReveal) {\n      // Make sure that fields to reveal is a subset of the certificate fields\n      if (fields[fieldName] === undefined || fields[fieldName] === null || fields[fieldName] === '') {\n        throw new Error(\n          `Fields to reveal must be a subset of the certificate fields. Missing the \"${fieldName}\" field.`\n        )\n      }\n\n      // Decrypt the master field key and verify that derived key actually decrypts requested field\n      const masterFieldKey = (\n        await this.decryptField(\n          subjectWallet,\n          masterKeyring,\n          fieldName,\n          fields[fieldName],\n          certifier,\n          privileged,\n          privilegedReason\n        )\n      ).fieldRevelationKey\n\n      // Encrypt derived fieldRevelationKey for verifier\n      const { ciphertext: encryptedFieldRevelationKey } =\n        await subjectWallet.encrypt(\n          {\n            plaintext: masterFieldKey,\n            ...Certificate.getCertificateFieldEncryptionDetails(\n              fieldName,\n              serialNumber\n            ),\n            counterparty: verifier,\n            privileged,\n            privilegedReason\n          }\n        )\n\n      // Add encryptedFieldRevelationKey to fieldRevelationKeyring\n      fieldRevelationKeyring[fieldName] = Utils.toBase64(\n        encryptedFieldRevelationKey\n      )\n    }\n\n    // Return the field revelation keyring which can be used to create a verifiable certificate for a verifier.\n    return fieldRevelationKeyring\n  }\n\n  /**\n   * Issues a new MasterCertificate for a specified subject.\n   *\n   * This method generates a certificate containing encrypted fields and a keyring\n   * for the subject to decrypt all fields. Each field is encrypted with a randomly\n   * generated symmetric key, which is then encrypted for the subject. The certificate\n   * can also includes a revocation outpoint to manage potential revocation.\n   *\n   * @param {ProtoWallet} certifierWallet - The wallet of the certifier, used to sign the certificate and encrypt field keys.\n   * @param {WalletCounterparty} subject - The subject for whom the certificate is issued.\n   * @param {Record<CertificateFieldNameUnder50Bytes, string>} fields - Unencrypted certificate fields to include, with their names and values.\n   * @param {string} certificateType - The type of certificate being issued.\n   * @param {function(string, Record<CertificateFieldNameUnder50Bytes, string>?): Promise<string>} getRevocationOutpoint -\n   *   Optional function to obtain a revocation outpoint for the certificate. Defaults to a placeholder.\n   * @param {function(string): Promise<void>} updateProgress - Optional callback for reporting progress updates during the operation. Defaults to a no-op.\n   * @returns {Promise<MasterCertificate>} - A signed MasterCertificate instance containing the encrypted fields and subject specific keyring.\n   *\n   * @throws {Error} Throws an error if any operation (e.g., encryption, signing) fails during certificate issuance.\n   */\n  static async issueCertificateForSubject(\n    certifierWallet: ProtoWallet,\n    subject: WalletCounterparty,\n    fields: Record<CertificateFieldNameUnder50Bytes, string>,\n    certificateType: string,\n    getRevocationOutpoint = async (_serial: string): Promise<string> => {\n      void _serial // Explicitly acknowledge unused parameter\n      return 'Certificate revocation not tracked.'\n    },\n    serialNumber?: string\n  ): Promise<MasterCertificate> {\n    // 1. Generate a random serialNumber if not provided\n    const finalSerialNumber = serialNumber ?? Utils.toBase64(Random(32))\n\n    // 2. Create encrypted certificate fields and associated master keyring\n    const { certificateFields, masterKeyring } =\n      await this.createCertificateFields(certifierWallet, subject, fields)\n\n    // 3. Obtain a revocation outpoint\n    const revocationOutpoint = await getRevocationOutpoint(finalSerialNumber)\n\n    // 4. Create new MasterCertificate instance\n    const certificate = new MasterCertificate(\n      certificateType,\n      finalSerialNumber,\n      subject,\n      (await certifierWallet.getPublicKey({ identityKey: true })).publicKey,\n      revocationOutpoint,\n      certificateFields,\n      masterKeyring\n    )\n\n    // 5. Sign and return the new MasterCertificate certifying the subject.\n    await certificate.sign(certifierWallet)\n    return certificate\n  }\n\n  /**\n   * Decrypts all fields in the MasterCertificate using the subject's or certifier's wallet.\n   *\n   * This method allows the subject or certifier to decrypt the `masterKeyring` and retrieve\n   * the encryption keys for each field, which are then used to decrypt the corresponding field values.\n   * The counterparty used for decryption depends on how the certificate fields were created:\n   * - If the certificate is self-signed, the counterparty should be set to 'self'.\n   * - Otherwise, the counterparty should always be the other party involved in the certificate issuance process (the subject or certifier).\n   *\n   * @param {ProtoWallet} subjectOrCertifierWallet - The wallet of the subject or certifier, used to decrypt the master keyring and field values.\n   * @param {Record<CertificateFieldNameUnder50Bytes, Base64String>} masterKeyring - A record containing encrypted keys for each field.\n   * @param {Record<CertificateFieldNameUnder50Bytes, Base64String>} fields - A record of encrypted field names and their values.\n   * @param {WalletCounterparty} counterparty - The counterparty responsible for creating or signing the certificate. For self-signed certificates, use 'self'.\n   * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n   * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.\n   * @returns {Promise<Record<CertificateFieldNameUnder50Bytes, string>>} A promise resolving to a record of field names and their decrypted values in plaintext.\n   *\n   * @throws {Error} Throws an error if the `masterKeyring` is invalid or if decryption fails for any field.\n   */\n  static async decryptFields(\n    subjectOrCertifierWallet: ProtoWallet,\n    masterKeyring: Record<CertificateFieldNameUnder50Bytes, Base64String>,\n    fields: Record<CertificateFieldNameUnder50Bytes, Base64String>,\n    counterparty: WalletCounterparty,\n    privileged?: boolean,\n    privilegedReason?: string\n  ): Promise<Record<CertificateFieldNameUnder50Bytes, string>> {\n    if (masterKeyring == null || Object.keys(masterKeyring).length === 0) {\n      throw new Error('A MasterCertificate must have a valid masterKeyring!')\n    }\n    try {\n      const decryptedFields: Record<CertificateFieldNameUnder50Bytes, string> =\n        {}\n      // Note: we want to iterate through all fields, not just masterKeyring keys/value pairs.\n      for (const fieldName of Object.keys(fields)) {\n        decryptedFields[fieldName] = (\n          await this.decryptField(\n            subjectOrCertifierWallet,\n            masterKeyring,\n            fieldName,\n            fields[fieldName],\n            counterparty,\n            privileged,\n            privilegedReason\n          )\n        ).decryptedFieldValue\n      }\n      return decryptedFields\n    } catch {\n      throw new Error('Failed to decrypt all master certificate fields.')\n    }\n  }\n\n  static async decryptField(\n    subjectOrCertifierWallet: ProtoWallet,\n    masterKeyring: Record<CertificateFieldNameUnder50Bytes, Base64String>,\n    fieldName: Base64String,\n    fieldValue: Base64String,\n    counterparty: WalletCounterparty,\n    privileged?: boolean,\n    privilegedReason?: string\n  ): Promise<{ fieldRevelationKey: number[], decryptedFieldValue: string }> {\n    if (masterKeyring == null || Object.keys(masterKeyring).length === 0) {\n      throw new Error('A MasterCertificate must have a valid masterKeyring!')\n    }\n    try {\n      const { plaintext: fieldRevelationKey } =\n        await subjectOrCertifierWallet.decrypt(\n          {\n            ciphertext: Utils.toArray(masterKeyring[fieldName], 'base64'),\n            ...Certificate.getCertificateFieldEncryptionDetails(fieldName), // Only fieldName used on MasterCertificate\n            counterparty,\n            privileged,\n            privilegedReason\n          }\n        )\n\n      const decryptedFieldValue = new SymmetricKey(fieldRevelationKey).decrypt(\n        Utils.toArray(fieldValue, 'base64')\n      )\n      return {\n        fieldRevelationKey,\n        decryptedFieldValue: Utils.toUTF8(decryptedFieldValue as number[])\n      }\n    } catch {\n      throw new Error('Failed to decrypt certificate field!')\n    }\n  }\n}\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/types.ts","import {\n  HttpClient,\n  HttpClientRequestOptions,\n  HttpClientResponse\n} from './HttpClient.js'\n\n/** fetch function interface limited to options needed by ts-sdk */\n/**\n * Makes a request to the server.\n * @param url The URL to make the request to.\n * @param options The request configuration.\n */\nexport type Fetch = (url: string, options: FetchOptions) => Promise<Response>\n\n/**\n * An interface for configuration of the request to be passed to the fetch method\n * limited to options needed by ts-sdk.\n */\nexport interface FetchOptions {\n  /** A string to set request's method. */\n  method?: string\n  /** An object literal set request's headers. */\n  headers?: Record<string, string>\n  /** An object or null to set request's body. */\n  body?: string | null\n}\n\n/**\n * Adapter for Node Https module to be used as HttpClient\n */\nexport class FetchHttpClient implements HttpClient {\n  constructor(private readonly fetch: Fetch) { }\n\n  async request<D>(\n    url: string,\n    options: HttpClientRequestOptions\n  ): Promise<HttpClientResponse<D>> {\n    const fetchOptions: FetchOptions = {\n      method: options.method,\n      headers: options.headers,\n      body: JSON.stringify(options.data)\n    }\n\n    const res = await this.fetch(url, fetchOptions)\n    const mediaType = res.headers.get('Content-Type')\n    const data = mediaType?.startsWith('application/json') ?? false\n      ? await res.json()\n      : await res.text()\n\n    return {\n      ok: res.ok,\n      status: res.status,\n      statusText: res.statusText,\n      data: data as D\n    }\n  }\n}\n","// import { AESWrappercbc } from './aescbc'\nimport Random from '../primitives/Random.js'\nimport PrivateKey from '../primitives/PrivateKey.js'\nimport PublicKey from '../primitives/PublicKey.js'\nimport Point from '../primitives/Point.js'\nimport * as Hash from '../primitives/Hash.js'\nimport { toArray, toHex, encode } from '../primitives/utils.js'\n\nfunction AES (key): void {\n  if (this._tables[0][0][0] === 0) this._precompute()\n\n  let tmp, encKey, decKey\n  const sbox = this._tables[0][4]\n  const decTable = this._tables[1]\n  const keyLen = key.length\n  let rcon = 1\n\n  if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n    throw new Error('invalid aes key size')\n  }\n\n  this._key = [(encKey = key.slice(0)), (decKey = [])]\n\n  // schedule encryption keys\n  let i: number\n  for (i = keyLen; i < 4 * keyLen + 28; i++) {\n    tmp = encKey[i - 1]\n\n    // apply sbox\n    if (i % keyLen === 0 || (keyLen === 8 && i % keyLen === 4)) {\n      tmp =\n        (sbox[tmp >>> 24] << 24) ^\n        (sbox[(tmp >> 16) & 255] << 16) ^\n        (sbox[(tmp >> 8) & 255] << 8) ^\n        sbox[tmp & 255]\n\n      // shift rows and add rcon\n      if (i % keyLen === 0) {\n        tmp = (tmp << 8) ^ (tmp >>> 24) ^ (rcon << 24)\n        rcon = (rcon << 1) ^ ((rcon >> 7) * 283)\n      }\n    }\n\n    encKey[i] = encKey[i - keyLen] ^ tmp\n  }\n\n  // schedule decryption keys\n  for (let j = 0; i > 0; j++, i--) {\n    tmp = encKey[(j & 3) !== 0 ? i : i - 4]\n    if (i <= 4 || j < 4) {\n      decKey[j] = tmp\n    } else {\n      decKey[j] =\n        decTable[0][sbox[tmp >>> 24]] ^\n        decTable[1][sbox[(tmp >> 16) & 255]] ^\n        decTable[2][sbox[(tmp >> 8) & 255]] ^\n        decTable[3][sbox[tmp & 255]]\n    }\n  }\n}\n\nAES.prototype = {\n  /**\n   * Encrypt an array of 4 big-endian words.\n   * @param {Array} data The plaintext.\n   * @return {Array} The ciphertext.\n   */\n  encrypt: function (data) {\n    return this._crypt(data, 0)\n  },\n\n  /**\n   * Decrypt an array of 4 big-endian words.\n   * @param {Array} data The ciphertext.\n   * @return {Array} The plaintext.\n   */\n  decrypt: function (data) {\n    return this._crypt(data, 1)\n  },\n\n  /**\n   * The expanded S-box and inverse S-box tables.  These will be computed\n   * on the client so that we don't have to send them down the wire.\n   *\n   * There are two tables, _tables[0] is for encryption and\n   * _tables[1] is for decryption.\n   *\n   * The first 4 sub-tables are the expanded S-box with MixColumns.  The\n   * last (_tables[01][4]) is the S-box itself.\n   *\n   * @private\n   */\n  _tables: [\n    [\n      new Uint32Array(256),\n      new Uint32Array(256),\n      new Uint32Array(256),\n      new Uint32Array(256),\n      new Uint32Array(256)\n    ],\n    [\n      new Uint32Array(256),\n      new Uint32Array(256),\n      new Uint32Array(256),\n      new Uint32Array(256),\n      new Uint32Array(256)\n    ]\n  ],\n\n  // Expand the S-box tables.\n  _precompute: function () {\n    const encTable = this._tables[0]\n    const decTable = this._tables[1]\n    const sbox = encTable[4]\n    const sboxInv = decTable[4]\n    let i\n    let x\n    let xInv\n    const d = new Uint8Array(256)\n    const th = new Uint8Array(256)\n    let x2\n    let x4\n    let x8\n    let s\n    let tEnc\n    let tDec\n\n    // Compute double and third tables\n    for (i = 0; i < 256; i++) {\n      th[(d[i] = (i << 1) ^ ((i >> 7) * 283)) ^ i] = i\n    }\n\n    for (x = xInv = 0; sbox[x] === 0; x ^= (x2 !== 0 ? x2 : 1), xInv = th[xInv] !== 0 ? th[xInv] : 1) {\n      // Compute sbox\n      s = xInv ^ (xInv << 1) ^ (xInv << 2) ^ (xInv << 3) ^ (xInv << 4)\n      s = (s >> 8) ^ (s & 255) ^ 99\n      sbox[x] = s\n      sboxInv[s] = x\n\n      // Compute MixColumns\n      x8 = d[(x4 = d[(x2 = d[x])])]\n      tDec = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100)\n      tEnc = (d[s] * 0x101) ^ (s * 0x1010100)\n\n      for (i = 0; i < 4; i++) {\n        encTable[i][x] = tEnc = (tEnc << 24) ^ (tEnc >>> 8)\n        decTable[i][s] = tDec = (tDec << 24) ^ (tDec >>> 8)\n      }\n    }\n  },\n\n  /**\n   * Encryption and decryption core.\n   * @param {Array} input Four words to be encrypted or decrypted.\n   * @param dir The direction, 0 for encrypt and 1 for decrypt.\n   * @return {Array} The four encrypted or decrypted words.\n   * @private\n   */\n  _crypt: function (input, dir) {\n    if (input.length !== 4) {\n      throw new Error('invalid aes block size')\n    }\n\n    const key = this._key[dir]\n    // state variables a,b,c,d are loaded with pre-whitened data\n    let a = input[0] ^ key[0]\n    let b = input[dir === 1 ? 3 : 1] ^ key[1]\n    let c = input[2] ^ key[2]\n    let d = input[dir === 1 ? 1 : 3] ^ key[3]\n    let a2\n    let b2\n    let c2\n\n    const nInnerRounds = key.length / 4 - 2\n    let i\n    let kIndex = 4\n    const out = new Uint32Array(4)\n    const // <--- this is slower in Node, about the same in Chrome */\n      table = this._tables[dir]\n\n    // load up the tables\n    const t0 = table[0]\n    const t1 = table[1]\n    const t2 = table[2]\n    const t3 = table[3]\n    const sbox = table[4]\n\n    // Inner rounds.  Cribbed from OpenSSL.\n    for (i = 0; i < nInnerRounds; i++) {\n      a2 =\n        t0[a >>> 24] ^\n        t1[(b >> 16) & 255] ^\n        t2[(c >> 8) & 255] ^\n        t3[d & 255] ^\n        key[kIndex]\n      b2 =\n        t0[b >>> 24] ^\n        t1[(c >> 16) & 255] ^\n        t2[(d >> 8) & 255] ^\n        t3[a & 255] ^\n        key[kIndex + 1]\n      c2 =\n        t0[c >>> 24] ^\n        t1[(d >> 16) & 255] ^\n        t2[(a >> 8) & 255] ^\n        t3[b & 255] ^\n        key[kIndex + 2]\n      d =\n        t0[d >>> 24] ^\n        t1[(a >> 16) & 255] ^\n        t2[(b >> 8) & 255] ^\n        t3[c & 255] ^\n        key[kIndex + 3]\n      kIndex += 4\n      a = a2\n      b = b2\n      c = c2\n    }\n\n    // Last round.\n    for (i = 0; i < 4; i++) {\n      out[dir === 1 ? 3 & -i : i] =\n        (sbox[a >>> 24] << 24) ^\n        (sbox[(b >> 16) & 255] << 16) ^\n        (sbox[(c >> 8) & 255] << 8) ^\n        sbox[d & 255] ^\n        key[kIndex++]\n      a2 = a\n      a = b\n      b = c\n      c = d\n      d = a2\n    }\n\n    return out\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nclass AESWrapper {\n  public static encrypt (messageBuf: number[], keyBuf: number[]): number[] {\n    const key = AESWrapper.buf2Words(keyBuf)\n    const message = AESWrapper.buf2Words(messageBuf)\n    const a = new AES(key)\n    const enc = a.encrypt(message)\n    const encBuf = AESWrapper.words2Buf(enc)\n    return encBuf\n  }\n\n  public static decrypt (encBuf: number[], keyBuf: number[]): number[] {\n    const enc = AESWrapper.buf2Words(encBuf)\n    const key = AESWrapper.buf2Words(keyBuf)\n    const a = new AES(key)\n    const message = a.decrypt(enc)\n    const messageBuf = AESWrapper.words2Buf(message)\n    return messageBuf\n  }\n\n  public static buf2Words (buf: number[]): number[] {\n    if (buf.length % 4 !== 0) {\n      throw new Error('buf length must be a multiple of 4')\n    }\n    const words: number[] = []\n    for (let i = 0; i < buf.length / 4; i++) {\n      const val =\n        buf[i * 4] * 0x1000000 + // Shift the first byte by 24 bits\n        ((buf[i * 4 + 1] << 16) | // Shift the second byte by 16 bits\n          (buf[i * 4 + 2] << 8) | // Shift the third byte by 8 bits\n          buf[i * 4 + 3]) // The fourth byte\n      words.push(val)\n    }\n    return words\n  }\n\n  public static words2Buf (words: number[]): number[] {\n    const buf = new Array(words.length * 4)\n\n    for (let i = 0; i < words.length; i++) {\n      const word = words[i]\n      buf[i * 4] = (word >>> 24) & 0xff\n      buf[i * 4 + 1] = (word >>> 16) & 0xff\n      buf[i * 4 + 2] = (word >>> 8) & 0xff\n      buf[i * 4 + 3] = word & 0xff\n    }\n\n    return buf\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nclass CBC {\n  public static buf2BlocksBuf (buf: number[], blockSize: number): number[][] {\n    const bytesize = blockSize / 8\n    const blockBufs: number[][] = []\n\n    for (let i = 0; i <= buf.length / bytesize; i++) {\n      let blockBuf = buf.slice(i * bytesize, i * bytesize + bytesize)\n\n      if (blockBuf.length < blockSize) {\n        blockBuf = CBC.pkcs7Pad(blockBuf, blockSize)\n      }\n\n      blockBufs.push(blockBuf)\n    }\n\n    return blockBufs\n  }\n\n  public static blockBufs2Buf (blockBufs: number[][]): number[] {\n    let last = blockBufs[blockBufs.length - 1]\n    last = CBC.pkcs7Unpad(last)\n    blockBufs[blockBufs.length - 1] = last\n\n    const buf = blockBufs.flat()\n\n    return buf\n  }\n\n  public static encrypt (\n    messageBuf: number[],\n    ivBuf: number[],\n    blockCipher: any /* TODO: type */,\n    cipherKeyBuf: number[]\n  ): number[] {\n    const blockSize = ivBuf.length * 8\n    const blockBufs = CBC.buf2BlocksBuf(messageBuf, blockSize)\n    const encBufs = CBC.encryptBlocks(\n      blockBufs,\n      ivBuf,\n      blockCipher,\n      cipherKeyBuf\n    )\n    const encBuf = encBufs.flat()\n    return encBuf\n  }\n\n  public static decrypt (\n    encBuf: number[],\n    ivBuf: number[],\n    blockCipher: any /* TODO: type */,\n    cipherKeyBuf: number[]\n  ): number[] {\n    const bytesize = ivBuf.length\n    const encBufs: number[][] = []\n    for (let i = 0; i < encBuf.length / bytesize; i++) {\n      encBufs.push(encBuf.slice(i * bytesize, i * bytesize + bytesize))\n    }\n    const blockBufs = CBC.decryptBlocks(\n      encBufs,\n      ivBuf,\n      blockCipher,\n      cipherKeyBuf\n    )\n    const buf = CBC.blockBufs2Buf(blockBufs)\n    return buf\n  }\n\n  public static encryptBlock (\n    blockBuf: number[],\n    ivBuf: number[],\n    blockCipher: any /* TODO: type */,\n    cipherKeyBuf: number[]\n  ): number[] {\n    const xorbuf = CBC.xorBufs(blockBuf, ivBuf)\n    const encBuf = blockCipher.encrypt(xorbuf, cipherKeyBuf)\n    return encBuf\n  }\n\n  public static decryptBlock (\n    encBuf: number[],\n    ivBuf: number[],\n    blockCipher: any /* TODO: type */,\n    cipherKeyBuf: number[]\n  ): number[] {\n    const xorbuf = blockCipher.decrypt(encBuf, cipherKeyBuf)\n    const blockBuf = CBC.xorBufs(xorbuf, ivBuf)\n    return blockBuf\n  }\n\n  public static encryptBlocks (\n    blockBufs: number[][],\n    ivBuf: number[],\n    blockCipher: any /* TODO: type */,\n    cipherKeyBuf: number[]\n  ): number[][] {\n    const encBufs: number[][] = []\n\n    for (let i = 0; i < blockBufs.length; i++) {\n      const blockBuf = blockBufs[i]\n      const encBuf = CBC.encryptBlock(\n        blockBuf,\n        ivBuf,\n        blockCipher,\n        cipherKeyBuf\n      )\n\n      encBufs.push(encBuf)\n\n      ivBuf = encBuf\n    }\n\n    return encBufs\n  }\n\n  public static decryptBlocks (\n    encBufs: number[][],\n    ivBuf: number[],\n    blockCipher: any /* TODO: type */,\n    cipherKeyBuf: number[]\n  ): number[][] {\n    const blockBufs: number[][] = []\n\n    for (let i = 0; i < encBufs.length; i++) {\n      const encBuf = encBufs[i]\n      const blockBuf = CBC.decryptBlock(\n        encBuf,\n        ivBuf,\n        blockCipher,\n        cipherKeyBuf\n      )\n\n      blockBufs.push(blockBuf)\n\n      ivBuf = encBuf\n    }\n\n    return blockBufs\n  }\n\n  public static pkcs7Pad (buf: number[], blockSize: number): number[] {\n    const bytesize = blockSize / 8\n    const padbytesize = bytesize - buf.length\n    const pad = new Array(padbytesize)\n    pad.fill(padbytesize)\n    const paddedbuf = [...buf, ...pad]\n    return paddedbuf\n  }\n\n  public static pkcs7Unpad (paddedbuf: number[]): number[] {\n    const padlength = paddedbuf[paddedbuf.length - 1]\n    const padbuf = paddedbuf.slice(\n      paddedbuf.length - padlength,\n      paddedbuf.length\n    )\n    const padbuf2 = new Array(padlength)\n    padbuf2.fill(padlength)\n    if (toHex(padbuf) !== toHex(padbuf2)) {\n      throw new Error('invalid padding')\n    }\n    return paddedbuf.slice(0, paddedbuf.length - padlength)\n  }\n\n  public static xorBufs (buf1: number[], buf2: number[]): number[] {\n    if (buf1.length !== buf2.length) {\n      throw new Error('bufs must have the same length')\n    }\n\n    const buf = new Array(buf1.length)\n\n    for (let i = 0; i < buf1.length; i++) {\n      buf[i] = buf1[i] ^ buf2[i]\n    }\n\n    return buf\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nclass AESCBC {\n  public static encrypt (\n    messageBuf: number[],\n    cipherKeyBuf: number[],\n    ivBuf: number[],\n    concatIvBuf = true\n  ): number[] {\n    ivBuf = ivBuf ?? Random(128 / 8)\n    const ctBuf = CBC.encrypt(messageBuf, ivBuf, AESWrapper, cipherKeyBuf)\n    if (concatIvBuf) {\n      return [...ivBuf, ...ctBuf]\n    } else {\n      return [...ctBuf]\n    }\n  }\n\n  public static decrypt (\n    encBuf: number[],\n    cipherKeyBuf: number[],\n    ivBuf?: number[]\n  ): number[] {\n    if (ivBuf == null) {\n      ivBuf = encBuf.slice(0, 128 / 8)\n      const ctBuf = encBuf.slice(128 / 8)\n      return CBC.decrypt(ctBuf, ivBuf, AESWrapper, cipherKeyBuf)\n    } else {\n      const ctBuf = encBuf\n      return CBC.decrypt(ctBuf, ivBuf, AESWrapper, cipherKeyBuf)\n    }\n  }\n}\n\n/**\n * @class ECIES\n * Implements the Electrum ECIES protocol for encrypted communication.\n *\n * @prprecated This class is deprecated in favor of the BRC-78 standard for portable encrypted messages,\n * which provides a more comprehensive and secure solution by integrating with BRC-42 and BRC-43 standards.\n */\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport default class ECIES {\n  /**\n   * Generates the initialization vector (iv), encryption key (kE), and MAC key (kM)\n   * using the sender's private key and receiver's public key.\n   *\n   * @param {PrivateKey} privKey - The sender's private key.\n   * @param {PublicKey} pubKey - The receiver's public key.\n   * @returns {Object} An object containing the iv, kE, and kM as number arrays.\n   */\n  public static ivkEkM (\n    privKey: PrivateKey,\n    pubKey: PublicKey\n  ): { iv: number[], kE: number[], kM: number[] } {\n    const r = privKey\n    const KB = pubKey\n    const P = KB.mul(r)\n    const S = new PublicKey(P.x, P.y)\n    const Sbuf = S.encode(true) as number[]\n    const hash = Hash.sha512(Sbuf)\n    return {\n      iv: hash.slice(0, 16),\n      kE: hash.slice(16, 32),\n      kM: hash.slice(32, 64)\n    }\n  }\n\n  /**\n   * Encrypts a given message using the Electrum ECIES method.\n   *\n   * @param {number[]} messageBuf - The message to be encrypted, in number array format.\n   * @param {PublicKey} toPublicKey - The public key of the recipient.\n   * @param {PrivateKey} [fromPrivateKey] - The private key of the sender. If not provided, a random private key is used.\n   * @param {boolean} [noKey=false] - If true, does not include the sender's public key in the encrypted message.\n   * @returns {number[]} The encrypted message as a number array.\n   */\n  public static electrumEncrypt (\n    messageBuf: number[],\n    toPublicKey: PublicKey,\n    fromPrivateKey?: PrivateKey,\n    noKey = false\n  ): number[] {\n    let Rbuf: string | number[] | null = null\n    if (fromPrivateKey == null) {\n      fromPrivateKey = PrivateKey.fromRandom()\n    }\n    if (!noKey) {\n      Rbuf = fromPrivateKey.toPublicKey().encode(true)\n    }\n    const { iv, kE, kM } = ECIES.ivkEkM(fromPrivateKey, toPublicKey)\n    const ciphertext = AESCBC.encrypt(messageBuf, kE, iv, false)\n    const BIE1 = toArray('BIE1', 'utf8')\n    let encBuf: number[]\n    if (Rbuf !== undefined && Rbuf !== null && Rbuf.length > 0) {\n      encBuf = [...BIE1, ...Rbuf, ...ciphertext]\n    } else {\n      encBuf = [...BIE1, ...ciphertext]\n    }\n    const hmac = Hash.sha256hmac(kM, encBuf)\n    return [...encBuf, ...hmac]\n  }\n\n  /**\n   * Decrypts a message encrypted using the Electrum ECIES method.\n   *\n   * @param {number[]} encBuf - The encrypted message buffer.\n   * @param {PrivateKey} toPrivateKey - The private key of the recipient.\n   * @param {PublicKey} [fromPublicKey=null] - The public key of the sender. If not provided, it is extracted from the message.\n   * @returns {number[]} The decrypted message as a number array.\n   */\n  public static electrumDecrypt (\n    encBuf: number[],\n    toPrivateKey: PrivateKey,\n    fromPublicKey?: PublicKey\n  ): number[] {\n    const tagLength = 32\n\n    const magic = encBuf.slice(0, 4)\n    if (encode(magic, 'utf8') !== 'BIE1') {\n      throw new Error('Invalid Magic')\n    }\n    let offset = 4\n\n    // Determine if the sender's public key is included in encBuf\n    let Rbuf: number[] | null = null\n    if (encBuf.length - offset - tagLength >= 33) {\n      const firstByte = encBuf[offset]\n      if (firstByte === 0x02 || firstByte === 0x03) {\n        // Compressed public key\n        Rbuf = encBuf.slice(offset, offset + 33)\n        offset += 33\n      } else if (firstByte === 0x04) {\n        // Uncompressed public key\n        Rbuf = encBuf.slice(offset, offset + 65)\n        offset += 65\n      }\n    }\n\n    if (Rbuf !== null) {\n      if (fromPublicKey == null) {\n        fromPublicKey = PublicKey.fromString(toHex(Rbuf))\n      }\n    } else {\n      if (fromPublicKey == null) {\n        throw new Error('Sender public key is required')\n      }\n    }\n\n    const { iv, kE, kM } = ECIES.ivkEkM(toPrivateKey, fromPublicKey)\n    const ciphertext = encBuf.slice(offset, encBuf.length - tagLength)\n    const hmac = encBuf.slice(encBuf.length - tagLength, encBuf.length)\n\n    const hmac2 = Hash.sha256hmac(\n      kM,\n      encBuf.slice(0, encBuf.length - tagLength)\n    )\n\n    if (toHex(hmac) !== toHex(hmac2)) {\n      throw new Error('Invalid checksum')\n    }\n\n    return AESCBC.decrypt(ciphertext, kE, iv)\n  }\n\n  /**\n   * Encrypts a given message using the Bitcore variant of ECIES.\n   *\n   * @param {number[]} messageBuf - The message to be encrypted, in number array format.\n   * @param {PublicKey} toPublicKey - The public key of the recipient.\n   * @param {PrivateKey} [fromPrivateKey] - The private key of the sender. If not provided, a random private key is used.\n   * @param {number[]} [ivBuf] - The initialization vector for encryption. If not provided, a random IV is used.\n   * @returns {number[]} The encrypted message as a number array.\n   */\n  public static bitcoreEncrypt (\n    messageBuf: number[],\n    toPublicKey: PublicKey,\n    fromPrivateKey?: PrivateKey,\n    ivBuf?: number[]\n  ): number[] {\n    if (fromPrivateKey == null) {\n      fromPrivateKey = PrivateKey.fromRandom()\n    }\n    if (ivBuf == null) {\n      ivBuf = Random(16)\n    }\n    const r = fromPrivateKey\n    const RPublicKey = fromPrivateKey.toPublicKey()\n    const RBuf = RPublicKey.encode(true) as number[]\n    const KB = toPublicKey\n    const P = KB.mul(r)\n    const S = P.getX()\n    const Sbuf = S.toArray('be', 32)\n    const kEkM = Hash.sha512(Sbuf)\n    const kE = kEkM.slice(0, 32)\n    const kM = kEkM.slice(32, 64)\n    const c = AESCBC.encrypt(messageBuf, kE, ivBuf)\n    const d = Hash.sha256hmac(kM, [...c])\n    const encBuf = [...RBuf, ...c, ...d]\n    return encBuf\n  }\n\n  /**\n   * Decrypts a message encrypted using the Bitcore variant of ECIES.\n   *\n   * @param {number[]} encBuf - The encrypted message buffer.\n   * @param {PrivateKey} toPrivateKey - The private key of the recipient.\n   * @returns {number[]} The decrypted message as a number array.\n   */\n  public static bitcoreDecrypt (\n    encBuf: number[],\n    toPrivateKey: PrivateKey\n  ): number[] {\n    const kB = toPrivateKey\n    const fromPublicKey = PublicKey.fromString(toHex(encBuf.slice(0, 33)))\n    const R = fromPublicKey\n    const P = R.mul(kB)\n    if (P.eq(new Point(0, 0))) {\n      throw new Error('P equals 0')\n    }\n    const S = P.getX()\n    const Sbuf = S.toArray('be', 32)\n    const kEkM = Hash.sha512(Sbuf)\n    const kE = kEkM.slice(0, 32)\n    const kM = kEkM.slice(32, 64)\n    const c = encBuf.slice(33, encBuf.length - 32)\n    const d = encBuf.slice(encBuf.length - 32, encBuf.length)\n    const d2 = Hash.sha256hmac(kM, c)\n    if (toHex(d) !== toHex(d2)) {\n      throw new Error('Invalid checksum')\n    }\n    const messageBuf = AESCBC.decrypt(c, kE)\n    return [...messageBuf]\n  }\n}\n","import { SHA1HMAC, SHA256HMAC, SHA512HMAC } from '../primitives/Hash.js'\r\nimport BigNumber from '../primitives/BigNumber.js'\r\n\r\nexport type TOTPAlgorithm = 'SHA-1' | 'SHA-256' | 'SHA-512'\r\n\r\n/**\r\n * Options for TOTP generation.\r\n * @param {number} [digits=6] - The number of digits in the OTP.\r\n * @param {TOTPAlgorithm} [algorithm=\"SHA-1\"] - Algorithm used for hashing.\r\n * @param {number} [period=30] - The time period for OTP validity in seconds.\r\n * @param {number} [timestamp=Date.now()] - The current timestamp.\r\n */\r\nexport interface TOTPOptions {\r\n  digits?: number\r\n  algorithm?: TOTPAlgorithm\r\n  period?: number\r\n  timestamp?: number\r\n}\r\n\r\n/**\r\n * Options for TOTP validation.\r\n * @param {number} [skew=1] - The number of time periods to check before and after the current time period.\r\n */\r\nexport type TOTPValidateOptions = TOTPOptions & {\r\n  skew?: number\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\r\nexport class TOTP {\r\n  /**\r\n   * Generates a Time-based One-Time Password (TOTP).\r\n   * @param {number[]} secret - The secret key for TOTP.\r\n   * @param {TOTPOptions} options - Optional parameters for TOTP.\r\n   * @returns {string} The generated TOTP.\r\n   */\r\n  static generate (secret: number[], options?: TOTPOptions): string {\r\n    const _options = this.withDefaultOptions(options)\r\n\r\n    const counter = this.getCounter(_options.timestamp, _options.period)\r\n    const otp = generateHOTP(secret, counter, _options)\r\n    return otp\r\n  }\r\n\r\n  /**\r\n   * Validates a Time-based One-Time Password (TOTP).\r\n   * @param {number[]} secret - The secret key for TOTP.\r\n   * @param {string} passcode - The passcode to validate.\r\n   * @param {TOTPValidateOptions} options - Optional parameters for TOTP validation.\r\n   * @returns {boolean} A boolean indicating whether the passcode is valid.\r\n   */\r\n  static validate (\r\n    secret: number[],\r\n    passcode: string,\r\n    options?: TOTPValidateOptions\r\n  ): boolean {\r\n    const _options = this.withDefaultValidateOptions(options)\r\n    passcode = passcode.trim()\r\n    if (passcode.length !== _options.digits) {\r\n      return false\r\n    }\r\n\r\n    const counter = this.getCounter(_options.timestamp, _options.period)\r\n\r\n    const counters = [counter]\r\n    for (let i = 1; i <= _options.skew; i++) {\r\n      counters.push(counter + i)\r\n      counters.push(counter - i)\r\n    }\r\n\r\n    for (const c of counters) {\r\n      if (passcode === generateHOTP(secret, c, _options)) {\r\n        return true\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  private static getCounter (timestamp: number, period: number): number {\r\n    const epochSeconds = Math.floor(timestamp / 1000)\r\n    const counter = Math.floor(epochSeconds / period)\r\n    return counter\r\n  }\r\n\r\n  private static withDefaultOptions (\r\n    options?: TOTPOptions\r\n  ): Required<TOTPOptions> {\r\n    return {\r\n      digits: 2,\r\n      algorithm: 'SHA-1',\r\n      period: 30,\r\n      timestamp: Date.now(),\r\n      ...options\r\n    }\r\n  }\r\n\r\n  private static withDefaultValidateOptions (\r\n    options?: TOTPValidateOptions\r\n  ): Required<TOTPValidateOptions> {\r\n    return { skew: 1, ...this.withDefaultOptions(options) }\r\n  }\r\n}\r\n\r\nfunction generateHOTP (\r\n  secret: number[],\r\n  counter: number,\r\n  options: Required<TOTPOptions>\r\n): string {\r\n  const timePad = new BigNumber(counter).toArray('be', 8)\r\n  const hmac = calcHMAC(secret, timePad, options.algorithm)\r\n  const signature = hmac.digest()\r\n\r\n  // RFC 4226 https://datatracker.ietf.org/doc/html/rfc4226#section-5.4\r\n  const offset = signature[signature.length - 1] & 0x0f // offset is the last byte in the hmac\r\n  const fourBytesRange = signature.slice(offset, offset + 4) // starting from offset, get 4 bytes\r\n  const mask = 0x7fffffff // 32-bit number with a leading 0 followed by 31 ones [0111 (...) 1111]\r\n  const masked = new BigNumber(fourBytesRange).toNumber() & mask\r\n\r\n  const otp = masked.toString().slice(-options.digits)\r\n  return otp\r\n}\r\n\r\nfunction calcHMAC (\r\n  secret: number[],\r\n  timePad: number[],\r\n  algorithm: TOTPAlgorithm\r\n): SHA1HMAC | SHA256HMAC | SHA512HMAC {\r\n  switch (algorithm) {\r\n    case 'SHA-1':\r\n      return new SHA1HMAC(secret).update(timePad)\r\n    case 'SHA-256':\r\n      return new SHA256HMAC(secret).update(timePad)\r\n    case 'SHA-512':\r\n      return new SHA512HMAC(secret).update(timePad)\r\n    default:\r\n      throw new Error('unsupported HMAC algorithm')\r\n  }\r\n}\r\n","/**\n * @typedef {boolean} BooleanDefaultFalse\n * Represents an optional boolean parameter, which defaults to `false` if not provided.\n */\nexport type BooleanDefaultFalse = boolean\n\n/**\n * @typedef {boolean} BooleanDefaultTrue\n * Represents an optional boolean parameter, which defaults to `true` if not provided.\n */\nexport type BooleanDefaultTrue = boolean\n\n/**\n * @typedef {number} Byte\n * Represents an integer from 0 to 255 (inclusive).\n * @minimum 0\n * @maximum 255\n */\nexport type Byte = number\n\n/**\n * @typedef {number} PositiveIntegerOrZero\n * A positive integer, includes zero and has an upper bound of `2^32 - 1`.\n * @minimum 0\n * @maximum 4294967295\n */\nexport type PositiveIntegerOrZero = number\n\n/**\n * @typedef {number} PositiveInteger\n * A positive integer that excludes zero, and has an upper bound of `2^32 - 1`.\n * @minimum 1\n * @maximum 4294967295\n */\nexport type PositiveInteger = number\n\n/**\n * @typedef {number} PositiveIntegerMax10\n * A positive integer that excludes zero, and has an upper bound of 10.\n * @minimum 1\n * @maximum 10\n */\nexport type PositiveIntegerMax10 = number\n\n/**\n * @typedef {number} PositiveIntegerDefault10Max10000\n * A positive integer that defaults to 10, and has an upper bound of 10000.\n * @minimum 1\n * @default 10\n * @maximum 10000\n */\nexport type PositiveIntegerDefault10Max10000 = number\n\n/**\n * @typedef {number} SatoshiValue\n * Represents a value in Satoshis, constrained by the max supply of Bitcoin (2.1 * 10^15 Satoshis).\n * @minimum 1\n * @maximum 2100000000000000\n */\nexport type SatoshiValue = number\n\n/**\n * @typedef {string} ISOTimestampString\n * Represents an ISO timestamp string.\n */\nexport type ISOTimestampString = string\n\n/**\n * @typedef {string} HexString\n * A string containing only hexadecimal characters (0-9, a-f).\n */\nexport type HexString = string\n\n/**\n * @typedef {HexString} TXIDHexString\n * Represents a transaction ID, enforced to be exactly 64 characters in length and in hexadecimal format.\n * @length 64\n */\nexport type TXIDHexString = HexString\n\n/**\n * @typedef {string} OutpointString\n * Represents a transaction ID and output index pair. The TXID is given as a hex string followed by a period \".\" and then the output index is given as a decimal integer.\n */\nexport type OutpointString = string\n\n/**\n * @typedef {HexString} PubKeyHex\n * Represents a compressed DER secp256k1 public key, exactly 66 hex characters (33 bytes) in length.\n * @length 66\n */\nexport type PubKeyHex = HexString\n\n/**\n * @typedef {string} Base64String\n * A standard base64 encoded string.\n */\nexport type Base64String = string\n\n/**\n * @typedef {string} OriginatorDomainNameStringUnder250Bytes\n * Represents the fully qualified domain name (FQDN) of the application that originates the request.\n */\nexport type OriginatorDomainNameStringUnder250Bytes = string\n\n/**\n * @typedef {string & { minLength: 5, maxLength: 50 }} DescriptionString5to50Bytes\n * A string used for descriptions, with a length between 5 and 50 characters.\n */\nexport type DescriptionString5to50Bytes = string\n\n/**\n * @typedef {string & { maxLength: 300 }} BasketStringUnder300Bytes\n * A string for naming baskets, with a maximum length of 300 characters.\n */\nexport type BasketStringUnder300Bytes = string\n\n/**\n * @typedef {string & { maxLength: 300 }} OutputTagStringUnder300Bytes\n * A string for tagging outputs, with a maximum length of 300 characters.\n */\nexport type OutputTagStringUnder300Bytes = string\n\n/**\n * @typedef {string & { maxLength: 300 }} LabelStringUnder300Bytes\n * A string for labeling transactions, with a maximum length of 300 characters.\n */\nexport type LabelStringUnder300Bytes = string\n\n/**\n * @typedef {Byte[]} BEEF\n * An array of integers, each ranging from 0 to 255, indicating transaction data in BEEF (BRC-62) format.\n */\nexport type BEEF = Byte[]\n\n/**\n * @typedef {Byte[]} AtomicBEEF\n * An array of integers, each ranging from 0 to 255, indicating transaction data in Atomic BEEF (BRC-95) format.\n */\nexport type AtomicBEEF = Byte[]\n\n/**\n * @typedef {string & { minLength: 5, maxLength: 400 }} ProtocolString5To400Bytes\n * A protocol identifier with a length between 5 and 400 characters.\n */\nexport type ProtocolString5To400Bytes = string\n\n/**\n * @typedef {string & { maxLength: 800 }} KeyIDStringUnder800Bytes\n * Represents a key identifier string, with a maximum length of 800 characters.\n */\nexport type KeyIDStringUnder800Bytes = string\n\n/**\n * @typedef {string & { maxLength: 50 }} CertificateFieldNameUnder50Bytes\n * Represents a certificate field name with a maximum length of 50 characters.\n */\nexport type CertificateFieldNameUnder50Bytes = string\n\n/**\n * @typedef {string & { maxLength: 100 }} EntityNameStringMax100Bytes\n * Represents a trusted entity name with a maximum length of 100 characters.\n */\nexport type EntityNameStringMax100Bytes = string\n\n/**\n * @typedef {string & { maxLength: 500 }} EntityIconURLStringMax500Bytes\n * Represents a trusted entity icon URL with a maximum length of 500 characters.\n */\nexport type EntityIconURLStringMax500Bytes = string\n\n/**\n * @typedef {string & { minLength: 7, maxLength: 30 }} VersionString7To30Bytes\n * Represents a version string, with a length between 7 and 30 characters.\n *\n * The format is [vendor]-[major].[minor].[patch]\n */\nexport type VersionString7To30Bytes = string\n\n/**\n * @typedef {string & { minLength: 10, maxLength: 40 }} ErrorCodeString10To40Bytes\n * Represents a machine-readable error code string, with a length between 10 and 40 characters.\n */\nexport type ErrorCodeString10To40Bytes = string\n\n/**\n * @typedef {string & { minLength: 20, maxLength: 200 }} ErrorDescriptionString20To200Bytes\n * Represents a human-readable error description string, with a length between 20 and 200 characters.\n */\nexport type ErrorDescriptionString20To200Bytes = string\n\nexport type WalletNetwork = 'mainnet' | 'testnet'\n\n/**\n * @enum {number} SecurityLevels\n *\n * Silent = 0 Silently grants the request with no user interation.\n * App = 1 Requires user approval for every application.\n * Counterparty = 2 Requires user approval per counterparty per application.\n */\nexport enum SecurityLevels {\n  Silent = 0,\n  App = 1,\n  Counterparty = 2,\n}\n\n/**\n *\n * SecurityLevel for protocols.\n * 0 = Silently grants the request with no user interation.\n * 1 = Requires user approval for every application.\n * 2 = Requires user approval per counterparty per application.\n *\n */\nexport type SecurityLevel = 0 | 1 | 2\n\nexport type WalletProtocol = [SecurityLevel, ProtocolString5To400Bytes]\n\nexport type WalletCounterparty = PubKeyHex | 'self' | 'anyone'\n\nexport type AcquisitionProtocol = 'direct' | 'issuance'\n\nexport type KeyringRevealer = PubKeyHex | 'certifier'\n\nexport type ActionStatus =\n  | 'completed'\n  | 'unprocessed'\n  | 'sending'\n  | 'unproven'\n  | 'unsigned'\n  | 'nosend'\n  | 'nonfinal'\n  | 'failed'\n\n/**\n * Controls behavior of input BEEF validation.\n *\n * If `known`, input transactions may omit supporting validity proof data for all TXIDs known to this wallet.\n *\n * If undefined, input BEEFs must be complete and valid.\n */\nexport type TrustSelf = 'known'\n\n/**\n * @param {OutpointString} outpoint - The outpoint being consumed.\n * @param {DescriptionString5to50Bytes} inputDescription - A description of this input for contextual understanding of what it consumes.\n * @param {HexString} unlockingScript - Optional. The unlocking script needed to release the specified UTXO.\n * @param {PositiveInteger} unlockingScriptLength - Optional. Length of the unlocking script, in case it will be provided later using `signAction`.\n * @param {PositiveIntegerOrZero} sequenceNumber - Optional. The sequence number applied to the input.\n */\nexport interface CreateActionInput {\n  outpoint: OutpointString\n  inputDescription: DescriptionString5to50Bytes\n  unlockingScript?: HexString\n  unlockingScriptLength?: PositiveInteger\n  sequenceNumber?: PositiveIntegerOrZero\n}\n\n/**\n * @param {HexString} lockingScript - The locking script that dictates how the output can later be spent.\n * @param {SatoshiValue} satoshis - Number of Satoshis that constitute this output.\n * @param {DescriptionString5to50Bytes} outputDescription - Description of what this output represents.\n * @param {BasketStringUnder300Bytes} [basket] - Name of the basket where this UTXO will be held, if tracking is desired.\n * @param {string} [customInstructions] - Custom instructions attached onto this UTXO, often utilized within application logic to provide necessary unlocking context or track token histories.\n * @param {OutputTagStringUnder300Bytes[]} [tags] - Tags assigned to the output for sorting or filtering.\n */\nexport interface CreateActionOutput {\n  lockingScript: HexString\n  satoshis: SatoshiValue\n  outputDescription: DescriptionString5to50Bytes\n  basket?: BasketStringUnder300Bytes\n  customInstructions?: string\n  tags?: OutputTagStringUnder300Bytes[]\n}\n\n/**\n * @param {BooleanDefaultTrue} [signAndProcess] - Optional. If true and all inputs have unlockingScripts, the new transaction will be signed and handed off for processing by the network; result `txid` and `tx` are valid and `signableTransaciton` is undefined. If false or an input has an unlockingScriptLength, result `txid` and `tx` are undefined and `signableTransaction` is valid.\n * @param {BooleanDefaultTrue} [acceptDelayedBroadcast] - Optional. If true, the transaction will be sent to the network by a background process; use `noSend` and `sendWith` options to batch chained transactions. If false, the transaction will be broadcast to the network and any errors returned in result; note that rapidly sent chained transactions may still fail due to network propagation delays.\n * @param {'known'} [trustSelf] - Optional. If `known`, input transactions may omit supporting validity proof data for TXIDs known to this wallet.\n * @param {TXIDHexString[]} [knownTxids] - Optional. When working with large chained transactions using `noSend` and `sendWith` options, include TXIDs of inputs that may be assumed to be valid even if not already known by this wallet.\n * @param {BooleanDefaultFalse} [returnTXIDOnly] - Optional. If true, only a TXID will be returned instead of a transaction.\n * @param {BooleanDefaultFalse} [noSend] - Optional. If true, the transaction will be constructed but not sent to the network. Supports the creation of chained batches of transactions using the `sendWith` option.\n * @param {OutPoint[]} [noSendChange] - Optional. Valid when `noSend` is true. May contain `noSendChange` outpoints previously returned by prior `noSend` actions in the same batch of chained actions.\n * @param {TXIDHexString[]} [sendWith] - Optional. Sends a batch of actions previously created as `noSend` actions to the network; either synchronously if `acceptDelayedBroadcast` is true or by a background process.\n * @param {BooleanDefaultTrue} [randomizeOutputs]  optional. When set to false, the wallet will avoid randomizing the order of outputs within the transaction.\n */\nexport interface CreateActionOptions {\n  signAndProcess?: BooleanDefaultTrue\n  acceptDelayedBroadcast?: BooleanDefaultTrue\n  trustSelf?: TrustSelf\n  knownTxids?: TXIDHexString[]\n  returnTXIDOnly?: BooleanDefaultFalse\n  noSend?: BooleanDefaultFalse\n  noSendChange?: OutpointString[]\n  sendWith?: TXIDHexString[]\n  randomizeOutputs?: BooleanDefaultTrue\n}\n\nexport type SendWithResultStatus = 'unproven' | 'sending' | 'failed'\n\nexport interface SendWithResult {\n  txid: TXIDHexString\n  status: SendWithResultStatus\n}\n\n/**\n * Indicates status of a new Action following a `createAction` or `signAction` in immediate mode:\n * When `acceptDelayedBroadcast` is falses.\n *\n * 'success': The action has been broadcast and accepted by the bitcoin processing network.\n * 'doulbeSpend': The action has been confirmed to double spend one or more inputs, and by the \"first-seen-rule\" is the loosing transaction.\n * 'invalidTx': The action was rejected by the processing network as an invalid bitcoin transaction.\n * 'serviceError': The broadcast services are currently unable to reach the bitcoin network. The action is now queued for delayed retries.\n */\nexport type ReviewActionResultStatus = 'success' | 'doubleSpend' | 'serviceError' | 'invalidTx'\n\nexport interface ReviewActionResult {\n  txid: TXIDHexString\n  status: ReviewActionResultStatus\n  /**\n   * Any competing txids reported for this txid, valid when status is 'doubleSpend'.\n   */\n  competingTxs?: string[]\n  /**\n   * Merged beef of competingTxs, valid when status is 'doubleSpend'.\n   */\n  competingBeef?: number[]\n}\n\nexport interface SignableTransaction {\n  tx: AtomicBEEF\n  reference: Base64String\n}\n\nexport interface CreateActionResult {\n  txid?: TXIDHexString\n  tx?: AtomicBEEF\n  noSendChange?: OutpointString[]\n  sendWithResults?: SendWithResult[]\n  signableTransaction?: SignableTransaction\n}\n\n/**\n * @param {DescriptionString5to50Bytes} description - A human-readable description of the action represented by this transaction.\n * @param {BEEF} [inputBEEF] - BEEF data associated with the set of input transactions from which UTXOs will be consumed.\n * @param {CreateActionInput[]} [inputs] - An optional array of input objects used in the transaction.\n * @param {CreateActionOutput[]} [outputs] - An optional array of output objects for the transaction.\n * @param {PositiveIntegerOrZero} [lockTime] - Optional lock time for the transaction.\n * @param {PositiveInteger} [version] - Optional transaction version specifier.\n * @param {LabelStringUnder300Bytes[]} [labels] - Optional labels providing additional categorization for the transaction.\n * @param {CreateActionOptions} [options] - Optional settings modifying transaction processing behavior.\n */\nexport interface CreateActionArgs {\n  description: DescriptionString5to50Bytes\n  inputBEEF?: BEEF\n  inputs?: CreateActionInput[]\n  outputs?: CreateActionOutput[]\n  lockTime?: PositiveIntegerOrZero\n  version?: PositiveIntegerOrZero\n  labels?: LabelStringUnder300Bytes[]\n  options?: CreateActionOptions\n}\n\n/**\n * @param {HexString} unlockingScript - The unlocking script for the corresponding input.\n * @param {PositiveIntegerOrZero} [sequenceNumber] - The sequence number of the input.\n */\nexport interface SignActionSpend {\n  unlockingScript: HexString\n  sequenceNumber?: PositiveIntegerOrZero\n}\n\n/**\n * @param {BooleanDefaultTrue} [acceptDelayedBroadcast] - Optional. If true, transaction will be sent to the network by a background process; use `noSend` and `sendWith` options to batch chained transactions. If false, transaction will be broadcast to the network and any errors returned in result; note that rapidly sent chained transactions may still fail due to network propagation delays.\n * @param {'known'} [trustSelf] - Optional. If `known`, input transactions may omit supporting validity proof data for TXIDs known to this wallet or included in `knownTxids`.\n * @param {TXIDHexString[]} [knownTxids] - Optional. When working with large chained transactions using `noSend` and `sendWith` options, include TXIDs of inputs that may be assumed to be valid even if not already known by this wallet.\n * @param {BooleanDefaultFalse} [returnTXIDOnly] - Optional. If true, only a TXID will be returned instead of a transaction.\n * @param {BooleanDefaultFalse} [noSend] - Optional. If true, the transaction will be constructed but not sent to the network. Supports the creation of chained batches of transactions using the `sendWith` option.\n * @param {TXIDHexString[]} [sendWith] - Optional. Sends a batch of actions previously created as `noSend` actions to the network; either synchronously if `acceptDelayedBroadcast` is true or by a background process.\n */\nexport interface SignActionOptions {\n  acceptDelayedBroadcast?: BooleanDefaultTrue\n  returnTXIDOnly?: BooleanDefaultFalse\n  noSend?: BooleanDefaultFalse\n  sendWith?: TXIDHexString[]\n}\n\n/**\n * @param {Record<PositiveIntegerOrZero, SignActionSpend>} spends - Map of input indexes to the corresponding unlocking script and optional sequence number.\n * @param {Base64String} reference - Reference number returned from the call to `createAction`.\n * @param {SignActionOptions} [options] - Optional settings modifying transaction processing behavior.\n */\nexport interface SignActionArgs {\n  spends: Record<PositiveIntegerOrZero, SignActionSpend>\n  reference: Base64String\n  options?: SignActionOptions\n}\n\n/**\n *\n */\nexport interface SignActionResult {\n  txid?: TXIDHexString\n  tx?: AtomicBEEF\n  sendWithResults?: SendWithResult[]\n}\n\n/**\n * @param {Base64String} reference - Reference number for the transaction to abort.\n */\nexport interface AbortActionArgs {\n  reference: Base64String\n}\n\nexport interface AbortActionResult {\n  aborted: true\n}\n\nexport type AcquireCertificateResult = WalletCertificate\n\n/**\n * @param {LabelStringUnder300Bytes[]} labels - An array of labels used to filter actions.\n * @param {'any' | 'all'} [labelQueryMode] - Specifies how to match labels (default is any which matches any of the labels).\n * @param {BooleanDefaultFalse} [includeLabels] - Whether to include transaction labels in the result set.\n * @param {BooleanDefaultFalse} [includeInputs] - Whether to include input details in the result set.\n * @param {BooleanDefaultFalse} [includeInputSourceLockingScripts] - Whether to include input source locking scripts in the result set.\n * @param {BooleanDefaultFalse} [includeInputUnlockingScripts] - Whether to include input unlocking scripts in the result set.\n * @param {BooleanDefaultFalse} [includeOutputs] - Whether to include output details in the result set.\n * @param {BooleanDefaultFalse} [includeOutputLockingScripts] - Whether to include output locking scripts in the result set.\n * @param {PositiveIntegerDefault10Max10000} [limit] - The maximum number of transactions to retrieve.\n * @param {PositiveIntegerOrZero} [offset] - Number of transactions to skip before starting to return the results.\n * @param {BooleanDefaultTrue} [seekPermission]  Whether to seek permission from the user for this operation if required. Default true, will return an error rather than proceed if set to false.\n */\nexport interface ListActionsArgs {\n  labels: LabelStringUnder300Bytes[]\n  labelQueryMode?: 'any' | 'all'\n  includeLabels?: BooleanDefaultFalse\n  includeInputs?: BooleanDefaultFalse\n  includeInputSourceLockingScripts?: BooleanDefaultFalse\n  includeInputUnlockingScripts?: BooleanDefaultFalse\n  includeOutputs?: BooleanDefaultFalse\n  includeOutputLockingScripts?: BooleanDefaultFalse\n  limit?: PositiveIntegerDefault10Max10000\n  offset?: PositiveIntegerOrZero\n  seekPermission?: BooleanDefaultTrue\n}\n\nexport interface WalletActionInput {\n  sourceOutpoint: OutpointString\n  sourceSatoshis: SatoshiValue\n  sourceLockingScript?: HexString\n  unlockingScript?: HexString\n  inputDescription: DescriptionString5to50Bytes\n  sequenceNumber: PositiveIntegerOrZero\n}\n\nexport interface WalletActionOutput {\n  satoshis: SatoshiValue\n  lockingScript?: HexString\n  spendable: boolean\n  customInstructions?: string\n\n  tags: OutputTagStringUnder300Bytes[]\n\n  outputIndex: PositiveIntegerOrZero\n  outputDescription: DescriptionString5to50Bytes\n\n  basket: BasketStringUnder300Bytes\n}\n\nexport interface WalletOutput {\n  satoshis: SatoshiValue\n  lockingScript?: HexString\n  spendable: boolean\n  customInstructions?: string\n\n  tags?: OutputTagStringUnder300Bytes[]\n\n  outpoint: OutpointString\n\n  labels?: LabelStringUnder300Bytes[]\n}\n\nexport interface WalletAction {\n  txid: TXIDHexString\n  satoshis: SatoshiValue\n  status: ActionStatus\n  isOutgoing: boolean\n  description: DescriptionString5to50Bytes\n  labels?: LabelStringUnder300Bytes[]\n  version: PositiveIntegerOrZero\n  lockTime: PositiveIntegerOrZero\n  inputs?: WalletActionInput[]\n  outputs?: WalletActionOutput[]\n}\n\nexport interface ListActionsResult {\n  totalActions: PositiveIntegerOrZero\n  actions: WalletAction[]\n}\n\n/**\n * @param {Base64String} derivationPrefix - Payment-level derivation prefix used by the sender for key derivation (for payments).\n * @param {Base64String} derivationSuffix - Specific output-level derivation suffix used by the sender for key derivation (for payments).\n * @param {PubKeyHex} senderIdentityKey - Public identity key of the sender (for payments).\n */\nexport interface WalletPayment {\n  derivationPrefix: Base64String\n  derivationSuffix: Base64String\n  senderIdentityKey: PubKeyHex\n}\n\n/**\n * @param {BasketStringUnder300Bytes} basket - Basket in which to place the output (for insertions).\n * @param {string} [customInstructions] - Optionally provided custom instructions attached to the output (for insertions).\n * @param {OutputTagStringUnder300Bytes[]} [tags] - Tags attached to the output (for insertions).\n */\nexport interface BasketInsertion {\n  basket: BasketStringUnder300Bytes\n  customInstructions?: string\n  tags?: OutputTagStringUnder300Bytes[]\n}\n\n/**\n * @param {PositiveIntegerOrZero} outputIndex - Index of the output within the transaction.\n * @param {'payment' | 'insert'} protocol - Specifies whether the output is a payment (to be received into the wallet balance) or an insert operation (into a particular basket).\n * @param {WalletPayment} [paymentRemittance] - Optional. Remittance data, structured accordingly for the payment operation.\n * @param {BasketInsertion} [insertionRemittance] - Optional. Remittance data, structured accordingly for the insertion operation.\n */\nexport interface InternalizeOutput {\n  outputIndex: PositiveIntegerOrZero\n  protocol: 'wallet payment' | 'basket insertion'\n  paymentRemittance?: WalletPayment\n  insertionRemittance?: BasketInsertion\n}\n\n/**\n * @param {BEEF} tx - Atomic BEEF-formatted transaction to internalize.\n * @param {InternalizeOutput[]} outputs - Metadata about outputs, processed differently based on payment or insertion types.\n * @param {DescriptionString5to50Bytes} description - Human-readable description of the transaction being internalized.\n * @param {LabelStringUnder300Bytes[]} [labels] - Optional labels associated with this transaction.\n * @param {BooleanDefaultTrue} [seekPermission]  Whether to seek permission from the user for this operation if required. Default true, will return an error rather than proceed if set to false.\n */\nexport interface InternalizeActionArgs {\n  tx: AtomicBEEF\n  outputs: InternalizeOutput[]\n  description: DescriptionString5to50Bytes\n  labels?: LabelStringUnder300Bytes[]\n  seekPermission?: BooleanDefaultTrue\n}\n\nexport interface InternalizeActionResult {\n  accepted: true\n}\n\n/**\n * @param {BasketStringUnder300Bytes} basket - The associated basket name whose outputs should be listed.\n * @param {OutputTagStringUnder300Bytes[]} [tags] - Filter outputs based on these tags.\n * @param {'all' | 'any'} [tagQueryMode] - Filter mode, defining whether all or any of the tags must match. By default, any tag can match.\n * @param {'locking scripts' | 'entire transactions'} [include] - Whether to include locking scripts (with each output) or entire transactions (as aggregated BEEF, at the top level) in the result. By default, unless specified, neither are returned.\n * @param {BooleanDefaultFalse} [includeEntireTransactions] - Whether to include the entire transaction(s) in the result.\n * @param {BooleanDefaultFalse} [includeCustomInstructions] - Whether custom instructions should be returned in the result.\n * @param {BooleanDefaultFalse} [includeTags] - Whether the tags associated with the output should be returned.\n * @param {BooleanDefaultFalse} [includeLabels] - Whether the labels associated with the transaction containing the output should be returned.\n * @param {PositiveIntegerDefault10Max10000} [limit] - Optional limit on the number of outputs to return.\n * @param {PositiveIntegerOrZero} [offset] - Number of outputs to skip before starting to return results.\n * @param {BooleanDefaultTrue} [seekPermission]  Whether to seek permission from the user for this operation if required. Default true, will return an error rather than proceed if set to false.\n */\nexport interface ListOutputsArgs {\n  basket: BasketStringUnder300Bytes\n  tags?: OutputTagStringUnder300Bytes[]\n  tagQueryMode?: 'all' | 'any'\n  include?: 'locking scripts' | 'entire transactions'\n  includeCustomInstructions?: BooleanDefaultFalse\n  includeTags?: BooleanDefaultFalse\n  includeLabels?: BooleanDefaultFalse\n  limit?: PositiveIntegerDefault10Max10000\n  offset?: PositiveIntegerOrZero\n  seekPermission?: BooleanDefaultTrue\n}\n\nexport interface ListOutputsResult {\n  totalOutputs: PositiveIntegerOrZero\n  BEEF?: BEEF\n  outputs: WalletOutput[]\n}\n\nexport interface RelinquishOutputArgs {\n  basket: BasketStringUnder300Bytes\n  output: OutpointString\n}\n\nexport interface RelinquishOutputResult {\n  relinquished: true\n}\n\n/**\n * @param {WalletProtocol} protocolID - The security level and protocol string under which the data should be encrypted.\n * @param {KeyIDStringUnder800Bytes} keyID - Key ID under which the encryption will be performed.\n * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.\n * @param {WalletCounterparty} [counterparty] - Public key of the counterparty (if two-party encryption is desired).\n * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n * @param {BooleanDefaultTrue} [seekPermission]  Whether to seek permission from the user for this operation if required. Default true, will return an error rather than proceed if set to false.\n */\nexport interface WalletEncryptionArgs {\n  protocolID: WalletProtocol\n  keyID: KeyIDStringUnder800Bytes\n  counterparty?: WalletCounterparty\n  privileged?: BooleanDefaultFalse\n  privilegedReason?: DescriptionString5to50Bytes\n  seekPermission?: BooleanDefaultTrue\n}\n\n/**\n * When `identityKey` is true, `WalletEncryptionArgs` are not used.\n *\n * When `identityKey` is undefined, `WalletEncryptionArgs` are required.\n *\n * @param {BooleanDefaultFalse|true} [identityKey] - Use true to retrieve the current user's own identity key, overriding any protocol ID, key ID, or counterparty specified.\n * @param {BooleanDefaultFalse} [forSelf] - Whether to return the public key derived from the current user's own identity (as opposed to the counterparty's identity).\n */\nexport interface GetPublicKeyArgs extends Partial<WalletEncryptionArgs> {\n  identityKey?: true\n  forSelf?: BooleanDefaultFalse\n}\n\n/**\n * @param {PubKeyHex} counterparty - The public key of the counterparty involved in the linkage.\n * @param {PubKeyHex} verifier - The public key of the verifier requesting the linkage information.\n * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.\n * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n */\nexport interface RevealCounterpartyKeyLinkageArgs {\n  counterparty: PubKeyHex\n  verifier: PubKeyHex\n  privileged?: BooleanDefaultFalse\n  privilegedReason?: DescriptionString5to50Bytes\n}\n\n/**\n * @param {PubKeyHex} counterparty - The public key of the counterparty involved in the linkage.\n * @param {PubKeyHex} verifier - The public key of the verifier requesting the linkage information.\n * @param {WalletProtocol} protocolID - The security level and protocol string associated with the linkage information to reveal.\n * @param {KeyIDStringUnder800Bytes} keyID - The key ID associated with the linkage information to reveal.\n * @param {DescriptionString5to50Bytes} [privilegedReason] - Optional. Reason provided for privileged access, required if this is a privileged operation.\n * @param {BooleanDefaultFalse} [privileged] - Optional. Whether this is a privileged request.\n */\nexport interface RevealSpecificKeyLinkageArgs {\n  counterparty: WalletCounterparty\n  verifier: PubKeyHex\n  protocolID: WalletProtocol\n  keyID: KeyIDStringUnder800Bytes\n  privilegedReason?: DescriptionString5to50Bytes\n  privileged?: BooleanDefaultFalse\n}\n\n/**\n */\nexport interface KeyLinkageResult {\n  encryptedLinkage: Byte[]\n  encryptedLinkageProof: Byte[]\n  prover: PubKeyHex\n  verifier: PubKeyHex\n  counterparty: PubKeyHex\n}\n\n/**\n */\nexport interface RevealCounterpartyKeyLinkageResult extends KeyLinkageResult {\n  revelationTime: ISOTimestampString\n}\n\n/**\n */\nexport interface RevealSpecificKeyLinkageResult extends KeyLinkageResult {\n  protocolID: WalletProtocol\n  keyID: KeyIDStringUnder800Bytes\n  proofType: Byte\n}\n\n/**\n * @param {Byte[]} plaintext - Array of bytes constituting the plaintext data to be encrypted.\n */\nexport interface WalletEncryptArgs extends WalletEncryptionArgs {\n  plaintext: Byte[]\n}\n\nexport interface WalletEncryptResult {\n  ciphertext: Byte[]\n}\n\n/**\n * @param {Byte[]} ciphertext - Encrypted bytes, including the initialization vector, for decryption.\n */\nexport interface WalletDecryptArgs extends WalletEncryptionArgs {\n  ciphertext: Byte[]\n}\n\nexport interface WalletDecryptResult {\n  plaintext: Byte[]\n}\n\n/**\n * @param {Byte[]} data - Input data (in bytes) for which the HMAC needs to be created.\n */\nexport interface CreateHmacArgs extends WalletEncryptionArgs {\n  data: Byte[]\n}\n\nexport interface CreateHmacResult {\n  hmac: Byte[]\n}\n\n/**\n * @param {Byte[]} data - The input data whose HMAC is to be verified.\n * @param {Byte[]} hmac - Byte array representing the HMAC value to be verified.\n */\nexport interface VerifyHmacArgs extends WalletEncryptionArgs {\n  data: Byte[]\n  hmac: Byte[]\n}\n\nexport interface VerifyHmacResult {\n  valid: true\n}\n\n/**\n * @param {Byte[]} [data] - Data to be signed using the derived private key with ECDSA. Required unless directly signing a hash.\n * @param {Byte[]} [hashToDirectlySign] - Sign a pre-hashed value in situations where data can't or shouldn't be revealed, whether due to its size or for privacy.\n */\nexport interface CreateSignatureArgs extends WalletEncryptionArgs {\n  data?: Byte[]\n  hashToDirectlySign?: Byte[]\n}\n\nexport interface CreateSignatureResult {\n  signature: Byte[]\n}\n\n/**\n * @param {Byte[]} [args.data] - The data originally signed, which is required for verification unless directly verifying a hash.\n * @param {Byte[]} [args.hashToDirectlyVerify] - Optional field to verify the signature against a precomputed hash instead of data.\n * @param {Byte[]} args.signature - The DER-encoded ECDSA signature to validate.\n * @param {BooleanDefaultFalse} [args.forSelf] - Whether the signature to be verified was created by this user rather than the counterparty.\n */\nexport interface VerifySignatureArgs extends WalletEncryptionArgs {\n  data?: Byte[]\n  hashToDirectlyVerify?: Byte[]\n  signature: Byte[]\n  forSelf?: BooleanDefaultFalse\n}\n\nexport interface VerifySignatureResult {\n  valid: true\n}\n\n/**\n * @param {Base64String} type - Type identifier for the certificate.\n * @param {PubKeyHex} certifier - The public identity key of the certifier.\n * @param {AcquisitionProtocol} acquisitionProtocol - Specifies the acquisition process, set to either 'issuance' or 'direct'.\n * @param {Record<CertificateFieldNameUnder50Bytes, string>} fields - The fields included within the certificate.\n * @param {Base64String} [serialNumber] - Serial number of the certificate to acquire (required when the acquisition protocol is direct).\n * @param {string} [revocationOutpoint] - Reference for an outpoint comprising a Bitcoin token that, if ever spent, marks the certificate as invalid (required when the acquisition protocol is direct).\n * @param {HexString} [signature] - Signature over the certificate (required when the acquisition protocol is direct).\n * @param {string} [certifierUrl] - URL of the certifier where certificate acquisition requests will be sent (required when the acquisition protocol is issuance).\n * @param {KeyringRevealer} [keyringRevealer] - The public identity key of the entity revealing the keyring to the user, if different from the certifier (required when the acquisition protocol is direct).\n * @param {Record<CertificateFieldNameUnder50Bytes, Base64String>} [keyringForSubject] - Keyring revealing all certificate fields to the subject (required when the acquisition protocol is direct).\n * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.\n */\nexport interface AcquireCertificateArgs {\n  type: Base64String\n  certifier: PubKeyHex\n  acquisitionProtocol: AcquisitionProtocol\n  fields: Record<CertificateFieldNameUnder50Bytes, string>\n  serialNumber?: Base64String\n  revocationOutpoint?: OutpointString\n  signature?: HexString\n  certifierUrl?: string\n  keyringRevealer?: KeyringRevealer\n  keyringForSubject?: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  privileged?: BooleanDefaultFalse\n  privilegedReason?: DescriptionString5to50Bytes\n}\n\nexport interface WalletCertificate {\n  type: Base64String\n  subject: PubKeyHex\n  serialNumber: Base64String\n  certifier: PubKeyHex\n  revocationOutpoint: OutpointString\n  signature: HexString\n  fields: Record<CertificateFieldNameUnder50Bytes, string>\n}\n\nexport interface IdentityCertifier {\n  name: EntityNameStringMax100Bytes\n  iconUrl: EntityIconURLStringMax500Bytes\n  description: DescriptionString5to50Bytes\n  trust: PositiveIntegerMax10\n}\n\nexport interface IdentityCertificate extends WalletCertificate {\n  certifierInfo: IdentityCertifier\n  publiclyRevealedKeyring: Record<\n  CertificateFieldNameUnder50Bytes,\n  Base64String\n  >\n  decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n}\n\n/**\n * @param {PubKeyHex[]} certifiers - An array of public keys for specific certifiers (filters by these certifiers).\n * @param {Base64String[]} types - An array of certificate types issued by any of the specified certifiers, which should be returned.\n * @param {PositiveIntegerDefault10Max10000} [limit] - Maximum number of certificates to return.\n * @param {PositiveIntegerOrZero} [offset] - Number of records to skip before starting to return results.\n * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.\n */\nexport interface ListCertificatesArgs {\n  certifiers: PubKeyHex[]\n  types: Base64String[]\n  limit?: PositiveIntegerDefault10Max10000\n  offset?: PositiveIntegerOrZero\n  privileged?: BooleanDefaultFalse\n  privilegedReason?: DescriptionString5to50Bytes\n}\n\nexport interface CertificateResult extends WalletCertificate {\n  keyring?: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  verifier?: string\n}\n\nexport interface ListCertificatesResult {\n  totalCertificates: PositiveIntegerOrZero\n  certificates: CertificateResult[]\n}\n\n/**\n * @param {WalletCertificate} certificate - The specific identity certificate being proven.\n * @param {CertificateFieldNameUnder50Bytes[]} fieldsToReveal - Array of field names that need to be revealed to the verifier.\n * @param {PubKeyHex} verifier - Public key of the verifier, to whom the key revelations will be made.\n * @param {BooleanDefaultFalse} [privileged] - Whether this is a privileged request.\n * @param {DescriptionString5to50Bytes} [privilegedReason] - Reason provided for privileged access, required if this is a privileged operation.\n */\nexport interface ProveCertificateArgs {\n  certificate: Partial<WalletCertificate>\n  fieldsToReveal: CertificateFieldNameUnder50Bytes[]\n  verifier: PubKeyHex\n  privileged?: BooleanDefaultFalse\n  privilegedReason?: DescriptionString5to50Bytes\n}\n\nexport interface ProveCertificateResult {\n  keyringForVerifier: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  certificate?: WalletCertificate\n  verifier?: PubKeyHex\n}\n\n/**\n * @param {Base64String} type - Type identifier for the certificate.\n * @param {PubKeyHex} certifier - The public identity key of the certifier.\n * @param {Base64String} serialNumber - Serial number of the certificate to relinquish.\n */\nexport interface RelinquishCertificateArgs {\n  type: Base64String\n  serialNumber: Base64String\n  certifier: PubKeyHex\n}\n\nexport interface RelinquishCertificateResult {\n  relinquished: true\n}\n\nexport interface AuthenticatedResult {\n  authenticated: true\n}\n\nexport interface GetHeightResult {\n  height: PositiveInteger\n}\n\n/**\n * @param {PositiveInteger} height - Specifies the height at which the block header needs to be retrieved.\n */\nexport interface GetHeaderArgs {\n  height: PositiveInteger\n}\n\nexport interface GetHeaderResult {\n  header: HexString\n}\n\nexport interface GetNetworkResult {\n  network: WalletNetwork\n}\n\nexport interface GetVersionResult {\n  version: VersionString7To30Bytes\n}\n\n/**\n * @param {PubKeyHex} identityKey - Identity key used to filter and discover certificates.\n * @param {PositiveIntegerDefault10Max10000} [limit] - Maximum number of certificates to return in the response.\n * @param {PositiveIntegerOrZero} [offset] - Skip this number of records before starting to provide results.\n * @param {BooleanDefaultTrue} [seekPermission]  Whether to seek permission from the user for this operation if required. Default true, will return an error rather than proceed if set to false.\n */\nexport interface DiscoverByIdentityKeyArgs {\n  identityKey: PubKeyHex\n  limit?: PositiveIntegerDefault10Max10000\n  offset?: PositiveIntegerOrZero\n  seekPermission?: BooleanDefaultTrue\n}\n\n/**\n */\nexport interface DiscoverCertificatesResult {\n  totalCertificates: PositiveIntegerOrZero\n  certificates: IdentityCertificate[]\n}\n\n/**\n * @param {Record<CertificateFieldNameUnder50Bytes, string>} attributes - The attributes used to discover the certificates.\n * @param {PositiveIntegerDefault10Max10000} [limit] - Optional limit on the number of results returned.\n * @param {PositiveIntegerOrZero} [offset] - Starts retrieval of results after the specified number of records.\n * @param {BooleanDefaultTrue} [seekPermission]  Whether to seek permission from the user for this operation if required. Default true, will return an error rather than proceed if set to false.\n */\nexport interface DiscoverByAttributesArgs {\n  attributes: Record<CertificateFieldNameUnder50Bytes, string>\n  limit?: PositiveIntegerDefault10Max10000\n  offset?: PositiveIntegerOrZero\n  seekPermission?: BooleanDefaultTrue\n}\n\n// export interface AcquireCertificateResult extends WalletCertificate {}\n\n/**\n * Every method of the `Wallet` interface has a return value of the form `Promise<object>`.\n * When errors occur, an exception object may be thrown which must conform to the `WalletErrorObject` interface.\n * Serialization layers can rely on the `isError` property being unique to error objects.\n * Deserialization should rethrow `WalletErrorObject` conforming objects.\n */\nexport interface WalletErrorObject extends Error {\n  isError: true\n}\n\n/**\n *\n */\nexport interface GetPublicKeyResult {\n  publicKey: PubKeyHex\n}\n\n/**\n * The Wallet interface defines a wallet capable of various tasks including transaction creation and signing,\n * encryption, decryption, identity certificate management, identity verification, and communication\n * with applications as per the BRC standards. This interface allows applications to interact with\n * the wallet for a range of functionalities aligned with the Babbage architectural principles.\n *\n * Error Handling\n *\n * Every method of the `Wallet` interface has a return value of the form `Promise<object>`.\n * When an error occurs, an exception object may be thrown which must conform to the `WalletErrorObject` interface.\n * Serialization layers can rely on the `isError` property being unique to error objects to\n * deserialize and rethrow `WalletErrorObject` conforming objects.\n */\nexport interface WalletInterface {\n  /**\n   * Retrieves a derived or identity public key based on the requested protocol, key ID, counterparty, and other factors.\n   *\n   * @param {GetPublicKeyArgs} args - Arguments to specify which public key to retrieve.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<GetPublicKeyResult>}} Resolves to an object containing the public key, or an error response.\n   */\n  getPublicKey: (\n    args: GetPublicKeyArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<GetPublicKeyResult>\n\n  /**\n   * Reveals the key linkage between ourselves and a counterparty, to a particular verifier, across all interactions with the counterparty.\n   *\n   * @param {RevealCounterpartyKeyLinkageArgs} args - Contains information about counterparty, verifier, and whether the operation is privileged.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<RevealSpecificKeyLinkageResult>} Resolves to the key linkage, or an error response.\n   */\n  revealCounterpartyKeyLinkage: (\n    args: RevealCounterpartyKeyLinkageArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<RevealCounterpartyKeyLinkageResult>\n\n  /**\n   * Reveals the key linkage between ourselves and a counterparty, to a particular verifier, with respect to a specific interaction.\n   *\n   * @param {RevealSpecificKeyLinkageArgs} args - The object defining the counterparty, verifier, protocol, and keyID for which linkage should be revealed.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<RevealSpecificKeyLinkageResult>} The promise returns the requested linkage information, or an error object.\n   */\n  revealSpecificKeyLinkage: (\n    args: RevealSpecificKeyLinkageArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<RevealSpecificKeyLinkageResult>\n\n  /**\n   * Encrypts the provided plaintext data using derived keys, based on the protocol ID, key ID, counterparty, and other factors.\n   *\n   * @param {WalletEncryptArgs} args - Information needed for encryption, including the plaintext, protocol ID, and key ID.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<WalletEncryptResult>} Resolves to the encrypted ciphertext bytes or an error if encryption fails.\n   */\n  encrypt: (\n    args: WalletEncryptArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<WalletEncryptResult>\n\n  /**\n   * Decrypts the provided ciphertext using derived keys, based on the protocol ID, key ID, counterparty, and other factors.\n   *\n   * @param {WalletDecryptArgs} args - Contains the ciphertext, protocol ID, and key ID required to decrypt the data.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<WalletDecryptResult>} Resolves to the decryption result, containing the plaintext data or an error.\n   */\n  decrypt: (\n    args: WalletDecryptArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<WalletDecryptResult>\n\n  /**\n   * Creates an HMAC (Hash-based Message Authentication Code) based on the provided data, protocol, key ID, counterparty, and other factors.\n   *\n   * @param {CreateHmacArgs} args - Arguments containing the data, protocol ID, and key ID to generate the HMAC from.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<CreateHmacResult>} Resolves to an object containing the generated HMAC bytes, or an error if the creation fails.\n   */\n  createHmac: (\n    args: CreateHmacArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<CreateHmacResult>\n\n  /**\n   * Verifies an HMAC (Hash-based Message Authentication Code) based on the provided data, protocol, key ID, counterparty, and other factors.\n   *\n   * @param {VerifyHmacArgs} args - Arguments containing the HMAC data, protocol ID, and key ID needed for verification.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<VerifyHmacResult>} Resolves to an object confirming whether the HMAC was valid or an error.\n   */\n  verifyHmac: (\n    args: VerifyHmacArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<VerifyHmacResult>\n\n  /**\n   * Creates a digital signature for the provided data or hash using a specific protocol, key, and optionally considering privilege and counterparty.\n   *\n   * @param {CreateSignatureArgs} args - Arguments to specify data, protocol, key ID, and privilege for creating the signature.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<CreateSignatureResult>} The promise will resolve to an object containing the DER-encoded ECDSA signature, or an error on failure.\n   */\n  createSignature: (\n    args: CreateSignatureArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<CreateSignatureResult>\n\n  /**\n   * Verifies a digital signature for the provided data or hash using a specific protocol, key, and optionally considering privilege and counterparty.\n   *\n   * @param {VerifySignatureArgs} args - Arguments specifying the data, signature, protocol, and key ID.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<VerifySignatureResult>} The promise resolves to a boolean object indicating whether the signature was valid or an error message.\n   */\n  verifySignature: (\n    args: VerifySignatureArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<VerifySignatureResult>\n\n  /**\n   * Creates a new Bitcoin transaction based on the provided inputs, outputs, labels, locks, and other options.\n   *\n   * @param {CreateActionArgs} args - The arguments required to create the transaction.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<CreateActionResult>} The promise returns different structures based on the outcome: error response, response with TXID, response with transaction, or info about signable transaction (partial BEEF and reference number).\n   */\n  createAction: (\n    args: CreateActionArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<CreateActionResult>\n\n  /**\n   * Signs a transaction previously created using `createAction`.\n   *\n   * @param {SignActionArgs} args - Arguments to sign the transaction.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<SignActionResult>} The promise returns an error response or a response with either the completed transaction or TXID.\n   */\n  signAction: (\n    args: SignActionArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<SignActionResult>\n\n  /**\n   * Aborts a transaction that is in progress and has not yet been finalized or sent to the network.\n   *\n   * @param {AbortActionArgs} args - Arguments to identify the transaction that needs to be aborted.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<AbortActionResult>} The promise resolves to an object indicating the abortion result (either success or error).\n   */\n  abortAction: (\n    args: AbortActionArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<AbortActionResult>\n\n  /**\n   * Lists all transactions matching the specified labels.\n   *\n   * @param {ListActionsArgs} args - Arguments to specify how to filter or retrieve transactions.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<ListActionsResult>} The promise resolves to an object containing actions, their metadata, inputs, and outputs if applicable, or an error object.\n   */\n  listActions: (\n    args: ListActionsArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<ListActionsResult>\n\n  /**\n   * Submits a transaction to be internalized and optionally labeled, outputs paid to the wallet balance, inserted into baskets, and/or tagged.\n   *\n   * @param {InternalizeActionArgs} args - Arguments required to internalize the transaction.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<InternalizeActionResult>} The promise resolves to an object indicating the success of the operation or an error object.\n   */\n  internalizeAction: (\n    args: InternalizeActionArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<InternalizeActionResult>\n\n  /**\n   * Lists the spendable outputs kept within a specific basket, optionally tagged with specific labels.\n   *\n   * @param {ListOutputsArgs} args - Arguments detailing the query for listing spendable outputs.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<ListOutputsResult>} The promise returns an output listing or an error object.\n   */\n  listOutputs: (\n    args: ListOutputsArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<ListOutputsResult>\n\n  /**\n   * Relinquish an output out of a basket, removing it from tracking without spending it.\n   *\n   * @param {RelinquishOutputArgs} args - Arguments identifying the output in the basket.\n   * @param {BasketStringUnder300Bytes} args.basket - The associated basket name where the output should be removed.\n   * @param {OutpointString} args.outpoint - The output that should be removed from the basket.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<RelinquishOutputResult>} The promise returns an indication of successful removal or an error object.\n   */\n  relinquishOutput: (\n    args: RelinquishOutputArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<RelinquishOutputResult>\n\n  /**\n   * Acquires an identity certificate, whether by acquiring one from the certifier or by directly receiving it.\n   *\n   * @param {AcquireCertificateArgs} args - Contains the type of certificate, certifier information, and fields of the certificate to be provided, among other details.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<AcquireCertificateResult>} The promise resolves to an object containing the acquired certificate, or an error object.\n   */\n  acquireCertificate: (\n    args: AcquireCertificateArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<WalletCertificate>\n\n  /**\n   * Lists identity certificates belonging to the user, filtered by certifier(s) and type(s).\n   *\n   * @param {ListCertificatesArgs} args - Arguments used to filter or limit the list of certificates returned by the request.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<ListCertificatesResult>} The promise resolves to an object containing certificates or an error response.\n   */\n  listCertificates: (\n    args: ListCertificatesArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<ListCertificatesResult>\n\n  /**\n   * Proves select fields of an identity certificate, as specified, when requested by a verifier.\n   *\n   * @param {ProveCertificateArgs} args - Arguments including the certificate, fields to reveal, and verifier's public key.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<ProveCertificateResult>} Resolves to a keyring for the verifier or an error object.\n   */\n  proveCertificate: (\n    args: ProveCertificateArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<ProveCertificateResult>\n\n  /**\n   * Relinquishes an identity certificate, removing it from the wallet regardless of whether the revocation outpoint has become spent.\n   *\n   * @param {RelinquishCertificateArgs} args - Contains the type of certificate, certifier, and serial number for relinquishment.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<RelinquishCertificateResult>} The promise resolves to an indication of successful relinquishment or an error object.\n   */\n  relinquishCertificate: (\n    args: RelinquishCertificateArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<RelinquishCertificateResult>\n\n  /**\n   * Discovers identity certificates, issued to a given identity key by a trusted entity.\n   *\n   * @param {DiscoverByIdentityKeyArgs} args - Arguments for requesting the discovery based on the identity key.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<DiscoverCertificatesResult>} The promise resolves to the list of certificates discovered or an error object.\n   */\n  discoverByIdentityKey: (\n    args: DiscoverByIdentityKeyArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<DiscoverCertificatesResult>\n\n  /**\n   * Discovers identity certificates belonging to other users, where the documents contain specific attributes, issued by a trusted entity.\n   *\n   * @param {DiscoverByAttributesArgs} args - Attributes and optional parameters used to discover certificates.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<DiscoverByAttributesResult>} The promise resolves to a list of matching certificates or an error object.\n   */\n  discoverByAttributes: (\n    args: DiscoverByAttributesArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<DiscoverCertificatesResult>\n\n  /**\n   * Checks the authentication status of the user.\n   *\n   * @param {{}} args - Empty object, as no parameters are needed.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<AuthenticatedResult>} The promise resolves to an object indicating whether the user is authenticated or an error response.\n   */\n  isAuthenticated: (\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<AuthenticatedResult>\n\n  /**\n   * Continuously waits until the user is authenticated, returning the result once confirmed.\n   *\n   * @param {{}} args - Not used, pass an empty object.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<AuthenticatedResult>} The final result indicating that the user is authenticated or an error object.\n   */\n  waitForAuthentication: (\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<AuthenticatedResult>\n\n  /**\n   * Retrieves the current height of the blockchain.\n   *\n   * @param {{}} args - Empty object as no other parameters are necessary.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<Object>} Resolves to an object indicating the current height or an error on failure.\n   */\n  getHeight: (\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<GetHeightResult>\n\n  /**\n   * Retrieves the block header of a block at a specified height.\n   *\n   * @param {GetHeaderArgs} args - Contains the height parameter needed to retrieve the block header.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<GetHeaderResult>} The promise resolves to an 80-byte block header or an error if it cannot be retrieved.\n   */\n  getHeaderForHeight: (\n    args: GetHeaderArgs,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<GetHeaderResult>\n\n  /**\n   * Retrieves the Bitcoin network the client is using (mainnet or testnet).\n   *\n   * @param {{}} args - No arguments required, pass an empty object.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<GetNetworkResult>} The promise resolves to an object indicating whether the client is using the mainnet or testnet.\n   */\n  getNetwork: (\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<GetNetworkResult>\n\n  /**\n   * Retrieves the current version string of the wallet.\n   *\n   * @param {{}} args - Empty argument object.\n   * @param {OriginatorDomainNameStringUnder250Bytes} [originator] - Fully-qualified domain name (FQDN) of the application that originated the request.\n   * @returns {Promise<GetVersionResult>} Resolves to an object containing the version string of the wallet, or an error.\n   */\n  getVersion: (\n    args: object,\n    originator?: OriginatorDomainNameStringUnder250Bytes\n  ) => Promise<GetVersionResult>\n}\n","import BigNumber from '../primitives/BigNumber.js'\nimport { Writer, toArray } from '../primitives/utils.js'\nimport * as ECDSA from '../primitives/ECDSA.js'\nimport * as Hash from '../primitives/Hash.js'\nimport PrivateKey from '../primitives/PrivateKey.js'\nimport PublicKey from '../primitives/PublicKey.js'\nimport Signature from '../primitives/Signature.js'\n\nconst prefix = 'Bitcoin Signed Message:\\n'\n\n/**\n * Generates a SHA256 double-hash of the prefixed message.\n * @deprecated Replaced by BRC-77 which uses a more secure and private method for message signing.\n * @param messageBuf The message buffer to be hashed.\n * @returns The double-hash of the prefixed message as a number array.\n */\nexport const magicHash = (messageBuf: number[]): number[] => {\n  const bw = new Writer()\n  bw.writeVarIntNum(prefix.length)\n  bw.write(toArray(prefix, 'utf8'))\n  bw.writeVarIntNum(messageBuf.length)\n  bw.write(messageBuf)\n  const buf = bw.toArray()\n  const hashBuf = Hash.hash256(buf)\n  return hashBuf\n}\n\n/**\n * Signs a BSM message using the given private key.\n * @deprecated Replaced by BRC-77 which employs BRC-42 key derivation and BRC-43 invoice numbers for enhanced security and privacy.\n * @param message The message to be signed as a number array.\n * @param privateKey The private key used for signing the message.\n * @param mode The mode of operation. When \"base64\", the BSM format signature is returned. When \"raw\", a Signature object is returned. Default: \"base64\".\n * @returns The signature object when in raw mode, or the BSM base64 string when in base64 mode.\n */\nexport const sign = (\n  message: number[],\n  privateKey: PrivateKey,\n  mode: 'raw' | 'base64' = 'base64'\n): Signature | string => {\n  const hashBuf = magicHash(message)\n  const sig = ECDSA.sign(new BigNumber(hashBuf), privateKey, true)\n  if (mode === 'raw') {\n    return sig\n  }\n  const h = new BigNumber(hashBuf)\n  const r = sig.CalculateRecoveryFactor(privateKey.toPublicKey(), h)\n  return sig.toCompact(r, true, 'base64') as string\n}\n\n/**\n * Verifies a BSM signed message using the given public key.\n * @deprecated Replaced by BRC-77 which provides privately-verifiable signatures and avoids key reuse.\n * @param message The message to be verified as a number array.\n * @param sig The signature object.\n * @param pubKey The public key for verification.\n * @returns True if the signature is valid, false otherwise.\n */\nexport const verify = (\n  message: number[],\n  sig: Signature,\n  pubKey: PublicKey\n): boolean => {\n  const hashBuf = magicHash(message)\n  return ECDSA.verify(new BigNumber(hashBuf), sig, pubKey)\n}\n","import {\n  Base64String,\n  BasketStringUnder300Bytes,\n  BEEF,\n  BooleanDefaultFalse,\n  BooleanDefaultTrue,\n  Byte,\n  CertificateFieldNameUnder50Bytes,\n  DescriptionString5to50Bytes,\n  EntityIconURLStringMax500Bytes,\n  EntityNameStringMax100Bytes,\n  HexString,\n  ISOTimestampString,\n  KeyIDStringUnder800Bytes,\n  LabelStringUnder300Bytes,\n  OutpointString,\n  OutputTagStringUnder300Bytes,\n  PositiveInteger,\n  PositiveIntegerDefault10Max10000,\n  PositiveIntegerMax10,\n  PositiveIntegerOrZero,\n  ProtocolString5To400Bytes,\n  PubKeyHex,\n  SatoshiValue,\n  SecurityLevel,\n  TXIDHexString,\n  VersionString7To30Bytes,\n  WalletInterface\n} from '../Wallet.interfaces.js'\nimport Random from '../../primitives/Random.js'\nimport * as Utils from '../../primitives/utils.js'\nimport { WalletError } from '../WalletError.js'\nimport { CallType } from './WalletWireCalls.js'\n\n/**\n * Facilitates wallet operations over cross-document messaging.\n */\nexport default class XDMSubstrate implements WalletInterface {\n  private readonly domain: string\n\n  constructor(domain: string = '*') {\n    if (typeof window !== 'object') {\n      throw new Error('The XDM substrate requires a global window object.')\n    }\n    if (typeof window.postMessage !== 'function') {\n      throw new Error(\n        'The window object does not seem to support postMessage calls.'\n      )\n    }\n    this.domain = domain\n  }\n\n  async invoke(call: CallType, args: any): Promise<any> {\n    return await new Promise((resolve, reject) => {\n      const id = Utils.toBase64(Random(12))\n      const listener = (e: MessageEvent): void => {\n        if (\n          e.data.type !== 'CWI' ||\n          !e.isTrusted ||\n          e.data.id !== id ||\n          e.data.isInvocation === true\n        ) { return }\n        if (typeof window.removeEventListener === 'function') {\n          window.removeEventListener('message', listener)\n        }\n        if (e.data.status === 'error') {\n          const err = new WalletError(e.data.description, e.data.code)\n          reject(err)\n        } else {\n          resolve(e.data.result)\n        }\n      }\n      window.addEventListener('message', listener)\n      window.parent.postMessage(\n        {\n          type: 'CWI',\n          isInvocation: true,\n          id,\n          call,\n          args\n        },\n        this.domain\n      )\n    })\n  }\n\n  async createAction(args: {\n    description: DescriptionString5to50Bytes\n    inputs?: Array<{\n      tx?: BEEF\n      outpoint: OutpointString\n      unlockingScript?: HexString\n      unlockingScriptLength?: PositiveInteger\n      inputDescription: DescriptionString5to50Bytes\n      sequenceNumber?: PositiveIntegerOrZero\n    }>\n    outputs?: Array<{\n      lockingScript: HexString\n      satoshis: SatoshiValue\n      outputDescription: DescriptionString5to50Bytes\n      basket?: BasketStringUnder300Bytes\n      customInstructions?: string\n      tags?: OutputTagStringUnder300Bytes[]\n    }>\n    lockTime?: PositiveIntegerOrZero\n    version?: PositiveIntegerOrZero\n    labels?: LabelStringUnder300Bytes[]\n    options?: {\n      signAndProcess?: BooleanDefaultTrue\n      acceptDelayedBroadcast?: BooleanDefaultTrue\n      trustSelf?: 'known'\n      knownTxids?: TXIDHexString[]\n      returnTXIDOnly?: BooleanDefaultFalse\n      noSend?: BooleanDefaultFalse\n      noSendChange?: OutpointString[]\n      sendWith?: TXIDHexString[]\n    }\n  }): Promise<{\n    txid?: TXIDHexString\n    tx?: BEEF\n    noSendChange?: OutpointString[]\n    sendWithResults?: Array<{\n      txid: TXIDHexString\n      status: 'unproven' | 'sending' | 'failed'\n    }>\n    signableTransaction?: { tx: BEEF, reference: Base64String }\n  }> {\n    return await this.invoke('createAction', args)\n  }\n\n  async signAction(args: {\n    spends: Record<\n      PositiveIntegerOrZero,\n      { unlockingScript: HexString, sequenceNumber?: PositiveIntegerOrZero }\n    >\n    reference: Base64String\n    options?: {\n      acceptDelayedBroadcast?: BooleanDefaultTrue\n      returnTXIDOnly?: BooleanDefaultFalse\n      noSend?: BooleanDefaultFalse\n      noSendChange?: OutpointString[]\n      sendWith: TXIDHexString[]\n    }\n  }): Promise<{\n    txid?: TXIDHexString\n    tx?: BEEF\n    noSendChange?: OutpointString[]\n    sendWithResults?: Array<{\n      txid: TXIDHexString\n      status: 'unproven' | 'sending' | 'failed'\n    }>\n  }> {\n    return await this.invoke('signAction', args)\n  }\n\n  async abortAction(args: {\n    reference: Base64String\n  }): Promise<{ aborted: true }> {\n    return await this.invoke('abortAction', args)\n  }\n\n  async listActions(args: {\n    labels: LabelStringUnder300Bytes[]\n    labelQueryMode?: 'any' | 'all'\n    includeLabels?: BooleanDefaultFalse\n    includeInputs?: BooleanDefaultFalse\n    includeInputSourceLockingScripts?: BooleanDefaultFalse\n    includeInputUnlockingScripts?: BooleanDefaultFalse\n    includeOutputs?: BooleanDefaultFalse\n    includeOutputLockingScripts?: BooleanDefaultFalse\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalActions: PositiveIntegerOrZero\n    actions: Array<{\n      txid: TXIDHexString\n      satoshis: SatoshiValue\n      status:\n      | 'completed'\n      | 'unprocessed'\n      | 'sending'\n      | 'unproven'\n      | 'unsigned'\n      | 'nosend'\n      | 'nonfinal'\n      isOutgoing: boolean\n      description: DescriptionString5to50Bytes\n      labels?: LabelStringUnder300Bytes[]\n      version: PositiveIntegerOrZero\n      lockTime: PositiveIntegerOrZero\n      inputs?: Array<{\n        sourceOutpoint: OutpointString\n        sourceSatoshis: SatoshiValue\n        sourceLockingScript?: HexString\n        unlockingScript?: HexString\n        inputDescription: DescriptionString5to50Bytes\n        sequenceNumber: PositiveIntegerOrZero\n      }>\n      outputs?: Array<{\n        outputIndex: PositiveIntegerOrZero\n        satoshis: SatoshiValue\n        lockingScript?: HexString\n        spendable: boolean\n        outputDescription: DescriptionString5to50Bytes\n        basket: BasketStringUnder300Bytes\n        tags: OutputTagStringUnder300Bytes[]\n        customInstructions?: string\n      }>\n    }>\n  }> {\n    return await this.invoke('listActions', args)\n  }\n\n  async internalizeAction(args: {\n    tx: BEEF\n    outputs: Array<{\n      outputIndex: PositiveIntegerOrZero\n      protocol: 'wallet payment' | 'basket insertion'\n      paymentRemittance?: {\n        derivationPrefix: Base64String\n        derivationSuffix: Base64String\n        senderIdentityKey: PubKeyHex\n      }\n      insertionRemittance?: {\n        basket: BasketStringUnder300Bytes\n        customInstructions?: string\n        tags?: OutputTagStringUnder300Bytes[]\n      }\n    }>\n    description: DescriptionString5to50Bytes\n    labels?: LabelStringUnder300Bytes[]\n  }): Promise<{ accepted: true }> {\n    return await this.invoke('internalizeAction', args)\n  }\n\n  async listOutputs(args: {\n    basket: BasketStringUnder300Bytes\n    tags?: OutputTagStringUnder300Bytes[]\n    tagQueryMode?: 'all' | 'any'\n    include?: 'locking scripts' | 'entire transactions'\n    includeCustomInstructions?: BooleanDefaultFalse\n    includeTags?: BooleanDefaultFalse\n    includeLabels?: BooleanDefaultFalse\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalOutputs: PositiveIntegerOrZero\n    outputs: Array<{\n      outpoint: OutpointString\n      satoshis: SatoshiValue\n      lockingScript?: HexString\n      tx?: BEEF\n      spendable: boolean\n      customInstructions?: string\n      tags?: OutputTagStringUnder300Bytes[]\n      labels?: LabelStringUnder300Bytes[]\n    }>\n  }> {\n    return await this.invoke('listOutputs', args)\n  }\n\n  async relinquishOutput(args: {\n    basket: BasketStringUnder300Bytes\n    output: OutpointString\n  }): Promise<{ relinquished: true }> {\n    return await this.invoke('relinquishOutput', args)\n  }\n\n  async getPublicKey(args: {\n    identityKey?: true\n    protocolID?: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID?: KeyIDStringUnder800Bytes\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n  }): Promise<{ publicKey: PubKeyHex }> {\n    return await this.invoke('getPublicKey', args)\n  }\n\n  async revealCounterpartyKeyLinkage(args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    revelationTime: ISOTimestampString\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n  }> {\n    return await this.invoke('revealCounterpartyKeyLinkage', args)\n  }\n\n  async revealSpecificKeyLinkage(args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n    proofType: Byte\n  }> {\n    return await this.invoke('revealSpecificKeyLinkage', args)\n  }\n\n  async encrypt(args: {\n    plaintext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ ciphertext: Byte[] }> {\n    return await this.invoke('encrypt', args)\n  }\n\n  async decrypt(args: {\n    ciphertext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ plaintext: Byte[] }> {\n    return await this.invoke('decrypt', args)\n  }\n\n  async createHmac(args: {\n    data: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ hmac: Byte[] }> {\n    return await this.invoke('createHmac', args)\n  }\n\n  async verifyHmac(args: {\n    data: Byte[]\n    hmac: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    return await this.invoke('verifyHmac', args)\n  }\n\n  async createSignature(args: {\n    data?: Byte[]\n    hashToDirectlySign?: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ signature: Byte[] }> {\n    return await this.invoke('createSignature', args)\n  }\n\n  async verifySignature(args: {\n    data?: Byte[]\n    hashToDirectlyVerify?: Byte[]\n    signature: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    return await this.invoke('verifySignature', args)\n  }\n\n  async acquireCertificate(args: {\n    type: Base64String\n    subject: PubKeyHex\n    serialNumber: Base64String\n    revocationOutpoint: OutpointString\n    signature: HexString\n    fields: Record<CertificateFieldNameUnder50Bytes, string>\n    certifier: PubKeyHex\n    keyringRevealer: PubKeyHex | 'certifier'\n    keyringForSubject: Record<CertificateFieldNameUnder50Bytes, Base64String>\n    acquisitionProtocol: 'direct' | 'issuance'\n    certifierUrl?: string\n  }): Promise<{\n    type: Base64String\n    subject: PubKeyHex\n    serialNumber: Base64String\n    certifier: PubKeyHex\n    revocationOutpoint: OutpointString\n    signature: HexString\n    fields: Record<CertificateFieldNameUnder50Bytes, string>\n  }> {\n    return await this.invoke('acquireCertificate', args)\n  }\n\n  async listCertificates(args: {\n    certifiers: PubKeyHex[]\n    types: Base64String[]\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n  }): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.invoke('listCertificates', args)\n  }\n\n  async proveCertificate(args: {\n    certificate: {\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, string>\n    }\n    fieldsToReveal: CertificateFieldNameUnder50Bytes[]\n    verifier: PubKeyHex\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n  }): Promise<{\n    keyringForVerifier: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  }> {\n    return await this.invoke('proveCertificate', args)\n  }\n\n  async relinquishCertificate(args: {\n    type: Base64String\n    serialNumber: Base64String\n    certifier: PubKeyHex\n  }): Promise<{ relinquished: true }> {\n    return await this.invoke('relinquishCertificate', args)\n  }\n\n  async discoverByIdentityKey(args: {\n    identityKey: PubKeyHex\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.invoke('discoverByIdentityKey', args)\n  }\n\n  async discoverByAttributes(args: {\n    attributes: Record<CertificateFieldNameUnder50Bytes, string>\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.invoke('discoverByAttributes', args)\n  }\n\n  async isAuthenticated(args: {}): Promise<{ authenticated: true }> {\n    return await this.invoke('isAuthenticated', args)\n  }\n\n  async waitForAuthentication(args: {}): Promise<{ authenticated: true }> {\n    return await this.invoke('waitForAuthentication', args)\n  }\n\n  async getHeight(args: {}): Promise<{ height: PositiveInteger }> {\n    return await this.invoke('getHeight', args)\n  }\n\n  async getHeaderForHeight(args: {\n    height: PositiveInteger\n  }): Promise<{ header: HexString }> {\n    return await this.invoke('getHeaderForHeight', args)\n  }\n\n  async getNetwork(args: {}): Promise<{ network: 'mainnet' | 'testnet' }> {\n    return await this.invoke('getNetwork', args)\n  }\n\n  async getVersion(args: {}): Promise<{ version: VersionString7To30Bytes }> {\n    return await this.invoke('getVersion', args)\n  }\n}\n","import { HttpClient, HttpClientResponse } from './HttpClient.js'\nimport { NodejsHttpClient } from './NodejsHttpClient.js'\nimport { FetchHttpClient } from './FetchHttpClient.js'\n\n/**\n * Returns a default HttpClient implementation based on the environment that it is run on.\n * This method will attempt to use `window.fetch` if available (in browser environments).\n * If running in a Node environment, it falls back to using the Node `https` module\n */\nexport function defaultHttpClient(): HttpClient {\n  const noHttpClient: HttpClient = {\n    async request(..._): Promise<HttpClientResponse> {\n      throw new Error('No method available to perform HTTP request')\n    }\n  }\n\n  if (typeof window !== 'undefined' && typeof window.fetch === 'function') {\n    // Use fetch in a browser environment\n    return new FetchHttpClient(window.fetch.bind(window))\n  } else if (typeof require !== 'undefined') {\n    // Use Node https module\n    // eslint-disable-next-line\n    try {\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\n      const https = require('https')\n      return new NodejsHttpClient(https)\n    } catch (e) {\n      return noHttpClient\n    }\n  } else {\n    return noHttpClient\n  }\n}\n","export { default as BigNumber } from './BigNumber.js'\nexport { default as Curve } from './Curve.js'\nexport { default as Point } from './Point.js'\nexport { default as PublicKey } from './PublicKey.js'\nexport { default as Signature } from './Signature.js'\nexport { default as PrivateKey, KeyShares } from './PrivateKey.js'\nexport { default as SymmetricKey } from './SymmetricKey.js'\nexport { default as DRBG } from './DRBG.js'\nexport * as ECDSA from './ECDSA.js'\nexport * as Utils from './utils.js'\nexport * as Hash from './Hash.js'\nexport { default as Random } from './Random.js'\nexport { default as TransactionSignature } from './TransactionSignature.js'\nexport { default as Polynomial, PointInFiniteField } from './Polynomial.js'\nexport { default as Schnorr } from './Schnorr.js'\n","// @ts-nocheck\nimport ReductionContext from './ReductionContext.js'\n\n/**\n * JavaScript numbers are only precise up to 53 bits. Since Bitcoin relies on\n * 256-bit cryptography, this BigNumber class enables operations on larger\n * numbers.\n *\n * @class BigNumber\n */\nexport default class BigNumber {\n  /**\n   * @privateinitializer\n   */\n  public static readonly zeros: string[] = [\n    '', '0', '00', '000', '0000', '00000', '000000', '0000000', '00000000',\n    '000000000', '0000000000', '00000000000', '000000000000', '0000000000000',\n    '00000000000000', '000000000000000', '0000000000000000', '00000000000000000',\n    '000000000000000000', '0000000000000000000', '00000000000000000000',\n    '000000000000000000000', '0000000000000000000000', '00000000000000000000000',\n    '000000000000000000000000', '0000000000000000000000000'\n  ]\n\n  /**\n   * @privateinitializer\n   */\n  static readonly groupSizes: number[] = [\n    0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5\n  ]\n\n  /**\n   * @privateinitializer\n   */\n  static readonly groupBases: number[] = [\n    0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632, 6436343,\n    7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 24300000,\n    28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ]\n\n  /**\n   * The word size of big number chunks.\n   *\n   * @property wordSize\n   *\n   * @example\n   * console.log(BigNumber.wordSize);  // output: 26\n   */\n  static readonly wordSize: number = 26\n  private static readonly WORD_SIZE_BIGINT: bigint = BigInt(BigNumber.wordSize)\n  private static readonly WORD_MASK: bigint = (1n << BigNumber.WORD_SIZE_BIGINT) - 1n\n  private static readonly MAX_SAFE_INTEGER_BIGINT: bigint = BigInt(Number.MAX_SAFE_INTEGER)\n  private static readonly MIN_SAFE_INTEGER_BIGINT: bigint = BigInt(Number.MIN_SAFE_INTEGER)\n  private static readonly MAX_IMULN_ARG: number = 0x4000000 - 1\n  private static readonly MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT: bigint = (1n << 53n) - 1n\n\n  private _magnitude: bigint\n  private _sign: 0 | 1\n  private _nominalWordLength: number\n\n  /**\n   * Reduction context of the big number.\n   *\n   * @property red\n   */\n  public red: ReductionContext | null\n\n  /**\n   * Negative flag. Indicates whether the big number is a negative number.\n   * - If 0, the number is positive.\n   * - If 1, the number is negative.\n   *\n   * @property negative\n   */\n  public get negative (): number {\n    return this._sign\n  }\n\n  /**\n   * Sets the negative flag. Only 0 (positive) or 1 (negative) are allowed.\n   */\n  public set negative (val: number) {\n    this.assert(val === 0 || val === 1, 'Negative property must be 0 or 1')\n    const newSign = val === 1 ? 1 : 0\n    if (this._magnitude === 0n) {\n      this._sign = 0\n    } else {\n      this._sign = newSign\n    }\n  }\n\n  private get _computedWordsArray (): number[] {\n    if (this._magnitude === 0n) return [0]\n    const arr: number[] = []\n    let temp = this._magnitude\n    while (temp > 0n) {\n      arr.push(Number(temp & BigNumber.WORD_MASK))\n      temp >>= BigNumber.WORD_SIZE_BIGINT\n    }\n    return arr.length > 0 ? arr : [0]\n  }\n\n  /**\n   * Array of numbers, where each number represents a part of the value of the big number.\n   *\n   * @property words\n   */\n  public get words (): number[] {\n    const computed = this._computedWordsArray\n    if (this._nominalWordLength <= computed.length) {\n      return computed\n    }\n    const paddedWords = new Array(this._nominalWordLength).fill(0)\n    for (let i = 0; i < computed.length; i++) {\n      paddedWords[i] = computed[i]\n    }\n    return paddedWords\n  }\n\n  /**\n   * Sets the words array representing the value of the big number.\n   */\n  public set words (newWords: number[]) {\n    const oldSign = this._sign\n    let newMagnitude = 0n\n    const len = newWords.length > 0 ? newWords.length : 1\n    for (let i = len - 1; i >= 0; i--) {\n      const wordVal = newWords[i] === undefined ? 0 : newWords[i]\n      newMagnitude = (newMagnitude << BigNumber.WORD_SIZE_BIGINT) | BigInt(wordVal & Number(BigNumber.WORD_MASK))\n    }\n    this._magnitude = newMagnitude\n    this._sign = oldSign\n    this._nominalWordLength = len\n    this.normSign()\n  }\n\n  /**\n   * Length of the words array.\n   *\n   * @property length\n   */\n  public get length (): number {\n    return Math.max(1, this._nominalWordLength)\n  }\n\n  /**\n   * Checks whether a value is an instance of BigNumber. Regular JS numbers fail this check.\n   *\n   * @method isBN\n   * @param num - The value to be checked.\n   * @returns - Returns a boolean value determining whether or not the checked num parameter is a BigNumber.\n   */\n  static isBN (num: any): boolean {\n    if (num instanceof BigNumber) return true\n    return (\n      num !== null &&\n      typeof num === 'object' &&\n      num.constructor?.wordSize === BigNumber.wordSize &&\n      Array.isArray(num.words)\n    )\n  }\n\n  /**\n   * Returns the bigger value between two BigNumbers\n   *\n   * @method max\n   * @param left - The first BigNumber to be compared.\n   * @param right - The second BigNumber to be compared.\n   * @returns - Returns the bigger BigNumber between left and right.\n   */\n  static max (left: BigNumber, right: BigNumber): BigNumber { return left.cmp(right) > 0 ? left : right }\n\n  /**\n   * Returns the smaller value between two BigNumbers\n   *\n   * @method min\n   * @param left - The first BigNumber to be compared.\n   * @param right - The second BigNumber to be compared.\n   * @returns - Returns the smaller value between left and right.\n   */\n  static min (left: BigNumber, right: BigNumber): BigNumber { return left.cmp(right) < 0 ? left : right }\n\n  /**\n   * @constructor\n   *\n   * @param number - The number (various types accepted) to construct a BigNumber from. Default is 0.\n   * @param base - The base of number provided. By default is 10.\n   * @param endian - The endianness provided. By default is 'big endian'.\n   */\n  constructor (\n    number: number | string | number[] | bigint | undefined = 0,\n    base: number | 'be' | 'le' | 'hex' = 10,\n    endian: 'be' | 'le' = 'be'\n  ) {\n    this._magnitude = 0n\n    this._sign = 0\n    this._nominalWordLength = 1\n    this.red = null\n\n    if (number === undefined) number = 0\n\n    if (number === null) { this._initializeState(0n, 0); return }\n    if (typeof number === 'bigint') { this._initializeState(number < 0n ? -number : number, number < 0n ? 1 : 0); this.normSign(); return }\n\n    let effectiveBase: number | 'hex' = base\n    let effectiveEndian: 'be' | 'le' = endian\n\n    if (base === 'le' || base === 'be') { effectiveEndian = base; effectiveBase = 10 }\n\n    if (typeof number === 'number') { this.initNumber(number, effectiveEndian); return }\n    if (Array.isArray(number)) { this.initArray(number, effectiveEndian); return }\n\n    if (typeof number === 'string') {\n      if (effectiveBase === 'hex') effectiveBase = 16\n      this.assert(typeof effectiveBase === 'number' && effectiveBase === (effectiveBase | 0) && effectiveBase >= 2 && effectiveBase <= 36, 'Base must be an integer between 2 and 36')\n      const originalNumberStr = number.toString().replace(/\\s+/g, '')\n      let start = 0; let sign = 0\n      if (originalNumberStr.startsWith('-')) { start++; sign = 1 } else if (originalNumberStr.startsWith('+')) { start++ }\n\n      const numStr = originalNumberStr.substring(start)\n      if (numStr.length === 0) { this._initializeState(0n, (sign === 1 && originalNumberStr.startsWith('-')) ? 1 : 0); this.normSign(); return }\n\n      if (effectiveBase === 16) {\n        let tempMagnitude: bigint\n        if (effectiveEndian === 'le') {\n          const bytes: number[] = []; let hexStr = numStr\n          if (hexStr.length % 2 !== 0) hexStr = '0' + hexStr\n          for (let i = 0; i < hexStr.length; i += 2) {\n            const byteHex = hexStr.substring(i, i + 2); const byteVal = parseInt(byteHex, 16)\n            if (isNaN(byteVal)) throw new Error('Invalid character in ' + hexStr)\n            bytes.push(byteVal)\n          }\n          this.initArray(bytes, 'le'); this._sign = sign; this.normSign(); return\n        } else {\n          try { tempMagnitude = BigInt('0x' + numStr) } catch (e) { throw new Error('Invalid character in ' + numStr) }\n        }\n        this._initializeState(tempMagnitude, sign); this.normSign()\n      } else {\n        try {\n          this._parseBaseString(numStr, effectiveBase)\n          this._sign = sign; this.normSign()\n          if (effectiveEndian === 'le') {\n            const currentSign = this._sign\n            this.initArray(this.toArray('be'), 'le')\n            this._sign = currentSign; this.normSign()\n          }\n        } catch (err) {\n          const error = err as Error\n          if (\n            error.message.includes('Invalid character in string') ||\n            error.message.includes('Invalid digit for base') ||\n            error.message.startsWith('Invalid character:')\n          ) {\n            throw new Error('Invalid character')\n          }\n          throw error\n        }\n      }\n    } else if (number !== 0) {\n      this.assert(false, 'Unsupported input type for BigNumber constructor')\n    } else {\n      this._initializeState(0n, 0)\n    }\n  }\n\n  private _bigIntToStringInBase (num: bigint, base: number): string {\n    if (num === 0n) return '0'\n    if (base < 2 || base > 36) throw new Error('Base must be between 2 and 36')\n\n    const digits = '0123456789abcdefghijklmnopqrstuvwxyz'\n    let result = ''\n    let currentNum = num > 0n ? num : -num\n    const bigBase = BigInt(base)\n\n    while (currentNum > 0n) {\n      result = digits[Number(currentNum % bigBase)] + result\n      currentNum /= bigBase\n    }\n    return result\n  }\n\n  private _parseBaseString (numberStr: string, base: number): void {\n    if (numberStr.length === 0) { this._magnitude = 0n; this._finishInitialization(); return }\n\n    this._magnitude = 0n\n    const bigBase = BigInt(base)\n\n    let groupSize = BigNumber.groupSizes[base]\n    let groupBaseBigInt = BigInt(BigNumber.groupBases[base])\n\n    if (groupSize === 0 || groupBaseBigInt === 0n) {\n      groupSize = Math.floor(Math.log(0x3ffffff) / Math.log(base))\n      if (groupSize === 0) groupSize = 1\n      groupBaseBigInt = bigBase ** BigInt(groupSize)\n    }\n\n    let currentPos = 0\n    const totalLen = numberStr.length\n\n    let firstChunkLen = totalLen % groupSize\n    if (firstChunkLen === 0 && totalLen > 0) firstChunkLen = groupSize\n\n    if (firstChunkLen > 0) {\n      const chunkStr = numberStr.substring(currentPos, currentPos + firstChunkLen)\n      this._magnitude = BigInt(this._parseBaseWord(chunkStr, base))\n      currentPos += firstChunkLen\n    }\n\n    while (currentPos < totalLen) {\n      const chunkStr = numberStr.substring(currentPos, currentPos + groupSize)\n      const wordVal = BigInt(this._parseBaseWord(chunkStr, base))\n      this._magnitude = this._magnitude * groupBaseBigInt + wordVal\n      currentPos += groupSize\n    }\n\n    this._finishInitialization()\n  }\n\n  private _parseBaseWord (str: string, base: number): number {\n    let r = 0\n    for (let i = 0; i < str.length; i++) {\n      const charCode = str.charCodeAt(i)\n      let digitVal\n      if (charCode >= 48 && charCode <= 57) digitVal = charCode - 48\n      else if (charCode >= 65 && charCode <= 90) digitVal = charCode - 65 + 10\n      else if (charCode >= 97 && charCode <= 122) digitVal = charCode - 97 + 10\n      else throw new Error('Invalid character: ' + str[i])\n\n      if (digitVal >= base) throw new Error('Invalid character')\n      r = r * base + digitVal\n    }\n    return r\n  }\n\n  private _initializeState (magnitude: bigint, sign: 0 | 1): void {\n    this._magnitude = magnitude\n    this._sign = (magnitude === 0n) ? 0 : sign\n    this._finishInitialization()\n  }\n\n  private _finishInitialization (): void {\n    if (this._magnitude === 0n) {\n      this._nominalWordLength = 1\n      this._sign = 0\n    } else {\n      const bitLen = this._magnitude.toString(2).length\n      this._nominalWordLength = Math.max(1, Math.ceil(bitLen / BigNumber.wordSize))\n    }\n  }\n\n  private assert (val: unknown, msg: string = 'Assertion failed'): void { if (!(val as boolean)) throw new Error(msg) }\n\n  private initNumber (number: number, endian: 'be' | 'le' = 'be'): this {\n    this.assert(BigInt(Math.abs(number)) <= BigNumber.MAX_NUMBER_CONSTRUCTOR_MAG_BIGINT, 'The number is larger than 2 ^ 53 (unsafe)')\n    this.assert(number % 1 === 0, 'Number must be an integer for BigNumber conversion')\n    this._initializeState(BigInt(Math.abs(number)), number < 0 ? 1 : 0)\n    if (endian === 'le') {\n      const currentSign = this._sign\n      const beBytes = this.toArray('be')\n      this.initArray(beBytes, 'le')\n      this._sign = currentSign\n      this.normSign()\n    }\n    return this\n  }\n\n  private initArray (bytes: number[], endian: 'be' | 'le'): this {\n    if (bytes.length === 0) { this._initializeState(0n, 0); return this }\n    let magnitude = 0n\n    if (endian === 'be') {\n      for (let i = 0; i < bytes.length; i++) magnitude = (magnitude << 8n) | BigInt(bytes[i] & 0xff)\n    } else {\n      for (let i = bytes.length - 1; i >= 0; i--) magnitude = (magnitude << 8n) | BigInt(bytes[i] & 0xff)\n    }\n    this._initializeState(magnitude, 0)\n    return this\n  }\n\n  copy (dest: BigNumber): void { dest._magnitude = this._magnitude; dest._sign = this._sign; dest._nominalWordLength = this._nominalWordLength; dest.red = this.red }\n  static move (dest: BigNumber, src: BigNumber): void { dest._magnitude = src._magnitude; dest._sign = src._sign; dest._nominalWordLength = src._nominalWordLength; dest.red = src.red }\n  clone (): BigNumber { const r = new BigNumber(0n); this.copy(r); return r }\n\n  expand (size: number): this {\n    this.assert(size >= 0, 'Expand size must be non-negative')\n    this._nominalWordLength = Math.max(this._nominalWordLength, size, 1)\n    return this\n  }\n\n  strip (): this { this._finishInitialization(); return this.normSign() }\n  normSign (): this { if (this._magnitude === 0n) this._sign = 0; return this }\n  inspect (): string { return (this.red !== null ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>' }\n\n  private _getMinimalHex (): string {\n    if (this._magnitude === 0n) return '0'\n    return this._magnitude.toString(16)\n  }\n\n  /**\n   * Converts the BigNumber instance to a string representation.\n   *\n   * @method toString\n   * @param base - The base for representing number. Default is 10. Other accepted values are 16 and 'hex'.\n   * @param padding - Represents the minimum number of digits to represent the BigNumber as a string. Default is 1.\n   * @returns The string representation of the BigNumber instance\n   */\n  toString (base: number | 'hex' = 10, padding: number = 1): string {\n    if (base === 16 || base === 'hex') {\n      // For toString('hex', N), N is the 'multiple-of-N characters' rule from bn.js tests\n      // For toString(16, P) where P=1 (default) or P=0, it means minimal hex.\n      let hexStr = this._getMinimalHex() // e.g., \"f\", \"123\", \"0\"\n\n      if (padding > 1) { // N-multiple rule for characters\n        // Ensure hexStr is even length if not \"0\" to represent full bytes before applying multiple rule\n        if (hexStr !== '0' && hexStr.length % 2 !== 0) {\n          hexStr = '0' + hexStr\n        }\n        while (hexStr.length % padding !== 0) {\n          hexStr = '0' + hexStr\n        }\n      }\n      // If padding is 0 or 1, hexStr (minimal) is used as is.\n      // \"0\" is always \"0\" unless toHex(\"\") specific case.\n      // Single digit hex like \"f\" is not \"0f\" by default from toString(16).\n      return (this.isNeg() ? '-' : '') + hexStr\n    }\n\n    if (typeof base !== 'number' || base < 2 || base > 36 || base % 1 !== 0) throw new Error('Base should be an integer between 2 and 36')\n    return this.toBaseString(base, padding)\n  }\n\n  private toBaseString (base: number, padding: number): string {\n    if (this._magnitude === 0n) {\n      let out = '0'\n      if (padding > 1) { while (out.length < padding) out = '0' + out }\n      return out\n    }\n\n    let groupSize = BigNumber.groupSizes[base]\n    let groupBaseBigInt = BigInt(BigNumber.groupBases[base])\n    if (groupSize === 0 || groupBaseBigInt === 0n) {\n      groupSize = Math.floor(Math.log(Number.MAX_SAFE_INTEGER) / Math.log(base))\n      if (groupSize === 0) groupSize = 1\n      groupBaseBigInt = BigInt(base) ** BigInt(groupSize)\n    }\n\n    let out = ''\n    let tempMag = this._magnitude\n\n    while (tempMag > 0n) {\n      const remainder = tempMag % groupBaseBigInt\n      tempMag /= groupBaseBigInt\n\n      const chunkStr = this._bigIntToStringInBase(remainder, base)\n\n      if (tempMag > 0n) {\n        const zerosToPrepend = groupSize - chunkStr.length\n        if (zerosToPrepend > 0 && zerosToPrepend < BigNumber.zeros.length) {\n          out = BigNumber.zeros[zerosToPrepend] + chunkStr + out\n        } else if (zerosToPrepend > 0) {\n          out = '0'.repeat(zerosToPrepend) + chunkStr + out\n        } else {\n          out = chunkStr + out\n        }\n      } else {\n        out = chunkStr + out\n      }\n    }\n\n    if (padding > 0) { while (out.length < padding) out = '0' + out }\n    return (this._sign === 1 ? '-' : '') + out\n  }\n\n  /**\n   * Converts the BigNumber instance to a JavaScript number.\n   * Please note that JavaScript numbers are only precise up to 53 bits.\n   *\n   * @method toNumber\n   * @throws If the BigNumber instance cannot be safely stored in a JavaScript number\n   * @returns The JavaScript number representation of the BigNumber instance.\n   */\n  toNumber (): number {\n    const val = this._getSignedValue()\n    if (val > BigNumber.MAX_SAFE_INTEGER_BIGINT || val < BigNumber.MIN_SAFE_INTEGER_BIGINT) throw new Error('Number can only safely store up to 53 bits')\n    return Number(val)\n  }\n\n  /**\n   * Converts the BigNumber instance to a JSON-formatted string.\n   *\n   * @method toJSON\n   * @returns The JSON string representation of the BigNumber instance.\n   */\n  toJSON (): string {\n    const hex = this._getMinimalHex()\n    return (this.isNeg() ? '-' : '') + hex\n  }\n\n  private toArrayLikeGeneric (res: number[], isLE: boolean): void {\n    let tempMag = this._magnitude\n    let position = isLE ? 0 : res.length - 1\n    const increment = isLE ? 1 : -1\n\n    for (let k = 0; k < res.length; ++k) {\n      if (tempMag === 0n && position >= 0 && position < res.length) {\n        res[position] = 0\n      } else if (position >= 0 && position < res.length) {\n        res[position] = Number(tempMag & 0xffn)\n      } else {\n        break\n      }\n      tempMag >>= 8n\n      position += increment\n    }\n  }\n\n  /**\n   * Converts the BigNumber instance to an array of bytes.\n   *\n   * @method toArray\n   * @param endian - Endianness of the output array, defaults to 'be'.\n   * @param length - Optional length of the output array.\n   * @returns Array of bytes representing the BigNumber.\n   */\n  toArray (endian: 'le' | 'be' = 'be', length?: number): number[] {\n    this.strip()\n    const actualByteLength = this.byteLength()\n    const reqLength = length ?? Math.max(1, actualByteLength)\n\n    this.assert(actualByteLength <= reqLength, 'byte array longer than desired length')\n    this.assert(reqLength > 0, 'Requested array length <= 0')\n\n    const res = new Array(reqLength).fill(0)\n    if (this._magnitude === 0n && reqLength > 0) return res\n    if (this._magnitude === 0n && reqLength === 0) return []\n\n    this.toArrayLikeGeneric(res, endian === 'le')\n    return res\n  }\n\n  /**\n   * Calculates the number of bits required to represent the BigNumber.\n   *\n   * @method bitLength\n   * @returns The bit length of the BigNumber.\n   */\n  bitLength (): number { if (this._magnitude === 0n) return 0; return this._magnitude.toString(2).length }\n  /**\n   * Converts a BigNumber to an array of bits.\n   *\n   * @method toBitArray\n   * @param num - The BigNumber to convert.\n   * @returns An array of bits.\n   */\n  static toBitArray (num: BigNumber): Array<0 | 1> {\n    const len = num.bitLength()\n    if (len === 0) return []\n    const w = new Array<0 | 1>(len)\n    const mag = num._magnitude\n    for (let bit = 0; bit < len; bit++) {\n      w[bit] = ((mag >> BigInt(bit)) & 1n) !== 0n ? 1 : 0\n    }\n    return w\n  }\n\n  /**\n   * Instance version of {@link toBitArray}.\n   */\n  toBitArray (): Array<0 | 1> { return BigNumber.toBitArray(this) }\n\n  /**\n   * Returns the number of trailing zero bits in the big number.\n   *\n   * @method zeroBits\n   * @returns Returns the number of trailing zero bits\n   * in the binary representation of the big number.\n   *\n   * @example\n   * const bn = new BigNumber('8'); // binary: 1000\n   * const zeroBits = bn.zeroBits(); // 3\n   */\n  zeroBits (): number {\n    if (this._magnitude === 0n) return 0\n    let c = 0\n    let t = this._magnitude\n    while ((t & 1n) === 0n && t !== 0n) {\n      c++\n      t >>= 1n\n    }\n    return c\n  }\n\n  /**\n   * Calculates the number of bytes required to represent the BigNumber.\n   *\n   * @method byteLength\n   * @returns The byte length of the BigNumber.\n   */\n  byteLength (): number { if (this._magnitude === 0n) return 0; return Math.ceil(this.bitLength() / 8) }\n\n  private _getSignedValue (): bigint { return this._sign === 1 ? -this._magnitude : this._magnitude }\n\n  private _setValueFromSigned (sVal: bigint): void {\n    if (sVal < 0n) {\n      this._magnitude = -sVal\n      this._sign = 1\n    } else {\n      this._magnitude = sVal\n      this._sign = 0\n    }\n    this._finishInitialization()\n    this.normSign()\n  }\n\n  toTwos (width: number): BigNumber {\n    this.assert(width >= 0)\n    const Bw = BigInt(width)\n    let v = this._getSignedValue()\n    if (this._sign === 1 && this._magnitude !== 0n) v = (1n << Bw) + v\n    const m = (1n << Bw) - 1n; v &= m\n    const r = new BigNumber(0n)\n    r._initializeState(v, 0)\n    return r\n  }\n\n  fromTwos (width: number): BigNumber {\n    this.assert(width >= 0)\n    const Bw = BigInt(width)\n    const m = this._magnitude\n    if (width > 0 && ((m >> (Bw - 1n)) & 1n) !== 0n && this._sign === 0) {\n      const sVal = m - (1n << Bw)\n      const r = new BigNumber(0n)\n      r._setValueFromSigned(sVal)\n      return r\n    }\n    return this.clone()\n  }\n\n  isNeg (): boolean { return this._sign === 1 && this._magnitude !== 0n }\n  neg (): BigNumber { return this.clone().ineg() }\n  ineg (): this { if (this._magnitude !== 0n) this._sign = this._sign === 1 ? 0 : 1; return this }\n\n  private _iuop (num: BigNumber, op: (a: bigint, b: bigint) => bigint): this {\n    const newMag = op(this._magnitude, num._magnitude)\n    const isXor = op === ((a: bigint, b: bigint) => a ^ b)\n    let targetNominalLength = this._nominalWordLength\n    if (isXor) targetNominalLength = Math.max(this.length, num.length)\n\n    this._magnitude = newMag\n    this._finishInitialization()\n    if (isXor) this._nominalWordLength = Math.max(this._nominalWordLength, targetNominalLength)\n    return this.strip()\n  }\n\n  iuor (num: BigNumber): this { return this._iuop(num, (a, b) => a | b) }\n  iuand (num: BigNumber): this { return this._iuop(num, (a, b) => a & b) }\n  iuxor (num: BigNumber): this { return this._iuop(num, (a, b) => a ^ b) }\n  private _iop (num: BigNumber, op: (a: bigint, b: bigint) => bigint): this { this.assert(this._sign === 0 && num._sign === 0); return this._iuop(num, op) }\n  ior (num: BigNumber): this { return this._iop(num, (a, b) => a | b) }\n  iand (num: BigNumber): this { return this._iop(num, (a, b) => a & b) }\n  ixor (num: BigNumber): this { return this._iop(num, (a, b) => a ^ b) }\n  private _uop_new (num: BigNumber, opName: 'iuor' | 'iuand' | 'iuxor'): BigNumber { if (this.length >= num.length) return this.clone()[opName](num); return num.clone()[opName](this) }\n  or (num: BigNumber): BigNumber { this.assert(this._sign === 0 && num._sign === 0); return this._uop_new(num, 'iuor') }\n  uor (num: BigNumber): BigNumber { return this._uop_new(num, 'iuor') }\n  and (num: BigNumber): BigNumber { this.assert(this._sign === 0 && num._sign === 0); return this._uop_new(num, 'iuand') }\n  uand (num: BigNumber): BigNumber { return this._uop_new(num, 'iuand') }\n  xor (num: BigNumber): BigNumber { this.assert(this._sign === 0 && num._sign === 0); return this._uop_new(num, 'iuxor') }\n  uxor (num: BigNumber): BigNumber { return this._uop_new(num, 'iuxor') }\n\n  inotn (width: number): this {\n    this.assert(typeof width === 'number' && width >= 0)\n    const Bw = BigInt(width)\n    const m = (1n << Bw) - 1n\n    this._magnitude = (~this._magnitude) & m\n    const wfw = width === 0 ? 1 : Math.ceil(width / BigNumber.wordSize)\n    this._nominalWordLength = Math.max(1, wfw)\n    this.strip()\n    this._nominalWordLength = Math.max(this._nominalWordLength, Math.max(1, wfw))\n    return this\n  }\n\n  notn (width: number): BigNumber { return this.clone().inotn(width) }\n  setn (bit: number, val: any): this { this.assert(typeof bit === 'number' && bit >= 0); const Bb = BigInt(bit); if (val === 1 || val === true) this._magnitude |= (1n << Bb); else this._magnitude &= ~(1n << Bb); const wnb = Math.floor(bit / BigNumber.wordSize) + 1; this._nominalWordLength = Math.max(this._nominalWordLength, wnb); this._finishInitialization(); return this.strip() }\n\n  iadd (num: BigNumber): this { this._setValueFromSigned(this._getSignedValue() + num._getSignedValue()); return this }\n  add (num: BigNumber): BigNumber { const r = new BigNumber(0n); r._setValueFromSigned(this._getSignedValue() + num._getSignedValue()); return r }\n  isub (num: BigNumber): this { this._setValueFromSigned(this._getSignedValue() - num._getSignedValue()); return this }\n  sub (num: BigNumber): BigNumber { const r = new BigNumber(0n); r._setValueFromSigned(this._getSignedValue() - num._getSignedValue()); return r }\n  mul (num: BigNumber): BigNumber {\n    const r = new BigNumber(0n)\n    r._magnitude = this._magnitude * num._magnitude\n    r._sign = r._magnitude === 0n ? 0 : ((this._sign ^ num._sign) as 0 | 1)\n    r._nominalWordLength = this.length + num.length\n    r.red = null\n    return r.normSign()\n  }\n\n  imul (num: BigNumber): this {\n    this._magnitude *= num._magnitude\n    this._sign = this._magnitude === 0n ? 0 : ((this._sign ^ num._sign) as 0 | 1)\n    this._nominalWordLength = this.length + num.length\n    this.red = null\n    return this.normSign()\n  }\n\n  imuln (num: number): this { this.assert(typeof num === 'number', 'Assertion failed'); this.assert(Math.abs(num) <= BigNumber.MAX_IMULN_ARG, 'Assertion failed'); this._setValueFromSigned(this._getSignedValue() * BigInt(num)); return this }\n  muln (num: number): BigNumber { return this.clone().imuln(num) }\n  sqr (): BigNumber {\n    const r = new BigNumber(0n)\n    r._magnitude = this._magnitude * this._magnitude\n    r._sign = 0\n    r._nominalWordLength = this.length * 2\n    r.red = null\n    return r\n  }\n\n  isqr (): this {\n    this._magnitude *= this._magnitude\n    this._sign = 0\n    this._nominalWordLength = this.length * 2\n    this.red = null\n    return this\n  }\n\n  pow (num: BigNumber): BigNumber {\n    this.assert(num._sign === 0, 'Exponent for pow must be non-negative')\n    if (num.isZero()) return new BigNumber(1n)\n\n    const res = new BigNumber(1n)\n    const currentBase = this.clone()\n    const exp = num.clone()\n\n    const baseIsNegative = currentBase.isNeg()\n    const expIsOdd = exp.isOdd()\n    if (baseIsNegative) currentBase.ineg()\n\n    while (!exp.isZero()) {\n      if (exp.isOdd()) {\n        res.imul(currentBase)\n      }\n      currentBase.isqr()\n      exp.iushrn(1)\n    }\n\n    if (baseIsNegative && expIsOdd) {\n      res.ineg()\n    }\n    return res\n  }\n\n  iushln (bits: number): this { this.assert(typeof bits === 'number' && bits >= 0); if (bits === 0) return this; this._magnitude <<= BigInt(bits); this._finishInitialization(); return this.strip() }\n  ishln (bits: number): this { this.assert(this._sign === 0, 'ishln requires positive number'); return this.iushln(bits) }\n\n  iushrn (bits: number, hint?: number, extended?: BigNumber): this {\n    this.assert(typeof bits === 'number' && bits >= 0)\n    if (bits === 0) {\n      if (extended != null)extended._initializeState(0n, 0)\n      return this\n    }\n    if (extended != null) {\n      const m = (1n << BigInt(bits)) - 1n\n      const sOut = this._magnitude & m\n      extended._initializeState(sOut, 0)\n    }\n    this._magnitude >>= BigInt(bits)\n    this._finishInitialization()\n    return this.strip()\n  }\n\n  ishrn (bits: number, hint?: number, extended?: BigNumber): this {\n    this.assert(this._sign === 0, 'ishrn requires positive number')\n    return this.iushrn(bits, hint, extended)\n  }\n\n  shln (bits: number): BigNumber { return this.clone().ishln(bits) }\n  ushln (bits: number): BigNumber { return this.clone().iushln(bits) }\n  shrn (bits: number): BigNumber { return this.clone().ishrn(bits) }\n  ushrn (bits: number): BigNumber { return this.clone().iushrn(bits) }\n\n  testn (bit: number): boolean {\n    this.assert(typeof bit === 'number' && bit >= 0)\n    return ((this._magnitude >> BigInt(bit)) & 1n) !== 0n\n  }\n\n  imaskn (bits: number): this {\n    this.assert(typeof bits === 'number' && bits >= 0)\n    this.assert(this._sign === 0, 'imaskn works only with positive numbers')\n    const Bb = BigInt(bits)\n    const m = Bb === 0n ? 0n : (1n << Bb) - 1n\n    this._magnitude &= m\n    const wfm = bits === 0 ? 1 : Math.max(1, Math.ceil(bits / BigNumber.wordSize))\n    this._nominalWordLength = wfm\n    this._finishInitialization()\n    this._nominalWordLength = Math.max(this._nominalWordLength, wfm)\n    return this.strip()\n  }\n\n  maskn (bits: number): BigNumber { return this.clone().imaskn(bits) }\n  iaddn (num: number): this { this.assert(typeof num === 'number'); this.assert(Math.abs(num) <= BigNumber.MAX_IMULN_ARG, 'num is too large'); this._setValueFromSigned(this._getSignedValue() + BigInt(num)); return this }\n  _iaddn (num: number): this { return this.iaddn(num) }\n  isubn (num: number): this { this.assert(typeof num === 'number'); this.assert(Math.abs(num) <= BigNumber.MAX_IMULN_ARG, 'Assertion failed'); this._setValueFromSigned(this._getSignedValue() - BigInt(num)); return this }\n  addn (num: number): BigNumber { return this.clone().iaddn(num) } subn (num: number): BigNumber { return this.clone().isubn(num) }\n  iabs (): this { this._sign = 0; return this } abs (): BigNumber { return this.clone().iabs() }\n\n  divmod (num: BigNumber, mode?: 'div' | 'mod', positive?: boolean): any {\n    this.assert(!num.isZero(), 'Division by zero')\n    if (this.isZero()) {\n      const z = new BigNumber(0n)\n      return { div: mode !== 'mod' ? z : null, mod: mode !== 'div' ? z : null }\n    }\n    const tV = this._getSignedValue()\n    const nV = num._getSignedValue()\n    let dV: bigint | null = null\n    let mV: bigint | null = null\n    if (mode !== 'mod') dV = tV / nV\n    if (mode !== 'div') {\n      mV = tV % nV\n      if (positive === true && mV < 0n) mV += nV < 0n ? -nV : nV\n    }\n    const rd = dV !== null ? new BigNumber(0n) : null\n    if (rd !== null && dV !== null) rd._setValueFromSigned(dV)\n    const rm = mV !== null ? new BigNumber(0n) : null\n    if (rm !== null && mV !== null) rm._setValueFromSigned(mV)\n    return { div: rd, mod: rm }\n  }\n\n  div (num: BigNumber): BigNumber {\n    return this.divmod(num, 'div', false).div as BigNumber\n  }\n\n  mod (num: BigNumber): BigNumber {\n    return this.divmod(num, 'mod', false).mod as BigNumber\n  }\n\n  umod (num: BigNumber): BigNumber {\n    return this.divmod(num, 'mod', true).mod as BigNumber\n  }\n\n  divRound (num: BigNumber): BigNumber {\n    this.assert(!num.isZero())\n    const tV = this._getSignedValue()\n    const nV = num._getSignedValue()\n\n    let d = tV / nV\n    const m = tV % nV\n\n    if (m === 0n) {\n      const r = new BigNumber(0n); r._setValueFromSigned(d); return r\n    }\n\n    const absM = m < 0n ? -m : m\n    const absNV = nV < 0n ? -nV : nV\n\n    if (absM * 2n >= absNV) {\n      if ((tV > 0n && nV > 0n) || (tV < 0n && nV < 0n)) {\n        d += 1n\n      } else {\n        d -= 1n\n      }\n    }\n    const r = new BigNumber(0n); r._setValueFromSigned(d); return r\n  }\n\n  modrn (numArg: number): number {\n    this.assert(numArg !== 0, 'Division by zero in modrn')\n    const absDivisor = BigInt(Math.abs(numArg))\n    if (absDivisor === 0n) throw new Error('Division by zero in modrn')\n\n    const remainderMag = this._magnitude % absDivisor\n    return numArg < 0 ? Number(-remainderMag) : Number(remainderMag)\n  }\n\n  idivn (num: number): this {\n    this.assert(num !== 0)\n    this.assert(Math.abs(num) <= BigNumber.MAX_IMULN_ARG, 'num is too large')\n    this._setValueFromSigned(this._getSignedValue() / BigInt(num))\n    return this\n  }\n\n  divn (num: number): BigNumber { return this.clone().idivn(num) }\n\n  egcd (p: BigNumber): { a: BigNumber, b: BigNumber, gcd: BigNumber } {\n    this.assert(p._sign === 0, 'p must not be negative')\n    this.assert(!p.isZero(), 'p must not be zero')\n    let uV = this._getSignedValue()\n    let vV = p._magnitude; let a = 1n; let pa = 0n\n    let b = 0n\n    let pb = 1n\n    while (vV !== 0n) {\n      const q = uV / vV\n      let t = vV\n      vV = uV % vV\n      uV = t\n      t = pa\n      pa = a - q * pa\n      a = t\n      t = pb\n      pb = b - q * pb\n      b = t\n    }\n    const ra = new BigNumber(0n)\n    ra._setValueFromSigned(a)\n    const rb = new BigNumber(0n)\n    rb._setValueFromSigned(b)\n    const rg = new BigNumber(0n)\n    rg._initializeState(uV < 0n ? -uV : uV, 0)\n    return { a: ra, b: rb, gcd: rg }\n  }\n\n  gcd (num: BigNumber): BigNumber {\n    let u = this._magnitude\n    let v = num._magnitude\n    if (u === 0n) {\n      const r = new BigNumber(0n)\n      r._setValueFromSigned(v)\n      return r.iabs()\n    }\n    if (v === 0n) {\n      const r = new BigNumber(0n)\n      r._setValueFromSigned(u)\n      return r.iabs()\n    }\n    while (v !== 0n) {\n      const t = u % v\n      u = v\n      v = t\n    }\n    const res = new BigNumber(0n)\n    res._initializeState(u, 0)\n    return res\n  }\n\n  invm (num: BigNumber): BigNumber {\n    this.assert(!num.isZero() && num._sign === 0, 'Modulus for invm must be positive and non-zero')\n    const eg = this.egcd(num)\n    if (!eg.gcd.eqn(1)) {\n      throw new Error('Inverse does not exist (numbers are not coprime).')\n    }\n    return eg.a.umod(num)\n  }\n\n  isEven (): boolean { return this._magnitude % 2n === 0n } isOdd (): boolean { return this._magnitude % 2n === 1n }\n  andln (num: number): number { this.assert(num >= 0); return Number(this._magnitude & BigInt(num)) }\n  bincn (bit: number): this { this.assert(typeof bit === 'number' && bit >= 0); const BVal = 1n << BigInt(bit); this._setValueFromSigned(this._getSignedValue() + BVal); return this }\n  isZero (): boolean { return this._magnitude === 0n }\n  cmpn (num: number): 1 | 0 | -1 { this.assert(Math.abs(num) <= BigNumber.MAX_IMULN_ARG, 'Number is too big'); const tV = this._getSignedValue(); const nV = BigInt(num); if (tV < nV) return -1; if (tV > nV) return 1; return 0 }\n  cmp (num: BigNumber): 1 | 0 | -1 { const tV = this._getSignedValue(); const nV = num._getSignedValue(); if (tV < nV) return -1; if (tV > nV) return 1; return 0 }\n  ucmp (num: BigNumber): 1 | 0 | -1 { if (this._magnitude < num._magnitude) return -1; if (this._magnitude > num._magnitude) return 1; return 0 }\n  gtn (num: number): boolean { return this.cmpn(num) === 1 } gt (num: BigNumber): boolean { return this.cmp(num) === 1 } gten (num: number): boolean { return this.cmpn(num) >= 0 } gte (num: BigNumber): boolean { return this.cmp(num) >= 0 }\n  ltn (num: number): boolean { return this.cmpn(num) === -1 } lt (num: BigNumber): boolean { return this.cmp(num) === -1 } lten (num: number): boolean { return this.cmpn(num) <= 0 } lte (num: BigNumber): boolean { return this.cmp(num) <= 0 }\n  eqn (num: number): boolean { return this.cmpn(num) === 0 } eq (num: BigNumber): boolean { return this.cmp(num) === 0 }\n\n  toRed (ctx: ReductionContext): BigNumber { this.assert(this.red == null, 'Already a number in reduction context'); this.assert(this._sign === 0, 'toRed works only with positives'); return ctx.convertTo(this).forceRed(ctx) }\n  fromRed (): BigNumber { this.assert(this.red, 'fromRed works only with numbers in reduction context'); return this.red.convertFrom(this) }\n  forceRed (ctx: ReductionContext): this { this.red = ctx; return this }\n  redAdd (num: BigNumber): BigNumber { this.assert(this.red, 'redAdd works only with red numbers'); return this.red.add(this, num) }\n  redIAdd (num: BigNumber): BigNumber { this.assert(this.red, 'redIAdd works only with red numbers'); return this.red.iadd(this, num) }\n  redSub (num: BigNumber): BigNumber { this.assert(this.red, 'redSub works only with red numbers'); return this.red.sub(this, num) }\n  redISub (num: BigNumber): BigNumber { this.assert(this.red, 'redISub works only with red numbers'); return this.red.isub(this, num) }\n  redShl (num: number): BigNumber { this.assert(this.red, 'redShl works only with red numbers'); return this.red.shl(this, num) }\n  redMul (num: BigNumber): BigNumber { this.assert(this.red, 'redMul works only with red numbers'); this.red.verify2(this, num); return this.red.mul(this, num) }\n  redIMul (num: BigNumber): BigNumber { this.assert(this.red, 'redIMul works only with red numbers'); this.red.verify2(this, num); return this.red.imul(this, num) }\n  redSqr (): BigNumber { this.assert(this.red, 'redSqr works only with red numbers'); this.red.verify1(this); return this.red.sqr(this) }\n  redISqr (): BigNumber { this.assert(this.red, 'redISqr works only with red numbers'); this.red.verify1(this); return this.red.isqr(this) }\n  redSqrt (): BigNumber { this.assert(this.red, 'redSqrt works only with red numbers'); this.red.verify1(this); return this.red.sqrt(this) }\n  redInvm (): BigNumber { this.assert(this.red, 'redInvm works only with red numbers'); this.red.verify1(this); return this.red.invm(this) }\n  redNeg (): BigNumber { this.assert(this.red, 'redNeg works only with red numbers'); this.red.verify1(this); return this.red.neg(this) }\n  redPow (num: BigNumber): BigNumber { this.assert(this.red != null && num.red == null, 'redPow(normalNum)'); this.red.verify1(this); return this.red.pow(this, num) }\n\n  /**\n   * Creates a BigNumber from a hexadecimal string.\n   *\n   * @static\n   * @method fromHex\n   * @param hex - The hexadecimal string to create a BigNumber from.\n   * @param endian - Optional endianness for parsing the hex string.\n   * @returns Returns a BigNumber created from the hexadecimal input string.\n   *\n   * @example\n   * const exampleHex = 'a1b2c3';\n   * const bigNumber = BigNumber.fromHex(exampleHex);\n   */\n  static fromHex (hex: string, endian?: 'le' | 'be' | 'little' | 'big'): BigNumber {\n    let eE: 'le' | 'be' = 'be'\n    if (endian === 'little' || endian === 'le') eE = 'le'\n    return new BigNumber(hex, 16, eE)\n  }\n\n  /**\n   * Converts this BigNumber to a hexadecimal string.\n   *\n   * @method toHex\n   * @param length - The minimum length of the hex string\n   * @returns Returns a string representing the hexadecimal value of this BigNumber.\n   *\n   * @example\n   * const bigNumber = new BigNumber(255)\n   * const hex = bigNumber.toHex()\n   */\n  toHex (byteLength: number = 0): string {\n    if (this.isZero() && byteLength === 0) return ''\n\n    let hexStr = this._getMinimalHex() // Raw hex: \"0\", \"f\", \"10\", \"123\"\n\n    // Ensure even length for non-zero values (byte alignment)\n    if (hexStr !== '0' && hexStr.length % 2 !== 0) {\n      hexStr = '0' + hexStr\n    }\n\n    // Pad to minimum character length (byteLength * 2)\n    const minChars = byteLength * 2\n    while (hexStr.length < minChars) {\n      hexStr = '0' + hexStr\n    }\n    return (this.isNeg() ? '-' : '') + hexStr\n  }\n\n  /**\n   * Creates a BigNumber from a JSON-serialized string.\n   *\n   * @static\n   * @method fromJSON\n   * @param str - The JSON-serialized string to create a BigNumber from.\n   * @returns Returns a BigNumber created from the JSON input string.\n   */\n  static fromJSON (str: string): BigNumber { return new BigNumber(str, 16) }\n\n  /**\n   * Creates a BigNumber from a number.\n   *\n   * @static\n   * @method fromNumber\n   * @param n - The number to create a BigNumber from.\n   * @returns Returns a BigNumber equivalent to the input number.\n   */\n  static fromNumber (n: number): BigNumber { return new BigNumber(n) }\n\n  /**\n   * Creates a BigNumber from a string, considering an optional base.\n   *\n   * @static\n   * @method fromString\n   * @param str - The string to create a BigNumber from.\n   * @param base - The base used for conversion. If not provided, base 10 is assumed.\n   * @returns Returns a BigNumber equivalent to the string after conversion from the specified base.\n   */\n  static fromString (str: string, base?: number | 'hex'): BigNumber { return new BigNumber(str, base) }\n\n  /**\n   * Creates a BigNumber from a signed magnitude number.\n   *\n   * @static\n   * @method fromSm\n   * @param bytes - The signed magnitude number to convert to a BigNumber.\n   * @param endian - Defines endianess. If not provided, big endian is assumed.\n   * @returns Returns a BigNumber equivalent to the signed magnitude number interpreted with specified endianess.\n   */\n  static fromSm (bytes: number[], endian: 'big' | 'little' = 'big'): BigNumber {\n    if (bytes.length === 0) return new BigNumber(0n)\n\n    let sign: 0 | 1 = 0\n    let hex = ''\n\n    if (endian === 'little') {\n      const last = bytes.length - 1\n      let firstByte = bytes[last]\n      if ((firstByte & 0x80) !== 0) { sign = 1; firstByte &= 0x7f }\n      hex += (firstByte < 16 ? '0' : '') + firstByte.toString(16)\n      for (let i = last - 1; i >= 0; i--) {\n        const b = bytes[i]\n        hex += (b < 16 ? '0' : '') + b.toString(16)\n      }\n    } else {\n      let firstByte = bytes[0]\n      if ((firstByte & 0x80) !== 0) { sign = 1; firstByte &= 0x7f }\n      hex += (firstByte < 16 ? '0' : '') + firstByte.toString(16)\n      for (let i = 1; i < bytes.length; i++) {\n        const b = bytes[i]\n        hex += (b < 16 ? '0' : '') + b.toString(16)\n      }\n    }\n\n    const mag = hex === '' ? 0n : BigInt('0x' + hex)\n    const r = new BigNumber(0n)\n    r._initializeState(mag, sign)\n    return r\n  }\n\n  /**\n   * Converts this BigNumber to a signed magnitude number.\n   *\n   * @method toSm\n   * @param endian - Defines endianess. If not provided, big endian is assumed.\n   * @returns Returns an array equivalent to this BigNumber interpreted as a signed magnitude with specified endianess.\n   */\n  toSm (endian: 'big' | 'little' = 'big'): number[] {\n    if (this._magnitude === 0n) {\n      return this._sign === 1 ? [0x80] : []\n    }\n\n    let hex = this._getMinimalHex()\n    if (hex.length % 2 !== 0) hex = '0' + hex\n\n    const byteLen = hex.length / 2\n    const bytes = new Array(byteLen)\n    for (let i = 0, j = 0; i < hex.length; i += 2) {\n      bytes[j++] = parseInt(hex.slice(i, i + 2), 16)\n    }\n\n    if (this._sign === 1) {\n      if ((bytes[0] & 0x80) !== 0) bytes.unshift(0x80)\n      else bytes[0] |= 0x80\n    } else if ((bytes[0] & 0x80) !== 0) {\n      bytes.unshift(0x00)\n    }\n\n    return endian === 'little' ? bytes.reverse() : bytes\n  }\n\n  /**\n   * Creates a BigNumber from a number representing the \"bits\" value in a block header.\n   *\n   * @static\n   * @method fromBits\n   * @param bits - The number representing the bits value in a block header.\n   * @param strict - If true, an error is thrown if the number has negative bit set.\n   * @returns Returns a BigNumber equivalent to the \"bits\" value in a block header.\n   * @throws Will throw an error if `strict` is `true` and the number has negative bit set.\n   */\n  static fromBits (bits: number, strict: boolean = false): BigNumber {\n    const nSize = bits >>> 24\n    const nWordCompact = bits & 0x007fffff\n    const isNegativeFromBit = (bits & 0x00800000) !== 0\n\n    if (strict && isNegativeFromBit) {\n      throw new Error('negative bit set')\n    }\n\n    if (nSize === 0 && nWordCompact === 0) {\n      if (isNegativeFromBit && strict) throw new Error('negative bit set for zero value')\n      return new BigNumber(0n)\n    }\n\n    const bn = new BigNumber(nWordCompact)\n\n    // This logic comes from original bn.js `fromCompact`\n    if (nSize <= 3) {\n      bn.iushrn((3 - nSize) * 8)\n    } else {\n      bn.iushln((nSize - 3) * 8)\n    }\n\n    if (isNegativeFromBit) {\n      bn.ineg()\n    }\n    return bn\n  }\n\n  /**\n   * Converts this BigNumber to a number representing the \"bits\" value in a block header.\n   *\n   * @method toBits\n   * @returns Returns a number equivalent to the \"bits\" value in a block header.\n   */\n  toBits (): number {\n    this.strip()\n    if (this.isZero() && !this.isNeg()) return 0\n\n    const isActualNegative = this.isNeg()\n    const bnAbs = this.abs() // Work with absolute value for magnitude\n\n    // Get byte array of absolute value\n    let mB = bnAbs.toArray('be') // Minimal byte array\n\n    // Remove leading zeros from byte array, if any (toArray('be') might already do this if no length specified)\n    let firstNonZeroIdx = 0\n    while (firstNonZeroIdx < mB.length - 1 && mB[firstNonZeroIdx] === 0) { // Keep last byte if it's [0]\n      firstNonZeroIdx++\n    }\n    mB = mB.slice(firstNonZeroIdx)\n\n    let nSize = mB.length\n    if (nSize === 0 && !bnAbs.isZero()) { // Should not happen if bnAbs is truly non-zero and toArray is correct\n      mB = [0] // Should not be needed if toArray works for small numbers\n      nSize = 1\n    }\n    if (bnAbs.isZero()) { // if original was, e.g., -0, bnAbs is 0.\n      nSize = 0 // Size for 0 is 0, unless it's negative 0 to be encoded\n      mB = []\n    }\n\n    let nWordNum\n    if (nSize === 0) {\n      nWordNum = 0\n    } else if (nSize <= 3) {\n      nWordNum = 0\n      for (let i = 0; i < nSize; i++) {\n        nWordNum = (nWordNum << 8) | mB[i]\n      }\n    } else { // nSize > 3\n      nWordNum = (mB[0] << 16) | (mB[1] << 8) | mB[2]\n    }\n\n    if ((nWordNum & 0x00800000) !== 0 && nSize <= 0xff) { // MSB of 3-byte mantissa is set\n      nWordNum >>>= 8 // Shift mantissa over by one byte\n      nSize++ // Increase size component by one\n    }\n\n    let b = (nSize << 24) | nWordNum\n    if (isActualNegative) b |= 0x00800000\n    return b >>> 0\n  }\n\n  /**\n   * Creates a BigNumber from the format used in Bitcoin scripts.\n   *\n   * @static\n   * @method fromScriptNum\n   * @param num - The number in the format used in Bitcoin scripts.\n   * @param requireMinimal - If true, non-minimally encoded values will throw an error.\n   * @param maxNumSize - The maximum allowed size for the number.\n   * @returns Returns a BigNumber equivalent to the number used in a Bitcoin script.\n   */\n  static fromScriptNum (\n    num: number[],\n    requireMinimal: boolean = false,\n    maxNumSize?: number\n  ): BigNumber {\n    if (maxNumSize !== undefined && num.length > maxNumSize) throw new Error('script number overflow')\n    if (num.length === 0) return new BigNumber(0n)\n    if (requireMinimal) {\n      if ((num[num.length - 1] & 0x7f) === 0) {\n        if (num.length <= 1 || (num[num.length - 2] & 0x80) === 0) {\n          throw new Error('non-minimally encoded script number')\n        }\n      }\n    }\n    return BigNumber.fromSm(num, 'little')\n  }\n\n  /**\n   * Converts this BigNumber to a number in the format used in Bitcoin scripts.\n   *\n   * @method toScriptNum\n   * @returns Returns the equivalent to this BigNumber as a Bitcoin script number.\n   */\n  toScriptNum (): number[] { return this.toSm('little') }\n\n  /**\n   * Compute the multiplicative inverse of the current BigNumber in the modulus field specified by `p`.\n   * The multiplicative inverse is a number which when multiplied with the current BigNumber gives '1' in the modulus field.\n   *\n   * @method _invmp\n   * @param p - The `BigNumber` specifying the modulus field.\n   * @returns The multiplicative inverse `BigNumber` in the modulus field specified by `p`.\n   */\n  _invmp (p: BigNumber): BigNumber {\n    this.assert(p._sign === 0, 'p must not be negative for _invmp')\n    this.assert(!p.isZero(), 'p must not be zero for _invmp')\n\n    const aBN: BigNumber = this.umod(p)\n\n    let aVal = aBN._magnitude\n    let bVal = p._magnitude\n    let x1Val = 1n\n    let x2Val = 0n\n    const modulus = p._magnitude\n\n    while (aVal > 1n && bVal > 1n) {\n      let i = 0; while (((aVal >> BigInt(i)) & 1n) === 0n) i++\n      if (i > 0) {\n        aVal >>= BigInt(i)\n        for (let k = 0; k < i; ++k) { if ((x1Val & 1n) !== 0n) x1Val += modulus; x1Val >>= 1n }\n      }\n\n      let j = 0; while (((bVal >> BigInt(j)) & 1n) === 0n) j++\n      if (j > 0) {\n        bVal >>= BigInt(j)\n        for (let k = 0; k < j; ++k) { if ((x2Val & 1n) !== 0n) x2Val += modulus; x2Val >>= 1n }\n      }\n\n      if (aVal >= bVal) { aVal -= bVal; x1Val -= x2Val } else { bVal -= aVal; x2Val -= x1Val }\n    }\n\n    let resultVal: bigint\n    if (aVal === 1n) resultVal = x1Val\n    else if (bVal === 1n) resultVal = x2Val\n    else if (aVal === 0n && bVal === 1n) resultVal = x2Val\n    else if (bVal === 0n && aVal === 1n) resultVal = x1Val\n    else throw new Error('_invmp: GCD is not 1, inverse does not exist. aVal=' + aVal + ', bVal=' + bVal)\n\n    resultVal %= modulus\n    if (resultVal < 0n) resultVal += modulus\n\n    const resultBN = new BigNumber(0n)\n    resultBN._initializeState(resultVal, 0)\n    return resultBN\n  }\n\n  /**\n   * Performs multiplication between the BigNumber instance and a given BigNumber.\n   * It chooses the multiplication method based on the lengths of the numbers to optimize execution time.\n   *\n   * @method mulTo\n   * @param num - The BigNumber multiply with.\n   * @param out - The BigNumber where to store the result.\n   * @returns The BigNumber resulting from the multiplication operation.\n   */\n  mulTo (num: BigNumber, out: BigNumber): BigNumber {\n    out._magnitude = this._magnitude * num._magnitude\n    out._sign = out._magnitude === 0n ? 0 : ((this._sign ^ num._sign) as 0 | 1)\n    out._nominalWordLength = this.length + num.length\n    out.red = null\n    out.normSign()\n    return out\n  }\n}\n","import {\n  Base64String,\n  BasketStringUnder300Bytes,\n  BEEF,\n  BooleanDefaultFalse,\n  BooleanDefaultTrue,\n  Byte,\n  CertificateFieldNameUnder50Bytes,\n  DescriptionString5to50Bytes,\n  EntityIconURLStringMax500Bytes,\n  EntityNameStringMax100Bytes,\n  HexString,\n  ISOTimestampString,\n  KeyIDStringUnder800Bytes,\n  LabelStringUnder300Bytes,\n  OutpointString,\n  OutputTagStringUnder300Bytes,\n  PositiveInteger,\n  PositiveIntegerDefault10Max10000,\n  PositiveIntegerMax10,\n  PositiveIntegerOrZero,\n  ProtocolString5To400Bytes,\n  PubKeyHex,\n  SatoshiValue,\n  SecurityLevel,\n  TXIDHexString,\n  VersionString7To30Bytes,\n  WalletInterface\n} from '../Wallet.interfaces.js'\nimport Random from '../../primitives/Random.js'\nimport * as Utils from '../../primitives/utils.js'\nimport { WalletError } from '../WalletError.js'\nimport { CallType } from './WalletWireCalls.js'\n\ntype ReactNativeWindow = Window & {\n  ReactNativeWebView: {\n    postMessage: (message: any) => void\n  }\n}\n\n/**\n * Facilitates wallet operations over cross-document messaging.\n */\nexport default class ReactNativeWebView implements WalletInterface {\n  private readonly domain: string\n\n\n  constructor(domain: string = '*') {\n    if (typeof window !== 'object') {\n      throw new Error('The XDM substrate requires a global window object.')\n    }\n    if (!(window as unknown as ReactNativeWindow).hasOwnProperty(\"ReactNativeWebView\")) {\n      throw new Error(\n        'The window object does not have a ReactNativeWebView property.'\n      )\n    }\n    if (typeof (window as unknown as ReactNativeWindow).ReactNativeWebView.postMessage !== 'function') {\n      throw new Error(\n        'The window.ReactNativeWebView property does not seem to support postMessage calls.'\n      )\n    }\n    this.domain = domain\n  }\n\n  async invoke(call: CallType, args: any): Promise<any> {\n    return await new Promise((resolve, reject) => {\n      const id = Utils.toBase64(Random(12))\n      const listener = (e: MessageEvent): void => {\n        const data = JSON.parse(e.data)\n        if (\n          data.type !== 'CWI' ||\n          data.id !== id ||\n          data.isInvocation === true\n        ) {\n          return\n        }\n        if (typeof window.removeEventListener === 'function') {\n          window.removeEventListener('message', listener)\n        }\n        if (data.status === 'error') {\n          const err = new WalletError(data.description, data.code)\n          reject(err)\n        } else {\n          resolve(data.result)\n        }\n      }\n      window.addEventListener('message', listener)\n      ;(window as unknown as ReactNativeWindow).ReactNativeWebView.postMessage(\n        JSON.stringify({\n          type: 'CWI',\n          isInvocation: true,\n          id,\n          call,\n          args\n        })\n      )\n    })\n  }\n\n  async createAction(args: {\n    description: DescriptionString5to50Bytes\n    inputs?: Array<{\n      tx?: BEEF\n      outpoint: OutpointString\n      unlockingScript?: HexString\n      unlockingScriptLength?: PositiveInteger\n      inputDescription: DescriptionString5to50Bytes\n      sequenceNumber?: PositiveIntegerOrZero\n    }>\n    outputs?: Array<{\n      lockingScript: HexString\n      satoshis: SatoshiValue\n      outputDescription: DescriptionString5to50Bytes\n      basket?: BasketStringUnder300Bytes\n      customInstructions?: string\n      tags?: OutputTagStringUnder300Bytes[]\n    }>\n    lockTime?: PositiveIntegerOrZero\n    version?: PositiveIntegerOrZero\n    labels?: LabelStringUnder300Bytes[]\n    options?: {\n      signAndProcess?: BooleanDefaultTrue\n      acceptDelayedBroadcast?: BooleanDefaultTrue\n      trustSelf?: 'known'\n      knownTxids?: TXIDHexString[]\n      returnTXIDOnly?: BooleanDefaultFalse\n      noSend?: BooleanDefaultFalse\n      noSendChange?: OutpointString[]\n      sendWith?: TXIDHexString[]\n    }\n  }): Promise<{\n    txid?: TXIDHexString\n    tx?: BEEF\n    noSendChange?: OutpointString[]\n    sendWithResults?: Array<{\n      txid: TXIDHexString\n      status: 'unproven' | 'sending' | 'failed'\n    }>\n    signableTransaction?: { tx: BEEF, reference: Base64String }\n  }> {\n    return await this.invoke('createAction', args)\n  }\n\n  async signAction(args: {\n    spends: Record<\n      PositiveIntegerOrZero,\n      { unlockingScript: HexString, sequenceNumber?: PositiveIntegerOrZero }\n    >\n    reference: Base64String\n    options?: {\n      acceptDelayedBroadcast?: BooleanDefaultTrue\n      returnTXIDOnly?: BooleanDefaultFalse\n      noSend?: BooleanDefaultFalse\n      noSendChange?: OutpointString[]\n      sendWith: TXIDHexString[]\n    }\n  }): Promise<{\n    txid?: TXIDHexString\n    tx?: BEEF\n    noSendChange?: OutpointString[]\n    sendWithResults?: Array<{\n      txid: TXIDHexString\n      status: 'unproven' | 'sending' | 'failed'\n    }>\n  }> {\n    return await this.invoke('signAction', args)\n  }\n\n  async abortAction(args: {\n    reference: Base64String\n  }): Promise<{ aborted: true }> {\n    return await this.invoke('abortAction', args)\n  }\n\n  async listActions(args: {\n    labels: LabelStringUnder300Bytes[]\n    labelQueryMode?: 'any' | 'all'\n    includeLabels?: BooleanDefaultFalse\n    includeInputs?: BooleanDefaultFalse\n    includeInputSourceLockingScripts?: BooleanDefaultFalse\n    includeInputUnlockingScripts?: BooleanDefaultFalse\n    includeOutputs?: BooleanDefaultFalse\n    includeOutputLockingScripts?: BooleanDefaultFalse\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalActions: PositiveIntegerOrZero\n    actions: Array<{\n      txid: TXIDHexString\n      satoshis: SatoshiValue\n      status:\n      | 'completed'\n      | 'unprocessed'\n      | 'sending'\n      | 'unproven'\n      | 'unsigned'\n      | 'nosend'\n      | 'nonfinal'\n      isOutgoing: boolean\n      description: DescriptionString5to50Bytes\n      labels?: LabelStringUnder300Bytes[]\n      version: PositiveIntegerOrZero\n      lockTime: PositiveIntegerOrZero\n      inputs?: Array<{\n        sourceOutpoint: OutpointString\n        sourceSatoshis: SatoshiValue\n        sourceLockingScript?: HexString\n        unlockingScript?: HexString\n        inputDescription: DescriptionString5to50Bytes\n        sequenceNumber: PositiveIntegerOrZero\n      }>\n      outputs?: Array<{\n        outputIndex: PositiveIntegerOrZero\n        satoshis: SatoshiValue\n        lockingScript?: HexString\n        spendable: boolean\n        outputDescription: DescriptionString5to50Bytes\n        basket: BasketStringUnder300Bytes\n        tags: OutputTagStringUnder300Bytes[]\n        customInstructions?: string\n      }>\n    }>\n  }> {\n    return await this.invoke('listActions', args)\n  }\n\n  async internalizeAction(args: {\n    tx: BEEF\n    outputs: Array<{\n      outputIndex: PositiveIntegerOrZero\n      protocol: 'wallet payment' | 'basket insertion'\n      paymentRemittance?: {\n        derivationPrefix: Base64String\n        derivationSuffix: Base64String\n        senderIdentityKey: PubKeyHex\n      }\n      insertionRemittance?: {\n        basket: BasketStringUnder300Bytes\n        customInstructions?: string\n        tags?: OutputTagStringUnder300Bytes[]\n      }\n    }>\n    description: DescriptionString5to50Bytes\n    labels?: LabelStringUnder300Bytes[]\n  }): Promise<{ accepted: true }> {\n    return await this.invoke('internalizeAction', args)\n  }\n\n  async listOutputs(args: {\n    basket: BasketStringUnder300Bytes\n    tags?: OutputTagStringUnder300Bytes[]\n    tagQueryMode?: 'all' | 'any'\n    include?: 'locking scripts' | 'entire transactions'\n    includeCustomInstructions?: BooleanDefaultFalse\n    includeTags?: BooleanDefaultFalse\n    includeLabels?: BooleanDefaultFalse\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalOutputs: PositiveIntegerOrZero\n    outputs: Array<{\n      outpoint: OutpointString\n      satoshis: SatoshiValue\n      lockingScript?: HexString\n      tx?: BEEF\n      spendable: boolean\n      customInstructions?: string\n      tags?: OutputTagStringUnder300Bytes[]\n      labels?: LabelStringUnder300Bytes[]\n    }>\n  }> {\n    return await this.invoke('listOutputs', args)\n  }\n\n  async relinquishOutput(args: {\n    basket: BasketStringUnder300Bytes\n    output: OutpointString\n  }): Promise<{ relinquished: true }> {\n    return await this.invoke('relinquishOutput', args)\n  }\n\n  async getPublicKey(args: {\n    identityKey?: true\n    protocolID?: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID?: KeyIDStringUnder800Bytes\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n  }): Promise<{ publicKey: PubKeyHex }> {\n    return await this.invoke('getPublicKey', args)\n  }\n\n  async revealCounterpartyKeyLinkage(args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    revelationTime: ISOTimestampString\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n  }> {\n    return await this.invoke('revealCounterpartyKeyLinkage', args)\n  }\n\n  async revealSpecificKeyLinkage(args: {\n    counterparty: PubKeyHex\n    verifier: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    privileged?: BooleanDefaultFalse\n  }): Promise<{\n    prover: PubKeyHex\n    verifier: PubKeyHex\n    counterparty: PubKeyHex\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    encryptedLinkage: Byte[]\n    encryptedLinkageProof: Byte[]\n    proofType: Byte\n  }> {\n    return await this.invoke('revealSpecificKeyLinkage', args)\n  }\n\n  async encrypt(args: {\n    plaintext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ ciphertext: Byte[] }> {\n    return await this.invoke('encrypt', args)\n  }\n\n  async decrypt(args: {\n    ciphertext: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ plaintext: Byte[] }> {\n    return await this.invoke('decrypt', args)\n  }\n\n  async createHmac(args: {\n    data: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ hmac: Byte[] }> {\n    return await this.invoke('createHmac', args)\n  }\n\n  async verifyHmac(args: {\n    data: Byte[]\n    hmac: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    return await this.invoke('verifyHmac', args)\n  }\n\n  async createSignature(args: {\n    data?: Byte[]\n    hashToDirectlySign?: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ signature: Byte[] }> {\n    return await this.invoke('createSignature', args)\n  }\n\n  async verifySignature(args: {\n    data?: Byte[]\n    hashToDirectlyVerify?: Byte[]\n    signature: Byte[]\n    protocolID: [SecurityLevel, ProtocolString5To400Bytes]\n    keyID: KeyIDStringUnder800Bytes\n    privilegedReason?: DescriptionString5to50Bytes\n    counterparty?: PubKeyHex | 'self' | 'anyone'\n    forSelf?: BooleanDefaultFalse\n    privileged?: BooleanDefaultFalse\n  }): Promise<{ valid: true }> {\n    return await this.invoke('verifySignature', args)\n  }\n\n  async acquireCertificate(args: {\n    type: Base64String\n    subject: PubKeyHex\n    serialNumber: Base64String\n    revocationOutpoint: OutpointString\n    signature: HexString\n    fields: Record<CertificateFieldNameUnder50Bytes, string>\n    certifier: PubKeyHex\n    keyringRevealer: PubKeyHex | 'certifier'\n    keyringForSubject: Record<CertificateFieldNameUnder50Bytes, Base64String>\n    acquisitionProtocol: 'direct' | 'issuance'\n    certifierUrl?: string\n  }): Promise<{\n    type: Base64String\n    subject: PubKeyHex\n    serialNumber: Base64String\n    certifier: PubKeyHex\n    revocationOutpoint: OutpointString\n    signature: HexString\n    fields: Record<CertificateFieldNameUnder50Bytes, string>\n  }> {\n    return await this.invoke('acquireCertificate', args)\n  }\n\n  async listCertificates(args: {\n    certifiers: PubKeyHex[]\n    types: Base64String[]\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n  }): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.invoke('listCertificates', args)\n  }\n\n  async proveCertificate(args: {\n    certificate: {\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, string>\n    }\n    fieldsToReveal: CertificateFieldNameUnder50Bytes[]\n    verifier: PubKeyHex\n    privileged?: BooleanDefaultFalse\n    privilegedReason?: DescriptionString5to50Bytes\n  }): Promise<{\n    keyringForVerifier: Record<CertificateFieldNameUnder50Bytes, Base64String>\n  }> {\n    return await this.invoke('proveCertificate', args)\n  }\n\n  async relinquishCertificate(args: {\n    type: Base64String\n    serialNumber: Base64String\n    certifier: PubKeyHex\n  }): Promise<{ relinquished: true }> {\n    return await this.invoke('relinquishCertificate', args)\n  }\n\n  async discoverByIdentityKey(args: {\n    identityKey: PubKeyHex\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.invoke('discoverByIdentityKey', args)\n  }\n\n  async discoverByAttributes(args: {\n    attributes: Record<CertificateFieldNameUnder50Bytes, string>\n    limit?: PositiveIntegerDefault10Max10000\n    offset?: PositiveIntegerOrZero\n  }): Promise<{\n    totalCertificates: PositiveIntegerOrZero\n    certificates: Array<{\n      type: Base64String\n      subject: PubKeyHex\n      serialNumber: Base64String\n      certifier: PubKeyHex\n      revocationOutpoint: OutpointString\n      signature: HexString\n      fields: Record<CertificateFieldNameUnder50Bytes, Base64String>\n      certifierInfo: {\n        name: EntityNameStringMax100Bytes\n        iconUrl: EntityIconURLStringMax500Bytes\n        description: DescriptionString5to50Bytes\n        trust: PositiveIntegerMax10\n      }\n      publiclyRevealedKeyring: Record<\n        CertificateFieldNameUnder50Bytes,\n        Base64String\n      >\n      decryptedFields: Record<CertificateFieldNameUnder50Bytes, string>\n    }>\n  }> {\n    return await this.invoke('discoverByAttributes', args)\n  }\n\n  async isAuthenticated(args: {}): Promise<{ authenticated: true }> {\n    return await this.invoke('isAuthenticated', args)\n  }\n\n  async waitForAuthentication(args: {}): Promise<{ authenticated: true }> {\n    return await this.invoke('waitForAuthentication', args)\n  }\n\n  async getHeight(args: {}): Promise<{ height: PositiveInteger }> {\n    return await this.invoke('getHeight', args)\n  }\n\n  async getHeaderForHeight(args: {\n    height: PositiveInteger\n  }): Promise<{ header: HexString }> {\n    return await this.invoke('getHeaderForHeight', args)\n  }\n\n  async getNetwork(args: {}): Promise<{ network: 'mainnet' | 'testnet' }> {\n    return await this.invoke('getNetwork', args)\n  }\n\n  async getVersion(args: {}): Promise<{ version: VersionString7To30Bytes }> {\n    return await this.invoke('getVersion', args)\n  }\n}\n","\nimport BasePoint from './BasePoint.js'\nimport JPoint from './JacobianPoint.js'\nimport BigNumber from './BigNumber.js'\nimport { toArray, toHex } from './utils.js'\nimport ReductionContext from './ReductionContext.js'\n\n/**\n * `Point` class is a representation of an elliptic curve point with affine coordinates.\n * It extends the functionality of BasePoint and carries x, y coordinates of point on the curve.\n * It also introduces new methods for handling Point operations in elliptic curve.\n *\n * @class Point\n * @extends {BasePoint}\n *\n * @property x - The x-coordinate of the point.\n * @property y - The y-coordinate of the point.\n * @property inf - Flag to record if the point is at infinity in the Elliptic Curve.\n */\nexport default class Point extends BasePoint {\n  private static readonly red: any = new ReductionContext('k256')\n  private static readonly a: BigNumber = new BigNumber(0).toRed(Point.red)\n  private static readonly b: BigNumber = new BigNumber(7).toRed(Point.red)\n  private static readonly zero: BigNumber = new BigNumber(0).toRed(Point.red)\n  x: BigNumber | null\n  y: BigNumber | null\n  inf: boolean\n\n  /**\n   * Creates a point object from a given Array. These numbers can represent coordinates in hex format, or points\n   * in multiple established formats.\n   * The function verifies the integrity of the provided data and throws errors if inconsistencies are found.\n   *\n   * @method fromDER\n   * @static\n   * @param bytes - The point representation number array.\n   * @returns Returns a new point representing the given string.\n   * @throws `Error` If the point number[] value has a wrong length.\n   * @throws `Error` If the point format is unknown.\n   *\n   * @example\n   * const derPoint = [ 2, 18, 123, 108, 125, 83, 1, 251, 164, 214, 16, 119, 200, 216, 210, 193, 251, 193, 129, 67, 97, 146, 210, 216, 77, 254, 18, 6, 150, 190, 99, 198, 128 ];\n   * const point = Point.fromDER(derPoint);\n   */\n  static fromDER (bytes: number[]): Point {\n    const len = 32\n    // uncompressed, hybrid-odd, hybrid-even\n    if (\n      (bytes[0] === 0x04 || bytes[0] === 0x06 || bytes[0] === 0x07) &&\n      bytes.length - 1 === 2 * len\n    ) {\n      if (bytes[0] === 0x06) {\n        if (bytes[bytes.length - 1] % 2 !== 0) {\n          throw new Error('Point string value is wrong length')\n        }\n      } else if (bytes[0] === 0x07) {\n        if (bytes[bytes.length - 1] % 2 !== 1) {\n          throw new Error('Point string value is wrong length')\n        }\n      }\n\n      const res = new Point(\n        bytes.slice(1, 1 + len),\n        bytes.slice(1 + len, 1 + 2 * len)\n      )\n\n      return res\n    } else if (\n      (bytes[0] === 0x02 || bytes[0] === 0x03) &&\n      bytes.length - 1 === len\n    ) {\n      return Point.fromX(bytes.slice(1, 1 + len), bytes[0] === 0x03)\n    }\n    throw new Error('Unknown point format')\n  }\n\n  /**\n   * Creates a point object from a given string. This string can represent coordinates in hex format, or points\n   * in multiple established formats.\n   * The function verifies the integrity of the provided data and throws errors if inconsistencies are found.\n   *\n   * @method fromString\n   * @static\n   *\n   * @param str The point representation string.\n   * @returns Returns a new point representing the given string.\n   * @throws `Error` If the point string value has a wrong length.\n   * @throws `Error` If the point format is unknown.\n   *\n   * @example\n   * const pointStr = 'abcdef';\n   * const point = Point.fromString(pointStr);\n   */\n  static fromString (str: string): Point {\n    const bytes = toArray(str, 'hex')\n    return Point.fromDER(bytes)\n  }\n\n  static redSqrtOptimized (y2: BigNumber): BigNumber {\n    const red = Point.red\n    const p = red.m // The modulus\n    const exponent = p.addn(1).iushrn(2) // (p + 1) / 4\n    return y2.redPow(exponent)\n  }\n\n  /**\n   * Generates a point from an x coordinate and a boolean indicating whether the corresponding\n   * y coordinate is odd.\n   *\n   * @method fromX\n   * @static\n   * @param x - The x coordinate of the point.\n   * @param odd - Boolean indicating whether the corresponding y coordinate is odd or not.\n   * @returns Returns the new point.\n   * @throws `Error` If the point is invalid.\n   *\n   * @example\n   * const xCoordinate = new BigNumber('10');\n   * const point = Point.fromX(xCoordinate, true);\n   */\n  static fromX (x: BigNumber | number | number[] | string, odd: boolean): Point {\n    if (typeof BigInt === 'function') {\n      function mod (a: bigint, n: bigint): bigint {\n        return ((a % n) + n) % n\n      }\n      function modPow (base: bigint, exponent: bigint, modulus: bigint): bigint {\n        let result = BigInt(1)\n        base = mod(base, modulus)\n        while (exponent > BigInt(0)) {\n          if ((exponent & BigInt(1)) === BigInt(1)) {\n            result = mod(result * base, modulus)\n          }\n          exponent >>= BigInt(1)\n          base = mod(base * base, modulus)\n        }\n        return result\n      }\n      function sqrtMod (a: bigint, p: bigint): bigint | null {\n        const exponent = (p + BigInt(1)) >> BigInt(2) // Precomputed exponent\n        const sqrtCandidate = modPow(a, exponent, p)\n        if (mod(sqrtCandidate * sqrtCandidate, p) === mod(a, p)) {\n          return sqrtCandidate\n        } else {\n          // No square root exists\n          return null\n        }\n      }\n\n      // Curve parameters for secp256k1\n      const p = BigInt(\n        '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F'\n      )\n      // const a = BigInt(0)\n      const b = BigInt(7)\n\n      // Convert x to BigInt\n      let xBigInt: bigint\n      if (x instanceof BigNumber) {\n        xBigInt = BigInt('0x' + x.toString(16))\n      } else if (typeof x === 'string') {\n        xBigInt = BigInt('0x' + x)\n      } else if (Array.isArray(x)) {\n        xBigInt = BigInt('0x' + toHex(x).padStart(64, '0'))\n      } else if (typeof x === 'number') {\n        xBigInt = BigInt(x)\n      } else {\n        throw new Error('Invalid x-coordinate type')\n      }\n\n      // Ensure x is within field range\n      xBigInt = mod(xBigInt, p)\n\n      // Compute y^2 = x^3 + a x + b mod p\n      const y2 = mod(modPow(xBigInt, BigInt(3), p) + b, p)\n\n      // Compute modular square root y = sqrt(y2) mod p\n      let y = sqrtMod(y2, p)\n\n      if (y === null) {\n        throw new Error('Invalid point')\n      }\n\n      // Adjust y to match the oddness\n      const isYOdd = y % BigInt(2) === BigInt(1)\n      if ((odd && !isYOdd) || (!odd && isYOdd)) {\n        y = p - y\n      }\n\n      // Convert x and y to BigNumber\n      const xBN = new BigNumber(xBigInt.toString(16), 16)\n      const yBN = new BigNumber(y.toString(16), 16)\n      return new Point(xBN, yBN)\n    } else {\n      const red = new ReductionContext('k256')\n      const a = new BigNumber(0).toRed(red)\n      const b = new BigNumber(7).toRed(red)\n      const zero = new BigNumber(0).toRed(red)\n      if (!BigNumber.isBN(x)) {\n        x = new BigNumber(x as number, 16)\n      }\n      x = x as BigNumber\n      if (x.red == null) {\n        x = x.toRed(red)\n      }\n\n      const y2 = x.redSqr().redMul(x).redIAdd(x.redMul(a)).redIAdd(b)\n      let y = y2.redSqrt()\n      if (y.redSqr().redSub(y2).cmp(zero) !== 0) {\n        throw new Error('invalid point')\n      }\n\n      // XXX Is there any way to tell if the number is odd without converting it\n      // to non-red form?\n      const isOdd = y.fromRed().isOdd()\n      if ((odd && !isOdd) || (!odd && isOdd)) {\n        y = y.redNeg()\n      }\n      return new Point(x, y)\n    }\n  }\n\n  /**\n   * Generates a point from a serialized JSON object. The function accounts for different options in the JSON object,\n   * including precomputed values for optimization of EC operations, and calls another helper function to turn nested\n   * JSON points into proper Point objects.\n   *\n   * @method fromJSON\n   * @static\n   * @param obj - An object or array that holds the data for the point.\n   * @param isRed - A boolean to direct how the Point is constructed from the JSON object.\n   * @returns Returns a new point based on the deserialized JSON object.\n   *\n   * @example\n   * const serializedPoint = '{\"x\":52,\"y\":15}';\n   * const point = Point.fromJSON(serializedPoint, true);\n   */\n  static fromJSON (obj: string | any[], isRed: boolean): Point {\n    if (typeof obj === 'string') {\n      obj = JSON.parse(obj)\n    }\n    const res = new Point(obj[0], obj[1], isRed)\n    if (typeof obj[2] !== 'object') {\n      return res\n    }\n\n    const obj2point = (obj): Point => {\n      return new Point(obj[0], obj[1], isRed)\n    }\n\n    const pre = obj[2]\n    res.precomputed = {\n      beta: null,\n      doubles:\n        typeof pre.doubles === 'object' && pre.doubles !== null\n          ? {\n              step: pre.doubles.step,\n              points: [res].concat(pre.doubles.points.map(obj2point))\n            }\n          : undefined,\n      naf:\n        typeof pre.naf === 'object' && pre.naf !== null\n          ? {\n              wnd: pre.naf.wnd,\n              points: [res].concat(pre.naf.points.map(obj2point))\n            }\n          : undefined\n    }\n    return res\n  }\n\n  /**\n   * @constructor\n   * @param x - The x-coordinate of the point. May be a number, a BigNumber, a string (which will be interpreted as hex), a number array, or null. If null, an \"Infinity\" point is constructed.\n   * @param y - The y-coordinate of the point, similar to x.\n   * @param isRed - A boolean indicating if the point is a member of the field of integers modulo the k256 prime. Default is true.\n   *\n   * @example\n   * new Point('abc123', 'def456');\n   * new Point(null, null); // Generates Infinity point.\n   */\n  constructor (\n    x: BigNumber | number | number[] | string | null,\n    y: BigNumber | number | number[] | string | null,\n    isRed: boolean = true\n  ) {\n    super('affine')\n    this.precomputed = null\n    if (x === null && y === null) {\n      this.x = null\n      this.y = null\n      this.inf = true\n    } else {\n      if (!BigNumber.isBN(x)) {\n        x = new BigNumber(x as number, 16)\n      }\n      this.x = x as BigNumber\n      if (!BigNumber.isBN(y)) {\n        y = new BigNumber(y as number, 16)\n      }\n      this.y = y as BigNumber\n      // Force redgomery representation when loading from JSON\n      if (isRed) {\n        this.x.forceRed(this.curve.red)\n        this.y.forceRed(this.curve.red)\n      }\n      if (this.x.red === null) {\n        this.x = this.x.toRed(this.curve.red)\n      }\n      if (this.y.red === null) {\n        this.y = this.y.toRed(this.curve.red)\n      }\n      this.inf = false\n    }\n  }\n\n  /**\n   * Validates if a point belongs to the curve. Follows the short Weierstrass\n   * equation for elliptic curves: y^2 = x^3 + ax + b.\n   *\n   * @method validate\n   * @returns {boolean} true if the point is on the curve, false otherwise.\n   *\n   * @example\n   * const aPoint = new Point(x, y);\n   * const isValid = aPoint.validate();\n   */\n  validate (): boolean {\n    return this.curve.validate(this)\n  }\n\n  /**\n   * Encodes the coordinates of a point into an array or a hexadecimal string.\n   * The details of encoding are determined by the optional compact and enc parameters.\n   *\n   * @method encode\n   * @param compact - If true, an additional prefix byte 0x02 or 0x03 based on the 'y' coordinate being even or odd respectively is used. If false, byte 0x04 is used.\n   * @param enc - Expects the string 'hex' if hexadecimal string encoding is required instead of an array of numbers.\n   * @throws Will throw an error if the specified encoding method is not recognized. Expects 'hex'.\n   * @returns If enc is undefined, a byte array representation of the point will be returned. if enc is 'hex', a hexadecimal string representation of the point will be returned.\n   *\n   * @example\n   * const aPoint = new Point(x, y);\n   * const encodedPointArray = aPoint.encode();\n   * const encodedPointHex = aPoint.encode(true, 'hex');\n   */\n  encode (compact: boolean = true, enc?: 'hex'): number[] | string {\n    const len = this.curve.p.byteLength()\n    const x = this.getX().toArray('be', len)\n    let res: number[]\n    if (compact) {\n      res = [this.getY().isEven() ? 0x02 : 0x03].concat(x)\n    } else {\n      res = [0x04].concat(x, this.getY().toArray('be', len))\n    }\n    if (enc !== 'hex') {\n      return res\n    } else {\n      return toHex(res)\n    }\n  }\n\n  /**\n   * Converts the point coordinates to a hexadecimal string. A wrapper method\n   * for encode. Byte 0x02 or 0x03 is used as prefix based on the 'y' coordinate being even or odd respectively.\n   *\n   * @method toString\n   * @returns {string} A hexadecimal string representation of the point coordinates.\n   *\n   * @example\n   * const aPoint = new Point(x, y);\n   * const stringPoint = aPoint.toString();\n   */\n  toString (): string {\n    return this.encode(true, 'hex') as string\n  }\n\n  /**\n   * Exports the x and y coordinates of the point, and the precomputed doubles and non-adjacent form (NAF) for optimization. The output is an array.\n   *\n   * @method toJSON\n   * @returns An Array where first two elements are the coordinates of the point and optional third element is an object with doubles and NAF points.\n   *\n   * @example\n   * const aPoint = new Point(x, y);\n   * const jsonPoint = aPoint.toJSON();\n   */\n  toJSON (): [\n    BigNumber | null,\n    BigNumber | null,\n    {\n      doubles: { step: any, points: any[] } | undefined\n      naf: { wnd: any, points: any[] } | undefined\n    }?,\n  ] {\n    if (this.precomputed == null) {\n      return [this.x, this.y]\n    }\n\n    return [\n      this.x,\n      this.y,\n      typeof this.precomputed === 'object' && this.precomputed !== null\n        ? {\n            doubles:\n            this.precomputed.doubles != null\n              ? {\n                  step: this.precomputed.doubles.step,\n                  points: this.precomputed.doubles.points.slice(1)\n                }\n              : undefined,\n            naf:\n            this.precomputed.naf != null\n              ? {\n                  wnd: this.precomputed.naf.wnd,\n                  points: this.precomputed.naf.points.slice(1)\n                }\n              : undefined\n          }\n        : undefined\n    ]\n  }\n\n  /**\n   * Provides the point coordinates in a human-readable string format for debugging purposes.\n   *\n   * @method inspect\n   * @returns String of the format '<EC Point x: x-coordinate y: y-coordinate>', or '<EC Point Infinity>' if the point is at infinity.\n   *\n   * @example\n   * const aPoint = new Point(x, y);\n   * console.log(aPoint.inspect());\n   */\n  inspect (): string {\n    if (this.isInfinity()) {\n      return '<EC Point Infinity>'\n    }\n    return (\n      '<EC Point x: ' +\n      (this.x?.fromRed()?.toString(16, 2) ?? 'undefined') +\n      ' y: ' +\n      (this.y?.fromRed()?.toString(16, 2) ?? 'undefined') +\n      '>'\n    )\n  }\n\n  /**\n   * Checks if the point is at infinity.\n   * @method isInfinity\n   * @returns Returns whether or not the point is at infinity.\n   *\n   * @example\n   * const p = new Point(null, null);\n   * console.log(p.isInfinity()); // outputs: true\n   */\n  isInfinity (): boolean {\n    return this.inf\n  }\n\n  /**\n   * Adds another Point to this Point, returning a new Point.\n   *\n   * @method add\n   * @param p - The Point to add to this one.\n   * @returns A new Point that results from the addition.\n   *\n   * @example\n   * const p1 = new Point(1, 2);\n   * const p2 = new Point(2, 3);\n   * const result = p1.add(p2);\n   */\n  add (p: Point): Point {\n    // O + P = P\n    if (this.inf) {\n      return p\n    }\n\n    // P + O = P\n    if (p.inf) {\n      return this\n    }\n\n    // P + P = 2P\n    if (this.eq(p)) {\n      return this.dbl()\n    }\n\n    // P + (-P) = O\n    if (this.neg().eq(p)) {\n      return new Point(new BigNumber(0), new BigNumber(0))\n    }\n\n    // P + Q = O\n    if (this.x?.cmp(p.x ?? new BigNumber(0)) === 0) {\n      return new Point(new BigNumber(0), new BigNumber(0))\n    }\n\n    let c = this.y?.redSub(p.y ?? new BigNumber(0)) ?? new BigNumber(0)\n    if (c.cmpn(0) !== 0) {\n      c = c.redMul(this.x?.redSub(p.x ?? new BigNumber(0)).redInvm() ?? new BigNumber(1))\n    }\n\n    const nx = c?.redSqr().redISub(this.x ?? new BigNumber(0)).redISub(p.x ?? new BigNumber(0))\n    const ny = (c ?? new BigNumber(1))\n      .redMul((this.x ?? new BigNumber(0)).redSub(nx ?? new BigNumber(0)))\n      .redISub(this.y ?? new BigNumber(0))\n\n    return new Point(nx ?? new BigNumber(0), ny ?? new BigNumber(0))\n  }\n\n  /**\n   * Doubles the current point.\n   *\n   * @method dbl\n   *\n   * @example\n   * const P = new Point('123', '456');\n   * const result = P.dbl();\n   * */\n  dbl (): Point {\n    if (this.inf) {\n      return this\n    }\n\n    // 2P = O\n    const ys1 = (this.y ?? new BigNumber(0)).redAdd(this.y ?? new BigNumber(0))\n    if (ys1.cmpn(0) === 0) {\n      return new Point(new BigNumber(0), new BigNumber(0))\n    }\n\n    const a = this.curve.a\n    const x2 = (this.x ?? new BigNumber(0)).redSqr()\n    const dyinv = ys1.redInvm()\n    const c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv)\n\n    const nx = c.redSqr().redISub((this.x ?? new BigNumber(0)).redAdd(this.x ?? new BigNumber(0)))\n    const ny = c.redMul((this.x ?? new BigNumber(0)).redSub(nx)).redISub(this.y ?? new BigNumber(0))\n\n    return new Point(nx, ny)\n  }\n\n  /**\n   * Returns X coordinate of point\n   *\n   * @example\n   * const P = new Point('123', '456');\n   * const x = P.getX();\n   */\n  getX (): BigNumber {\n    return (this.x ?? new BigNumber(0)).fromRed()\n  }\n\n  /**\n   * Returns X coordinate of point\n   *\n   * @example\n   * const P = new Point('123', '456');\n   * const x = P.getX();\n   */\n  getY (): BigNumber {\n    return (this.y ?? new BigNumber(0)).fromRed()\n  }\n\n  /**\n   * Multiplies this Point by a scalar value, returning a new Point.\n   *\n   * @method mul\n   * @param k - The scalar value to multiply this Point by.\n   * @returns  A new Point that results from the multiplication.\n   *\n   * @example\n   * const p = new Point(1, 2);\n   * const result = p.mul(2); // this doubles the Point\n   */\n  mul (k: BigNumber | number | number[] | string): Point {\n    if (!BigNumber.isBN(k)) {\n      k = new BigNumber(k as number, 16)\n    }\n    k = k as BigNumber\n    if (this.isInfinity()) {\n      return this\n    } else if (this._hasDoubles(k)) {\n      return this._fixedNafMul(k)\n    } else {\n      return this._endoWnafMulAdd([this], [k]) as Point\n    }\n  }\n\n  /**\n   * Performs a multiplication and addition operation in a single step.\n   * Multiplies this Point by k1, adds the resulting Point to the result of p2 multiplied by k2.\n   *\n   * @method mulAdd\n   * @param k1 - The scalar value to multiply this Point by.\n   * @param p2 - The other Point to be involved in the operation.\n   * @param k2 - The scalar value to multiply the Point p2 by.\n   * @returns A Point that results from the combined multiplication and addition operations.\n   *\n   * @example\n   * const p1 = new Point(1, 2);\n   * const p2 = new Point(2, 3);\n   * const result = p1.mulAdd(2, p2, 3);\n   */\n  mulAdd (k1: BigNumber, p2: Point, k2: BigNumber): Point {\n    const points = [this, p2]\n    const coeffs = [k1, k2]\n    return this._endoWnafMulAdd(points, coeffs) as Point\n  }\n\n  /**\n   * Performs the Jacobian multiplication and addition operation in a single\n   * step. Instead of returning a regular Point, the result is a JacobianPoint.\n   *\n   * @method jmulAdd\n   * @param k1 - The scalar value to multiply this Point by.\n   * @param p2 - The other Point to be involved in the operation\n   * @param k2 - The scalar value to multiply the Point p2 by.\n   * @returns A JacobianPoint that results from the combined multiplication and addition operation.\n   *\n   * @example\n   * const p1 = new Point(1, 2);\n   * const p2 = new Point(2, 3);\n   * const result = p1.jmulAdd(2, p2, 3);\n   */\n  jmulAdd (k1: BigNumber, p2: Point, k2: BigNumber): JPoint {\n    const points = [this, p2]\n    const coeffs = [k1, k2]\n    return this._endoWnafMulAdd(points, coeffs, true) as JPoint\n  }\n\n  /**\n   * Checks if the Point instance is equal to another given Point.\n   *\n   * @method eq\n   * @param p - The Point to be checked if equal to the current instance.\n   *\n   * @returns Whether the two Point instances are equal. Both the 'x' and 'y' coordinates have to match, and both points have to either be valid or at infinity for equality. If both conditions are true, it returns true, else it returns false.\n   *\n   * @example\n   * const p1 = new Point(5, 20);\n   * const p2 = new Point(5, 20);\n   * const areEqual = p1.eq(p2); // returns true\n   */\n  eq (p: Point): boolean {\n    return (\n      this === p ||\n      (this.inf === p.inf &&\n        (this.inf || ((this.x ?? new BigNumber(0)).cmp(p.x ?? new BigNumber(0)) === 0 && (this.y ?? new BigNumber(0)).cmp(p.y ?? new BigNumber(0)) === 0)))\n    )\n  }\n\n  /**\n   * Negate a point. The negation of a point P is the mirror of P about x-axis.\n   *\n   * @method neg\n   *\n   * @example\n   * const P = new Point('123', '456');\n   * const result = P.neg();\n   */\n  neg (_precompute?: boolean): Point {\n    if (this.inf) {\n      return this\n    }\n    const res = new Point(this.x, (this.y ?? new BigNumber(0)).redNeg())\n    if (_precompute === true && this.precomputed != null) {\n      const pre = this.precomputed\n      const negate = (p: Point): Point => p.neg()\n      res.precomputed = {\n        naf: pre.naf != null\n          ? {\n              wnd: pre.naf.wnd,\n              points: pre.naf.points.map(negate) as BasePoint[]\n            }\n          : undefined,\n        doubles: pre.doubles != null\n          ? {\n              step: pre.doubles.step,\n              points: pre.doubles.points.map((p) => (p as Point).neg())\n            }\n          : undefined,\n        beta: undefined\n      }\n    }\n\n    return res\n  }\n\n  /**\n   * Performs the \"doubling\" operation on the Point a given number of times.\n   * This is used in elliptic curve operations to perform multiplication by 2, multiple times.\n   * If the point is at infinity, it simply returns the point because doubling\n   * a point at infinity is still infinity.\n   *\n   * @method dblp\n   * @param k - The number of times the \"doubling\" operation is to be performed on the Point.\n   * @returns The Point after 'k' \"doubling\" operations have been performed.\n   *\n   * @example\n   * const p = new Point(5, 20);\n   * const doubledPoint = p.dblp(10); // returns the point after \"doubled\" 10 times\n   */\n  dblp (k: number): Point {\n    /* eslint-disable @typescript-eslint/no-this-alias */\n    let r: Point = this\n    for (let i = 0; i < k; i++) {\n      r = r.dbl()\n    }\n    return r\n  }\n\n  /**\n   * Converts the point to a Jacobian point. If the point is at infinity, the corresponding Jacobian point\n   * will also be at infinity.\n   *\n   * @method toJ\n   * @returns Returns a new Jacobian point based on the current point.\n   *\n   * @example\n   * const point = new Point(xCoordinate, yCoordinate);\n   * const jacobianPoint = point.toJ();\n   */\n  toJ (): JPoint {\n    if (this.inf) {\n      return new JPoint(null, null, null)\n    }\n    const res = new JPoint(this.x, this.y, this.curve.one)\n    return res\n  }\n\n  private _getBeta (): undefined | Point {\n    if (typeof this.curve.endo !== 'object') {\n      return\n    }\n\n    const pre = this.precomputed\n    if (\n      typeof pre === 'object' &&\n      pre !== null &&\n      typeof pre.beta === 'object' &&\n      pre.beta !== null\n    ) {\n      return pre.beta as Point\n    }\n\n    const beta = new Point((this.x ?? new BigNumber(0)).redMul(this.curve.endo.beta), this.y)\n    if (pre != null) {\n      const curve = this.curve\n      const endoMul = (p: Point): Point => {\n        if (p.x === null) {\n          throw new Error('p.x is null')\n        }\n        if (curve.endo === undefined || curve.endo === null) {\n          throw new Error('curve.endo is undefined')\n        }\n        return new Point(p.x.redMul(curve.endo.beta), p.y)\n      }\n      pre.beta = beta\n      beta.precomputed = {\n        beta: null,\n        naf:\n          pre.naf != null\n            ? {\n                wnd: pre.naf.wnd,\n                points: pre.naf.points.map(endoMul)\n              }\n            : undefined,\n        doubles:\n          pre.doubles != null\n            ? {\n                step: pre.doubles.step,\n                points: pre.doubles.points.map(endoMul)\n              }\n            : undefined\n      }\n    }\n    return beta\n  }\n\n  private _fixedNafMul (k: BigNumber): Point {\n    if (typeof this.precomputed !== 'object' || this.precomputed === null) {\n      throw new Error('_fixedNafMul requires precomputed values for the point')\n    }\n    const doubles = this._getDoubles()\n\n    const naf = this.curve.getNAF(k, 1, this.curve._bitLength)\n    let I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1)\n    I /= 3\n\n    // Translate into more windowed form\n    const repr: number[] = []\n    for (let j = 0; j < naf.length; j += doubles.step) {\n      let nafW = 0\n      for (let k = j + doubles.step - 1; k >= j; k--) {\n        nafW = (nafW << 1) + naf[k]\n      }\n      repr.push(nafW)\n    }\n\n    let a = new JPoint(null, null, null)\n    let b = new JPoint(null, null, null)\n    for (let i = I; i > 0; i--) {\n      for (let j = 0; j < repr.length; j++) {\n        const nafW = repr[j]\n        if (nafW === i) {\n          b = b.mixedAdd(doubles.points[j])\n        } else if (nafW === -i) {\n          b = b.mixedAdd(doubles.points[j].neg())\n        }\n      }\n      a = a.add(b)\n    }\n    return a.toP()\n  }\n\n  private _wnafMulAdd (\n    defW: number,\n    points: Point[],\n    coeffs: BigNumber[],\n    len: number,\n    jacobianResult?: boolean\n  ): BasePoint {\n    const wndWidth: number[] = this.curve._wnafT1.map(num => num.toNumber()) // Convert BigNumber to number\n    const wnd: Point[][] = this.curve._wnafT2.map(() => []) // Initialize as empty Point[][] array\n    const naf: number[][] = this.curve._wnafT3.map(() => []) // Initialize as empty number[][] array\n\n    // Fill all arrays\n    let max = 0\n    for (let i = 0; i < len; i++) {\n      const p = points[i]\n      const nafPoints = p._getNAFPoints(defW)\n      wndWidth[i] = nafPoints.wnd // Ensure correct type\n      wnd[i] = nafPoints.points // Ensure correct type\n    }\n\n    // Comb small window NAFs\n    for (let i = len - 1; i >= 1; i -= 2) {\n      const a = i - 1\n      const b = i\n      if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {\n        naf[a] = this.curve.getNAF(\n          coeffs[a],\n          wndWidth[a],\n          this.curve._bitLength\n        )\n        naf[b] = this.curve.getNAF(\n          coeffs[b],\n          wndWidth[b],\n          this.curve._bitLength\n        )\n        max = Math.max(naf[a].length, max)\n        max = Math.max(naf[b].length, max)\n        continue\n      }\n\n      const comb: any[] = [\n        points[a] /* 1 */,\n        null /* 3 */,\n        null /* 5 */,\n        points[b] /* 7 */\n      ]\n\n      // Try to avoid Projective points, if possible\n      if ((points[a].y ?? new BigNumber(0)).cmp(points[b].y ?? new BigNumber(0)) === 0) {\n        comb[1] = points[a].add(points[b])\n        comb[2] = points[a].toJ().mixedAdd(points[b].neg())\n      } else if ((points[a].y ?? new BigNumber(0)).cmp((points[b].y ?? new BigNumber(0)).redNeg()) === 0) {\n        comb[1] = points[a].toJ().mixedAdd(points[b])\n        comb[2] = points[a].add(points[b].neg())\n      } else {\n        comb[1] = points[a].toJ().mixedAdd(points[b])\n        comb[2] = points[a].toJ().mixedAdd(points[b].neg())\n      }\n\n      const index = [\n        -3 /* -1 -1 */, -1 /* -1 0 */, -5 /* -1 1 */, -7 /* 0 -1 */,\n        0 /* 0 0 */, 7 /* 0 1 */, 5 /* 1 -1 */, 1 /* 1 0 */, 3 /* 1 1 */\n      ]\n\n      const jsf = this.curve.getJSF(coeffs[a], coeffs[b])\n      max = Math.max(jsf[0].length, max)\n      naf[a] = new Array(max)\n      naf[b] = new Array(max)\n      for (let j = 0; j < max; j++) {\n        const ja = jsf[0][j] | 0\n        const jb = jsf[1][j] | 0\n\n        naf[a][j] = index[(ja + 1) * 3 + (jb + 1)]\n        naf[b][j] = 0\n        wnd[a] = comb\n      }\n    }\n\n    let acc = new JPoint(null, null, null)\n    const tmp = this.curve._wnafT4\n    for (let i = max; i >= 0; i--) {\n      let k = 0\n\n      while (i >= 0) {\n        let zero = true\n        for (let j = 0; j < len; j++) {\n          tmp[j] = new BigNumber(typeof naf[j][i] === 'number' ? naf[j][i] : 0) // Ensure type consistency\n          if (!tmp[j].isZero()) { // Use BigNumber's built-in comparison\n            zero = false\n          }\n        }\n        if (!zero) {\n          break\n        }\n        k++\n        i--\n      }\n      if (i >= 0) {\n        k++\n      }\n      acc = acc.dblp(k)\n      if (i < 0) {\n        break\n      }\n\n      const one = new BigNumber(1)\n      const two = new BigNumber(2)\n\n      for (let j = 0; j < len; j++) {\n        const z = tmp[j]\n        let p\n\n        if (z.cmpn(0) === 0) { // Check if z is 0\n          continue\n        } else if (!z.isNeg()) { // If z is positive\n          p = wnd[j][z.sub(one).div(two).toNumber()]\n        } else { // If z is negative\n          p = wnd[j][z.neg().sub(one).div(two).toNumber()].neg()\n        }\n\n        if (p.type === 'affine') {\n          acc = acc.mixedAdd(p)\n        } else {\n          acc = acc.add(p)\n        }\n      }\n    }\n    // Zeroify references\n    for (let i = 0; i < len; i++) {\n      wnd[i] = []\n    }\n\n    if (jacobianResult === true) {\n      return acc\n    } else {\n      return acc.toP()\n    }\n  }\n\n  private _endoWnafMulAdd (\n    points: Point[],\n    coeffs: BigNumber[], // Explicitly type coeffs\n    jacobianResult?: boolean\n  ): BasePoint {\n    const npoints: Point[] = new Array(points.length * 2)\n    const ncoeffs: BigNumber[] = new Array(points.length * 2)\n    let i: number\n    for (i = 0; i < points.length; i++) {\n      const split = this.curve._endoSplit(coeffs[i])\n      let p = points[i]\n      let beta: Point = p._getBeta() ?? new Point(new BigNumber(0), new BigNumber(0))\n\n      if (split.k1.negative !== 0) {\n        split.k1.ineg()\n        p = p.neg(true)\n      }\n      if (split.k2.negative !== 0) {\n        split.k2.ineg()\n        beta = beta.neg(true)\n      }\n\n      npoints[i * 2] = p\n      npoints[i * 2 + 1] = beta\n      ncoeffs[i * 2] = split.k1\n      ncoeffs[i * 2 + 1] = split.k2\n    }\n\n    const res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2, jacobianResult)\n\n    // Clean-up references to points and coefficients\n    for (let j = 0; j < i * 2; j++) {\n      npoints[j] = null as unknown as Point\n      ncoeffs[j] = null as unknown as BigNumber\n    }\n    return res\n  }\n\n  private _hasDoubles (k: BigNumber): boolean {\n    if (this.precomputed == null) {\n      return false\n    }\n\n    const doubles = this.precomputed.doubles\n    if (typeof doubles !== 'object') {\n      return false\n    }\n\n    return (\n      doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step)\n    )\n  }\n\n  private _getDoubles (\n    step?: number,\n    power?: number\n  ): { step: number, points: any[] } {\n    if (\n      typeof this.precomputed === 'object' &&\n      this.precomputed !== null &&\n      typeof this.precomputed.doubles === 'object' &&\n      this.precomputed.doubles !== null\n    ) {\n      return this.precomputed.doubles\n    }\n\n    const doubles = [this]\n    /* eslint-disable @typescript-eslint/no-this-alias */\n    let acc: Point = this\n    for (let i = 0; i < (power ?? 0); i += (step ?? 1)) {\n      for (let j = 0; j < (step ?? 1); j++) {\n        acc = acc.dbl()\n      }\n      doubles.push(acc as this)\n    }\n    return {\n      step: step ?? 1,\n      points: doubles\n    }\n  }\n\n  private _getNAFPoints (wnd: number): { wnd: number, points: any[] } {\n    if (\n      typeof this.precomputed === 'object' &&\n      this.precomputed !== null &&\n      typeof this.precomputed.naf === 'object' &&\n      this.precomputed.naf !== null\n    ) {\n      return this.precomputed.naf\n    }\n\n    const res = [this]\n    const max = (1 << wnd) - 1\n    const dbl = max === 1 ? null : this.dbl()\n    for (let i = 1; i < max; i++) {\n      if (dbl !== null) {\n        res[i] = res[i - 1].add(dbl) as this\n      }\n    }\n    return {\n      wnd,\n      points: res\n    }\n  }\n}\n","import BigNumber from './BigNumber.js'\nimport PublicKey from './PublicKey.js'\nimport { verify } from './ECDSA.js'\nimport { sha256 } from './Hash.js'\nimport { toArray, toHex, toBase64 } from './utils.js'\nimport Point from './Point.js'\nimport Curve from './Curve.js'\n\n/**\n * Represents a digital signature.\n *\n * A digital signature is a mathematical scheme for verifying the authenticity of\n * digital messages or documents. In many scenarios, it is equivalent to a handwritten signature or stamped seal.\n * The signature pair (R, S) corresponds to the raw ECDSA ([Elliptic Curve Digital Signature Algorithm](https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm)) signature.\n * Signatures are often serialized into a format known as '[DER encoding](https://en.wikipedia.org/wiki/X.690#DER_encoding)' for transmission.\n *\n * @class Signature\n */\nexport default class Signature {\n  /**\n   * @property Represents the \"r\" component of the digital signature\n   */\n  r: BigNumber\n\n  /**\n   * @property Represents the \"s\" component of the digital signature\n   */\n  s: BigNumber\n\n  /**\n   * Takes an array of numbers or a string and returns a new Signature instance.\n   * This method will throw an error if the DER encoding is invalid.\n   * If a string is provided, it is assumed to represent a hexadecimal sequence.\n   *\n   * @static\n   * @method fromDER\n   * @param data - The sequence to decode from DER encoding.\n   * @param enc - The encoding of the data string.\n   * @returns The decoded data in the form of Signature instance.\n   *\n   * @example\n   * const signature = Signature.fromDER('30440220018c1f5502f8...', 'hex');\n   */\n  static fromDER (data: number[] | string, enc?: 'hex' | 'base64'): Signature {\n    const getLength = (buf, p): number => {\n      const initial = buf[p.place++]\n      if ((initial & 0x80) === 0) {\n        return initial\n      } else {\n        throw new Error('Invalid DER entity length')\n      }\n    }\n\n    class Position {\n      place: number\n      constructor () {\n        this.place = 0\n      }\n    }\n    data = toArray(data, enc)\n\n    const p = new Position()\n    if (data[p.place++] !== 0x30) {\n      throw new Error('Signature DER must start with 0x30')\n    }\n    const len = getLength(data, p)\n    if (len + p.place !== data.length) {\n      throw new Error('Signature DER invalid')\n    }\n    if (data[p.place++] !== 0x02) {\n      throw new Error('Signature DER invalid')\n    }\n    const rlen = getLength(data, p)\n    let r = data.slice(p.place, rlen + p.place)\n    p.place += rlen\n    if (data[p.place++] !== 0x02) {\n      throw new Error('Signature DER invalid')\n    }\n    const slen = getLength(data, p)\n    if (data.length !== slen + p.place) {\n      throw new Error('Invalid R-length in signature DER')\n    }\n    let s = data.slice(p.place, slen + p.place)\n    if (r[0] === 0) {\n      if ((r[1] & 0x80) !== 0) {\n        r = r.slice(1)\n      } else {\n        throw new Error('Invalid R-value in signature DER')\n      }\n    }\n    if (s[0] === 0) {\n      if ((s[1] & 0x80) !== 0) {\n        s = s.slice(1)\n      } else {\n        throw new Error('Invalid S-value in signature DER')\n      }\n    }\n\n    return new Signature(new BigNumber(r), new BigNumber(s))\n  }\n\n  /**\n   * Takes an array of numbers or a string and returns a new Signature instance.\n   * This method will throw an error if the Compact encoding is invalid.\n   * If a string is provided, it is assumed to represent a hexadecimal sequence.\n   * compactByte value 27-30 means uncompressed public key.\n   * 31-34 means compressed public key.\n   * The range represents the recovery param which can be 0,1,2,3.\n   * We could support recovery functions in future if there's demand.\n   *\n   * @static\n   * @method fromCompact\n   * @param data - The sequence to decode from Compact encoding.\n   * @param enc - The encoding of the data string.\n   * @returns The decoded data in the form of Signature instance.\n   *\n   * @example\n   * const signature = Signature.fromCompact('1b18c1f5502f8...', 'hex');\n   */\n  static fromCompact (\n    data: number[] | string,\n    enc?: 'hex' | 'base64'\n  ): Signature {\n    data = toArray(data, enc)\n    if (data.length !== 65) {\n      throw new Error('Invalid Compact Signature')\n    }\n    const compactByte = data[0]\n    if (compactByte < 27 || compactByte >= 35) {\n      throw new Error('Invalid Compact Byte')\n    }\n    return new Signature(\n      new BigNumber(data.slice(1, 33)),\n      new BigNumber(data.slice(33, 65))\n    )\n  }\n\n  /**\n   * Creates an instance of the Signature class.\n   *\n   * @constructor\n   * @param r - The R component of the signature.\n   * @param s - The S component of the signature.\n   *\n   * @example\n   * const r = new BigNumber('208755674028...');\n   * const s = new BigNumber('564745627577...');\n   * const signature = new Signature(r, s);\n   */\n  constructor (r: BigNumber, s: BigNumber) {\n    this.r = r\n    this.s = s\n  }\n\n  /**\n   * Verifies a digital signature.\n   *\n   * This method will return true if the signature, key, and message hash match.\n   * If the data or key do not match the signature, the function returns false.\n   *\n   * @method verify\n   * @param msg - The message to verify.\n   * @param key - The public key used to sign the original message.\n   * @param enc - The encoding of the msg string.\n   * @returns A boolean representing whether the signature is valid.\n   *\n   * @example\n   * const msg = 'The quick brown fox jumps over the lazy dog';\n   * const publicKey = PublicKey.fromString('04188ca1050...');\n   * const isVerified = signature.verify(msg, publicKey);\n   */\n  verify (msg: number[] | string, key: PublicKey, enc?: 'hex'): boolean {\n    const msgHash = new BigNumber(sha256(msg, enc), 16)\n    return verify(msgHash, this, key)\n  }\n\n  /**\n   * Converts an instance of Signature into DER encoding.\n   * An alias for the toDER method.\n   *\n   * If the encoding parameter is set to 'hex', the function will return a hex string.\n   * If 'base64', it will return a base64 string.\n   * Otherwise, it will return an array of numbers.\n   *\n   * @method toDER\n   * @param enc - The encoding to use for the output.\n   * @returns The current instance in DER encoding.\n   *\n   * @example\n   * const der = signature.toString('base64');\n   */\n  toString (enc?: 'hex' | 'base64'): number[] | string {\n    return this.toDER(enc)\n  }\n\n  /**\n   * Converts an instance of Signature into DER encoding.\n   *\n   * If the encoding parameter is set to 'hex', the function will return a hex string.\n   * If 'base64', it will return a base64 string.\n   * Otherwise, it will return an array of numbers.\n   *\n   * @method toDER\n   * @param enc - The encoding to use for the output.\n   * @returns The current instance in DER encoding.\n   *\n   * @example\n   * const der = signature.toDER('hex');\n   */\n  toDER (enc?: 'hex' | 'base64'): number[] | string {\n    const constructLength = (arr, len): void => {\n      if (len < 0x80) {\n        arr.push(len)\n      } else {\n        throw new Error('len must be < 0x80')\n      }\n    }\n\n    const rmPadding = (buf: number[]): number[] => {\n      let i = 0\n      const len = buf.length - 1\n      while (buf[i] === 0 && (buf[i + 1] & 0x80) === 0 && i < len) {\n        i++\n      }\n      if (i === 0) {\n        return buf\n      }\n      return buf.slice(i)\n    }\n\n    let r = this.r.toArray()\n    let s = this.s.toArray()\n\n    // Pad values\n    if ((r[0] & 0x80) !== 0) {\n      r = [0].concat(r)\n    }\n    // Pad values\n    if ((s[0] & 0x80) !== 0) {\n      s = [0].concat(s)\n    }\n\n    r = rmPadding(r)\n    s = rmPadding(s)\n\n    while (s[0] === 0 && (s[1] & 0x80) === 0) {\n      s = s.slice(1)\n    }\n    let arr = [0x02]\n    constructLength(arr, r.length)\n    arr = arr.concat(r)\n    arr.push(0x02)\n    constructLength(arr, s.length)\n    const backHalf = arr.concat(s)\n    let res = [0x30]\n    constructLength(res, backHalf.length)\n    res = res.concat(backHalf)\n    if (enc === 'hex') {\n      return toHex(res)\n    } else if (enc === 'base64') {\n      return toBase64(res)\n    } else {\n      return res\n    }\n  }\n\n  /**\n   * Converts an instance of Signature into Compact encoding.\n   *\n   * If the encoding parameter is set to 'hex', the function will return a hex string.\n   * If 'base64', it will return a base64 string.\n   * Otherwise, it will return an array of numbers.\n   *\n   * @method toCompact\n   * @param enc - The encoding to use for the output.\n   * @returns The current instance in DER encoding.\n   *\n   * @example\n   * const compact = signature.toCompact(3, true, 'base64');\n   */\n  toCompact (\n    recovery: number,\n    compressed: boolean,\n    enc?: 'hex' | 'base64'\n  ): number[] | string {\n    if (recovery < 0 || recovery > 3) throw new Error('Invalid recovery param')\n    if (typeof compressed !== 'boolean') {\n      throw new Error('Invalid compressed param')\n    }\n    let compactByte = 27 + recovery\n    if (compressed) {\n      compactByte += 4\n    }\n    let arr = [compactByte]\n    arr = arr.concat(this.r.toArray('be', 32))\n    arr = arr.concat(this.s.toArray('be', 32))\n    if (enc === 'hex') {\n      return toHex(arr)\n    } else if (enc === 'base64') {\n      return toBase64(arr)\n    } else {\n      return arr\n    }\n  }\n\n  /**\n   * Recovers the public key from a signature.\n   * This method will return the public key if it finds a valid public key.\n   * If it does not find a valid public key, it will throw an error.\n   * The recovery factor is a number between 0 and 3.\n   * @method RecoverPublicKey\n   * @param recovery - The recovery factor.\n   * @param e - The message hash.\n   * @returns The public key associated with the signature.\n   *\n   * @example\n   * const publicKey = signature.RecoverPublicKey(0, msgHash);\n   */\n  RecoverPublicKey (recovery: number, e: BigNumber): PublicKey {\n    const r = this.r\n    const s = this.s\n\n    // A set LSB signifies that the y-coordinate is odd\n    const isYOdd = (recovery & 1) !== 0\n\n    // The more significant bit specifies whether we should use the\n    // first or second candidate key.\n    const isSecondKey = recovery >> 1\n\n    const curve = new Curve()\n    const n = curve.n\n    const G = curve.g\n\n    // 1.1 LEt x = r + jn\n    const x = isSecondKey !== 0 ? r.add(n) : r\n    const R = Point.fromX(x, isYOdd)\n\n    // 1.4 Check that nR is at infinity\n    const nR = R.mul(n)\n    if (!nR.isInfinity()) {\n      throw new Error('nR is not at infinity')\n    }\n\n    // Compute -e from e\n    const eNeg = e.neg().umod(n)\n\n    // 1.6.1 Compute Q = r^-1 (sR - eG)\n    // Q = r^-1 (sR + -eG)\n    const rInv = r.invm(n)\n\n    // const Q = R.multiplyTwo(s, G, eNeg).mul(rInv)\n    const srInv = rInv.mul(s).umod(n)\n    const eInvrInv = rInv.mul(eNeg).umod(n)\n    const Q = G.mul(eInvrInv).add(R.mul(srInv))\n\n    const pubKey = new PublicKey(Q)\n    pubKey.validate()\n\n    return pubKey\n  }\n\n  /**\n   * Calculates the recovery factor which will work for a particular public key and message hash.\n   * This method will return the recovery factor if it finds a valid recovery factor.\n   * If it does not find a valid recovery factor, it will throw an error.\n   * The recovery factor is a number between 0 and 3.\n   *\n   * @method CalculateRecoveryFactor\n   * @param msgHash - The message hash.\n   * @returns the recovery factor: number\n   * /\n   * @example\n   * const recovery = signature.CalculateRecoveryFactor(publicKey, msgHash);\n   */\n  CalculateRecoveryFactor (pubkey: PublicKey, msgHash: BigNumber): number {\n    for (let recovery = 0; recovery < 4; recovery++) {\n      let Qprime\n      try {\n        Qprime = this.RecoverPublicKey(recovery, msgHash)\n      } catch {\n        continue\n      }\n      if (pubkey.eq(Qprime)) {\n        return recovery\n      }\n    }\n    throw new Error('Unable to find valid recovery factor')\n  }\n}\n","import BasePoint from './BasePoint.js'\nimport BigNumber from './BigNumber.js'\nimport Point from './Point.js'\n\n/**\n * The `JacobianPoint` class extends the `BasePoint` class for handling Jacobian coordinates on an Elliptic Curve.\n * This class defines the properties and the methods needed to work with points in Jacobian coordinates.\n *\n * The Jacobian coordinates represent a point (x, y, z) on an Elliptic Curve such that the usual (x, y) coordinates are given by (x/z^2, y/z^3).\n *\n * @property x - The `x` coordinate of the point in the Jacobian form.\n * @property y - The `y` coordinate of the point in the Jacobian form.\n * @property z - The `z` coordinate of the point in the Jacobian form.\n * @property zOne - Flag that indicates if the `z` coordinate is one.\n *\n * @example\n * const pointJ = new JacobianPoint('3', '4', '1');\n */\nexport default class JacobianPoint extends BasePoint {\n  x: BigNumber\n  y: BigNumber\n  z: BigNumber\n  zOne: boolean\n\n  /**\n   * Constructs a new `JacobianPoint` instance.\n   *\n   * @param x - If `null`, the x-coordinate will default to the curve's defined 'one' constant.\n   * If `x` is not a BigNumber, `x` will be converted to a `BigNumber` assuming it is a hex string.\n   *\n   * @param y - If `null`, the y-coordinate will default to the curve's defined 'one' constant.\n   * If `y` is not a BigNumber, `y` will be converted to a `BigNumber` assuming it is a hex string.\n   *\n   * @param z - If `null`, the z-coordinate will default to 0.\n   * If `z` is not a BigNumber, `z` will be converted to a `BigNumber` assuming it is a hex string.\n   *\n   * @example\n   * const pointJ1 = new JacobianPoint(null, null, null); // creates point at infinity\n   * const pointJ2 = new JacobianPoint('3', '4', '1'); // creates point (3, 4, 1)\n   */\n  constructor (\n    x: string | BigNumber | null,\n    y: string | BigNumber | null,\n    z: string | BigNumber | null\n  ) {\n    super('jacobian')\n    if (x === null && y === null && z === null) {\n      this.x = this.curve.one\n      this.y = this.curve.one\n      this.z = new BigNumber(0)\n    } else {\n      if (!BigNumber.isBN(x)) {\n        x = new BigNumber(x as string, 16)\n      }\n      this.x = x as BigNumber\n      if (!BigNumber.isBN(y)) {\n        y = new BigNumber(y as string, 16)\n      }\n      this.y = y as BigNumber\n      if (!BigNumber.isBN(z)) {\n        z = new BigNumber(z as string, 16)\n      }\n      this.z = z as BigNumber\n    }\n    if (this.x.red == null) {\n      this.x = this.x.toRed(this.curve.red)\n    }\n    if (this.y.red == null) {\n      this.y = this.y.toRed(this.curve.red)\n    }\n    if (this.z.red == null) {\n      this.z = this.z.toRed(this.curve.red)\n    }\n\n    this.zOne = this.z === this.curve.one\n  }\n\n  /**\n   * Converts the `JacobianPoint` object instance to standard affine `Point` format and returns `Point` type.\n   *\n   * @returns The `Point`(affine) object representing the same point as the original `JacobianPoint`.\n   *\n   * If the initial `JacobianPoint` represents point at infinity, an instance of `Point` at infinity is returned.\n   *\n   * @example\n   * const pointJ = new JacobianPoint('3', '4', '1');\n   * const pointP = pointJ.toP();  // The point in affine coordinates.\n   */\n  toP (): Point {\n    if (this.isInfinity()) {\n      return new Point(null, null)\n    }\n\n    const zinv = this.z.redInvm()\n    const zinv2 = zinv.redSqr()\n    const ax = this.x.redMul(zinv2)\n    const ay = this.y.redMul(zinv2).redMul(zinv)\n\n    return new Point(ax, ay)\n  }\n\n  /**\n   * Negation operation. It returns the additive inverse of the Jacobian point.\n   *\n   * @method neg\n   * @returns Returns a new Jacobian point as the result of the negation.\n   *\n   * @example\n   * const jp = new JacobianPoint(x, y, z)\n   * const result = jp.neg()\n   */\n  neg (): JacobianPoint {\n    return new JacobianPoint(this.x, this.y.redNeg(), this.z)\n  }\n\n  /**\n   * Addition operation in the Jacobian coordinates. It takes a Jacobian point as an argument\n   * and returns a new Jacobian point as a result of the addition. In the special cases,\n   * when either one of the points is the point at infinity, it will return the other point.\n   *\n   * @method add\n   * @param p - The Jacobian point to be added.\n   * @returns Returns a new Jacobian point as the result of the addition.\n   *\n   * @example\n   * const p1 = new JacobianPoint(x1, y1, z1)\n   * const p2 = new JacobianPoint(x2, y2, z2)\n   * const result = p1.add(p2)\n   */\n  add (p: JacobianPoint): JacobianPoint {\n    // O + P = P\n    if (this.isInfinity()) {\n      return p\n    }\n\n    // P + O = P\n    if (p.isInfinity()) {\n      return this\n    }\n\n    // 12M + 4S + 7A\n    const pz2 = p.z.redSqr()\n    const z2 = this.z.redSqr()\n    const u1 = this.x.redMul(pz2)\n    const u2 = p.x.redMul(z2)\n    const s1 = this.y.redMul(pz2.redMul(p.z))\n    const s2 = p.y.redMul(z2.redMul(this.z))\n\n    const h = u1.redSub(u2)\n    const r = s1.redSub(s2)\n    if (h.cmpn(0) === 0) {\n      if (r.cmpn(0) !== 0) {\n        return new JacobianPoint(null, null, null)\n      } else {\n        return this.dbl()\n      }\n    }\n\n    const h2 = h.redSqr()\n    const h3 = h2.redMul(h)\n    const v = u1.redMul(h2)\n\n    const nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v)\n    const ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3))\n    const nz = this.z.redMul(p.z).redMul(h)\n\n    return new JacobianPoint(nx, ny, nz)\n  }\n\n  /**\n   * Mixed addition operation. This function combines the standard point addition with\n   * the transformation from the affine to Jacobian coordinates. It first converts\n   * the affine point to Jacobian, and then preforms the addition.\n   *\n   * @method mixedAdd\n   * @param p - The affine point to be added.\n   * @returns Returns the result of the mixed addition as a new Jacobian point.\n   *\n   * @example\n   * const jp = new JacobianPoint(x1, y1, z1)\n   * const ap = new Point(x2, y2)\n   * const result = jp.mixedAdd(ap)\n   */\n  mixedAdd (p: Point): JacobianPoint {\n    // O + P = P\n    if (this.isInfinity()) {\n      return p.toJ()\n    }\n\n    // P + O = P\n    if (p.isInfinity()) {\n      return this\n    }\n\n    // Ensure x and y are not null\n    if (p.x === null || p.y === null) {\n      throw new Error('Point coordinates cannot be null')\n    }\n\n    // 8M + 3S + 7A\n    const z2 = this.z.redSqr()\n    const u1 = this.x\n    const u2 = p.x.redMul(z2)\n    const s1 = this.y\n    const s2 = p.y.redMul(z2).redMul(this.z)\n\n    const h = u1.redSub(u2)\n    const r = s1.redSub(s2)\n    if (h.cmpn(0) === 0) {\n      if (r.cmpn(0) !== 0) {\n        return new JacobianPoint(null, null, null)\n      } else {\n        return this.dbl()\n      }\n    }\n\n    const h2 = h.redSqr()\n    const h3 = h2.redMul(h)\n    const v = u1.redMul(h2)\n\n    const nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v)\n    const ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3))\n    const nz = this.z.redMul(h)\n\n    return new JacobianPoint(nx, ny, nz)\n  }\n\n  /**\n   * Multiple doubling operation. It doubles the Jacobian point as many times as the pow parameter specifies. If pow is 0 or the point is the point at infinity, it will return the point itself.\n   *\n   * @method dblp\n   * @param pow - The number of times the point should be doubled.\n   * @returns Returns a new Jacobian point as the result of multiple doublings.\n   *\n   * @example\n   * const jp = new JacobianPoint(x, y, z)\n   * const result = jp.dblp(3)\n   */\n  dblp (pow: number): JacobianPoint {\n    if (pow === 0) {\n      return this\n    }\n    if (this.isInfinity()) {\n      return this\n    }\n    if (typeof pow === 'undefined') {\n      return this.dbl()\n    }\n\n    /* eslint-disable @typescript-eslint/no-this-alias */\n    let r = this as JacobianPoint\n    for (let i = 0; i < pow; i++) {\n      r = r.dbl()\n    }\n    return r\n  }\n\n  /**\n   * Point doubling operation in the Jacobian coordinates. A special case is when the point is the point at infinity, in this case, this function will return the point itself.\n   *\n   * @method dbl\n   * @returns Returns a new Jacobian point as the result of the doubling.\n   *\n   * @example\n   * const jp = new JacobianPoint(x, y, z)\n   * const result = jp.dbl()\n   */\n  dbl (): JacobianPoint {\n    if (this.isInfinity()) {\n      return this\n    }\n\n    let nx\n    let ny\n    let nz\n    // Z = 1\n    if (this.zOne) {\n      // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n      //     #doubling-mdbl-2007-bl\n      // 1M + 5S + 14A\n\n      // XX = X1^2\n      const xx = this.x.redSqr()\n      // YY = Y1^2\n      const yy = this.y.redSqr()\n      // YYYY = YY^2\n      const yyyy = yy.redSqr()\n      // S = 2 * ((X1 + YY)^2 - XX - YYYY)\n      let s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy)\n      s = s.redIAdd(s)\n      // M = 3 * XX + a; a = 0\n      const m = xx.redAdd(xx).redIAdd(xx)\n      // T = M ^ 2 - 2*S\n      const t = m.redSqr().redISub(s).redISub(s)\n\n      // 8 * YYYY\n      let yyyy8 = yyyy.redIAdd(yyyy)\n      yyyy8 = yyyy8.redIAdd(yyyy8)\n      yyyy8 = yyyy8.redIAdd(yyyy8)\n\n      // X3 = T\n      nx = t\n      // Y3 = M * (S - T) - 8 * YYYY\n      ny = m.redMul(s.redISub(t)).redISub(yyyy8)\n      // Z3 = 2*Y1\n      nz = this.y.redAdd(this.y)\n    } else {\n      // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html\n      //     #doubling-dbl-2009-l\n      // 2M + 5S + 13A\n\n      // A = X1^2\n      const a = this.x.redSqr()\n      // B = Y1^2\n      const b = this.y.redSqr()\n      // C = B^2\n      const c = b.redSqr()\n      // D = 2 * ((X1 + B)^2 - A - C)\n      let d = this.x.redAdd(b).redSqr().redISub(a).redISub(c)\n      d = d.redIAdd(d)\n      // E = 3 * A\n      const e = a.redAdd(a).redIAdd(a)\n      // F = E^2\n      const f = e.redSqr()\n\n      // 8 * C\n      let c8 = c.redIAdd(c)\n      c8 = c8.redIAdd(c8)\n      c8 = c8.redIAdd(c8)\n\n      // X3 = F - 2 * D\n      nx = f.redISub(d).redISub(d)\n      // Y3 = E * (D - X3) - 8 * C\n      ny = e.redMul(d.redISub(nx)).redISub(c8)\n      // Z3 = 2 * Y1 * Z1\n      nz = this.y.redMul(this.z)\n      nz = nz.redIAdd(nz)\n    }\n\n    return new JacobianPoint(nx, ny, nz)\n  }\n\n  /**\n   * Equality check operation. It checks whether the affine or Jacobian point is equal to this Jacobian point.\n   *\n   * @method eq\n   * @param p - The affine or Jacobian point to compare with.\n   * @returns Returns true if the points are equal, otherwise returns false.\n   *\n   * @example\n   * const jp1 = new JacobianPoint(x1, y1, z1)\n   * const jp2 = new JacobianPoint(x2, y2, z2)\n   * const areEqual = jp1.eq(jp2)\n   */\n  eq (p: Point | JacobianPoint): boolean {\n    if (p.type === 'affine') {\n      return this.eq((p as Point).toJ())\n    }\n\n    if (this === p) {\n      return true\n    }\n\n    // x1 * z2^2 == x2 * z1^2\n    const z2 = this.z.redSqr()\n    p = p as JacobianPoint\n    const pz2 = p.z.redSqr()\n    if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0) {\n      return false\n    }\n\n    // y1 * z2^3 == y2 * z1^3\n    const z3 = z2.redMul(this.z)\n    const pz3 = pz2.redMul(p.z)\n    return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0\n  }\n\n  /**\n   * Equality check operation in relation to an x coordinate of a point in projective coordinates.\n   * It checks whether the x coordinate of the Jacobian point is equal to the provided x coordinate\n   * of a point in projective coordinates.\n   *\n   * @method eqXToP\n   * @param x - The x coordinate of a point in projective coordinates.\n   * @returns Returns true if the x coordinates are equal, otherwise returns false.\n   *\n   * @example\n   * const jp = new JacobianPoint(x1, y1, z1)\n   * const isXEqual = jp.eqXToP(x2)\n   */\n  eqXToP (x: BigNumber): boolean {\n    const zs = this.z.redSqr()\n    const rx = x.toRed(this.curve?.red).redMul(zs)\n\n    if (this.x.cmp(rx) === 0) {\n      return true\n    }\n\n    const xc = x.clone()\n    if (this.curve === null || (this.curve.redN == null)) {\n      throw new Error('Curve or redN is not initialized.')\n    }\n\n    const t = this.curve.redN.redMul(zs)\n\n    while (xc.cmp(this.curve.p) < 0) {\n      xc.iadd(this.curve.n)\n      if (xc.cmp(this.curve.p) >= 0) {\n        return false\n      }\n\n      rx.redIAdd(t)\n      if (this.x.cmp(rx) === 0) {\n        return true\n      }\n    }\n\n    //  Ensure function always returns a boolean\n    return false\n  }\n\n  /**\n   * Returns the string representation of the JacobianPoint instance.\n   * @method inspect\n   * @returns Returns the string description of the JacobianPoint. If the JacobianPoint represents a point at infinity, the return value of this function is '<EC JPoint Infinity>'. For a normal point, it returns the string description format as '<EC JPoint x: x-coordinate y: y-coordinate z: z-coordinate>'.\n   *\n   * @example\n   * const point = new JacobianPoint('5', '6', '1');\n   * console.log(point.inspect()); // Output: '<EC JPoint x: 5 y: 6 z: 1>'\n   */\n  inspect (): string {\n    if (this.isInfinity()) {\n      return '<EC JPoint Infinity>'\n    }\n    return (\n      '<EC JPoint x: ' +\n      this.x.toString(16, 2) +\n      ' y: ' +\n      this.y.toString(16, 2) +\n      ' z: ' +\n      this.z.toString(16, 2) +\n      '>'\n    )\n  }\n\n  /**\n   * Checks whether the JacobianPoint instance represents a point at infinity.\n   * @method isInfinity\n   * @returns Returns true if the JacobianPoint's z-coordinate equals to zero (which represents the point at infinity in Jacobian coordinates). Returns false otherwise.\n   *\n   * @example\n   * const point = new JacobianPoint('5', '6', '0');\n   * console.log(point.isInfinity()); // Output: true\n   */\n  isInfinity (): boolean {\n    return this.z.cmpn(0) === 0\n  }\n}\n","\nimport ChainTracker from '../ChainTracker.js'\nimport { HttpClient } from '../http/HttpClient.js'\nimport { defaultHttpClient } from '../http/DefaultHttpClient.js'\n\n/** Configuration options for the WhatsOnChain ChainTracker. */\nexport interface WhatsOnChainConfig {\n  /** Authentication token for the WhatsOnChain API */\n  apiKey?: string\n  /** The HTTP client used to make requests to the API. */\n  httpClient?: HttpClient\n}\n\ninterface WhatsOnChainBlockHeader {\n  merkleroot: string\n}\n\n/**\n * Represents a chain tracker based on What's On Chain .\n */\nexport default class WhatsOnChain implements ChainTracker {\n  readonly network: string\n  readonly apiKey: string\n  protected readonly URL: string\n  protected readonly httpClient: HttpClient\n\n  /**\n   * Constructs an instance of the WhatsOnChain ChainTracker.\n   *\n   * @param {'main' | 'test' | 'stn'} network - The BSV network to use when calling the WhatsOnChain API.\n   * @param {WhatsOnChainConfig} config - Configuration options for the WhatsOnChain ChainTracker.\n   */\n  constructor(\n    network: 'main' | 'test' | 'stn' = 'main',\n    config: WhatsOnChainConfig = {}\n  ) {\n    const { apiKey, httpClient } = config\n    this.network = network\n    this.URL = `https://api.whatsonchain.com/v1/bsv/${network}`\n    this.httpClient = httpClient ?? defaultHttpClient()\n    this.apiKey = apiKey ?? ''\n  }\n\n  async isValidRootForHeight(root: string, height: number): Promise<boolean> {\n    const requestOptions = {\n      method: 'GET',\n      headers: this.getHttpHeaders()\n    }\n\n    const response = await this.httpClient.request<WhatsOnChainBlockHeader>(\n      `${this.URL}/block/${height}/header`,\n      requestOptions\n    )\n    if (response.ok) {\n      const { merkleroot } = response.data\n      return merkleroot === root\n    } else if (response.status === 404) {\n      return false\n    } else {\n      throw new Error(\n        `Failed to verify merkleroot for height ${height} because of an error: ${JSON.stringify(response.data)} `\n      )\n    }\n  }\n\n  async currentHeight(): Promise<number> {\n    try {\n      const requestOptions = {\n        method: 'GET',\n        headers: this.getHttpHeaders()\n      }\n\n      const response = await this.httpClient.request<{ height: number }>(\n        `${this.URL}/block/headers`,\n        requestOptions\n      )\n      if (response.ok) {\n        return response.data[0].height\n      } else {\n        throw new Error(\n          `Failed to get current height because of an error: ${JSON.stringify(response.data)} `\n        )\n      }\n    } catch (error) {\n      throw new Error(\n        `Failed to get current height because of an error: ${error instanceof Error ? error.message : String(error)}`\n      )\n    }\n  }\n\n  protected getHttpHeaders(): Record<string, string> {\n    const headers: Record<string, string> = {\n      Accept: 'application/json'\n    }\n\n    if (typeof this.apiKey === 'string' && this.apiKey.trim() !== '') {\n      headers.Authorization = this.apiKey\n    }\n\n    return headers\n  }\n}\n","import {\n  BroadcastResponse,\n  BroadcastFailure,\n  Broadcaster\n} from '../Broadcaster.js'\nimport Transaction from '../Transaction.js'\nimport { HttpClient, HttpClientRequestOptions } from '../http/HttpClient.js'\nimport { defaultHttpClient } from '../http/DefaultHttpClient.js'\nimport Random from '../../primitives/Random.js'\nimport { toHex } from '../../primitives/utils.js'\n\n/** Configuration options for the ARC broadcaster. */\nexport interface ArcConfig {\n  /** Authentication token for the ARC API */\n  apiKey?: string\n  /** The HTTP client used to make requests to the ARC API. */\n  httpClient?: HttpClient\n  /** Deployment id used annotating api calls in XDeployment-ID header - this value will be randomly generated if not set */\n  deploymentId?: string\n  /** notification callback endpoint for proofs and double spend notification */\n  callbackUrl?: string\n  /** default access token for notification callback endpoint. It will be used as a Authorization header for the http callback */\n  callbackToken?: string\n  /** additional headers to be attached to all tx submissions. */\n  headers?: Record<string, string>\n}\n\nfunction defaultDeploymentId(): string {\n  return `ts-sdk-${toHex(Random(16))}`\n}\n\n/**\n * Represents an ARC transaction broadcaster.\n */\nexport default class ARC implements Broadcaster {\n  readonly URL: string\n  readonly apiKey: string | undefined\n  readonly deploymentId: string\n  readonly callbackUrl: string | undefined\n  readonly callbackToken: string | undefined\n  readonly headers: Record<string, string> | undefined\n  private readonly httpClient: HttpClient\n\n  /**\n   * Constructs an instance of the ARC broadcaster.\n   *\n   * @param {string} URL - The URL endpoint for the ARC API.\n   * @param {ArcConfig} config - Configuration options for the ARC broadcaster.\n   */\n  constructor(URL: string, config?: ArcConfig)\n  /**\n   * Constructs an instance of the ARC broadcaster.\n   *\n   * @param {string} URL - The URL endpoint for the ARC API.\n   * @param {string} apiKey - The API key used for authorization with the ARC API.\n   */\n  constructor(URL: string, apiKey?: string)\n\n  constructor(URL: string, config?: string | ArcConfig) {\n    this.URL = URL\n    if (typeof config === 'string') {\n      this.apiKey = config\n      this.httpClient = defaultHttpClient()\n      this.deploymentId = defaultDeploymentId()\n      this.callbackToken = undefined\n      this.callbackUrl = undefined\n    } else {\n      const configObj: ArcConfig = config ?? {}\n      const {\n        apiKey,\n        deploymentId,\n        httpClient,\n        callbackToken,\n        callbackUrl,\n        headers\n      } = configObj\n      this.apiKey = apiKey\n      this.httpClient = httpClient ?? defaultHttpClient()\n      this.deploymentId = deploymentId ?? defaultDeploymentId()\n      this.callbackToken = callbackToken\n      this.callbackUrl = callbackUrl\n      this.headers = headers\n    }\n  }\n\n  /**\n   * Constructs a dictionary of the default & supplied request headers.\n   */\n  private requestHeaders(): Record<string, string> {\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n      'XDeployment-ID': this.deploymentId\n    }\n\n    if (this.apiKey != null && this.apiKey !== '') {\n      headers.Authorization = `Bearer ${this.apiKey}`\n    }\n\n    if (this.callbackUrl != null && this.callbackUrl !== '') {\n      headers['X-CallbackUrl'] = this.callbackUrl\n    }\n\n    if (this.callbackToken != null && this.callbackToken !== '') {\n      headers['X-CallbackToken'] = this.callbackToken\n    }\n\n    if (this.headers != null) {\n      for (const key in this.headers) {\n        headers[key] = this.headers[key]\n      }\n    }\n\n    return headers\n  }\n\n  /**\n   * Broadcasts a transaction via ARC.\n   *\n   * @param {Transaction} tx - The transaction to be broadcasted.\n   * @returns {Promise<BroadcastResponse | BroadcastFailure>} A promise that resolves to either a success or failure response.\n   */\n  async broadcast(\n    tx: Transaction\n  ): Promise<BroadcastResponse | BroadcastFailure> {\n    let rawTx\n    try {\n      rawTx = tx.toHexEF()\n    } catch (error) {\n      if (\n        error.message ===\n        'All inputs must have source transactions when serializing to EF format'\n      ) {\n        rawTx = tx.toHex()\n      } else {\n        throw error\n      }\n    }\n\n    const requestOptions: HttpClientRequestOptions = {\n      method: 'POST',\n      headers: this.requestHeaders(),\n      data: { rawTx }\n    }\n\n    try {\n      const response = await this.httpClient.request<ArcResponse>(\n        `${this.URL}/v1/tx`,\n        requestOptions\n      )\n      if (response.ok) {\n        const { txid, extraInfo, txStatus, competingTxs } = response.data\n        const broadcastRes: BroadcastResponse = {\n          status: 'success',\n          txid,\n          message: `${txStatus} ${extraInfo}`\n        }\n        if (competingTxs != null) {\n          broadcastRes.competingTxs = competingTxs\n        }\n        return broadcastRes\n      } else {\n        const st = typeof response.status\n        const r: BroadcastFailure = {\n          status: 'error',\n          code:\n            st === 'number' || st === 'string'\n              ? response.status.toString()\n              : 'ERR_UNKNOWN',\n          description: 'Unknown error'\n        }\n        let d = response.data\n        if (typeof d === 'string') {\n          try {\n            d = JSON.parse(response.data as string)\n          } catch {\n            // Intentionally left empty\n          }\n        }\n        if (typeof d === 'object') {\n          if (d !== null) {\n            r.more = d\n          }\n          if ((d != null) && typeof (d as { txid: string }).txid === 'string') {\n            r.txid = (d as { txid: string }).txid\n          }\n          if ((d != null) && 'detail' in d && typeof (d as { detail: string }).detail === 'string') {\n            r.description = (d as { detail: string }).detail\n          }\n        }\n        return r\n      }\n    } catch (error) {\n      return {\n        status: 'error',\n        code: '500',\n        description:\n          typeof error.message === 'string'\n            ? error.message\n            : 'Internal Server Error'\n      }\n    }\n  }\n\n  /**\n   * Broadcasts multiple transactions via ARC.\n   * Handles mixed responses where some transactions succeed and others fail.\n   *\n   * @param {Transaction[]} txs - Array of transactions to be broadcasted.\n   * @returns {Promise<Array<object>>} A promise that resolves to an array of objects.\n   */\n  async broadcastMany(txs: Transaction[]): Promise<object[]> {\n    const rawTxs = txs.map((tx) => {\n      try {\n        return { rawTx: tx.toHexEF() }\n      } catch (error) {\n        if (\n          error.message ===\n          'All inputs must have source transactions when serializing to EF format'\n        ) {\n          return { rawTx: tx.toHex() }\n        }\n        throw error\n      }\n    })\n\n    const requestOptions: HttpClientRequestOptions = {\n      method: 'POST',\n      headers: this.requestHeaders(),\n      data: rawTxs\n    }\n\n    try {\n      const response = await this.httpClient.request<object[]>(\n        `${this.URL}/v1/txs`,\n        requestOptions\n      )\n\n      return response.data as object[]\n    } catch (error) {\n      const errorResponse: BroadcastFailure = {\n        status: 'error',\n        code: '500',\n        description: typeof error.message === 'string' ? error.message : 'Internal Server Error'\n      }\n      return txs.map(() => errorResponse)\n    }\n  }\n}\n\ninterface ArcResponse {\n  txid: string\n  extraInfo: string\n  txStatus: string\n  competingTxs?: string[]\n}\n","import { hash256 } from '../primitives/Hash.js'\nimport { Reader, Writer, toHex, toArray } from '../primitives/utils.js'\nimport Transaction from './Transaction.js'\nimport { BEEF_V2, TX_DATA_FORMAT } from './Beef.js'\n\n/**\n * A single bitcoin transaction associated with a `Beef` validity proof set.\n *\n * Simple case is transaction data included directly, either as raw bytes or fully parsed data, or both.\n *\n * Supports 'known' transactions which are represented by just their txid.\n * It is assumed that intended consumer of this beef already has validity proof for such a transaction,\n * which they can merge if necessary to create a valid beef.\n */\nexport default class BeefTx {\n  _bumpIndex?: number\n  _tx?: Transaction\n  _rawTx?: number[]\n  _txid?: string\n  inputTxids: string[] = []\n  /**\n   * true if `hasProof` or all inputs chain to `hasProof`.\n   *\n   * Typically set by sorting transactions by proven dependency chains.\n   */\n  isValid?: boolean = undefined\n\n  get bumpIndex (): number | undefined {\n    return this._bumpIndex\n  }\n\n  set bumpIndex (v: number | undefined) {\n    this._bumpIndex = v\n    this.updateInputTxids()\n  }\n\n  get hasProof (): boolean {\n    return this._bumpIndex !== undefined\n  }\n\n  get isTxidOnly (): boolean {\n    return this._txid !== undefined && this._txid !== null && (this._rawTx == null) && (this._tx == null)\n  }\n\n  get txid (): string {\n    if (this._txid !== undefined && this._txid !== null && this._txid !== '') return this._txid\n    if (this._tx != null) {\n      this._txid = this._tx.id('hex')\n      return this._txid\n    }\n    if (this._rawTx != null) {\n      this._txid = toHex(hash256(this._rawTx))\n      return this._txid\n    }\n    throw new Error('Internal')\n  }\n\n  get tx (): Transaction | undefined {\n    if (this._tx != null) return this._tx\n    if (this._rawTx != null) {\n      this._tx = Transaction.fromBinary(this._rawTx)\n      return this._tx\n    }\n    return undefined\n  }\n\n  get rawTx (): number[] | undefined {\n    if (this._rawTx != null) return this._rawTx\n    if (this._tx != null) {\n      this._rawTx = this._tx.toBinary()\n      return this._rawTx\n    }\n    return undefined\n  }\n\n  /**\n   * @param tx If string, must be a valid txid. If `number[]` must be a valid serialized transaction.\n   * @param bumpIndex If transaction already has a proof in the beef to which it will be added.\n   */\n  constructor (tx: Transaction | number[] | string, bumpIndex?: number) {\n    if (typeof tx === 'string') {\n      this._txid = tx\n    } else if (Array.isArray(tx)) {\n      this._rawTx = tx\n    } else {\n      this._tx = tx\n    }\n    this.bumpIndex = bumpIndex\n    this.updateInputTxids()\n  }\n\n  static fromTx (tx: Transaction, bumpIndex?: number): BeefTx {\n    return new BeefTx(tx, bumpIndex)\n  }\n\n  static fromRawTx (rawTx: number[], bumpIndex?: number): BeefTx {\n    return new BeefTx(rawTx, bumpIndex)\n  }\n\n  static fromTxid (txid: string, bumpIndex?: number): BeefTx {\n    return new BeefTx(txid, bumpIndex)\n  }\n\n  private updateInputTxids (): void {\n    if (this.hasProof || (this.tx == null)) {\n      // If we have a proof, or don't have a parsed transaction\n      this.inputTxids = []\n    } else {\n      const inputTxids: Record<string, boolean> = {} //  Explicit object type\n      for (const input of this.tx.inputs) {\n        if (input.sourceTXID !== undefined && input.sourceTXID !== null && input.sourceTXID !== '') {\n          //  Ensure sourceTXID is defined\n          inputTxids[input.sourceTXID] = true\n        }\n      }\n      this.inputTxids = Object.keys(inputTxids)\n    }\n  }\n\n  toWriter (writer: Writer, version: number): void {\n    const writeByte = (bb: number): void => {\n      writer.writeUInt8(bb)\n    }\n\n    const writeTxid = (): void => {\n      if (this._txid == null) {\n        throw new Error('Transaction ID (_txid) is undefined')\n      }\n      writer.writeReverse(toArray(this._txid, 'hex'))\n    }\n\n    const writeTx = (): void => {\n      if (this._rawTx != null) {\n        writer.write(this._rawTx)\n      } else if (this._tx != null) {\n        writer.write(this._tx.toBinary())\n      } else {\n        throw new Error('a valid serialized Transaction is expected')\n      }\n    }\n\n    const writeBumpIndex = (): void => {\n      if (this.bumpIndex === undefined) {\n        writeByte(TX_DATA_FORMAT.RAWTX) // 0\n      } else {\n        writeByte(TX_DATA_FORMAT.RAWTX_AND_BUMP_INDEX) // 1\n        writer.writeVarIntNum(this.bumpIndex) // the index of the associated bump\n      }\n    }\n\n    if (version === BEEF_V2) {\n      if (this.isTxidOnly) {\n        writeByte(TX_DATA_FORMAT.TXID_ONLY)\n        writeTxid()\n      } else if (this.bumpIndex !== undefined) {\n        writeByte(TX_DATA_FORMAT.RAWTX_AND_BUMP_INDEX)\n        writer.writeVarIntNum(this.bumpIndex)\n        writeTx()\n      } else {\n        writeByte(TX_DATA_FORMAT.RAWTX)\n        writeTx()\n      }\n    } else {\n      writeTx()\n      writeBumpIndex()\n    }\n  }\n\n  static fromReader (br: Reader, version: number): BeefTx {\n    let data: Transaction | number[] | string | undefined\n    let bumpIndex: number | undefined\n    let beefTx: BeefTx | undefined\n    if (version === BEEF_V2) {\n      // V2\n      const format = br.readUInt8()\n      if (format === TX_DATA_FORMAT.TXID_ONLY) {\n        beefTx = BeefTx.fromTxid(toHex(br.readReverse(32)))\n      } else {\n        if (format === TX_DATA_FORMAT.RAWTX_AND_BUMP_INDEX) {\n          bumpIndex = br.readVarIntNum()\n        }\n        data = Transaction.fromReader(br)\n        beefTx = BeefTx.fromTx(data, bumpIndex)\n      }\n    } else {\n      // V1\n      data = Transaction.fromReader(br)\n      bumpIndex = br.readUInt8() !== 0 ? br.readVarIntNum() : undefined\n      beefTx = BeefTx.fromTx(data, bumpIndex)\n    }\n\n    return beefTx\n  }\n}\n","import { AtomicBEEF, OutpointString, ReviewActionResult, SendWithResult, TXIDHexString } from './Wallet.interfaces.js'\n\n/**\n * When a `createAction` or `signAction` is completed in undelayed mode (`acceptDelayedBroadcast`: false),\n * any unsucccessful result will return the results by way of this exception to ensure attention is\n * paid to processing errors.\n */\nexport class WERR_REVIEW_ACTIONS extends Error {\n  code: number\n  isError: boolean = true\n\n  /**\n   * All parameters correspond to their comparable `createAction` or `signSction` results\n   * with the exception of `reviewActionResults`;\n   * which contains more details, particularly for double spend results.\n   */\n  constructor (\n    public reviewActionResults: ReviewActionResult[],\n    public sendWithResults: SendWithResult[],\n    public txid?: TXIDHexString,\n    public tx?: AtomicBEEF,\n    public noSendChange?: OutpointString[]\n  ) {\n    super('Undelayed createAction or signAction results require review.')\n    this.code = 5\n    this.name = this.constructor.name\n  }\n}\n\nexport default WERR_REVIEW_ACTIONS\n","import {\n  HttpClient,\n  HttpClientRequestOptions,\n  HttpClientResponse\n} from './HttpClient.js'\n\n/** Node Https module interface limited to options needed by ts-sdk */\nexport interface BinaryHttpsNodejs {\n  request: (\n    url: string,\n    options: HttpClientRequestOptions,\n    callback: (res: any) => void\n  ) => BinaryNodejsHttpClientRequest\n}\n\n/** Nodejs result of the Node https.request call limited to options needed by ts-sdk */\nexport interface BinaryNodejsHttpClientRequest {\n  write: (chunk: Buffer) => void\n\n  on: (event: string, callback: (data: any) => void) => void\n\n  end: (() => void) & (() => void)\n}\n\n/**\n * Adapter for Node Https module to be used as HttpClient\n */\nexport class BinaryNodejsHttpClient implements HttpClient {\n  constructor(private readonly https: BinaryHttpsNodejs) { }\n\n  async request(\n    url: string,\n    requestOptions: HttpClientRequestOptions\n  ): Promise<HttpClientResponse> {\n    return await new Promise((resolve, reject) => {\n      const req = this.https.request(url, requestOptions, (res) => {\n        let body = ''\n        res.on('data', (chunk: string) => {\n          body += chunk\n        })\n        res.on('end', () => {\n          const ok = res.statusCode >= 200 && res.statusCode <= 299\n          const mediaType = res.headers['content-type']\n          const data =\n            body !== '' && typeof mediaType === 'string' && mediaType.startsWith('application/json')\n              ? JSON.parse(body)\n              : body\n          resolve({\n            status: res.statusCode,\n            statusText: res.statusMessage,\n            ok,\n            data\n          })\n        })\n      })\n\n      req.on('error', (error: Error) => {\n        reject(error)\n      })\n\n      if (requestOptions.data !== null && requestOptions.data !== undefined) {\n        req.write(Buffer.from(requestOptions.data))\n      }\n      req.end()\n    })\n  }\n}\n\n/** fetch function interface limited to options needed by ts-sdk */\n/**\n * Makes a request to the server.\n * @param url The URL to make the request to.\n * @param options The request configuration.\n */\nexport type Fetch = (url: string, options: FetchOptions) => Promise<Response>\n\n/**\n * An interface for configuration of the request to be passed to the fetch method\n * limited to options needed by ts-sdk.\n */\nexport interface FetchOptions {\n  /** A string to set request's method. */\n  method?: string\n  /** An object literal set request's headers. */\n  headers?: Record<string, string>\n  /** An object or null to set request's body. */\n  body?: Buffer | Uint8Array | Blob | null\n}\n\n/**\n * Adapter for Node Https module to be used as HttpClient\n */\nexport class BinaryFetchClient implements HttpClient {\n  constructor(private readonly fetch: Fetch) { }\n\n  async request<D>(\n    url: string,\n    options: HttpClientRequestOptions\n  ): Promise<HttpClientResponse<D>> {\n    const fetchOptions: FetchOptions = {\n      method: options.method,\n      headers: options.headers,\n      body: options.data\n    }\n\n    const res = await this.fetch(url, fetchOptions)\n    const data = await res.text()\n\n    return {\n      ok: res.ok,\n      status: res.status,\n      statusText: res.statusText,\n      data: data as D\n    }\n  }\n}\n\nexport function binaryHttpClient(): HttpClient {\n  const noHttpClient: HttpClient = {\n    async request(..._): Promise<HttpClientResponse> {\n      throw new Error('No method available to perform HTTP request')\n    }\n  }\n\n  if (typeof window !== 'undefined' && typeof window.fetch === 'function') {\n    // Use fetch in a browser environment\n    return new BinaryFetchClient(window.fetch.bind(window))\n  } else if (typeof require !== 'undefined') {\n    // Use Node https module\n    // eslint-disable-next-line\n    try {\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\n      const https = require('https')\n      return new BinaryNodejsHttpClient(https)\n    } catch (e) {\n      return noHttpClient\n    }\n  } else {\n    return noHttpClient\n  }\n}\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/shared/protocol.ts","import PushDrop from '../script/templates/PushDrop.js'\nimport { WalletInterface } from '../wallet/Wallet.interfaces.js'\nimport {\n  LockingScript,\n  ScriptTemplate,\n  UnlockingScript\n} from '../script/index.js'\nimport { Transaction } from '../transaction/index.js'\nimport { Utils } from '../primitives/index.js'\n\n/**\n * Script template enabling the creation, unlocking, and decoding of SHIP and SLAP advertisements.\n */\nexport default class OverlayAdminTokenTemplate implements ScriptTemplate {\n  pushDrop: PushDrop\n\n  /**\n   * Decodes a SHIP or SLAP advertisement from a given locking script.\n   * @param script Locking script comprising a SHIP or SLAP token to decode\n   * @returns Decoded SHIP or SLAP advertisement\n   */\n  static decode (script: LockingScript): {\n    protocol: 'SHIP' | 'SLAP'\n    identityKey: string\n    domain: string\n    topicOrService: string\n  } {\n    const result = PushDrop.decode(script)\n    if (result.fields.length < 4) {\n      throw new Error('Invalid SHIP/SLAP advertisement!')\n    }\n    const protocol = Utils.toUTF8(result.fields[0])\n    if (protocol !== 'SHIP' && protocol !== 'SLAP') {\n      throw new Error('Invalid protocol type!')\n    }\n    const identityKey = Utils.toHex(result.fields[1])\n    const domain = Utils.toUTF8(result.fields[2])\n    const topicOrService = Utils.toUTF8(result.fields[3])\n    return {\n      protocol,\n      identityKey,\n      domain,\n      topicOrService\n    }\n  }\n\n  /**\n   * Constructs a new Overlay Admin template instance\n   * @param wallet Wallet to use for locking and unlocking\n   */\n  constructor (wallet: WalletInterface) {\n    this.pushDrop = new PushDrop(wallet)\n  }\n\n  /**\n   * Creates a new advertisement locking script\n   * @param protocol SHIP or SLAP\n   * @param domain Domain where the topic or service is available\n   * @param topicOrService Topic or service to advertise\n   * @returns Locking script comprising the advertisement token\n   */\n  async lock (\n    protocol: 'SHIP' | 'SLAP',\n    domain: string,\n    topicOrService: string\n  ): Promise<LockingScript> {\n    const { publicKey: identityKey } = await this.pushDrop.wallet.getPublicKey({\n      identityKey: true\n    })\n    return await this.pushDrop.lock(\n      [\n        Utils.toArray(protocol, 'utf8'),\n        Utils.toArray(identityKey, 'hex'),\n        Utils.toArray(domain, 'utf8'),\n        Utils.toArray(topicOrService, 'utf8')\n      ],\n      [\n        2,\n        protocol === 'SHIP'\n          ? 'Service Host Interconnect'\n          : 'Service Lookup Availability'\n      ],\n      '1',\n      'self'\n    )\n  }\n\n  /**\n   * Unlocks an advertisement token as part of a transaction.\n   * @param protocol SHIP or SLAP, depending on the token to unlock\n   * @returns Script unlocker capable of unlocking the advertisement token\n   */\n  unlock (protocol: 'SHIP' | 'SLAP'): {\n    sign: (tx: Transaction, inputIndex: number) => Promise<UnlockingScript>\n    estimateLength: (tx: Transaction, inputIndex: number) => Promise<number>\n  } {\n    return this.pushDrop.unlock(\n      [\n        2,\n        protocol === 'SHIP'\n          ? 'Service Host Interconnect'\n          : 'Service Lookup Availability'\n      ],\n      '1',\n      'self'\n    )\n  }\n}\n","import { PrivateKey, PublicKey, SymmetricKey } from '../primitives/index.js'\nimport { Counterparty, KeyDeriver } from './KeyDeriver.js'\nimport { WalletProtocol } from './Wallet.interfaces.js'\n\n/**\n * A cached version of KeyDeriver that caches the results of key derivation methods.\n * This is useful for optimizing performance when the same keys are derived multiple times.\n * It supports configurable cache size with sane defaults and maintains cache entries using LRU (Least Recently Used) eviction policy.\n */\nexport default class CachedKeyDeriver {\n  private readonly keyDeriver: KeyDeriver\n  private readonly cache: Map<string, PublicKey | PrivateKey | SymmetricKey | number[]>\n  private readonly maxCacheSize: number\n\n  /**\n   * Initializes the CachedKeyDeriver instance with a root private key and optional cache settings.\n   * @param {PrivateKey | 'anyone'} rootKey - The root private key or the string 'anyone'.\n   * @param {Object} [options] - Optional settings for the cache.\n   * @param {number} [options.maxCacheSize=1000] - The maximum number of entries to store in the cache.\n   */\n  constructor (\n    rootKey: PrivateKey | 'anyone',\n    options?: { maxCacheSize?: number }\n  ) {\n    this.keyDeriver = new KeyDeriver(rootKey)\n    this.cache = new Map<string, PublicKey | PrivateKey | SymmetricKey | number[]>()\n    const maxCacheSize = options?.maxCacheSize\n    this.maxCacheSize = (maxCacheSize != null && !isNaN(maxCacheSize) && maxCacheSize > 0) ? maxCacheSize : 1000\n  }\n\n  /**\n   * Derives a public key based on protocol ID, key ID, and counterparty.\n   * Caches the result for future calls with the same parameters.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @param {boolean} [forSelf=false] - Whether deriving for self.\n   * @returns {PublicKey} - The derived public key.\n   */\n  derivePublicKey (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty,\n    forSelf: boolean = false\n  ): PublicKey {\n    const cacheKey = this.generateCacheKey(\n      'derivePublicKey',\n      protocolID,\n      keyID,\n      counterparty,\n      forSelf\n    )\n    if (this.cache.has(cacheKey)) {\n      const cachedValue = this.cacheGet(cacheKey)\n      if (cachedValue === undefined) {\n        throw new Error('Cached value is undefined')\n      }\n      return cachedValue as PublicKey\n    } else {\n      const result = this.keyDeriver.derivePublicKey(\n        protocolID,\n        keyID,\n        counterparty,\n        forSelf\n      )\n      this.cacheSet(cacheKey, result)\n      return result\n    }\n  }\n\n  /**\n   * Derives a private key based on protocol ID, key ID, and counterparty.\n   * Caches the result for future calls with the same parameters.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {PrivateKey} - The derived private key.\n   */\n  derivePrivateKey (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty\n  ): PrivateKey {\n    const cacheKey = this.generateCacheKey(\n      'derivePrivateKey',\n      protocolID,\n      keyID,\n      counterparty\n    )\n    if (this.cache.has(cacheKey)) {\n      const cachedValue = this.cacheGet(cacheKey)\n      if (cachedValue === undefined) {\n        throw new Error('Cached value is undefined')\n      }\n      return cachedValue as PrivateKey\n    } else {\n      const result = this.keyDeriver.derivePrivateKey(\n        protocolID,\n        keyID,\n        counterparty\n      )\n      this.cacheSet(cacheKey, result)\n      return result\n    }\n  }\n\n  /**\n   * Derives a symmetric key based on protocol ID, key ID, and counterparty.\n   * Caches the result for future calls with the same parameters.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {SymmetricKey} - The derived symmetric key.\n   * @throws {Error} - Throws an error if attempting to derive a symmetric key for 'anyone'.\n   */\n  deriveSymmetricKey (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty\n  ): SymmetricKey {\n    const cacheKey = this.generateCacheKey(\n      'deriveSymmetricKey',\n      protocolID,\n      keyID,\n      counterparty\n    )\n    if (this.cache.has(cacheKey)) {\n      const cachedValue = this.cacheGet(cacheKey)\n      if (cachedValue === undefined) {\n        throw new Error('Cached value is undefined')\n      }\n      return cachedValue as SymmetricKey\n    } else {\n      const result = this.keyDeriver.deriveSymmetricKey(\n        protocolID,\n        keyID,\n        counterparty\n      )\n      this.cacheSet(cacheKey, result)\n      return result\n    }\n  }\n\n  /**\n   * Reveals the shared secret between the root key and the counterparty.\n   * Caches the result for future calls with the same parameters.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {number[]} - The shared secret as a number array.\n   * @throws {Error} - Throws an error if attempting to reveal a shared secret for 'self'.\n   */\n  revealCounterpartySecret (counterparty: Counterparty): number[] {\n    const cacheKey = this.generateCacheKey(\n      'revealCounterpartySecret',\n      counterparty\n    )\n    if (this.cache.has(cacheKey)) {\n      const cachedValue = this.cacheGet(cacheKey)\n      if (cachedValue === undefined) {\n        throw new Error('Cached value is undefined')\n      }\n      return cachedValue as number[]\n    } else {\n      const result = this.keyDeriver.revealCounterpartySecret(counterparty)\n      this.cacheSet(cacheKey, result)\n      return result\n    }\n  }\n\n  /**\n   * Reveals the specific key association for a given protocol ID, key ID, and counterparty.\n   * Caches the result for future calls with the same parameters.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @returns {number[]} - The specific key association as a number array.\n   */\n  revealSpecificSecret (\n    counterparty: Counterparty,\n    protocolID: WalletProtocol,\n    keyID: string\n  ): number[] {\n    const cacheKey = this.generateCacheKey(\n      'revealSpecificSecret',\n      counterparty,\n      protocolID,\n      keyID\n    )\n    if (this.cache.has(cacheKey)) {\n      const cachedValue = this.cacheGet(cacheKey)\n      if (cachedValue === undefined) {\n        throw new Error('Cached value is undefined')\n      }\n      return cachedValue as number[]\n    } else {\n      const result = this.keyDeriver.revealSpecificSecret(\n        counterparty,\n        protocolID,\n        keyID\n      )\n      this.cacheSet(cacheKey, result)\n      return result\n    }\n  }\n\n  /**\n   * Generates a unique cache key based on the method name and input parameters.\n   * @param {string} methodName - The name of the method.\n   * @param {...any} args - The arguments passed to the method.\n   * @returns {string} - The generated cache key.\n   */\n  private generateCacheKey (methodName: string, ...args: Array<string | number | boolean | PublicKey | PrivateKey | Counterparty | WalletProtocol>): string {\n    const serializedArgs = args\n      .map((arg) => this.serializeArgument(arg))\n      .join('|')\n    return `${methodName}|${serializedArgs}`\n  }\n\n  /**\n   * Serializes an argument to a string for use in a cache key.\n   * @param {any} arg - The argument to serialize.\n   * @returns {string} - The serialized argument.\n   */\n  private serializeArgument (arg: string | number | boolean | PublicKey | PrivateKey | Counterparty | WalletProtocol | object | null): string {\n    if (arg instanceof PublicKey || arg instanceof PrivateKey) {\n      return arg.toString()\n    } else if (Array.isArray(arg)) {\n      return arg.map((item) => this.serializeArgument(item)).join(',')\n    } else if (typeof arg === 'object' && arg !== null) {\n      return JSON.stringify(arg)\n    } else {\n      return String(arg)\n    }\n  }\n\n  /**\n   * Retrieves an item from the cache and updates its position to reflect recent use.\n   * @param {string} cacheKey - The key of the cached item.\n   * @returns {any} - The cached value.\n   */\n  private cacheGet (cacheKey: string): PublicKey | PrivateKey | SymmetricKey | number[] | undefined {\n    const value = this.cache.get(cacheKey)\n    // Update the entry to reflect recent use\n    this.cache.delete(cacheKey)\n    if (value !== undefined) {\n      this.cache.set(cacheKey, value)\n    }\n    return value\n  }\n\n  /**\n   * Adds an item to the cache and evicts the least recently used item if necessary.\n   * @param {string} cacheKey - The key of the item to cache.\n   * @param {any} value - The value to cache.\n   */\n  private cacheSet (cacheKey: string, value: PublicKey | PrivateKey | SymmetricKey | number[]): void {\n    if (this.cache.size >= this.maxCacheSize) {\n      // Evict the least recently used item (first item in Map)\n      const firstKey = this.cache.keys().next().value\n      this.cache.delete(firstKey)\n    }\n    this.cache.set(cacheKey, value)\n  }\n}\n","import FeeModel from '../FeeModel.js'\nimport Transaction from '../Transaction.js'\n\n/**\n * Represents the \"satoshis per kilobyte\" transaction fee model.\n */\nexport default class SatoshisPerKilobyte implements FeeModel {\n  /**\n   * @property\n   * Denotes the number of satoshis paid per kilobyte of transaction size.\n   */\n  value: number\n\n  /**\n   * Constructs an instance of the sat/kb fee model.\n   *\n   * @param {number} value - The number of satoshis per kilobyte to charge as a fee.\n   */\n  constructor(value: number) {\n    this.value = value\n  }\n\n  /**\n   * Computes the fee for a given transaction.\n   *\n   * @param tx The transaction for which a fee is to be computed.\n   * @returns The fee in satoshis for the transaction, as a BigNumber.\n   */\n  async computeFee(tx: Transaction): Promise<number> {\n    const getVarIntSize = (i: number): number => {\n      if (i > 2 ** 32) {\n        return 9\n      } else if (i > 2 ** 16) {\n        return 5\n      } else if (i > 253) {\n        return 3\n      } else {\n        return 1\n      }\n    }\n    // Compute the (potentially estimated) size of the transaction\n    let size = 4 // version\n    size += getVarIntSize(tx.inputs.length) // number of inputs\n    for (let i = 0; i < tx.inputs.length; i++) {\n      const input = tx.inputs[i]\n      size += 40 // txid, output index, sequence number\n      let scriptLength: number\n      if (typeof input.unlockingScript === 'object') {\n        scriptLength = input.unlockingScript.toBinary().length\n      } else if (typeof input.unlockingScriptTemplate === 'object') {\n        scriptLength = await input.unlockingScriptTemplate.estimateLength(\n          tx,\n          i\n        )\n      } else {\n        throw new Error(\n          'All inputs must have an unlocking script or an unlocking script template for sat/kb fee computation.'\n        )\n      }\n      size += getVarIntSize(scriptLength) // unlocking script length\n      size += scriptLength // unlocking script\n    }\n    size += getVarIntSize(tx.outputs.length) // number of outputs\n    for (const out of tx.outputs) {\n      size += 8 // satoshis\n      const length = out.lockingScript.toBinary().length\n      size += getVarIntSize(length) // script length\n      size += length // script\n    }\n    size += 4 // lock time\n    // We'll use Math.ceil to ensure the miners get the extra satoshi.\n    const fee = Math.ceil((size / 1000) * this.value)\n    return fee\n  }\n}\n","import { LookupResolver } from '../overlay-tools/index.js'\nimport { StorageUtils } from './index.js'\nimport PushDrop from '../script/templates/PushDrop.js'\nimport Transaction from '../transaction/Transaction.js'\nimport { Hash, Utils } from '../primitives/index.js'\n\nexport interface DownloaderConfig {\n  networkPreset: 'mainnet' | 'testnet' | 'local'\n}\n\nexport interface DownloadResult {\n  data: number[]\n  mimeType: string | null\n}\n\n/**\n * Locates HTTP URLs where content can be downloaded. It uses the passed or the default one.\n *\n * @param {Object} obj All parameters are passed in an object.\n * @param {String} obj.uhrpUrl The UHRP url to resolve.\n * @param {string} obj.confederacyHost HTTPS URL for for the with default setting.\n *\n * @return {Array<String>} An array of HTTP URLs where content can be downloaded.\n * @throws {Error} If UHRP url parameter invalid or is not an array\n * or there is an error retrieving url(s) stored in the UHRP token.\n */\nexport class StorageDownloader {\n  private readonly networkPreset?: 'mainnet' | 'testnet' | 'local' = 'mainnet'\n\n  constructor (config?: DownloaderConfig) {\n    this.networkPreset = config?.networkPreset\n  }\n\n  public async resolve (uhrpUrl: string): Promise<string[]> {\n    // Use UHRP lookup service\n    const lookupResolver = new LookupResolver({ networkPreset: this.networkPreset })\n    const response = await lookupResolver.query({ service: 'ls_uhrp', query: { uhrpUrl } })\n    if (response.type !== 'output-list') {\n      throw new Error('Lookup answer must be an output list')\n    }\n    const decodedResults: string[] = []\n    const currentTime = Math.floor(Date.now() / 1000)\n    for (let i = 0; i < response.outputs.length; i++) {\n      const tx = Transaction.fromBEEF(response.outputs[i].beef)\n      const { fields } = PushDrop.decode(tx.outputs[response.outputs[i].outputIndex].lockingScript)\n\n      const expiryTime = new Utils.Reader(fields[3]).readVarIntNum()\n      if (expiryTime < currentTime) {\n        continue\n      }\n\n      decodedResults.push(Utils.toUTF8(fields[2]))\n    }\n    return decodedResults\n  }\n\n  public async download (uhrpUrl: string): Promise<DownloadResult> {\n    if (!StorageUtils.isValidURL(uhrpUrl)) {\n      throw new Error('Invalid parameter UHRP url')\n    }\n    const hash = StorageUtils.getHashFromURL(uhrpUrl)\n    const downloadURLs = await this.resolve(uhrpUrl)\n\n    if (!Array.isArray(downloadURLs) || downloadURLs.length === 0) {\n      throw new Error('No one currently hosts this file!')\n    }\n\n    for (let i = 0; i < downloadURLs.length; i++) {\n      try {\n        // The url is fetched\n        const result = await fetch(downloadURLs[i], { method: 'GET' })\n\n        // If the request fails, continue to the next url\n        if (!result.ok || result.status >= 400) {\n          continue\n        }\n        const body = await result.arrayBuffer()\n\n        // The body is loaded into a number array\n        const content: number[] = [...new Uint8Array(body)]\n        const contentHash = Hash.sha256(content)\n        for (let i = 0; i < contentHash.length; ++i) {\n          if (contentHash[i] !== hash[i]) {\n            throw new Error('Value of content does not match hash of the url given')\n          }\n        }\n\n        return {\n          data: content,\n          mimeType: result.headers.get('Content-Type')\n        }\n      } catch (error) {\n        continue\n      }\n    }\n    throw new Error(`Unable to download content from ${uhrpUrl}`)\n  }\n}\n","import BigNumber from './BigNumber.js'\nimport Signature from './Signature.js'\nimport Curve from './Curve.js'\nimport Point from './Point.js'\nimport DRBG from './DRBG.js'\n\n/**\n * Truncates a BigNumber message to the length of the curve order n, in the context of the Elliptic Curve Digital Signature Algorithm (ECDSA).\n * This method is used as part of ECDSA signing and verification.\n *\n * The method calculates `delta`, which is a difference obtained by subtracting the bit length of the curve order `n` from the byte length of the message in bits.\n * If `delta` is greater than zero, logical shifts msg to the right by `delta`, retaining the sign.\n *\n * Another condition is tested, but only if `truncOnly` is false. This condition compares the value of msg to curve order `n`.\n * If msg is greater or equal to `n`, it is decreased by `n` and returned.\n *\n * @method truncateToN\n * @param msg - The BigNumber message to be truncated.\n * @param truncOnly - An optional boolean parameter that if set to true, the method will only perform truncation of the BigNumber without doing the additional subtraction from the curve order.\n * @returns Returns the truncated BigNumber value, potentially subtracted by the curve order n.\n *\n * @example\n * let msg = new BigNumber('1234567890abcdef', 16);\n * let truncatedMsg = truncateToN(msg);\n */\nfunction truncateToN (\n  msg: BigNumber,\n  truncOnly?: boolean,\n  curve = new Curve()\n): BigNumber {\n  const delta = msg.byteLength() * 8 - curve.n.bitLength()\n  if (delta > 0) {\n    msg.iushrn(delta)\n  }\n  if (truncOnly === null && msg.cmp(curve.n) >= 0) {\n    return msg.sub(curve.n)\n  } else {\n    return msg\n  }\n}\n\n/**\n * Generates a digital signature for a given message.\n *\n * @function sign\n * @param msg - The BigNumber message for which the signature has to be computed.\n * @param key - Private key in BigNumber.\n * @param forceLowS - Optional boolean flag if True forces \"s\" to be the lower of two possible values.\n * @param customK - Optional specification for k value, which can be a function or BigNumber.\n * @returns Returns the elliptic curve digital signature of the message.\n *\n * @example\n * const msg = new BigNumber('2664878')\n * const key = new BigNumber('123456')\n * const signature = sign(msg, key)\n */\nexport const sign = (\n  msg: BigNumber,\n  key: BigNumber,\n  forceLowS: boolean = false,\n  customK?: BigNumber | ((iter: number) => BigNumber)\n): Signature => {\n  if (typeof BigInt === 'function') {\n    // Curve parameters for secp256k1\n    const zero = BigInt(0)\n    const one = BigInt(1)\n    const two = BigInt(2)\n    const n = BigInt(\n      '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141'\n    ) // Order of the curve\n    const p = BigInt(\n      '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F'\n    ) // Field prime\n    const Gx = BigInt(\n      '0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798'\n    )\n    const Gy = BigInt(\n      '0x483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8'\n    )\n    const G = { x: Gx, y: Gy }\n\n    // Convert msg and key to BigInt\n    const z = BigInt('0x' + msg.toString(16))\n    const d = BigInt('0x' + key.toString(16))\n\n    // Validate private key\n    if (d <= zero || d >= n) {\n      throw new Error('Invalid private key')\n    }\n\n    // Helper function to convert BigInt to byte array\n    function bigIntToBytes (value: bigint, length: number): Uint8Array {\n      const hex = value.toString(16).padStart(length * 2, '0')\n      const bytes = new Uint8Array(length)\n      for (let i = 0; i < length; i++) {\n        bytes[i] = parseInt(hex.substr(i * 2, 2), 16)\n      }\n      return bytes\n    }\n\n    // Zero-extend key to provide enough entropy\n    const bytes = 32 // Assuming 256-bit curve\n    const bkey = bigIntToBytes(d, bytes) // 'd' is the private key BigInt\n\n    // Zero-extend nonce to have the same byte size as N\n    const nonce = bigIntToBytes(z, bytes) // 'z' is the message hash BigInt\n\n    // Instantiate Hmac_DRBG\n    const drbg = new DRBG(Array.from(bkey), Array.from(nonce))\n\n    // Number of bytes to generate\n    const ns1 = n - one\n\n    let iter = 0\n\n    // Truncate to N function for BigInt\n    function truncateToN (\n      k: bigint,\n      n: bigint,\n      truncOnly: boolean = true\n    ): bigint {\n      const kBitLength = k.toString(2).length\n      const nBitLength = n.toString(2).length\n      const delta = kBitLength - nBitLength\n      if (delta > 0) {\n        k = k >> BigInt(delta)\n      }\n      if (!truncOnly && k >= n) {\n        return k - n\n      } else {\n        return k\n      }\n    }\n\n    function generateK (\n      customK?: BigNumber | ((iter: number) => BigNumber)\n    ): bigint {\n      if (typeof customK === 'function') {\n        // Call customK function to get k as BigNumber\n        const kbn = customK(iter)\n        // Convert k_bn (BigNumber) to BigInt\n        const kstr = kbn.toString(16)\n        return BigInt('0x' + kstr)\n      } else if ((customK != null) && BigNumber.isBN(customK)) {\n        // Use customK provided, convert to BigInt\n        const kstr = customK.toString(16)\n        return BigInt('0x' + kstr)\n      } else {\n        // Use DRBG to generate k\n        const khex = drbg.generate(bytes) // Generate hex string\n        return BigInt('0x' + khex)\n      }\n    }\n\n    // Modular arithmetic functions\n    function mod (a: bigint, m: bigint): bigint {\n      return ((a % m) + m) % m\n    }\n\n    function modInv (a: bigint, m: bigint): bigint {\n      let lm = one\n      let hm = zero\n      let low = mod(a, m)\n      let high = m\n      while (low > one) {\n        const r = high / low\n        const nm = hm - lm * r\n        const neww = high - low * r\n        hm = lm\n        lm = nm\n        high = low\n        low = neww\n      }\n      return mod(lm, m)\n    }\n\n    function pointAdd (\n      P: { x: bigint, y: bigint } | null,\n      Q: { x: bigint, y: bigint } | null\n    ): { x: bigint, y: bigint } | null {\n      if (P === null) return Q\n      if (Q === null) return P\n\n      if (P.x === Q.x && P.y === mod(-Q.y, p)) {\n        return null // Point at infinity\n      }\n\n      let m: bigint\n      if (P.x === Q.x && P.y === Q.y) {\n        // Point doubling\n        if (P.y === zero) {\n          return null // Point at infinity\n        }\n        const numerator = mod(BigInt(3) * P.x * P.x, p) // 3 * x^2\n        const denominator = modInv(two * P.y, p)\n        m = mod(numerator * denominator, p)\n      } else {\n        const numerator = mod(Q.y - P.y, p)\n        const denominator = modInv(Q.x - P.x, p)\n        m = mod(numerator * denominator, p)\n      }\n\n      const xR = mod(m * m - P.x - Q.x, p)\n      const yR = mod(m * (P.x - xR) - P.y, p)\n\n      return { x: xR, y: yR }\n    }\n\n    function scalarMul (\n      k: bigint,\n      P: { x: bigint, y: bigint }\n    ): { x: bigint, y: bigint } {\n      let N = P\n      let Q: { x: bigint, y: bigint } | null = null\n\n      while (k > BigInt(0)) {\n        if (k % BigInt(2) === BigInt(1)) {\n          Q = Q === null ? N : (pointAdd(Q, N) ?? Q)\n        }\n        N = pointAdd(N, N) ?? N\n        k >>= BigInt(1)\n      }\n\n      if (Q === null) {\n        throw new Error('Scalar multiplication resulted in an invalid point.')\n      }\n\n      return Q\n    }\n\n    let validSignature = false\n    while (!validSignature) {\n      iter += 1\n      validSignature = true\n      iter += 1\n\n      // Generate k value\n      let k = generateK(customK)\n\n      // Truncate k to n bits\n      k = truncateToN(k, n, true)\n\n      if (k <= one || k >= ns1) {\n        if (customK instanceof BigNumber) {\n          throw new Error(\n            'Invalid fixed custom K value (must be more than 1 and less than N-1)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      const R = scalarMul(k, G)\n      if (R === null) {\n        if (customK instanceof BigNumber) {\n          throw new Error(\n            'Invalid fixed custom K value (must not create a point at infinity when multiplied by the generator point)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      const r = mod(R.x, n)\n      if (r === zero) {\n        if (customK instanceof BigNumber) {\n          throw new Error(\n            'Invalid fixed custom K value (when multiplied by G, the resulting x coordinate mod N must not be zero)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      const kInv = modInv(k, n)\n      const rd = mod(r * d, n)\n      let s = mod(kInv * (z + rd), n)\n      if (s === zero) {\n        if (customK instanceof BigNumber) {\n          throw new Error(\n            'Invalid fixed custom K value (when used with the key, it cannot create a zero value for S)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      // Use complement of `s` if it is > n / 2\n      if (forceLowS && s > n / two) {\n        s = n - s\n      }\n\n      // Return signature as BigNumbers\n      const rbn = new BigNumber(r.toString(16), 16)\n      const sbn = new BigNumber(s.toString(16), 16)\n      return new Signature(rbn, sbn)\n    }\n  } else {\n    const curve = new Curve()\n    msg = truncateToN(msg)\n\n    // Zero-extend key to provide enough entropy\n    const bytes = curve.n.byteLength()\n    const bkey = key.toArray('be', bytes)\n\n    // Zero-extend nonce to have the same byte size as N\n    const nonce = msg.toArray('be', bytes)\n\n    // Instantiate Hmac_DRBG\n    const drbg = new DRBG(bkey, nonce)\n\n    // Number of bytes to generate\n    const ns1 = curve.n.subn(1)\n\n    for (let iter = 0; ; iter++) {\n      // Compute the k-value\n      let k =\n        typeof customK === 'function'\n          ? customK(iter)\n          : BigNumber.isBN(customK)\n            ? customK\n            : new BigNumber(drbg.generate(bytes), 16)\n      if (k != null) {\n        k = truncateToN(k, true)\n      } else {\n        throw new Error('k is undefined')\n      }\n      if (k.cmpn(1) <= 0 || k.cmp(ns1) >= 0) {\n        if (BigNumber.isBN(customK)) {\n          throw new Error(\n            'Invalid fixed custom K value (must be more than 1 and less than N-1)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      const kp = curve.g.mul(k)\n      if (kp.isInfinity()) {\n        if (BigNumber.isBN(customK)) {\n          throw new Error(\n            'Invalid fixed custom K value (must not create a point at infinity when multiplied by the generator point)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      const kpX = kp.getX()\n      const r = kpX.umod(curve.n)\n      if (r.cmpn(0) === 0) {\n        if (BigNumber.isBN(customK)) {\n          throw new Error(\n            'Invalid fixed custom K value (when multiplied by G, the resulting x coordinate mod N must not be zero)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      let s = k.invm(curve.n).mul(r.mul(key).iadd(msg))\n      s = s.umod(curve.n)\n      if (s.cmpn(0) === 0) {\n        if (BigNumber.isBN(customK)) {\n          throw new Error(\n            'Invalid fixed custom K value (when used with the key, it cannot create a zero value for S)'\n          )\n        } else {\n          continue\n        }\n      }\n\n      // Use complement of `s`, if it is > `n / 2`\n      if (forceLowS && s.cmp(curve.n.ushrn(1)) > 0) {\n        s = curve.n.sub(s)\n      }\n      return new Signature(r, s)\n    }\n  }\n  throw new Error('Failed to generate a valid signature')\n}\n\n/**\n * Verifies a digital signature of a given message.\n *\n * Message and key used during the signature generation process, and the previously computed signature\n * are used to validate the authenticity of the digital signature.\n *\n * @function verify\n * @param msg - The BigNumber message for which the signature has to be verified.\n * @param sig - Signature object consisting of parameters 'r' and 's'.\n * @param key - Public key in Point.\n * @returns Returns true if the signature is valid and false otherwise.\n *\n * @example\n * const msg = new BigNumber('2664878', 16)\n * const key = new Point(new BigNumber(10), new BigNumber(20)\n * const signature = sign(msg, new BigNumber('123456'))\n * const isVerified = verify(msg, sig, key)\n */\nexport const verify = (msg: BigNumber, sig: Signature, key: Point): boolean => {\n  // Use BigInt for verification opportunistically\n  if (typeof BigInt === 'function') {\n    // Curve parameters for secp256k1\n    const zero = BigInt(0)\n    const one = BigInt(1)\n    const two = BigInt(2)\n    const three = BigInt(3)\n    const p = BigInt(\n      '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F'\n    ) // Field prime\n    const n = BigInt(\n      '0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141'\n    ) // Order of the curve\n    const G = {\n      x: BigInt(\n        '0x79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798'\n      ),\n      y: BigInt(\n        '0x483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8'\n      )\n    }\n\n    // Modular arithmetic functions\n    const mod = (a: bigint, m: bigint): bigint => ((a % m) + m) % m\n    const modInv = (a: bigint, m: bigint): bigint => {\n      // Extended Euclidean Algorithm for modular inverse\n      let [oldr, r] = [a, m]\n      let [olds, s] = [BigInt(1), BigInt(0)]\n      while (r !== zero) {\n        const q = oldr / r;\n        [oldr, r] = [r, oldr - q * r];\n        [olds, s] = [s, olds - q * s]\n      }\n      if (oldr > one) return zero // No inverse\n      return mod(olds, m)\n    }\n    const modMul = (a: bigint, b: bigint, m: bigint): bigint => mod(a * b, m)\n    const modSub = (a: bigint, b: bigint, m: bigint): bigint => mod(a - b, m)\n\n    // Define constants\n    const four = BigInt(4)\n    const eight = BigInt(8)\n\n    // Elliptic curve point operations in Jacobian coordinates\n    interface JacobianPoint {\n      X: bigint\n      Y: bigint\n      Z: bigint\n    }\n\n    // Point Doubling\n    const pointDouble = (P: JacobianPoint): JacobianPoint => {\n      const { X: X1, Y: Y1, Z: Z1 } = P\n\n      if (Y1 === zero) {\n        return { X: zero, Y: one, Z: zero } // Point at infinity\n      }\n\n      const Y1sq = modMul(Y1, Y1, p) // Y1^2\n      const S = modMul(four, modMul(X1, Y1sq, p), p) // S = 4 * X1 * Y1^2\n      const M = modMul(three, modMul(X1, X1, p), p) // M = 3 * X1^2\n      const X3 = modSub(modMul(M, M, p), modMul(two, S, p), p) // X3 = M^2 - 2 * S\n      const Y3 = modSub(\n        modMul(M, modSub(S, X3, p), p),\n        modMul(eight, modMul(Y1sq, Y1sq, p), p),\n        p\n      ) // Y3 = M * (S - X3) - 8 * Y1^4\n      const Z3 = modMul(two, modMul(Y1, Z1, p), p) // Z3 = 2 * Y1 * Z1\n\n      return { X: X3, Y: Y3, Z: Z3 }\n    }\n\n    // Point Addition\n    const pointAdd = (P: JacobianPoint, Q: JacobianPoint): JacobianPoint => {\n      if (P.Z === zero) return Q\n      if (Q.Z === zero) return P\n\n      const Z1Z1 = modMul(P.Z, P.Z, p)\n      const Z2Z2 = modMul(Q.Z, Q.Z, p)\n      const U1 = modMul(P.X, Z2Z2, p)\n      const U2 = modMul(Q.X, Z1Z1, p)\n      const S1 = modMul(P.Y, modMul(Z2Z2, Q.Z, p), p)\n      const S2 = modMul(Q.Y, modMul(Z1Z1, P.Z, p), p)\n\n      const H = modSub(U2, U1, p)\n      const r = modSub(S2, S1, p)\n\n      if (H === zero) {\n        if (r === zero) {\n          // P == Q\n          return pointDouble(P)\n        } else {\n          // Point at infinity\n          return { X: zero, Y: one, Z: zero }\n        }\n      }\n\n      const HH = modMul(H, H, p)\n      const HHH = modMul(H, HH, p)\n      const V = modMul(U1, HH, p)\n\n      const X3 = modSub(modSub(modMul(r, r, p), HHH, p), modMul(two, V, p), p)\n      const Y3 = modSub(modMul(r, modSub(V, X3, p), p), modMul(S1, HHH, p), p)\n      const Z3 = modMul(H, modMul(P.Z, Q.Z, p), p)\n\n      return { X: X3, Y: Y3, Z: Z3 }\n    }\n\n    // Scalar Multiplication\n    const scalarMultiply = (\n      k: bigint,\n      P: { x: bigint, y: bigint }\n    ): JacobianPoint => {\n      const N: JacobianPoint = { X: P.x, Y: P.y, Z: one }\n      let Q: JacobianPoint = { X: zero, Y: one, Z: zero } // Point at infinity\n\n      const kBin = k.toString(2)\n      for (let i = 0; i < kBin.length; i++) {\n        Q = pointDouble(Q)\n        if (kBin[i] === '1') {\n          Q = pointAdd(Q, N)\n        }\n      }\n      return Q\n    }\n\n    // Verify Function Using Jacobian Coordinates\n    const verifyECDSA = (\n      hash: bigint,\n      publicKey: { x: bigint, y: bigint },\n      signature: { r: bigint, s: bigint }\n    ): boolean => {\n      const { r, s } = signature\n      const z = hash\n\n      // Check r and s are in [1, n - 1]\n      if (r <= zero || r >= n || s <= zero || s >= n) {\n        return false\n      }\n\n      const w = modInv(s, n) // w = s^-1 mod n\n      if (w === zero) {\n        return false // No inverse exists\n      }\n      const u1 = modMul(z, w, n)\n      const u2 = modMul(r, w, n)\n\n      // Compute point R = u1 * G + u2 * Q\n      const RG = scalarMultiply(u1, G)\n      const RQ = scalarMultiply(u2, publicKey)\n      const R = pointAdd(RG, RQ)\n\n      if (R.Z === zero) {\n        // Point at infinity\n        return false\n      }\n\n      // Compute affine x-coordinate x1 = X / Z^2 mod p\n      const ZInv = modInv(R.Z, p)\n      if (ZInv === zero) {\n        return false // No inverse exists\n      }\n      const ZInv2 = modMul(ZInv, ZInv, p)\n      const x1affine = modMul(R.X, ZInv2, p)\n\n      // Compute v = x1_affine mod n\n      const v = mod(x1affine, n)\n\n      // Signature is valid if v == r mod n\n      return v === r\n    }\n\n    // Convert inputs to BigInt\n    const hash = BigInt('0x' + msg.toString(16))\n    if ((key.x == null) || (key.y == null)) {\n      throw new Error('Invalid public key: missing coordinates.')\n    }\n\n    const publicKey = {\n      x: BigInt('0x' + key.x.toString(16)),\n      y: BigInt('0x' + key.y.toString(16))\n    }\n    const signature = {\n      r: BigInt('0x' + sig.r.toString(16)),\n      s: BigInt('0x' + sig.s.toString(16))\n    }\n\n    return verifyECDSA(hash, publicKey, signature)\n  } else {\n    const curve = new Curve()\n    msg = truncateToN(msg)\n    // Perform primitive values validation\n    const r = sig.r\n    const s = sig.s\n    if (r.cmpn(1) < 0 || r.cmp(curve.n) >= 0) {\n      return false\n    }\n    if (s.cmpn(1) < 0 || s.cmp(curve.n) >= 0) {\n      return false\n    }\n\n    // Validate signature\n    const sinv = s.invm(curve.n)\n    const u1 = sinv.mul(msg).umod(curve.n)\n    const u2 = sinv.mul(r).umod(curve.n)\n\n    // NOTE: Greg Maxwell's trick, inspired by:\n    // https://git.io/vad3K\n    const p = curve.g.jmulAdd(u1, key, u2)\n    if (p.isInfinity()) {\n      return false\n    }\n\n    // Compare `p.x` of Jacobian point with `r`,\n    // this will do `p.x == r * p.z^2` instead of multiplying `p.x` by the\n    // inverse of `p.z^2`\n    return p.eqXToP(r)\n  }\n}\n","// @ts-nocheck\nimport PublicKey from '../primitives/PublicKey.js'\nimport PrivateKey from '../primitives/PrivateKey.js'\nimport Signature from '../primitives/Signature.js'\nimport Curve from '../primitives/Curve.js'\nimport Random from '../primitives/Random.js'\nimport { toBase64, toArray, Reader, toHex } from '../primitives/utils.js'\n\nconst VERSION = '42423301'\n\n/**\n * Signs a message from one party to be verified by another, or for verification by anyone, using the BRC-77 message signing protocol.\n * @param message The message to sign\n * @param signer The private key of the message signer\n * @param [verifier] The public key of the person who can verify the message. If not provided, anyone will be able to verify the message signature.\n *\n * @returns The message signature.\n */\nexport const sign = (\n  message: number[],\n  signer: PrivateKey,\n  verifier?: PublicKey\n): number[] => {\n  const recipientAnyone = typeof verifier !== 'object'\n  if (recipientAnyone) {\n    const curve = new Curve()\n    const anyone = new PrivateKey(1)\n    const anyonePoint = curve.g.mul(anyone)\n    verifier = new PublicKey(anyonePoint.x, anyonePoint.y)\n  }\n  const keyID = Random(32)\n  const keyIDBase64 = toBase64(keyID)\n  const invoiceNumber = `2-message signing-${keyIDBase64}`\n  const signingKey = signer.deriveChild(verifier, invoiceNumber)\n  const signature = signingKey.sign(message).toDER()\n  const senderPublicKey = signer.toPublicKey().encode(true)\n  const version = toArray(VERSION, 'hex')\n  return [\n    ...version,\n    ...senderPublicKey,\n    ...(recipientAnyone ? [0] : verifier.encode(true)),\n    ...keyID,\n    ...signature\n  ]\n}\n\n/**\n * Verifies a message using the BRC-77 message signing protocol.\n * @param message The message to verify.\n * @param sig The message signature to be verified.\n * @param [recipient] The private key of the message verifier. This can be omitted if the message is verifiable by anyone.\n *\n * @returns True if the message is verified.\n */\nexport const verify = (\n  message: number[],\n  sig: number[],\n  recipient?: PrivateKey\n): boolean => {\n  const reader = new Reader(sig)\n  const messageVersion = toHex(reader.read(4))\n  if (messageVersion !== VERSION) {\n    throw new Error(\n      `Message version mismatch: Expected ${VERSION}, received ${messageVersion}`\n    )\n  }\n  const signer = PublicKey.fromString(toHex(reader.read(33)))\n  const [verifierFirst] = reader.read(1)\n  if (verifierFirst === 0) {\n    recipient = new PrivateKey(1)\n  } else {\n    const verifierRest = reader.read(32)\n    const verifierDER = toHex([verifierFirst, ...verifierRest])\n    if (typeof recipient !== 'object') {\n      throw new Error(\n        `This signature can only be verified with knowledge of a specific private key. The associated public key is: ${verifierDER}`\n      )\n    }\n    const recipientDER = recipient.toPublicKey().encode(true, 'hex') as string\n    if (verifierDER !== recipientDER) {\n      throw new Error(\n        `The recipient public key is ${recipientDER} but the signature requres the recipient to have public key ${verifierDER}`\n      )\n    }\n  }\n  const keyID = toBase64(reader.read(32))\n  const signatureDER = toHex(reader.read(reader.bin.length - reader.pos))\n  const signature = Signature.fromDER(signatureDER, 'hex')\n  const invoiceNumber = `2-message signing-${keyID}`\n  const signingKey = signer.deriveChild(recipient, invoiceNumber)\n  const verified = signingKey.verify(message, signature)\n  return verified\n}\n","import {\n  BroadcastResponse,\n  BroadcastFailure,\n  Broadcaster\n} from '../Broadcaster.js'\nimport Transaction from '../Transaction.js'\nimport { HttpClient } from '../http/HttpClient.js'\nimport { defaultHttpClient } from '../http/DefaultHttpClient.js'\n\n/**\n * Represents an WhatsOnChain transaction broadcaster.\n */\nexport default class WhatsOnChainBroadcaster implements Broadcaster {\n  readonly network: string\n  private readonly URL: string\n  private readonly httpClient: HttpClient\n\n  /**\n   * Constructs an instance of the WhatsOnChain broadcaster.\n   *\n   * @param {'main' | 'test' | 'stn'} network - The BSV network to use when calling the WhatsOnChain API.\n   * @param {HttpClient} httpClient - The HTTP client used to make requests to the API.\n   */\n  constructor(\n    network: 'main' | 'test' | 'stn' = 'main',\n    httpClient: HttpClient = defaultHttpClient()\n  ) {\n    this.network = network\n    this.URL = `https://api.whatsonchain.com/v1/bsv/${network}/tx/raw`\n    this.httpClient = httpClient\n  }\n\n  /**\n   * Broadcasts a transaction via WhatsOnChain.\n   *\n   * @param {Transaction} tx - The transaction to be broadcasted.\n   * @returns {Promise<BroadcastResponse | BroadcastFailure>} A promise that resolves to either a success or failure response.\n   */\n  async broadcast(\n    tx: Transaction\n  ): Promise<BroadcastResponse | BroadcastFailure> {\n    const rawTx = tx.toHex()\n\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'text/plain'\n      },\n      data: { txhex: rawTx }\n    }\n\n    try {\n      const response = await this.httpClient.request<string>(\n        this.URL,\n        requestOptions\n      )\n      if (response.ok) {\n        const txid = response.data\n        return {\n          status: 'success',\n          txid,\n          message: 'broadcast successful'\n        }\n      } else {\n        return {\n          status: 'error',\n          code: response.status.toString() ?? 'ERR_UNKNOWN',\n          description: response.data ?? 'Unknown error'\n        }\n      }\n    } catch (error) {\n      return {\n        status: 'error',\n        code: '500',\n        description:\n          typeof error.message === 'string'\n            ? error.message\n            : 'Internal Server Error'\n      }\n    }\n  }\n}\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/server/sse.ts","import Transaction from '../transaction/Transaction.js'\nimport TransactionInput from '../transaction/TransactionInput.js'\nimport LockingScript from '../script/LockingScript.js'\nimport UnlockingScript from '../script/UnlockingScript.js'\n\ninterface jsonUtxo {\n  txid: string\n  vout: number\n  satoshis: number\n  script: string\n}\n/**\n * @method fromUtxo\n *\n * @description\n * This function creates a transaction input from a utxo json object\n * The idea being old code that uses utxos rather than sourceTranactions can convert using this.\n *\n * @deprecated\n * This approach is made available for compatibility only. It is deprecated in favor of using sourceTransactions\n * directly. It's recommended that wallets general keep transactions which store unspent outputs in their entirety,\n * along with corresonding Merkle paths. The reason you would keep the whole transaction is such that you can prove\n * the txid, and therefore its inclusion within a specific block.\n *\n * @example\n * const i = fromUtxo({\n *   txid: '434555433eaca96dff6e71a4d02febd0dd3832e5ca4e5734623ca914522e17d5',\n *   vout: 0,\n *   script: '51',\n *   satoshis: 1234\n * }, new P2PKH().unlock(p))\n *\n * tx.addInput(i)\n *\n * @param utxo: jsonUtxo\n * @param unlockingScriptTemplate: { sign: (tx: Transaction, inputIndex: number) => Promise<UnlockingScript>, estimateLength: (tx: Transaction, inputIndex: number) => Promise<number> }\n * @returns\n */\nexport default function fromUtxo (\n  utxo: jsonUtxo,\n  unlockingScriptTemplate: {\n    sign: (tx: Transaction, inputIndex: number) => Promise<UnlockingScript>\n    estimateLength: (tx: Transaction, inputIndex: number) => Promise<number>\n  }\n): TransactionInput {\n  const sourceTransaction = new Transaction(0, [], [], 0)\n  sourceTransaction.outputs = Array(utxo.vout + 1).fill(null)\n  sourceTransaction.outputs[utxo.vout] = {\n    satoshis: utxo.satoshis,\n    lockingScript: LockingScript.fromHex(utxo.script)\n  }\n  return {\n    sourceTransaction,\n    sourceTXID: utxo.txid,\n    sourceOutputIndex: utxo.vout,\n    unlockingScriptTemplate,\n    sequence: 0xffffffff\n  }\n}\n","import {\n  PrivateKey,\n  PublicKey,\n  SymmetricKey,\n  Hash,\n  Utils\n} from '../primitives/index.js'\nimport { WalletProtocol, PubKeyHex } from './Wallet.interfaces.js'\n\nexport type Counterparty = PublicKey | PubKeyHex | 'self' | 'anyone'\n\nexport interface KeyDeriverApi {\n  /**\n   * The root key from which all other keys are derived.\n   */\n  rootKey: PrivateKey\n\n  /**\n   * The identity of this key deriver which is normally the public key associated with the `rootKey`\n   */\n  identityKey: string\n\n  /**\n   * Derives a public key based on protocol ID, key ID, and counterparty.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @param {boolean} [forSelf=false] - Optional. false if undefined. Whether deriving for self.\n   * @returns {PublicKey} - The derived public key.\n   */\n  derivePublicKey: (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty,\n    forSelf?: boolean\n  ) => PublicKey\n\n  /**\n   * Derives a private key based on protocol ID, key ID, and counterparty.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {PrivateKey} - The derived private key.\n   */\n  derivePrivateKey: (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty\n  ) => PrivateKey\n\n  /**\n   * Derives a symmetric key based on protocol ID, key ID, and counterparty.\n   * Note: Symmetric keys should not be derivable by everyone due to security risks.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {SymmetricKey} - The derived symmetric key.\n   */\n  deriveSymmetricKey: (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty\n  ) => SymmetricKey\n\n  /**\n   * Reveals the shared secret between the root key and the counterparty.\n   * Note: This should not be used for 'self'.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {number[]} - The shared secret as a number array.\n   * @throws {Error} - Throws an error if attempting to reveal a shared secret for 'self'.\n   */\n  revealCounterpartySecret: (counterparty: Counterparty) => number[]\n\n  /**\n   * Reveals the specific key association for a given protocol ID, key ID, and counterparty.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @returns {number[]} - The specific key association as a number array.\n   */\n  revealSpecificSecret: (\n    counterparty: Counterparty,\n    protocolID: WalletProtocol,\n    keyID: string\n  ) => number[]\n}\n\n/**\n * Class responsible for deriving various types of keys using a root private key.\n * It supports deriving public and private keys, symmetric keys, and revealing key linkages.\n */\nexport class KeyDeriver implements KeyDeriverApi {\n  rootKey: PrivateKey\n  identityKey: string\n\n  /**\n   * Initializes the KeyDeriver instance with a root private key.\n   * @param {PrivateKey | 'anyone'} rootKey - The root private key or the string 'anyone'.\n   */\n  constructor (rootKey: PrivateKey | 'anyone') {\n    if (rootKey === 'anyone') {\n      this.rootKey = new PrivateKey(1)\n    } else {\n      this.rootKey = rootKey\n    }\n    this.identityKey = this.rootKey.toPublicKey().toString()\n  }\n\n  /**\n   * Derives a public key based on protocol ID, key ID, and counterparty.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @param {boolean} [forSelf=false] - Whether deriving for self.\n   * @returns {PublicKey} - The derived public key.\n   */\n  derivePublicKey (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty,\n    forSelf: boolean = false\n  ): PublicKey {\n    counterparty = this.normalizeCounterparty(counterparty)\n    if (forSelf) {\n      return this.rootKey\n        .deriveChild(counterparty, this.computeInvoiceNumber(protocolID, keyID))\n        .toPublicKey()\n    } else {\n      return counterparty.deriveChild(\n        this.rootKey,\n        this.computeInvoiceNumber(protocolID, keyID)\n      )\n    }\n  }\n\n  /**\n   * Derives a private key based on protocol ID, key ID, and counterparty.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {PrivateKey} - The derived private key.\n   */\n  derivePrivateKey (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty\n  ): PrivateKey {\n    counterparty = this.normalizeCounterparty(counterparty)\n    return this.rootKey.deriveChild(\n      counterparty,\n      this.computeInvoiceNumber(protocolID, keyID)\n    )\n  }\n\n  /**\n   * Derives a symmetric key based on protocol ID, key ID, and counterparty.\n   * Note: Symmetric keys should not be derivable by everyone due to security risks.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {SymmetricKey} - The derived symmetric key.\n   */\n  deriveSymmetricKey (\n    protocolID: WalletProtocol,\n    keyID: string,\n    counterparty: Counterparty\n  ): SymmetricKey {\n    // If counterparty is 'anyone', we use 1*G as the public key.\n    // This is a publicly derivable key and should only be used in scenarios where public disclosure is intended.\n    if (counterparty === 'anyone') {\n      counterparty = new PrivateKey(1).toPublicKey()\n    }\n    counterparty = this.normalizeCounterparty(counterparty)\n    const derivedPublicKey = this.derivePublicKey(\n      protocolID,\n      keyID,\n      counterparty\n    )\n    const derivedPrivateKey = this.derivePrivateKey(\n      protocolID,\n      keyID,\n      counterparty\n    )\n    return new SymmetricKey(\n      derivedPrivateKey.deriveSharedSecret(derivedPublicKey)?.x?.toArray() ?? []\n    )\n  }\n\n  /**\n   * Reveals the shared secret between the root key and the counterparty.\n   * Note: This should not be used for 'self'.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {number[]} - The shared secret as a number array.\n   * @throws {Error} - Throws an error if attempting to reveal a shared secret for 'self'.\n   */\n  revealCounterpartySecret (counterparty: Counterparty): number[] {\n    if (counterparty === 'self') {\n      throw new Error(\n        'Counterparty secrets cannot be revealed for counterparty=self.'\n      )\n    }\n    counterparty = this.normalizeCounterparty(counterparty)\n\n    // Double-check to ensure not revealing the secret for 'self'\n    const self = this.rootKey.toPublicKey()\n    const keyDerivedBySelf = this.rootKey.deriveChild(self, 'test').toHex()\n    const keyDerivedByCounterparty = this.rootKey\n      .deriveChild(counterparty, 'test')\n      .toHex()\n\n    if (keyDerivedBySelf === keyDerivedByCounterparty) {\n      throw new Error(\n        'Counterparty secrets cannot be revealed for counterparty=self.'\n      )\n    }\n\n    return this.rootKey\n      .deriveSharedSecret(counterparty)\n      .encode(true) as number[]\n  }\n\n  /**\n   * Reveals the specific key association for a given protocol ID, key ID, and counterparty.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @returns {number[]} - The specific key association as a number array.\n   */\n  revealSpecificSecret (\n    counterparty: Counterparty,\n    protocolID: WalletProtocol,\n    keyID: string\n  ): number[] {\n    counterparty = this.normalizeCounterparty(counterparty)\n    const sharedSecret = this.rootKey.deriveSharedSecret(counterparty)\n    const invoiceNumberBin = Utils.toArray(\n      this.computeInvoiceNumber(protocolID, keyID),\n      'utf8'\n    )\n    return Hash.sha256hmac(sharedSecret.encode(true), invoiceNumberBin)\n  }\n\n  /**\n   * Normalizes the counterparty to a public key.\n   * @param {Counterparty} counterparty - The counterparty's public key or a predefined value ('self' or 'anyone').\n   * @returns {PublicKey} - The normalized counterparty public key.\n   * @throws {Error} - Throws an error if the counterparty is invalid.\n   */\n  private normalizeCounterparty (counterparty: Counterparty): PublicKey {\n    if (counterparty === null || counterparty === undefined) {\n      throw new Error('counterparty must be self, anyone or a public key!')\n    } else if (counterparty === 'self') {\n      return this.rootKey.toPublicKey()\n    } else if (counterparty === 'anyone') {\n      return new PrivateKey(1).toPublicKey()\n    } else if (typeof counterparty === 'string') {\n      return PublicKey.fromString(counterparty)\n    } else {\n      return counterparty\n    }\n  }\n\n  /**\n   * Computes the invoice number based on the protocol ID and key ID.\n   * @param {WalletProtocol} protocolID - The protocol ID including a security level and protocol name.\n   * @param {string} keyID - The key identifier.\n   * @returns {string} - The computed invoice number.\n   * @throws {Error} - Throws an error if protocol ID or key ID are invalid.\n   */\n  private computeInvoiceNumber (\n    protocolID: WalletProtocol,\n    keyID: string\n  ): string {\n    const securityLevel = protocolID[0]\n    if (\n      !Number.isInteger(securityLevel) ||\n      securityLevel < 0 ||\n      securityLevel > 2\n    ) {\n      throw new Error('Protocol security level must be 0, 1, or 2')\n    }\n    const protocolName = protocolID[1].toLowerCase().trim()\n    if (keyID.length > 800) {\n      throw new Error('Key IDs must be 800 characters or less')\n    }\n    if (keyID.length < 1) {\n      throw new Error('Key IDs must be 1 character or more')\n    }\n    if (protocolName.length > 400) {\n      // Specific linkage revelation is the only protocol ID that can contain another protocol ID.\n      // Therefore, we allow it to be long enough to encapsulate the target protocol\n      if (protocolName.startsWith('specific linkage revelation ')) {\n        // The format is: 'specific linkage revelation x YYYYY'\n        // Where: x is the security level and YYYYY is the target protocol\n        // Thus, the max acceptable length is 30 + 400 = 430 bytes\n        if (protocolName.length > 430) {\n          throw new Error(\n            'Specific linkage revelation protocol names must be 430 characters or less'\n          )\n        }\n      } else {\n        throw new Error('Protocol names must be 400 characters or less')\n      }\n    }\n    if (protocolName.length < 5) {\n      throw new Error('Protocol names must be 5 characters or more')\n    }\n    if (protocolName.includes('  ')) {\n      throw new Error(\n        'Protocol names cannot contain multiple consecutive spaces (\"  \")'\n      )\n    }\n    if (!/^[a-z0-9 ]+$/g.test(protocolName)) {\n      throw new Error(\n        'Protocol names can only contain letters, numbers and spaces'\n      )\n    }\n    if (protocolName.endsWith(' protocol')) {\n      throw new Error('No need to end your protocol name with \" protocol\"')\n    }\n    return `${securityLevel}-${protocolName}-${keyID}`\n  }\n}\n\nexport default KeyDeriver\n","import { ZodFirstPartyTypeKind } from \"zod\";\nimport { parseAnyDef } from \"./parsers/any.js\";\nimport { parseArrayDef } from \"./parsers/array.js\";\nimport { parseBigintDef } from \"./parsers/bigint.js\";\nimport { parseBooleanDef } from \"./parsers/boolean.js\";\nimport { parseBrandedDef } from \"./parsers/branded.js\";\nimport { parseCatchDef } from \"./parsers/catch.js\";\nimport { parseDateDef } from \"./parsers/date.js\";\nimport { parseDefaultDef } from \"./parsers/default.js\";\nimport { parseEffectsDef } from \"./parsers/effects.js\";\nimport { parseEnumDef } from \"./parsers/enum.js\";\nimport { parseIntersectionDef } from \"./parsers/intersection.js\";\nimport { parseLiteralDef } from \"./parsers/literal.js\";\nimport { parseMapDef } from \"./parsers/map.js\";\nimport { parseNativeEnumDef } from \"./parsers/nativeEnum.js\";\nimport { parseNeverDef } from \"./parsers/never.js\";\nimport { parseNullDef } from \"./parsers/null.js\";\nimport { parseNullableDef } from \"./parsers/nullable.js\";\nimport { parseNumberDef } from \"./parsers/number.js\";\nimport { parseObjectDef } from \"./parsers/object.js\";\nimport { parseOptionalDef } from \"./parsers/optional.js\";\nimport { parsePipelineDef } from \"./parsers/pipeline.js\";\nimport { parsePromiseDef } from \"./parsers/promise.js\";\nimport { parseRecordDef } from \"./parsers/record.js\";\nimport { parseSetDef } from \"./parsers/set.js\";\nimport { parseStringDef } from \"./parsers/string.js\";\nimport { parseTupleDef } from \"./parsers/tuple.js\";\nimport { parseUndefinedDef } from \"./parsers/undefined.js\";\nimport { parseUnionDef } from \"./parsers/union.js\";\nimport { parseUnknownDef } from \"./parsers/unknown.js\";\nimport { parseReadonlyDef } from \"./parsers/readonly.js\";\nexport const selectParser = (def, typeName, refs) => {\n    switch (typeName) {\n        case ZodFirstPartyTypeKind.ZodString:\n            return parseStringDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodNumber:\n            return parseNumberDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodObject:\n            return parseObjectDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodBigInt:\n            return parseBigintDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodBoolean:\n            return parseBooleanDef();\n        case ZodFirstPartyTypeKind.ZodDate:\n            return parseDateDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodUndefined:\n            return parseUndefinedDef();\n        case ZodFirstPartyTypeKind.ZodNull:\n            return parseNullDef(refs);\n        case ZodFirstPartyTypeKind.ZodArray:\n            return parseArrayDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodUnion:\n        case ZodFirstPartyTypeKind.ZodDiscriminatedUnion:\n            return parseUnionDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodIntersection:\n            return parseIntersectionDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodTuple:\n            return parseTupleDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodRecord:\n            return parseRecordDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodLiteral:\n            return parseLiteralDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodEnum:\n            return parseEnumDef(def);\n        case ZodFirstPartyTypeKind.ZodNativeEnum:\n            return parseNativeEnumDef(def);\n        case ZodFirstPartyTypeKind.ZodNullable:\n            return parseNullableDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodOptional:\n            return parseOptionalDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodMap:\n            return parseMapDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodSet:\n            return parseSetDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodLazy:\n            return () => def.getter()._def;\n        case ZodFirstPartyTypeKind.ZodPromise:\n            return parsePromiseDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodNaN:\n        case ZodFirstPartyTypeKind.ZodNever:\n            return parseNeverDef();\n        case ZodFirstPartyTypeKind.ZodEffects:\n            return parseEffectsDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodAny:\n            return parseAnyDef();\n        case ZodFirstPartyTypeKind.ZodUnknown:\n            return parseUnknownDef();\n        case ZodFirstPartyTypeKind.ZodDefault:\n            return parseDefaultDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodBranded:\n            return parseBrandedDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodReadonly:\n            return parseReadonlyDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodCatch:\n            return parseCatchDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodPipeline:\n            return parsePipelineDef(def, refs);\n        case ZodFirstPartyTypeKind.ZodFunction:\n        case ZodFirstPartyTypeKind.ZodVoid:\n        case ZodFirstPartyTypeKind.ZodSymbol:\n            return undefined;\n        default:\n            /* c8 ignore next */\n            return ((_) => undefined)(typeName);\n    }\n};\n","export const wordList = {\n  value: [\n    'abandon',\n    'ability',\n    'able',\n    'about',\n    'above',\n    'absent',\n    'absorb',\n    'abstract',\n    'absurd',\n    'abuse',\n    'access',\n    'accident',\n    'account',\n    'accuse',\n    'achieve',\n    'acid',\n    'acoustic',\n    'acquire',\n    'across',\n    'act',\n    'action',\n    'actor',\n    'actress',\n    'actual',\n    'adapt',\n    'add',\n    'addict',\n    'address',\n    'adjust',\n    'admit',\n    'adult',\n    'advance',\n    'advice',\n    'aerobic',\n    'affair',\n    'afford',\n    'afraid',\n    'again',\n    'age',\n    'agent',\n    'agree',\n    'ahead',\n    'aim',\n    'air',\n    'airport',\n    'aisle',\n    'alarm',\n    'album',\n    'alcohol',\n    'alert',\n    'alien',\n    'all',\n    'alley',\n    'allow',\n    'almost',\n    'alone',\n    'alpha',\n    'already',\n    'also',\n    'alter',\n    'always',\n    'amateur',\n    'amazing',\n    'among',\n    'amount',\n    'amused',\n    'analyst',\n    'anchor',\n    'ancient',\n    'anger',\n    'angle',\n    'angry',\n    'animal',\n    'ankle',\n    'announce',\n    'annual',\n    'another',\n    'answer',\n    'antenna',\n    'antique',\n    'anxiety',\n    'any',\n    'apart',\n    'apology',\n    'appear',\n    'apple',\n    'approve',\n    'april',\n    'arch',\n    'arctic',\n    'area',\n    'arena',\n    'argue',\n    'arm',\n    'armed',\n    'armor',\n    'army',\n    'around',\n    'arrange',\n    'arrest',\n    'arrive',\n    'arrow',\n    'art',\n    'artefact',\n    'artist',\n    'artwork',\n    'ask',\n    'aspect',\n    'assault',\n    'asset',\n    'assist',\n    'assume',\n    'asthma',\n    'athlete',\n    'atom',\n    'attack',\n    'attend',\n    'attitude',\n    'attract',\n    'auction',\n    'audit',\n    'august',\n    'aunt',\n    'author',\n    'auto',\n    'autumn',\n    'average',\n    'avocado',\n    'avoid',\n    'awake',\n    'aware',\n    'away',\n    'awesome',\n    'awful',\n    'awkward',\n    'axis',\n    'baby',\n    'bachelor',\n    'bacon',\n    'badge',\n    'bag',\n    'balance',\n    'balcony',\n    'ball',\n    'bamboo',\n    'banana',\n    'banner',\n    'bar',\n    'barely',\n    'bargain',\n    'barrel',\n    'base',\n    'basic',\n    'basket',\n    'battle',\n    'beach',\n    'bean',\n    'beauty',\n    'because',\n    'become',\n    'beef',\n    'before',\n    'begin',\n    'behave',\n    'behind',\n    'believe',\n    'below',\n    'belt',\n    'bench',\n    'benefit',\n    'best',\n    'betray',\n    'better',\n    'between',\n    'beyond',\n    'bicycle',\n    'bid',\n    'bike',\n    'bind',\n    'biology',\n    'bird',\n    'birth',\n    'bitter',\n    'black',\n    'blade',\n    'blame',\n    'blanket',\n    'blast',\n    'bleak',\n    'bless',\n    'blind',\n    'blood',\n    'blossom',\n    'blouse',\n    'blue',\n    'blur',\n    'blush',\n    'board',\n    'boat',\n    'body',\n    'boil',\n    'bomb',\n    'bone',\n    'bonus',\n    'book',\n    'boost',\n    'border',\n    'boring',\n    'borrow',\n    'boss',\n    'bottom',\n    'bounce',\n    'box',\n    'boy',\n    'bracket',\n    'brain',\n    'brand',\n    'brass',\n    'brave',\n    'bread',\n    'breeze',\n    'brick',\n    'bridge',\n    'brief',\n    'bright',\n    'bring',\n    'brisk',\n    'broccoli',\n    'broken',\n    'bronze',\n    'broom',\n    'brother',\n    'brown',\n    'brush',\n    'bubble',\n    'buddy',\n    'budget',\n    'buffalo',\n    'build',\n    'bulb',\n    'bulk',\n    'bullet',\n    'bundle',\n    'bunker',\n    'burden',\n    'burger',\n    'burst',\n    'bus',\n    'business',\n    'busy',\n    'butter',\n    'buyer',\n    'buzz',\n    'cabbage',\n    'cabin',\n    'cable',\n    'cactus',\n    'cage',\n    'cake',\n    'call',\n    'calm',\n    'camera',\n    'camp',\n    'can',\n    'canal',\n    'cancel',\n    'candy',\n    'cannon',\n    'canoe',\n    'canvas',\n    'canyon',\n    'capable',\n    'capital',\n    'captain',\n    'car',\n    'carbon',\n    'card',\n    'cargo',\n    'carpet',\n    'carry',\n    'cart',\n    'case',\n    'cash',\n    'casino',\n    'castle',\n    'casual',\n    'cat',\n    'catalog',\n    'catch',\n    'category',\n    'cattle',\n    'caught',\n    'cause',\n    'caution',\n    'cave',\n    'ceiling',\n    'celery',\n    'cement',\n    'census',\n    'century',\n    'cereal',\n    'certain',\n    'chair',\n    'chalk',\n    'champion',\n    'change',\n    'chaos',\n    'chapter',\n    'charge',\n    'chase',\n    'chat',\n    'cheap',\n    'check',\n    'cheese',\n    'chef',\n    'cherry',\n    'chest',\n    'chicken',\n    'chief',\n    'child',\n    'chimney',\n    'choice',\n    'choose',\n    'chronic',\n    'chuckle',\n    'chunk',\n    'churn',\n    'cigar',\n    'cinnamon',\n    'circle',\n    'citizen',\n    'city',\n    'civil',\n    'claim',\n    'clap',\n    'clarify',\n    'claw',\n    'clay',\n    'clean',\n    'clerk',\n    'clever',\n    'click',\n    'client',\n    'cliff',\n    'climb',\n    'clinic',\n    'clip',\n    'clock',\n    'clog',\n    'close',\n    'cloth',\n    'cloud',\n    'clown',\n    'club',\n    'clump',\n    'cluster',\n    'clutch',\n    'coach',\n    'coast',\n    'coconut',\n    'code',\n    'coffee',\n    'coil',\n    'coin',\n    'collect',\n    'color',\n    'column',\n    'combine',\n    'come',\n    'comfort',\n    'comic',\n    'common',\n    'company',\n    'concert',\n    'conduct',\n    'confirm',\n    'congress',\n    'connect',\n    'consider',\n    'control',\n    'convince',\n    'cook',\n    'cool',\n    'copper',\n    'copy',\n    'coral',\n    'core',\n    'corn',\n    'correct',\n    'cost',\n    'cotton',\n    'couch',\n    'country',\n    'couple',\n    'course',\n    'cousin',\n    'cover',\n    'coyote',\n    'crack',\n    'cradle',\n    'craft',\n    'cram',\n    'crane',\n    'crash',\n    'crater',\n    'crawl',\n    'crazy',\n    'cream',\n    'credit',\n    'creek',\n    'crew',\n    'cricket',\n    'crime',\n    'crisp',\n    'critic',\n    'crop',\n    'cross',\n    'crouch',\n    'crowd',\n    'crucial',\n    'cruel',\n    'cruise',\n    'crumble',\n    'crunch',\n    'crush',\n    'cry',\n    'crystal',\n    'cube',\n    'culture',\n    'cup',\n    'cupboard',\n    'curious',\n    'current',\n    'curtain',\n    'curve',\n    'cushion',\n    'custom',\n    'cute',\n    'cycle',\n    'dad',\n    'damage',\n    'damp',\n    'dance',\n    'danger',\n    'daring',\n    'dash',\n    'daughter',\n    'dawn',\n    'day',\n    'deal',\n    'debate',\n    'debris',\n    'decade',\n    'december',\n    'decide',\n    'decline',\n    'decorate',\n    'decrease',\n    'deer',\n    'defense',\n    'define',\n    'defy',\n    'degree',\n    'delay',\n    'deliver',\n    'demand',\n    'demise',\n    'denial',\n    'dentist',\n    'deny',\n    'depart',\n    'depend',\n    'deposit',\n    'depth',\n    'deputy',\n    'derive',\n    'describe',\n    'desert',\n    'design',\n    'desk',\n    'despair',\n    'destroy',\n    'detail',\n    'detect',\n    'develop',\n    'device',\n    'devote',\n    'diagram',\n    'dial',\n    'diamond',\n    'diary',\n    'dice',\n    'diesel',\n    'diet',\n    'differ',\n    'digital',\n    'dignity',\n    'dilemma',\n    'dinner',\n    'dinosaur',\n    'direct',\n    'dirt',\n    'disagree',\n    'discover',\n    'disease',\n    'dish',\n    'dismiss',\n    'disorder',\n    'display',\n    'distance',\n    'divert',\n    'divide',\n    'divorce',\n    'dizzy',\n    'doctor',\n    'document',\n    'dog',\n    'doll',\n    'dolphin',\n    'domain',\n    'donate',\n    'donkey',\n    'donor',\n    'door',\n    'dose',\n    'double',\n    'dove',\n    'draft',\n    'dragon',\n    'drama',\n    'drastic',\n    'draw',\n    'dream',\n    'dress',\n    'drift',\n    'drill',\n    'drink',\n    'drip',\n    'drive',\n    'drop',\n    'drum',\n    'dry',\n    'duck',\n    'dumb',\n    'dune',\n    'during',\n    'dust',\n    'dutch',\n    'duty',\n    'dwarf',\n    'dynamic',\n    'eager',\n    'eagle',\n    'early',\n    'earn',\n    'earth',\n    'easily',\n    'east',\n    'easy',\n    'echo',\n    'ecology',\n    'economy',\n    'edge',\n    'edit',\n    'educate',\n    'effort',\n    'egg',\n    'eight',\n    'either',\n    'elbow',\n    'elder',\n    'electric',\n    'elegant',\n    'element',\n    'elephant',\n    'elevator',\n    'elite',\n    'else',\n    'embark',\n    'embody',\n    'embrace',\n    'emerge',\n    'emotion',\n    'employ',\n    'empower',\n    'empty',\n    'enable',\n    'enact',\n    'end',\n    'endless',\n    'endorse',\n    'enemy',\n    'energy',\n    'enforce',\n    'engage',\n    'engine',\n    'enhance',\n    'enjoy',\n    'enlist',\n    'enough',\n    'enrich',\n    'enroll',\n    'ensure',\n    'enter',\n    'entire',\n    'entry',\n    'envelope',\n    'episode',\n    'equal',\n    'equip',\n    'era',\n    'erase',\n    'erode',\n    'erosion',\n    'error',\n    'erupt',\n    'escape',\n    'essay',\n    'essence',\n    'estate',\n    'eternal',\n    'ethics',\n    'evidence',\n    'evil',\n    'evoke',\n    'evolve',\n    'exact',\n    'example',\n    'excess',\n    'exchange',\n    'excite',\n    'exclude',\n    'excuse',\n    'execute',\n    'exercise',\n    'exhaust',\n    'exhibit',\n    'exile',\n    'exist',\n    'exit',\n    'exotic',\n    'expand',\n    'expect',\n    'expire',\n    'explain',\n    'expose',\n    'express',\n    'extend',\n    'extra',\n    'eye',\n    'eyebrow',\n    'fabric',\n    'face',\n    'faculty',\n    'fade',\n    'faint',\n    'faith',\n    'fall',\n    'false',\n    'fame',\n    'family',\n    'famous',\n    'fan',\n    'fancy',\n    'fantasy',\n    'farm',\n    'fashion',\n    'fat',\n    'fatal',\n    'father',\n    'fatigue',\n    'fault',\n    'favorite',\n    'feature',\n    'february',\n    'federal',\n    'fee',\n    'feed',\n    'feel',\n    'female',\n    'fence',\n    'festival',\n    'fetch',\n    'fever',\n    'few',\n    'fiber',\n    'fiction',\n    'field',\n    'figure',\n    'file',\n    'film',\n    'filter',\n    'final',\n    'find',\n    'fine',\n    'finger',\n    'finish',\n    'fire',\n    'firm',\n    'first',\n    'fiscal',\n    'fish',\n    'fit',\n    'fitness',\n    'fix',\n    'flag',\n    'flame',\n    'flash',\n    'flat',\n    'flavor',\n    'flee',\n    'flight',\n    'flip',\n    'float',\n    'flock',\n    'floor',\n    'flower',\n    'fluid',\n    'flush',\n    'fly',\n    'foam',\n    'focus',\n    'fog',\n    'foil',\n    'fold',\n    'follow',\n    'food',\n    'foot',\n    'force',\n    'forest',\n    'forget',\n    'fork',\n    'fortune',\n    'forum',\n    'forward',\n    'fossil',\n    'foster',\n    'found',\n    'fox',\n    'fragile',\n    'frame',\n    'frequent',\n    'fresh',\n    'friend',\n    'fringe',\n    'frog',\n    'front',\n    'frost',\n    'frown',\n    'frozen',\n    'fruit',\n    'fuel',\n    'fun',\n    'funny',\n    'furnace',\n    'fury',\n    'future',\n    'gadget',\n    'gain',\n    'galaxy',\n    'gallery',\n    'game',\n    'gap',\n    'garage',\n    'garbage',\n    'garden',\n    'garlic',\n    'garment',\n    'gas',\n    'gasp',\n    'gate',\n    'gather',\n    'gauge',\n    'gaze',\n    'general',\n    'genius',\n    'genre',\n    'gentle',\n    'genuine',\n    'gesture',\n    'ghost',\n    'giant',\n    'gift',\n    'giggle',\n    'ginger',\n    'giraffe',\n    'girl',\n    'give',\n    'glad',\n    'glance',\n    'glare',\n    'glass',\n    'glide',\n    'glimpse',\n    'globe',\n    'gloom',\n    'glory',\n    'glove',\n    'glow',\n    'glue',\n    'goat',\n    'goddess',\n    'gold',\n    'good',\n    'goose',\n    'gorilla',\n    'gospel',\n    'gossip',\n    'govern',\n    'gown',\n    'grab',\n    'grace',\n    'grain',\n    'grant',\n    'grape',\n    'grass',\n    'gravity',\n    'great',\n    'green',\n    'grid',\n    'grief',\n    'grit',\n    'grocery',\n    'group',\n    'grow',\n    'grunt',\n    'guard',\n    'guess',\n    'guide',\n    'guilt',\n    'guitar',\n    'gun',\n    'gym',\n    'habit',\n    'hair',\n    'half',\n    'hammer',\n    'hamster',\n    'hand',\n    'happy',\n    'harbor',\n    'hard',\n    'harsh',\n    'harvest',\n    'hat',\n    'have',\n    'hawk',\n    'hazard',\n    'head',\n    'health',\n    'heart',\n    'heavy',\n    'hedgehog',\n    'height',\n    'hello',\n    'helmet',\n    'help',\n    'hen',\n    'hero',\n    'hidden',\n    'high',\n    'hill',\n    'hint',\n    'hip',\n    'hire',\n    'history',\n    'hobby',\n    'hockey',\n    'hold',\n    'hole',\n    'holiday',\n    'hollow',\n    'home',\n    'honey',\n    'hood',\n    'hope',\n    'horn',\n    'horror',\n    'horse',\n    'hospital',\n    'host',\n    'hotel',\n    'hour',\n    'hover',\n    'hub',\n    'huge',\n    'human',\n    'humble',\n    'humor',\n    'hundred',\n    'hungry',\n    'hunt',\n    'hurdle',\n    'hurry',\n    'hurt',\n    'husband',\n    'hybrid',\n    'ice',\n    'icon',\n    'idea',\n    'identify',\n    'idle',\n    'ignore',\n    'ill',\n    'illegal',\n    'illness',\n    'image',\n    'imitate',\n    'immense',\n    'immune',\n    'impact',\n    'impose',\n    'improve',\n    'impulse',\n    'inch',\n    'include',\n    'income',\n    'increase',\n    'index',\n    'indicate',\n    'indoor',\n    'industry',\n    'infant',\n    'inflict',\n    'inform',\n    'inhale',\n    'inherit',\n    'initial',\n    'inject',\n    'injury',\n    'inmate',\n    'inner',\n    'innocent',\n    'input',\n    'inquiry',\n    'insane',\n    'insect',\n    'inside',\n    'inspire',\n    'install',\n    'intact',\n    'interest',\n    'into',\n    'invest',\n    'invite',\n    'involve',\n    'iron',\n    'island',\n    'isolate',\n    'issue',\n    'item',\n    'ivory',\n    'jacket',\n    'jaguar',\n    'jar',\n    'jazz',\n    'jealous',\n    'jeans',\n    'jelly',\n    'jewel',\n    'job',\n    'join',\n    'joke',\n    'journey',\n    'joy',\n    'judge',\n    'juice',\n    'jump',\n    'jungle',\n    'junior',\n    'junk',\n    'just',\n    'kangaroo',\n    'keen',\n    'keep',\n    'ketchup',\n    'key',\n    'kick',\n    'kid',\n    'kidney',\n    'kind',\n    'kingdom',\n    'kiss',\n    'kit',\n    'kitchen',\n    'kite',\n    'kitten',\n    'kiwi',\n    'knee',\n    'knife',\n    'knock',\n    'know',\n    'lab',\n    'label',\n    'labor',\n    'ladder',\n    'lady',\n    'lake',\n    'lamp',\n    'language',\n    'laptop',\n    'large',\n    'later',\n    'latin',\n    'laugh',\n    'laundry',\n    'lava',\n    'law',\n    'lawn',\n    'lawsuit',\n    'layer',\n    'lazy',\n    'leader',\n    'leaf',\n    'learn',\n    'leave',\n    'lecture',\n    'left',\n    'leg',\n    'legal',\n    'legend',\n    'leisure',\n    'lemon',\n    'lend',\n    'length',\n    'lens',\n    'leopard',\n    'lesson',\n    'letter',\n    'level',\n    'liar',\n    'liberty',\n    'library',\n    'license',\n    'life',\n    'lift',\n    'light',\n    'like',\n    'limb',\n    'limit',\n    'link',\n    'lion',\n    'liquid',\n    'list',\n    'little',\n    'live',\n    'lizard',\n    'load',\n    'loan',\n    'lobster',\n    'local',\n    'lock',\n    'logic',\n    'lonely',\n    'long',\n    'loop',\n    'lottery',\n    'loud',\n    'lounge',\n    'love',\n    'loyal',\n    'lucky',\n    'luggage',\n    'lumber',\n    'lunar',\n    'lunch',\n    'luxury',\n    'lyrics',\n    'machine',\n    'mad',\n    'magic',\n    'magnet',\n    'maid',\n    'mail',\n    'main',\n    'major',\n    'make',\n    'mammal',\n    'man',\n    'manage',\n    'mandate',\n    'mango',\n    'mansion',\n    'manual',\n    'maple',\n    'marble',\n    'march',\n    'margin',\n    'marine',\n    'market',\n    'marriage',\n    'mask',\n    'mass',\n    'master',\n    'match',\n    'material',\n    'math',\n    'matrix',\n    'matter',\n    'maximum',\n    'maze',\n    'meadow',\n    'mean',\n    'measure',\n    'meat',\n    'mechanic',\n    'medal',\n    'media',\n    'melody',\n    'melt',\n    'member',\n    'memory',\n    'mention',\n    'menu',\n    'mercy',\n    'merge',\n    'merit',\n    'merry',\n    'mesh',\n    'message',\n    'metal',\n    'method',\n    'middle',\n    'midnight',\n    'milk',\n    'million',\n    'mimic',\n    'mind',\n    'minimum',\n    'minor',\n    'minute',\n    'miracle',\n    'mirror',\n    'misery',\n    'miss',\n    'mistake',\n    'mix',\n    'mixed',\n    'mixture',\n    'mobile',\n    'model',\n    'modify',\n    'mom',\n    'moment',\n    'monitor',\n    'monkey',\n    'monster',\n    'month',\n    'moon',\n    'moral',\n    'more',\n    'morning',\n    'mosquito',\n    'mother',\n    'motion',\n    'motor',\n    'mountain',\n    'mouse',\n    'move',\n    'movie',\n    'much',\n    'muffin',\n    'mule',\n    'multiply',\n    'muscle',\n    'museum',\n    'mushroom',\n    'music',\n    'must',\n    'mutual',\n    'myself',\n    'mystery',\n    'myth',\n    'naive',\n    'name',\n    'napkin',\n    'narrow',\n    'nasty',\n    'nation',\n    'nature',\n    'near',\n    'neck',\n    'need',\n    'negative',\n    'neglect',\n    'neither',\n    'nephew',\n    'nerve',\n    'nest',\n    'net',\n    'network',\n    'neutral',\n    'never',\n    'news',\n    'next',\n    'nice',\n    'night',\n    'noble',\n    'noise',\n    'nominee',\n    'noodle',\n    'normal',\n    'north',\n    'nose',\n    'notable',\n    'note',\n    'nothing',\n    'notice',\n    'novel',\n    'now',\n    'nuclear',\n    'number',\n    'nurse',\n    'nut',\n    'oak',\n    'obey',\n    'object',\n    'oblige',\n    'obscure',\n    'observe',\n    'obtain',\n    'obvious',\n    'occur',\n    'ocean',\n    'october',\n    'odor',\n    'off',\n    'offer',\n    'office',\n    'often',\n    'oil',\n    'okay',\n    'old',\n    'olive',\n    'olympic',\n    'omit',\n    'once',\n    'one',\n    'onion',\n    'online',\n    'only',\n    'open',\n    'opera',\n    'opinion',\n    'oppose',\n    'option',\n    'orange',\n    'orbit',\n    'orchard',\n    'order',\n    'ordinary',\n    'organ',\n    'orient',\n    'original',\n    'orphan',\n    'ostrich',\n    'other',\n    'outdoor',\n    'outer',\n    'output',\n    'outside',\n    'oval',\n    'oven',\n    'over',\n    'own',\n    'owner',\n    'oxygen',\n    'oyster',\n    'ozone',\n    'pact',\n    'paddle',\n    'page',\n    'pair',\n    'palace',\n    'palm',\n    'panda',\n    'panel',\n    'panic',\n    'panther',\n    'paper',\n    'parade',\n    'parent',\n    'park',\n    'parrot',\n    'party',\n    'pass',\n    'patch',\n    'path',\n    'patient',\n    'patrol',\n    'pattern',\n    'pause',\n    'pave',\n    'payment',\n    'peace',\n    'peanut',\n    'pear',\n    'peasant',\n    'pelican',\n    'pen',\n    'penalty',\n    'pencil',\n    'people',\n    'pepper',\n    'perfect',\n    'permit',\n    'person',\n    'pet',\n    'phone',\n    'photo',\n    'phrase',\n    'physical',\n    'piano',\n    'picnic',\n    'picture',\n    'piece',\n    'pig',\n    'pigeon',\n    'pill',\n    'pilot',\n    'pink',\n    'pioneer',\n    'pipe',\n    'pistol',\n    'pitch',\n    'pizza',\n    'place',\n    'planet',\n    'plastic',\n    'plate',\n    'play',\n    'please',\n    'pledge',\n    'pluck',\n    'plug',\n    'plunge',\n    'poem',\n    'poet',\n    'point',\n    'polar',\n    'pole',\n    'police',\n    'pond',\n    'pony',\n    'pool',\n    'popular',\n    'portion',\n    'position',\n    'possible',\n    'post',\n    'potato',\n    'pottery',\n    'poverty',\n    'powder',\n    'power',\n    'practice',\n    'praise',\n    'predict',\n    'prefer',\n    'prepare',\n    'present',\n    'pretty',\n    'prevent',\n    'price',\n    'pride',\n    'primary',\n    'print',\n    'priority',\n    'prison',\n    'private',\n    'prize',\n    'problem',\n    'process',\n    'produce',\n    'profit',\n    'program',\n    'project',\n    'promote',\n    'proof',\n    'property',\n    'prosper',\n    'protect',\n    'proud',\n    'provide',\n    'public',\n    'pudding',\n    'pull',\n    'pulp',\n    'pulse',\n    'pumpkin',\n    'punch',\n    'pupil',\n    'puppy',\n    'purchase',\n    'purity',\n    'purpose',\n    'purse',\n    'push',\n    'put',\n    'puzzle',\n    'pyramid',\n    'quality',\n    'quantum',\n    'quarter',\n    'question',\n    'quick',\n    'quit',\n    'quiz',\n    'quote',\n    'rabbit',\n    'raccoon',\n    'race',\n    'rack',\n    'radar',\n    'radio',\n    'rail',\n    'rain',\n    'raise',\n    'rally',\n    'ramp',\n    'ranch',\n    'random',\n    'range',\n    'rapid',\n    'rare',\n    'rate',\n    'rather',\n    'raven',\n    'raw',\n    'razor',\n    'ready',\n    'real',\n    'reason',\n    'rebel',\n    'rebuild',\n    'recall',\n    'receive',\n    'recipe',\n    'record',\n    'recycle',\n    'reduce',\n    'reflect',\n    'reform',\n    'refuse',\n    'region',\n    'regret',\n    'regular',\n    'reject',\n    'relax',\n    'release',\n    'relief',\n    'rely',\n    'remain',\n    'remember',\n    'remind',\n    'remove',\n    'render',\n    'renew',\n    'rent',\n    'reopen',\n    'repair',\n    'repeat',\n    'replace',\n    'report',\n    'require',\n    'rescue',\n    'resemble',\n    'resist',\n    'resource',\n    'response',\n    'result',\n    'retire',\n    'retreat',\n    'return',\n    'reunion',\n    'reveal',\n    'review',\n    'reward',\n    'rhythm',\n    'rib',\n    'ribbon',\n    'rice',\n    'rich',\n    'ride',\n    'ridge',\n    'rifle',\n    'right',\n    'rigid',\n    'ring',\n    'riot',\n    'ripple',\n    'risk',\n    'ritual',\n    'rival',\n    'river',\n    'road',\n    'roast',\n    'robot',\n    'robust',\n    'rocket',\n    'romance',\n    'roof',\n    'rookie',\n    'room',\n    'rose',\n    'rotate',\n    'rough',\n    'round',\n    'route',\n    'royal',\n    'rubber',\n    'rude',\n    'rug',\n    'rule',\n    'run',\n    'runway',\n    'rural',\n    'sad',\n    'saddle',\n    'sadness',\n    'safe',\n    'sail',\n    'salad',\n    'salmon',\n    'salon',\n    'salt',\n    'salute',\n    'same',\n    'sample',\n    'sand',\n    'satisfy',\n    'satoshi',\n    'sauce',\n    'sausage',\n    'save',\n    'say',\n    'scale',\n    'scan',\n    'scare',\n    'scatter',\n    'scene',\n    'scheme',\n    'school',\n    'science',\n    'scissors',\n    'scorpion',\n    'scout',\n    'scrap',\n    'screen',\n    'script',\n    'scrub',\n    'sea',\n    'search',\n    'season',\n    'seat',\n    'second',\n    'secret',\n    'section',\n    'security',\n    'seed',\n    'seek',\n    'segment',\n    'select',\n    'sell',\n    'seminar',\n    'senior',\n    'sense',\n    'sentence',\n    'series',\n    'service',\n    'session',\n    'settle',\n    'setup',\n    'seven',\n    'shadow',\n    'shaft',\n    'shallow',\n    'share',\n    'shed',\n    'shell',\n    'sheriff',\n    'shield',\n    'shift',\n    'shine',\n    'ship',\n    'shiver',\n    'shock',\n    'shoe',\n    'shoot',\n    'shop',\n    'short',\n    'shoulder',\n    'shove',\n    'shrimp',\n    'shrug',\n    'shuffle',\n    'shy',\n    'sibling',\n    'sick',\n    'side',\n    'siege',\n    'sight',\n    'sign',\n    'silent',\n    'silk',\n    'silly',\n    'silver',\n    'similar',\n    'simple',\n    'since',\n    'sing',\n    'siren',\n    'sister',\n    'situate',\n    'six',\n    'size',\n    'skate',\n    'sketch',\n    'ski',\n    'skill',\n    'skin',\n    'skirt',\n    'skull',\n    'slab',\n    'slam',\n    'sleep',\n    'slender',\n    'slice',\n    'slide',\n    'slight',\n    'slim',\n    'slogan',\n    'slot',\n    'slow',\n    'slush',\n    'small',\n    'smart',\n    'smile',\n    'smoke',\n    'smooth',\n    'snack',\n    'snake',\n    'snap',\n    'sniff',\n    'snow',\n    'soap',\n    'soccer',\n    'social',\n    'sock',\n    'soda',\n    'soft',\n    'solar',\n    'soldier',\n    'solid',\n    'solution',\n    'solve',\n    'someone',\n    'song',\n    'soon',\n    'sorry',\n    'sort',\n    'soul',\n    'sound',\n    'soup',\n    'source',\n    'south',\n    'space',\n    'spare',\n    'spatial',\n    'spawn',\n    'speak',\n    'special',\n    'speed',\n    'spell',\n    'spend',\n    'sphere',\n    'spice',\n    'spider',\n    'spike',\n    'spin',\n    'spirit',\n    'split',\n    'spoil',\n    'sponsor',\n    'spoon',\n    'sport',\n    'spot',\n    'spray',\n    'spread',\n    'spring',\n    'spy',\n    'square',\n    'squeeze',\n    'squirrel',\n    'stable',\n    'stadium',\n    'staff',\n    'stage',\n    'stairs',\n    'stamp',\n    'stand',\n    'start',\n    'state',\n    'stay',\n    'steak',\n    'steel',\n    'stem',\n    'step',\n    'stereo',\n    'stick',\n    'still',\n    'sting',\n    'stock',\n    'stomach',\n    'stone',\n    'stool',\n    'story',\n    'stove',\n    'strategy',\n    'street',\n    'strike',\n    'strong',\n    'struggle',\n    'student',\n    'stuff',\n    'stumble',\n    'style',\n    'subject',\n    'submit',\n    'subway',\n    'success',\n    'such',\n    'sudden',\n    'suffer',\n    'sugar',\n    'suggest',\n    'suit',\n    'summer',\n    'sun',\n    'sunny',\n    'sunset',\n    'super',\n    'supply',\n    'supreme',\n    'sure',\n    'surface',\n    'surge',\n    'surprise',\n    'surround',\n    'survey',\n    'suspect',\n    'sustain',\n    'swallow',\n    'swamp',\n    'swap',\n    'swarm',\n    'swear',\n    'sweet',\n    'swift',\n    'swim',\n    'swing',\n    'switch',\n    'sword',\n    'symbol',\n    'symptom',\n    'syrup',\n    'system',\n    'table',\n    'tackle',\n    'tag',\n    'tail',\n    'talent',\n    'talk',\n    'tank',\n    'tape',\n    'target',\n    'task',\n    'taste',\n    'tattoo',\n    'taxi',\n    'teach',\n    'team',\n    'tell',\n    'ten',\n    'tenant',\n    'tennis',\n    'tent',\n    'term',\n    'test',\n    'text',\n    'thank',\n    'that',\n    'theme',\n    'then',\n    'theory',\n    'there',\n    'they',\n    'thing',\n    'this',\n    'thought',\n    'three',\n    'thrive',\n    'throw',\n    'thumb',\n    'thunder',\n    'ticket',\n    'tide',\n    'tiger',\n    'tilt',\n    'timber',\n    'time',\n    'tiny',\n    'tip',\n    'tired',\n    'tissue',\n    'title',\n    'toast',\n    'tobacco',\n    'today',\n    'toddler',\n    'toe',\n    'together',\n    'toilet',\n    'token',\n    'tomato',\n    'tomorrow',\n    'tone',\n    'tongue',\n    'tonight',\n    'tool',\n    'tooth',\n    'top',\n    'topic',\n    'topple',\n    'torch',\n    'tornado',\n    'tortoise',\n    'toss',\n    'total',\n    'tourist',\n    'toward',\n    'tower',\n    'town',\n    'toy',\n    'track',\n    'trade',\n    'traffic',\n    'tragic',\n    'train',\n    'transfer',\n    'trap',\n    'trash',\n    'travel',\n    'tray',\n    'treat',\n    'tree',\n    'trend',\n    'trial',\n    'tribe',\n    'trick',\n    'trigger',\n    'trim',\n    'trip',\n    'trophy',\n    'trouble',\n    'truck',\n    'true',\n    'truly',\n    'trumpet',\n    'trust',\n    'truth',\n    'try',\n    'tube',\n    'tuition',\n    'tumble',\n    'tuna',\n    'tunnel',\n    'turkey',\n    'turn',\n    'turtle',\n    'twelve',\n    'twenty',\n    'twice',\n    'twin',\n    'twist',\n    'two',\n    'type',\n    'typical',\n    'ugly',\n    'umbrella',\n    'unable',\n    'unaware',\n    'uncle',\n    'uncover',\n    'under',\n    'undo',\n    'unfair',\n    'unfold',\n    'unhappy',\n    'uniform',\n    'unique',\n    'unit',\n    'universe',\n    'unknown',\n    'unlock',\n    'until',\n    'unusual',\n    'unveil',\n    'update',\n    'upgrade',\n    'uphold',\n    'upon',\n    'upper',\n    'upset',\n    'urban',\n    'urge',\n    'usage',\n    'use',\n    'used',\n    'useful',\n    'useless',\n    'usual',\n    'utility',\n    'vacant',\n    'vacuum',\n    'vague',\n    'valid',\n    'valley',\n    'valve',\n    'van',\n    'vanish',\n    'vapor',\n    'various',\n    'vast',\n    'vault',\n    'vehicle',\n    'velvet',\n    'vendor',\n    'venture',\n    'venue',\n    'verb',\n    'verify',\n    'version',\n    'very',\n    'vessel',\n    'veteran',\n    'viable',\n    'vibrant',\n    'vicious',\n    'victory',\n    'video',\n    'view',\n    'village',\n    'vintage',\n    'violin',\n    'virtual',\n    'virus',\n    'visa',\n    'visit',\n    'visual',\n    'vital',\n    'vivid',\n    'vocal',\n    'voice',\n    'void',\n    'volcano',\n    'volume',\n    'vote',\n    'voyage',\n    'wage',\n    'wagon',\n    'wait',\n    'walk',\n    'wall',\n    'walnut',\n    'want',\n    'warfare',\n    'warm',\n    'warrior',\n    'wash',\n    'wasp',\n    'waste',\n    'water',\n    'wave',\n    'way',\n    'wealth',\n    'weapon',\n    'wear',\n    'weasel',\n    'weather',\n    'web',\n    'wedding',\n    'weekend',\n    'weird',\n    'welcome',\n    'west',\n    'wet',\n    'whale',\n    'what',\n    'wheat',\n    'wheel',\n    'when',\n    'where',\n    'whip',\n    'whisper',\n    'wide',\n    'width',\n    'wife',\n    'wild',\n    'will',\n    'win',\n    'window',\n    'wine',\n    'wing',\n    'wink',\n    'winner',\n    'winter',\n    'wire',\n    'wisdom',\n    'wise',\n    'wish',\n    'witness',\n    'wolf',\n    'woman',\n    'wonder',\n    'wood',\n    'wool',\n    'word',\n    'work',\n    'world',\n    'worry',\n    'worth',\n    'wrap',\n    'wreck',\n    'wrestle',\n    'wrist',\n    'write',\n    'wrong',\n    'yard',\n    'year',\n    'yellow',\n    'you',\n    'young',\n    'youth',\n    'zebra',\n    'zero',\n    'zone',\n    'zoo'\n  ],\n  space: ' '\n}\n","import {\n  BroadcastResponse,\n  BroadcastFailure,\n  Broadcaster\n} from '../Broadcaster.js'\nimport Transaction from '../Transaction.js'\nimport { binaryHttpClient, HttpClient } from '../http/index.js'\n\n/**\n * Represents an Teranode transaction broadcaster.\n */\nexport default class Teranode implements Broadcaster {\n  readonly URL: string\n  readonly httpClient: HttpClient\n\n  /**\n   * Constructs an instance of the Teranode broadcaster.\n   *\n   * @param {string} URL - The URL endpoint for the Teranode API.\n   * @param {HttpClient} httpClient - The HTTP client used to make requests to the API, binaryHttpClient by default.\n   */\n  constructor(\n    URL: string,\n    httpClient: HttpClient = binaryHttpClient()\n  ) {\n    this.URL = URL\n    this.httpClient = httpClient\n  }\n\n  /**\n   * Broadcasts a transaction via Teranode.\n   *\n   * @param {Transaction} tx - The transaction to be broadcasted.\n   * @returns {Promise<BroadcastResponse | BroadcastFailure>} A promise that resolves to either a success or failure response.\n   */\n  async broadcast(\n    tx: Transaction\n  ): Promise<BroadcastResponse | BroadcastFailure> {\n    const rawTx = tx.toEF()\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/octet-stream'\n      },\n      data: new Blob([new Uint8Array(rawTx)])\n    }\n    try {\n      const response = await this.httpClient.request<string>(\n        this.URL,\n        requestOptions\n      )\n      if (response.ok) {\n        const txid = tx.id('hex')\n        return {\n          status: 'success',\n          txid,\n          message: 'broadcast successful'\n        }\n      } else {\n        return {\n          status: 'error',\n          code: response.status.toString() ?? 'ERR_UNKNOWN',\n          description: response.data ?? 'Unknown error'\n        }\n      }\n    } catch (error) {\n      return {\n        status: 'error',\n        code: '500',\n        description:\n          typeof error.message === 'string'\n            ? error.message\n            : 'Internal Server Error'\n      }\n    }\n  }\n}\n","import { PeerSession } from './types.js'\n\n/**\n * Manages sessions for peers, allowing multiple concurrent sessions\n * per identity key. Primary lookup is always by `sessionNonce`.\n */\nexport class SessionManager {\n  /**\n   * Maps sessionNonce -> PeerSession\n   */\n  private readonly sessionNonceToSession: Map<string, PeerSession>\n\n  /**\n   * Maps identityKey -> Set of sessionNonces\n   */\n  private readonly identityKeyToNonces: Map<string, Set<string>>\n\n  constructor () {\n    this.sessionNonceToSession = new Map<string, PeerSession>()\n    this.identityKeyToNonces = new Map<string, Set<string>>()\n  }\n\n  /**\n   * Adds a session to the manager, associating it with its sessionNonce,\n   * and also with its peerIdentityKey (if any).\n   *\n   * This does NOT overwrite existing sessions for the same peerIdentityKey,\n   * allowing multiple concurrent sessions for the same peer.\n   *\n   * @param {PeerSession} session - The peer session to add.\n   */\n  addSession (session: PeerSession): void {\n    if (typeof session.sessionNonce !== 'string') {\n      throw new Error(\n        'Invalid session: sessionNonce is required to add a session.'\n      )\n    }\n\n    // Use the sessionNonce as the primary key\n    this.sessionNonceToSession.set(session.sessionNonce, session)\n\n    // Also track it by identity key if present\n    if (typeof session.peerIdentityKey === 'string') {\n      let nonces = this.identityKeyToNonces.get(session.peerIdentityKey)\n      if (nonces == null) {\n        nonces = new Set<string>()\n        this.identityKeyToNonces.set(session.peerIdentityKey, nonces)\n      }\n      nonces.add(session.sessionNonce)\n    }\n  }\n\n  /**\n   * Updates a session in the manager (primarily by re-adding it),\n   * ensuring we record the latest data (e.g., isAuthenticated, lastUpdate, etc.).\n   *\n   * @param {PeerSession} session - The peer session to update.\n   */\n  updateSession (session: PeerSession): void {\n    // Remove the old references (if any) and re-add\n    this.removeSession(session)\n    this.addSession(session)\n  }\n\n  /**\n   * Retrieves a session based on a given identifier, which can be:\n   *  - A sessionNonce, or\n   *  - A peerIdentityKey.\n   *\n   * If it is a `sessionNonce`, returns that exact session.\n   * If it is a `peerIdentityKey`, returns the \"best\" (e.g. most recently updated,\n   * authenticated) session associated with that peer, if any.\n   *\n   * @param {string} identifier - The identifier for the session (sessionNonce or peerIdentityKey).\n   * @returns {PeerSession | undefined} - The matching peer session, or undefined if not found.\n   */\n  getSession (identifier: string): PeerSession | undefined {\n    // Check if this identifier is directly a sessionNonce\n    const direct = this.sessionNonceToSession.get(identifier)\n    if (direct != null) {\n      return direct\n    }\n\n    // Otherwise, interpret the identifier as an identity key\n    const nonces = this.identityKeyToNonces.get(identifier)\n    if ((nonces == null) || nonces.size === 0) {\n      return undefined\n    }\n\n    // Pick the \"best\" session. One sensible approach:\n    // - Choose an authenticated session if available\n    // - Among them, pick the most recently updated\n    let best: PeerSession | undefined\n    for (const nonce of nonces) {\n      const s = this.sessionNonceToSession.get(nonce)\n      if (s == null) continue\n      // We can prefer authenticated sessions\n      if (best == null) {\n        best = s\n      } else {\n        // If we want the \"most recently updated\" AND isAuthenticated\n        if ((s.lastUpdate ?? 0) > (best.lastUpdate ?? 0)) {\n          best = s\n        }\n      }\n    }\n    // Optionally, you could also filter out isAuthenticated===false if you only want\n    // an authenticated session. But for our usage, let's return the latest any session.\n    return best\n  }\n\n  /**\n   * Removes a session from the manager by clearing all associated identifiers.\n   *\n   * @param {PeerSession} session - The peer session to remove.\n   */\n  removeSession (session: PeerSession): void {\n    if (typeof session.sessionNonce === 'string') {\n      this.sessionNonceToSession.delete(session.sessionNonce)\n    }\n    if (typeof session.peerIdentityKey === 'string') {\n      const nonces = this.identityKeyToNonces.get(session.peerIdentityKey)\n      if (nonces != null) {\n        nonces.delete(session.sessionNonce ?? '')\n        if (nonces.size === 0) {\n          this.identityKeyToNonces.delete(session.peerIdentityKey)\n        }\n      }\n    }\n  }\n\n  /**\n   * Checks if a session exists for a given identifier (either sessionNonce or identityKey).\n   *\n   * @param {string} identifier - The identifier to check.\n   * @returns {boolean} - True if the session exists, false otherwise.\n   */\n  hasSession (identifier: string): boolean {\n    const direct = this.sessionNonceToSession.has(identifier)\n    if (direct) return true\n    // if not directly a nonce, interpret as identityKey\n    const nonces = this.identityKeyToNonces.get(identifier)\n    return !(nonces == null) && nonces.size > 0\n  }\n}\n","import ReductionContext from './ReductionContext.js'\nimport BigNumber from './BigNumber.js'\n\n/**\n * Represents a Montgomery reduction context, which is a mathematical method\n * for performing modular multiplication without division.\n *\n * Montgomery reduction is an algorithm used mainly in cryptography which can\n * help to speed up calculations in contexts where there are many repeated\n * computations.\n *\n * This class extends the `ReductionContext` class.\n *\n * @class MontgomoryMethod\n * @extends {ReductionContext}\n *\n * @property shift - The number of bits in the modulus.\n * @property r - The 2^shift, shifted left by the bit length of modulus `m`.\n * @property r2 - The square of `r` modulo `m`.\n * @property rinv - The modular multiplicative inverse of `r` mod `m`.\n * @property minv - The modular multiplicative inverse of `m` mod `r`.\n */\nexport default class MontgomoryMethod extends ReductionContext {\n  shift: number\n  r: BigNumber\n  r2: BigNumber\n  rinv: BigNumber\n  minv: BigNumber\n\n  /**\n   * @constructor\n   * @param m - The modulus to be used for the Montgomery method reductions.\n   */\n  constructor (m: BigNumber | 'k256') {\n    super(m)\n\n    this.shift = this.m.bitLength()\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26)\n    }\n\n    this.r = new BigNumber(1).iushln(this.shift)\n    this.r2 = this.imod(this.r.sqr())\n    this.rinv = this.r._invmp(this.m)\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)\n    this.minv = this.minv.umod(this.r)\n    this.minv = this.r.sub(this.minv)\n  }\n\n  /**\n   * Converts a number into the Montgomery domain.\n   *\n   * @method convertTo\n   * @param num - The number to be converted into the Montgomery domain.\n   * @returns The result of the conversion into the Montgomery domain.\n   *\n   * @example\n   * const montMethod = new MontgomoryMethod(m);\n   * const convertedNum = montMethod.convertTo(num);\n   */\n  convertTo (num: BigNumber): BigNumber {\n    return this.imod(num.ushln(this.shift))\n  }\n\n  /**\n   * Converts a number from the Montgomery domain back to the original domain.\n   *\n   * @method convertFrom\n   * @param num - The number to be converted from the Montgomery domain.\n   * @returns The result of the conversion from the Montgomery domain.\n   *\n   * @example\n   * const montMethod = new MontgomoryMethod(m);\n   * const convertedNum = montMethod.convertFrom(num);\n   */\n  convertFrom (num: BigNumber): BigNumber {\n    const r = this.imod(num.mul(this.rinv))\n    r.red = null\n    return r\n  }\n\n  /**\n   * Performs an in-place multiplication of two numbers in the Montgomery domain.\n   *\n   * @method imul\n   * @param a - The first number to multiply.\n   * @param b - The second number to multiply.\n   * @returns The result of the in-place multiplication.\n   *\n   * @example\n   * const montMethod = new MontgomoryMethod(m);\n   * const product = montMethod.imul(a, b);\n   */\n  imul (a: BigNumber, b: BigNumber): BigNumber {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      (a as any).length = 1\n      return a\n    }\n\n    const t = a.imul(b)\n    const c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m)\n    const u = t.isub(c).iushrn(this.shift)\n    let res = u\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m)\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m)\n    }\n\n    return res.forceRed(this)\n  }\n\n  /**\n   * Performs the multiplication of two numbers in the Montgomery domain.\n   *\n   * @method mul\n   * @param a - The first number to multiply.\n   * @param b - The second number to multiply.\n   * @returns The result of the multiplication.\n   *\n   * @example\n   * const montMethod = new MontgomoryMethod(m);\n   * const product = montMethod.mul(a, b);\n   */\n  mul (a: BigNumber, b: BigNumber): BigNumber {\n    if (a.isZero() || b.isZero()) return new BigNumber(0).forceRed(this)\n\n    const t = a.mul(b)\n    const c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m)\n    const u = t.isub(c).iushrn(this.shift)\n    let res = u\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m)\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m)\n    }\n\n    return res.forceRed(this)\n  }\n\n  /**\n   * Calculates the modular multiplicative inverse of a number in the Montgomery domain.\n   *\n   * @method invm\n   * @param a - The number to compute the modular multiplicative inverse of.\n   * @returns The modular multiplicative inverse of 'a'.\n   *\n   * @example\n   * const montMethod = new MontgomoryMethod(m);\n   * const inverse = montMethod.invm(a);\n   */\n  invm (a: BigNumber): BigNumber {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    const res = this.imod(a._invmp(this.m).mul(this.r2))\n    return res.forceRed(this)\n  }\n}\n","export * from \"./Options.js\";\nexport * from \"./Refs.js\";\nexport * from \"./errorMessages.js\";\nexport * from \"./parseDef.js\";\nexport * from \"./parseTypes.js\";\nexport * from \"./parsers/any.js\";\nexport * from \"./parsers/array.js\";\nexport * from \"./parsers/bigint.js\";\nexport * from \"./parsers/boolean.js\";\nexport * from \"./parsers/branded.js\";\nexport * from \"./parsers/catch.js\";\nexport * from \"./parsers/date.js\";\nexport * from \"./parsers/default.js\";\nexport * from \"./parsers/effects.js\";\nexport * from \"./parsers/enum.js\";\nexport * from \"./parsers/intersection.js\";\nexport * from \"./parsers/literal.js\";\nexport * from \"./parsers/map.js\";\nexport * from \"./parsers/nativeEnum.js\";\nexport * from \"./parsers/never.js\";\nexport * from \"./parsers/null.js\";\nexport * from \"./parsers/nullable.js\";\nexport * from \"./parsers/number.js\";\nexport * from \"./parsers/object.js\";\nexport * from \"./parsers/optional.js\";\nexport * from \"./parsers/pipeline.js\";\nexport * from \"./parsers/promise.js\";\nexport * from \"./parsers/readonly.js\";\nexport * from \"./parsers/record.js\";\nexport * from \"./parsers/set.js\";\nexport * from \"./parsers/string.js\";\nexport * from \"./parsers/tuple.js\";\nexport * from \"./parsers/undefined.js\";\nexport * from \"./parsers/union.js\";\nexport * from \"./parsers/unknown.js\";\nexport * from \"./selectParser.js\";\nexport * from \"./zodToJsonSchema.js\";\nimport { zodToJsonSchema } from \"./zodToJsonSchema.js\";\nexport default zodToJsonSchema;\n","import LockingScript from '../script/LockingScript.js'\nimport PushDrop from '../script/templates/PushDrop.js'\nimport * as Utils from '../primitives/utils.js'\nimport { WalletInterface, OutpointString, CreateActionInput, SignActionSpend, WalletProtocol, ListOutputsResult, WalletOutput, AtomicBEEF } from '../wallet/Wallet.interfaces.js'\nimport WalletClient from '../wallet/WalletClient.js'\nimport Transaction from '../transaction/Transaction.js'\nimport { Beef } from '../transaction/Beef.js'\n\n/**\n * Implements a key-value storage system backed by transaction outputs managed by a wallet.\n * Each key-value pair is represented by a PushDrop token output in a specific context (basket).\n * Allows setting, getting, and removing key-value pairs, with optional encryption.\n */\nexport default class LocalKVStore {\n  /**\n   * The wallet interface used to manage outputs and perform cryptographic operations.\n   * @private\n   * @readonly\n   */\n  private readonly wallet: WalletInterface\n  /**\n   * The context (basket name) used to namespace the key-value pairs within the wallet.\n   * @private\n   * @readonly\n   */\n  private readonly context: string\n  /**\n   * Flag indicating whether values should be encrypted before storing.\n   * @private\n   * @readonly\n   */\n  private readonly encrypt: boolean\n\n  /**\n   * An originator to use with PushDrop and the wallet.\n   * @private\n   * @readonly\n   */\n  private readonly originator?: string\n\n  /**\n   * Creates an instance of the localKVStore.\n   *\n   * @param {WalletInterface} [wallet=new WalletClient()] - The wallet interface to use. Defaults to a new WalletClient instance.\n   * @param {string} [context='kvstoredefault'] - The context (basket) for namespacing keys. Defaults to 'kvstore default'.\n   * @param {boolean} [encrypt=true] - Whether to encrypt values. Defaults to true.\n   * @param {string} [originator]  An originator to use with PushDrop and the wallet, if provided.\n   * @throws {Error} If the context is missing or empty.\n   */\n  constructor (\n    wallet: WalletInterface = new WalletClient(),\n    context = 'kvstore default',\n    encrypt = true,\n    originator?: string\n  ) {\n    if (typeof context !== 'string' || context.length < 1) {\n      throw new Error('A context in which to operate is required.')\n    }\n    this.wallet = wallet\n    this.context = context\n    this.encrypt = encrypt\n    this.originator = originator\n  }\n\n  private getProtocol (key: string): { protocolID: WalletProtocol, keyID: string } {\n    return { protocolID: [2, this.context], keyID: key }\n  }\n\n  private async getOutputs (key: string, limit?: number): Promise<ListOutputsResult> {\n    const results = await this.wallet.listOutputs({\n      basket: this.context,\n      tags: [key],\n      tagQueryMode: 'all',\n      include: 'entire transactions',\n      limit\n    })\n    return results\n  }\n\n  /**\n   * Retrieves the value associated with a given key.\n   *\n   * @param {string} key - The key to retrieve the value for.\n   * @param {string | undefined} [defaultValue=undefined] - The value to return if the key is not found.\n   * @returns {Promise<string | undefined>} A promise that resolves to the value as a string,\n   *   the defaultValue if the key is not found, or undefined if no defaultValue is provided.\n   * @throws {Error} If too many outputs are found for the key (ambiguous state).\n   * @throws {Error} If the found output's locking script cannot be decoded or represents an invalid token format.\n   */\n  async get (key: string, defaultValue: string | undefined = undefined): Promise<string | undefined> {\n    const r = await this.lookupValue(key, defaultValue, 5)\n    return r.value\n  }\n\n  private getLockingScript (output: WalletOutput, beef: Beef): LockingScript {\n    const [txid, vout] = output.outpoint.split('.')\n    const tx = beef.findTxid(txid)?.tx\n    if (tx == null) { throw new Error(`beef must contain txid ${txid}`) }\n    const lockingScript = tx.outputs[Number(vout)].lockingScript\n    return lockingScript\n  }\n\n  private async lookupValue (key: string, defaultValue: string | undefined, limit?: number): Promise<LookupValueResult> {\n    const lor = await this.getOutputs(key, limit)\n    const r: LookupValueResult = { value: defaultValue, outpoint: undefined, lor }\n    const { outputs } = lor\n    if (outputs.length === 0) {\n      return r\n    }\n    const output = outputs.slice(-1)[0]\n    r.outpoint = output.outpoint\n    let field: number[]\n    try {\n      if (lor.BEEF === undefined) { throw new Error('entire transactions listOutputs option must return valid BEEF') }\n      const lockingScript = this.getLockingScript(output, Beef.fromBinary(lor.BEEF))\n      const decoded = PushDrop.decode(lockingScript)\n      if (decoded.fields.length < 1 || decoded.fields.length > 2) {\n        throw new Error('Invalid token.')\n      }\n      field = decoded.fields[0]\n    } catch (_) {\n      throw new Error(`Invalid value found. You need to call set to collapse the corrupted state (or relinquish the corrupted ${outputs[0].outpoint} output from the ${this.context} basket) before you can get this value again.`)\n    }\n    if (!this.encrypt) {\n      r.value = Utils.toUTF8(field)\n    } else {\n      const { plaintext } = await this.wallet.decrypt({\n        ...this.getProtocol(key),\n        ciphertext: field\n      })\n      r.value = Utils.toUTF8(plaintext)\n    }\n    return r\n  }\n\n  private getInputs (outputs: WalletOutput[]): CreateActionInput[] {\n    const inputs: CreateActionInput[] = []\n    for (let i = 0; i < outputs.length; i++) {\n      inputs.push({\n        outpoint: outputs[i].outpoint,\n        unlockingScriptLength: 74,\n        inputDescription: 'Previous key-value token'\n      })\n    }\n    return inputs\n  }\n\n  private async getSpends (key: string, outputs: WalletOutput[], pushdrop: PushDrop, atomicBEEF: AtomicBEEF): Promise<Record<number, SignActionSpend>> {\n    const p = this.getProtocol(key)\n    const tx = Transaction.fromAtomicBEEF(atomicBEEF)\n    const spends: Record<number, SignActionSpend> = {}\n    for (let i = 0; i < outputs.length; i++) {\n      const unlocker = pushdrop.unlock(p.protocolID, p.keyID, 'self')\n      const unlockingScript = await unlocker.sign(tx, i)\n      spends[i] = {\n        unlockingScript: unlockingScript.toHex()\n      }\n    }\n    return spends\n  }\n\n  /**\n   * Sets or updates the value associated with a given key.\n   * If the key already exists (one or more outputs found), it spends the existing output(s)\n   * and creates a new one with the updated value. If multiple outputs exist for the key,\n   * they are collapsed into a single new output.\n   * If the key does not exist, it creates a new output.\n   * Handles encryption if enabled.\n   * If signing the update/collapse transaction fails, it relinquishes the original outputs and starts over with a new chain.\n   *\n   * @param {string} key - The key to set or update.\n   * @param {string} value - The value to associate with the key.\n   * @returns {Promise<OutpointString>} A promise that resolves to the outpoint string (txid.vout) of the new or updated token output.\n   */\n  async set (key: string, value: string): Promise<OutpointString> {\n    const current = await this.lookupValue(key, undefined, 10)\n    if (current.value === value) {\n      if (current.outpoint === undefined) { throw new Error('outpoint must be valid when value is valid and unchanged') }\n      // Don't create a new transaction if the value doesn't need to change...\n      return current.outpoint\n    }\n    const protocol = this.getProtocol(key)\n    let valueAsArray = Utils.toArray(value, 'utf8')\n    if (this.encrypt) {\n      const { ciphertext } = await this.wallet.encrypt({\n        ...protocol,\n        plaintext: valueAsArray\n      })\n      valueAsArray = ciphertext\n    }\n    const pushdrop = new PushDrop(this.wallet, this.originator)\n    const lockingScript = await pushdrop.lock(\n      [valueAsArray],\n      protocol.protocolID,\n      protocol.keyID,\n      'self'\n    )\n    const { outputs, BEEF: inputBEEF } = current.lor\n    let outpoint: OutpointString\n    try {\n      const inputs = this.getInputs(outputs)\n      const { txid, signableTransaction } = await this.wallet.createAction({\n        description: `Update ${key} in ${this.context}`,\n        inputBEEF,\n        inputs,\n        outputs: [{\n          basket: this.context,\n          tags: [key],\n          lockingScript: lockingScript.toHex(),\n          satoshis: 1,\n          outputDescription: 'Key-value token'\n        }],\n        options: {\n          acceptDelayedBroadcast: false,\n          randomizeOutputs: false\n        }\n      })\n      if (outputs.length > 0 && typeof signableTransaction !== 'object') {\n        throw new Error('Wallet did not return a signable transaction when expected.')\n      }\n      if (signableTransaction == null) {\n        outpoint = `${txid as string}.0`\n      } else {\n        const spends = await this.getSpends(key, outputs, pushdrop, signableTransaction.tx)\n        const { txid } = await this.wallet.signAction({\n          reference: signableTransaction.reference,\n          spends\n        })\n        outpoint = `${txid as string}.0`\n      }\n    } catch (_) {\n      throw new Error(`There are ${outputs.length} outputs with tag ${key} that cannot be unlocked.`)\n    }\n    return outpoint\n  }\n\n  /**\n   * Removes the key-value pair associated with the given key.\n   * It finds the existing output(s) for the key and spends them without creating a new output.\n   * If multiple outputs exist, they are all spent in the same transaction.\n   * If the key does not exist, it does nothing.\n   * If signing the removal transaction fails, it relinquishes the original outputs instead of spending.\n   *\n   * @param {string} key - The key to remove.\n   * @returns {Promise<string[]>} A promise that resolves to the txids of the removal transactions if successful.\n   */\n  async remove (key: string): Promise<string[]> {\n    const txids: string[] = []\n    for (; ;) {\n      const { outputs, BEEF: inputBEEF, totalOutputs } = await this.getOutputs(key)\n      if (outputs.length > 0) {\n        const pushdrop = new PushDrop(this.wallet, this.originator)\n        try {\n          const inputs = this.getInputs(outputs)\n          const { signableTransaction } = await this.wallet.createAction({\n            description: `Remove ${key} in ${this.context}`,\n            inputBEEF,\n            inputs,\n            options: {\n              acceptDelayedBroadcast: false\n            }\n          })\n          if (typeof signableTransaction !== 'object') {\n            throw new Error('Wallet did not return a signable transaction when expected.')\n          }\n          const spends = await this.getSpends(key, outputs, pushdrop, signableTransaction.tx)\n          const { txid } = await this.wallet.signAction({\n            reference: signableTransaction.reference,\n            spends\n          })\n          if (txid === undefined) { throw new Error('signAction must return a valid txid') }\n          txids.push(txid)\n        } catch (_) {\n          throw new Error(`There are ${totalOutputs} outputs with tag ${key} that cannot be unlocked.`)\n        }\n      }\n      if (outputs.length === totalOutputs) { break }\n    }\n    return txids\n  }\n}\n\ninterface LookupValueResult {\n  value: string | undefined\n  outpoint: OutpointString | undefined\n  lor: ListOutputsResult\n}\n","import { Beef } from './Beef.js'\n\n/**\n * Extends `Beef` that is used to exchange transaction validity data with more than one external party.\n *\n * Use `addKnownTxidsForParty` to keep track of who knows what to reduce re-transmission of potentially large transactions.\n *\n * Use `getTrimmedBeefForParty` to obtain a `Beef` trimmed of transaction validity data known to a specific party.\n *\n * Typical usage scenario:\n *\n * 1. Query a wallet storage provider for spendable outputs.\n * 2. The provider replies with a Beef validating the returned outputs.\n * 3. Construct a new transaction using some of the queried outputs as inputs, including Beef validating all the inputs.\n * 4. Receive new valid raw transaction after processing and Beef validating change outputs added to original inputs.\n * 5. Return to step 1, continuing to build on old and new spendable outputs.\n *\n * By default, each Beef is required to be complete and valid: All transactions appear as full serialized bitcoin transactions and\n * each transaction either has a merkle path proof (it has been mined) or all of its input transactions are included.\n *\n * The size and redundancy of these Beefs becomes a problem when chained transaction creation out-paces the block mining rate.\n *\n */\nexport class BeefParty extends Beef {\n  /**\n   * keys are party identifiers.\n   * values are records of txids with truthy value for which the party already has validity proof.\n   */\n  knownTo: Record<string, Record<string, boolean>> = {}\n\n  /**\n   *\n   * @param parties Optional array of initial unique party identifiers.\n   */\n  constructor (parties?: string[]) {\n    super()\n    if (parties != null) {\n      for (const party of parties) {\n        this.addParty(party)\n      }\n    }\n  }\n\n  /**\n   * @param party\n   * @returns `true` if `party` has already been added to this `BeefParty`.\n   */\n  isParty (party: string): boolean {\n    const r = Object.keys(this.knownTo).includes(party)\n    return r\n  }\n\n  /**\n   * Adds a new unique party identifier to this `BeefParty`.\n   * @param party\n   */\n  addParty (party: string): void {\n    if (this.isParty(party)) {\n      throw new Error(`Party ${party} already exists.`)\n    }\n    this.knownTo[party] = {}\n  }\n\n  /**\n   * @param party\n   * @returns Array of txids \"known\" to `party`.\n   */\n  getKnownTxidsForParty (party: string): string[] {\n    const knownTxids = this.knownTo[party]\n\n    if (knownTxids === undefined) { //  Explicitly check for undefined\n      throw new Error(`Party ${party} is unknown.`)\n    }\n\n    return Object.keys(knownTxids)\n  }\n\n  /**\n   * @param party\n   * @returns trimmed beef of unknown transactions and proofs for `party`\n   */\n  getTrimmedBeefForParty (party: string): Beef {\n    const knownTxids = this.getKnownTxidsForParty(party)\n    const prunedBeef = this.clone()\n    prunedBeef.trimKnownTxids(knownTxids)\n    return prunedBeef\n  }\n\n  /**\n   * Make note of additional txids \"known\" to `party`.\n   * @param party unique identifier, added if new.\n   * @param knownTxids\n   */\n  addKnownTxidsForParty (party: string, knownTxids: string[]): void {\n    if (!this.isParty(party)) {\n      this.addParty(party)\n    }\n    const kts = this.knownTo[party]\n    for (const txid of knownTxids) {\n      kts[txid] = true\n      this.mergeTxidOnly(txid)\n    }\n  }\n\n  /**\n   * Merge a `beef` received from a specific `party`.\n   *\n   * Updates this `BeefParty` to track all the txids\n   * corresponding to transactions for which `party`\n   * has raw transaction and validity proof data.\n   *\n   * @param party\n   * @param beef\n   */\n  mergeBeefFromParty (party: string, beef: number[] | Beef): void {\n    const b: Beef = Array.isArray(beef) ? Beef.fromBinary(beef) : beef\n    const knownTxids = b.getValidTxids()\n    this.mergeBeef(b)\n    this.addKnownTxidsForParty(party, knownTxids)\n  }\n}\n\nexport default BeefParty\n","unable to read source [project]/node_modules/@modelcontextprotocol/sdk/src/server/streamableHttp.ts","// @ts-nocheck\nimport TransactionInput from './TransactionInput.js'\nimport TransactionOutput from './TransactionOutput.js'\nimport UnlockingScript from '../script/UnlockingScript.js'\nimport LockingScript from '../script/LockingScript.js'\nimport { Reader, Writer, toHex, toArray } from '../primitives/utils.js'\nimport { hash256 } from '../primitives/Hash.js'\nimport FeeModel from './FeeModel.js'\nimport SatoshisPerKilobyte from './fee-models/SatoshisPerKilobyte.js'\nimport { Broadcaster, BroadcastResponse, BroadcastFailure } from './Broadcaster.js'\nimport MerklePath from './MerklePath.js'\nimport Spend from '../script/Spend.js'\nimport ChainTracker from './ChainTracker.js'\nimport { defaultBroadcaster } from './broadcasters/DefaultBroadcaster.js'\nimport { defaultChainTracker } from './chaintrackers/DefaultChainTracker.js'\nimport { Beef, BEEF_V1 } from './Beef.js'\nimport P2PKH from '../script/templates/P2PKH.js'\n\n/**\n * Represents a complete Bitcoin transaction. This class encapsulates all the details\n * required for creating, signing, and processing a Bitcoin transaction, including\n * inputs, outputs, and various transaction-related methods.\n *\n * @class Transaction\n * @property {number} version - The version number of the transaction. Used to specify\n *           which set of rules this transaction follows.\n * @property {TransactionInput[]} inputs - An array of TransactionInput objects, representing\n *           the inputs for the transaction. Each input references a previous transaction's output.\n * @property {TransactionOutput[]} outputs - An array of TransactionOutput objects, representing\n *           the outputs for the transaction. Each output specifies the amount of satoshis to be\n *           transferred and the conditions under which they can be spent.\n * @property {number} lockTime - The lock time of the transaction. If non-zero, it specifies the\n *           earliest time or block height at which the transaction can be added to the block chain.\n * @property {Record<string, any>} metadata - A key-value store for attaching additional data to\n *           the transaction object, not included in the transaction itself. Useful for adding descriptions, internal reference numbers, or other information.\n * @property {MerkleProof} [merklePath] - Optional. A merkle proof demonstrating the transaction's\n *           inclusion in a block. Useful for transaction verification using SPV.\n *\n * @example\n * // Creating a new transaction\n * let tx = new Transaction();\n * tx.addInput(...);\n * tx.addOutput(...);\n * await tx.fee();\n * await tx.sign();\n * await tx.broadcast();\n *\n * @description\n * The Transaction class provides comprehensive\n * functionality to handle various aspects of transaction creation, including\n * adding inputs and outputs, computing fees, signing the transaction, and\n * generating its binary or hexadecimal representation.\n */\nexport default class Transaction {\n  version: number\n  inputs: TransactionInput[]\n  outputs: TransactionOutput[]\n  lockTime: number\n  metadata: Record<string, any>\n  merklePath?: MerklePath\n  private cachedHash?: number[]\n\n  // Recursive function for adding merkle proofs or input transactions\n  private static addPathOrInputs (\n    obj: { pathIndex?: number, tx: Transaction },\n    transactions: Record<\n    string,\n    {\n      pathIndex?: number\n      tx: Transaction\n    }\n    >,\n    BUMPs: MerklePath[]\n  ): void {\n    if (typeof obj.pathIndex === 'number') {\n      const path = BUMPs[obj.pathIndex]\n      if (typeof path !== 'object') {\n        throw new Error('Invalid merkle path index found in BEEF!')\n      }\n      obj.tx.merklePath = path\n    } else {\n      for (const input of obj.tx.inputs) {\n        if (input.sourceTXID === undefined) {\n          throw new Error('Input sourceTXID is undefined')\n        }\n        const sourceObj = transactions[input.sourceTXID]\n        if (typeof sourceObj !== 'object') {\n          throw new Error(\n            `Reference to unknown TXID in BEEF: ${input.sourceTXID ?? 'undefined'}`\n          )\n        }\n        input.sourceTransaction = sourceObj.tx\n        this.addPathOrInputs(sourceObj, transactions, BUMPs)\n      }\n    }\n  }\n\n  /**\n   * Creates a new transaction, linked to its inputs and their associated merkle paths, from a BEEF V1, V2 or Atomic.\n   * Optionally, you can provide a specific TXID to retrieve a particular transaction from the BEEF data.\n   * If the TXID is provided but not found in the BEEF data, an error will be thrown.\n   * If no TXID is provided, the last transaction in the BEEF data is returned, or the atomic txid.\n   * @param beef A binary representation of transactions in BEEF format.\n   * @param txid Optional TXID of the transaction to retrieve from the BEEF data.\n   * @returns An anchored transaction, linked to its associated inputs populated with merkle paths.\n   */\n  static fromBEEF (beef: number[], txid?: string): Transaction {\n    const { tx } = Transaction.fromAnyBeef(beef, txid)\n    return tx\n  }\n\n  /**\n   * Creates a new transaction from an Atomic BEEF (BRC-95) structure.\n   * Extracts the subject transaction and supporting merkle path and source transactions contained in the BEEF data\n   *\n   * @param beef A binary representation of an Atomic BEEF structure.\n   * @returns The subject transaction, linked to its associated inputs populated with merkle paths.\n   */\n  static fromAtomicBEEF (beef: number[]): Transaction {\n    const { tx, txid, beef: b } = Transaction.fromAnyBeef(beef)\n    if (txid !== b.atomicTxid) {\n      if (b.atomicTxid) { throw new Error(`Transaction with TXID ${b.atomicTxid} not found in BEEF data.`) } else { throw new Error('beef must conform to BRC-95 and must contain the subject txid.') }\n    }\n    return tx\n  }\n\n  private static fromAnyBeef (beef: number[], txid?: string): { tx: Transaction, beef: Beef, txid: string } {\n    const b = Beef.fromBinary(beef)\n    if (b.txs.length < 1) {\n      throw new Error('beef must include at least one transaction.')\n    }\n    const target = txid || b.atomicTxid || b.txs.slice(-1)[0].txid\n    const tx = b.findAtomicTransaction(target)\n    if (tx == null) {\n      if (txid) { throw new Error(`Transaction with TXID ${target} not found in BEEF data.`) } else { throw new Error('beef does not contain transaction for atomic txid.') }\n    }\n    return { tx, beef: b, txid: target }\n  }\n\n  /**\n   * Creates a new transaction, linked to its inputs and their associated merkle paths, from a EF (BRC-30) structure.\n   * @param ef A binary representation of a transaction in EF format.\n   * @returns An extended transaction, linked to its associated inputs by locking script and satoshis amounts only.\n   */\n  static fromEF (ef: number[]): Transaction {\n    const br = new Reader(ef)\n    const version = br.readUInt32LE()\n    if (toHex(br.read(6)) !== '0000000000ef') { throw new Error('Invalid EF marker') }\n    const inputsLength = br.readVarIntNum()\n    const inputs: TransactionInput[] = []\n    for (let i = 0; i < inputsLength; i++) {\n      const sourceTXID = toHex(br.readReverse(32))\n      const sourceOutputIndex = br.readUInt32LE()\n      const scriptLength = br.readVarIntNum()\n      const scriptBin = br.read(scriptLength)\n      const unlockingScript = UnlockingScript.fromBinary(scriptBin)\n      const sequence = br.readUInt32LE()\n      const satoshis = br.readUInt64LEBn().toNumber()\n      const lockingScriptLength = br.readVarIntNum()\n      const lockingScriptBin = br.read(lockingScriptLength)\n      const lockingScript = LockingScript.fromBinary(lockingScriptBin)\n      const sourceTransaction = new Transaction(undefined, [], [], undefined)\n      sourceTransaction.outputs = Array(sourceOutputIndex + 1).fill(null)\n      sourceTransaction.outputs[sourceOutputIndex] = {\n        satoshis,\n        lockingScript\n      }\n      inputs.push({\n        sourceTransaction,\n        sourceTXID,\n        sourceOutputIndex,\n        unlockingScript,\n        sequence\n      })\n    }\n    const outputsLength = br.readVarIntNum()\n    const outputs: TransactionOutput[] = []\n    for (let i = 0; i < outputsLength; i++) {\n      const satoshis = br.readUInt64LEBn().toNumber()\n      const scriptLength = br.readVarIntNum()\n      const scriptBin = br.read(scriptLength)\n      const lockingScript = LockingScript.fromBinary(scriptBin)\n      outputs.push({\n        satoshis,\n        lockingScript\n      })\n    }\n    const lockTime = br.readUInt32LE()\n    return new Transaction(version, inputs, outputs, lockTime)\n  }\n\n  /**\n   * Since the validation of blockchain data is atomically transaction data validation,\n   * any application seeking to validate data in output scripts must store the entire transaction as well.\n   * Since the transaction data includes the output script data, saving a second copy of potentially\n   * large scripts can bloat application storage requirements.\n   *\n   * This function efficiently parses binary transaction data to determine the offsets and lengths of each script.\n   * This supports the efficient retreival of script data from transaction data.\n   *\n   * @param bin binary transaction data\n   * @returns {\n   *   inputs: { vin: number, offset: number, length: number }[]\n   *   outputs: { vout: number, offset: number, length: number }[]\n   * }\n   */\n  static parseScriptOffsets (bin: number[]): {\n    inputs: Array<{ vin: number, offset: number, length: number }>\n    outputs: Array<{ vout: number, offset: number, length: number }>\n  } {\n    const br = new Reader(bin)\n    const inputs: Array<{ vin: number, offset: number, length: number }> = []\n    const outputs: Array<{ vout: number, offset: number, length: number }> = []\n\n    br.pos += 4 // version\n    const inputsLength = br.readVarIntNum()\n    for (let i = 0; i < inputsLength; i++) {\n      br.pos += 36 // txid and vout\n      const scriptLength = br.readVarIntNum()\n      inputs.push({ vin: i, offset: br.pos, length: scriptLength })\n      br.pos += scriptLength + 4 // script and sequence\n    }\n    const outputsLength = br.readVarIntNum()\n    for (let i = 0; i < outputsLength; i++) {\n      br.pos += 8 // satoshis\n      const scriptLength = br.readVarIntNum()\n      outputs.push({ vout: i, offset: br.pos, length: scriptLength })\n      br.pos += scriptLength\n    }\n    return { inputs, outputs }\n  }\n\n  static fromReader (br: Reader): Transaction {\n    const version = br.readUInt32LE()\n    const inputsLength = br.readVarIntNum()\n    const inputs: TransactionInput[] = []\n    for (let i = 0; i < inputsLength; i++) {\n      const sourceTXID = toHex(br.readReverse(32))\n      const sourceOutputIndex = br.readUInt32LE()\n      const scriptLength = br.readVarIntNum()\n      const scriptBin = br.read(scriptLength)\n      const unlockingScript = UnlockingScript.fromBinary(scriptBin)\n      const sequence = br.readUInt32LE()\n      inputs.push({\n        sourceTXID,\n        sourceOutputIndex,\n        unlockingScript,\n        sequence\n      })\n    }\n    const outputsLength = br.readVarIntNum()\n    const outputs: TransactionOutput[] = []\n    for (let i = 0; i < outputsLength; i++) {\n      const satoshis = br.readUInt64LEBn().toNumber()\n      const scriptLength = br.readVarIntNum()\n      const scriptBin = br.read(scriptLength)\n      const lockingScript = LockingScript.fromBinary(scriptBin)\n      outputs.push({\n        satoshis,\n        lockingScript\n      })\n    }\n    const lockTime = br.readUInt32LE()\n    return new Transaction(version, inputs, outputs, lockTime)\n  }\n\n  /**\n   * Creates a Transaction instance from a binary array.\n   *\n   * @static\n   * @param {number[]} bin - The binary array representation of the transaction.\n   * @returns {Transaction} - A new Transaction instance.\n   */\n  static fromBinary (bin: number[]): Transaction {\n    const br = new Reader(bin)\n    return Transaction.fromReader(br)\n  }\n\n  /**\n   * Creates a Transaction instance from a hexadecimal string.\n   *\n   * @static\n   * @param {string} hex - The hexadecimal string representation of the transaction.\n   * @returns {Transaction} - A new Transaction instance.\n   */\n  static fromHex (hex: string): Transaction {\n    return Transaction.fromBinary(toArray(hex, 'hex'))\n  }\n\n  /**\n   * Creates a Transaction instance from a hexadecimal string encoded EF.\n   *\n   * @static\n   * @param {string} hex - The hexadecimal string representation of the transaction EF.\n   * @returns {Transaction} - A new Transaction instance.\n   */\n  static fromHexEF (hex: string): Transaction {\n    return Transaction.fromEF(toArray(hex, 'hex'))\n  }\n\n  /**\n   * Creates a Transaction instance from a hexadecimal string encoded BEEF.\n   * Optionally, you can provide a specific TXID to retrieve a particular transaction from the BEEF data.\n   * If the TXID is provided but not found in the BEEF data, an error will be thrown.\n   * If no TXID is provided, the last transaction in the BEEF data is returned.\n   *\n   * @static\n   * @param {string} hex - The hexadecimal string representation of the transaction BEEF.\n   * @param {string} [txid] - Optional TXID of the transaction to retrieve from the BEEF data.\n   * @returns {Transaction} - A new Transaction instance.\n   */\n  static fromHexBEEF (hex: string, txid?: string): Transaction {\n    return Transaction.fromBEEF(toArray(hex, 'hex'), txid)\n  }\n\n  constructor (\n    version: number = 1,\n    inputs: TransactionInput[] = [],\n    outputs: TransactionOutput[] = [],\n    lockTime: number = 0,\n    metadata: Record<string, any> = {},\n    merklePath?: MerklePath\n  ) {\n    this.version = version\n    this.inputs = inputs\n    this.outputs = outputs\n    this.lockTime = lockTime\n    this.metadata = metadata\n    this.merklePath = merklePath\n  }\n\n  /**\n   * Adds a new input to the transaction.\n   *\n   * @param {TransactionInput} input - The TransactionInput object to add to the transaction.\n   * @throws {Error} - If the input does not have a sourceTXID or sourceTransaction defined.\n   */\n  addInput (input: TransactionInput): void {\n    if (\n      typeof input.sourceTXID === 'undefined' &&\n      typeof input.sourceTransaction === 'undefined'\n    ) {\n      throw new Error(\n        'A reference to an an input transaction is required. If the input transaction itself cannot be referenced, its TXID must still be provided.'\n      )\n    }\n    // If the input sequence number hasn't been set, the expectation is that it is final.\n    if (typeof input.sequence === 'undefined') {\n      input.sequence = 0xffffffff\n    }\n    this.cachedHash = undefined\n    this.inputs.push(input)\n  }\n\n  /**\n   * Adds a new output to the transaction.\n   *\n   * @param {TransactionOutput} output - The TransactionOutput object to add to the transaction.\n   */\n  addOutput (output: TransactionOutput): void {\n    this.cachedHash = undefined\n    if (output.change !== true) {\n      if (typeof output.satoshis === 'undefined') {\n        throw new Error(\n          'either satoshis must be defined or change must be set to true'\n        )\n      }\n      if (output.satoshis < 0) { throw new Error('satoshis must be a positive integer or zero') }\n    }\n    if (output.lockingScript == null) throw new Error('lockingScript must be defined')\n    this.outputs.push(output)\n  }\n\n  /**\n   * Adds a new P2PKH output to the transaction.\n   *\n   * @param {number[] | string} address - The P2PKH address of the output.\n   * @param {number} [satoshis] - The number of satoshis to send to the address - if not provided, the output is considered a change output.\n   *\n   */\n  addP2PKHOutput (address: number[] | string, satoshis?: number): void {\n    const lockingScript = new P2PKH().lock(address)\n    if (typeof satoshis === 'undefined') {\n      return this.addOutput({ lockingScript, change: true })\n    }\n    this.addOutput({\n      lockingScript,\n      satoshis\n    })\n  }\n\n  /**\n   * Updates the transaction's metadata.\n   *\n   * @param {Record<string, any>} metadata - The metadata object to merge into the existing metadata.\n   */\n  updateMetadata (metadata: Record<string, any>): void {\n    this.metadata = {\n      ...this.metadata,\n      ...metadata\n    }\n  }\n\n  /**\n   * Computes fees prior to signing.\n   * If no fee model is provided, uses a SatoshisPerKilobyte fee model that pays 1 sat/kb.\n   * If fee is a number, the transaction uses that value as fee.\n   *\n   * @param modelOrFee - The initialized fee model to use or fixed fee for the transaction\n   * @param changeDistribution - Specifies how the change should be distributed\n   * amongst the change outputs\n   *\n   */\n  async fee (\n    modelOrFee: FeeModel | number = new SatoshisPerKilobyte(1),\n    changeDistribution: 'equal' | 'random' = 'equal'\n  ): Promise<void> {\n    this.cachedHash = undefined\n    if (typeof modelOrFee === 'number') {\n      const sats = modelOrFee\n      modelOrFee = {\n        computeFee: async () => sats\n      }\n    }\n    const fee = await modelOrFee.computeFee(this)\n    const change = this.calculateChange(fee)\n    if (change <= 0) {\n      this.outputs = this.outputs.filter((output) => output.change !== true)\n      return\n    }\n    this.distributeChange(change, changeDistribution)\n  }\n\n  private calculateChange (fee: number): number {\n    let change = 0\n    for (const input of this.inputs) {\n      if (typeof input.sourceTransaction !== 'object') {\n        throw new Error(\n          'Source transactions are required for all inputs during fee computation'\n        )\n      }\n      change +=\n        input.sourceTransaction.outputs[input.sourceOutputIndex].satoshis ?? 0\n    }\n    change -= fee\n    for (const out of this.outputs) {\n      if (out.change !== true) {\n        if (out.satoshis !== undefined) {\n          change -= out.satoshis\n        }\n      }\n    }\n    return change\n  }\n\n  private distributeChange (\n    change: number,\n    changeDistribution: 'equal' | 'random'\n  ): void {\n    let distributedChange = 0\n    const changeOutputs = this.outputs.filter((out) => out.change)\n    if (changeDistribution === 'random') {\n      distributedChange = this.distributeRandomChange(change, changeOutputs)\n    } else if (changeDistribution === 'equal') {\n      distributedChange = this.distributeEqualChange(change, changeOutputs)\n    }\n    if (distributedChange < change) {\n      const lastOutput = this.outputs[this.outputs.length - 1]\n      if (lastOutput.satoshis !== undefined) {\n        lastOutput.satoshis += change - distributedChange\n      } else {\n        lastOutput.satoshis = change - distributedChange\n      }\n    }\n  }\n\n  private distributeRandomChange (\n    change: number,\n    changeOutputs: TransactionOutput[]\n  ): number {\n    let distributedChange = 0\n    let changeToUse = change\n    const benfordNumbers = Array(changeOutputs.length).fill(1)\n    changeToUse -= changeOutputs.length\n    distributedChange += changeOutputs.length\n    for (let i = 0; i < changeOutputs.length - 1; i++) {\n      const portion: number = this.benfordNumber(0, changeToUse)\n      benfordNumbers[i] = (benfordNumbers[i] as number) + portion\n      distributedChange += portion\n      changeToUse -= portion\n    }\n    for (const output of this.outputs) {\n      if (output.change === true) output.satoshis = benfordNumbers.shift()\n    }\n    return distributedChange\n  }\n\n  private distributeEqualChange (\n    change: number,\n    changeOutputs: TransactionOutput[]\n  ): number {\n    let distributedChange = 0\n    const perOutput = Math.floor(change / changeOutputs.length)\n    for (const out of changeOutputs) {\n      distributedChange += perOutput\n      out.satoshis = perOutput\n    }\n    return distributedChange\n  }\n\n  private benfordNumber (min: number, max: number): number {\n    const d = Math.floor(Math.random() * 9) + 1\n    return Math.floor(\n      min + ((max - min) * Math.log10(1 + 1 / d)) / Math.log10(10)\n    )\n  }\n\n  /**\n   * Utility method that returns the current fee based on inputs and outputs\n   *\n   * @returns The current transaction fee\n   */\n  getFee (): number {\n    let totalIn = 0\n    for (const input of this.inputs) {\n      if (typeof input.sourceTransaction !== 'object') {\n        throw new Error(\n          'Source transactions or sourceSatoshis are required for all inputs to calculate fee'\n        )\n      }\n      totalIn +=\n        input.sourceTransaction.outputs[input.sourceOutputIndex].satoshis ?? 0\n    }\n    let totalOut = 0\n    for (const output of this.outputs) {\n      totalOut += output.satoshis ?? 0\n    }\n    return totalIn - totalOut\n  }\n\n  /**\n   * Signs a transaction, hydrating all its unlocking scripts based on the provided script templates where they are available.\n   */\n  async sign (): Promise<void> {\n    this.cachedHash = undefined\n    for (const out of this.outputs) {\n      if (typeof out.satoshis === 'undefined') {\n        if (out.change === true) {\n          throw new Error(\n            'There are still change outputs with uncomputed amounts. Use the fee() method to compute the change amounts and transaction fees prior to signing.'\n          )\n        } else {\n          throw new Error(\n            'One or more transaction outputs is missing an amount. Ensure all output amounts are provided before signing.'\n          )\n        }\n      }\n    }\n    const unlockingScripts = await Promise.all(\n      this.inputs.map(async (x, i): Promise<UnlockingScript | undefined> => {\n        if (typeof this.inputs[i].unlockingScriptTemplate === 'object') {\n          return await this.inputs[i]?.unlockingScriptTemplate?.sign(this, i)\n        } else {\n          return await Promise.resolve(undefined)\n        }\n      })\n    )\n    for (let i = 0, l = this.inputs.length; i < l; i++) {\n      if (typeof this.inputs[i].unlockingScriptTemplate === 'object') {\n        this.inputs[i].unlockingScript = unlockingScripts[i]\n      }\n    }\n  }\n\n  /**\n   * Broadcasts a transaction.\n   *\n   * @param broadcaster The Broadcaster instance wwhere the transaction will be sent\n   * @returns A BroadcastResponse or BroadcastFailure from the Broadcaster\n   */\n  async broadcast (\n    broadcaster: Broadcaster = defaultBroadcaster()\n  ): Promise<BroadcastResponse | BroadcastFailure> {\n    return await broadcaster.broadcast(this)\n  }\n\n  /**\n   * Converts the transaction to a binary array format.\n   *\n   * @returns {number[]} - The binary array representation of the transaction.\n   */\n  toBinary (): number[] {\n    const writer = new Writer()\n    writer.writeUInt32LE(this.version)\n    writer.writeVarIntNum(this.inputs.length)\n    for (const i of this.inputs) {\n      if (typeof i.sourceTXID === 'undefined') {\n        if (i.sourceTransaction != null) {\n          writer.write(i.sourceTransaction.hash() as number[])\n        } else {\n          throw new Error('sourceTransaction is undefined')\n        }\n      } else {\n        writer.writeReverse(toArray(i.sourceTXID, 'hex'))\n      }\n      writer.writeUInt32LE(i.sourceOutputIndex)\n      if (i.unlockingScript == null) {\n        throw new Error('unlockingScript is undefined')\n      }\n      const scriptBin = i.unlockingScript.toBinary()\n      writer.writeVarIntNum(scriptBin.length)\n      writer.write(scriptBin)\n      writer.writeUInt32LE(i.sequence ?? 0)\n    }\n    writer.writeVarIntNum(this.outputs.length)\n    for (const o of this.outputs) {\n      writer.writeUInt64LE(o.satoshis ?? 0)\n      const scriptBin = o.lockingScript.toBinary()\n      writer.writeVarIntNum(scriptBin.length)\n      writer.write(scriptBin)\n    }\n    writer.writeUInt32LE(this.lockTime)\n    return writer.toArray()\n  }\n\n  /**\n   * Converts the transaction to a BRC-30 EF format.\n   *\n   * @returns {number[]} - The BRC-30 EF representation of the transaction.\n   */\n  toEF (): number[] {\n    const writer = new Writer()\n    writer.writeUInt32LE(this.version)\n    writer.write([0, 0, 0, 0, 0, 0xef])\n    writer.writeVarIntNum(this.inputs.length)\n    for (const i of this.inputs) {\n      if (typeof i.sourceTransaction === 'undefined') {\n        throw new Error(\n          'All inputs must have source transactions when serializing to EF format'\n        )\n      }\n      if (typeof i.sourceTXID === 'undefined') {\n        writer.write(i.sourceTransaction.hash() as number[])\n      } else {\n        writer.write(toArray(i.sourceTXID, 'hex').reverse() as number[])\n      }\n      writer.writeUInt32LE(i.sourceOutputIndex)\n      if (i.unlockingScript == null) {\n        throw new Error('unlockingScript is undefined')\n      }\n      const scriptBin = i.unlockingScript.toBinary()\n      writer.writeVarIntNum(scriptBin.length)\n      writer.write(scriptBin)\n      writer.writeUInt32LE(i.sequence ?? 0)\n      writer.writeUInt64LE(\n        i.sourceTransaction.outputs[i.sourceOutputIndex].satoshis ?? 0\n      )\n      const lockingScriptBin =\n        i.sourceTransaction.outputs[\n          i.sourceOutputIndex\n        ].lockingScript.toBinary()\n      writer.writeVarIntNum(lockingScriptBin.length)\n      writer.write(lockingScriptBin)\n    }\n    writer.writeVarIntNum(this.outputs.length)\n    for (const o of this.outputs) {\n      writer.writeUInt64LE(o.satoshis ?? 0)\n      const scriptBin = o.lockingScript.toBinary()\n      writer.writeVarIntNum(scriptBin.length)\n      writer.write(scriptBin)\n    }\n    writer.writeUInt32LE(this.lockTime)\n    return writer.toArray()\n  }\n\n  /**\n   * Converts the transaction to a hexadecimal string EF.\n   *\n   * @returns {string} - The hexadecimal string representation of the transaction EF.\n   */\n  toHexEF (): string {\n    return toHex(this.toEF())\n  }\n\n  /**\n   * Converts the transaction to a hexadecimal string format.\n   *\n   * @returns {string} - The hexadecimal string representation of the transaction.\n   */\n  toHex (): string {\n    return toHex(this.toBinary())\n  }\n\n  /**\n   * Converts the transaction to a hexadecimal string BEEF.\n   *\n   * @returns {string} - The hexadecimal string representation of the transaction BEEF.\n   */\n  toHexBEEF (): string {\n    return toHex(this.toBEEF())\n  }\n\n  /**\n   * Converts the transaction to a hexadecimal string Atomic BEEF.\n   *\n   * @returns {string} - The hexadecimal string representation of the transaction Atomic BEEF.\n   */\n  toHexAtomicBEEF (): string {\n    return toHex(this.toAtomicBEEF())\n  }\n\n  /**\n   * Calculates the transaction's hash.\n   *\n   * @param {'hex' | undefined} enc - The encoding to use for the hash. If 'hex', returns a hexadecimal string; otherwise returns a binary array.\n   * @returns {string | number[]} - The hash of the transaction in the specified format.\n   */\n  hash (enc?: 'hex'): number[] | string {\n    let hash\n    if (this.cachedHash != null) {\n      hash = this.cachedHash\n    } else {\n      hash = hash256(this.toBinary())\n      this.cachedHash = hash\n    }\n    if (enc === 'hex') {\n      return toHex(hash)\n    }\n    return hash\n  }\n\n  /**\n   * Calculates the transaction's ID in binary array.\n   *\n   * @returns {number[]} - The ID of the transaction in the binary array format.\n   */\n  id (): number[]\n  /**\n   * Calculates the transaction's ID in hexadecimal format.\n   *\n   * @param {'hex'} enc - The encoding to use for the ID. If 'hex', returns a hexadecimal string.\n   * @returns {string} - The ID of the transaction in the hex format.\n   */\n  id (enc: 'hex'): string\n  /**\n   * Calculates the transaction's ID.\n   *\n   * @param {'hex' | undefined} enc - The encoding to use for the ID. If 'hex', returns a hexadecimal string; otherwise returns a binary array.\n   * @returns {string | number[]} - The ID of the transaction in the specified format.\n   */\n  id (enc?: 'hex'): number[] | string {\n    const id = [...(this.hash() as number[])]\n    id.reverse()\n    if (enc === 'hex') {\n      return toHex(id)\n    }\n    return id\n  }\n\n  /**\n   * Verifies the legitimacy of the Bitcoin transaction according to the rules of SPV by ensuring all the input transactions link back to valid block headers, the chain of spends for all inputs are valid, and the sum of inputs is not less than the sum of outputs.\n   *\n   * @param chainTracker - An instance of ChainTracker, a Bitcoin block header tracker. If the value is set to 'scripts only', headers will not be verified. If not provided then the default chain tracker will be used.\n   * @param feeModel - An instance of FeeModel, a fee model to use for fee calculation. If not provided then the default fee model will be used.\n   * @param memoryLimit - The maximum memory in bytes usage allowed for script evaluation. If not provided then the default memory limit will be used.\n   *\n   * @returns Whether the transaction is valid according to the rules of SPV.\n   *\n   * @example tx.verify(new WhatsOnChain(), new SatoshisPerKilobyte(1))\n   */\n  async verify (\n    chainTracker: ChainTracker | 'scripts only' = defaultChainTracker(),\n    feeModel?: FeeModel,\n    memoryLimit?: number\n  ): Promise<boolean> {\n    const verifiedTxids = new Set<string>()\n    const txQueue: Transaction[] = [this]\n\n    while (txQueue.length > 0) {\n      const tx = txQueue.shift()\n      const txid = tx?.id('hex') ?? ''\n      if (txid != null && txid !== '' && verifiedTxids.has(txid)) {\n        continue\n      }\n\n      // If the transaction has a valid merkle path, verification is complete.\n      if (typeof tx?.merklePath === 'object') {\n        if (chainTracker === 'scripts only') {\n          if (txid != null) {\n            verifiedTxids.add(txid)\n          }\n          continue\n        } else {\n          const proofValid = await tx.merklePath.verify(txid, chainTracker)\n          // If the proof is valid, no need to verify inputs.\n          if (proofValid) {\n            verifiedTxids.add(txid)\n            continue\n          }\n        }\n      }\n\n      // Verify fee if feeModel is provided\n      if (typeof feeModel !== 'undefined') {\n        if (tx === undefined) {\n          throw new Error('Transaction is undefined')\n        }\n        const cpTx = Transaction.fromEF(tx.toEF())\n        delete cpTx.outputs[0].satoshis\n        cpTx.outputs[0].change = true\n        await cpTx.fee(feeModel)\n        if (tx.getFee() < cpTx.getFee()) {\n          throw new Error(\n            `Verification failed because the transaction ${txid} has an insufficient fee and has not been mined.`\n          )\n        }\n      }\n\n      // Verify each input transaction and evaluate the spend events.\n      // Also, keep a total of the input amounts for later.\n      let inputTotal = 0\n      if (tx === undefined) {\n        throw new Error('Transaction is undefined')\n      }\n      for (let i = 0; i < tx.inputs.length; i++) {\n        const input = tx.inputs[i]\n        if (typeof input.sourceTransaction !== 'object') {\n          throw new Error(\n            `Verification failed because the input at index ${i} of transaction ${txid} is missing an associated source transaction. This source transaction is required for transaction verification because there is no merkle proof for the transaction spending a UTXO it contains.`\n          )\n        }\n        if (typeof input.unlockingScript !== 'object') {\n          throw new Error(\n            `Verification failed because the input at index ${i} of transaction ${txid} is missing an associated unlocking script. This script is required for transaction verification because there is no merkle proof for the transaction spending the UTXO.`\n          )\n        }\n        const sourceOutput =\n          input.sourceTransaction.outputs[input.sourceOutputIndex]\n        inputTotal += sourceOutput.satoshis ?? 0\n\n        const sourceTxid = input.sourceTransaction.id('hex')\n        if (!verifiedTxids.has(sourceTxid)) {\n          txQueue.push(input.sourceTransaction)\n        }\n\n        const otherInputs = tx.inputs.filter((_, idx) => idx !== i)\n        if (typeof input.sourceTXID === 'undefined') {\n          input.sourceTXID = sourceTxid\n        }\n\n        const spend = new Spend({\n          sourceTXID: input.sourceTXID,\n          sourceOutputIndex: input.sourceOutputIndex,\n          lockingScript: sourceOutput.lockingScript,\n          sourceSatoshis: sourceOutput.satoshis ?? 0,\n          transactionVersion: tx.version,\n          otherInputs,\n          unlockingScript: input.unlockingScript,\n          inputSequence: input.sequence ?? 0,\n          inputIndex: i,\n          outputs: tx.outputs,\n          lockTime: tx.lockTime,\n          memoryLimit\n        })\n        const spendValid = spend.validate()\n\n        if (!spendValid) {\n          return false\n        }\n      }\n\n      // Total the outputs to ensure they don't amount to more than the inputs\n      let outputTotal = 0\n      for (const out of tx.outputs) {\n        if (typeof out.satoshis !== 'number') {\n          throw new Error(\n            'Every output must have a defined amount during transaction verification.'\n          )\n        }\n        outputTotal += out.satoshis\n      }\n\n      if (outputTotal > inputTotal) {\n        return false\n      }\n\n      verifiedTxids.add(txid)\n    }\n\n    return true\n  }\n\n  /**\n   * Serializes this transaction, together with its inputs and the respective merkle proofs, into the BEEF (BRC-62) format. This enables efficient verification of its compliance with the rules of SPV.\n   *\n   * @param allowPartial If true, error will not be thrown if there are any missing sourceTransactions.\n   *\n   * @returns The serialized BEEF structure\n   * @throws Error if there are any missing sourceTransactions unless `allowPartial` is true.\n   */\n  toBEEF (allowPartial?: boolean): number[] {\n    const writer = new Writer()\n    writer.writeUInt32LE(BEEF_V1)\n    const BUMPs: MerklePath[] = []\n    const txs: Array<{ tx: Transaction, pathIndex?: number }> = []\n\n    // Recursive function to add paths and input transactions for a TX\n    const addPathsAndInputs = (tx: Transaction): void => {\n      const obj: { tx: Transaction, pathIndex?: number } = { tx }\n      const hasProof = typeof tx.merklePath === 'object'\n      if (hasProof) {\n        let added = false\n        // If this proof is identical to another one previously added, we use that first. Otherwise, we try to merge it with proofs from the same block.\n        for (let i = 0; i < BUMPs.length; i++) {\n          if (BUMPs[i] === tx.merklePath) {\n            // Literally the same\n            obj.pathIndex = i\n            added = true\n            break\n          }\n          if (tx.merklePath !== null && tx.merklePath !== undefined && BUMPs[i].blockHeight === tx.merklePath.blockHeight) {\n            // Probably the same...\n            const rootA = BUMPs[i].computeRoot()\n            const rootB = tx.merklePath.computeRoot()\n            if (rootA === rootB) {\n              // Definitely the same... combine them to save space\n              BUMPs[i].combine(tx.merklePath)\n              obj.pathIndex = i\n              added = true\n              break\n            }\n          }\n        }\n        // Finally, if the proof is not yet added, add a new path.\n        if (!added) {\n          obj.pathIndex = BUMPs.length\n          if (tx.merklePath !== null && tx.merklePath !== undefined) {\n            BUMPs.push(tx.merklePath)\n          }\n        }\n      }\n      const duplicate = txs.some((x) => x.tx.id('hex') === tx.id('hex'))\n      if (!duplicate) {\n        txs.unshift(obj)\n      }\n      if (!hasProof) {\n        for (let i = 0; i < tx.inputs.length; i++) {\n          const input = tx.inputs[i]\n          if (typeof input.sourceTransaction === 'object') {\n            addPathsAndInputs(input.sourceTransaction)\n          } else if (allowPartial === false) {\n            throw new Error('A required source transaction is missing!')\n          }\n        }\n      }\n    }\n\n    addPathsAndInputs(this)\n\n    writer.writeVarIntNum(BUMPs.length)\n    for (const b of BUMPs) {\n      writer.write(b.toBinary())\n    }\n    writer.writeVarIntNum(txs.length)\n    for (const t of txs) {\n      writer.write(t.tx.toBinary())\n      if (typeof t.pathIndex === 'number') {\n        writer.writeUInt8(1)\n        writer.writeVarIntNum(t.pathIndex)\n      } else {\n        writer.writeUInt8(0)\n      }\n    }\n    return writer.toArray()\n  }\n\n  /**\n   * Serializes this transaction and its inputs into the Atomic BEEF (BRC-95) format.\n   * The Atomic BEEF format starts with a 4-byte prefix `0x01010101`, followed by the TXID of the subject transaction,\n   * and then the BEEF data containing only the subject transaction and its dependencies.\n   * This format ensures that the BEEF structure is atomic and contains no unrelated transactions.\n   *\n   * @param allowPartial If true, error will not be thrown if there are any missing sourceTransactions.\n   *\n   * @returns {number[]} - The serialized Atomic BEEF structure.\n   * @throws Error if there are any missing sourceTransactions unless `allowPartial` is true.\n   */\n  toAtomicBEEF (allowPartial?: boolean): number[] {\n    const writer = new Writer()\n    // Write the Atomic BEEF prefix\n    writer.writeUInt32LE(0x01010101)\n    // Write the subject TXID (big-endian)\n    writer.write(this.hash())\n    // Append the BEEF data\n    const beefData = this.toBEEF(allowPartial)\n    writer.write(beefData)\n    return writer.toArray()\n  }\n}\n","import { SHA256HMAC } from './Hash.js'\nimport { toHex, toArray } from './utils.js'\n\n/**\n * This class behaves as a HMAC-based deterministic random bit generator (DRBG). It implements a deterministic random number generator using SHA256HMAC HASH function. It takes an initial entropy and nonce when instantiated for seeding purpose.\n * @class DRBG\n *\n * @constructor\n * @param entropy - Initial entropy either in number array or hexadecimal string.\n * @param nonce - Initial nonce either in number array or hexadecimal string.\n *\n * @throws Throws an error message 'Not enough entropy. Minimum is 256 bits' when entropy's length is less than 32.\n *\n * @example\n * const drbg = new DRBG('af12de...', '123ef...');\n */\nexport default class DRBG {\n  K: number[]\n  V: number[]\n\n  constructor (entropy: number[] | string, nonce: number[] | string) {\n    entropy = toArray(entropy, 'hex')\n    nonce = toArray(nonce, 'hex')\n\n    if (entropy.length < 32) {\n      throw new Error('Not enough entropy. Minimum is 256 bits')\n    }\n    const seed = entropy.concat(nonce)\n\n    this.K = new Array(32)\n    this.V = new Array(32)\n    for (let i = 0; i < 32; i++) {\n      this.K[i] = 0x00\n      this.V[i] = 0x01\n    }\n    this.update(seed)\n  }\n\n  /**\n   * Generates HMAC using the K value of the instance. This method is used internally for operations.\n   *\n   * @method hmac\n   * @returns The SHA256HMAC object created with K value.\n   *\n   * @example\n   * const hmac = drbg.hmac();\n   */\n  hmac (): SHA256HMAC {\n    return new SHA256HMAC(this.K)\n  }\n\n  /**\n   * Updates the `K` and `V` values of the instance based on the seed.\n   * The seed if not provided uses `V` as seed.\n   *\n   * @method update\n   * @param seed - an optional value that used to update `K` and `V`. Default is `undefined`.\n   * @returns Nothing, but updates the internal state `K` and `V` value.\n   *\n   * @example\n   * drbg.update('e13af...');\n   */\n  update (seed?): void {\n    let kmac = this.hmac().update(this.V).update([0x00])\n    if (seed !== undefined) {\n      kmac = kmac.update(seed)\n    }\n    this.K = kmac.digest()\n    this.V = this.hmac().update(this.V).digest()\n    if (seed === undefined) {\n      return\n    }\n\n    this.K = this.hmac().update(this.V).update([0x01]).update(seed).digest()\n    this.V = this.hmac().update(this.V).digest()\n  }\n\n  /**\n   * Generates deterministic random hexadecimal string of given length.\n   * In every generation process, it also updates the internal state `K` and `V`.\n   *\n   * @method generate\n   * @param len - The length of required random number.\n   * @returns The required deterministic random hexadecimal string.\n   *\n   * @example\n   * const randomHex = drbg.generate(256);\n   */\n  generate (len: number): string {\n    let temp: number[] = []\n    while (temp.length < len) {\n      this.V = this.hmac().update(this.V).digest()\n      temp = temp.concat(this.V)\n    }\n\n    const res = temp.slice(0, len)\n    this.update()\n    return toHex(res)\n  }\n}\n","import OP from '../OP.js'\nimport ScriptTemplate from '../ScriptTemplate.js'\nimport { fromBase58Check } from '../../primitives/utils.js'\nimport LockingScript from '../LockingScript.js'\nimport UnlockingScript from '../UnlockingScript.js'\nimport Transaction from '../../transaction/Transaction.js'\nimport PrivateKey from '../../primitives/PrivateKey.js'\nimport TransactionSignature from '../../primitives/TransactionSignature.js'\nimport { sha256 } from '../../primitives/Hash.js'\nimport Script from '../Script.js'\n\nfunction verifyTruthy<T>(v: T | undefined): T {\n  if (v == null) throw new Error('must have value')\n  return v\n}\n\n/**\n * P2PKH (Pay To Public Key Hash) class implementing ScriptTemplate.\n *\n * This class provides methods to create Pay To Public Key Hash locking and unlocking scripts, including the unlocking of P2PKH UTXOs with the private key.\n */\nexport default class P2PKH implements ScriptTemplate {\n  /**\n   * Creates a P2PKH locking script for a given public key hash or address string\n   *\n   * @param {number[] | string} pubkeyhash or address - An array or address representing the public key hash.\n   * @returns {LockingScript} - A P2PKH locking script.\n   */\n  lock(pubkeyhash: string | number[]): LockingScript {\n    let data: number[]\n    if (typeof pubkeyhash === 'string') {\n      const hash = fromBase58Check(pubkeyhash)\n      if (hash.prefix[0] !== 0x00 && hash.prefix[0] !== 0x6f) {\n        throw new Error('only P2PKH is supported')\n      }\n      data = hash.data as number[]\n    } else {\n      data = pubkeyhash\n    }\n    if (data.length !== 20) {\n      throw new Error('P2PKH hash length must be 20 bytes')\n    }\n    return new LockingScript([\n      { op: OP.OP_DUP },\n      { op: OP.OP_HASH160 },\n      { op: data.length, data },\n      { op: OP.OP_EQUALVERIFY },\n      { op: OP.OP_CHECKSIG }\n    ])\n  }\n\n  /**\n   * Creates a function that generates a P2PKH unlocking script along with its signature and length estimation.\n   *\n   * The returned object contains:\n   * 1. `sign` - A function that, when invoked with a transaction and an input index,\n   *    produces an unlocking script suitable for a P2PKH locked output.\n   * 2. `estimateLength` - A function that returns the estimated length of the unlocking script in bytes.\n   *\n   * @param {PrivateKey} privateKey - The private key used for signing the transaction.\n   * @param {'all'|'none'|'single'} signOutputs - The signature scope for outputs.\n   * @param {boolean} anyoneCanPay - Flag indicating if the signature allows for other inputs to be added later.\n   * @param {number} sourceSatoshis - Optional. The amount being unlocked. Otherwise the input.sourceTransaction is required.\n   * @param {Script} lockingScript - Optional. The lockinScript. Otherwise the input.sourceTransaction is required.\n   * @returns {Object} - An object containing the `sign` and `estimateLength` functions.\n   */\n  unlock(\n    privateKey: PrivateKey,\n    signOutputs: 'all' | 'none' | 'single' = 'all',\n    anyoneCanPay: boolean = false,\n    sourceSatoshis?: number,\n    lockingScript?: Script\n  ): {\n    sign: (tx: Transaction, inputIndex: number) => Promise<UnlockingScript>\n    estimateLength: () => Promise<108>\n  } {\n    return {\n      sign: async (tx: Transaction, inputIndex: number) => {\n        let signatureScope = TransactionSignature.SIGHASH_FORKID\n        if (signOutputs === 'all') {\n          signatureScope |= TransactionSignature.SIGHASH_ALL\n        }\n        if (signOutputs === 'none') {\n          signatureScope |= TransactionSignature.SIGHASH_NONE\n        }\n        if (signOutputs === 'single') {\n          signatureScope |= TransactionSignature.SIGHASH_SINGLE\n        }\n        if (anyoneCanPay) {\n          signatureScope |= TransactionSignature.SIGHASH_ANYONECANPAY\n        }\n\n        const input = tx.inputs[inputIndex]\n\n        const otherInputs = tx.inputs.filter(\n          (_, index) => index !== inputIndex\n        )\n\n        const sourceTXID = input.sourceTXID ?? input.sourceTransaction?.id('hex')\n        if (sourceTXID == null || sourceTXID === undefined) {\n          throw new Error(\n            'The input sourceTXID or sourceTransaction is required for transaction signing.'\n          )\n        }\n        if (sourceTXID === '') {\n          throw new Error(\n            'The input sourceTXID or sourceTransaction is required for transaction signing.'\n          )\n        }\n        sourceSatoshis ||=\n          input.sourceTransaction?.outputs[input.sourceOutputIndex].satoshis\n        if (sourceSatoshis == null || sourceSatoshis === undefined) {\n          throw new Error(\n            'The sourceSatoshis or input sourceTransaction is required for transaction signing.'\n          )\n        }\n        lockingScript ||=\n          input.sourceTransaction?.outputs[input.sourceOutputIndex]\n            .lockingScript\n        if (lockingScript == null) {\n          throw new Error(\n            'The lockingScript or input sourceTransaction is required for transaction signing.'\n          )\n        }\n\n        const preimage = TransactionSignature.format({\n          sourceTXID,\n          sourceOutputIndex: verifyTruthy(input.sourceOutputIndex),\n          sourceSatoshis,\n          transactionVersion: tx.version,\n          otherInputs,\n          inputIndex,\n          outputs: tx.outputs,\n          inputSequence: verifyTruthy(input.sequence),\n          subscript: lockingScript,\n          lockTime: tx.lockTime,\n          scope: signatureScope\n        })\n\n        const rawSignature = privateKey.sign(sha256(preimage))\n        const sig = new TransactionSignature(\n          rawSignature.r,\n          rawSignature.s,\n          signatureScope\n        )\n        const sigForScript = sig.toChecksigFormat()\n        const pubkeyForScript = privateKey\n          .toPublicKey()\n          .encode(true) as number[]\n        return new UnlockingScript([\n          { op: sigForScript.length, data: sigForScript },\n          { op: pubkeyForScript.length, data: pubkeyForScript }\n        ])\n      },\n      estimateLength: async () => {\n        // public key (1+33) + signature (1+73)\n        // Note: We add 1 to each element's length because of the associated OP_PUSH\n        return 108\n      }\n    }\n  }\n}\n","import { ServerResponse, type IncomingMessage } from \"node:http\";\nimport {\n  type McpErrorEvent,\n  type McpEvent,\n  type McpRequestEvent,\n  type McpSessionEvent,\n  createEvent,\n} from \"./log-helper\";\n\nexport class EventEmittingResponse extends ServerResponse {\n  private onEvent?: (event: McpEvent) => void;\n  private sessionId?: string;\n  private requestId: string;\n  private startTime: number;\n\n  constructor(\n    req: IncomingMessage,\n    onEvent?: (event: McpEvent) => void,\n    sessionId?: string\n  ) {\n    super(req);\n    this.onEvent = onEvent;\n    this.sessionId = sessionId;\n    this.requestId = crypto.randomUUID();\n    this.startTime = Date.now();\n  }\n\n  emitEvent(event: Omit<McpEvent, \"timestamp\" | \"sessionId\" | \"requestId\">) {\n    if (this.onEvent) {\n      this.onEvent(\n        createEvent({\n          ...event,\n          sessionId: this.sessionId,\n          requestId: this.requestId,\n        } as Omit<McpEvent, \"timestamp\">)\n      );\n    }\n  }\n\n  startSession(\n    transport: \"SSE\" | \"HTTP\",\n    clientInfo?: { userAgent?: string; ip?: string }\n  ) {\n    this.emitEvent({\n      type: \"SESSION_STARTED\",\n      transport,\n      clientInfo,\n    } as Omit<McpSessionEvent, \"timestamp\" | \"sessionId\" | \"requestId\">);\n  }\n\n  endSession(transport: \"SSE\" | \"HTTP\") {\n    this.emitEvent({\n      type: \"SESSION_ENDED\",\n      transport,\n    } as Omit<McpSessionEvent, \"timestamp\" | \"sessionId\" | \"requestId\">);\n  }\n\n  requestReceived(method: string, parameters?: unknown) {\n    this.emitEvent({\n      type: \"REQUEST_RECEIVED\",\n      method,\n      parameters,\n      status: \"success\",\n    } as Omit<McpRequestEvent, \"timestamp\" | \"sessionId\" | \"requestId\">);\n  }\n\n  requestCompleted(method: string, result?: unknown, error?: Error | string) {\n    this.emitEvent({\n      type: \"REQUEST_COMPLETED\",\n      method,\n      result,\n      duration: Date.now() - this.startTime,\n      status: error ? \"error\" : \"success\",\n    } as Omit<McpRequestEvent, \"timestamp\" | \"sessionId\" | \"requestId\">);\n\n    if (error) {\n      this.error(error, `Error executing request ${method}`, \"request\");\n    }\n  }\n\n  error(\n    error: Error | string,\n    context?: string,\n    source: McpErrorEvent[\"source\"] = \"system\",\n    severity: McpErrorEvent[\"severity\"] = \"error\"\n  ) {\n    this.emitEvent({\n      type: \"ERROR\",\n      error,\n      context,\n      source,\n      severity,\n    } as Omit<McpErrorEvent, \"timestamp\" | \"sessionId\" | \"requestId\">);\n  }\n\n  end(\n    chunk?: unknown,\n    encoding?: BufferEncoding | (() => void),\n    cb?: () => void\n  ): this {\n    let finalChunk = chunk;\n    let finalEncoding = encoding;\n    let finalCallback = cb;\n\n    if (typeof chunk === \"function\") {\n      finalCallback = chunk as () => void;\n      finalChunk = undefined;\n      finalEncoding = undefined;\n    } else if (typeof encoding === \"function\") {\n      finalCallback = encoding as () => void;\n      finalEncoding = undefined;\n    }\n\n    return super.end(\n      finalChunk as string | Buffer,\n      finalEncoding as BufferEncoding,\n      finalCallback\n    );\n  }\n}\n","import { EventEmitter } from 'node:events';\nimport type { ServerResponse } from 'node:http';\n\ntype WriteheadArgs = {\n  statusCode: number;\n  headers?: Record<string, string>;\n};\n\n// biome-ignore lint/suspicious/noExplicitAny: Not deterministic\nexport type BodyType = string | Buffer | Record<string, any> | null;\n\ntype EventListener = (...args: unknown[]) => void;\n\n/**\n * Anthropic's MCP API requires a server response object. This function\n * creates a fake server response object that can be used to pass to the MCP API.\n */\nexport function createServerResponseAdapter(\n  signal: AbortSignal,\n  fn: (re: ServerResponse) => Promise<void> | void\n): Promise<Response> {\n  let writeHeadResolver: (v: WriteheadArgs) => void;\n  const writeHeadPromise = new Promise<WriteheadArgs>(resolve => {\n    writeHeadResolver = resolve;\n  });\n\n  return new Promise(resolve => {\n    let controller: ReadableStreamController<Uint8Array> | undefined;\n    let shouldClose = false;\n    let wroteHead = false;\n    let statusCode = 200;\n    let headers: Record<string, string> | undefined;\n\n    const writeHead = (code: number, headersArg?: Record<string, string>) => {\n      if (typeof headersArg === 'string') {\n        throw new Error('Status message of writeHead not supported');\n      }\n      statusCode = code;\n      headers = headersArg;\n      wroteHead = true;\n      writeHeadResolver({\n        statusCode,\n        headers,\n      });\n      return fakeServerResponse;\n    };\n\n    const bufferedData: Uint8Array[] = [];\n\n    const write = (\n      chunk: Buffer | string,\n      encoding?: BufferEncoding\n    ): boolean => {\n      if (encoding) {\n        throw new Error('Encoding not supported');\n      }\n      if (chunk instanceof Buffer) {\n        throw new Error('Buffer not supported');\n      }\n      if (!wroteHead) {\n        writeHead(statusCode, headers);\n      }\n      if (!controller) {\n        bufferedData.push(new TextEncoder().encode(chunk as string));\n        return true;\n      }\n      controller.enqueue(new TextEncoder().encode(chunk as string));\n      return true;\n    };\n\n    const eventEmitter = new EventEmitter();\n\n    const fakeServerResponse = {\n      writeHead,\n      write,\n      end: (data?: Buffer | string) => {\n        if (data) {\n          write(data);\n        }\n\n        if (!controller) {\n          shouldClose = true;\n          return fakeServerResponse;\n        }\n        try {\n          controller.close();\n        } catch {\n          /* May be closed on tcp layer */\n        }\n        return fakeServerResponse;\n      },\n      on: (event: string, listener: EventListener) => {\n        eventEmitter.on(event, listener);\n        return fakeServerResponse;\n      },\n      get statusCode() {\n        return statusCode;\n      },\n      set statusCode(code: number) {\n        statusCode = code;\n\n        // If the status code is set after writeHead, we need to call\n        // writeHead again to update the status code.\n        if (wroteHead) {\n          writeHeadResolver({\n            statusCode,\n            headers,\n          });\n        }\n      },\n    };\n\n    signal.addEventListener('abort', () => {\n      eventEmitter.emit('close');\n    });\n\n    void fn(fakeServerResponse as ServerResponse);\n\n    void (async () => {\n      const head = await writeHeadPromise;\n\n      const response = new Response(\n        new ReadableStream({\n          start(c) {\n            controller = c;\n            for (const chunk of bufferedData) {\n              controller.enqueue(chunk);\n            }\n            if (shouldClose) {\n              controller.close();\n            }\n          },\n        }),\n        {\n          status: head.statusCode,\n          headers: head.headers,\n        }\n      );\n\n      resolve(response);\n    })();\n  });\n}\n","import { type Config, initializeMcpApiHandler } from \"./mcp-api-handler\";\nimport { createServerResponseAdapter } from \"./server-response-adapter\";\nimport type { ServerOptions as McpServerOptions } from \"@modelcontextprotocol/sdk/server/index.js\";\nimport type { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\";\n\n/**\n * Creates a MCP handler that can be used to handle MCP requests.\n * @param initializeServer - A function that initializes the MCP server. Use this to access the server instance and register tools, prompts, and resources.\n * @param serverOptions - Options for the MCP server.\n * @param config - Configuration for the MCP handler.\n * @returns A function that can be used to handle MCP requests.\n */\n\nexport type ServerOptions = McpServerOptions & {\n  serverInfo?: {\n    name: string;\n    version: string;\n  };\n};\n\nexport default function createMcpRouteHandler(\n  initializeServer:\n    | ((server: McpServer) => Promise<void>)\n    | ((server: McpServer) => void),\n  serverOptions?: ServerOptions,\n  config?: Config\n): (request: Request) => Promise<Response> {\n  const mcpHandler = initializeMcpApiHandler(\n    initializeServer,\n    serverOptions,\n    config\n  );\n  return (request: Request) => {\n    return createServerResponseAdapter(request.signal, (res) => {\n      mcpHandler(request, res);\n    });\n  };\n}\n","import {AuthInfo} from \"@modelcontextprotocol/sdk/server/auth/types.js\";\nimport {\n  InvalidTokenError,\n  InsufficientScopeError,\n  ServerError,\n} from \"@modelcontextprotocol/sdk/server/auth/errors.js\";\nimport {withAuthContext} from \"./auth-context\";\n\ndeclare global {\n  interface Request {\n    auth?: AuthInfo;\n  }\n}\n\nexport function withMcpAuth(\n  handler: (req: Request) => Response | Promise<Response>,\n  verifyToken: (\n    req: Request,\n    bearerToken?: string\n  ) => AuthInfo | undefined | Promise<AuthInfo | undefined>,\n  {\n    required = false,\n    resourceMetadataPath = \"/.well-known/oauth-protected-resource\",\n    requiredScopes,\n  }: {\n    required?: boolean;\n    resourceMetadataPath?: string;\n    requiredScopes?: string[];\n  } = {}\n) {\n  return async (req: Request) => {\n    const origin = new URL(req.url).origin;\n    const resourceMetadataUrl = `${origin}${resourceMetadataPath}`;\n\n    const authHeader = req.headers.get(\"Authorization\");\n    const [type, token] = authHeader?.split(\" \") || [];\n\n    // Only support bearer token as per the MCP spec\n    // https://modelcontextprotocol.io/specification/2025-03-26/basic/authorization#2-6-1-token-requirements\n    const bearerToken = type?.toLowerCase() === \"bearer\" ? token : undefined;\n\n    let authInfo: AuthInfo | undefined;\n    try {\n      authInfo = await verifyToken(req, bearerToken);\n    } catch (error) {\n      console.error(\"Unexpected error authenticating bearer token:\", error);\n      const publicError = new InvalidTokenError(\"Invalid token\");\n      return new Response(JSON.stringify(publicError.toResponseObject()), {\n        status: 401,\n        headers: {\n          \"WWW-Authenticate\": `Bearer error=\"${publicError.errorCode}\", error_description=\"${publicError.message}\", resource_metadata=\"${resourceMetadataUrl}\"`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n    }\n\n    try {\n      if (required && !authInfo) {\n        throw new InvalidTokenError(\"No authorization provided\");\n      }\n\n      if (!authInfo) {\n        return handler(req);\n      }\n\n      // Check if token has the required scopes (if any)\n      if (requiredScopes?.length) {\n        const hasAllScopes = requiredScopes.every((scope) =>\n          authInfo!.scopes.includes(scope)\n        );\n\n        if (!hasAllScopes) {\n          throw new InsufficientScopeError(\"Insufficient scope\");\n        }\n      }\n\n      // Check if the token is expired\n      if (authInfo.expiresAt && authInfo.expiresAt < Date.now() / 1000) {\n        throw new InvalidTokenError(\"Token has expired\");\n      }\n\n      // Set auth info on the request object after successful verification\n      req.auth = authInfo;\n\n      return withAuthContext(authInfo, () => handler(req));\n    } catch (error) {\n      if (error instanceof InvalidTokenError) {\n        return new Response(JSON.stringify(error.toResponseObject()), {\n          status: 401,\n          headers: {\n            \"WWW-Authenticate\": `Bearer error=\"${error.errorCode}\", error_description=\"${error.message}\", resource_metadata=\"${resourceMetadataUrl}\"`,\n            \"Content-Type\": \"application/json\",\n          },\n        });\n      } else if (error instanceof InsufficientScopeError) {\n        return new Response(JSON.stringify(error.toResponseObject()), {\n          status: 403,\n          headers: {\n            \"WWW-Authenticate\": `Bearer error=\"${error.errorCode}\", error_description=\"${error.message}\", resource_metadata=\"${resourceMetadataUrl}\"`,\n            \"Content-Type\": \"application/json\",\n          },\n        });\n      } else if (error instanceof ServerError) {\n        return new Response(JSON.stringify(error.toResponseObject()), {\n          status: 500,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n      } else {\n        console.error(\"Unexpected error authenticating bearer token:\", error);\n        const serverError = new ServerError(\"Internal Server Error\");\n        return new Response(JSON.stringify(serverError.toResponseObject()), {\n          status: 500,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n      }\n    }\n  };\n}\n","import { OAuthProtectedResourceMetadata } from \"@modelcontextprotocol/sdk/shared/auth.js\";\n\n/**\n * CORS headers for OAuth Protected Resource Metadata endpoint.\n * Configured to allow any origin to make the endpoint accessible to web-based MCP clients.\n */\nconst corsHeaders = {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\n    \"Access-Control-Allow-Headers\": \"*\",\n    \"Access-Control-Max-Age\": \"86400\",\n};\n\n/**\n * OAuth 2.0 Protected Resource Metadata endpoint based on RFC 9728.\n * @see https://datatracker.ietf.org/doc/html/rfc9728\n * \n * @param authServerUrls - Array of issuer URLs of the OAuth 2.0 Authorization Servers. \n *                        These should match the \"issuer\" field in the authorization servers' \n *                        OAuth metadata (RFC 8414).\n */\nexport function protectedResourceHandler({\n    authServerUrls,\n}: {\n    authServerUrls: string[];\n}) {\n    return (req: Request) => {\n        const resourceUrl = new URL(req.url);\n\n        resourceUrl.pathname = resourceUrl.pathname\n          .replace(/^\\/\\.well-known\\/[^\\/]+/, \"\");\n\n        // The URL class does not allow for empty `pathname` and will replace it\n        // with \"/\". Here, we correct that.\n        const resource = resourceUrl.pathname === '/'\n          ? resourceUrl.toString().replace(/\\/$/, '')\n          : resourceUrl.toString();\n\n        const metadata = generateProtectedResourceMetadata({\n            authServerUrls,\n            resourceUrl: resource,\n        });\n\n        return new Response(JSON.stringify(metadata), {\n            headers: {\n                ...corsHeaders,\n                \"Cache-Control\": \"max-age=3600\",\n                \"Content-Type\": \"application/json\",\n            },\n        });\n    };\n}\n\n/**\n * Generates protected resource metadata for the given auth server URLs and\n * protected resource identifier. The protected resource identifier, as defined\n * in RFC 9728, should be a a URL that uses the https scheme and has no fragment\n * component.\n *\n * @param authServerUrls - Array of issuer URLs of the authorization servers. Each URL should \n *                        match the \"issuer\" field in the respective authorization server's \n *                        OAuth metadata (RFC 8414).\n * @param resourceUrl - the protected resource identifier\n * @param additionalMetadata - Additional metadata fields to include in the response\n * @returns Protected resource metadata, serializable to JSON\n */\nexport function generateProtectedResourceMetadata({\n    authServerUrls,\n    resourceUrl,\n    additionalMetadata,\n}: {\n    authServerUrls: string[];\n    resourceUrl: string;\n    additionalMetadata?: Partial<OAuthProtectedResourceMetadata>;\n}): OAuthProtectedResourceMetadata {\n    return Object.assign(\n        {\n            resource: resourceUrl,\n            authorization_servers: authServerUrls\n        },\n        additionalMetadata\n    );\n}\n\n/**\n * CORS options request handler for OAuth metadata endpoints.\n * Necessary for MCP clients that operate in web browsers.\n */\nexport function metadataCorsOptionsRequestHandler() {\n    return () => {\n        return new Response(null, {\n            status: 200,\n            headers: corsHeaders,\n        });\n    };\n}\n\n"],"names":["_a","req","logInContext","redis"],"mappings":"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,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,CAAA,QAAA,CAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,E,YCAA,EAAA,CAAA,CAAA,KAAA,KAAA,CAAA,iqhB,YCAA,EAAA,CAAA,CAAA,KAAA,KAAA,CAAA,+pe,YCAA,EAAA,CAAA,CAAA,KAAA,KAAA,CAAA,sqN,4rC,+BCMA,EAAO,OAAO,CAAG,CAkCb,SAAY,CACR,KAAM,QACN,MAAO,WAAa,OAAA,EAAA,CAAA,CAAA,MAAyC,EAC7D,UAAW,CAAC,IAAU,GAAM,IAAU,GAAI,EAC1C,eAAgB,CAAC,CAAC,KAAM,MAAQ,GAAI,KAAM,EAAE,AAChD,EACA,WAAc,WACd,QAAW,WACX,KAAQ,WACR,WAAc,WACd,MAAS,WACT,MAAS,WACT,WAAc,WACd,MAAS,WACT,IAAO,WACP,MAAS,WAET,MAAS,CACL,KAAM,QACN,MAAO,WAAa,OAAA,EAAA,CAAA,CAAA,MAAsC,EAC1D,UAAW,CAAC,IAAU,GAAM,IAAU,GAAI,CAC9C,EAYA,OAAU,QACV,SAAY,QACZ,WAAc,QACd,SAAY,QACZ,gBAAmB,QACnB,MAAS,QAGT,WAAc,QACd,MAAS,QACT,IAAO,QACP,MAAS,CACL,KAAM,QACN,MAAO,WAAa,OAAA,EAAA,CAAA,CAAA,KAAsC,CAC9D,EAGA,IAAO,CACH,KAAM,QACN,MAAO,WAAa,OAAO,EAAA,CAAA,CAAA,MAA+B,MAAM,CAAA,EAAA,CAAA,CAAA,OAAqC,CACzG,EACA,KAAQ,MACR,QAAW,MAOX,QAAW,CACP,KAAM,QACN,MAAO,WAAa,OAAO,EAAA,CAAA,CAAA,MAA+B,MAAM,CAAA,EAAA,CAAA,CAAA,OAAqC,EACrG,QAAS,WAAa,OAAA,EAAA,CAAA,CAAA,MAA+C,EACrE,eAAgB,CAAC,IAAK,CACtB,UAAW,CAAC,IAAK,KAAM,CAC3B,EAEA,QAAW,UAKX,WAAc,QACd,MAAS,QACT,IAAO,QACP,MAAS,CACL,KAAM,QACN,MAAO,WAAa,OAAA,EAAA,CAAA,CAAA,MAAsC,CAC9D,EAEA,QAAW,QACX,cAAiB,QACjB,MAAS,QACT,SAAY,QACZ,OAAU,QACV,YAAe,QACf,YAAe,QACf,QAAW,QA0BX,WAAc,QACd,MAAS,QACT,IAAO,QACP,MAAS,CACL,KAAM,QACN,MAAO,WAAa,OAAA,EAAA,CAAA,CAAA,MAAsC,CAC9D,EAGA,KAAQ,YACR,UAAa,CACT,KAAM,QACN,MAAO,WAAa,OAAO,EAAA,CAAA,CAAA,OAA+B,MAAM,CAAA,EAAA,CAAA,CAAA,OAAsC,EACtG,eAAgB,CAIZ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChG,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChG,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAChG,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAGxE,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAC3C,AACL,EAEA,OAAU,YACV,OAAU,YACV,OAAU,WACd,+BC1KA,IAAK,IAbD,EAAU,kGAUb,CAGQ,EAAI,EAAG,EAAI,EAAQ,MAAM,CAAE,IAAK,CACrC,IAAI,EAAS,CAAO,CAAC,EAAE,CACvB,IAAK,IAAI,KAAO,EACR,KAAJ,EAAW,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,EAAQ,KAC7C,CAAO,CAAC,EAAI,CAAG,CAAM,CAAC,EAAA,AAAI,CACtC,gCCpBA,IAAI,EAAS,EAAA,CAAA,CAAA,OAAwB,MAAM,CAI3C,EAAO,OAAO,CAAG,SAAS,CAAa,EACnC,IAAI,EAAY,EAAc,SAAS,CAIvC,SAAS,EAAuB,CAAI,CAAE,CAAO,EACzC,IAAI,CAAC,IAAI,CAAG,EAEZ,CADA,EAAU,GAAW,EAAC,EACd,aAAa,EAAG,EACxB,EAAU,GADqB,CACjB,CAAC,IAAI,CAAE,EACzB,CA2CA,SAAS,EAAuB,CAAI,CAAE,CAAO,EACzC,IAAI,CAAC,IAAI,CAAG,EAEZ,CADA,EAAU,GAAW,CAAC,GACd,QAAQ,CAAG,EAhDuE,EAgDnE,CAAC,QAAQ,CAAG,OACnC,CAD2C,CACjC,IAAI,CAAC,IAAI,CAAE,EACzB,CAwCA,OAtFA,AA4CoE,EA5C7C,SAAS,CAAG,OAAO,MAAM,CAAC,EAAU,SAAS,CAAE,CAClE,YAAa,CAAE,MAAO,CAAuB,CACjD,GAEA,EAAuB,SAAS,CAAC,UAAU,CAAG,SAAS,CAAK,CAAE,CAAQ,CAAE,CAAI,EACxE,GAAoB,UAAhB,OAAO,EACP,OAAO,EAAS,AAAJ,MAAU,sDAC1B,GAAI,CACA,IAAI,EAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GACtB,GAAO,EAAI,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,GACjC,GACJ,CACA,MAAO,EAAG,CACN,EAAK,EACT,CACJ,EAEA,EAAuB,SAAS,CAAC,MAAM,CAAG,SAAS,CAAI,EACnD,GAAI,CACA,IAAI,EAAM,IAAI,CAAC,IAAI,CAAC,GAAG,EACnB,IAAO,EAAI,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,GACjC,GACJ,CACA,MAAO,EAAG,CACN,EAAK,EACT,CACJ,EAEA,EAAuB,SAAS,CAAC,OAAO,CAAG,SAAS,CAAE,EAClD,IAAI,EAAS,EAAE,CAMf,OALA,IAAI,CAAC,EAAE,CAAC,QAAS,GACjB,IAAI,CAAC,EAAE,CAAC,OAAQ,SAAS,CAAK,EAAI,EAAO,IAAI,CAAC,EAAQ,GACtD,IAAI,CAAC,EAAE,CAAC,MAAO,WACX,EAAG,KAAM,EAAO,MAAM,CAAC,GAC3B,GACO,IACX,AADe,EAaf,EAAuB,SAAS,CAAG,OAAO,MAAM,CAAC,EAAU,SAAS,CAAE,CAClE,YAAa,CAAE,MAAO,CAAuB,CACjD,GAEA,EAAuB,SAAS,CAAC,UAAU,CAAG,SAAS,CAAK,CAAE,CAAQ,CAAE,CAAI,EACxE,GAAI,CAAC,EAAO,QAAQ,CAAC,IAAU,CAAC,CAAC,aAAiB,UAAA,CAAU,CACxD,OAAO,EAAS,AAAJ,MAAU,sDAC1B,GAAI,CACA,IAAI,EAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GACtB,GAAO,EAAI,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,EAAK,IAAI,CAAC,QAAQ,EACnD,GACJ,CACA,MAAO,EAAG,CACN,EAAK,EACT,CACJ,EAEA,EAAuB,SAAS,CAAC,MAAM,CAAG,SAAS,CAAI,EACnD,GAAI,CACA,IAAI,EAAM,IAAI,CAAC,IAAI,CAAC,GAAG,GACnB,GAAO,EAAI,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,EAAK,IAAI,CAAC,QAAQ,EACnD,GACJ,CACA,MAAO,EAAG,CACN,EAAK,EACT,CACJ,EAEA,EAAuB,SAAS,CAAC,OAAO,CAAG,SAAS,CAAE,EAClD,IAAI,EAAM,GAMV,OALA,IAAI,CAAC,EAAE,CAAC,QAAS,GACjB,IAAI,CAAC,EAAE,CAAC,OAAQ,SAAS,CAAK,EAAI,GAAO,CAAO,GAChD,IAAI,CAAC,EAAE,CAAC,MAAO,WACX,EAAG,KAAM,EACb,GACO,IAAI,AACf,EAEO,CACH,uBAAwB,EACxB,uBAAwB,CAC5B,CACJ,+FC1GA,IAgKI,EAhKA,EAAS,EAAA,CAAA,CAAA,OAAwB,MAAM,CAEvC,EAAA,EAAA,CAAA,CAAA,OACA,EAAQ,EAAO,OAAO,CAI1B,EAAM,SAAS,CAAG,KAGlB,EAAM,kBAAkB,CAAG,IAC3B,EAAM,qBAAqB,CAAG,IAG9B,EAAM,MAAM,CAAG,SAAS,AAAO,CAAG,CAAE,CAAQ,CAAE,CAAO,EACjD,EAAM,IAAM,CAAD,EAAQ,EAAA,CAAE,CAErB,EAFwB,EAEpB,EAAU,EAAM,UAAU,CAAC,AAFU,EAEA,GAErC,EAAM,EAAQ,KAAK,CAAC,GACpB,EAAQ,EAAQ,GAAG,GAEvB,OAAQ,GAAS,EAAM,MAAM,CAAG,EAAK,EAAO,MAAM,CAAC,CAAC,EAAK,EAAM,EAAI,CACvE,EAEA,EAAM,MAAM,CAAG,SAAS,AAAO,CAAG,CAAE,CAAQ,CAAE,CAAO,EAC9B,UAAf,AAAyB,OAAlB,IACF,EAAM,iBAAiB,EAAE,CAC1B,QAAQ,KAAK,CAAC,4IACd,EAAM,iBAAiB,EAAG,GAG9B,EAAM,EAAO,IAAI,CAAC,IAAM,CAAD,EAAQ,EAAA,CAAE,CAAG,WAGxC,AAHmD,IAG/C,EAAU,EAAM,SAHgD,CAGtC,CAAC,EAAU,GAErC,EAAM,EAAQ,KAAK,CAAC,GACpB,EAAQ,EAAQ,GAAG,GAEvB,OAAO,EAAS,EAAM,EAAS,CACnC,EAEA,EAAM,cAAc,CAAG,SAAS,AAAe,CAAG,EAC9C,GAAI,CAEA,OADA,EAAM,QAAQ,CAAC,IACR,CACX,CAAE,MAAO,EAAG,CACR,OAAO,CACX,CACJ,EAGA,EAAM,UAAU,CAAG,EAAM,MAAM,CAC/B,EAAM,YAAY,CAAG,EAAM,MAAM,CAGjC,EAAM,eAAe,CAAG,CAAC,EACzB,EAAM,QAAQ,CAAG,SAAS,AAAS,CAAQ,EACnC,AAAC,EAAM,SAAS,GAChB,EAAM,SAAS,CAAA,EAAA,CAAA,CAAA,KAAA,EAOnB,CAP+C,GAG/C,EAIO,EAJH,EAAM,EAAM,qBAAqB,CAAC,GAGlC,EAAe,AANkE,CAMjE,IACP,CACT,IAAI,EAAQ,EAAM,eAAe,CAAC,EAAI,CACtC,GAAI,EACA,OAAO,EAEX,IAAI,EAAW,EAAM,SAAS,CAAC,EAAI,CAEnC,OAAQ,OAAO,GACX,IAAK,SACD,EAAM,EACN,KAEJ,KAAK,SACD,IAAK,IAAI,KAAO,EACZ,CAAY,CAAC,EAAI,CAAG,CAAQ,CAAC,EAAI,AAEjC,CAAC,EAAa,YAAY,GAC1B,EAAa,YAAY,CAAG,CAAA,EAEhC,EAAM,EAAS,IAAI,CACnB,KAEJ,KAAK,WASD,OARI,AAAC,EAAa,YAAY,GAC1B,EAAa,YAAY,CAAG,CAAA,EAIhC,EAAQ,IAAI,EAAS,EAAc,GAEnC,EAAM,eAAe,CAAC,EAAa,YAAY,CAAC,CAAG,EAC5C,CAEX,IAH8D,KAI1D,MAAM,AAAI,MAAM,aAJwE,gBAIzC,EAAW,oBAAoB,EAAI,KAC1F,CACJ,CACJ,EAEA,EAAM,qBAAqB,CAAG,SAAS,CAAQ,EAE3C,MAAO,CAAC,GAAG,CAAA,CAAQ,CAAE,WAAW,GAAG,OAAO,CAAC,qBAAsB,GACrE,EAEA,EAAM,UAAU,CAAG,SAAoB,AAAX,CAAmB,CAAE,CAAO,EACpD,IAAI,EAAQ,EAAM,QAAQ,CAAC,GACvB,EAAU,IAAI,EAAM,OAAO,CAAC,EAAS,GAKzC,OAHI,EAAM,QAAQ,EAAI,GAAW,EAAQ,MAAM,EAC3C,GAAU,IAAI,EAAY,UAAU,CAAC,EAAS,EAAA,EAE3C,CACX,EAEA,EAAM,UAAU,CAAG,SAAS,AAAW,CAAQ,CAAE,CAAO,EACpD,IAAI,EAAQ,EAAM,QAAQ,CAAC,GACvB,EAAU,IAAI,EAAM,OAAO,CAAC,EAAS,GAKzC,OAHI,EAAM,QAAQ,EAAI,CAAC,CAAC,GAAW,CAAqB,MAAb,QAAQ,AAAK,CAAK,GACzD,EAAU,IAAI,EAAY,QAAQ,CAAC,EAAS,EAAA,EAEzC,CACX,EAOA,EAAM,kBAAkB,CAAG,SAAS,AAAmB,CAAa,EAChE,IAAI,EAAM,eAAe,EACrB,AAGJ,IAAI,EAAU,EAAA,CAAA,CAAA,OAAqB,GAGnC,EAAM,sBAAsB,CAAG,EAAQ,sBAAsB,CAC7D,EAAM,sBAAsB,CAAG,EAAQ,sBAAsB,CAG7D,EAAM,YAAY,CAAG,SAAS,AAAa,CAAQ,CAAE,CAAO,EACxD,OAAO,IAAI,EAAM,sBAAsB,CAAC,EAAM,UAAU,CAAC,EAAU,GAAU,EACjF,EAEA,EAAM,YAAY,CAAG,SAAS,AAAa,CAAQ,CAAE,CAAO,EACxD,OAAO,IAAI,EAAM,sBAAsB,CAAC,EAAM,UAAU,CAAC,EAAU,GAAU,EACjF,EAEA,EAAM,eAAe,EAAG,EAC5B,EAIA,GAAI,CACA,EAAA,EAAA,CAAA,CAAA,MACJ,CAAE,MAAO,EAAG,CAAC,CAET,GAAiB,EAAc,SAAS,CACxC,CAD0C,CACpC,kBAAkB,CAAC,GAIzB,EAAM,YAAY,CAAG,EAAM,YAAY,CAAG,WACtC,MAAU,AAAJ,MAAU,0GACpB,gCCjKJ,EAAO,OAAO,CA0Bd,EA1BiB,OA0BR,AAAO,CAAM,EACpB,GAAI,CAAC,EACH,MADW,AACL,AAAI,UAAU,+BAGtB,GAA6B,YAAzB,OAAO,EAAO,MAAM,CAAiB,YAEvC,EAAO,MAAM,GAKf,GA/BF,AA+BO,CAAD,QA/BG,AAAqB,CAAM,EAGlC,IAAK,IAFD,EAAY,EAAO,SAAS,CAAC,QAExB,EAAI,EAAG,EAAI,EAAU,MAAM,CAAE,IAAK,AACzC,GAA0B,UAAU,CAAhC,CAAS,CAAC,EAAE,CAAC,IAAI,CACnB,OAAO,EAIX,OAAO,CACT,EAqB4B,GAO1B,IAAK,EAP8B,EAI/B,EACA,EAAY,EAAO,SAAS,CAAC,SAExB,EAAI,EAAG,EAAI,EAAU,MAAM,CAAE,IAAK,CAGrC,AAAkB,aAFtB,EAAW,CAAS,CAAC,EAAA,AAAE,EAEV,IAAI,EAAoC,YAAlB,EAAS,IAAI,AAAK,GAAW,AAKhE,EAAS,IAAI,CAAC,EAElB,wGCtDA,IAAI,EAAa,AAoSjB,SAAS,EACP,GAAI,CACF,OAAA,EAAA,CAAA,CAAA,MACF,CAAE,MAAO,EAAG,CACV,MAAO,CAAC,CACV,CACF,IAzSI,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOJ,EAAO,OAAO,CA0Cd,EA1CiB,OA0CR,AAAY,CAAM,CAAE,CAAO,CAAE,CAAQ,EAC5C,MA6PI,EA7PA,EAAO,EACP,EAAO,GAAW,CAAC,EAGvB,QAAe,IAAX,EACF,KADwB,CAClB,AAAI,UAAU,+BACf,GAAsB,UAAlB,OAAO,GAAkC,OAAX,GAAwC,YAArB,AAAiC,OAA1B,EAAO,EAAE,CAC1E,MAAM,AAAI,UAAU,oCAgBtB,IAbI,CAAY,OAA2B,UAAnB,OAAO,CAAY,GAAU,CAEnD,EAAO,CACL,SAAU,CACZ,GAGqB,YAAnB,AAA+B,OAAxB,IACT,EAAO,EACP,EAAO,CAAC,GAIN,AAAS,YAA6B,YAAhB,AAA4B,OAArB,EAC/B,MAAM,AAAI,UAAU,wCAItB,GAAI,CAAC,GAAQ,CAAC,EAAA,CAAA,CAAO,OAAO,CAC1B,CAD4B,KACtB,AAAI,UAAU,iCAItB,IAAI,GAA6B,IAAlB,EAAK,QAAQ,CACxB,EAAK,QAAQ,CACb,QAGA,EAAQ,EAAM,KAAK,CAAC,EAAK,KAAK,EAG9B,EAAwB,MAAf,EAAK,AAAkB,MAAZ,EAAa,MAAM,EAAK,MAAM,EAElD,KADA,SAAS,EAAK,MAAM,CAAE,WAG1B,AAAI,EAEK,EAAW,EAFV,AAEkB,EAAU,EAAQ,GA6MjC,EA7M6C,AA6M3C,EA7MsC,AAsNrD,CALI,EAAW,aAAa,EAAE,AAC5B,GAAM,IAAI,EAAW,aAAa,CAAC,EAAG,IAAI,EAAI,qBAAA,EAI3C,AAAD,GAAS,EAAI,EAAL,aAAoB,EAAE,AAK3B,EAAI,eAAe,CAAC,IAAI,CAAC,EAAK,EAAI,MAJhC,IApNF,IAAI,QAAQ,SAAS,AAAU,CAAO,CAAE,CAAM,EACnD,EAAW,EAAQ,EAAU,EAAQ,EAAO,SAAS,AAAQ,CAAG,CAAE,CAAG,EACnE,GAAI,EAAK,OAAO,EAAO,GACvB,EAAQ,EACV,EACF,EACF,EA5FA,IAAI,EAAgC,6BA0HpC,SAAS,EAAY,CAAM,CAAE,CAAQ,CAAE,CAAM,CAAE,CAAK,CAAE,CAAQ,EAC5D,IAmCI,EAnCA,EAAW,GACX,GAAO,EAKX,GAAc,OAAV,GAA6B,OAAX,GAAmB,EAAS,EAChD,KADuD,EAChD,EAAK,EAAY,IAAK,2BAA4B,CACvD,SAAU,EACV,OAAQ,EACR,MAAO,EACP,KAAM,kBACR,IAQF,IAAI,EAAQ,EAAO,cAAc,CACjC,GAAI,EAAO,QAAQ,EAAK,IAAU,EAAM,GAAP,KAAe,EAAI,EAAM,OAAA,AAAO,EAE/D,CAFmE,MAE5D,EAAK,EAAY,IAAK,oCAAqC,CAChE,KAAM,qBACR,IAGF,GAAI,KAA2B,IAApB,EAAO,QAAQ,EAAoB,CAAC,EAAO,QAAQ,CAC5D,CAD8D,MACvD,EAAK,EAAY,IAAK,yBAA0B,CACrD,KAAM,qBACR,IAGF,IAAI,EAAW,EAGf,GAAI,CACF,EAxJJ,AAwJc,SAxJL,AAAY,CAAQ,EAC3B,GAAI,CAAC,EAAU,OAAO,KAEtB,GAAI,CACF,OAAO,EAAM,UAAU,CAAC,EAC1B,CAAE,MAAO,EAAG,CAEV,GAAI,CAAC,EAA8B,IAAI,CAAC,EAAE,OAAO,EAAG,MAAM,CAG1D,OAAM,EAAY,IAAK,iCAAkC,CACvD,SAAU,EACV,KAAM,sBACR,EACF,CACF,EAyIyB,EACvB,CAAE,MAAO,EAAK,CACZ,OAAO,EAAK,EACd,CAEA,IAAI,EAAS,EACT,GACA,EAAE,CAYN,SAAS,IAIP,IAAK,IAHD,EAAO,AAAI,MAAM,UAAU,MAAM,EAG5B,EAAI,EAAG,EAAI,EAAK,MAAM,CAAE,IAC/B,AADoC,CAChC,CAAC,EAAE,CAAG,SAAS,CAAC,EAAE,CAYxB,SAAS,IACP,IAEI,CAAI,CAAC,EAAE,EAAE,CAjGjB,EAmGW,GAhGP,AAAwB,EAHrB,UAGiC,OAA7B,EAAO,KAAK,EACrB,EAAO,KAAK,IAkGV,EAAS,KAAK,CAAC,KAAM,EACvB,CAjBA,GAAW,EAEP,EACF,IADQ,IACA,QAAQ,CAAC,GAEjB,GAaJ,CAEA,SAAS,IACH,GAEJ,EAAK,EAAY,GAFH,CAEQ,kBAAmB,CACvC,KAAM,eACN,SAAU,EACV,OAAQ,EACR,SAAU,EACV,KAAM,iBACR,GACF,CAEA,SAAS,EAAQ,CAAK,EAChB,IAEJ,GAAY,EAAM,CAFJ,KAEU,CAEV,OAAV,GAAkB,EAAW,EAC/B,EAAK,EAAY,CADqB,GAChB,2BAA4B,CAChD,MAAO,EACP,SAAU,EACV,KAAM,kBACR,IACS,EACT,GAAU,EAAQ,EADA,GACK,CAAC,GAExB,EAAO,IAAI,CAAC,GAEhB,CAEA,SAAS,EAAO,CAAG,EACjB,IAAI,GACJ,GAAI,EAAK,EADK,KACE,EAAK,EAEN,QAAX,GAAmB,IAAa,EAClC,EAAK,EAAY,EADyB,EACpB,4CAA6C,CACjE,SAAU,EACV,OAAQ,EACR,SAAU,EACV,KAAM,sBACR,IAKA,EAAK,KAHQ,CAGF,CAFP,GAAU,EAAQ,GAAG,CAAZ,GAAkB,EAAA,CAAE,CAC7B,OAAO,MAAM,CAAC,IAGtB,CAEA,SAAS,IACP,EAAS,KAET,EAAO,cAAc,CAAC,UAAW,GACjC,EAAO,cAAc,CAAC,OAAQ,GAC9B,EAAO,cAAc,CAAC,MAAO,GAC7B,EAAO,cAAc,CAAC,QAAS,GAC/B,EAAO,cAAc,CAAC,QAAS,EACjC,CA/FA,EAAO,EAAE,CAAC,UAAW,GACrB,EAAO,EAAE,CAAC,QAAS,GACnB,EAAO,EAAE,CAAC,OAAQ,GAClB,EAAO,EAAE,CAAC,MAAO,GACjB,EAAO,EAAE,CAAC,QAAS,GAGnB,GAAO,CAyFT,gCCrRA,IAAI,EAAe,mKAAmK,AAClL,EAAc,qCAD2M,GACnK,AACtD,EAAe,gCAQf,EAAc,GAT+E,0BASlD,AAK3C,EAAe,WASf,EAAc,wBAdoE,qCA6LtF,SAAS,EAAa,CAAI,EACxB,IAAI,CAAC,UAAU,CAAG,OAAO,MAAM,CAAC,MAChC,IAAI,CAAC,IAAI,CAAG,CACd,CA3KA,EAAQ,MAAM,CAWd,EAXiB,OAWR,AAAQ,CAAG,EAClB,GAAI,CAAC,GAAsB,UAAf,AAAyB,OAAlB,EACjB,MAAM,AAAI,UAAU,4BAGtB,IAAI,EAAa,EAAI,UAAU,CAC3B,EAAO,EAAI,IAAI,CAEnB,GAAI,CAAC,GAAQ,CAAC,EAAY,IAAI,CAAC,GAC7B,IADoC,EAC9B,AAAI,UAAU,gBAGtB,IAAI,EAAS,EAGb,GAAI,GAAc,AAAsB,UAAU,OAAzB,EAIvB,IAAK,IAHD,EACA,EAAS,OAAO,IAAI,CAAC,GAAY,IAAI,GAEhC,EAAI,EAAG,EAAI,EAAO,MAAM,CAAE,IAAK,CAGtC,GAFA,EAAQ,CAAM,CAAC,EAAE,CAEb,CAAC,EAAa,IAAI,CAAC,GACrB,KAD6B,CACvB,AAAI,UAAU,0BAGtB,GAAU,KAAO,EAAQ,IAAM,AAgHrC,SAAS,AAAS,CAAG,EACnB,IAAI,EAAM,OAAO,GAGjB,GAAI,EAAa,IAAI,CAAC,GACpB,GAD0B,IACnB,EAGT,GAAI,EAAI,MAAM,CAAG,GAAK,CAAC,EAAY,IAAI,CAAC,GACtC,GAD4C,GACtC,AAAI,UAAU,2BAGtB,MAAO,IAAM,EAAI,OAAO,CAAC,EAAc,QAAU,GACnD,EA7H6C,CAAU,CAAC,EAAM,CAC1D,CAGF,OAAO,CACT,EAzCA,EAAQ,KAAK,CAmDb,EAnDgB,OAmDP,AAAO,CAAM,EACpB,GAAI,CAAC,EACH,MADW,AACL,AAAI,UAAU,+BAItB,IAqBM,EACA,EACA,EAvBF,EAA2B,UAAlB,OAAO,EAiEtB,AAhEM,SAgEmB,AAAhB,CAAmB,EAC1B,IAAI,EAUJ,GAR6B,YAAzB,AAAqC,OAA9B,EAAI,SAAS,CAEtB,EAAS,EAAI,SAAS,CAAC,gBACS,UAAvB,AAAiC,OAA1B,EAAI,OAAO,GAE3B,EAAS,EAAI,OAAO,EAAI,EAAI,OAAO,CAAC,eAAA,AAAe,EAG/B,UAAlB,AAA4B,OAArB,EACT,MAAM,AAAI,UAAU,8CAGtB,OAAO,CACT,EAhFqB,GACf,EAEJ,GAAsB,UAAlB,AAA4B,OAArB,EACT,MAAM,AAAI,UAAU,8CAGtB,IAAI,EAAQ,EAAO,OAAO,CAAC,KACvB,EAAiB,CAAC,IAAX,EACP,EAAO,KAAK,CAAC,EAAG,GAAO,IAAI,GAC3B,EAAO,IAAI,GAEf,GAAI,CAAC,EAAY,IAAI,CAAC,GACpB,IAD2B,EACrB,AAAI,UAAU,sBAGtB,IAAI,EAAM,IAAI,EAAY,EAAK,WAAW,IAG1C,GAAI,AAAU,CAAC,MAAG,CAOhB,IAFA,EAAa,SAAS,CAAG,EAEjB,EAAQ,EAAa,IAAI,CAAC,IAAU,CAC1C,GAAI,EAAM,KAAK,GAAK,EAClB,KADyB,CACf,AAAJ,UAAc,4BAGtB,GAAS,CAAK,CAAC,EAAE,CAAC,MAAM,CACxB,EAAM,CAAK,CAAC,EAAE,CAAC,WAAW,GAGE,KAAxB,AAA6B,CAFjC,EAAQ,CAAK,CAAC,AAEwB,EAFxB,AAAE,EAEN,CAAgC,SAAtB,CAAC,IAKS,CAAC,GAAG,CAA5B,CAHJ,EAAQ,EAAM,KAAK,CAAC,EAAG,CAAC,EAAA,EAGd,OAAO,CAAC,QAChB,EAAQ,EAAM,OAAO,CAAC,EAAa,KAAA,EAIvC,EAAI,UAAU,CAAC,EAAI,CAAG,CACxB,CAEA,GAAI,IAAU,EAAO,MAAM,CACzB,CAD2B,KACrB,AAAI,UAAU,2BAExB,CAEA,OAAO,CACT,oJCrKA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,SAAU,EAAK,EAC3B,AADiC,gCCJjC,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAWvB,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAG,CAAE,CAAK,EAClC,IAAM,EAAO,CAAC,WAAY,EAAI,CAO9B,OANI,IACA,EAAK,CADE,GACE,CAAC,EAAM,KAAK,CAAC,QAAQ,GAAI,EAAM,GAAG,CAAC,QAAQ,IAChD,EAAM,IAAI,EAAE,AACZ,EAAK,IAAI,CAAC,EAAM,IAAI,GAGrB,CACX,gCCbA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAQvB,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAU,EACvC,IAAM,EAAO,CAAC,cAAe,EAAI,CACjC,IAAK,IAAM,KAAa,EACpB,EAAK,IAAI,CAAC,EADsB,IACf,EAAU,QAAQ,CAAE,EAAU,MAAM,CAAC,QAAQ,IAElE,OAAO,CACX,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAqB1B,EAAQ,kBAAkB,CApB1B,EAoB6B,OApBpB,AAAmB,CAAG,CAAE,CAAU,EACvC,IAAM,EAAO,CAAC,WAAY,EAAI,CAC9B,IAAK,IAAM,KAAW,EAClB,OAAQ,EADsB,AACd,SAAS,EACrB,IAAK,MACD,EAAK,IAAI,CAAC,MAAO,EAAQ,QAAQ,CAAE,EAAQ,MAAM,CAAC,QAAQ,IAC1D,KACJ,KAAK,MACD,EAAK,IAAI,CAAC,MAAO,EAAQ,QAAQ,CAAE,EAAQ,MAAM,CAAC,QAAQ,GAAI,EAAQ,KAAK,CAAC,QAAQ,IACpF,KACJ,KAAK,SACD,EAAK,IAAI,CAAC,SAAU,EAAQ,QAAQ,CAAE,EAAQ,MAAM,CAAC,QAAQ,GAAI,EAAQ,SAAS,CAAC,QAAQ,IAC3F,KACJ,KAAK,WACD,EAAK,IAAI,CAAC,WAAY,EAAQ,QAAQ,CAE9C,CAEJ,OAAO,CACX,oCCmLI,EAgGA,EAiBA,EAoCA,EApJO,IAiHA,IAzTX,IAwMuB,KAxMd,EAAsB,CAAK,CAyTR,CAxTxB,OAAO,AAAU,KACrB,CAiBA,SAAS,EAA6B,CAAK,EACvC,OAAQ,EAAM,QAAQ,IAClB,IAAK,OACD,OAAO,GACX,KAAK,OACD,MAAO,CAAC,GACZ,SACI,OAAO,OAAO,EACtB,CACJ,CAEA,SAAS,EAAiC,CAAK,SAC7B,AAAd,MACI,CADA,EACO,KACJ,EAA6B,EACxC,CAMA,SAAS,EAAgC,CAAG,EACxC,OAAQ,GACJ,KAAK,IACD,MAAO,MACX,KAAK,CAAC,IACF,MAAO,MACX,SACI,OAAO,EAAI,QAAQ,EAC3B,CACJ,CAQA,SAAS,EAAqB,CAAK,EAC/B,IAAM,EAAU,OAAO,MAAM,CAAC,MAC9B,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,GAAK,EACnC,AADsC,CAC/B,CAAC,CAAK,CAAC,EAAE,CAAC,QAAQ,GAAG,CAAG,CAAK,CAAC,EAAI,EAAE,CAE/C,OAAO,CACX,CAEA,SAAS,EAA4B,CAAC,EAAI,EAAQ,EAC9C,MAAO,IACH,EACA,QAAS,EAAqB,EAClC,CACJ,CAEA,SAAS,EAAgC,CAAK,SAC1C,AAAc,MACV,CADA,EACO,KACJ,EAA4B,EACvC,CAEA,SAAS,EAA6B,CAAK,EACvC,OAAO,EAAM,GAAG,CAAC,EACrB,CAqBA,SAAS,EAA8B,CAAK,EACxC,MAAO,CACH,MAAO,CAAK,CAAC,EAAE,CACf,MAAO,EAA6B,CAAK,CAAC,EAAE,CAChD,CACJ,CA+BA,SAAS,EAAqB,CAAI,CAAE,CAAK,EAUrC,MATqB,UAAU,AAA3B,OAAO,EACP,EAAK,IAAI,CAAC,QAAS,EAAM,QAAQ,IAE5B,IACL,EAAK,CADO,GACH,CAAC,QAAS,EAAM,KAAK,CAAC,QAAQ,IACnC,EAAM,GAAG,EAAE,AACX,EAAK,IAAI,CAAC,QAGX,CACX,CAwBA,SAAS,EAAuB,CAAI,CAAE,CAAG,CAAE,CAAI,CAAE,CAAM,CAAE,CAAI,CAAE,CAAO,EAalE,OAZA,EAAK,IAAI,CAAC,GACU,UAAhB,AAA0B,OAAnB,EACP,EAAK,IAAI,CAAC,GAGV,EAAK,IAAI,CAAC,EAAK,SAAS,CAAC,QAAQ,GAAI,EAAK,QAAQ,CAAC,QAAQ,IAE/D,EAAK,IAAI,CAAC,EAAO,QAAQ,GAAI,GACzB,GAAS,MAAM,AACf,EAAK,IAAI,CAAC,EAAQ,IAAI,EAE1B,EAAqB,EAAM,GAAS,OAC7B,CACX,CA4FA,SAAS,EAAoB,CAAI,CAAE,CAAK,EAOpC,OANI,MAAM,OAAO,CAAC,GACd,EAAK,GADiB,CACb,CAAC,EAAM,MAAM,CAAC,QAAQ,MAAO,GAGtC,EAAK,IAAI,CAAC,IAAK,GAEZ,CACX,CAsGA,SAAS,EAAuB,CAAI,CAAE,CAAK,EACvC,EAAK,IAAI,CAAC,EAAM,KAAK,CAAC,QAAQ,GAAI,EAAM,GAAG,CAAC,QAAQ,GACxD,CAxYA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,mBAAmB,CAAG,EAAQ,uBAAuB,CAAG,EAAQ,iBAAiB,CAAG,EAAQ,8BAA8B,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,qBAAqB,CAAG,EAAQ,iBAAiB,CAAG,EAAQ,YAAY,CAAG,EAAQ,2BAA2B,CAAG,EAAQ,mBAAmB,CAAG,EAAQ,0BAA0B,CAAG,EAAQ,oBAAoB,CAAG,EAAQ,iBAAiB,CAAG,EAAQ,iBAAiB,CAAG,EAAQ,aAAa,CAAG,EAAQ,aAAa,CAAG,EAAQ,4BAA4B,CAAG,EAAQ,YAAY,CAAG,EAAQ,2BAA2B,CAAG,EAAQ,sBAAsB,CAAG,EAAQ,sBAAsB,CAAG,EAAQ,oBAAoB,CAAG,EAAQ,uBAAuB,CAAG,EAAQ,uBAAuB,CAAG,EAAQ,iCAAiC,CAAG,EAAQ,6BAA6B,CAAG,EAAQ,iCAAiC,CAAG,EAAQ,6BAA6B,CAAG,EAAQ,gCAAgC,CAAG,EAAQ,4BAA4B,CAAG,EAAQ,+BAA+B,CAAG,EAAQ,2BAA2B,CAAG,EAAQ,oBAAoB,CAAG,EAAQ,qCAAqC,CAAG,EAAQ,+BAA+B,CAAG,EAAQ,qCAAqC,CAAG,EAAQ,gCAAgC,CAAG,EAAQ,4BAA4B,CAAG,EAAQ,iBAAiB,CAAG,EAAQ,0BAA0B,CAAG,EAAQ,qBAAqB,CAAG,KAAK,EAIz5C,EAAQ,qBAAqB,CAAG,EAIhC,EAAQ,0BAA0B,CAHlC,EAGqC,OAHD,AAA3B,CAAgC,EACrC,OAAO,EAAM,GAAG,CAAC,EACrB,EAYA,EAAQ,iBAAiB,CAVzB,EAU4B,OAVnB,AAAkB,CAAI,CAAE,CAAM,CAAE,CAAO,EAQ5C,OAPA,EAAK,IAAI,CAAC,EAAO,QAAQ,IACrB,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,EAEhC,GAAS,OACT,AADgB,EACX,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEtC,CACX,EAYA,EAAQ,4BAA4B,CAAG,EAMvC,EAAQ,gCAAgC,CAAG,EAI3C,EAAQ,qCAAqC,CAH7C,EAGgD,OAHvC,AAAsC,CAAK,EAChD,OAAO,EAAM,GAAG,CAAC,EACrB,EAYA,EAAQ,+BAA+B,CAAG,EAM1C,EAAQ,qCAAqC,CAL7C,EAKgD,OALD,AAAtC,CAAyC,QAC9C,AAAmB,UAAf,AACA,OADO,EACA,EACJ,EAAgC,EAC3C,EASA,EAAQ,oBAAoB,CAAG,EAO/B,EAAQ,2BAA2B,CAAG,EAMtC,EAAQ,+BAA+B,CAAG,EAI1C,EAAQ,4BAA4B,CAAG,EAIvC,EAAQ,gCAAgC,CAHxC,EAG2C,OAHlC,AAAiC,CAAK,EAC3C,OAAO,EAAM,GAAG,CAAC,EACrB,EAUA,EAAQ,6BAA6B,CARrC,EAQwC,OAR/B,AAA8B,CAAK,SACxC,AAAc,MACV,CADA,EACO,KACJ,EAAM,GAAG,CAAC,CAAC,CAAC,EAAM,EAAY,GAAK,CAAC,MACvC,EACA,SAAU,EAA6B,GAC3C,CAAC,CACL,EAOA,EAAQ,iCAAiC,CALzC,EAK4C,OALD,AAAlC,CAAuC,SACvC,AAAL,EAAW,EAAP,IAAa,CAEV,CADH,CACiC,GAD1B,IAEf,EAQA,EAAQ,6BAA6B,CAAG,EAWxC,EAAQ,iCAAiC,CAVzC,EAU4C,OAVnC,AAAkC,CAAK,EAC5C,IAAM,EAAU,EAAE,CAClB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAM,MAAM,CAAE,GAAK,EAAG,AACtC,EAAQ,IAAI,CAAC,CACT,MAAO,CAAK,CAAC,EAAE,CACf,MAAO,EAA6B,CAAK,CAAC,EAAI,EAAE,CACpD,GAEJ,OAAO,CACX,EAUA,EAAQ,uBAAuB,CAR/B,EAQkC,OARzB,AAAwB,CAAI,CAAE,CAAI,CAAE,CAAI,CAAE,CAAO,EAMtD,OALA,EAAoB,EAAM,GAC1B,EAAK,IAAI,CAAC,GACN,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEtC,CACX,EAUA,EAAQ,uBAAuB,CAR/B,EAQkC,OARzB,AAAwB,CAAI,CAAE,CAAI,CAAE,CAAI,CAAE,CAAO,EAMtD,OALA,EAAoB,EAAM,GAC1B,EAAK,IAAI,CAAC,GACN,GAAS,OACT,AADgB,EACX,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEtC,CACX,EAcA,EAAQ,oBAAoB,CAAG,EAsB/B,EAAQ,sBAAsB,CArB9B,EAqBiC,OArBxB,AAAuB,CAAI,CAAE,CAAG,CAAE,CAAI,CAAE,CAAE,CAAE,CAAO,EAmBxD,OAlBA,EAAK,IAAI,CAAC,GACU,UAAhB,AAA0B,OAAnB,EACP,EAAK,IAAI,CAAC,aAAc,GAGxB,EAAK,IAAI,CAAC,aAAc,EAAK,SAAS,CAAC,QAAQ,GAAI,EAAK,QAAQ,CAAC,QAAQ,IAEzE,WAAY,EACZ,EAAK,AADW,IACP,CAAC,WAAY,EAAG,MAAM,CAAC,QAAQ,IAGxC,EAAK,IAAI,CAAC,QAAS,EAAG,KAAK,CAAC,QAAQ,GAAI,EAAG,MAAM,CAAC,QAAQ,IAE9D,EAAK,IAAI,CAAC,EAAG,IAAI,EACb,GAAS,MAAM,AACf,EAAK,IAAI,CAAC,EAAQ,IAAI,EAE1B,EAAqB,EAAM,GAAS,OAC7B,CACX,EAiBA,EAAQ,sBAAsB,CAAG,EAWjC,EAAQ,2BAA2B,CAVnC,EAUsC,OAVD,AAA5B,CAAgC,CAAE,CAAG,CAAE,CAAI,CAAE,CAAM,CAAE,CAAI,CAAE,CAAW,CAAE,CAAO,EAQpF,OAPA,EAAuB,EAAM,EAAK,EAAM,EAAQ,EAAM,GAClD,GAAS,UACT,CADoB,CACf,IAAI,CAAC,YAAa,GAGvB,EAAK,IAAI,CAAC,QAAS,GAEhB,CACX,EAII,GAGD,IAAiB,EAAQ,GAHZ,OAGG,EAAqB,CAAG,EAAe,EAAC,CAAC,EAH3C,QAAW,CAAG,WAC3B,EAAa,IAAO,CAAG,KAAX,MACZ,EAAa,UAAD,CAAe,CAAG,YA0BlC,EAAQ,4BAA4B,CAxBpC,EAwBuC,OAxB9B,AAA6B,CAAK,CAAE,CAAS,EAClD,IAAM,EAAe,IAAI,IAAI,GACzB,EAAQ,EACN,EAAgB,EAAa,GAAG,CAAC,EAAa,QAAQ,GAAK,EAAE,EAAO,EAAY,EAAa,GAAG,CAAC,EAAa,IAAI,GAAK,EAAE,EAAO,EAAmB,EAAa,GAAG,CAAC,EAAa,WAAW,GAAK,EAAE,EACzM,OAAO,EAAM,GAAG,CAAC,IACb,IAAM,EAAoB,CACtB,OAAQ,CAAM,CAAC,EAAE,AACrB,EAOA,GANI,IACA,EAAkB,QAAQ,CADX,AACc,CAAM,CAAC,EAAc,AAAd,EAEpC,IACA,EAAkB,IAAI,CADX,AACc,CAAM,CAAC,EAAA,AAAU,EAE1C,EAAkB,CAClB,GAAM,CAAC,EAAW,EAAS,CAAG,CAAM,CAAC,EAAiB,CACtD,EAAkB,WAAW,CAAG,WAC5B,WACA,CACJ,CACJ,CACA,OAAO,CACX,EACJ,EAKA,EAAQ,aAAa,CAHrB,EAGwB,OAHf,AAAc,CAAI,EACvB,MAAO,CAAiB,UAAhB,OAAO,EAAoB,EAAO,KAAK,KAAK,CAAC,EAAK,OAAO,GAAK,IAAA,CAAK,CAAE,QAAQ,EACzF,EAKA,EAAQ,aAAa,CAHrB,EAGwB,OAHf,AAAc,CAAI,EACvB,MAAO,CAAiB,UAAhB,OAAO,EAAoB,EAAO,EAAK,OAAO,EAAA,CAAE,CAAE,QAAQ,EACtE,EAKA,EAAQ,iBAAiB,CAHzB,EAG4B,OAHnB,AAAkB,CAAO,EAC9B,OAAO,GAAS,MAAM,CAAC,EAC3B,AAD6B,EAe7B,EAAQ,iBAAiB,CAZzB,EAY4B,OAZD,AAAlB,CAAsB,CAAE,CAAO,EAUpC,OATI,GAAS,KACT,CADe,CACV,IAAI,CAAC,EAAQ,IAAI,CAAC,MAAM,CAAC,QAAQ,MAAO,EAAQ,IAAI,EAGzD,EAAK,IAAI,CAAC,KAEV,GAAS,WAAW,AACpB,EAAK,IAAI,IAAI,EAAQ,SAAS,EAE3B,CACX,EAYA,EAAQ,oBAAoB,CAV5B,EAU+B,OAVD,AAArB,CAAyB,CAAE,CAAK,EAQrC,OAPI,MAAM,OAAO,CAAC,GAEd,EAAO,EAAK,CAFU,KAEJ,CAAC,GAGnB,EAAK,IAAI,CAAC,GAEP,CACX,EAaA,EAAQ,0BAA0B,CAXlC,EAWqC,OAX5B,AAA2B,CAAI,CAAE,CAAK,EAC3C,GAAI,MAAM,OAAO,CAAC,GACd,IAAK,CADiB,GACX,KAAQ,EACf,EAAK,EADiB,EACb,CAAC,EAAK,QAAQ,SAI3B,EAAK,IAAI,CAAC,EAAM,QAAQ,IAE5B,OAAO,CACX,EAWA,EAAQ,mBAAmB,CAAG,EAO9B,EAAQ,2BAA2B,CANnC,EAMsC,OAN7B,AAA4B,CAAI,CAAE,CAAI,CAAE,CAAK,SAClD,KAAc,IAAV,EACO,GACX,EAAK,AADD,IACK,CAAC,GACH,EAAoB,EAAM,GACrC,EAII,CADO,EAeR,GAAiB,GAAQ,GAdZ,CADO,MAeJ,EAAqB,CAAG,EAAe,EAAC,CAAC,EAd3C,KAAQ,CAAG,QACxB,EAAa,QAAW,CAAG,CAAf,UACZ,EAAa,OAAU,CAAG,EAAd,QACZ,EAAa,KAAQ,CAAG,IAAZ,IACZ,EAAa,MAAS,CAAG,GAAb,MACZ,EAAa,QAAW,CAAG,CAAf,UACZ,EAAa,MAAS,CAAG,GAAb,MACZ,EAAa,UAAD,KAAmB,CAAG,kBAClC,EAAa,OAAU,CAAG,EAAd,QACZ,EAAa,KAAQ,CAAG,IAAZ,IACZ,EAAa,UAAD,EAAgB,CAAG,eAC/B,EAAa,MAAS,CAAG,GAAb,MACZ,EAAa,IAAO,CAAG,KAAX,EACZ,EAAa,UAAD,CAAe,CAAG,cAI9B,CAJ6C,EAyB9C,IAAsB,EAAQ,QArBZ,OAqBG,EAA0B,CAAG,EAAoB,EAAC,CAAC,EArBrD,QAAW,CAAG,YAChC,EAAkB,IAAO,CAAG,QAC5B,EADiB,AACC,EANoG,GAM5F,CAAG,SAAZ,AACjB,EAAkB,GAAM,CAAG,OAC3B,EAAkB,EADD,OACa,CAAG,KAAhB,QACjB,EAAkB,IAAO,CAAG,QAC5B,EADiB,AACC,IAAO,CAAG,QAC5B,EAAkB,AADD,MACU,CAAG,QAAb,EACjB,EAAkB,MAAS,CAAG,QAAb,EACjB,EAAkB,WAAc,CAAG,GAAlB,YACjB,EAAkB,GAAM,CAAG,OAC3B,EAAkB,EADD,IACU,CAAG,QAAb,EACjB,EAAkB,MAAS,CAAG,QAAb,EACjB,EAAkB,KAAQ,CAAG,SAAZ,AACjB,EAAkB,IAAO,CAAG,QAC5B,EAAkB,AADD,IACQ,CAAG,QAC5B,EADiB,AACC,QAAW,CAAG,MAAf,MACjB,EAAkB,SAAY,CAAG,KAAhB,QACjB,EAAkB,UAAa,CAAG,IAAjB,UACjB,EAAkB,WAAc,CAAG,GAAlB,YACjB,EAAkB,SAAY,CAAG,KAAhB,QAarB,EAAQ,qBAAqB,CAX7B,EAWgC,OAXvB,AAAsB,CAAC,EAAM,EAAO,EAAO,EAAe,EAAc,EAAM,EAAW,EAC9F,MAAO,MACH,QACA,EACA,MAAO,IAAI,IAAI,iBACf,eACA,OACA,EACA,WAAY,IAAI,IAAI,EACxB,CACJ,EAII,CADO,EAKR,IAAuB,EAAQ,SAJZ,CADO,MAKJ,EAA2B,CAAG,EAAqB,EAAC,CAAC,EAJvD,SAAY,CAAG,YAClC,EAAmB,SAAY,CAAG,MAAhB,MAClB,EAAmB,WAAc,CAAG,IAAlB,UAClB,EAAmB,UAAa,CAAG,KAAjB,QAatB,EAAQ,8BAA8B,CAXtC,EAWyC,OAXhC,AAA+B,CAAK,EACzC,MAAO,CACH,YAAa,CAAK,CAAC,EAAE,CACrB,OAAQ,CAAK,CAAC,EAAE,CAChB,UAAW,CAAK,CAAC,EAAE,CAAC,GAAG,CAAC,IAAO,CAC3B,AAD0B,KACpB,CAAE,CAAC,EAAE,CACX,YAAa,CAAE,CAAC,EAAE,CAClB,MAAO,CAAE,CAAC,EAAE,CAChB,CAAC,CACL,CACJ,EAsBA,EAAQ,iBAAiB,CApBzB,EAoB4B,OApBnB,AAAkB,CAAI,CAAE,CAAO,EAOpC,GANI,GAAS,IAAI,AACb,EAAK,IAAI,CAAC,KAAM,EAAQ,EAAE,EAE1B,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAI,EAAQ,KAAK,CAAC,KAAK,CAAC,QAAQ,IAEhF,GAAS,IACT,CADc,GACT,IAAM,IAAmC,UAAvB,OAAO,EAAQ,GAAG,CAAgB,CAAC,EAAQ,GAAG,CAAC,CAAG,EAAQ,GAAG,CAAG,AACnF,EAAK,IAAI,CAAC,MAAO,GASzB,OANI,GAAS,WAAW,AACpB,EAAK,IAAI,CAAC,EAAQ,SAAS,EAE3B,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,SAEP,CACX,EAgBA,EAAQ,uBAAuB,CAX/B,EAWkC,OAXzB,AAAwB,CAAI,CAAE,CAAM,EACzC,GAAI,MAAM,OAAO,CAAC,GACd,IAAK,EADkB,EACZ,KAAS,EAChB,EAAuB,EAAM,CADL,OAK5B,EAAuB,EAAM,GAEjC,OAAO,CACX,EAQA,EAAQ,mBAAmB,CAN3B,EAM8B,OANrB,AAAoB,CAAC,EAAO,EAAI,EACrC,MAAO,OACH,MACA,CACJ,CACJ,gCC1ZA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAS,CAAE,CAAO,CAAE,CAAG,EAC/C,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAS,EAAW,EAAQ,CAAE,EAC3F,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAcvB,EAAQ,kBAAkB,CAb1B,EAa6B,OAbpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAK,CAAE,CAAG,CAAE,CAAI,EAClD,IAAM,EAAO,CAAC,SAAU,EAAK,EAAI,QAAQ,GAAG,CAU5C,MATqB,UAAjB,AAA2B,OAApB,GACP,EAAK,IAAI,CAAC,EAAM,QAAQ,IAET,UAAf,AAAyB,OAAlB,GACP,EAAK,IAAI,CAAC,EAAI,QAAQ,IAEtB,GACA,EAAK,CADC,GACG,CAAC,GAEP,CACX,gCChBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAW1B,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAM,CAAE,CAAW,CAAE,CAAe,CAAE,CAAoB,CAAE,CAAO,EAC3F,MAAO,CACH,SACA,EACA,EACA,EACA,EACA,EAAQ,QAAQ,GAExB,AADK,gCCXL,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAuB,CAAE,CAAI,CAAE,CAAO,EAC3C,MAAO,CAAC,EAAG,EAAuB,uBAAA,AAAuB,EAAE,CAAC,QAAQ,CAAE,EAAM,EAAM,EACtF,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAO,CAAE,CAAI,CAAE,CAAI,CAAE,CAAO,EACpD,MAAO,CAAC,EAAG,EAAuB,uBAAA,AAAuB,EAAE,CAAC,SAAU,EAAQ,QAAQ,GAAG,CAAE,EAAM,EAAM,EAC3G,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAQ,cAAc,AAAE,CAAE,iCCTzH,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAM1B,EAAQ,kBAAkB,CAL1B,EAK6B,OALpB,AAAmB,CAAI,CAAE,CAAO,EACrC,IAAM,EAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAQ,CAAE,GAEzE,OADA,EAAK,IAAI,CAAC,EAAQ,QAAQ,IACnB,CACX,EAUA,EAAQ,cAAc,CARtB,EAQyB,OARhB,AAAe,CAAK,SACX,AAAd,MACI,CADA,EACO,KACJ,CACH,IAAK,CAAK,CAAC,EAAE,CACb,QAAS,CAAK,CAAC,EAAE,AACrB,CACJ,gCCjBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAM1B,EAAQ,kBAAkB,CAL1B,EAK6B,OALpB,AAAmB,CAAG,CAAE,CAAO,EACpC,IAAM,EAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAQ,CAAE,GAEzE,OADA,EAAK,IAAI,CAAC,EAAQ,QAAQ,IACnB,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAQ,cAAc,AAAE,CAAE,iCCXzH,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAM,CAAE,CAAW,CAAE,CAAO,EACpD,MAAO,CAAC,aAAc,EAAQ,EAAa,EAAQ,QAAQ,GAAG,AAClE,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,CAAE,CAAI,CAAE,CAAO,EAC3C,MAAO,CAAC,EAAG,EAAuB,uBAAA,AAAuB,EAAE,CAAC,QAAQ,CAAE,EAAM,EAAM,EACtF,EAQA,EAAQ,cAAc,CANtB,EAMyB,OAND,AAAf,CAAoB,EACzB,OAAiB,OAAV,EAAiB,KAAO,CAC3B,IAAK,CAAK,CAAC,EAAE,CACb,SAAU,CAAK,CAAC,EAAE,CAAC,GAAG,CAAC,EAAuB,6BAA6B,CAC/E,CACJ,gCCbA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAO,CAAE,CAAI,CAAE,CAAI,CAAE,CAAO,EACpD,MAAO,CAAC,EAAG,EAAuB,uBAAA,AAAuB,EAAE,CAAC,SAAU,EAAQ,QAAQ,GAAG,CAAE,EAAM,EAAM,EAC3G,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAQ,cAAc,AAAE,CAAE,iCCTzH,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAM1B,EAAQ,kBAAkB,CAL1B,EAK6B,OALpB,AAAmB,CAAG,CAAE,CAAO,EACpC,IAAM,EAAO,CAAC,EAAG,EAAuB,oBAAoB,AAApB,EAAsB,CAAC,WAAW,CAAE,GAE5E,OADA,EAAK,IAAI,CAAC,EAAQ,QAAQ,IACnB,CACX,EAWA,EAAQ,cAAc,CATtB,EASyB,OAThB,AAAe,CAAK,SACzB,AAAK,EAEE,CACH,CAHA,GACA,AAEK,CAAK,CAAC,EAAE,CACb,MAAO,CAAK,CAAC,EAAE,CACf,MAAO,CAAC,EAAG,EAAuB,4BAAA,AAA4B,EAAE,CAAK,CAAC,EAAE,CAC5E,EALW,IAMf,gCClBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAM1B,EAAQ,kBAAkB,CAL1B,EAK6B,OALpB,AAAmB,CAAG,CAAE,CAAO,EACpC,IAAM,EAAO,CAAC,EAAG,EAAuB,oBAAoB,AAApB,EAAsB,CAAC,WAAW,CAAE,GAE5E,OADA,EAAK,IAAI,CAAC,EAAQ,QAAQ,IACnB,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAW,cAAc,AAAE,CAAE,iCCX5H,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAW1B,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAM,CAAE,CAAW,CAAE,CAAO,EACpD,IAAM,EAAO,CAAC,OAAQ,EAAQ,EAAY,CAO1C,OANI,GAAS,eAAe,AACxB,EAAK,IAAI,CAAC,KAAM,EAAQ,aAAa,CAAC,QAAQ,IAE9C,GAAS,SACT,AADkB,EACb,IAAI,CAAC,WAEP,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAuB,AAAF,CAAI,iCCf/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EAAI,AACxB,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAS,EACtC,MAAO,CAAC,SAAU,EAAK,EAAU,QAAQ,GAAG,AAChD,+BCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAuB,EAC5B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,MAAM,CAAE,EACrE,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EACpB,AADwB,+BCJxB,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAAuB,iBAAiB,CAClE,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAM,CAAE,CAAO,EACvC,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,UAAW,EAAO,CAAE,EAC9E,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAAuB,iBAAiB,CAIlE,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAM,CAAE,CAAO,EACvC,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,OAAQ,EAAO,CAAE,EAC3E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAAuB,iBAAiB,CAClE,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,CAAE,CAAO,EACrC,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,aAAc,EAAK,CAAE,EAC/E,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAAuB,iBAAiB,CAIlE,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,CAAE,CAAO,EACrC,MAAO,AAAC,GAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,UAAW,EAAK,CAAE,EAC5E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,EAC5B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,SAAS,CAAE,EACxE,+BCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAQ1B,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAO,CAAE,CAAI,EAC1C,IAAM,EAAO,CAAC,SAAU,EAAK,EAAQ,QAAQ,GAAG,CAIhD,OAHI,GACA,EAAK,CADC,GACG,CAAC,GAEP,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCZ/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAY1B,EAAQ,kBAAkB,CAX1B,EAW6B,OAXpB,AAAmB,CAAG,CAAE,CAAS,CAAE,CAAI,EAC5C,IAAM,EAAO,CACT,WACA,EACA,CAAC,EAAG,EAAuB,aAAa,AAAb,EAAe,GAC7C,CAID,OAHI,GACA,EAAK,CADC,GACG,CAAC,GAEP,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCjB/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,aAAc,EAAI,AAC9B,+BCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAAuB,iBAAiB,CAClE,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAE,CAAE,CAAO,EACnC,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,WAAY,EAAG,CAAE,EAC3E,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAAuB,iBAAiB,CAIlE,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAE,CAAE,CAAO,EACnC,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,QAAS,EAAG,CAAE,EACxE,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAiB1B,EAAQ,kBAAkB,CAhB1B,EAgB6B,OAhBpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAO,EAC3C,IAAM,EAAO,CAAC,SAAU,EAAI,CAU5B,IAAK,GAAM,WAAE,CAAS,CAAE,UAAQ,CAAE,QAAM,CAAE,GATtC,GAAS,GACT,CADa,CACR,IAAI,CAAC,MAEL,GAAS,IAAI,AAClB,EAAK,IAAI,CAAC,MAEV,GAAS,IAAI,AACb,EAAK,IAAI,CAAC,MAEiC,MAAM,OAAO,CAAC,GAAS,EAAQ,CAAC,EAAM,CAAG,CACpF,EAAK,IAAI,CAAC,EAAU,QAAQ,GAAI,EAAS,QAAQ,GAAI,GAEzD,OAAO,CACX,gCClBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAQvB,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAO,CAAE,CAAO,CAAE,CAAI,EACnD,IAAM,EAAO,CAAC,UAAW,EAAK,EAAS,EAAQ,CAI/C,OAHI,GACA,EAAK,CADC,GACG,CAAC,GAEP,CACX,EAKA,EAAQ,cAAc,CAHtB,EAGyB,OAHhB,AAAe,CAAK,EACzB,OAAiB,OAAV,EAAiB,KAAO,OAAO,EAC1C,gCCdA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,UAAW,EAAI,CAAE,EAC9E,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,SAAU,EAAI,CAAE,EAC7E,EAQA,EAAQ,cAAc,CANtB,EAMyB,OANhB,AAAe,CAAK,EACzB,OAAO,EAAM,GAAG,CAAC,GAAe,AAAgB,SAAO,KAAO,CAC1D,UAAW,CAAW,CAAC,EAAE,CACzB,SAAU,CAAW,CAAC,EAAE,AAC5B,EACJ,gCCdA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAW,CAAE,CAAM,CAAE,CAAI,CAAE,CAAO,EAC/D,MAAO,CAAC,EAAG,EAAuB,sBAAsB,AAAtB,EAAwB,CAAC,eAAe,CAAE,EAAK,EAAa,EAAQ,EAAM,EAChH,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAe,eAAe,AAAE,CAAE,GAClI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAe,YAAY,AAAE,CAAE,GAO5H,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAW,CAAE,CAAM,CAAE,CAAI,CAAE,CAAS,CAAE,CAAO,EAC1E,IAAM,EAAO,CAAC,EAAG,EAAe,kBAAA,AAAkB,EAAE,EAAK,EAAa,EAAQ,EAAM,GAGpF,OAFA,EAAK,IAAI,IAAI,GACb,EAAK,QAAQ,CAAG,EACT,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCdtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAW,CAAE,CAAM,CAAE,CAAI,CAAE,CAAO,EAC/D,MAAO,CAAC,EAAG,EAAuB,sBAAA,AAAsB,EAAE,CAAC,YAAY,CAAE,EAAK,EAAa,EAAQ,EAAM,EAC7G,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAY,eAAe,AAAE,CAAE,GAC/H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAY,YAAY,AAAE,CAAE,GAOzH,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAW,CAAE,CAAM,CAAE,CAAI,CAAE,CAAS,CAAE,CAAO,EAC1E,IAAM,EAAO,CAAC,EAAG,EAAY,kBAAkB,AAAlB,EAAoB,EAAK,EAAa,EAAQ,EAAM,GAGjF,OAFA,EAAK,IAAI,IAAI,GACb,EAAK,QAAQ,CAAG,EACT,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAuB,4BAA8B,AAAF,CAAI,iCCdtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAM,CAAE,CAAI,CAAE,CAAO,EAC1D,MAAO,CAAC,EAAG,EAAuB,sBAAA,AAAsB,EAAE,CAAC,uBAAuB,CAAE,EAAK,EAAQ,EAAQ,EAAM,EACnH,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,eAAe,AAAE,CAAE,GAC1I,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,YAAc,AAAF,CAAI,GAOpI,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAM,CAAE,CAAI,CAAE,CAAS,CAAE,CAAO,EACrE,IAAM,EAAO,CAAC,EAAG,EAAuB,kBAAA,AAAkB,EAAE,EAAK,EAAQ,EAAQ,EAAM,GAGvF,OAFA,EAAK,IAAI,IAAI,GACb,EAAK,QAAQ,CAAG,EACT,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCdtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAM,CAAE,CAAI,CAAE,CAAO,EAC1D,MAAO,CAAC,EAAG,EAAuB,sBAAA,AAAsB,EAAE,CAAC,oBAAoB,CAAE,EAAK,EAAQ,EAAQ,EAAM,EAChH,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAoB,eAAe,AAAE,CAAE,GACvI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAoB,YAAY,AAAE,CAAE,GAOjI,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAM,CAAE,CAAI,CAAE,CAAS,CAAE,CAAO,EACrE,IAAM,EAAO,CAAC,EAAG,EAAoB,kBAAA,AAAkB,EAAE,EAAK,EAAQ,EAAQ,EAAM,GAGpF,OAFA,EAAK,IAAI,IAAI,GACb,EAAK,QAAQ,CAAG,EACT,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCdtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAoB,eAAe,AAAE,CAAE,GACvI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAoB,YAAY,AAAE,CAAE,GAIjI,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAM,CAAE,CAAI,CAAE,CAAW,CAAE,CAAO,EACvE,MAAO,CAAC,EAAG,EAAuB,2BAAA,AAA2B,EAAE,CAAC,oBAAoB,CAAE,EAAK,EAAQ,EAAQ,EAAM,EAAa,EAClI,gCCRA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAY,eAAe,AAAE,CAAE,GAC/H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAY,YAAY,AAAE,CAAE,GAIzH,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAW,CAAE,CAAM,CAAE,CAAI,CAAE,CAAW,CAAE,CAAO,EAC5E,MAAO,CAAC,EAAG,EAAuB,2BAAA,AAA2B,EAAE,CAAC,YAAY,CAAE,EAAK,EAAa,EAAQ,EAAM,EAAa,EAC/H,gCCRA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,CAAE,CAAI,CAAE,CAAE,CAAE,CAAO,EAC9C,MAAO,AAAC,GAAG,EAAuB,sBAAA,AAAsB,EAAE,CAAC,YAAY,CAAE,EAAK,EAAM,EAAI,EAC5F,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAY,eAAe,AAAE,CAAE,GAC/H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAY,YAAY,AAAE,CAAE,GAOzH,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAI,CAAE,CAAE,CAAE,CAAS,CAAE,CAAO,EACzD,IAAM,EAAO,CAAC,EAAG,EAAY,kBAAA,AAAkB,EAAE,EAAK,EAAM,EAAI,GAGhE,OAFA,EAAK,IAAI,IAAI,GACb,EAAK,QAAQ,CAAG,EACT,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCdtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAY,eAAe,AAAE,CAAE,GAC/H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAY,YAAY,AAAE,CAAE,GAQzH,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAW,CAAE,CAAM,CAAE,CAAI,CAAE,CAAE,CAAE,CAAO,EAC9D,IAAM,EAAO,CAAC,EAAG,EAAuB,sBAAA,AAAsB,EAAE,CAAC,iBAAkB,EAAY,CAAE,EAAQ,EAAM,EAAI,GAInH,OAHI,GAAS,WACT,AADoB,EACf,IAAI,CAAC,aAEP,CACX,EAQA,EAAQ,cAAc,CANtB,EAMyB,OAND,AAAf,CAAoB,EACzB,GAAqB,UAAjB,AAA2B,OAApB,EACP,MAAM,AAAI,UAAU,CAAC,0CAA0C,CAAC,EAEpE,OAAO,CACX,gCCnBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,MAAO,EAAI,AACvB,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,SAAU,EAAK,EAAO,QAAQ,GAAG,AAC7C,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,EAC3B,MAAO,CAAC,SAAU,EAAI,AAC1B,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAoB1B,EAAQ,kBAAkB,CAnB1B,EAmB6B,OAnBpB,AAAmB,CAAG,CAAE,CAAI,EACjC,IAAM,EAAO,CAAC,QAAS,EAAI,CAgB3B,MAfI,OAAQ,EACR,EAAK,EADS,EACL,CAAC,KAAM,EAAK,EAAE,CAAC,QAAQ,IAE3B,OAAQ,EACb,EAAK,EADc,EACV,CAAC,KAAM,EAAK,EAAE,CAAC,QAAQ,IAE3B,SAAU,EACf,EAAK,EADgB,EACZ,CAAC,OAAQ,CAAC,EAAG,EAAuB,aAAA,AAAa,EAAE,EAAK,IAAI,GAEhE,SAAU,EACf,EAAK,EADgB,EACZ,CAAC,OAAQ,CAAC,EAAG,EAAuB,aAAA,AAAa,EAAE,EAAK,IAAI,GAGrE,EAAK,IAAI,CAAC,WAEP,CACX,gCCtBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAG,EACvC,MAAO,CAAC,WAAY,EAAK,EAAM,QAAQ,GAAI,EAAI,QAAQ,GAAG,AAC9D,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,CAAE,CAAK,EAClC,MAAO,CAAC,SAAU,EAAK,EAAM,AACjC,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,OAAQ,EAAI,CAAE,EAC3E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,UAAW,EAAK,EAC5B,AADkC,EAGlC,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,gCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,EAAQ,eAAe,CAAG,KAAK,EACtF,IAAM,EAAA,EAAA,CAAA,CAAA,OAKN,EAAQ,eAAe,CAAG,CAGtB,iBAAkB,CAAC,EAGnB,kBAAmB,EAGnB,QAAS,EAGT,QAAS,CACb,EACA,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAO,CAAE,CAAI,EAClD,IAAM,EAAO,CAAC,UAAW,EAAK,EAAQ,QAAQ,GAAG,CAKjD,OAJI,GACA,EAAK,CADC,GACG,CAAC,GAEd,EAAK,IAAI,CAAC,UACH,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,EAAM,EACjE,gCC7BA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAa1B,EAAQ,kBAAkB,CAZ1B,EAY6B,OAZpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAS,CAAE,CAAI,EACpD,IAAM,EAAO,CACT,YACA,EACA,CAAC,EAAG,EAAuB,aAAA,AAAa,EAAE,GAC7C,CAKD,OAJI,GACA,EAAK,CADC,GACG,CAAC,GAEd,EAAK,IAAI,CAAC,UACH,CAAC,EAAG,EAAuB,mBAAmB,AAAnB,EAAqB,EAAM,EACjE,gCCfA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,EAAQ,oBAAoB,CAAG,KAAK,EAClH,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,oBAAoB,CAAG,CAG3B,iBAAkB,CAAC,EAGnB,cAAe,CAAC,CACpB,EACA,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,cAAe,EAAK,SAAS,CAAE,EAC3F,gCCfA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,OAAQ,EAAK,EAAM,AAC/B,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,sBAAsB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC7I,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EACvB,EAAQ,sBAAsB,EAAG,EAIjC,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,UAAW,EAAI,AAC3B,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,oBAAsB,AAAF,CAAI,iCCV9I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAS,EAC7C,MAAO,CAAC,UAAW,EAAK,EAAO,EAAU,QAAQ,GAAG,AACxD,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAS,EAC7C,MAAO,CAAC,eAAgB,EAAK,EAAO,EAAU,QAAQ,GAAG,AAC7D,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,QAAS,EAAI,AACzB,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EAAI,AACxB,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAS,EAAI,CAAE,EAC5E,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,WAAY,EAAK,SAAS,CAAE,EACxF,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAE,CAAE,CAAI,EAC7C,IAAM,EAAO,CAAC,WAAY,EAAK,EAAG,QAAQ,GAAG,CAK7C,OAJI,GACA,EAAK,CADC,GACG,CAAC,GAEd,EAAK,IAAI,CAAC,UACH,CAAC,EAAG,EAAuB,mBAAmB,AAAnB,EAAqB,EAAM,EACjE,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EASvB,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAS,CAAE,CAAI,EACpD,IAAM,EAAO,CAAC,aAAc,EAAK,CAAC,EAAG,EAAuB,aAAA,AAAa,EAAE,GAAW,CAKtF,OAJI,GACA,EAAK,CADC,GACG,CAAC,GAEd,EAAK,IAAI,CAAC,UACH,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,EAAM,EACjE,gCCZA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,eAAgB,EAAK,SAAS,CAAE,EAC5F,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,QAAS,EAAK,SAAS,CAAE,EACrF,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,aAAc,EAAI,AAC9B,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAa,eAAe,AAAE,CAAE,GAChI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAa,YAAc,AAAF,CAAI,GAO1H,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,IACA,CAAC,EAAG,EAAa,kBAAA,AAAkB,EAAE,GACxC,EAAM,QAAQ,GACjB,AACL,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAmB,eAAe,AAAE,CAAE,GACtI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAmB,YAAc,AAAF,CAAI,GAOhI,EAAQ,kBAAkB,CAN1B,EAM6B,OAND,AAAnB,CAAsB,CAAE,CAAK,EAClC,MAAO,IACA,CAAC,EAAG,EAAmB,kBAAA,AAAkB,EAAE,EAAK,GACnD,aACH,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,oBAAoB,AAAE,CAAE,iCCd9I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAOvB,EAAQ,kBAAkB,CAN1B,EAM6B,OAND,AAAnB,CAAsB,CAAE,CAAM,CAAE,CAAO,EAC5C,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CACjD,QACA,EACH,CAAE,EAAQ,EACf,EAeA,EAAQ,cAAc,CAbtB,EAayB,OAbhB,AAAe,CAAC,EAAQ,EAAU,EACvC,IAAM,EAAe,EAAE,CACvB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAU,MAAM,CAAE,GAAK,EAAG,AAC1C,EAAa,IAAI,CAAC,CACd,MAAO,CAAS,CAAC,EAAE,CACnB,MAAO,CAAS,CAAC,EAAI,EAAE,AAC3B,GAEJ,MAAO,CACH,OAAQ,OAAO,GACf,OAAQ,CACZ,CACJ,gCCxBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAQ,eAAiB,AAAF,CAAI,GAC3H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAQ,YAAY,AAAE,CAAE,GAMrH,EAAQ,kBAAkB,CAL1B,EAK6B,OALpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAO,EAC5C,IAAM,EAAO,CAAC,EAAG,EAAQ,kBAAA,AAAkB,EAAE,EAAK,EAAQ,GAE1D,OADA,EAAK,IAAI,CAAC,YACH,CACX,EAQA,EAAQ,cAAc,CANtB,EAMyB,OANhB,AAAe,CAAC,EAAQ,EAAQ,EACrC,MAAO,CACH,OAAQ,OAAO,GACf,KAAM,CACV,CACJ,gCCsBA,SAAS,EAAa,CAAK,EACvB,MAAwB,UAAjB,OAAO,EACV,EAAM,QAAQ,GACd,CACR,CA3CA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAiB1B,EAAQ,kBAAkB,CAhB1B,EAgB6B,OAhBpB,AAAmB,GAAG,CAAC,EAAK,EAAO,EAAW,EACnD,IAAM,EAAO,CAAC,OAAQ,EAAI,CAa1B,MAZqB,UAAjB,OAAO,GAAuC,UAAjB,OAAO,GAAsB,OAAO,QAAQ,CAAC,GAC1E,EAAK,GAD6E,CACzE,CAAC,EAAa,GAAQ,EAAa,IAEvC,aAAiB,IACtB,AAWR,CAZmC,QAY1B,AAAQ,CAAI,CAAE,CAAG,EACtB,IAAK,GAAM,CAAC,EAAK,EAAM,GAAI,EAAI,OAAO,GAAI,AACtC,EAAK,IAAI,CAAC,EAAa,GAAM,EAAa,GAElD,EAfgB,EAAM,GAET,MAAM,OAAO,CAAC,GACnB,AAaR,KAdmC,IAc1B,EAAW,CAAI,CAAE,CAAM,EAC5B,IAAK,IAAM,KAAS,EAAQ,CACxB,GAAI,MAAM,OAAO,CAAC,GAAQ,CACtB,EAAW,EAAM,GACjB,QACJ,CACA,EAAK,IAAI,CAAC,EAAa,GAC3B,CACJ,EArBmB,EAAM,GAsBzB,AAnBQ,SAmBC,AAAW,CAAI,CAAE,CAAM,EAC5B,IAAK,IAAM,KAAO,OAAO,IAAI,CAAC,GAC1B,EAAK,GAD8B,CAC1B,CAAC,EAAa,GAAM,EAAa,CAAM,CAAC,EAAI,EAE7D,EAvBmB,EAAM,GAEd,CACX,gCClBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAK,EACzC,MAAO,CAAC,SAAU,EAAK,EAAO,EAAM,AACxC,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,UAAW,EAAK,EAAM,AAClC,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,OAAQ,EAAK,SAAS,CAAE,EACpF,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,QAAS,EAAI,AACzB,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EAAI,AACxB,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAS,EACtC,MAAO,CAAC,SAAU,EAAK,EAAU,QAAQ,GAAG,AAChD,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAS,EACtC,MAAO,CAAC,cAAe,EAAK,EAAU,QAAQ,GAAG,AACrD,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAQvB,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAI,CAAE,CAAI,EAClC,MAAO,CACH,MACA,EACA,EACH,AACL,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAM,eAAiB,AAAF,CAAI,GACzH,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAM,YAAY,AAAE,CAAE,GAMnH,EAAQ,kBAAkB,CAL1B,EAK6B,OALD,AAAnB,CAAuB,CAAE,CAAI,EAClC,IAAM,EAAO,CAAC,EAAG,EAAM,kBAAA,AAAkB,EAAE,EAAM,GAEjD,OADA,EAAK,IAAI,CAAC,MAAO,gBACV,CACX,EAYA,EAAQ,cAAc,CAVtB,EAUyB,OAVhB,AAAe,CAAK,EACzB,MAAO,CACH,QAAS,CAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAM,EAAM,EAAO,GAAK,CAAC,CAC7C,KAAM,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,GACtD,KAAM,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,UACtD,EACJ,CAAC,EACD,OAAQ,CAAK,CAAC,EAAE,AACpB,CACJ,gCCtBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAM,eAAiB,AAAF,CAAI,GACzH,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAM,YAAY,AAAE,CAAE,GAMnH,EAAQ,kBAAkB,CAL1B,EAK6B,OALpB,AAAmB,CAAI,CAAE,CAAI,EAClC,IAAM,EAAO,CAAC,EAAG,EAAM,kBAAkB,AAAlB,EAAoB,EAAM,GAEjD,OADA,EAAK,IAAI,CAAC,OACH,CACX,EAWA,EAAQ,cAAc,CATtB,EASyB,OAThB,AAAe,CAAK,EACzB,MAAO,CACH,QAAS,CAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAM,EAAK,GAAK,CAAC,CACrC,KAAM,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,GACtD,KAAM,AAAC,GAAG,EAAuB,mBAAA,AAAmB,EAAE,EAC1D,CAAC,GACD,OAAQ,CAAK,CAAC,EAAE,AACpB,CACJ,gCCrBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAM,eAAe,AAAE,CAAE,GACzH,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAM,YAAc,AAAF,CAAI,GAMnH,EAAQ,kBAAkB,CAL1B,EAK6B,OALD,AAAnB,CAAuB,CAAE,CAAI,EAClC,IAAM,EAAO,CAAC,EAAG,EAAM,kBAAA,AAAkB,EAAE,EAAM,GAEjD,OADA,EAAK,IAAI,CAAC,OACH,CACX,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,SAAU,EAAK,EAAM,QAAQ,GAAG,AAC5C,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAU1B,EAAQ,kBAAkB,CAT1B,EAS6B,OATpB,AAAmB,CAAG,CAAE,CAAQ,CAAE,CAAK,CAAE,CAAO,EACrD,MAAO,CACH,UACA,EACA,EACA,EACA,EAER,AADK,+BCVL,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EAAI,AACxB,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAU1B,EAAQ,kBAAkB,CAT1B,EAS6B,OATpB,AAAmB,CAAM,CAAE,CAAW,CAAE,CAAU,CAAE,CAAe,EACxE,MAAO,CACH,QACA,EACA,EACA,EACA,EACH,AACL,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,OAAQ,EAAK,EAAM,QAAQ,GAAG,AAC1C,+BCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EACpB,AADwB,gCCJxB,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAWvB,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAG,CAAE,CAAO,CAAE,CAAO,EAC7C,IAAM,EAAO,CAAC,OAAQ,EAAK,EAAQ,CAOnC,MAN6B,UAAzB,AAAmC,OAA5B,GAAS,MAChB,EAAK,IAAI,CAAC,OAAQ,EAAQ,IAAI,CAAC,QAAQ,IAEZ,UAA3B,AAAqC,OAA9B,GAAS,QAChB,EAAK,IAAI,CAAC,SAAU,EAAQ,MAAM,CAAC,QAAQ,IAExC,CACX,gCCbA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAO,eAAe,AAAE,CAAE,GAC1H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAO,YAAY,AAAE,CAAE,GAYpH,EAAQ,kBAAkB,CAX1B,EAW6B,OAXpB,AAAmB,CAAG,CAAE,CAAO,CAAE,CAAK,CAAE,CAAO,EACpD,IAAM,EAAO,CAAC,OAAQ,EAAK,EAAQ,CAQnC,MAP6B,UAAzB,AAAmC,OAA5B,GAAS,MAChB,EAAK,IAAI,CAAC,OAAQ,EAAQ,IAAI,CAAC,QAAQ,IAE3C,EAAK,IAAI,CAAC,QAAS,EAAM,QAAQ,IACF,UAA3B,AAAqC,OAA9B,GAAS,QAChB,EAAK,IAAI,CAAC,SAAU,EAAQ,MAAM,CAAC,QAAQ,IAExC,CACX,gCCfA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAQ,EACrC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAS,EAAI,CAAE,EAC5E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,SAAU,EAAI,CAAE,EAC7E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EASvB,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAI,EACxC,MAAO,CACH,SACA,EACA,EAAM,QAAQ,GACd,EAAK,QAAQ,GAChB,AACL,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAO,EAC3C,MAAO,CACH,OACA,EACA,EAAM,QAAQ,GACd,EACH,AACL,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAO,EAC3C,MAAO,CACH,OACA,EACA,EAAM,QAAQ,GACd,EACH,AACL,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARD,AAAnB,CAAsB,CAAE,CAAK,CAAE,CAAI,EACxC,MAAO,CACH,QACA,EACA,EAAM,QAAQ,GACd,EAAK,QAAQ,GAChB,AACL,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,EAC5B,MAAO,CAAC,UAAW,EAAK,AAC5B,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,KAAK,EA6BlC,EAAQ,kBAAkB,CA5B1B,EA4B6B,OA5BpB,AAAmB,CAAI,CAAE,CAAI,CAAE,CAAG,CAAE,CAAa,CAAE,CAAO,CAAE,CAAO,EACxE,IAAM,EAAO,CAAC,UAAW,EAAM,EAAK,QAAQ,GAAG,CAAE,EAAa,MAAM,OAAO,CAAC,GAyB5E,OAxBI,EACA,EAAK,IAAI,CAAC,GADE,CAIZ,EAAK,IAAI,CAAC,GAEd,EAAK,IAAI,CAAC,EAAc,QAAQ,GAAI,EAAQ,QAAQ,IAChD,GAAS,MACT,AADe,EACV,IAAI,CAAC,QAEV,GAAS,SAAS,AAClB,EAAK,IAAI,CAAC,WAEV,GAAS,MAAM,CACX,EAAQ,IAAI,CAAC,QAAQ,CACrB,CADuB,CAClB,IAAI,CAAC,QAAS,EAAQ,IAAI,CAAC,QAAQ,CAAE,EAAQ,IAAI,CAAC,QAAQ,EAG/D,EAAK,IAAI,CAAC,OAAQ,EAAQ,IAAI,CAAC,QAAQ,GAG3C,GACA,EAAK,IAAI,CAAC,EADE,QACS,GAElB,CACX,gCC7BA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAa1B,EAAQ,kBAAkB,CAZ1B,EAY6B,OAZpB,AAAmB,CAAK,EAC7B,IAAM,EAAO,CAAC,OAAO,CACrB,GAAI,MAAM,OAAO,CAAC,GACd,EAAK,GADiB,CACb,IAAI,EAAM,IAAI,SAGvB,IAAK,IAAM,KAAO,OAAO,IAAI,CAAC,GAC1B,EAAK,EAD6B,EACzB,CAAC,EAAK,CAAK,CAAC,EAAI,EAGjC,OAAO,CACX,gCCdA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAa1B,EAAQ,kBAAkB,CAZ1B,EAY6B,OAZpB,AAAmB,CAAK,EAC7B,IAAM,EAAO,CAAC,SAAS,CACvB,GAAI,MAAM,OAAO,CAAC,GACd,EAAK,GADiB,CACb,IAAI,EAAM,IAAI,SAGvB,IAAK,IAAM,KAAO,OAAO,IAAI,CAAC,GAC1B,EAAK,EAD6B,EACzB,CAAC,EAAK,CAAK,CAAC,EAAI,EAGjC,OAAO,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCjB/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,SAAU,WAAY,EAClC,AADsC,gCCLtC,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,SAAU,OAAQ,EAAI,AAClC,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,SAAU,WAAY,EAAI,AACtC,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,EAC3B,MAAO,CAAC,SAAU,WAAY,EAClC,AADsC,gCCLtC,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,UAAW,EAAI,AAC3B,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,gCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAQ1B,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAY,CAAE,CAAI,EAC/C,IAAM,EAAO,CAAC,UAAW,EAAK,EAAa,QAAQ,GAAG,CAItD,OAHI,GACA,EAAK,CADC,GACG,CAAC,GAEP,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAuB,AAAF,CAAI,iCCZ/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAY1B,EAAQ,kBAAkB,CAX1B,EAW6B,OAXpB,AAAmB,CAAG,CAAE,CAAqB,CAAE,CAAI,EACxD,IAAM,EAAO,CACT,YACA,EACC,AAAD,GAAI,EAAuB,aAAA,AAAa,EAAE,GAC7C,CAID,OAHI,GACA,EAAK,CADC,GACG,CAAC,GAEP,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCjB/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,EAC3B,MAAO,CAAC,cAAe,EAAI,AAC/B,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAS,EAAI,CAAE,EAC5E,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCT/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,EAC3B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,UAAU,CAAE,EACzE,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAW,CAAE,CAAM,EAC3C,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,UAAW,EAAY,CAAE,EACtF,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARD,AAAnB,CAAsB,CAAE,CAAY,CAAE,CAAK,EAChD,MAAO,CACH,SACA,EACA,EAAa,QAAQ,GACrB,EAER,AADK,gCCTL,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EACpB,AADwB,gCCLxB,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,KAAK,EACzD,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAO,CAAE,CAAO,EACxC,MAAO,CAAC,UAAW,EAAS,EAAQ,AACxC,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,SAAU,EAAK,EAAO,AAClC,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,WAAY,EAAK,EAAO,AACpC,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAiB1B,EAAQ,kBAAkB,CAhB1B,EAgB6B,OAhBpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAe,CAAE,CAAO,EAC1D,IAAM,EAAO,CAAC,UAAW,EAAK,EAAI,QAAQ,GAAI,EAAgB,CAa9D,OAZI,GAAS,SAAS,AAClB,EAAK,IAAI,CAAC,WAEV,GAAS,QACT,AADiB,EACZ,IAAI,CAAC,UAEV,GAAS,UAAU,AACnB,EAAK,IAAI,CAAC,WAAY,EAAQ,QAAQ,CAAC,QAAQ,IAE/C,GAAS,MAAM,AACf,EAAK,IAAI,CAAC,OAAQ,EAAQ,IAAI,CAAC,QAAQ,IAEpC,CACX,gCClBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,OAAQ,EAAK,EAAM,QAAQ,GAAG,AAC1C,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EACpB,AADwB,+BCJxB,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAM,CAAE,CAAW,EAC3C,MAAO,CAAC,YAAa,EAAQ,EAAY,AAC7C,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,oBAAoB,AAApB,EAAsB,CAAC,QAAS,EAAI,CAAE,EAC5E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,oBAAoB,AAApB,EAAsB,CAAC,SAAU,EAAI,CAAE,EAC7E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,OAAQ,EAAI,CAAE,EAC3E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,QAAS,EAAI,AACzB,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,EAC5B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAQ,CAAE,EACvE,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAW,CAAE,CAAI,EACzC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,aAAc,EAAY,CAAE,EACzF,8BCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAiC1B,EAAQ,kBAAkB,CAhC1B,EAgC6B,OAhCpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAO,EAC3C,IAAM,EAAO,CACT,MACA,EACiB,UAAjB,OAAO,EAAqB,EAAM,QAAQ,GAAK,EAClD,CAyBD,OAxBI,GAAS,UAAO,EAChB,EAAK,IAAI,CAAC,EADiB,GACX,EAAQ,EAAE,CAAC,QAAQ,IAE9B,GAAS,UAAO,EACrB,EAAK,IAAI,CAAC,EADsB,GAChB,EAAQ,EAAE,CAAC,QAAQ,IAE9B,GAAS,YAAS,EACvB,EAAK,IAAI,CAAC,EADwB,KAChB,EAAQ,IAAI,CAAC,QAAQ,IAElC,GAAS,YAAS,EACvB,EAAK,IAAI,CAAC,EADwB,KAChB,EAAQ,IAAI,CAAC,QAAQ,IAElC,GAAS,SAAS,AACvB,EAAK,IAAI,CAAC,WAEV,GAAS,GACT,CADa,CACR,IAAI,CAAC,MAEL,GAAS,IAAI,AAClB,EAAK,IAAI,CAAC,MAEV,GAAS,KAAK,AACd,EAAK,IAAI,CAAC,OAEP,CACX,+BClCA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAK,EAC1C,MAAO,CAAC,SAAU,EAAK,EAAO,QAAQ,GAAI,EAAM,QAAQ,GAC5D,AAD+D,gCCJ/D,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAO,CAAE,CAAK,EAC3C,MAAO,CACH,QACA,EACA,EAAQ,QAAQ,GAChB,EACH,AACL,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,QAAS,EAAK,EAAM,AAChC,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAK,EAC1C,MAAO,CAAC,WAAY,EAAK,EAAO,QAAQ,GAAI,EAAM,AACtD,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,EAC5B,MAAO,AAAC,GAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,SAAS,CAAE,EACxE,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAQvB,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAI,CAAE,CAAK,EACnC,IAAM,EAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,aAAa,CAAE,GAI7E,OAHI,GACA,EAAK,EADE,EACE,CAAC,QAAS,EAAM,QAAQ,IAE9B,CACX,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAW,CAAE,CAAI,EACzC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,cAAe,EAAY,CAAE,EAC1F,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,YAAa,EAAK,EAAO,AACrC,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,WAAY,EAAI,AAC5B,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,aAAc,KAAQ,EAAQ,AAC1C,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,0BAA0B,AAAE,CAAE,iCCRpJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAM,CAAE,CAAW,CAAE,CAAM,EACnD,MAAO,CAAC,QAAS,EAAQ,EAAa,EAAO,AACjD,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,UAAW,EAAI,CAAE,EAC3E,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CAAC,OAAQ,EAAI,CAAE,EACxE,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAM1B,EAAQ,kBAAkB,CAL1B,EAK6B,OALD,AAAnB,CAAyB,CAAE,CAAW,CAAE,CAAO,EACpD,IAAM,EAAO,CAAC,EAAG,EAAO,kBAAkB,AAAlB,EAAoB,EAAQ,GAEpD,OADA,EAAK,IAAI,CAAC,QAAS,GACZ,CACX,gCCRA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAQ1B,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAK,EAClC,IAAM,EAAO,CAAC,OAAQ,EAAI,CAI1B,MAHqB,UAAjB,AAA2B,OAApB,GACP,EAAK,IAAI,CAAC,EAAM,QAAQ,IAErB,CACX,gCCTA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,EAAQ,YAAY,CAAG,KAAK,EACnF,EAAQ,YAAY,EAAG,EACvB,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAO,CAAE,CAAO,EACxC,MAAO,CAAC,WAAY,EAAS,EAAQ,AACzC,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,EAC3B,MAAO,CAAC,cAAe,EAAI,AAC/B,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAc,eAAe,AAAE,CAAE,GAOjI,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,IACA,CAAC,EAAG,EAAc,kBAAA,AAAkB,EAAE,GACzC,EAAM,QAAQ,GACjB,AACL,gCCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAO,EACpC,MAAO,CAAC,EAAG,EAAuB,oBAAoB,AAApB,EAAsB,CAAC,OAAQ,EAAI,CAAE,EAC3E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAOvB,EAAQ,kBAAkB,CAN1B,EAM6B,OAND,AAAnB,CAAsB,CAAE,CAAM,CAAE,CAAO,EAC5C,MAAO,CAAC,EAAG,EAAuB,iBAAA,AAAiB,EAAE,CACjD,QACA,EACH,CAAE,EAAQ,EACf,EAQA,EAAQ,cAAc,CANtB,EAMyB,OANhB,AAAe,CAAC,EAAQ,EAAQ,EACrC,MAAO,CACH,OAAQ,OAAO,WACf,CACJ,CACJ,+BCjBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,SAAU,EACtB,AAD0B,+BCL1B,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,EAC5B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,SAAS,CAAE,EACxE,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAW,CAAE,CAAI,EACzC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,cAAe,EAAY,CAAE,EAC1F,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAQ,CAAE,EACvE,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,MAAO,EAAI,AACvB,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EAAI,AACxB,+BCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,EAC3B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,SAAS,CAAE,EACxE,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,QAAQ,CAAE,EACvE,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAE,EACtC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,OAAQ,EAAK,EAAM,CAAE,EAClF,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAwB1B,EAAQ,kBAAkB,CAvB1B,EAuB6B,OAvBpB,AAAmB,CAAG,CAAE,CAAE,CAAE,CAAO,CAAE,CAAO,EACjD,IAAM,EAAO,CAAC,OAAQ,EAAI,CAiB1B,IAAK,GAAM,CAAC,EAAK,EAAM,GAhBnB,GAAS,YAAY,AACrB,EAAK,IAAI,CAAC,cAEV,GAAS,MAAM,CACX,EAAQ,IAAI,CAAC,QAAQ,EAAE,AACvB,EAAK,IAAI,CAAC,EAAQ,IAAI,CAAC,QAAQ,EAE/B,EAAQ,IAAI,CAAC,gBAAgB,EAC7B,AAD+B,EAC1B,IAAI,CAAC,EAAQ,IAAI,CAAC,gBAAgB,EAE3C,EAAK,IAAI,CAAC,EAAQ,IAAI,CAAC,SAAS,CAAC,QAAQ,IACrC,EAAQ,IAAI,CAAC,KAAK,EAAE,AACpB,EAAK,IAAI,CAAC,QAAS,EAAQ,IAAI,CAAC,KAAK,CAAC,QAAQ,KAGtD,EAAK,IAAI,CAAC,GACiB,OAAO,OAAO,CAAC,IACtC,EAAK,GAD2C,CACvC,CAAC,EAAK,GAEnB,OAAO,CACX,gCCzBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAQ1B,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAQ,CAAE,CAAW,CAAE,CAAK,CAAE,CAAO,EACzE,IAAM,EAAO,CAAC,aAAc,EAAK,EAAO,EAAU,EAAY,QAAQ,GAAI,EAAM,CAIhF,OAHI,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEtC,CACX,EAQA,EAAQ,cAAc,CANtB,EAMyB,OANhB,AAAe,CAAK,EACzB,MAAO,CACH,OAAQ,CAAK,CAAC,EAAE,CAChB,SAAU,CAAC,EAAG,EAAuB,gCAAA,AAAgC,EAAE,CAAK,CAAC,EAAE,CACnF,CACJ,gCCjBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAa,eAAiB,AAAF,CAAI,GAOhI,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,GAAG,CAAI,EAC/B,MAAO,IACA,CAAC,EAAG,EAAa,kBAAA,AAAkB,KAAK,GAC3C,SACH,AACL,EAQA,EAAQ,cAAc,CANtB,EAMyB,OAND,AAAf,CAAoB,EACzB,MAAO,CACH,OAAQ,CAAK,CAAC,EAAE,CAChB,SAAU,CAAK,CAAC,EAAE,AACtB,CACJ,gCCjBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAiB1B,EAAQ,kBAAkB,CAhB1B,EAgB6B,OAhBpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAQ,CAAE,CAAW,CAAE,CAAE,CAAE,CAAO,EACtE,IAAM,EAAO,CAAC,EAAG,EAAuB,oBAAoB,AAApB,EAAsB,CAAC,SAAU,EAAK,EAAO,EAAU,EAAY,QAAQ,GAAG,CAAE,GAaxH,OAZI,GAAS,MAAM,AACf,EAAK,IAAI,CAAC,OAAQ,EAAQ,IAAI,CAAC,QAAQ,IAEvC,GAAS,MAAM,AACf,EAAK,IAAI,CAAC,OAAQ,CAAyB,UAAxB,OAAO,EAAQ,IAAI,CAAgB,EAAQ,IAAI,CAAG,EAAQ,IAAI,CAAC,OAAO,EAAA,CAAE,CAAE,QAAQ,IAErG,GAAS,YAAY,AACrB,EAAK,IAAI,CAAC,aAAc,EAAQ,UAAU,CAAC,QAAQ,IAEnD,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,SAEP,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,gCAAgC,AAAE,CAAE,iCCtB1J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAS,eAAe,AAAE,CAAE,GAO5H,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,GAAG,CAAI,EAC/B,MAAO,IACA,CAAC,EAAG,EAAS,kBAAA,AAAkB,KAAK,GACvC,SACH,AACL,+BCVA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAE,EAC/B,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,OAAQ,EAAI,CAAE,EAC3E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAQ1B,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAE,CAAE,CAAO,EAC/C,IAAM,EAAO,CAAC,SAAU,SAAU,EAAK,EAAO,EAAG,CAIjD,OAHI,GAAS,UAAU,AACnB,EAAK,IAAI,CAAC,YAEP,CACX,gCCTA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,CAAE,CAAK,CAAE,CAAQ,EAC5C,MAAO,CAAC,SAAU,iBAAkB,EAAK,EAAO,EAAS,AAC7D,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAuB,AAAF,CAAI,iCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAQ,EAC5C,MAAO,CAAC,SAAU,cAAe,EAAK,EAAO,EAAS,AAC1D,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAAsB,CAAE,CAAK,EAClC,MAAO,CAAC,SAAU,UAAW,EAAK,EAAM,AAC5C,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,qBAAqB,AAAE,CAAE,iCCR/I,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAE,EACtC,MAAO,CAAC,SAAU,QAAS,EAAK,EAAO,EAAG,AAC9C,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,QAAS,YAAa,EAAK,EAAM,AAC7C,EAUA,EAAQ,cAAc,CARtB,EAQyB,OARD,AAAf,CAAuB,EAC5B,OAAO,EAAS,GAAG,CAAC,IAAa,CAC7B,KAAM,CADsB,AACd,CAAC,EAAE,CACjB,QAAS,CAAQ,CAAC,EAAE,CACpB,KAAM,CAAQ,CAAC,EAAE,CACjB,SAAU,CAAQ,CAAC,EAAE,CACzB,CAAC,CACL,gCCfA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,QAAS,SAAU,EAAI,AACnC,EAUA,EAAQ,cAAc,CARtB,EAQyB,OARD,AAAf,CAAuB,EAC5B,OAAO,EAAS,GAAG,CAAC,IAAU,CAC1B,GADyB,EACnB,CAAK,CAAC,EAAE,CACd,UAAW,CAAK,CAAC,EAAE,CACnB,QAAS,CAAK,CAAC,EAAE,CACjB,gBAAiB,CAAK,CAAC,EAAE,CAC7B,CAAC,CACL,gCCfA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,QAAS,SAAU,EAAI,AACnC,EAqCA,EAAQ,cAAc,CAnCtB,EAmCyB,OAnChB,AAAe,CAAQ,EAC5B,IAAM,EAAc,CAAC,EACrB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAE,GAAK,EAAG,AACzC,OAAQ,CAAQ,CAAC,EAAE,EACf,IAAK,SACD,EAAY,MAAM,CAAG,CAAQ,CAAC,EAAI,EAAE,CACpC,KACJ,KAAK,kBACD,EAAY,aAAa,CAAG,CAAQ,CAAC,EAAI,EAAE,CAC3C,KACJ,KAAK,mBACD,EAAY,cAAc,CAAG,CAAQ,CAAC,EAAI,EAAE,CAC5C,KACJ,KAAK,SACD,EAAY,MAAM,CAAG,CAAQ,CAAC,EAAI,EAAE,CACpC,KACJ,KAAK,oBACD,EAAY,eAAe,CAAG,CAAQ,CAAC,EAAI,EAAE,CAC7C,KACJ,KAAK,cACD,EAAY,UAAU,CAAG,CAAQ,CAAC,EAAI,EAAE,CAAG,CACvC,GAAI,CAAQ,CAAC,EAAI,EAAE,CAAC,EAAE,CACtB,QAAS,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAQ,CAAC,EAAI,EAAE,CAAC,EAAE,CAChF,EAAI,KACJ,KACJ,KAAK,aACD,EAAY,SAAS,CAAG,CAAQ,CAAC,EAAI,EAAE,CAAG,CACtC,GAAI,CAAQ,CAAC,EAAI,EAAE,CAAC,EAAE,CACtB,QAAS,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAQ,CAAC,EAAI,EAAE,CAAC,EAAE,CAChF,EAAI,IAEZ,CAEJ,OAAO,CACX,gCC3CA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,OAAQ,EACpB,AADwB,gCCLxB,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAYvB,EAAQ,kBAAkB,CAX1B,EAW6B,OAXpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAK,CAAE,CAAG,CAAE,CAAK,CAAE,CAAO,EAC9D,IAAM,EAAO,CAAC,WAAY,EAAK,EAAM,CAQrC,OAPI,GAAS,MAAM,AACf,EAAK,IAAI,CAAC,OAAQ,EAAQ,IAAI,CAAC,QAAQ,IAE3C,EAAK,IAAI,CAAC,EAAO,EAAK,EAAM,QAAQ,IAChC,GAAS,UAAU,AACnB,EAAK,IAAI,CAAC,EAAQ,QAAQ,EAEvB,CACX,EAUA,EAAQ,cAAc,CARtB,EAQyB,OARD,AAAf,CAAoB,EACzB,OAAO,EAAM,GAAG,CAAC,CAAC,CAAC,EAAI,EAAO,EAA+B,EAAkB,GAAK,AAAC,EACjF,WACA,gCACA,oBACA,EACJ,CAAC,CACL,gCCvBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,CAAC,WAAY,EAAK,EAAM,AACnC,EAaA,EAAQ,cAAc,CAXtB,EAWyB,OAXhB,AAAe,CAAK,EACzB,MAAO,CACH,QAAS,CAAK,CAAC,EAAE,CACjB,QAAS,CAAK,CAAC,EAAE,CACjB,OAAQ,CAAK,CAAC,EAAE,CAChB,UAAW,AAAa,QAAR,CAAC,EAAE,CAAY,KAAO,CAAK,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAM,EAAkB,GAAK,CAAC,MAC/E,EACA,kBAAmB,OAAO,GAC9B,CAAC,CACL,CACJ,gCClBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAQvB,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAG,CAAE,CAAO,EAChD,IAAM,EAAO,CAAC,SAAU,EAAK,EAAO,EAAI,CAIxC,OAHI,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEtC,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCbtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAI5G,EAAQ,eAAe,CAHC,AAAC,EAGC,CAFf,MAAM,OAAO,CAAC,GAAW,CAAO,CAAC,EAAE,CAAC,GAAG,CAAG,EAAQ,GAAG,CAGhE,EAAQ,YAAY,EAAG,EAkBvB,EAAQ,kBAAkB,CAjB1B,EAiB6B,OAjBpB,AAAmB,CAAO,CAAE,CAAO,EACxC,IAAM,EAAO,CAAC,QAAQ,CAClB,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEf,UAAU,AAApC,OAAO,GAAS,OAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAE7C,EAAK,IAAI,CAAC,WACV,IAAM,EAAe,MAAM,OAAO,CAAC,GAAW,EAAU,CAAC,EAAQ,CAAE,EAAa,EAAK,MAAM,CAC3F,IAAK,IAAI,EAAI,EAAG,EAAI,EAAa,MAAM,CAAE,IAAK,CAC1C,IAAM,EAAS,CAAY,CAAC,EAAE,CAC9B,CAAI,CAAC,EAAa,EAAE,CAAG,EAAO,GAAG,CACjC,CAAI,CAAC,EAAa,EAAa,MAAM,CAAG,EAAE,CAAG,EAAO,EAAE,AAC1D,CACA,OAAO,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,6BAA6B,AAAE,CAAE,iCC1BvJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAI5G,EAAQ,eAAe,CAHC,CAAC,CAGC,CAHO,EAAW,IACjC,MAAM,OAAO,CAAC,GAAW,CAAO,CAAC,EAAE,CAAC,GAAG,CAAG,EAAQ,GAAG,CAGhE,EAAQ,YAAY,EAAG,EAqBvB,EAAQ,kBAAkB,CApB1B,EAoB6B,OApBpB,AAAmB,CAAK,CAAE,CAAQ,CAAE,CAAO,CAAE,CAAO,EACzD,IAAM,EAAO,CAAC,aAAc,QAAS,EAAO,EAAS,CACjD,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEf,UAAU,AAApC,OAAO,GAAS,OAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEzC,GAAS,OACT,AADgB,EACX,IAAI,CAAC,SAEd,EAAK,IAAI,CAAC,WACV,IAAM,EAAe,MAAM,OAAO,CAAC,GAAW,EAAU,CAAC,EAAQ,CAAE,EAAa,EAAK,MAAM,CAC3F,IAAK,IAAI,EAAI,EAAG,EAAI,EAAa,MAAM,CAAE,IAAK,CAC1C,IAAM,EAAS,CAAY,CAAC,EAC5B,AAD8B,EAC1B,CAAC,EAAa,EAAE,CAAG,EAAO,GAAG,CACjC,CAAI,CAAC,EAAa,EAAa,MAAM,CAAG,EAAE,CAAG,EAAO,EAAE,AAC1D,CACA,OAAO,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,6BAA6B,AAAE,CAAE,iCC7BvJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAQvB,EAAQ,kBAAkB,CAP1B,EAO6B,OAPpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAG,CAAE,CAAO,EAChD,IAAM,EAAO,CAAC,YAAa,EAAK,EAAO,EAAI,CAI3C,OAHI,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEtC,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCbtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAW1B,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAO,EAC5C,IAAM,EAAO,CAAC,SAAU,EAAK,EAAO,CAOpC,OANI,GAAS,cAAc,AACvB,EAAK,IAAI,CAAC,eAAgB,EAAQ,YAAY,CAAC,QAAQ,IAEvD,GAAS,cAAc,AACvB,EAAK,IAAI,CAAC,eAAgB,EAAQ,YAAY,EAE3C,CACX,gCCZA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAY1B,EAAQ,kBAAkB,CAX1B,EAW6B,OAXpB,AAAmB,CAAG,CAAE,CAAQ,CAAE,CAAS,CAAE,CAAO,EACzD,IAAM,EAAO,CAAC,QAAS,EAAK,EAAS,CAQrC,OAPI,GAAS,kBAAkB,AAC3B,EAAK,IAAI,CAAC,EAAQ,gBAAgB,EAEtC,EAAK,IAAI,CAAC,EAAU,QAAQ,IACxB,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,QAAQ,IAEtC,CACX,gCCbA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EA4B1B,EAAQ,kBAAkB,CA3B1B,EA2B6B,OA3BD,AAAnB,CAAsB,CAAE,CAAO,CAAE,CAAO,EAC7C,IAAM,EAAO,CAAC,OAAQ,EAAI,CAqB1B,IAAK,GAAM,OAAE,CAAK,CAAE,OAAK,CAAE,GApBvB,GAAS,GACT,CADa,CACR,IAAI,CAAC,OAGN,GAAS,IAAI,AACb,EAAK,IAAI,CAAC,MAEV,GAAS,GACT,CADa,CACR,IAAI,CAAC,MAEL,GAAS,IAAI,AAClB,EAAK,IAAI,CAAC,OAGd,GAAS,IAAI,AACb,EAAK,IAAI,CAAC,MAEV,GAAS,MAAM,AACf,EAAK,IAAI,CAAC,QAEkB,MAAM,OAAO,CAAC,GAAW,EAAU,CAAC,EAAQ,CAAG,CAC3E,EAAK,IAAI,CAAC,CAAC,EAAG,EAAuB,+BAAA,AAA+B,EAAE,GAAQ,GAElF,OAAO,CACX,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCjCtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,QAAS,EAAI,AACzB,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EASvB,EAAQ,kBAAkB,CAR1B,EAQ6B,OARD,AAAnB,CAAsB,CAAE,CAAG,CAAE,CAAG,EACrC,MAAO,CACH,SACA,EACA,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GACjE,AAAD,GAAI,EAAuB,qCAAA,AAAqC,EAAE,GAE1E,AADK,gCCXL,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAI,EAC5B,MAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,QAAQ,CAAE,EACtE,gCCPA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAQ,eAAe,AAAE,CAAE,GAC3H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAQ,YAAY,AAAE,CAAE,GAOrH,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,GAAG,CAAI,EAC/B,MAAO,IACA,CAAC,EAAG,EAAQ,kBAAA,AAAkB,KAAK,GACtC,aACH,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCd3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHD,AAAnB,CAA8B,CAAE,CAAI,EACzC,MAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,aAAc,EAAY,CAAE,EACxF,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAS,CAAE,CAAM,EAC9C,MAAO,CACH,UACA,EACA,CAAC,EAAG,EAAuB,+BAA+B,AAA/B,EAAiC,GAC5D,EAER,AADK,EAGL,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,4BAA4B,AAAE,CAAE,iCCdtJ,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAWvB,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAI,CAAE,CAAO,EACrC,IAAM,EAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,SAAS,CAAE,GAOzE,OANI,GAAS,SAAS,AAClB,EAAK,IAAI,CAAC,aAAc,EAAQ,OAAO,CAAC,GAAG,CAAC,GAAU,EAAO,QAAQ,KAErE,GAAS,WAAW,AACpB,EAAK,IAAI,CAAC,YAAa,EAAQ,SAAS,EAErC,CACX,gCCdA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAS,eAAe,AAAE,CAAE,GAC5H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAS,YAAY,AAAE,CAAE,GAOtH,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,GAAG,CAAI,EAC/B,MAAO,IACA,CAAC,EAAG,EAAS,kBAAA,AAAkB,KAAK,GACvC,aAER,AADK,EAGL,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCd3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAQvB,EAAQ,kBAAkB,CAP1B,EAO6B,OAPD,AAAnB,CAAuB,CAAE,CAAK,EACnC,IAAM,EAAO,AAAC,GAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,aAAa,CAAE,GAI7E,OAHI,GACA,EAAK,EADE,EACE,CAAC,QAAS,EAAM,QAAQ,IAE9B,CACX,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAW1B,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAW,CAAE,CAAI,CAAE,CAAO,EAClD,IAAM,EAAQ,AAAD,GAAI,EAAuB,mBAAA,AAAmB,EAAE,CAAC,cAAe,EAAY,CAAE,GAO3F,OANI,GAAS,SAAS,AAClB,EAAK,IAAI,CAAC,aAAc,EAAQ,OAAO,CAAC,GAAG,CAAC,GAAU,EAAO,QAAQ,KAErE,GAAS,WAAW,AACpB,EAAK,IAAI,CAAC,YAAa,EAAQ,SAAS,EAErC,CACX,gCCbA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EASvB,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,EACrC,MAAO,CACH,YACA,EACA,EACA,EACH,AACL,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,UAAW,EAAI,CAAE,EAC9E,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAuB,qCAAqC,AAAE,CAAE,iCCV/J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAO1B,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,EAC3B,MAAO,CACH,UACA,EACH,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCX3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAU,eAAe,AAAE,CAAE,GAO7H,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,IACA,CAAC,EAAG,EAAU,kBAAkB,AAAlB,EAAoB,GACrC,EAAM,QAAQ,GAEtB,AADK,EAGL,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCb3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,EAAQ,eAAe,CAAG,EAO1B,EAAQ,kBAAkB,CAN1B,EAM6B,OAND,AAAnB,CAAsB,EAC3B,MAAO,CACH,UACA,EACH,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCX3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAU,eAAe,AAAE,CAAE,GAO7H,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,IACA,CAAC,EAAG,EAAU,kBAAA,AAAkB,EAAE,GACrC,EAAM,QAAQ,GACjB,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCb3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,EAC3B,MAAO,CAAC,cAAe,EAAI,AAC/B,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAc,eAAe,AAAE,CAAE,GACjI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAc,YAAY,AAAE,CAAE,GAO3H,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAK,EAClC,MAAO,IACA,CAAC,EAAG,EAAc,kBAAA,AAAkB,EAAE,GACzC,EAAM,QAAQ,GACjB,AACL,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,WAAc,OAAO,EAAoB,eAAe,AAAE,CAAE,GACvI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAoB,YAAY,AAAE,CAAE,GAOjI,EAAQ,kBAAkB,CAN1B,EAM6B,OAND,AAAnB,GAAsB,CAAI,EAC/B,MAAO,IACA,CAAC,EAAG,EAAoB,kBAAA,AAAkB,KAAK,GAClD,aACH,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,gCCd3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAwBvB,EAAQ,kBAAkB,CAvB1B,EAuB6B,OAvBpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,CAAE,CAAO,EAC9C,IAAM,EAAO,CACT,SACA,EACA,CAAC,EAAG,EAAuB,qCAAqC,AAArC,EAAuC,GAClE,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GACrE,CACD,OAAQ,GAAS,IACb,IAAK,QACD,EAAK,IAAI,CAAC,WACV,KACJ,KAAK,MACD,EAAK,IAAI,CAAC,QAElB,CAOA,OANI,GAAS,KAAK,AACd,EAAK,IAAI,CAAC,OAEV,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAI,EAAQ,KAAK,CAAC,KAAK,CAAC,QAAQ,IAE7E,CACX,gCC3BA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,IAAI,EAAA,EAAA,CAAA,CAAA,MACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAS,eAAiB,AAAF,CAAI,GAC5H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAS,YAAY,AAAE,CAAE,GAOtH,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,GAAG,CAAI,EAC/B,MAAO,IACA,CAAC,EAAG,EAAS,kBAAA,AAAkB,KAAK,GACvC,aACH,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAmC,AAAF,CAAI,iCCd3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAavB,EAAQ,kBAAkB,CAZ1B,EAY6B,OAZpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,CAAE,CAAO,EAC9C,IAAM,EAAO,CACT,cACA,EACA,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GAClE,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GACrE,CAID,OAHI,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAI,EAAQ,KAAK,CAAC,KAAK,CAAC,QAAQ,IAE7E,CACX,gCChBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,MACN,GAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAavB,EAAQ,kBAAkB,CAZ1B,EAY6B,OAZpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,CAAE,CAAO,EAC9C,IAAM,EAAO,CACT,gBACA,EACA,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GAClE,AAAC,GAAG,EAAuB,qCAAA,AAAqC,EAAE,GACrE,CAID,OAHI,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAI,EAAQ,KAAK,CAAC,KAAK,CAAC,QAAQ,IAE7E,CACX,gCChBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAgB,eAAe,AAAE,CAAE,GACnI,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAgB,YAAY,AAAE,CAAE,GAO7H,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,CAAE,CAAO,EAC9C,MAAO,IACA,CAAC,EAAG,EAAgB,kBAAA,AAAkB,EAAE,EAAK,EAAK,EAAK,GAC1D,aACH,AACL,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCd3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EACrF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EA4B1B,EAAQ,kBAAkB,CA3B1B,EA2B6B,OA3BpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,CAAE,CAAG,CAAE,CAAO,EACnD,IAAM,EAAO,CACT,cACA,EACA,EACA,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GAClE,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GACrE,CACD,OAAQ,GAAS,IACb,IAAK,QACD,EAAK,IAAI,CAAC,WACV,KACJ,KAAK,MACD,EAAK,IAAI,CAAC,QAElB,CAUA,OATI,GAAS,KAAK,AACd,EAAK,IAAI,CAAC,OAEV,GAAS,OAAO,AAChB,EAAK,IAAI,CAAC,QAAS,EAAQ,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAI,EAAQ,KAAK,CAAC,KAAK,CAAC,QAAQ,IAEhF,GAAS,YAAY,AACrB,EAAK,IAAI,CAAC,cAEP,CACX,EAQA,EAAQ,cAAc,CANtB,EAMyB,OANhB,AAAe,CAAK,EACzB,GAAI,AAAiB,UAAU,OAApB,EACP,MAAM,AAAI,UAAU,CAAC,wEAAwE,CAAC,EAElG,OAAO,CACX,gCCrCA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,QAAS,EAAK,EAAO,AACjC,+BCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,EAAG,EAAuB,oBAAA,AAAoB,EAAE,CAAC,OAAQ,EAAI,CAAE,EAC3E,gCCNA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,EACrC,MAAO,CACH,iBACA,EACA,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GAClE,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GAE1E,AADK,gCCVL,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,EAAQ,eAAe,CAAG,EAI1B,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAK,CAAE,CAAI,EACxC,MAAO,CAAC,kBAAmB,EAAK,EAAM,QAAQ,GAAI,EAAK,QAAQ,GAAG,AACtE,gCCLA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAS1B,EAAQ,kBAAkB,CAR1B,EAQ6B,OARpB,AAAmB,CAAG,CAAE,CAAG,CAAE,CAAG,EACrC,MAAO,CACH,mBACA,EACA,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GAClE,CAAC,EAAG,EAAuB,qCAAA,AAAqC,EAAE,GACrE,AACL,gCCXA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,WAAY,EAAK,EAC7B,AADoC,gCCLpC,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAOvB,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,CAAG,CAAE,CAAM,CAAE,CAAO,EAC5C,MAAO,CAAC,EAAG,EAAuB,iBAAiB,AAAjB,EAAmB,CACjD,QACA,EACH,CAAE,EAAQ,EACf,EAeA,EAAQ,cAAc,CAbtB,EAayB,OAbhB,AAAe,CAAC,EAAQ,EAAW,EACxC,IAAM,EAAgB,EAAE,CACxB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAW,MAAM,CAAE,GAAK,EAAG,AAC3C,EAAc,IAAI,CAAC,CACf,MAAO,CAAU,CAAC,EAAE,CACpB,MAAO,CAAC,EAAG,EAAuB,4BAAA,AAA4B,EAAE,CAAU,CAAC,EAAI,EAAE,CACrF,GAEJ,MAAO,CACH,OAAQ,OAAO,GACf,QAAS,CACb,CACJ,gCCxBA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,EAAG,EAIvB,EAAQ,kBAAkB,CAH1B,EAG6B,OAHpB,AAAmB,CAAG,CAAE,CAAM,EACnC,MAAO,CAAC,SAAU,EAAK,EAAO,AAClC,EAEA,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,gCAAgC,AAAE,CAAE,iCCT1J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EACnF,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAC1B,EAAQ,YAAY,CAAG,GAWvB,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAI,CAAE,CAAO,EACrC,IAAM,EAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,SAAS,CAAE,GAOzE,OANI,GAAS,SAAS,AAClB,EAAK,IAAI,CAAC,aAAc,EAAQ,OAAO,CAAC,GAAG,CAAC,GAAU,EAAO,QAAQ,KAErE,GAAS,WAAW,AACpB,EAAK,IAAI,CAAC,YAAa,EAAQ,SAAS,EAErC,CACX,gCCdA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,EAAQ,cAAc,CAAG,EAAQ,kBAAkB,CAAG,EAAQ,YAAY,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5G,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,kBAAmB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAS,eAAiB,AAAF,CAAI,GAC5H,OAAO,cAAc,CAAC,EAAS,eAAgB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAS,YAAY,AAAE,CAAE,GAOtH,EAAQ,kBAAkB,CAN1B,EAM6B,OANpB,AAAmB,GAAG,CAAI,EAC/B,MAAO,IACA,CAAC,EAAG,EAAS,kBAAA,AAAkB,KAAK,GACvC,aAER,AADK,EAGL,IAAI,EAAA,EAAA,CAAA,CAAA,OACJ,OAAO,cAAc,CAAC,EAAS,iBAAkB,CAAE,YAAY,EAAM,IAAK,WAAc,OAAO,EAAuB,iCAAiC,AAAE,CAAE,iCCd3J,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,MAAO,EAAK,GAC3D,EAAQ,kBAAkB,CAAG,EAAQ,eAAe,CAAG,KAAK,EAC5D,IAAM,EAAA,EAAA,CAAA,CAAA,OACN,EAAQ,eAAe,CAAG,EAW1B,EAAQ,kBAAkB,CAV1B,EAU6B,OAVpB,AAAmB,CAAW,CAAE,CAAI,CAAE,CAAO,EAClD,IAAM,EAAO,CAAC,EAAG,EAAuB,mBAAA,AAAmB,EAAE,CAAC,cAAe,EAAY,CAAE,GAO3F,OANI,GAAS,SAAS,AAClB,EAAK,IAAI,CAAC,aAAc,EAAQ,OAAO,CAAC,GAAG,CAAC,GAAU,EAAO,QAAQ,KAErE,GAAS,WAAW,AACpB,EAAK,IAAI,CAAC,YAAa,EAAQ,SAAS,EAErC,CACX,gCCbA,OAAO,cAAc,CAAC,EAAS,aAAc,CAAE,OAAO,CAAK,GAC3D,IAAM,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,KACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACN,EAAQ,OAAO,CAAG,QACd,EACA,OAAQ,WACR,EACA,SAAU,cACV,EACA,WAAY,WACZ,EACA,SAAU,QACV,EACA,MAAO,SACP,EACA,OAAQ,SACR,EACA,OAAQ,SACR,EACA,OAAQ,QACR,EACA,MAAO,EACP,QACA,MAAO,aACP,EACA,WAAY,SACZ,EACA,OAAQ,EACR,WACA,SAAU,WACV,EACA,SAAU,OACV,EACA,KAAM,OACN,EACA,KAAM,EACN,SACA,OAAQ,MACR,EACA,IAAK,EACL,OACA,KAAM,UACN,EACA,OAAQ,OACR,EACA,KAAM,UACN,EACA,QAAS,aACT,EACA,UAAW,SACX,EACA,OAAQ,SACR,EACA,OAAQ,WACR,EACA,SAAU,aACV,EACA,WAAY,EACZ,WACA,QAAS,QACT,EACA,MAAO,SACP,EACA,OAAQ,UACR,EACA,QAAS,UACT,EACA,QAAS,SACT,EACA,OAAQ,oBACR,EACA,gBAAiB,eACjB,EACA,YAAa,EACb,iBACA,cAAe,EACf,YACA,UAAW,4BACX,EACA,wBAAyB,uBACzB,EACA,oBAAqB,yBACrB,EACA,sBAAuB,oBACvB,EACA,kBAAmB,yBACnB,EACA,uBAAwB,iBACxB,EACA,eAAgB,iBAChB,EACA,cAAe,YACf,EACA,UAAW,EACX,iBACA,eAAgB,MAChB,EACA,IAAK,SACL,EACA,OAAQ,SACR,EACA,OAAQ,QACR,EACA,MAAO,WACP,EACA,SAAU,SACV,GACA,OAAQ,QACR,GACA,KAAM,WACN,GACA,QAAS,WACT,GACA,QAAS,aACT,GACA,UAAW,eACX,GACA,YAAa,QACb,GACA,KAAM,WACN,GACA,QAAS,WACT,GACA,QAAS,gBACT,GACA,aAAc,SACd,GACA,MAAO,QACP,GACA,KAAM,GACN,SACA,MAAO,YACP,GACA,SAAU,GACV,YACA,SAAU,cACV,GACA,WAAY,gBACZ,GACA,aAAc,SACd,GACA,MAAO,+BACP,GACA,0BAA2B,oBAC3B,GACA,gBAAiB,cACjB,GACA,WAAY,SACZ,GACA,MAAO,GACP,kBACA,cAAe,QACf,GACA,KAAM,UACN,GACA,OAAQ,WACR,GACA,QAAS,QACT,GACA,KAAM,SACN,GACA,MAAO,QACP,GACA,KAAM,UACN,GACA,OAAQ,eACR,GACA,YAAa,wBACb,GACA,mBAAoB,GACpB,WACA,OAAQ,WACR,GACA,OAAQ,OACR,GACA,IAAK,UACL,GACA,OAAQ,WACR,GACA,QAAS,QACT,GACA,KAAM,SACN,GACA,MAAO,SACP,GACA,MAAO,cACP,GACA,UAAW,QACX,GACA,KAAM,cACN,GACA,UAAW,QACX,GACA,KAAM,SACN,GACA,MAAO,UACP,GACA,OAAQ,UACR,GACA,OAAQ,QACR,GACA,KAAM,GACN,QACA,KAAM,SACN,GACA,MAAO,QACP,GACA,KAAM,WACN,GACA,QAAS,QACT,GACA,KAAM,UACN,GACA,OAAQ,mBACR,GACA,eAAgB,eAChB,GACA,WAAY,mBACZ,GACA,eAAgB,GAChB,mBACA,eAAgB,WAChB,GACA,QAAS,GACT,WACA,QAAS,aACT,GACA,UAAW,eACX,GACA,YAAa,SACb,GACA,MAAO,WACP,GACA,QAAS,WACT,GACA,QAAS,UACT,GACA,OAAQ,QACR,GACA,KAAM,WACN,GACA,QAAS,UACT,GACA,OAAQ,YACR,GACA,SAAU,WACV,GACA,QAAS,cACT,GACA,UAAW,QACX,GACA,KAAM,aACN,GACA,UAAW,SACX,GACA,MAAO,UACP,GACA,OAAQ,QACR,GACA,KAAM,SACN,GACA,MAAO,SACP,GACA,MAAO,cACP,GACA,WAAY,GACZ,UACA,OAAQ,cACR,GACA,WAAY,eACZ,GACA,YAAa,OACb,GACA,IAAK,UACL,GACA,OAAQ,SACR,GACA,MAAO,SACP,GACA,MAAO,YACP,GACA,SAAU,aACV,GACA,UAAW,YACX,GACA,SAAU,cACV,GACA,WAAY,SACZ,GACA,MAAO,WACP,GACA,OAAQ,cACR,GACA,UAAW,QACX,GACA,KAAM,QACN,GACA,KAAM,YACN,GACA,SAAU,qBACV,GACA,iBAAkB,eAClB,GACA,YAAa,QACb,GACA,KAAM,GACN,SACA,MAAO,UACP,GACA,OAAQ,UACR,GACA,OAAQ,eACR,GACA,YAAa,SACb,GACA,MAAO,OACP,GACA,IAAK,QACL,GACA,KAAM,UACN,GACA,OAAQ,SACR,GACA,MAAO,QACP,GACA,KAAM,QACN,GACA,KAAM,qBACN,GACA,iBAAkB,cAClB,GACA,WAAY,GACZ,UACA,OAAQ,GACR,iBACA,aAAc,GACd,QACA,KAAM,GACN,iBACA,aAAc,yBACd,GACA,qBAAsB,sBACtB,GACA,kBAAmB,kBACnB,GACA,cAAe,GACf,gBACA,YAAa,mBACb,GACA,eAAgB,gBAChB,GACA,YAAa,gBACb,GACA,YAAa,QACb,GACA,KAAM,kBACN,GACA,cAAe,YACf,GACA,SAAU,UACV,GACA,OAAQ,SACR,GACA,MAAO,cACP,GACA,WAAY,aACZ,GACA,UAAW,UACX,GACA,OAAQ,SACR,GACA,MAAO,QACP,GACA,KAAM,SACN,GACA,MAAO,UACP,GACA,OAAQ,oBACR,GACA,gBAAiB,SACjB,GACA,MAAO,cACP,GACA,WAAY,WACZ,GACA,QAAS,qBACT,GACA,iBAAk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AA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,KACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACN,EAAQ,OAAO,CAAG,CACd,GAAG,EAAW,OAAO,SACrB,EACA,OAAQ,cACR,EACA,WAAY,aACZ,EACA,UAAW,cACX,EACA,WAAY,cACZ,EACA,WAAY,WACZ,EACA,QAAS,WACT,EACA,QAAS,gBACT,EACA,YAAa,EACb,UACA,OAAQ,WACR,EACA,QAAS,cACT,EACA,WAAY,YACZ,EACA,SAAU,aACV,EACA,UAAW,SACX,EACA,OAAQ,OACR,EACA,KAAM,eACN,EACA,aAAc,SACd,EACA,OAAQ,iBACR,EACA,cAAe,iBACf,EACA,cAAe,kBACf,EACA,eAAgB,EAChB,YACA,SAAU,cACV,EACA,WAAY,EACZ,kBAAmB,EACnB,cAAe,EACf,kBAAmB,EACnB,cAAe,cACf,EACA,WAAY,eACZ,EACA,YAAa,iBACb,EACA,cAAe,EACf,kBACA,eAAgB,EAChB,sBACA,mBAAoB,iBACpB,EACA,cAAe,cACf,EACA,WAAY,mBACZ,EACA,gBAAiB,wBACjB,EACA,qBAAsB,oBACtB,EACA,iBAAkB,gCAClB,EACA,2BAA4B,0BAC5B,EACA,uBAAwB,mBACxB,EACA,gBAAiB,wBACjB,EACA,qBAAsB,mBACtB,EACA,gBAAiB,qBACjB,EACA,kBAAmB,iBACnB,EACA,cAAe,wBACf,EACA,qBAAsB,eACtB,EACA,YAAa,kBACb,EACA,eAAgB,gBAChB,EACA,aAAc,eACd,EACA,YAAa,eACb,EACA,YAAa,oBACb,EACA,iBAAkB,gBAClB,EACA,aAAc,mBACd,EACA,gBAAiB,oBACjB,GACA,iBAAkB,iBAClB,GACA,aAAc,sBACd,GACA,kBAAmB,4BACnB,GACA,sBAAuB,mBACvB,GACA,eAAgB,iBAChB,GACA,aAAc,iBACd,GACA,aAAc,GACd,mBACA,eAAgB,GAChB,2BACA,uBAAwB,gBACxB,GACA,YAAa,gBACb,GACA,YAAa,WACb,GACA,QAAS,cACT,GACA,UAAW,qBACX,GACA,gBAAiB,GACjB,kBACA,cAAe,GACf,cACA,UAAW,UACX,GACA,OAAQ,WACR,GACA,QAAS,QACT,GACA,KAAM,YACN,GACA,SAAU,GACV,YACA,SAAU,GACV,WACA,QAAS,GACT,mBACA,eAAgB,iBAChB,GACA,aAAc,GACd,kBACA,cAAe,iBACf,GACA,aAAc,0BACd,GACA,qBAAsB,iBACtB,GACA,aAAc,iBACd,GACA,aAAc,oBACd,GACA,gBAAiB,kBACjB,GACA,cAAe,SACf,GACA,MAAO,GACP,QACA,KAAM,QACN,GACA,KAAM,YACN,GACA,SAAU,kBACV,GACA,cAAe,iBACf,GACA,aAAc,mBACd,GACA,eAAgB,kBAChB,GACA,cAAe,UACf,GACA,OAAQ,iBACR,GACA,aAAc,GACd,sBAAuB,GACvB,kBAAmB,gBACnB,GACA,YAAa,gBACb,GACA,YAAa,gBACb,GACA,YAAa,eACb,GACA,WAAY,eACZ,GACA,WAAY,iBACZ,GACA,aAAc,QACd,GACA,KAAM,QACN,GACA,KAAM,mBACN,GACA,eAAgB,iBAChB,GACA,aAAc,iBACd,GACA,aAAc,wBACd,GACA,oBAAqB,sBACrB,GACA,kBAAmB,GACnB,aACA,UAAW,YACX,GACA,SAAU,aACV,GACA,UAAW,aACX,GACA,UAAW,GACX,iBAAkB,GAClB,cAAe,QACf,GACA,KAAM,QACN,GACA,KAAM,GACN,QACA,KAAM,gBACN,GACA,YAAa,iBACb,GACA,aAAc,gBACd,GACA,YAAa,eACb,GACA,WAAY,eACZ,GACA,WAAY,YACZ,GACA,SAAU,UACV,GACA,OAAQ,GACR,QACA,KAAM,WACN,GACA,QAAS,QACT,GACA,KAAM,E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","ignoreList":[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745]}