{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/module.compiled.js","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","turbopack:///[project]/node_modules/bitcoin-backup/dist/index.js","turbopack:///[project]/node_modules/bigblocks/dist/src/lib/yours-wallet-provider.js","turbopack:///[project]/node_modules/bigblocks/dist/src/lib/handcash-provider.js"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","// src/crypto.ts\nimport { Utils } from \"@bsv/sdk\";\nvar { toArray, toBase64 } = Utils;\nvar RECOMMENDED_PBKDF2_ITERATIONS = 600000;\nvar LEGACY_PBKDF2_ITERATIONS = 1e5;\nvar DEFAULT_PBKDF2_ITERATIONS = RECOMMENDED_PBKDF2_ITERATIONS;\nvar SALT_LENGTH_BYTES = 16;\nvar IV_LENGTH_BYTES = 12;\nvar AES_KEY_LENGTH_BITS = 256;\nasync function deriveKey(passphrase, salt, iterations = RECOMMENDED_PBKDF2_ITERATIONS) {\n  const passphraseBytes = Uint8Array.from(toArray(passphrase, \"utf8\"));\n  const keyMaterial = await globalThis.crypto.subtle.importKey(\"raw\", passphraseBytes, { name: \"PBKDF2\" }, false, [\"deriveKey\"]);\n  return globalThis.crypto.subtle.deriveKey({\n    name: \"PBKDF2\",\n    salt,\n    iterations,\n    hash: \"SHA-256\"\n  }, keyMaterial, { name: \"AES-GCM\", length: AES_KEY_LENGTH_BITS }, false, [\"encrypt\", \"decrypt\"]);\n}\nasync function encryptData(payload, passphrase, iterations) {\n  const salt = globalThis.crypto.getRandomValues(new Uint8Array(SALT_LENGTH_BYTES));\n  const iv = globalThis.crypto.getRandomValues(new Uint8Array(IV_LENGTH_BYTES));\n  const key = await deriveKey(passphrase, salt, iterations);\n  const payloadToEncrypt = {\n    ...payload,\n    createdAt: payload.createdAt || new Date().toISOString()\n  };\n  const jsonPayload = JSON.stringify(payloadToEncrypt);\n  const dataToEncrypt = new TextEncoder().encode(jsonPayload);\n  const encryptedContent = await globalThis.crypto.subtle.encrypt({ name: \"AES-GCM\", iv }, key, dataToEncrypt);\n  const combined = new Uint8Array(salt.length + iv.length + encryptedContent.byteLength);\n  combined.set(salt, 0);\n  combined.set(iv, salt.length);\n  combined.set(new Uint8Array(encryptedContent), salt.length + iv.length);\n  return toBase64(Array.from(combined));\n}\nasync function decryptData(encryptedBackup, passphrase, attemptIterations) {\n  let combinedBytesNumbers;\n  try {\n    combinedBytesNumbers = toArray(encryptedBackup, \"base64\");\n  } catch (error) {\n    console.error(\"Failed to decode base64 string (toArray threw):\", error);\n    throw new Error(\"Decryption failed: Invalid Base64 input.\");\n  }\n  if (encryptedBackup.length > 0 && combinedBytesNumbers.length === 0) {\n    throw new Error(\"Decryption failed: Invalid Base64 input (decoded to empty).\");\n  }\n  const combinedBytes = Uint8Array.from(combinedBytesNumbers);\n  if (combinedBytes.length < SALT_LENGTH_BYTES + IV_LENGTH_BYTES) {\n    throw new Error(\"Decryption failed: Encrypted data is too short.\");\n  }\n  const salt = combinedBytes.slice(0, SALT_LENGTH_BYTES);\n  const iv = combinedBytes.slice(SALT_LENGTH_BYTES, SALT_LENGTH_BYTES + IV_LENGTH_BYTES);\n  const encryptedCiphertext = combinedBytes.slice(SALT_LENGTH_BYTES + IV_LENGTH_BYTES);\n  const iterationCountsToTry = typeof attemptIterations === \"number\" ? [attemptIterations] : Array.isArray(attemptIterations) ? attemptIterations : [RECOMMENDED_PBKDF2_ITERATIONS, LEGACY_PBKDF2_ITERATIONS];\n  let lastError = null;\n  for (const iterations of iterationCountsToTry) {\n    try {\n      const key = await deriveKey(passphrase, salt, iterations);\n      const decryptedArrayBuffer = await globalThis.crypto.subtle.decrypt({ name: \"AES-GCM\", iv }, key, encryptedCiphertext);\n      const decryptedString = new TextDecoder().decode(decryptedArrayBuffer);\n      try {\n        const parsedJson = JSON.parse(decryptedString);\n        if (typeof parsedJson === \"object\" && parsedJson !== null) {\n          if (\"xprv\" in parsedJson && \"ids\" in parsedJson && \"mnemonic\" in parsedJson)\n            return parsedJson;\n          if (\"rootPk\" in parsedJson && \"ids\" in parsedJson)\n            return parsedJson;\n          if (\"wif\" in parsedJson && \"id\" in parsedJson)\n            return parsedJson;\n          if (\"ordPk\" in parsedJson && \"payPk\" in parsedJson && \"identityPk\" in parsedJson)\n            return parsedJson;\n          if (\"wif\" in parsedJson && !(\"id\" in parsedJson) && !(\"xprv\" in parsedJson) && !(\"rootPk\" in parsedJson))\n            return parsedJson;\n        }\n        throw new Error(\"Invalid backup structure after JSON parse.\");\n      } catch (jsonError) {\n        if (jsonError instanceof SyntaxError)\n          return { wif: decryptedString };\n        throw jsonError;\n      }\n    } catch (decryptionError) {\n      lastError = decryptionError;\n      if (decryptionError instanceof DOMException && decryptionError.name === \"OperationError\") {\n        continue;\n      }\n      throw decryptionError;\n    }\n  }\n  console.error(\"All decryption attempts failed. Last error:\", lastError);\n  if (lastError && lastError.name === \"OperationError\") {\n    throw new Error(\"Decryption failed: Invalid passphrase or corrupted data across all attempted iteration counts.\");\n  }\n  throw lastError || new Error(\"Decryption failed: Invalid passphrase or corrupted data across all attempted iteration counts.\");\n}\n\n// src/index.ts\nfunction isValidPayload(payload) {\n  if (!payload || typeof payload !== \"object\")\n    return false;\n  const p = payload;\n  if (\"xprv\" in p && typeof p.xprv === \"string\" && \"ids\" in p && typeof p.ids === \"string\" && \"mnemonic\" in p && typeof p.mnemonic === \"string\") {\n    return true;\n  }\n  if (\"rootPk\" in p && typeof p.rootPk === \"string\" && \"ids\" in p && typeof p.ids === \"string\" && !(\"xprv\" in p)) {\n    return true;\n  }\n  if (\"wif\" in p && typeof p.wif === \"string\" && \"id\" in p && typeof p.id === \"string\") {\n    return true;\n  }\n  if (\"wif\" in p && typeof p.wif === \"string\" && !(\"id\" in p) && !(\"xprv\" in p) && !(\"rootPk\" in p)) {\n    return true;\n  }\n  if (\"ordPk\" in p && typeof p.ordPk === \"string\" && \"payPk\" in p && typeof p.payPk === \"string\" && \"identityPk\" in p && typeof p.identityPk === \"string\") {\n    return true;\n  }\n  return false;\n}\nasync function encryptBackup(payload, passphrase, iterations) {\n  if (!isValidPayload(payload)) {\n    throw new Error(\"Invalid payload: Payload must be an object matching BapMasterBackup, BapMemberBackup, WifBackup, or OneSatBackup structure.\");\n  }\n  if (typeof passphrase !== \"string\" || passphrase.length === 0) {\n    throw new Error(\"Invalid passphrase: Passphrase must be a non-empty string.\");\n  }\n  if (passphrase.length < 8) {\n    throw new Error(\"Invalid passphrase: Passphrase must be at least 8 characters long.\");\n  }\n  return encryptData(payload, passphrase, iterations);\n}\nasync function decryptBackup(encryptedString, passphrase, attemptIterations) {\n  if (typeof encryptedString !== \"string\" || encryptedString.length === 0) {\n    throw new Error(\"Invalid encryptedString: Must be a non-empty string.\");\n  }\n  if (typeof passphrase !== \"string\" || passphrase.length === 0) {\n    throw new Error(\"Invalid passphrase: Passphrase must be a non-empty string.\");\n  }\n  return decryptData(encryptedString, passphrase, attemptIterations);\n}\nexport {\n  encryptBackup,\n  decryptBackup,\n  RECOMMENDED_PBKDF2_ITERATIONS,\n  LEGACY_PBKDF2_ITERATIONS,\n  DEFAULT_PBKDF2_ITERATIONS\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * Yours Wallet Provider Integration\n *\n * This module provides lazy-loaded integration with Yours Wallet\n * using the window.yours provider API when available.\n */\nimport React from 'react';\n// Yours Wallet detection and connection\nexport class YoursWalletProvider {\n    constructor() {\n        this.provider = null;\n        this.isInstalled = false;\n        this.isConnected = false;\n        this.publicKey = null;\n        this.listeners = new Map();\n        this.checkInstallation();\n        this.setupEventListeners();\n    }\n    checkInstallation() {\n        this.isInstalled = typeof window !== 'undefined' && !!window.yours;\n        if (this.isInstalled && window.yours) {\n            this.provider = window.yours;\n        }\n    }\n    setupEventListeners() {\n        if (!this.provider)\n            return;\n        const handleSwitchAccount = () => {\n            this.publicKey = null;\n            this.isConnected = false;\n            this.emit('disconnected');\n        };\n        const handleSignedOut = () => {\n            this.publicKey = null;\n            this.isConnected = false;\n            this.emit('disconnected');\n        };\n        this.provider.on('switchAccount', handleSwitchAccount);\n        this.provider.on('signedOut', handleSignedOut);\n    }\n    isWalletInstalled() {\n        return this.isInstalled;\n    }\n    async connect() {\n        if (!this.isInstalled || !this.provider) {\n            return {\n                success: false,\n                error: 'Yours Wallet not installed. Please install from Chrome Web Store.',\n            };\n        }\n        try {\n            const publicKey = await this.provider.connect();\n            this.publicKey = publicKey;\n            this.isConnected = true;\n            this.emit('connected');\n            return { success: true, publicKey };\n        }\n        catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : 'Failed to connect to Yours Wallet',\n            };\n        }\n    }\n    async disconnect() {\n        if (!this.provider)\n            return;\n        try {\n            await this.provider.disconnect();\n            this.publicKey = null;\n            this.isConnected = false;\n            this.emit('disconnected');\n        }\n        catch (error) {\n            console.error('Error disconnecting from Yours Wallet:', error);\n        }\n    }\n    getPublicKey() {\n        return this.publicKey;\n    }\n    isWalletConnected() {\n        return this.isConnected && !!this.publicKey;\n    }\n    async getBalance() {\n        if (!this.provider || !this.isConnected)\n            return null;\n        try {\n            return await this.provider.getBalance();\n        }\n        catch (error) {\n            console.error('Error getting balance:', error);\n            return null;\n        }\n    }\n    // Event management\n    on(event, handler) {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, new Set());\n        }\n        this.listeners.get(event)?.add(handler);\n    }\n    off(event, handler) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            eventListeners.delete(handler);\n        }\n    }\n    emit(event) {\n        const eventListeners = this.listeners.get(event);\n        if (eventListeners) {\n            for (const handler of eventListeners) {\n                handler();\n            }\n        }\n    }\n}\n// React hook for Yours Wallet\nexport function useYoursWallet() {\n    const [provider] = React.useState(() => new YoursWalletProvider());\n    const [isInstalled, _setIsInstalled] = React.useState(provider.isWalletInstalled());\n    const [isConnected, setIsConnected] = React.useState(provider.isWalletConnected());\n    const [publicKey, setPublicKey] = React.useState(provider.getPublicKey());\n    const [balance, setBalance] = React.useState(null);\n    React.useEffect(() => {\n        const handleConnected = () => {\n            setIsConnected(true);\n            setPublicKey(provider.getPublicKey());\n            // Fetch balance on connection\n            provider.getBalance().then(setBalance).catch(console.error);\n        };\n        const handleDisconnected = () => {\n            setIsConnected(false);\n            setPublicKey(null);\n            setBalance(null);\n        };\n        provider.on('connected', handleConnected);\n        provider.on('disconnected', handleDisconnected);\n        return () => {\n            provider.off('connected', handleConnected);\n            provider.off('disconnected', handleDisconnected);\n        };\n    }, [provider]);\n    const connect = React.useCallback(async () => {\n        return await provider.connect();\n    }, [provider]);\n    const disconnect = React.useCallback(async () => {\n        await provider.disconnect();\n    }, [provider]);\n    const refreshBalance = React.useCallback(async () => {\n        if (isConnected) {\n            const newBalance = await provider.getBalance();\n            setBalance(newBalance);\n        }\n    }, [provider, isConnected]);\n    return {\n        isInstalled,\n        isConnected,\n        publicKey,\n        balance,\n        connect,\n        disconnect,\n        refreshBalance,\n        provider,\n    };\n}\n// Yours Wallet OAuth authentication handler\n// Integrates with OAuth system like Google/GitHub providers\nexport async function createYoursAuthHandler() {\n    const yoursProvider = new YoursWalletProvider();\n    // Check if Yours Wallet is installed\n    if (!yoursProvider.isWalletInstalled()) {\n        return {\n            success: false,\n            error: 'Yours Wallet not installed. Please install from Chrome Web Store.',\n        };\n    }\n    try {\n        // Connect to wallet\n        const connectResult = await yoursProvider.connect();\n        if (!connectResult.success) {\n            return connectResult;\n        }\n        const publicKey = connectResult.publicKey;\n        if (!publicKey) {\n            return {\n                success: false,\n                error: 'Failed to get public key from wallet connection',\n            };\n        }\n        // Generate challenge for signing\n        const challenge = globalThis.crypto.getRandomValues(new Uint8Array(32));\n        const challengeHex = Array.from(challenge)\n            .map((b) => b.toString(16).padStart(2, '0'))\n            .join('');\n        // Note: This uses OAuth-style authentication flow\n        // Backend handles address derivation and BAP ID lookup via verifyByAddress API\n        // No private key signing required on frontend\n        // Send to backend for OAuth-style authentication\n        // Backend will:\n        // 1. Derive address from public key\n        // 2. Use verifyByAddress API to lookup BAP ID\n        // 3. Create OAuth token for session management\n        // 4. Retrieve encrypted backup if exists\n        const response = await fetch('/api/auth/yours/oauth', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                publicKey,\n                challenge: challengeHex,\n                provider: 'yours', // OAuth provider identifier\n            }),\n        });\n        if (!response.ok) {\n            return {\n                success: false,\n                error: 'OAuth authentication with backend failed',\n            };\n        }\n        const result = await response.json();\n        // Get balance for profile\n        const balance = await yoursProvider.getBalance();\n        return {\n            success: true,\n            idKey: result.idKey, // Backend uses verifyByAddress API to lookup BAP ID\n            encryptedBackup: result.encryptedBackup,\n            oauthToken: result.oauthToken, // OAuth-style token for session management\n            profile: {\n                address: result.address,\n                publicKey,\n                balance: balance || undefined,\n            },\n        };\n    }\n    catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'Unknown error occurred',\n        };\n    }\n    finally {\n        // Clean up connection\n        await yoursProvider.disconnect();\n    }\n}\nexport function YoursInstallPrompt({ onInstalled, className = '' }) {\n    const handleInstall = () => {\n        window.open('https://chromewebstore.google.com/detail/yours-wallet/mlbnicldlpdimbjdcncnklfempedeipj', '_blank');\n    };\n    const handleCheckInstalled = () => {\n        // Re-check after potential installation\n        setTimeout(() => {\n            if (typeof window !== 'undefined' && window.yours) {\n                onInstalled?.();\n            }\n        }, 1000);\n    };\n    return (_jsx(\"div\", { className: `text-center space-y-4 ${className}`, children: _jsxs(\"div\", { className: \"p-4 bg-purple-900/20 border border-purple-500/30 rounded-lg\", children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-purple-300 mb-2\", children: \"Yours Wallet Required\" }), _jsx(\"p\", { className: \"text-gray-300 text-sm mb-4\", children: \"To use Yours Wallet authentication, please install the browser extension.\" }), _jsxs(\"div\", { className: \"space-y-2\", children: [_jsx(\"button\", { type: \"button\", onClick: handleInstall, className: \"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors\", children: \"Install Yours Wallet\" }), _jsx(\"button\", { type: \"button\", onClick: handleCheckInstalled, className: \"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors\", children: \"I've Installed It\" })] })] }) }));\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nexport class HandCashOAuthProvider {\n    constructor(config) {\n        this.listeners = new Set();\n        this.config = config;\n        this.state = {\n            isConnected: false,\n            authToken: null,\n            profile: null,\n            error: null,\n            isLoading: false,\n        };\n    }\n    // Generate OAuth URL for HandCash Connect\n    getOAuthUrl() {\n        const baseUrl = this.config.environment === 'iae' ? 'https://iae-app.handcash.io' : 'https://app.handcash.io';\n        const redirectUrl = this.config.redirectUrl ||\n            (typeof window !== 'undefined' ? `${window.location.origin}/auth/handcash/callback` : '/auth/handcash/callback');\n        const params = new globalThis.URLSearchParams({\n            app: this.config.appId,\n            redirectUrl: redirectUrl,\n        });\n        return `${baseUrl}/oauth/authorize?${params.toString()}`;\n    }\n    // Start OAuth flow\n    async startOAuth() {\n        this.setState({ isLoading: true, error: null });\n        try {\n            // Store state for OAuth flow\n            const oauthState = {\n                timestamp: Date.now(),\n                nonce: globalThis.crypto.getRandomValues(new Uint8Array(16)).toString(),\n            };\n            if (typeof window !== 'undefined') {\n                sessionStorage.setItem('handcash-oauth-state', JSON.stringify(oauthState));\n            }\n            // Redirect to HandCash\n            if (typeof window !== 'undefined') {\n                window.location.href = this.getOAuthUrl();\n            }\n            else {\n                throw new Error('Cannot redirect to HandCash during server-side rendering');\n            }\n        }\n        catch (error) {\n            this.setState({\n                isLoading: false,\n                error: error instanceof Error ? error.message : 'Failed to start OAuth flow',\n            });\n        }\n    }\n    // Handle OAuth callback (call this when user returns from HandCash)\n    async handleCallback(authToken) {\n        if (!authToken) {\n            this.setState({ error: 'No auth token received', isLoading: false });\n            return false;\n        }\n        this.setState({ isLoading: true, error: null });\n        try {\n            // Verify token and get profile\n            const profile = await this.getProfile(authToken);\n            this.setState({\n                isConnected: true,\n                authToken,\n                profile,\n                isLoading: false,\n                error: null,\n            });\n            // Clear OAuth state\n            if (typeof window !== 'undefined') {\n                sessionStorage.removeItem('handcash-oauth-state');\n            }\n            return true;\n        }\n        catch (error) {\n            this.setState({\n                isLoading: false,\n                error: error instanceof Error ? error.message : 'Failed to verify auth token',\n            });\n            return false;\n        }\n    }\n    // Get user profile from backend\n    async getProfile(authToken) {\n        const response = await fetch('/api/auth/handcash/profile', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ authToken }),\n        });\n        if (!response.ok) {\n            throw new Error('Failed to fetch profile');\n        }\n        return await response.json();\n    }\n    // Encrypt data using HandCash encryption\n    async encryptData(data) {\n        if (!this.state.authToken) {\n            throw new Error('Not authenticated');\n        }\n        const response = await fetch('/api/auth/handcash/encrypt', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                authToken: this.state.authToken,\n                data,\n            }),\n        });\n        if (!response.ok) {\n            throw new Error('Failed to encrypt data');\n        }\n        const result = await response.json();\n        return result.encryptedData;\n    }\n    // Decrypt data using HandCash decryption\n    async decryptData(encryptedData) {\n        if (!this.state.authToken) {\n            throw new Error('Not authenticated');\n        }\n        const response = await fetch('/api/auth/handcash/decrypt', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                authToken: this.state.authToken,\n                encryptedData,\n            }),\n        });\n        if (!response.ok) {\n            throw new Error('Failed to decrypt data');\n        }\n        const result = await response.json();\n        return JSON.parse(result.decryptedData);\n    }\n    // Disconnect from HandCash\n    async disconnect() {\n        this.setState({\n            isConnected: false,\n            authToken: null,\n            profile: null,\n            error: null,\n            isLoading: false,\n        });\n        // Clear any stored tokens\n        if (typeof window !== 'undefined') {\n            sessionStorage.removeItem('handcash-auth-token');\n            sessionStorage.removeItem('handcash-oauth-state');\n        }\n    }\n    // Get current state\n    getState() {\n        return { ...this.state };\n    }\n    // Subscribe to state changes\n    subscribe(listener) {\n        this.listeners.add(listener);\n        return () => this.listeners.delete(listener);\n    }\n    // Update state and notify listeners\n    setState(updates) {\n        this.state = { ...this.state, ...updates };\n        for (const listener of this.listeners) {\n            listener(this.state);\n        }\n    }\n}\n// React hook for HandCash OAuth\nexport function useHandCash(config) {\n    const [provider] = React.useState(() => new HandCashOAuthProvider(config));\n    const [state, setState] = React.useState(provider.getState());\n    React.useEffect(() => {\n        const unsubscribe = provider.subscribe(setState);\n        return unsubscribe;\n    }, [provider]);\n    const startOAuth = React.useCallback(async () => {\n        await provider.startOAuth();\n    }, [provider]);\n    const handleCallback = React.useCallback(async (authToken) => {\n        return await provider.handleCallback(authToken);\n    }, [provider]);\n    const encryptData = React.useCallback(async (data) => {\n        return await provider.encryptData(data);\n    }, [provider]);\n    const decryptData = React.useCallback(async (encryptedData) => {\n        return await provider.decryptData(encryptedData);\n    }, [provider]);\n    const disconnect = React.useCallback(async () => {\n        await provider.disconnect();\n    }, [provider]);\n    return {\n        ...state,\n        startOAuth,\n        handleCallback,\n        encryptData,\n        decryptData,\n        disconnect,\n        provider,\n    };\n}\n// HandCash OAuth authentication handler\n// Integrates with OAuth system like Google/GitHub providers\nexport async function createHandCashAuthHandler(config) {\n    try {\n        // Check if we have an authorization code in the config (OAuth callback)\n        if (config.code) {\n            // This is a callback - let backend handle the token exchange and OAuth integration\n            // Backend will:\n            // 1. Exchange authorization code for HandCash access token\n            // 2. Get HandCash profile data\n            // 3. Use verifyByAddress API to lookup BAP ID from paymail/address\n            // 4. Create OAuth session token for our system\n            // 5. Retrieve encrypted backup if exists\n            const response = await fetch('/api/auth/handcash/oauth', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    authorizationCode: config.code,\n                    provider: 'handcash', // OAuth provider identifier\n                    state: config.state, // Include state for CSRF protection\n                    // Don't send appSecret! Backend should have it securely stored\n                }),\n            });\n            if (!response.ok) {\n                return {\n                    success: false,\n                    error: 'Failed to complete HandCash OAuth authentication',\n                };\n            }\n            const result = await response.json();\n            return {\n                success: true,\n                authToken: result.authToken, // HandCash access token\n                oauthToken: result.oauthToken, // Our OAuth system token\n                idKey: result.idKey, // Backend uses verifyByAddress API to lookup BAP ID\n                encryptedBackup: result.encryptedBackup,\n                profile: {\n                    handle: result.profile.handle,\n                    displayName: result.profile.displayName,\n                    paymail: result.profile.paymail,\n                    avatarUrl: result.profile.avatarUrl,\n                    address: result.profile.address,\n                },\n            };\n        }\n        // For HandCash, we need to handle this differently since we don't have the config here\n        // This would normally redirect to HandCash OAuth URL\n        return {\n            success: false,\n            error: 'HandCash OAuth flow must be initiated from the frontend',\n        };\n    }\n    catch (error) {\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : 'HandCash authentication failed',\n        };\n    }\n}\nexport function HandCashConnectPrompt({ onConnect, className = '', config }) {\n    const { startOAuth, isLoading, error } = useHandCash(config);\n    const handleConnect = async () => {\n        await startOAuth();\n        onConnect?.();\n    };\n    return (_jsx(\"div\", { className: `text-center space-y-4 ${className}`, children: _jsxs(\"div\", { className: \"p-4 bg-green-900/20 border border-green-500/30 rounded-lg\", children: [_jsx(\"div\", { className: \"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-3\", children: _jsxs(\"svg\", { className: \"w-6 h-6\", viewBox: \"0 0 24 24\", children: [_jsx(\"title\", { children: \"HandCash\" }), _jsx(\"path\", { fill: \"white\", d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.5 15h-3v-2h3v2zm0-3h-3V7h3v7z\" })] }) }), _jsx(\"h3\", { className: \"text-lg font-semibold text-green-300 mb-2\", children: \"Connect with HandCash\" }), _jsx(\"p\", { className: \"text-gray-300 text-sm mb-4\", children: \"Connect your HandCash wallet to authenticate and manage your Bitcoin identity.\" }), error && (_jsx(\"div\", { className: \"mb-4 p-3 bg-red-900/20 border border-red-500/30 rounded text-red-300 text-sm\", children: error })), _jsx(\"button\", { type: \"button\", onClick: handleConnect, disabled: isLoading, className: \"w-full px-4 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors\", children: isLoading ? 'Connecting...' : 'Connect HandCash Wallet' })] }) }));\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React","ReactDOM"],"mappings":"4CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,+sBCwBjCN,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEU,eAAe,+BCFxCb,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEW,KAAK,+BCF9Bd,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEY,QAAQ,wrDCDjC,EAAA,CAAA,CAAA,OACA,GAAI,SAAE,CAAO,UAAE,CAAQ,CAAE,CAAG,AAD5B,EAAA,CAAA,CAAA,OAC4B,KAAK,CAOjC,eAAe,EAAU,CAAU,CAAE,CAAI,CAAE,KAA0C,EACnF,IAAM,EADgD,AAC9B,WAAW,IAAI,CAAC,EAAQ,EAAY,SACtD,EAAc,MAAM,WAAW,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,MAAO,EAAiB,CAAE,KAAM,QAAS,GAAG,EAAO,CAAC,YAAY,EAC7H,OAAO,WAAW,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CACxC,KAAM,cACN,aACA,EACA,KAAM,SACR,EAAG,EAAa,CAAE,KAAM,UAAW,OATX,CASmB,EAAoB,GAAG,EAAO,CAAC,UAAW,UAAU,CACjG,CACA,eAAe,EAAY,CAAO,CAAE,CAAU,CAAE,CAAU,EACxD,IAAM,EAAO,WAAW,MAAM,CAAC,eAAe,CAAC,IAAI,WAAW,KACxD,EAAK,WAAW,MAAM,CAAC,eAAe,CAAC,IAAI,WAAW,AAdxC,KAed,EAAM,MAAM,EAAU,EAAY,EAAM,GAKxC,EAAc,KAAK,SAAS,CAJT,AAIU,CAHjC,GAAG,CAAO,CACV,UAAW,EAAQ,SAAS,EAAI,IAAI,OAAO,WAAW,EACxD,GAEM,EAAgB,IAAI,cAAc,MAAM,CAAC,GACzC,EAAmB,MAAM,WAAW,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAE,KAAM,aAAW,CAAG,EAAG,EAAK,GACxF,EAAW,IAAI,WAAW,EAAK,MAAM,CAAG,EAAG,MAAM,CAAG,EAAiB,UAAU,EAIrF,OAHA,EAAS,GAAG,CAAC,EAAM,GACnB,EAAS,GAAG,CAAC,EAAI,EAAK,MAAM,EAC5B,EAAS,GAAG,CAAC,IAAI,WAAW,GAAmB,EAAK,MAAM,CAAG,EAAG,MAAM,EAC/D,EAAS,MAAM,IAAI,CAAC,GAC7B,CACA,eAAe,EAAY,CAAe,CAAE,CAAU,CAAE,CAAiB,MACnE,EACJ,GAAI,CACF,EAAuB,EAAQ,EAAiB,SAClD,CAAE,MAAO,EAAO,CAEd,MADA,QAAQ,KAAK,CAAC,kDAAmD,GAC3D,AAAI,MAAM,2CAClB,CACA,GAAI,EAAgB,MAAM,CAAG,GAAqC,GAAG,CAAnC,EAAqB,MAAM,CAC3D,MAAU,AAAJ,MAAU,+DAElB,IAAM,EAAgB,WAAW,IAAI,CAAC,GACtC,GAAI,EAAc,MAAM,CAAG,GACzB,MAAM,AAAI,MAAM,KAD6B,iBAAiB,6BAGhE,IAAM,EAAO,EAAc,KAAK,CAAC,GAAG,GAC9B,EAAK,EAAc,KAAK,CAAC,AA9CT,GA8C4B,IAC5C,EAAsB,EAAc,KAAK,CAAC,IAC1C,EAFgE,AAEZ,UAA7B,IADuC,GAChC,EAAiC,CAAC,EAAkB,CAAG,MAAM,OAAO,CAAC,GAAqB,EAAoB,SAAyD,CACvM,EAAY,KAChB,IAAK,IAAM,KAAc,EACvB,GAAI,CACF,IAAM,EAAM,MAAM,EAAU,CAFe,CAEH,EAAM,GACxC,EAAuB,MAAM,WAAW,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAE,KAAM,aAAW,CAAG,EAAG,EAAK,GAC5F,EAAkB,IAAI,cAAc,MAAM,CAAC,GACjD,GAAI,CACF,IAAM,EAAa,KAAK,KAAK,CAAC,GAC9B,GAA0B,UAAtB,OAAO,GAA0C,MAAM,CAArB,IAChC,SAAU,GAAc,QAAS,GAAc,aAAc,GAE7D,WAAY,GAAc,QAAS,GAEnC,QAAS,CADX,EACyB,KADlB,EAC0B,GAE/B,SADF,CACa,GAAc,GADpB,OAC+B,GAAc,eAAgB,GAElE,QAAS,CADX,EACyB,CAAC,CAAC,GADpB,IAC4B,CAAA,CAAU,EAAK,CAAC,CAAC,SAAU,CAAA,CAAU,EAAK,CAAC,CAAC,WAAY,CAAA,CAAU,EAPrG,CAQA,MARO,CAQA,AAEX,OAAM,AAAI,MAAM,6CAClB,CAAE,MAAO,EAAW,CAClB,GAAI,aAAqB,YACvB,MAAO,CAAE,IAAK,CAAgB,CAChC,OAAM,CACR,CACF,CAAE,MAAO,EAAiB,CAExB,GADA,EAAY,EACR,aAA2B,cAAgB,AAAyB,kBAAkB,GAA3B,IAAI,CACjE,QAEF,OAAM,CACR,CAGF,GADA,QAAQ,KAAK,CAAC,8CAA+C,GACzD,GAAgC,kBAAkB,CAArC,EAAU,IAAI,CAC7B,MAAM,AAAI,MAAM,iGAElB,OAAM,GAAa,AAAI,MAAM,iGAC/B,CAwBA,eAAe,EAAc,CAAO,CAAE,CAAU,CAAE,CAAU,EAC1D,GAAI,CAAC,CArBL,GAAmC,CAA/B,CAAC,QACH,AADc,OACP,AADc,IAGnB,UAAU,EAAuB,UAAlB,OAAO,EAAE,IAAI,EAAiB,SAAS,EAAsB,UAAjB,OAAO,EAAE,GAAG,EAAiB,aAkBxE,CAlBsF,EAA2B,OAkBvG,GAlBiF,AAAgC,OAAzB,EAAE,QAAQ,EAG5H,YAAY,EAAyB,UAApB,OAAO,EAAE,MAAM,EAAiB,SAAS,EAAsB,UAAjB,EAA6B,CAAC,IAAvB,EAAE,GAAG,IAAmB,UAAU,CAAC,EAGzG,CAH4G,QAGnG,EAAsB,UAAjB,OAAO,EAAE,GAAG,EAAiB,QAAQ,EAAqB,UAAhB,AAA0B,OAAnB,EAAE,EAAE,EAGnE,SAAS,EAAsB,UAAjB,EAA6B,CAAC,IAAvB,EAAE,GAAG,IAAmB,QAAQ,CAAC,IAAO,CAAF,CAAC,QAAW,CAAC,IAAO,CAAF,CAAC,UAAa,CAAC,EAG5F,CAH+F,UAGpF,EAAwB,UAAnB,OAAO,EAAE,KAAK,EAAiB,WAAW,EAAwB,UAAnB,OAAO,EAAE,KAAK,EAAiB,gBAAgB,EAA6B,UAAxB,AAAkC,OAA3B,EAAE,UAAU,CAdjI,EAqBP,MAAM,AAAI,MAAM,+HAElB,GAAI,AAAsB,iBAAf,GAAiD,GAAG,CAAzB,EAAW,MAAM,CACrD,MAAM,AAAI,MAAM,8DAElB,GAAI,EAAW,MAAM,CAAG,EACtB,CADyB,KACnB,AAAI,MAAM,sEAElB,OAAO,EAAY,EAAS,EAAY,EAC1C,CACA,eAAe,EAAc,CAAe,CAAE,CAAU,CAAE,CAAiB,EACzE,GAA+B,UAA3B,OAAO,GAA2D,GAAG,CAA9B,EAAgB,MAAM,CAC/D,MAAM,AAAI,MAAM,wDAElB,GAAI,AAAsB,iBAAf,GAAiD,GAAG,CAAzB,EAAW,MAAM,CACrD,MAAM,AAAI,MAAM,8DAElB,OAAO,EAAY,EAAiB,EAAY,EAClD,yEAtI+B,wCADK,0ECHpC,IAAA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,MAEO,OAAM,EACT,aAAc,CACV,IAAI,CAAC,QAAQ,CAAG,KAChB,IAAI,CAAC,WAAW,EAAG,EACnB,IAAI,CAAC,WAAW,EAAG,EACnB,IAAI,CAAC,SAAS,CAAG,KACjB,IAAI,CAAC,SAAS,CAAG,IAAI,IACrB,IAAI,CAAC,iBAAiB,GACtB,IAAI,CAAC,mBAAmB,EAC5B,CACA,mBAAoB,CAChB,IAAI,CAAC,WAAW,EAAG,EACf,IAAI,CAAC,WAAW,EAAI,OAAO,KAAK,EAAE,CAClC,IAAI,CAAC,QAAQ,CAAG,CAFiB,MAEV,KAAA,AAAK,CAEpC,CACA,EALwD,CAAC,CAAC,OAAO,KAAK,KAKhD,CAClB,GAAI,CAAC,IAAI,CAAC,QAAQ,CACd,OACJ,IAAM,EAAsB,KACxB,IAAI,CAAC,SAAS,CAAG,KACjB,IAAI,CAAC,WAAW,EAAG,EACnB,IAAI,CAAC,IAAI,CAAC,eACd,EACM,EAAkB,KACpB,IAAI,CAAC,SAAS,CAAG,KACjB,IAAI,CAAC,WAAW,EAAG,EACnB,IAAI,CAAC,IAAI,CAAC,eACd,EACA,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,gBAAiB,GAClC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,YAAa,EAClC,CACA,mBAAoB,CAChB,OAAO,IAAI,CAAC,WAAW,AAC3B,CACA,MAAM,SAAU,CACZ,GAAI,CAAC,IAAI,CAAC,WAAW,EAAI,CAAC,IAAI,CAAC,QAAQ,CACnC,CADqC,KAC9B,CACH,SAAS,EACT,MAAO,mEACX,EAEJ,GAAI,CACA,IAAM,EAAY,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,GAI7C,OAHA,IAAI,CAAC,SAAS,CAAG,EACjB,IAAI,CAAC,WAAW,EAAG,EACnB,IAAI,CAAC,IAAI,CAAC,aACH,CAAE,SAAS,YAAM,CAAU,CACtC,CACA,MAAO,EAAO,CACV,MAAO,CACH,SAAS,EACT,MAAO,aAAiB,MAAQ,EAAM,OAAO,CAAG,mCACpD,CACJ,CACJ,CACA,MAAM,YAAa,CACf,GAAK,CAAD,GAAK,CAAC,QAAQ,CAElB,CADI,EACA,CACA,MAAM,IAAI,CAAC,QAAQ,CAAC,UAAU,GAC9B,IAAI,CAAC,SAAS,CAAG,KACjB,IAAI,CAAC,WAAW,EAAG,EACnB,IAAI,CAAC,IAAI,CAAC,eACd,CACA,MAAO,EAAO,CACV,QAAQ,KAAK,CAAC,yCAA0C,EAC5D,CACJ,CACA,cAAe,CACX,OAAO,IAAI,CAAC,SAAS,AACzB,CACA,mBAAoB,CAChB,OAAO,IAAI,CAAC,WAAW,EAAI,CAAC,CAAC,IAAI,CAAC,SAAS,AAC/C,CACA,MAAM,YAAa,CACf,GAAI,CAAC,IAAI,CAAC,QAAQ,EAAI,CAAC,IAAI,CAAC,WAAW,CACnC,OAAO,KACX,GAAI,CACA,OAAO,MAAM,IAAI,CAAC,QAAQ,CAAC,UAAU,EACzC,CACA,MAAO,EAAO,CAEV,OADA,QAAQ,KAAK,CAAC,yBAA0B,GACjC,IACX,CACJ,CAEA,GAAG,CAAK,CAAE,CAAO,CAAE,CACX,AAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IACpB,IAD4B,AACxB,CAAC,SAAS,CAAC,GAAG,CAAC,EAAO,IAAI,KAElC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAQ,IAAI,EACnC,CACA,IAAI,CAAK,CAAE,CAAO,CAAE,CAChB,IAAM,EAAiB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GACtC,GACA,EAAe,MAAM,CAAC,EAE9B,CACA,CAJwB,IAInB,CAAK,CAAE,CACR,IAAM,EAAiB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAC1C,GAAI,EACA,IAAK,IAAM,KAAW,CADN,CAEZ,GAGZ,CACJ,CAEO,QAP2C,CAOlC,IACZ,GAAM,CAAC,EAAS,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,IAAM,IAAI,GACtC,CAAC,EAAa,EAAgB,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,EAAS,iBAAiB,IAC1E,CAAC,EAAa,EAAe,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,EAAS,iBAAiB,IACzE,CAAC,EAAW,EAAa,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,EAAS,YAAY,IAChE,CAAC,EAAS,EAAW,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,MAC7C,EAAA,OAAK,CAAC,SAAS,CAAC,KACZ,IAAM,EAAkB,KACpB,GAAe,GACf,EAAa,EAAS,YAAY,IAElC,EAAS,UAAU,GAAG,IAAI,CAAC,GAAY,KAAK,CAAC,QAAQ,KAAK,CAC9D,EACM,EAAqB,KACvB,GAAe,GACf,EAAa,MACb,EAAW,KACf,EAGA,OAFA,EAAS,EAAE,CAAC,YAAa,GACzB,EAAS,EAAE,CAAC,eAAgB,GACrB,KACH,EAAS,GAAG,CAAC,YAAa,GAC1B,EAAS,GAAG,CAAC,eAAgB,EACjC,CACJ,EAAG,CAAC,EAAS,EACb,IAAM,EAAU,EAAA,OAAK,CAAC,WAAW,CAAC,SACvB,MAAM,EAAS,OAAO,GAC9B,CAAC,EAAS,EACP,EAAa,EAAA,OAAK,CAAC,WAAW,CAAC,UACjC,MAAM,EAAS,UAAU,EAC7B,EAAG,CAAC,EAAS,EACP,EAAiB,EAAA,OAAK,CAAC,WAAW,CAAC,UACjC,GAEA,EADmB,MAAM,EADZ,AACqB,CACvB,SADiC,GAGpD,EAAG,CAAC,EAAU,EAAY,EAC1B,MAAO,aACH,cACA,YACA,UACA,UACA,aACA,iBACA,EACA,UACJ,CACJ,CAGO,eAAe,IAClB,IAAM,EAAgB,IAAI,EAE1B,GAAI,CAAC,EAAc,iBAAiB,GAChC,CADoC,KAC7B,CACH,SAAS,EACT,MAAO,mEACX,EAEJ,GAAI,CAEA,IAAM,EAAgB,MAAM,EAAc,OAAO,GACjD,GAAI,CAAC,EAAc,OAAO,CACtB,CADwB,MACjB,EAEX,IAAM,EAAY,EAAc,SAAS,CACzC,GAAI,CAAC,EACD,MAAO,CACH,EAFQ,OAEC,EACT,MAAO,iDACX,EAGJ,IAAM,EAAY,WAAW,MAAM,CAAC,eAAe,CAAC,IAAI,WAAW,KAC7D,EAAe,MAAM,IAAI,CAAC,GAC3B,GAAG,CAAC,AAAC,GAAM,EAAE,QAAQ,CAAC,IAAI,QAAQ,CAAC,EAAG,MACtC,IAAI,CAAC,IAUJ,EAAW,MAAM,MAAM,wBAAyB,CAClD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,WACjB,EACA,UAAW,EACX,SAAU,OACd,EACJ,GACA,GAAI,CAAC,EAAS,EAAE,CACZ,CADc,KACP,CACH,SAAS,EACT,MAAO,0CACX,EAEJ,IAAM,EAAS,MAAM,EAAS,IAAI,GAE5B,EAAU,MAAM,EAAc,UAAU,GAC9C,MAAO,CACH,SAAS,EACT,MAAO,EAAO,KAAK,CACnB,gBAAiB,EAAO,eAAe,CACvC,WAAY,EAAO,UAAU,CAC7B,QAAS,CACL,QAAS,EAAO,OAAO,CACvB,YACA,QAAS,QAAW,CACxB,CACJ,CACJ,CACA,MAAO,EAAO,CACV,MAAO,CACH,SAAS,EACT,MAAO,aAAiB,MAAQ,EAAM,OAAO,CAAG,wBACpD,CACJ,QACQ,CAEJ,MAAM,EAAc,UAAU,EAClC,CACJ,CACO,SAAS,EAAmB,aAAE,CAAW,WAAE,EAAY,EAAE,CAAE,EAY9D,MAAQ,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,MAAO,CAAE,UAAW,CAAC,sBAAsB,EAAE,EAAA,CAAW,CAAE,SAAU,CAAA,EAAA,EAAA,IAAA,AAAK,EAAC,MAAO,CAAE,UAAW,8DAA+D,SAAU,CAAC,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,KAAM,CAAE,UAAW,6CAA8C,SAAU,uBAAwB,GAAI,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,IAAK,CAAE,UAAW,6BAA8B,SAAU,2EAA4E,GAAI,CAAA,EAAA,EAAA,IAAA,AAAK,EAAC,MAAO,CAAE,UAAW,YAAa,SAAU,CAAC,CAAA,EAAA,EAAA,GAAI,AAAJ,EAAK,SAAU,CAAE,KAAM,SAAU,QAX7e,CAWsf,IAVxgB,OAAO,IAAI,CAAC,yFAA0F,SAC1G,EAS2hB,UAAW,6FAA8F,SAAU,sBAAuB,GAAI,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,SAAU,CAAE,KAAM,SAAU,QAR7qB,CAQsrB,IAN/sB,WAAW,KAIX,EAAG,IACP,EACyuB,UAAW,yFAA0F,SAAU,mBAAoB,GAAG,AAAC,GAAG,AAAC,EAAG,EAC33B,6IClQA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACO,OAAM,EACT,YAAY,CAAM,CAAE,CAChB,IAAI,CAAC,SAAS,CAAG,IAAI,IACrB,IAAI,CAAC,MAAM,CAAG,EACd,IAAI,CAAC,KAAK,CAAG,CACT,aAAa,EACb,UAAW,KACX,QAAS,KACT,MAAO,KACP,WAAW,CACf,CACJ,CAEA,aAAc,CACV,IAAM,EAAsC,QAA5B,IAAI,CAAC,MAAM,CAAC,WAAW,CAAa,8BAAgC,0BAC9E,EAAc,IAAI,CAAC,MAAM,CAAC,WAAW,EAC+C,EAAtF,CAAC,sBAA8G,CAC7G,EAAS,IAAI,SADkB,EACP,eAAe,CAAC,CAC1C,IAAK,IAAI,CAAC,MAAM,CAAC,KAAK,CACtB,YAAa,CACjB,GACA,MAAO,CAAA,EAAG,EAAQ,iBAAiB,EAAE,EAAO,QAAQ,GAAA,CAAI,AAC5D,CAEA,MAAM,YAAa,CACf,IAAI,CAAC,QAAQ,CAAC,CAAE,WAAW,EAAM,MAAO,IAAK,GAC7C,GAAI,CAcI,MAXW,KAAK,GAAG,GACZ,WAAW,MAAM,CAAC,eAAe,CAAC,IAAI,WAAW,KAAK,QAAQ,GAU/D,AAAI,MAAM,2DAExB,CACA,MAAO,EAAO,CACV,IAAI,CAAC,QAAQ,CAAC,CACV,WAAW,EACX,MAAO,aAAiB,MAAQ,EAAM,OAAO,CAAG,4BACpD,EACJ,CACJ,CAEA,MAAM,eAAe,CAAS,CAAE,CAC5B,GAAI,CAAC,EAED,OADA,EADY,EACR,CAAC,QAAQ,CAAC,CAAE,MAAO,yBAA0B,WAAW,CAAM,IAC3D,EAEX,IAAI,CAAC,QAAQ,CAAC,CAAE,WAAW,EAAM,MAAO,IAAK,GAC7C,GAAI,CAEA,IAAM,EAAU,MAAM,IAAI,CAAC,UAAU,CAAC,GAYtC,OAXA,IAAI,CAAC,QAAQ,CAAC,CACV,YAAa,GACb,oBACA,EACA,WAAW,EACX,MAAO,IACX,IAKO,CACX,CACA,MAAO,EAAO,CAKV,OAJA,IAAI,CAAC,QAAQ,CAAC,CACV,UAAW,GACX,MAAO,aAAiB,MAAQ,EAAM,OAAO,CAAG,6BACpD,IACO,CACX,CACJ,CAEA,MAAM,WAAW,CAAS,CAAE,CACxB,IAAM,EAAW,MAAM,MAAM,6BAA8B,CACvD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,WAAE,CAAU,EACrC,GACA,GAAI,CAAC,EAAS,EAAE,CACZ,CADc,KACR,AAAI,MAAM,2BAEpB,OAAO,MAAM,EAAS,IAAI,EAC9B,CAEA,MAAM,YAAY,CAAI,CAAE,CACpB,GAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CACrB,CADuB,KACb,AAAJ,MAAU,qBAEpB,IAAM,EAAW,MAAM,MAAM,6BAA8B,CACvD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACjB,UAAW,IAAI,CAAC,KAAK,CAAC,SAAS,MAC/B,CACJ,EACJ,GACA,GAAI,CAAC,EAAS,EAAE,CACZ,CADc,KACR,AAAI,MAAM,0BAGpB,MADe,AACR,OADc,EAAS,IAAI,EAAA,EACpB,aAClB,AAD+B,CAG/B,MAAM,YAAY,CAAa,CAAE,CAC7B,GAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CACrB,CADuB,KACjB,AAAI,MAAM,qBAEpB,IAAM,EAAW,MAAM,MAAM,6BAA8B,CACvD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACjB,UAAW,IAAI,CAAC,KAAK,CAAC,SAAS,eAC/B,CACJ,EACJ,GACA,GAAI,CAAC,EAAS,EAAE,CACZ,CADc,KACR,AAAI,MAAM,0BAGpB,OAAO,KAAK,KAAK,CAAC,CADH,MAAM,EAAS,IAAI,EAAA,EACT,aAAa,CAC1C,CAEA,MAAM,YAAa,CACf,IAAI,CAAC,QAAQ,CAAC,CACV,aAAa,EACb,UAAW,KACX,QAAS,KACT,MAAO,KACP,UAAW,EACf,EAMJ,CAEA,UAAW,CACP,MAAO,CAAE,GAAG,IAAI,CAAC,KAAK,AAAC,CAC3B,CAEA,UAAU,CAAQ,CAAE,CAEhB,OADA,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GACZ,IAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EACvC,CAEA,SAAS,CAAO,CAAE,CAEd,IAAK,IAAM,KADX,IAAI,CAAC,KAAK,CAAG,CAAE,GAAG,IAAI,CAAC,KAAK,CAAE,GAAG,CAAO,AAAC,EAClB,IAAI,CAAC,SAAS,CAAE,CACnC,EAAS,IAAI,CAAC,KAAK,CAE3B,CACJ,CAEO,SAAS,EAAY,CAAM,EAC9B,GAAM,CAAC,EAAS,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,IAAM,IAAI,EAAsB,IAC5D,CAAC,EAAO,EAAS,CAAG,EAAA,OAAK,CAAC,QAAQ,CAAC,EAAS,QAAQ,IAC1D,EAAA,OAAK,CAAC,SAAS,CAAC,IACQ,EAAS,SAAS,CAAC,GAExC,CAAC,EAAS,EACb,IAAM,EAAa,EAAA,OAAK,CAAC,WAAW,CAAC,UACjC,MAAM,EAAS,UAAU,EAC7B,EAAG,CAAC,EAAS,EACP,EAAiB,EAAA,OAAK,CAAC,WAAW,CAAC,MAAO,GACrC,MAAM,EAAS,cAAc,CAAC,GACtC,CAAC,EAAS,EACP,EAAc,EAAA,OAAK,CAAC,WAAW,CAAC,MAAO,GAClC,MAAM,EAAS,WAAW,CAAC,GACnC,CAAC,EAAS,EACP,EAAc,EAAA,OAAK,CAAC,WAAW,CAAC,MAAO,GAClC,MAAM,EAAS,WAAW,CAAC,GACnC,CAAC,EAAS,EACP,EAAa,EAAA,OAAK,CAAC,WAAW,CAAC,UACjC,MAAM,EAAS,UAAU,EAC7B,EAAG,CAAC,EAAS,EACb,MAAO,CACH,GAAG,CAAK,YACR,iBACA,cACA,cACA,aACA,WACA,CACJ,CACJ,CAGO,eAAe,EAA0B,CAAM,EAClD,GAAI,CAEA,GAAI,EAAO,IAAI,CAAE,CAQb,IAAM,EAAW,MAAM,MAAM,2BAA4B,CACrD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACjB,kBAAmB,EAAO,IAAI,CAC9B,SAAU,WACV,MAAO,EAAO,KAAK,AAEvB,EACJ,GACA,GAAI,CAAC,EAAS,EAAE,CACZ,CADc,KACP,CACH,SAAS,EACT,MAAO,kDACX,EAEJ,IAAM,EAAS,MAAM,EAAS,IAAI,GAClC,MAAO,CACH,SAAS,EACT,UAAW,EAAO,SAAS,CAC3B,WAAY,EAAO,UAAU,CAC7B,MAAO,EAAO,KAAK,CACnB,gBAAiB,EAAO,eAAe,CACvC,QAAS,CACL,OAAQ,EAAO,OAAO,CAAC,MAAM,CAC7B,YAAa,EAAO,OAAO,CAAC,WAAW,CACvC,QAAS,EAAO,OAAO,CAAC,OAAO,CAC/B,UAAW,EAAO,OAAO,CAAC,SAAS,CACnC,QAAS,EAAO,OAAO,CAAC,OAC5B,AADmC,CAEvC,CACJ,CAGA,MAAO,CACH,SAAS,EACT,MAAO,yDACX,CACJ,CACA,MAAO,EAAO,CACV,MAAO,CACH,SAAS,EACT,MAAO,aAAiB,MAAQ,EAAM,OAAO,CAAG,gCACpD,CACJ,CACJ,CACO,SAAS,EAAsB,WAAE,CAAS,WAAE,EAAY,EAAE,QAAE,CAAM,CAAE,EACvE,GAAM,YAAE,CAAU,WAAE,CAAS,OAAE,CAAK,CAAE,CAAG,EAAY,GAC/C,EAAgB,UAClB,MAAM,IACN,KACJ,EACA,MAAQ,CAAA,EAAA,EAAA,GAAI,AAAJ,EAAK,MAAO,CAAE,UAAW,CAAC,sBAAsB,EAAE,EAAA,CAAW,CAAE,SAAU,CAAA,EAAA,EAAA,IAAA,AAAK,EAAC,MAAO,CAAE,UAAW,4DAA6D,SAAU,CAAC,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,MAAO,CAAE,UAAW,oFAAqF,SAAU,CAAA,EAAA,EAAA,IAAA,AAAK,EAAC,MAAO,CAAE,UAAW,UAAW,QAAS,YAAa,SAAU,CAAC,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,QAAS,CAAE,SAAU,UAAW,GAAI,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,OAAQ,CAAE,KAAM,QAAS,EAAG,oGAAqG,GAAG,AAAC,EAAG,GAAI,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,KAAM,CAAE,UAAW,4CAA6C,SAAU,uBAAwB,GAAI,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,IAAK,CAAE,UAAW,6BAA8B,SAAU,gFAAiF,GAAI,GAAU,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,MAAO,CAAE,UAAW,+EAAgF,SAAU,CAAM,GAAK,CAAA,EAAA,EAAA,GAAA,AAAI,EAAC,SAAU,CAAE,KAAM,SAAU,QAAS,EAAe,SAAU,EAAW,UAAW,2IAA4I,SAAU,EAAY,gBAAkB,yBAA0B,GAAG,AAAC,EAAG,EACpuC","ignoreList":[0,1,2,3,4,5,6,7,8,9]}